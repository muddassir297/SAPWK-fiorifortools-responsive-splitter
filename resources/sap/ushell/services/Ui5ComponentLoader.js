// @copyright@
sap.ui.define(["sap/ushell/services/Ui5ComponentHandle"],function(U){"use strict";function a(c,p,C){this._oConfig=(C&&C.config)||{};function g(u){var P=jQuery.sap.getUriParameters(u).mParams,x=P["sap-xapp-state"],r;delete P["sap-xapp-state"];r={startupParameters:P};if(x){r["sap-xapp-state"]=x;}return r;}this.createComponent=function(A,P,w){var d=new jQuery.Deferred(),s=window["sap-ui-debug"]===true?"sap/fiori/core-ext-light-dbg.js":"sap/fiori/core-ext-light.js",b=A&&A.url,o,l=true,e=jQuery.sap.isDeclared('sap.fiori.core',true)||jQuery.sap.isDeclared('sap.fiori.core-ext-light',true),L=true,f=A&&A.applicationDependencies||{},i,u,h,j=(this._oConfig&&this._oConfig.hasOwnProperty("amendedLoading"))?this._oConfig.amendedLoading:true,k=false;if(jQuery.isArray(f.messages)){f.messages.forEach(function(m){var S=String.prototype.toLowerCase.call(m.severity||"");S=["trace","debug","info","warning","error","fatal"].indexOf(S)!==-1?S:"error";jQuery.sap.log[S](m.text,m.details,f.name);});}if(A&&A.ui5ComponentName){o=jQuery.extend(true,{},A.applicationDependencies);h=jQuery.extend(true,{startupParameters:{}},A.componentData);if(b){i=b.indexOf("?");if(i>=0){u=g(b);h.startupParameters=u.startupParameters;if(u["sap-xapp-state"]){h["sap-xapp-state"]=u["sap-xapp-state"];}b=b.slice(0,i);}}if(A.applicationConfiguration){h.config=jQuery.extend(true,{},A.applicationConfiguration);}o.componentData=h;if(A.hasOwnProperty("loadDefaultDependencies")){L=A.loadDefaultDependencies;delete A.loadDefaultDependencies;}if(this._oConfig&&this._oConfig.hasOwnProperty("loadDefaultDependencies")){L=L&&this._oConfig.loadDefaultDependencies;}L=L&&j;if(!o.asyncHints){o.asyncHints=L?{"libs":["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"]}:{};}if(A.hasOwnProperty("loadCoreExt")){l=A.loadCoreExt;delete A.loadCoreExt;}if(l&&j&&!e){o.asyncHints.preloadBundles=o.asyncHints.preloadBundles||[];o.asyncHints.preloadBundles.push(s);}k=l&&(l||e||(j===false));if(w){o.asyncHints.waitFor=w;}if(!o.name){o.name=A.ui5ComponentName;}if(b){o.url=b;}o.async=true;if(P){o.id="application-"+P.semanticObject+"-"+P.action+"-component";U.onBeforeApplicationInstanceCreated(o);}sap.ui.component(o).then(function(m){A.componentHandle=new U(m);if(k){A.coreResourcesFullyLoaded=true;}d.resolve(A);},function(E){var m="Failed to load UI5 component with properties '"+JSON.stringify(o)+"'.",D;if(typeof E==="object"&&E.stack){D=E.stack;}else{D=E;}jQuery.sap.log.error(m,D,"sap.ushell.services.Ui5ComponentLoader");d.reject(E);});}else{d.resolve(A);}return d.promise();};};a.hasNoAdapter=true;return a;},true);
