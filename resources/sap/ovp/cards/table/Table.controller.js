(function(){"use strict";sap.ui.controller("sap.ovp.cards.table.Table",{onInit:function(){},onColumnListItemPress:function(e){var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(e.getSource().getBindingContext(),n[0]);},getCardItemsBinding:function(){var t=this.getView().byId("ovpTable");return t.getBinding("items");},onAfterRendering:function(){var t=this.getView().byId("ovpTable");var a=t.getAggregation("columns");for(var c=0;c<3;c++){if(a[c]){a[c].setStyleClass("sapTableColumnShow").setVisible(true);}}},getCardItemBindingInfo:function(){var l=this.getView().byId("ovpTable");return l.getBindingInfo("items");},addColumnInTable:function($,c){if(c.colSpan>=1){if(jQuery($).find("tr").length!=0){var t=sap.ui.getCore().byId(jQuery($).find(".sapMList").attr("id"));var a=t.getAggregation("columns");var C=c.colSpan;var I=C+1;for(var i=0;i<6;i++){if(a[i]){if(i<=I){a[i].setStyleClass("sapTableColumnShow").setVisible(true);}else{a[i].setStyleClass("sapTableColumnHide").setVisible(false);}}}t.rerender();}}},resizeCard:function(n){var N,a;try{var c=this.getCardPropertiesModel(),b=this.getCardItemBindingInfo(),d=this.oDashboardLayoutUtil.calculateCardProperties(this.cardId),$=jQuery('#'+this.oDashboardLayoutUtil.getCardDomId(this.cardId));a=n.rowSpan*n.iRowHeightPx-(d.headerHeight+d.dropDownHeight+d.itemHeight+2*n.iCardBorderPx);if(d.itemHeight){N=Math.floor(a/d.itemHeight);}this.addColumnInTable($,n);jQuery($).find(".sapOvpWrapper").css({height:((n.rowSpan*n.iRowHeightPx)-(d.headerHeight+2*n.iCardBorderPx))+"px"});c.setProperty("/cardLayout/rowSpan",n.rowSpan);c.setProperty("/cardLayout/colSpan",n.colSpan);c.setProperty("/cardLayout/noOfItems",N);b.length=N<1?1:N;this.getCardItemsBinding().refresh();}catch(e){jQuery.sap.log.warning("OVP resize: "+this.cardId+" catch "+e.toString());}}});})();
