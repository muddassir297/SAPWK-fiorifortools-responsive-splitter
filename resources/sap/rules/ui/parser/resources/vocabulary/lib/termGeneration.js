jQuery.sap.declare("sap.rules.ui.parser.resources.vocabulary.lib.termGeneration");jQuery.sap.require("sap.rules.ui.parser.infrastructure.util.utilsBase");jQuery.sap.require("sap.rules.ui.parser.resources.vocabulary.lib.constants");jQuery.sap.require("sap.rules.ui.parser.resources.vocabulary.lib.vocaObjects");jQuery.sap.require("sap.rules.ui.parser.resources.vocabulary.lib.vocabularyDataProviderFactory");sap.rules.ui.parser.resources.vocabulary.lib.termGeneration=sap.rules.ui.parser.resources.vocabulary.lib.termGeneration||{};sap.rules.ui.parser.resources.vocabulary.lib.termGeneration.lib=(function(){var a=sap.rules.ui.parser.infrastructure.util.utilsBase.lib;var b=new a.utilsBaseLib();var v=sap.rules.ui.parser.resources.vocabulary.lib.constants.lib;var c=sap.rules.ui.parser.resources.vocabulary.lib.vocaObjects.lib;function t(){}t.prototype.generate=function(r,d,e,f,g,h,k,s,w){var l=false;var m=null;var n=null;var o=null;var p=null;var q=sap.rules.ui.parser.resources.vocabulary.lib.vocabularyDataProviderFactory.lib;o=new q.vocaDataProviderFactoryLib();if(w){jQuery.sap.require("sap.rules.ui.parser.resources.dependencies.lib.constants");p=sap.rules.ui.parser.resources.dependencies.lib.constants.lib;jQuery.sap.require("sap.rules.ui.parser.resources.dependencies.lib.dependenciesUtils");m=sap.rules.ui.parser.resources.dependencies.lib.dependenciesUtils;jQuery.sap.require("sap.rules.ui.parser.resources.dependencies.lib.dependencyManager");n=sap.rules.ui.parser.resources.dependencies.lib.dependencyManager.DependencyManager;}function u(j,Y,Z){var i;var $;var _=null;_=j;for(i=0;i<Y.length;i++){$=Y[i];_+='.'+$.name;}if(Z){_+='.'+Z;}return _;}function x(j,Y){var i;for(i=0;i<j.length;i++){if(j[i].id===Y.id){return true;}}return false;}function y(i){if(i.indexOf('i')===0||i.indexOf('I')===0||i.indexOf('a')===0||i.indexOf('A')===0||i.indexOf('e')===0||i.indexOf('E')===0||i.indexOf('o')===0||i.indexOf('O')===0||i.indexOf('u')===0||i.indexOf('U')===0){return true;}return false;}function z(i,j){return i.indexOf(j,i.length-j.length)!==-1;}function A(i){if(z(i,'s')){return'es';}return's';}function B(i){if((i.slice(-1).toLowerCase()!==i.slice(-1))||z(i.toLowerCase(),'z')||(z(i.toLowerCase(),'y')&&!y(i.slice(-2)))||z(i.toLowerCase(),'ch')||z(i.toLowerCase(),'sh')||z(i.toLowerCase(),'x')||z(i.toLowerCase(),'f')||z(i.toLowerCase(),'fe')){return true;}return false;}function C(i){var j=i.split(" ");var Y=j[j.length-1];var Z=new RegExp("[A-Za-z]$");var $=i;if(Z.test(Y)){if(z(Y,'y')&&!y(Y.slice(-2))){Y=Y.slice(0,-1)+'ies';}else if(z(Y,'Y')&&!y(Y.slice(-2))){Y=Y.slice(0,-1)+'IES';}else if(z(Y,'s')||z(Y,'z')||z(Y,'ch')||z(Y,'Ch')||z(Y,'sh')||z(Y,'Sh')||z(Y,'x')){Y=Y+'es';}else if(z(Y,'S')||z(Y,'Z')||z(Y,'CH')||z(Y,'cH')||z(Y,'SH')||z(Y,'sH')||z(Y,'X')){Y=Y+'ES';}else if(z(Y,'f')){Y=Y.slice(0,-1)+'ves';}else if(z(Y,'F')){Y=Y.slice(0,-1)+'VES';}else if(z(Y,'fe')){Y=Y.slice(0,-2)+'ves';}else if(z(Y,'FE')){Y=Y.slice(0,-2)+'VES';}else if(z(Y,'Fe')){Y=Y.slice(0,-2)+'Ves';}else{Y=(Y.slice(-1).toLowerCase()===Y.slice(-1))?Y+'s':Y+'S';}j[j.length-1]=Y;$=j.join(" ");}return $;}function D(j,Y){var i;var Z;var $;var _;_=j;$=_;for(i=0;i<Y.length;i++){Z=Y[i];_+='.'+Z.name;if(Z.cardinality===v.CARDINALITY_ONE_TO_MANY){$=_;}}return $;}function E(i,j){var Y=false;if(j){Y=true;}else{if(i===v.CARDINALITY_ONE_TO_MANY){Y=true;}else{Y=false;}}return Y;}function F(i){var j,Y,Z;var $=b.createUUID();j=new c.TermInfo(i.vocabularyId,e,$,i.description,i.expression,i.businessDataType,i.isCollection?'1':'0',i.isConditionalContext?'1':'0',i.context,s,h?'1':'0',i.isDeprecated?'1':'0');if(i.friendlyDesc){j.friendlyTerm=i.friendlyDesc;}r.allTerms=r.allTerms?r.allTerms.concat([j]):[j];for(Y in i.modifiers){if(i.modifiers.hasOwnProperty(Y)&&i.modifiers[Y]===true){Z=new c.TermModifierInfo($,Y,b.createUUID());r.allTermsModifiers=r.allTermsModifiers?r.allTermsModifiers.concat([Z]):[Z];}}}function G(j,Y,Z,$,_,a1,b1,f){var i;var c1={};c1.expression=Y;c1.modifiers=Z;c1.businessDataType=$;c1.isCollection=_;c1.isConditionalContext=a1;c1.context=b1;c1.vocabularyId=f;c1.isDeprecated=false;c1.description=j.description;if(l){c1.friendlyDesc=j.friendlyDesc;}F(c1);for(i=0;i<j.deprecated.length;i++){c1.isDeprecated=true;c1.description=j.deprecated[i];F(c1);}}function H(i,j,Y){var Z={};Z[v.TERM_MODIFIER_ALL]=i;Z[v.TERM_MODIFIER_NOT]=j;Z[v.TERM_MODIFIER_CURRENT]=Y;return Z;}function I(i,j,Y,Z,$){if($){i[0]=j+Y+A(Y)+Z;}else{i[0]=j+Y+Z;}}function J(j,Y,Z,$){var i;var _=[];var a1=null;var b1='';var c1='';var d1=v.PROPERTY_NAME_OM_DESCRIPTION;var e1='';var f1={"description":"","deprecated":[],"friendlyDesc":""};var g1=v.TERM_OF_THE_STRING;var h1=v.TERM_OF_STRING+v.TERM_ALL_STRING;for(i=0;i<j.length;i++){if(i===(j.length-1)&&$){break;}a1=j[i];if(a1.cardinality===v.CARDINALITY_ONE_TO_MANY&&!Y){e1=b1;b1=h1+C(a1.name)+e1;if(l){c1=h1+C(a1[d1])+c1;}if(_.length>0){I(_,h1,a1.name,_[0],true);}else if(B(a1.name)&&!Z){I(_,h1,a1.name,e1,true);}}else{if(!Z){b1=g1+a1.name+b1;c1=l?g1+a1[d1]+c1:'';if(_.length>0){I(_,g1,a1.name,_[0],false);}}else{b1=g1+C(a1.name)+b1;c1=l?g1+C(a1[d1])+c1:'';}}}f1.description=b1;f1.deprecated=_;f1.friendlyDesc=c1;return f1;}function K(j){var i;var Y=3;var Z=j.description;var $=j.deprecated;var _=j.friendlyDesc;for(i=0;i<Y;i++){if(Z.indexOf(' ')>-1){Z=Z.substr(Z.indexOf(' ')+1);_=l?_.substr(_.indexOf(' ')+1):'';}if($.length&&$[0].indexOf(' ')>-1){$[0]=$[0].substr($[0].indexOf(' ')+1);}}j.description=Z;j.deprecated=$;j.friendlyDesc=_;}function L(i,j,Y,Z,$,_,f){var a1='';var b1=v.TERM_OF_STRING;var c1=v.TERM_A_STRING;var d1=v.TERM_AN_STRING;var e1=v.TERM_IS_STRING;var f1=null;var g1=[];var h1="";var i1="";var j1={};var k1={};var l1=H(false,false,false);var m1={"description":"","deprecated":[],"friendlyDesc":""};var n1=i[v.PROPERTY_NAME_OM_NAME];var o1=v.PROPERTY_NAME_OM_DESCRIPTION;if(y(n1)){a1=b1+d1+n1;}else{a1=b1+v.TERM_A_STRING+n1;}if(l){if(y(i[o1])){f1=b1+d1+i[o1];}else{f1=b1+c1+i[o1];}}j1=J(j,false,false);if(Z===null&&_){K(j1);h1=j1.description+a1;if(j1.deprecated&&j1.deprecated[0]){g1[0]=j1.deprecated[0]+a1;}m1.description=h1;m1.deprecated=g1;if(l){i1=j1.friendlyDesc+f1;m1.friendlyDesc=i1;}G(m1,Y,l1,null,_,false,$,f);}else if(Z!==null&&Z.businessDataType!==v.BUSINESS_DATA_TYPE_BOOLEAN){h1=Z.name+j1.description+a1;if(j1.deprecated&&j1.deprecated[0]){g1[0]=Z.name+j1.deprecated[0]+a1;}m1.description=h1;m1.deprecated=g1;if(l){i1=Z[o1]+j1.friendlyDesc+f1;m1.friendlyDesc=i1;}G(m1,Y,l1,Z.businessDataType,_,false,$,f);if(_){k1=J(j,true,false);h1=Z.name+k1.description+a1;m1.description=h1;m1.deprecated=[];if(l){i1=Z[o1]+k1.friendlyDesc+f1;m1.friendlyDesc=i1;}G(m1,Y,l1,Z.businessDataType,false,true,$,f);}}else if(Z!==null&&Z.businessDataType===v.BUSINESS_DATA_TYPE_BOOLEAN){k1=J(j,true,false);K(k1);h1=k1.description+a1+e1+Z.name;if(k1.deprecated&&k1.deprecated[0]){g1[0]=k1.deprecated[0]+a1+e1+Z.name;}m1.description=h1;m1.deprecated=g1;if(l){i1=k1.friendlyDesc+f1+e1+Z[o1];m1.friendlyDesc=i1;}if(_){G(m1,Y,l1,Z.businessDataType,false,true,$,f);}else{G(m1,Y,l1,Z.businessDataType,false,false,$,f);}}}function M(i,j,Y,Z,$,_,f){var a1="";var b1="";var c1=[];var d1="";var e1="";var f1=null;var g1=H(true,false,false);var h1="";var i1=i[v.PROPERTY_NAME_OM_NAME];var j1=j.name;var k1=v.PROPERTY_NAME_DESCRIPTION;a1=v.TERM_OF_STRING+v.TERM_ALL_STRING+C(i1);if(l){b1=v.TERM_OF_STRING+v.TERM_ALL_STRING+C(i[k1]);}if($===null){h1=J(Y,false,true,true);h1.description=h1.description.length?h1.description:"";d1=C(j1)+h1.description+a1;if(l){e1=C(j.description)+h1.friendlyDesc+b1;}if(h1.deprecated&&h1.deprecated[0]){c1[0]=C(j1)+h1.deprecated[0]+a1;}f1={"description":d1,"deprecated":c1,"friendlyDesc":e1};G(f1,Z,g1,null,true,false,null,f);}else if($!==null&&$.businessDataType!==v.BUSINESS_DATA_TYPE_BOOLEAN){h1=J(Y,false,true,false);d1=$.name+h1.description+a1;if(l){e1=$[k1]+h1.friendlyDesc+b1;}f1={"description":d1,"deprecated":c1,"friendlyDesc":e1};G(f1,Z,g1,$.businessDataType,true,false,_,f);}}function N(i,j,Y,Z,$,_,f){var a1=v.TERM_OF_STRING;var b1=v.TERM_A_STRING;var c1=v.TERM_AN_STRING;var d1='';var e1="";var f1="";var g1=null;var h1={};var i1=H(false,true,false);var j1="";var k1=i[v.PROPERTY_NAME_OM_NAME];var l1=v.PROPERTY_NAME_DESCRIPTION;if(y(k1)){d1=a1+c1+k1;}else{d1=a1+b1+k1;}if(l){if(y(i[l1])){e1=a1+c1+i[l1];}else{e1=a1+b1+i[l1];}}if(Z!==null&&Z.businessDataType===v.BUSINESS_DATA_TYPE_BOOLEAN){h1=J(j,true,false);K(h1);f1=h1.description+d1+v.TERM_IS_NOT_STRING+Z.name;if(l){j1=h1.friendlyDesc+e1+v.TERM_IS_NOT_STRING+Z[l1];}g1={"description":f1,"deprecated":[],"friendlyDesc":j1};if(_){G(g1,Y,i1,Z.businessDataType,false,true,$,f);}else{G(g1,Y,i1,Z.businessDataType,false,false,$,f);}}}function O(i,j,Y,Z,$,_,a1,f){var b1="";var c1="";var d1=[];var e1="";var f1="";var g1=null;var h1=H(false,false,true);var i1="";var j1=i[v.PROPERTY_NAME_OM_NAME];var k1=j.name;var l1=v.PROPERTY_NAME_DESCRIPTION;b1=v.TERM_OF_STRING+v.TERM_CURRENT_STRING+j1;if(l){c1=v.TERM_OF_STRING+v.TERM_CURRENT_STRING+i[l1];}if($===null&&a1){i1=J(Y,false,false,true);i1.description=i1.description.length?i1.description:"";f1=C(k1)+i1.description+b1;if((i1.deprecated&&i1.deprecated[0])||B(k1)){k1=B(k1)?k1+A(k1):k1;d1[0]=i1.deprecated&&i1.deprecated[0]&&i1.deprecated[0].length?' '+i1.deprecated[0]:i1.description;d1[0]=k1+d1[0]+b1;}if(l){e1=C(i[l1])+i1.friendlyDesc+c1;}g1={"description":f1,"deprecated":d1,"friendlyDesc":e1};G(g1,Z,h1,null,true,true,null,f);}else if($!==null&&$.businessDataType!==v.BUSINESS_DATA_TYPE_BOOLEAN){i1=J(Y,false,false,false);f1=$.name+i1.description+b1;if(i1.deprecated&&i1.deprecated[0]){d1[0]=$.name+i1.deprecated[0]+b1;}if(l){e1=$[l1]+i1.friendlyDesc+c1;}g1={"description":f1,"deprecated":d1,"friendlyDesc":e1};G(g1,Z,h1,$.businessDataType,a1,true,_,f);}else if($!==null&&$.businessDataType===v.BUSINESS_DATA_TYPE_BOOLEAN&&!a1){i1=J(Y,false,false,false);K(i1);f1=i1.description+b1+v.TERM_IS_STRING+$.name;if(i1.deprecated&&i1.deprecated[0]){d1[0]=i1.deprecated[0]+b1+v.TERM_IS_STRING+$.name;}if(l){e1=i1.friendlyDesc+c1+v.TERM_IS_STRING+$[l1];}g1={"description":f1,"deprecated":d1,"friendlyDesc":e1};G(g1,Z,h1,$.businessDataType,a1,true,_,f);h1=H(false,true,true);f1=i1.description+b1+v.TERM_IS_NOT_STRING+$.name;if(i1.deprecated&&i1.deprecated[0]){d1[0]=i1.deprecated[0]+b1+v.TERM_IS_NOT_STRING+$.name;}if(l){e1=i1.friendlyDesc+c1+v.TERM_IS_NOT_STRING+$[l1];}g1={"description":f1,"deprecated":d1,"friendlyDesc":e1};G(g1,Z,h1,$.businessDataType,a1,true,_,f);}}function P(i,j,Y,Z,$,f){var _='';var a1='';var b1=i[v.PROPERTY_NAME_OM_NAME];if(Z!==null){_=D(b1,j);}a1=u(b1,j,Z.name);L(i,j,a1,Z,_,$,f);M(i,Y,j,a1,Z,_,f);N(i,j,a1,Z,_,$,f);O(i,Y,j,a1,Z,_,$,f);}function Q(Y,Z,$,_,a1,f,g,b1){var i,j;var c1;var d1;var e1;var f1;var g1;var h1=o.getVocabularyDataProvider(g);if(!x(Z,$)){Z.push($);g1=E($.cardinality,a1);f1=u(Y[v.PROPERTY_NAME_OM_NAME],Z);L(Y,Z,f1,null,null,g1,f);M(Y,$,Z,f1,null,null,f);O(Y,$,Z,f1,null,null,g1,f);c1=h1.getAttributes(_,$.target);for(i=0,j=c1.length;i<j;i++){d1=c1[i];P(Y,Z,$,d1,g1,f);}e1=h1.getAssociations(_,$.target);for(i=0,j=e1.length;i<j;i++){Q(Y,Z,e1[i],_,g1,f,g,b1);}if(w&&$.vocaName!==_){b1[v.PROPERTY_NAME_DATA_OBJECTS+'.'+$.target+'.'+v.PROPERTY_NAME_OM_ATTRIBUTES]={"category":p.CATEGORY_VOCA_DO_ATTRIBUTES,"DOName":$.target,"vocaName":$.vocaName};}Z.pop();}}function R(i,j,Y,f){var Z=null;var $=null;var _=null;var a1=null;var b1="";var c1=[];var d1="";var e1=l?i[v.PROPERTY_NAME_OM_DESCRIPTION]:null;var f1=i[v.PROPERTY_NAME_OM_NAME];var g1={"description":"","deprecated":[],"friendlyDesc":""};if(j===null||!j.hasOwnProperty("name")){b1=C(f1);if(B(f1)){c1.push(f1+A(f1));}if(l){d1=C(e1);}g1.description=b1;g1.deprecated=c1;g1.friendlyDesc=d1;a1=H(true,false,false);G(g1,Y,a1,null,true,false,null,f);}else{Z=j.name;_=j.businessDataType;a1=H(false,false,false);if(_===v.BUSINESS_DATA_TYPE_BOOLEAN){b1=f1+v.TERM_IS_STRING+Z;g1.description=b1;if(l){$=j[v.PROPERTY_NAME_DESCRIPTION];d1=e1+v.TERM_IS_STRING+$;}g1.friendlyDesc=d1;G(g1,Y,a1,_,false,false,f1,f);}else{b1=Z+v.TERM_OF_THE_STRING+f1;g1.description=b1;if(l){$=j[v.PROPERTY_NAME_DESCRIPTION];d1=$+v.TERM_OF_THE_STRING+e1;}g1.friendlyDesc=d1;G(g1,Y,a1,_,false,false,f1,f);}}}function S(i,j,Y,f){var Z=null;var $=l?j[v.PROPERTY_NAME_DESCRIPTION]:null;var _=j.businessDataType;var a1=H(true,false,false);var b1={"description":"","deprecated":[],"friendlyDesc":""};var c1=l?i[v.PROPERTY_NAME_OM_DESCRIPTION]:null;var d1=i[v.PROPERTY_NAME_OM_NAME];var e1="";if(j!==null||j.hasOwnProperty("name")){Z=j.name;b1.description=Z+v.TERM_OF_STRING+v.TERM_ALL_STRING+C(d1);if(l){e1=$+v.TERM_OF_STRING+v.TERM_ALL_STRING+C(c1);}b1.friendlyDesc=e1;G(b1,Y,a1,_,true,false,d1,f);}}function T(i,j,Y,f){var Z=null;var $=l?j[v.PROPERTY_NAME_DESCRIPTION]:null;var _=i[v.PROPERTY_NAME_OM_NAME];var a1=l?i[v.PROPERTY_NAME_OM_DESCRIPTION]:null;var b1=j.businessDataType;var c1=H(false,true,false);var d1={"description":"","deprecated":[],"friendlyDesc":""};var e1="";if(j!==null||j.hasOwnProperty("name")){Z=j.name;d1.description=_+v.TERM_IS_NOT_STRING+Z;if(l){e1=a1+v.TERM_IS_NOT_STRING+$;}d1.friendlyDesc=e1;G(d1,Y,c1,b1,false,false,_,f);}}function U(i,j,Y,f){var Z=null;var $=l?j[v.PROPERTY_NAME_DESCRIPTION]:null;var _=i[v.PROPERTY_NAME_OM_NAME];var a1=l?i[v.PROPERTY_NAME_OM_DESCRIPTION]:null;var b1=null;var c1=null;var d1={"description":"","deprecated":[],"friendlyDesc":""};var e1="";if(j!==null||j.hasOwnProperty("name")){Z=j.name;b1=j.businessDataType;if(b1===v.BUSINESS_DATA_TYPE_BOOLEAN){c1=H(false,false,true);d1.description=v.TERM_CURRENT_STRING+_+v.TERM_IS_STRING+Z;if(l){e1=v.TERM_CURRENT_STRING+a1+v.TERM_IS_STRING+$;}d1.friendlyDesc=e1;G(d1,Y,c1,b1,false,true,_,f);c1=H(false,true,true);d1.description=v.TERM_CURRENT_STRING+_+v.TERM_IS_NOT_STRING+Z;if(l){e1=v.TERM_CURRENT_STRING+a1+v.TERM_IS_NOT_STRING+$;}d1.friendlyDesc=e1;G(d1,Y,c1,b1,false,true,_,f);}else{c1=H(false,false,true);d1.description=Z+v.TERM_OF_STRING+v.TERM_CURRENT_STRING+_;if(l){e1=$+v.TERM_OF_STRING+v.TERM_CURRENT_STRING+a1;}d1.friendlyDesc=e1;G(d1,Y,c1,b1,false,true,_,f);}}}function V(i,j,Y,f){R(i,j,Y,f);U(i,j,Y,f);if(j.businessDataType===v.BUSINESS_DATA_TYPE_BOOLEAN){T(i,j,Y,f);}else{S(i,j,Y,f);}}function W(Y,Z,f,g,$){var i,j;var _;var a1;var b1;var c1;var d1=Y[v.PROPERTY_NAME_OM_NAME];var e1=o.getVocabularyDataProvider(g);c1=u(d1,{},null);R(Y,null,c1,f);_=e1.getAttributes(Z,d1);for(i=0,j=_.length;i<j;i++){b1=_[i];c1=u(d1,{},b1.name);V(Y,b1,c1,f);}a1=e1.getAssociations(Z,d1);for(i=0,j=a1.length;i<j;i++){Q(Y,[],a1[i],Z,false,f,g,$);}}function X(d,Y,f,g,h,k){var i,j;var Z;var $={};var _=null;var a1=o.getVocabularyDataProvider();_=a1.getTermModes();for(i=0;i<_.length;i++){if(_[i]===v.TermModeRelated.TERM_MODE_BY_DESCRIPTION){l=true;break;}}for(i=0,j=d.length;i<j;++i){W(d[i],Y,f,g,$);}if(w){Z=m.createDependenciesInVocabulary(p.CATEGORY_VOCA_TERMS,Y,$,h,g);if(Object.keys($).length!==0){n.getInstance(g).setDependencies(k,Z);}}}X(d,e,f,g,h,k);};return{termGenerationLib:t};}());
