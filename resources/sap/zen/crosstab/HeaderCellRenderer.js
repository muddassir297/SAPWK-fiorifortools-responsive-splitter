jQuery.sap.declare("sap.zen.crosstab.HeaderCellRenderer");jQuery.sap.require("sap.zen.crosstab.rendering.RenderingConstants");jQuery.sap.require("sap.zen.crosstab.IHeaderCell");jQuery.sap.require("sap.zen.crosstab.TextConstants");jQuery.sap.require("sap.zen.crosstab.utils.Utils");sap.zen.crosstab.HeaderCellRenderer={};
sap.zen.crosstab.HeaderCellRenderer.render=function(r,c){"use strict";var a=c.getArea();var C=a.getCrosstab();var b=r;var i=null;var R=null;var f=a.getRenderCellCallback();var s=c.getText();var A=null;if(f){var o=f(new sap.zen.crosstab.IHeaderCell(c));A=o.additionalStyles;s=o.renderText;}var d=c.getCssClassNames(C.isIE8Mode(),C.getPropertyBag().isRtl(),C.getUtils().isMsIE());if(c.getSort()){d+=" sapzencrosstab-HeaderCellSortable";}var D=c.getDrillState();if(D){d+=" sapzencrosstab-HeaderCellHierarchy";}b.write("<td");b.writeControlData(c);b.writeAttribute("class",d);b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);i=c.getEffectiveColSpan();if(i>1){b.writeAttribute("colspan",i);}R=c.getEffectiveRowSpan();if(R>1){b.writeAttribute("rowspan",R);}b.write(">");b.write("<div");b.writeAttribute("class","sapzencrosstab-cellLayoutDiv");b.writeAttribute("id",c.getId()+"_cellLayoutDiv");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);if(c.isEntryEnabled()){b.addStyle("width","0px");b.writeStyles();}b.write(">");if(c.isEntryEnabled()){b.write("<table style='width: 100%; border-spacing: 0px;'><tbody>");b.write("<tr>");b.write("<td style='width: 100%; padding: 0px 5px 0px 0px;'>");}b.write("<div");b.writeAttribute("id",c.getId()+"_contentDiv");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);if(c.isEntryEnabled()){b.addStyle("width","100%");b.writeStyles();}var e="sapzencrosstab-HeaderCellContentDiv";if(c.isLoading()){e+=" sapzencrosstab-LoadingCellContentDiv";}b.writeAttribute("class",e);if(A){for(var S in A){b.addStyle(S,A[S]);}}b.writeStyles();b.write(">");var g=c.getSort();if(g||D){p(g,D);}else{b.write(s);}if(C.getPropertyBag().isEnableColResize()===true){if(a.isColHeaderArea()||a.isDimHeaderArea()){if(C.getPropertyBag().isTestMobileMode()||C.getPropertyBag().isMobileMode()){c.setMobileResize(true);}else{b.write("<div");b.writeAttribute("id","resi_"+c.getId());if(g){b.writeAttribute("class","sapzencrosstab-columnResizeHandleWithSort");}else{b.writeAttribute("class","sapzencrosstab-columnResizeHandle");}b.writeAttribute("title",C.getPropertyBag().getText(sap.zen.crosstab.TextConstants.COLWIDTH_ADJUST_TEXT_KEY));b.write(">");b.write("</div>");c.setMobileResize(false);}}}b.write("</div>");b.write("</div>");if(c.isEntryEnabled()){b.write("</td>");b.write("<td style='padding: 0px'>");b.write("<div");b.writeAttribute("id","vhlp_"+c.getId());var h="sapzencrosstab-HeaderCellDivValueHelp";if(sap.zen.crosstab.utils.Utils.isMainMode()){h+="-MainMode";}h+=" sapzencrosstab-HeaderCellValueHelp";b.writeAttribute("class",h);b.write(">");b.write("</div>");b.write("</td>");b.write("</tr>");b.write("</tbody></table>");}b.write("</td>");function j(){if(g){var t=0;b.write("<td>");var q="sapzencrosstab-HeaderCellDivSortable ";b.write("<div");if(g==="NONE"){q+="sapzencrosstab-HeaderCellSortNone";t=0;}else if(g==="ASC"){q+="sapzencrosstab-HeaderCellSortAsc";t=1;}else if(g==="DESC"){q+="sapzencrosstab-HeaderCellSortDesc";t=2;}b.writeAttribute("class",q);b.writeAttribute("id","sort_"+c.getId());var u=C.getPropertyBag().getSortingToolTip(t);if(u){b.writeAttribute("title",u);}b.write("></div></td>");}}function k(){if(D){var L=c.getLevel();var q=c.getArea().isRowHeaderArea();var t="sapzencrosstab-HeaderCellDivHierarchy ";if(c.getHierarchyAction()){if(D==="O"){t+="sapzencrosstab-CollapseNode";}else if(D==="C"){t+="sapzencrosstab-ExpandNode";}if(D==="O"||D==="C"){t+=" sapzencrosstab-PointerCursor";}}if(L>0){if(q){var W=L*C.getHierarchyIndentWidth();b.write("<td><div");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);b.addStyle("width",W+"px");b.writeAttribute("class","sapzencrosstab-HierarchySpacerDivBefore");b.writeAttribute("xtabspacer-cellid",c.getId());b.writeStyles();b.write("></div></td>");}}if((D==="L"&&L>0)||D!=="L"){b.write("<td><div");if(c.getHierarchyAction()){b.writeAttribute("id","hier_"+c.getId());}b.writeAttribute("class",t);var H=c.getHierarchyTooltip();if(H){b.writeAttribute("title",H);}b.write("></div></td>");}}}function w(){b.write("<td><div");b.writeAttribute("id",c.getId()+"_textContentDiv");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);b.write(">");b.write(s);b.write("</div></td>");}function l(){if(D){var L=c.getLevel();if(L>0&&c.getArea().isColHeaderArea()){var H=L*C.getHierarchyIndentHeight();b.write("<tr><td><div");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);b.writeAttribute("class","sapzencrosstab-HierarchySpacerLinesBefore");b.writeAttribute("xtabspacer-cellid",c.getId());b.addStyle("height",H+"px");b.writeStyles();b.write("></div></td></tr>");}}}function m(){if(D&&c.getArea().isColHeaderArea()){var L=c.getLevel();var M=C.getColHeaderHierarchyLevels()[c.getRow()];var q=M-L;if(q>0){var H=q*C.getHierarchyIndentHeight();b.write("<tr><td><div");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);b.writeAttribute("class","sapzencrosstab-HierarchySpacerLinesAfter");b.writeAttribute("xtabspacer-cellid",c.getId());b.addStyle("height",H+"px");b.writeStyles();b.write("></div></td></tr>");}}}function n(){if(D&&c.getArea().isRowHeaderArea()){var L=c.getLevel();var M=C.getRowHeaderHierarchyLevels()[c.getCol()];var q=M-L;if(q>0){var W=q*C.getHierarchyIndentWidth();b.write("<td><div");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);b.addStyle("width",W+"px");b.writeAttribute("class","sapzencrosstab-HierarchySpacerDivAfter");b.writeAttribute("xtabspacer-cellid",c.getId());b.writeStyles();b.write("></div></td>");}}}function p(){b.write("<table><tbody>");l();b.write("<tr>");k();w();j();n();b.write("</tr>");m();b.write("</tbody></table>");}};
