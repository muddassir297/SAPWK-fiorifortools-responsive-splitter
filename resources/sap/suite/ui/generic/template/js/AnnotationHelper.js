(function(){"use strict";jQuery.sap.require("sap.ui.comp.smartfield.SmartField");jQuery.sap.require("sap.suite.ui.generic.template.extensionAPI.UIMode");var U=sap.ui.require("sap/suite/ui/generic/template/extensionAPI/UIMode");jQuery.sap.declare("sap.suite.ui.generic.template.js.AnnotationHelper");var a={buildDeleteButtonEnablementExpression:function(f){var b=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)+"::deleteEntry";return"{= !!${_templPriv>/generic/controlProperties/"+b+"/enabled}}";},getSmartTableId:function(m,t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterKey(m,t);var r="listReport";if(s){r=r.concat("-"+s);}return r;},getAnalyticalTableId:function(m,t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterKey(m,t);var r="analyticalTable";if(s){r=r.concat("-"+s);}return r;},getGridTableId:function(m,t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterKey(m,t);var r="GridTable";if(s){r=r.concat("-"+s);}return r;},getResponsiveTableId:function(m,t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterKey(m,t);var r="responsiveTable";if(s){r=r.concat("-"+s);}return r;},getAddEntryId:function(m,t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterKey(m,t);var r="addEntry";if(s){r=r.concat("-"+s);}return r;},getDeleteEntryId:function(m,t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterKey(m,t);var r="deleteEntry";if(s){r=r.concat("-"+s);}return r;},getShowDetailsId:function(m,t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterKey(m,t);var r="showDetails";if(s){r=r.concat("-"+s);}return r;},getDraftObjectMarkerId:function(m,t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterKey(m,t);var r="DraftObjectMarker";if(s){r=r.concat("-"+s);}return r;},getIconTabFilterKey:function(m,t){if(t&&t.key){return t.key;}else{for(var i in m){if(m[i].qualifier===t.qualifier){return t.qualifier;}}}return"";},getIconTabFilterText:function(i,m){var M=i.getModel();var e=M.oData.entityType;var E=M.oData.metaModel.getODataEntityType(e);var s=E[m.qualifier];if(s&&s.Text){return s.Text.String;}},buildAnnotatedActionButtonEnablementExpression:function(i,d,f,e,I){var F,b,A,m;if(e&&e["sap:semantics"]==="aggregate"&&!I){return true;}A=d&&d.Action&&d.Action.String;if(A){b=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartForDatafieldActionButton(d,f);if(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(!d.RequiresContext||d.RequiresContext.Bool!=="false"){return"{= !!${_templPriv>/generic/controlProperties/"+b+"/enabled}}";}}else if(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){m=i.getInterface(0).getModel();F=m.getODataFunctionImport(A);if(!F){jQuery.sap.log.error("The function import "+A+" is not defined in the metadata. Buttons that call this function import will not behave as expected.");}else if(F["sap:action-for"]&&F["sap:action-for"]!==""&&F["sap:action-for"]!==" "){return"{= !!${_templPriv>/generic/controlProperties/"+b+"/enabled}}";}}return true;}},getApplicablePathForChartToolbarActions:function(I,c,e){var m=I.getInterface(0).getModel();var E=m.getODataEntityType(e);var A=(c&&c.Actions)||[];var f,F,o,b=[],d=[],s;for(var i=0;i<A.length;i++){if(A[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&(!A[i].Inline||A[i].Inline.Bool!=="true")&&(!A[i].Determining||A[i].Determining.Bool!=="true")){f=A[i].Action&&A[i].Action.String;F=m.getODataFunctionImport(f);if(F){b.push(F);}}}for(var i=0;i<b.length;i++){F=b[i];if(F&&F["sap:action-for"]&&F["sap:action-for"]!==""&&F["sap:action-for"]!==" "&&F["sap:applicable-path"]&&F["sap:applicable-path"]!==""&&F["sap:applicable-path"]!==" "){s=F["sap:applicable-path"];o=m.getODataProperty(E,s);if(o&&o["sap:aggregation-role"]==="dimension"){d.push(s);}else{jQuery.sap.log.error("AnnotationHelper.js - method getApplicablePathForChartToolbarActions: the applicable-path "+s+" is either pointing to an entity type property which doesn't exist or does not have 'sap:aggregation-role' set to to 'dimension'.");}}}if(d.length>0){return d.join();}},buildBreadCrumbExpression:function(c,t,T){var b,B=sap.ui.model.odata.AnnotationHelper.format(c,t);if(t&&t.Path&&T&&T.String){b="{= $"+B+" ? $"+B+" : '"+T.String+"' }";return b;}else{if(!B){return("no title");}return B;}},buildRatingIndicatorSubtitleExpression:function(s){if(s){return"{parts: [{path: '"+s.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorSubTitle'}";}},formatRatingIndicatorSubTitle:function(s){if(s){var r=this.getModel("i18n").getResourceBundle();if(this.getCustomData().length>0){return r.getText("RATING_INDICATOR_SUBTITLE",[s,this.data("Subtitle")]);}else{var S=s>1?r.getText("RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):r.getText("RATING_INDICATOR_SUBTITLE_LABEL");return r.getText("RATING_INDICATOR_SUBTITLE",[s,S]);}}},buildRatingIndicatorFooterExpression:function(v,t){if(t){return"{parts: [{path: '"+v.Path+"'}, {path: '"+t.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";}return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";},formatRatingIndicatorFooterText:function(v,t){if(v){var r=this.getModel("i18n").getResourceBundle();if(t){return r.getText("RATING_INDICATOR_FOOTER",[v,t]);}else if(this.getCustomData().length>0){return r.getText("RATING_INDICATOR_FOOTER",[v,this.data("Footer")]);}else{var R=sap.m.RatingIndicator.getMetadata().getPropertyDefaults().maxValue;return r.getText("RATING_INDICATOR_FOOTER",[v,R]);}}},buildRatingIndicatorAggregateCountExpression:function(v){return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorAggregateCount'}";},formatRatingIndicatorAggregateCount:function(v){var r=this.getModel("i18n").getResourceBundle();var t;if(v){t=r.getText("RATING_INDICATOR_AGGREGATE_COUNT",[v]);}else if(this.getCustomData().length>0){t=r.getText("RATING_INDICATOR_AGGREGATE_COUNT",[this.data("AggregateCount")]);}else{t="";}return t;},getEditActionButtonVisibility:function(i,r,e,p){var m=i.getInterface(0).getModel();if(sap.suite.ui.generic.template.js.AnnotationHelper._areUpdateRestrictionsValid(m,e,r)){var u="!${ui>/editable}";if(r){if(r.Updatable.Path){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(i,r.Updatable.Path,e);return"{= ${"+r.Updatable.Path+"} ? "+u+" : false}";}else if(r.Updatable.Bool==="false"&&!p){return false;}}return"{="+u+"}";}else{return false;}},getDeleteActionButtonVisibility:function(i,r,e){var m=i.getInterface(0).getModel();if(sap.suite.ui.generic.template.js.AnnotationHelper.areDeleteRestrictionsValid(m,e,r)){var u="!${ui>/editable}";if(r){if(r.Deletable.Path){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(i,r.Deletable.Path,e);return"{= ${"+r.Deletable.Path+"} ? "+u+" : false}";}else if(r.Deletable.Bool==="false"){return false;}}return"{="+u+"}";}else{return false;}},getIdForMoreBlockContent:function(f){if(f["com.sap.vocabularies.UI.v1.PartOfPreview"]&&f["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){return"::MoreContent";}},checkMoreBlockContent:function(f){return sap.suite.ui.generic.template.js.AnnotationHelper.checkFacetContent(f,false);},checkBlockContent:function(f){return sap.suite.ui.generic.template.js.AnnotationHelper.checkFacetContent(f,true);},checkFacetContent:function(f,b){var p;var i=f.getInterface(0);var F=f.getModel().getProperty("",f);var c=f.getPath().split("/Facets");var C=i.getModel().getContext(c[0]);if(i.getModel().getProperty('',C).RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return C.getPath();}else{if(!F){return;}for(var d=0;d<F.length;d++){if(!b){if(F[d]["com.sap.vocabularies.UI.v1.PartOfPreview"]&&F[d]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){p=i.getPath()+"/"+d;break;}}else{if(F[d].RecordType!=="com.sap.vocabularies.UI.v1.ReferenceFacet"||(!F[d]["com.sap.vocabularies.UI.v1.PartOfPreview"]||F[d]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="true")){p=i.getPath()+"/"+d;break;}}}}return p;},isInlineCreate:function(f,s){var S=s[sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)];return!!(S&&S.createMode&&S.createMode==="inline");},isImageUrl:function(p){var s=p["com.sap.vocabularies.UI.v1.IsImageURL"]||p["com.sap.vocabularies.UI.v1.IsImageUrl"];if(s&&s.Bool&&s.Bool==="false"){return false;}else if(s){return true;}return false;},matchesBreadCrumb:function(I,c,p){if(p){var s=p.split("/");var e,E,A;if(s.length>0){var m=I.getInterface(0).getModel();var b=s[0];for(var i=0;i<s.length;i++){if(i>0){e=m.getODataEntitySet(b);E=m.getODataEntityType(e.entityType);A=m.getODataAssociationSetEnd(E,s[i]);b=A.entitySet;}if((i+1)===s.length){if(b===c.name){return true;}else{return false;}}}}}},showFullScreenButton:function(r,f){if(r&&f){var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(r.component&&r.component.settings&&r.component.settings.sections&&r.component.settings.sections[F]&&r.component.settings.sections[F].tableMode==="FullScreenTable"){return true;}}return false;},getPersistencyKeyForSmartTable:function(r){return"listReportFloorplanTable";},getCreateNavigationIntent:function(l,s,A){return sap.suite.ui.generic.template.js.AnnotationHelper.getSubObjectPageIntent(l,s,A,'create');},getDisplayNavigationIntent:function(l,s,A){return sap.suite.ui.generic.template.js.AnnotationHelper.getSubObjectPageIntent(l,s,A,'display');},getSubObjectPageIntent:function(l,s,A,m){var n;if(A){n=A.split("/")[0];}if(l&&s&&s.length>0){if(n){for(var i=0;i<s.length;i++){if(l===s[i].entitySet&&n===s[i].navigationProperty&&s[i].navigation&&s[i].navigation[m]){return s[i].navigation[m].target;}}}else{for(var i=0;i<s.length;i++){if(l===s[i].entitySet&&s[i].navigation&&s[i].navigation[m]){return s[i].navigation[m].target;}}}}},extensionPointFragmentExists:function(f,F){var i=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(i===F){return true;}else{return false;}},containsFormWithBreakoutAction:function(f,i){var c=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(c===i){if(f.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&f.Target&&f.Target.AnnotationPath&&f.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")!=-1){return true;}}return false;},formatWithExpandSimple:function(i,d,e){var E=[],s,o;var m=i&&i.getModel&&i.getModel();if(!m){i=i.getInterface(0);m=i.getModel();}if(e){o=m.getODataEntityType(e.entityType);}else{var M=/^(\/dataServices\/schema\/\d+\/entityType\/\d+)(?:\/|$)/.exec(i.getPath());if(M&&M.length&&M[0]){var b=m.getProperty(M[0]);var n=m.getODataEntityContainer().namespace;o=m.getODataEntityType(n+'.'+b.name);}}if(o){if(d&&d.Path){s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,d.Path);if(s){E.push(s);}}else if(d&&d.Apply&&d.Apply.Name==="odata.concat"){d.Apply.Parameters.forEach(function(P){if(P.Type==="Path"){s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,P.Value);if(s){if(E.indexOf(s)===-1){E.push(s);}}}});}if(E.length>0){var p=i.getSetting("preprocessorsData");if(p){var r=p.rootContextExpand||[];for(var j=0;j<E.length;j++){if(r.indexOf(E[j])===-1){r.push(E[j]);}}p.rootContextExpand=r;}}}return sap.ui.model.odata.AnnotationHelper.format(i,d);},formatWithExpand:function(i,d,e){sap.suite.ui.generic.template.js.AnnotationHelper.getNavigationPathWithExpand(i,d,e);i=i.getInterface(0);sap.suite.ui.generic.template.js.AnnotationHelper.formatWithExpandSimple(i,d,e);return sap.ui.model.odata.AnnotationHelper.format(i,d);},_getNavigationPrefix:function(m,e,p){var E="";var P=p.split("/");if(P.length>1){for(var i=0;i<(P.length-1);i++){var A=m.getODataAssociationEnd(e,P[i]);if(A){e=m.getODataEntityType(A.type);if(E){E=E+"/";}E=E+P[i];}else{return E;}}}return E;},getCurrentPathWithExpand:function(i,c,e,n){i=i.getInterface(0);var E=[],N;var m=i.getModel();var o=m.getODataEntitySet(e.name||'');var r=sap.ui.model.odata.AnnotationHelper.resolvePath(m.getContext(i.getPath()));var b=m.getODataEntityType(e.entityType);E=sap.suite.ui.generic.template.js.AnnotationHelper.getFacetExpand(r,m,b,o);if(E.length>0){N="{ path : '"+n+"', parameters : { expand : '"+E.join(',')+"'} }";}else{N="{ path : '"+n+"' }";}if(N==="{}"){N="";}return N;},getNavigationPathWithExpand:function(i,c,e){i=i.getInterface(0);var E=[];var m=i.getModel();var o=m.getODataEntitySet(e.name||'');var r=sap.ui.model.odata.AnnotationHelper.resolvePath(m.getContext(i.getPath()));var n=sap.ui.model.odata.AnnotationHelper.getNavigationPath(i,c);var N=n.replace("{","").replace("}","");if(N){var b=m.getODataEntityType(o.entityType);var A=m.getODataAssociationSetEnd(b,N);if(A&&A.entitySet){o=m.getODataEntitySet(A.entitySet);}}else{var b=m.getODataEntityType(e.entityType);}E=sap.suite.ui.generic.template.js.AnnotationHelper.getFacetExpand(r,m,b,o);if(E.length>0){if(N===""){var p=i.getSetting("preprocessorsData");if(p){var R=p.rootContextExpand||[];for(var j=0;j<E.length;j++){if(R.indexOf(E[j])===-1){R.push(E[j]);}}p.rootContextExpand=R;}}else{n="{ path : '"+N+"', parameters : { expand : '"+E.join(',')+"'} }";}}if(n==="{}"){n="";}return n;},getFacetExpand:function(r,m,E,o){var d=[],b=[],f,F=[];if(r){F=m.getObject(r)||[];}F=F.Data||F;var g=function(p,I){var s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,E,p);if(s){if(b.indexOf(s)===-1){b.push(s);}}if(I){try{d=sap.ui.comp.smartfield.SmartField.getSupportedAnnotationPaths(m,o,p,true)||[];}catch(e){d=[];}for(var i=0;i<d.length;i++){if(b.indexOf(d[i])===-1){b.push(d[i]);}}}};var A=function(p){if(p.Type==="LabeledElement"){g(p.Value.Path);}else if(p.Type==="Path"){g(p.Value);}};for(var i=0;i<F.length;i++){f=F[i];if(f.Value&&f.Value.Path){g(f.Value.Path,true);}if(f.Value&&f.Value.Apply&&f.Value.Apply.Name==="odata.concat"){f.Value.Apply.Parameters.forEach(A);}if(f.Action&&f.Action.Path){g(f.Action.Path);}if(f.Target){if(f.Target.Path){g(f.Target.Path);}if(f.Target.AnnotationPath){g(f.Target.AnnotationPath);}}if(f.SemanticObject&&f.SemanticObject.Path){g(f.SemanticObject.Path);}if(f.Url&&f.Url.Path){g(f.Url.Path);}if(f.Url&&f.Url.Apply&&f.Url.Apply.Parameters){f.Url.Apply.Parameters.forEach(A);}if(f.UrlContentType&&f.UrlContentType.Path){g(f.UrlContentType.Path);}}if(F.name){g(F.name,true);}return b;},isSelf:function(p){if(p===undefined||(p&&p.indexOf('@')===0&&p.indexOf('/')===-1)){return true;}return false;},number:function(v){if(!v){return NaN;}else if(v.Decimal){return+v.Decimal;}else if(v.Path){return'{'+v.Path+'}';}else{return NaN;}},formatColor:(function(){function f(v){if(!v){return NaN;}else if(v.Decimal){return v.Decimal;}else if(v.EnumMember){return'\''+v.EnumMember+'\'';}else if(v.Path){return'${'+v.Path+'}';}else{return NaN;}}function b(d){var e=d.Criticality;return'{= '+f(e)+' === \'UI.CriticalityType/Negative\' ? \'Error\' : '+f(e)+'=== \'UI.CriticalityType/Critical\' ? \'Critical\' : \'Good\'}';}function c(d){var v=f(d.Value);var C=d.CriticalityCalculation;return'{= ('+v+' < '+f(C.DeviationRangeLowValue)+' || '+v+' > '+f(C.DeviationRangeHighValue)+') ? \'Error\' : ('+v+' < '+f(C.ToleranceRangeLowValue)+' || '+v+' > '+f(C.ToleranceRangeHighValue)+') ? \'Critical\' : \'Good\'}';}return function(d){if(d.Criticality){return b(d);}else if(d.CriticalityCalculation){return c(d);}};})(),_determineColumnIndex:function(c){var C=c.getPath();var i=Number(C.slice(C.lastIndexOf("/")+1));var l=C.slice(0,C.lastIndexOf("/"));var L=c.getModel().getObject(l);for(var r=0;r<i;r++){if((L[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||L[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(!L[r].Inline||L[r].Inline.Bool==="false")){i--;}}return i;},createP13NColumnForAction:function(c,d){var C=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(c);var p='\\{"columnKey":"'+d.Label.String+'", "columnIndex":"'+C+'", "actionButton":"true" \\}';return p;},createP13NColumnForContactPopUp:function(i,c,d,D,A){var p="";var n="";var b=[];var m=i.getInterface(0).getModel();if(m){var e=m.getODataEntityType(c.entityType);if(e){n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,e,A);}}if(n){p='\\{"columnKey":"'+n+'/'+D.fn.Path+'", "leadingProperty":"'+n;n=n+"/";}else if(D.fn){p='\\{"columnKey":"'+D.fn.Path;}if(D.fn&&D.fn.Path){b.push(n+D.fn.Path);}if(b.length>0){var s="";b.forEach(function(P){if(s){s=s+",";}s=s+P;});p+='", "additionalProperty":"'+s;}var C=i.getInterface(1);var f=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(C);if(f){p+='", "columnIndex":"'+f;}p+='" \\}';return p;},createP13NColumnForIndicator:function(i,c,C,d,D,o,A){var p="";var n="";var b=[];var m=i.getInterface(0).getModel();if(m){var e=m.getODataEntityType(c.entityType);if(e){n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,e,A);}}if(n){p='\\{"columnKey":"'+n+'", "leadingProperty":"'+n;n=n+"/";}else{p='\\{"columnKey":"';if(d.Label){p+=d.Label.String;}else if(d.Value){p+=d.Value.Path;}else{p+=A.split('@')[1];}}if(D.Value&&D.Value.Path){b.push(n+D.Value.Path);}if(D.TargetValue&&D.TargetValue.Path){b.push(n+D.TargetValue.Path);}if(D.Criticality&&D.Criticality.Path){b.push(n+D.Criticality.Path);}if(b.length>0){var s="";b.forEach(function(P){if(s){s=s+",";}s=s+P;});p+='", "additionalProperty":"'+s;}var f=i.getInterface(2);var g=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(f);if(g){p+='", "columnIndex":"'+g;}p+='" \\}';return p;},createP13NColumnForChart:function(i,c,d,D,A){var p='\\{"columnKey":"',b=[],n="";var m=i.getInterface(0).getModel();if(m){var e=m.getODataEntityType(c.entityType);if(e){n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,e,A);}}if(n!==""){p+=n+'", "leadingProperty":"'+n;n+="/";}else if(d.Label){p+=d.Label.String;}else{p+=A.split('@')[1];}if(D.Dimensions){D.Dimensions.forEach(function(o){b.push(n+o.PropertyPath);});}if(D.Measures){D.Measures.forEach(function(M){b.push(n+M.PropertyPath);});}if(b.length>0){p+='", "additionalProperty":"'+b.join();}var C=i.getInterface(1);var f=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(C);if(f){p+='", "columnIndex":"'+f;}p+='" \\}';return p;},createP13N:function(I,c,C,d,D,o){var p="",A=[],n="";if(d.RecordType==="com.sap.vocabularies.UI.v1.DataField"||d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"||d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(d.Value.Path){var s=d.Value.Path;if(d.Visualization&&d.Visualization.EnumMember){s=s+d.Visualization.EnumMember.slice(d.Visualization.EnumMember.lastIndexOf("/")+1,d.Visualization.EnumMember.length);}p='\\{"columnKey":"'+s+'", "leadingProperty":"'+d.Value.Path;var m=I.getInterface(0).getModel();if(m){var e=m.getODataEntityType(c.entityType);if(e){n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,e,d.Value.Path);if(n){n=n+"/";}}}}else if(d.Value.Apply&&d.Value.Apply.Name==="odata.concat"){d.Value.Apply.Parameters.forEach(function(P){if(P.Type==="Path"){if(!p){p='\\{"columnKey":"'+P.Value+'", "leadingProperty":"'+P.Value;}else{A.push(P.Value);}}});}if((C.type==="Edm.DateTime")&&(C["sap:display-format"]==="Date")){p+='", "type":"date';}if(d.Criticality&&d.Criticality.Path){A.push(d.Criticality.Path);}if(C["com.sap.vocabularies.Common.v1.Text"]&&C["com.sap.vocabularies.Common.v1.Text"].Path){A.push(n+C["com.sap.vocabularies.Common.v1.Text"].Path);}if(C["Org.OData.Measures.V1.ISOCurrency"]&&C["Org.OData.Measures.V1.ISOCurrency"].Path){A.push(n+C["Org.OData.Measures.V1.ISOCurrency"].Path);}if(C["Org.OData.Measures.V1.Unit"]&&C["Org.OData.Measures.V1.Unit"].Path){A.push(n+C["Org.OData.Measures.V1.Unit"].Path);}if(C["com.sap.vocabularies.Common.v1.FieldControl"]&&C["com.sap.vocabularies.Common.v1.FieldControl"].Path){A.push(n+C["com.sap.vocabularies.Common.v1.FieldControl"].Path);}if((d["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&d.Url&&d.Url.Apply&&d.Url.Apply.Parameters){d.Url.Apply.Parameters.forEach(function(P){if(P.Type==="LabeledElement"){A.push(P.Value.Path);}});}if((d["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&d.Url&&d.Url.Path){A.push(d.Url.Path);}if(A.length>0){var b="";A.forEach(function(P){if(b){b=b+",";}b=b+P;});p+='", "additionalProperty":"'+b;}var N=false;if(c["Org.OData.Capabilities.V1.SortRestrictions"]&&c["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties){var f=c["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties;for(var i=f.length-1;i>=0;i--){if(f[i].PropertyPath===d.Value.Path){N=true;break;}}}if(!N){if(n){p+='", "sortProperty":"'+n+C.name;}else{p+='", "sortProperty":"'+C.name;}}var g=false;if(c["Org.OData.Capabilities.V1.FilterRestrictions"]){if(c["Org.OData.Capabilities.V1.FilterRestrictions"].Filterable!=='false'){if(c["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties){var h=c["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties;for(var j=h.length-1;j>=0;j--){if(h[j].PropertyPath===d.Value.Path){g=true;break;}}}}else{g=true;}}if(!g){p+='", "filterProperty":"'+C.name;}}else{p='\\{"columnKey":"'+d.Label.String+'", "actionButton":"true';}return p+'" \\}';},hasActions:function(P){for(var i=0;i<P.length;i++){if(P[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||P[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return true;}}return false;},hasCustomActions:function(r,e,m,f){if(e&&m){if(f){if(m[e]){var M=m[e];if(M.EntitySet===e){var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(!M.Sections){return false;}var s=M.Sections[F];if(s&&s.id===F&&s.Actions){for(var i in s.Actions){if(s.Actions[i].requiresSelection!==false){return true;}}}}}}else{if(m["sap.suite.ui.generic.template.ListReport.view.ListReport"]){m=m["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"];}else if(m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]){m=m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"];}if(m&&m[e]){var M=m[e];if(M.EntitySet===e){if(M.Actions){for(var i in M.Actions){if(M.Actions[i].requiresSelection!==false){return true;}}}}}}}return false;},getSelectionModeGridTable:function(e,r,m,f,E,R,I){for(var i in R.pages){if(R.pages[i].entitySet===r&&sap.suite.ui.generic.template.js.AnnotationHelper.hasSubObjectPage(E,R.pages[i].pages)){return"Single";}}if((sap.suite.ui.generic.template.js.AnnotationHelper.hasActions(e)||sap.suite.ui.generic.template.js.AnnotationHelper.hasCustomActions(R,r,m,f))){return"Single";}var d=E["Org.OData.Capabilities.V1.DeleteRestrictions"];if(d&&d.Deletable){if(d.Deletable.Bool&&d.Deletable.Bool!=='false'){return"{= ${ui>/editable} ? 'Single' : 'None' }";}if(d.Deletable.Path){return"{= ${ui>/editable} ? 'Single' : 'None' }";}}if(I){return"{= ${ui>/editable} ? 'Single' : 'None' }";}return"None";},getSelectionModeResponsiveTable:function(e,r,m,f,E,R,i){if(sap.suite.ui.generic.template.js.AnnotationHelper.hasActions(e)||sap.suite.ui.generic.template.js.AnnotationHelper.hasCustomActions(R,r,m,f)){return"SingleSelectLeft";}var d=E["Org.OData.Capabilities.V1.DeleteRestrictions"];if(d&&d.Deletable){if(d.Deletable.Bool&&d.Deletable.Bool!=='false'){return"{= ${ui>/editable} ? 'SingleSelectLeft' : 'None' }";}if(d.Deletable.Path){return"{= ${ui>/editable} ? 'SingleSelectLeft' : 'None' }";}}if(i){return"{= ${ui>/editable} ? 'SingleSelectLeft' : 'None' }";}return"None";},getSortOrder:function(P){var s='';for(var i=0;i<P.length;i++){if(!s){s=P[i].Property.PropertyPath;}else{s=s+', '+P[i].Property.PropertyPath;}if(P[i].Descending){s=s+' '+P[i].Descending.Bool;}}return s;},replaceSpecialCharsInId:function(i){if(i.indexOf(" ")>=0){jQuery.sap.log.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.");}return i.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::");},getStableIdPartFromDataField:function(d){var p="",I="";if(d.RecordType&&d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Action.String);}else if(d.RecordType&&d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(d.SemanticObject.String){I=sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.SemanticObject.String);}else if(d.SemanticObject.Path){I=sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.SemanticObject.Path);}if(d.Action&&d.Action.String){I=I+"::"+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Action.String);}else if(d.Action&&d.Action.Path){I=I+"::"+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Action.Path);}return I;}else if(d.RecordType&&d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Target.AnnotationPath);}else if(d.Value&&d.Value.Path){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Value.Path);}else if(d.Value&&d.Value.Apply&&d.Value.Apply.Name==="odata.concat"){for(var i=0;i<d.Value.Apply.Parameters.length;i++){if(d.Value.Apply.Parameters[i].Type==="Path"){if(p){p=p+"::";}p=p+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Value.Apply.Parameters[i].Value);}}return p;}else{jQuery.sap.log.error("Annotation Helper: Unable to create a stable ID. Please check the annotations.");}},getStableIdPartFromDataPoint:function(d){var p="";if(d.Value&&d.Value.Path){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Value.Path);}else if(d.Value&&d.Value.Apply&&d.Value.Apply.Name==="odata.concat"){for(var i=0;i<d.Value.Apply.Parameters.length;i++){if(d.Value.Apply.Parameters[i].Type==="Path"){if(p){p=p+"::";}p=p+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Value.Apply.Parameters[i].Value);}}return p;}else{jQuery.sap.log.error("Annotation Helper: Unable to create stable ID derived from annotations.");}},getStableIdPartFromFacet:function(f){var h="";if(typeof this.getContext==="function"&&this.getContext()&&this.getContext().getPath()&&this.getContext().getPath().indexOf("com.sap.vocabularies.UI.v1.HeaderFacets")>=0){h="headerEditable::";}if(f.RecordType&&f.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(f.ID&&f.ID.String){return h+f.ID.String;}else{jQuery.sap.log.error("Annotation Helper: Unable to create a stable ID. You have to set an ID at all collection facets.");return Math.floor((Math.random()*99999)+1).toString();}}else if(f.RecordType&&f.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){if(f.ID&&f.ID.String){return h+f.ID.String;}else{return h+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(f.Target.AnnotationPath);}}else{jQuery.sap.log.error("Annotation Helper: Unable to create a stable ID. Please check the facet annotations.");return Math.floor((Math.random()*99999)+1).toString();}},extensionPointBeforeFacetExists:function(e,f,m){if(m){var E="BeforeFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[E];}return false;},extensionPointAfterFacetExists:function(e,f,m){if(m){var E="AfterFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[E];}return false;},getExtensionPointBeforeFacetTitle:function(e,f,m){var E="BeforeFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[E];if(o&&o['sap.ui.generic.app']&&o['sap.ui.generic.app'].title){return o['sap.ui.generic.app'].title;}},getExtensionPointAfterFacetTitle:function(e,f,m){var E="AfterFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[E];if(o&&o['sap.ui.generic.app']&&o['sap.ui.generic.app'].title){return o['sap.ui.generic.app'].title;}},getRepeatIndex:function(v){if(v&&v.getPath()){var p="0000000000";var P=p+((parseInt(v.getPath().substring(v.getPath().lastIndexOf("/")+1),10)+1)*10).toString();return P.substr(P.length-p.length);}else{jQuery.sap.log.error("Annotation Helper: Unable to get index.");}},getColumnListItemType:function(l,s){if(sap.suite.ui.generic.template.js.AnnotationHelper.hasSubObjectPage(l,s)){return"Navigation";}else{return"Inactive";}},hasSubObjectPage:function(l,s){var h=false;if(l.name&&s&&s.length>0){s.forEach(function(S){if(l.name===S.entitySet){h=true;return h;}});}return h;},isRelatedEntityCreatable:function(I,s,r,S,f,o){var b=false;var m=I.getInterface(0).getModel();var c=s["Org.OData.Capabilities.V1.InsertRestrictions"];var d=m.getODataEntityType(s.entityType);if(a.hasSubObjectPage(r,S)||(o&&a.isInlineCreate(f,o))){b="{= ${ui>/editable}}";if(c&&c.NonInsertableNavigationProperties&&c.NonInsertableNavigationProperties.length>0){for(var i=0;i<c.NonInsertableNavigationProperties.length;i++){var n=c.NonInsertableNavigationProperties[i];var N=sap.suite.ui.generic.template.js.AnnotationHelper._getNonInsertableNavigationPropertyPath(n);if(N){var A=m.getODataAssociationSetEnd(d,N);if(A&&A.entitySet===r.name){if(n.If&&n.If.length===2){var e=n.If[0];var F=e.Not?e.Not.Path:e.Path;if(sap.suite.ui.generic.template.js.AnnotationHelper._isPropertyPathBoolean(m,d.entityType,F)){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(I,F,d.name);if(e.Not){b="{= ${ui>/editable} ? ${"+F+"} : false}";}else{b="{= ${ui>/editable} ? !${"+F+"} : false}";}}else{b=false;jQuery.sap.log.warning("Creatable-Path is not valid. Creation for "+r.name+" is disabled");}}else{b=false;}break;}}}}}return b;},_getNonInsertableNavigationPropertyPath:function(n){var N;if(n.NavigationPropertyPath){N=n.NavigationPropertyPath;}else if(n.If){N=n.If[1].NavigationPropertyPath;}return N;},areDeleteRestrictionsValid:function(m,e,r){var b=!(r&&r.Deletable&&r.Deletable.Bool&&r.Deletable.Path)&&((!r)||(r.Deletable&&r.Deletable.Bool)||(r.Deletable&&r.Deletable.Path&&sap.suite.ui.generic.template.js.AnnotationHelper._isPropertyPathBoolean(m,e,r.Deletable.Path)));if(!b){jQuery.sap.log.error("Service Broken: Delete Restrictions annotations are invalid. ");}return b;},_areUpdateRestrictionsValid:function(m,e,r){var b=!(r&&r.Updatable&&r.Updatable.Bool&&r.Updatable.Path)&&((!r)||(r.Updatable&&r.Updatable.Bool)||(r.Updatable&&r.Updatable.Path&&sap.suite.ui.generic.template.js.AnnotationHelper._isPropertyPathBoolean(m,e,r.Updatable.Path)));if(!b){jQuery.sap.log.error("Service Broken: Delete Restrictions annotations are invalid. ");}return b;},_isPropertyPathBoolean:function(m,e,p){var P=p;var o=m.getODataEntityType(e);if(P.indexOf("/")>-1){var b=P.split("/");for(var j=0;j<b.length-1;j++){var A=m.getODataAssociationEnd(o,b[j]);o=m.getODataEntityType(A.type);}P=b[b.length-1];}var O=m.getODataProperty(o,P);return(O&&O.type==="Edm.Boolean");},actionControl:function(i,A,e){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(i,A,e);if(A){return"{path: '"+A+"'}";}else{return"true";}},_actionControlExpand:function(i,p,e){var E=[],s;i=i.getInterface(0);var m=i.getModel();var o=m.getODataEntityType(e);if(p){s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,p);if(s){E.push(s);}}if(E.length>0){var P=i.getSetting("preprocessorsData");if(P){var r=P.rootContextExpand||[];for(var j=0;j<E.length;j++){if(r.indexOf(E[j])===-1){r.push(E[j]);}}P.rootContextExpand=r;}}},getEntityTypesForFormPersonalization:function(i,f,e){i=i.getInterface(0);var E=[];var m=i.getModel();var o=m.getODataEntitySet(e.name||'');var F=[];if(f.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"&&f.Facets){F=f.Facets;}else if(f.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){F.push(f);}F.forEach(function(f){var n;if(f.Target&&f.Target.AnnotationPath&&f.Target.AnnotationPath.indexOf("/")>0){n=f.Target.AnnotationPath.split("/")[0];var b=m.getODataEntityType(o.entityType);var A=m.getODataAssociationSetEnd(b,n);if(A&&A.entitySet){o=m.getODataEntitySet(A.entitySet);if(E.indexOf(o.entityType.split(".")[1])===-1){E.push(o.entityType.split(".")[1]);}}}else{if(E.indexOf(e.entityType.split(".")[1])===-1){E.push(e.entityType.split(".")[1]);}}});return E.join(", ");},formatHeaderTitle:function(i,d){return"{parts: [{path: 'ui>/createMode'}, {path: '"+d.Title.Value.Path+"'}], formatter: '._templateFormatters.formatDefaultObjectTitle'}";},_mapTextArrangement4smartControl:function(t){var T="descriptionAndId";switch(t){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":T="idAndDescription";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate":T="idOnly";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":T="descriptionOnly";break;default:break;}return T;},getTextArrangementForSmartControl:function(i,f,r,e){i=i.getInterface(0);var E;var m=i.getModel();if(r.name==undefined){E=m.getODataEntityType(e.entityType);}else{E=m.getODataEntityType(r.entityType);}var t="descriptionAndId";if(m.getODataProperty(E,f.Value.Path)){var p=m.getODataProperty(E,f.Value.Path)["com.sap.vocabularies.Common.v1.Text"];if(p&&p["com.sap.vocabularies.UI.v1.TextArrangement"]&&p["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=sap.suite.ui.generic.template.js.AnnotationHelper._mapTextArrangement4smartControl(p["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(E["com.sap.vocabularies.UI.v1.TextArrangement"]&&E["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=sap.suite.ui.generic.template.js.AnnotationHelper._mapTextArrangement4smartControl(E["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}return t;},isDeepFacetHierarchy:function(f){if(f.Facets){for(var i=0;i<f.Facets.length;i++){if(f.Facets[i].RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){return true;}}}return false;},doesCollectionFacetOnlyContainForms:function(f){var r=true;if(f.Facets){for(var i=0;i<f.Facets.length;i++){if(f.Facets[i].Target&&f.Facets[i].Target.AnnotationPath){if((f.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")<0)&&(f.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Identification")<0)&&(f.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.DataPoint")<0)){r=false;}}}}else{r=false;}return r;},doesFieldGroupContainOnlyOneMultiLineDataField:function(f,F){if(f.Data.length!==1){return false;}if((F['com.sap.vocabularies.UI.v1.MultiLineText']===undefined)||(f.Data[0].RecordType!=="com.sap.vocabularies.UI.v1.DataField")){return false;}return true;},testFormatter:function(v){return"formatted:"+v;},getFacetID:function(e,f){return e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);},formatComponentSettings:function(i,e,r,n){var t=i.getInterface(0),m=t.getModel(),E=m.getODataEntityType(e.entityType);n=n||r.binding;if(n){var A=m.getODataAssociationSetEnd(E,n);if(A&&A.entitySet){e=m.getODataEntitySet(A.entitySet);E=m.getODataEntityType(e.entityType);}}var s=sap.ui.model.odata.AnnotationHelper.format(t,e["com.sap.vocabularies.Common.v1.SemanticObject"]);var o="";E.key.propertyRef.forEach(function(k){o+="{"+k.name+"}::";});o=o.replace(/::$/,"");var b={"uiMode":"{= ${ui>/createMode} ? '"+U.Create+"' : ( ${ui>/editable} ? '"+U.Edit+"' : '"+U.Display+"') }","semanticObject":s||""};if(r){jQuery.extend(b,r.settings);var v=JSON.stringify(b);v=v.replace(/\}/g,"\\}").replace(/\{/g,"\\{");return v;}},isListReportTemplate:function(r){if(r){return r.template==="sap.suite.ui.generic.template.ListReport";}},isAnalyticalListPageOrListReportTemplate:function(r){if(r){return(r.template==="sap.suite.ui.generic.template.AnalyticalListPage"||r.template==="sap.suite.ui.generic.template.ListReport");}},getStableIdPartForDatafieldActionButton:function(d,f){var s="";var D="";var F="";if(f){F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);}if(d){D=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(d);}s=(F!==""?F+"::":"")+"action::"+D;return s;},_hasCustomDeterminingActionsInListReport:function(e,m){if(m&&m[e]){var M=m[e];if(M.Actions){for(var b in M.Actions){if(M.Actions[b].determining){return true;}}}}return false;},_hasCustomDeterminingActionsInObjectPage:function(e,m){if(m&&m[e]){var M=m[e];if(M.Header&&M.Header.Actions){for(var b in M.Header.Actions){if(M.Header.Actions[b].determining){return true;}}}}return false;},hasDeterminingActionsRespectingApplicablePath:function(c,t,e,m){var A="";c=c.getInterface(0);if(e&&m&&m["sap.suite.ui.generic.template.ObjectPage.view.Details"]&&sap.suite.ui.generic.template.js.AnnotationHelper._hasCustomDeterminingActionsInObjectPage(e,m["sap.suite.ui.generic.template.ObjectPage.view.Details"]["sap.ui.generic.app"])){return"true";}if(t){for(var r=0;r<t.length;r++){if((t[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction")&&t[r].Determining&&t[r].Determining.Bool==="true"){var f=c.getModel().getODataFunctionImport(t[r].Action.String,true);var F=c.getModel().getObject(f);if(F["sap:applicable-path"]){if(A.length>0){A+=" || ";}A+="${path: '"+F["sap:applicable-path"]+"'}";}else{return"true";}}}}if(A.length>0){return"{= "+A+" || ${ui>/editable}}";}else{return"{ui>/editable}";}},hasDeterminingActions:function(t,e,m){if(e&&m&&m["sap.suite.ui.generic.template.ListReport.view.ListReport"]&&sap.suite.ui.generic.template.js.AnnotationHelper._hasCustomDeterminingActionsInListReport(e,m["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"])){return"true";}else if(e&&m&&m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]&&sap.suite.ui.generic.template.js.AnnotationHelper._hasCustomDeterminingActionsInListReport(e,m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"])){return"true";}for(var r=0;r<t.length;r++){if((t[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||t[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&t[r].Determining&&t[r].Determining.Bool==="true"){return"true";}}return"false";},actionControlDetermining:function(r,A){if(sap.suite.ui.generic.template.js.AnnotationHelper.isListReportTemplate(r)||!A){return true;}else{return"{path: '"+A+"'}";}},actionControlInline:function(A){if(!A){return true;}else{return"{path: '"+A+"'}";}},actionControlBreakout:function(A){if(!A){return true;}else{return"{path: '"+A+"'}";}},buildExpressionForProgressIndicatorPercentValue:function(i,d,u){var p="0";if(d.Value&&d.Value.Path){var v="$"+sap.ui.model.odata.AnnotationHelper.format(i,d.Value);var t,s;if(d.TargetValue){t=sap.ui.model.odata.AnnotationHelper.format(i,d.TargetValue);t=d.TargetValue.Path?"$"+t:t;}if(u){u=u['Org.OData.Measures.V1.Unit']||u["Org.OData.Measures.V1.ISOCurrency"];if(u){s=sap.ui.model.odata.AnnotationHelper.simplePath(i,u);s=s&&u.Path?"$"+s:"'"+s+"'";}}var e="({0} > 100 ? 100 : {0} < 0 ? 0 : {0})";var E="(({1} > 0) ? (({0} > {1}) ? 100 : (({0} < 0) ? 0 : ({0} / {1} * 100))) : 0)";var b="'{'= ({2} === ''%'') ? "+e+" : "+E+" '}'";p=jQuery.sap.formatMessage(b,[v,t,s]);}return p;},buildExpressionForProgressIndicatorDisplayValue:function(i,d,u){var p;var b=function(i,P){var s=sap.suite.ui.generic.template.js.AnnotationHelper.trimCurlyBraces(sap.ui.model.odata.AnnotationHelper.format(i,P));var c="{path: '"+s+"'}";return c;};p=b(i,d.Value)+", "+b(i,d.TargetValue)+", "+b(i,u);var D="{ parts: ["+p+"], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatDisplayValue' }";return D;},formatDisplayValue:function(v,t,u){var d="";if(v){var c=this;var r=c.getModel("i18n").getResourceBundle();var C=c.getCustomData();t=t||C[0].getValue();u=u||C[1].getValue();if(u){if(u==='%'){d=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_PERCENT",[v]);}else{if(t){d=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT",[v,t,u]);}else{d=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT_NO_TARGET_VALUE",[v,u]);}}}else{if(t){d=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[v,t]);}else{d=v;}}}else{jQuery.sap.log.warning("Value property is mandatory, the default (empty string) will be returned");}return d;},buildExpressionForProgressIndicatorCriticality:function(i,d){var f=sap.ui.core.ValueState.None;var e;var c=d.Criticality;if(c){e="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+sap.ui.core.ValueState.Error+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+sap.ui.core.ValueState.Warning+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+sap.ui.core.ValueState.Success+"'' : "+"''"+sap.ui.core.ValueState.None+"'' '}'";if(c.Path){var C='$'+sap.ui.model.odata.AnnotationHelper.simplePath(i,c);f=jQuery.sap.formatMessage(e,C);}else if(c.EnumMember){var s="'"+c.EnumMember+"'";f=jQuery.sap.formatMessage(e,s);}else{jQuery.sap.log.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}}else{jQuery.sap.log.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}return f;},trimCurlyBraces:function(v){return v?v.replace("{","").replace("}",""):undefined;},getEntitySetName:function(r,e){var E="";try{E=r.name||e.name;}catch(o){jQuery.sap.log.warning("At least one of the input parameters is undefined. Returning default value for entity set name.");}return E;},getBreakoutActionEnabledKey:function(A){var e="{_templPriv>/generic/listCommons/breakoutActionsEnabled/"+A.id+"/enabled}";return e;},buildVisibilityExprOfDataFieldForIntentBasedNaviButton:function(d){if(d.Inline.Bool=="false"&&d.RequiresContext.Bool=="false"){var s=d.SemanticObject.String;var A=d.Action.String;return"{= !!${_templPriv>/generic/supportedIntents/"+s+"/"+A+"/visible}}";}else{return true;}}};sap.suite.ui.generic.template.js.AnnotationHelper=a;sap.suite.ui.generic.template.js.AnnotationHelper.formatComponentSettings.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getRepeatIndex.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatWithExpand.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatWithExpandSimple.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getNavigationPathWithExpand.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getCurrentPathWithExpand.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getEntityTypesForFormPersonalization.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.actionControl.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatHeaderTitle.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getTextArrangementForSmartControl.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.matchesBreadCrumb.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13N.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForIndicator.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForAction.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForContactPopUp.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForChart.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.hasDeterminingActionsRespectingApplicablePath.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildExpressionForProgressIndicatorPercentValue.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildExpressionForProgressIndicatorDisplayValue.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildExpressionForProgressIndicatorCriticality.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getEditActionButtonVisibility.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getDeleteActionButtonVisibility.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.isRelatedEntityCreatable.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildBreadCrumbExpression.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getApplicablePathForChartToolbarActions.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildAnnotatedActionButtonEnablementExpression.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterText.requiresIContext=true;})();
