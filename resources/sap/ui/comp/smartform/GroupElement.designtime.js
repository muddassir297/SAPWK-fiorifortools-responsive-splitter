/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/comp/smartform/SmartForm"],function(S){"use strict";var I=function(E){var b=E.mBindingInfos;if(Object.keys(b).length===0){return false;}else{for(var p in b){var P=b[p].parts;for(var i=0;i<P.length;i++){var m;if(P[i].model){m=E.getModel(P[i].model).getMetadata().getName();if(m==="sap.ui.model.odata.ODataModel"||m==="sap.ui.model.odata.v2.ODataModel"){return true;}}else{m=E.getModel().getMetadata().getName();if(m==="sap.ui.model.odata.ODataModel"||m==="sap.ui.model.odata.v2.ODataModel"){return true;}}}}return false;}};var h=function(o){var E=o.getFields();if(E.length===0){return true;}for(var j=0;j<E.length;j++){var a=E[j];if(!a.getDomRef()){continue;}if(!I(a)){return true;}}return false;};var H=function(o){var E=o.getFields();if(E.length===0){return false;}for(var j=0;j<E.length;j++){var a=E[j];if(a.getMandatory&&a.getMandatory()){return true;}}return false;};var g=function(E){if(E instanceof S){return E;}else if(E.getParent()){return g(E.getParent());}};var G=function(s){if(s.getFields&&s.getFields()){return s.getFields().length;}return 0;};var e=function(c){var C=0;c.forEach(function(o){C+=G(o);});if(C<2||C>3){return false;}return true;};return{name:{singular:"FIELD_CONTROL_NAME",plural:"FIELD_CONTROL_NAME_PLURAL"},actions:{remove:{changeType:"hideControl",isEnabled:function(o){return!h(o);},getConfirmationText:function(o){var t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.comp");if(H(o)){var s=o.getLabelText()||o.getId();return t.getText("GROUP_ELEMENT_DESIGN_TIME_REMOVE_MANDATORY_FIELD_MESSAGE",s);}}},reveal:{changeType:"unhideControl"},rename:{changeType:"renameField",isEnabled:function(c){if(c.getLabel()){return true;}return false;},domRef:function(c){return c.getLabel().getDomRef();}},combine:{changeType:"combineFields",changeOnRelevantContainer:true,isEnabled:function(c){return e(c);}},split:{changeType:"splitField",changeOnRelevantContainer:true,getControlsCount:function(o){return G(o);}}},getRelevantContainer:function(o){return g(o);},functions:{hasUnboundFields:h,hasMandatoryFields:H,getSmartForm:g},properties:{useHorizontalLayout:{ignore:true},horizontalLayoutGroupElementMinWidth:{ignore:true},elementForLabel:{ignore:true}}};},true);
