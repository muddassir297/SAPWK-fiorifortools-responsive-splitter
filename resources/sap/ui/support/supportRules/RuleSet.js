/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2017 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/ui/base/Object"],function(q,B){"use strict";var r={};var R=function(s){if(!s.name){q.sap.log.error("Please provide a name for the Ruleset.");}if(r[s.name]){return r[s.name];}this._oSettings=s;this._mRules={};r[s.name]=this;};R.prototype.getRules=function(){return this._mRules;};R.prototype.updateRule=function(o,n){var v=this._verifySettingsObject(n,true);if(v==="success"){delete this._mRules[o];this._mRules[n.id]=n;}return v;};R.prototype._verifySettingsObject=function(s,u){if(!s.id){q.sap.log.info("Support rule needs an unique id.");return"Support rule needs an unique id.";}if(!u&&this._mRules[s.id]){q.sap.log.info("Support rule with the id "+s.id+" already exists.");return"Support rule with the id "+s.id+" already exists.";}if(!s.check){q.sap.log.info("Support rule needs a check function.");return"Support rule needs a check function.";}if(!s.title){q.sap.log.info("Support rule needs a title.");return"Support rule needs a title.";}if(!s.description){q.sap.log.info("Support rule needs a description.");return"Support rule needs a description.";}if(!s.resolution&&(!s.resolutionurls||!s.resolutionurls.length>0)){q.sap.log.info("Support rule needs either a resolution or resolutionurls or should have a ticket handler function");return"Support rule needs either a resolution or resolutionurls or should have a ticket handler function";}if(!s.audience||s.audience.length===0){q.sap.log.info("Support rule should have an audience. Applying ['Control']");s.audience=[sap.ui.support.Audiences.Control];}if(s.audience&&s.audience.forEach){var w=false,a="";s.audience.forEach(function(d){if(!sap.ui.support.Audiences[d]){w=true;a=d;}});if(w){return"Audience "+a+" does not exist. Please use the audiences from sap.ui.support.Audiences";}}if(!s.categories||s.categories.length===0){q.sap.log.info("Support rule should have a category. Applying 'Performance'");s.category=["Performance"];}if(s.categories&&s.categories.forEach){var b=false,c="";s.categories.forEach(function(d){if(!sap.ui.support.Categories[d]){b=true;c=d;}});if(b){return"Category "+c+" does not exist. Please use the categories from sap.ui.support.Categories";}}return"success";};R.prototype.addRule=function(s){var v=this._verifySettingsObject(s);if(v==="success"){this._mRules[s.id]=s;s.libName=this._oSettings.name;}return v;};return R;},true);
