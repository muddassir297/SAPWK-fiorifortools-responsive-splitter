sap.ui.define(["jquery.sap.global","sap/ui/core/Control","sap/ui/thirdparty/ace/ace","sap/ui/thirdparty/ace/mode-javascript","sap/ui/thirdparty/ace/mode-json"],function(q,C){"use strict";var a=C.extend("sap.ui.core.support.tools.ui.CodeEditor",{metadata:{library:"sap.ui.core",properties:{value:{type:"string",group:"Misc",defaultValue:""},type:{type:"string",group:"Appearance",defaultValue:"javascript"},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"400px"},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"400px"},editable:{type:"boolean",group:"Behavior",defaultValue:true},showLineNumbers:{type:"boolean",group:"Behavior",defaultValue:true}},events:{liveChange:{},change:{}},defaultProperty:"content"},renderer:function(r,c){r.write("<div ");r.writeControlData(c);r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.write(">");r.write("</div>");}});a.prototype.init=function(){var d=document.createElement("div");var t=this;this._oEditorDomRef=d;this._oEditorDomRef.style.height="100%";this._oEditorDomRef.style.width="100%";this._oEditor=window.ace.edit(d);this._oEditor.setValue("");this._oEditor.getSession().setUseWrapMode(true);this._oEditor.getSession().setMode("ace/mode/javascript");this._oEditor.renderer.setShowGutter(true);this._oEditor.addEventListener("change",function(e){var v=t.getCurrentValue();t.fireLiveChange({value:v,editorEvent:e});});this._oEditor.addEventListener("blur",function(e){var v=t.getCurrentValue(),c=t.getValue();t.setProperty("value",v,true);if(v!=c){t.fireChange({value:v,oldValue:c});}});};a.prototype.invalidate=function(){};a.prototype.setEditable=function(v){this.setProperty("editable",v,true);this._oEditor.setReadOnly(!this.getEditable());return this;};a.prototype.focus=function(){this._oEditor.focus();};a.prototype.setType=function(t){this.setProperty("type",t,true);this._oEditor.getSession().setMode("ace/mode/"+this.getType());return this;};a.prototype.setValue=function(v){this.setProperty("value",v,true);this._oEditor.setValue(this.getProperty("value"));return this;};a.prototype.getCurrentValue=function(){return this._oEditor.getValue();};a.prototype.showLineNumbers=function(v){this.setProperty("showLineNumbers",v,true);this._oEditor.renderer.setShowGutter(this.getShowLineNumbers());return this;};a.prototype.onAfterRendering=function(){this.getDomRef().appendChild(this._oEditorDomRef);};return a;},true);
