sap.ui.predefine('sap/ushell/components/factsheet/Component',['sap/ui/core/UIComponent'],function(U){"use strict";var C=U.extend("sap.ushell.components.factsheet.Component",{oMainView:null,metadata:{version:"@version@",library:"sap.ushell.components.factsheet",dependencies:{libs:["sap.m","sap.ui.vbm","sap.suite.ui.commons","sap.ui.layout","sap.viz"],components:[]}},createContent:function(){var c=this.getComponentData();var s=(c&&c.startupParameters)||{};this.oMainView=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.components.factsheet.views.ThingViewer",viewData:s,height:"100%"}).addStyleClass("ThingViewer");return this.oMainView;},exit:function(){window.console.log("On Exit of factsheet Component.js called : this.getView().getId()"+this.getId());},onExit:function(){window.console.log("On Exit of factsheet Component.js called : this.getView().getId()"+this.getId());}});jQuery.sap.setObject("factsheet.Component",C);return C;});
sap.ui.predefine('sap/ushell/components/factsheet/views/ThingViewer.controller',function(){"use strict";sap.ui.controller("sap.ushell.components.factsheet.views.ThingViewer",{setService:function(u){this.getView().setModel(new sap.ui.model.odata.ODataModel(u));}});},false);
sap.ui.predefine('sap/ushell/components/factsheet/views/ThingViewer.view',['sap/ushell/components/factsheet/tools/ODataUrlTemplating'],function(O){"use strict";sap.ui.jsview("sap.ushell.components.factsheet.views.ThingViewer",{getControllerName:function(){return"sap.ushell.components.factsheet.views.ThingViewer";},createContent:function(c){var e,a,E,t,v,s;v=this.getViewData();jQuery.sap.require("sap.ushell.components.factsheet.factory.ThingInspector");e=v.entity||v.service;if(!e){E=v.entityTemplateURI||v.template;if(E){if(typeof E!=="string"){E=E[0];}E=E.replace(/%25/g,"%");E=E.replace(/%28/g,"(");E=E.replace(/%29/g,")");E=E.replace(/%27/g,"'");E=E.replace(/%3D/g,"=");E=E.replace(/%7B/g,"{");E=E.replace(/%7D/g,"}");e=O.resolve(E,v);}}a=v.annotationURI||v.annotation;if(typeof e!=="string"){e=e[0];}if(typeof a!=="string"){a=a[0];}s=e.substr(0,e.lastIndexOf("/"));jQuery.sap.require("sap.ui.model.odata.ODataUtils");function b(C,s){var S;if(sap.ui.model.odata&&sap.ui.model.odata.ODataUtils&&typeof sap.ui.model.odata.ODataUtils.setOrigin==="function"){if(!(C&&C.getComponentData())){throw new Error("no component passed");}if(C&&C.getComponentData()&&C.getComponentData().startupParameters&&C.getComponentData().startupParameters["sap-system"]){S=C.getComponentData().startupParameters["sap-system"][0];s=sap.ui.model.odata.ODataUtils.setOrigin(s,{alias:S});}}return s;}s=b(sap.ui.core.Component.getOwnerComponentFor(this),s);s=s+e.substr(e.lastIndexOf("/"));t=sap.ushell.components.factsheet.factory.ThingInspector(s,a);t.addStyleClass("ThingInspector");return t;}});},false);
sap.ui.predefine('sap/ushell/components/tiles/indicatorHarveyBall/HarveyBallTile.controller',function(){"use strict";sap.ui.controller("tiles.indicatorHarveyBall.HarveyBallTile",{onInit:function(){this.getView().setModel(new sap.ui.model.json.JSONModel());this.initializeVariables();this.attachHandlers();this.getVariable("tile").setState(sap.suite.ui.commons.LoadState.Loading);this.readChipConfiguration();},attachHandlers:function(){var t=this;var c=this.getVariable("chip");if(c.visible){c.visible.attachVisible(function(v){if(v){t.onVisible();}else{t.abortAllOpenODataRequests();}});}this.getVariable("tile").attachPress(function(){t.abortAllOpenODataRequests();var i=t.getVariable("indicatorUtils");t.getVariable("cache").setKpivalueById(t.getVariable("chipId"),null);window.location.hash=i.getNavigationTarget(t.getVariable("evalData"),t.getVariable("system"));});},initializeVariables:function(){this._variables={};this._oDataRequests={};var v=this.getView();var V=v.getViewData();var t=v.oTile;var c=V.chip;this.setVariable("indicatorUtils",sap.ushell.components.tiles.indicatorTileUtils.util);this.setVariable("cache",sap.ushell.components.tiles.indicatorTileUtils.cache);this.setVariable("hasAppeared",false);this.setVariable("chip",c);this.setVariable("tile",t);this.setVariable("tileControl",t.getTileContent()[0].getContent());this.setVariable("configurationString",c.configuration.getParameterValueAsString("tileConfiguration"));this.setVariable("system",c.url.getApplicationSystem());},getVariable:function(k){return this._variables[k];},setVariable:function(k,v){this._variables[k]=v;},readChipConfiguration:function(){var t=this;var c=this.getVariable("chip");var u=this.getVariable("indicatorUtils");u.getParsedChip(this.getVariable("configurationString"),function(e){t.setVariable("evalData",e);t.setVariable("chipId",e.TILE_PROPERTIES.id);t.setVariable("tileProperties",e.TILE_PROPERTIES);if(c.preview){c.preview.setTargetUrl(u.getNavigationTarget(e,t.getVariable("system")));t.loadPreviewData();if(c.preview.isEnabled()){t.getVariable("tile").setState(sap.suite.ui.commons.LoadState.Loaded);}else{t.loadActualData();}}});},loadPreviewData:function(){var t=this.getVariable("indicatorUtils").getTileTitleSubtitle(this.getVariable("chip"));this.getView().getModel().setData({fractionValue:34,value:100,size:sap.suite.ui.commons.InfoTileSize.Auto,frameType:"OneByOne",color:"Good",state:sap.suite.ui.commons.LoadState.Loading,header:t.title||this.getVariable("indicatorUtils").getChipTitle(this.getVariable("evalData")),subheader:t.subTitle||this.getVariable("indicatorUtils").getChipSubTitle(this.getVariable("evalData"))});},loadActualData:function(){if(Number(this.getVariable("chip").configuration.getParameterValueAsString("isSufficient"))){this.getVariable("cache").setEvaluationById(this.getVariable("chipId"),this.getVariable("evalData"));this.onEvalFiltersFetched();}else{this.fetchEvalFilters(this.onEvalFiltersFetched);}},registerOpenODataRequest:function(k,r){this._oDataRequests[k]=r;},deregisterOpenODataRequest:function(k){delete this._oDataRequests[k];},abortAllOpenODataRequests:function(){for(var a in this._oDataRequests){try{this.getVariable("indicatorUtils").abortPendingODataCalls(this._oDataRequests[a]);delete this._oDataRequests[a];}catch(e){}}},fetchKpiValue:function(p){function m(o,u,C,S,g){var D=o.read(u,null,null,true,function(h){t.deregisterOpenODataRequest(C.type);if(h&&h.results&&h.results.length){try{if(C.thresholds&&C.thresholds.length){t._setThresholdValues(h.results[0]);}k[C.type]=h.results[0][C.measure];k.unit=k.unit||h.results[0][C.unit]||"";if(--d==0){t.getVariable("cache").setKpivalueById(t.getVariable("chipId"),k);S.call(t,k);}}catch(e){t.logError(e);}}else{g.call(t,"no data");}},function(e){t.deregisterOpenODataRequest(C.type);if(e&&e.response){g.call(t,e.message);}});t.registerOpenODataRequest(C.type,D);}var t=this;var i=this.getVariable("indicatorUtils");var c=this.getVariable("cache").getKpivalueById(this.getVariable("chipId"));if(c){p.fnS.call(t,c);}else{var M=p.measure1,s=p.measure2;var u=p.url,E=p.entitySet;var v=p.filters;var f=p.fractionFilters.concat(v);var q,Q;var a,b,k;var d=2;f.forEach(function(e){e.value=e.value+"";e.valueTo=e.valueTo+"";});if(p.thresholds&&p.thresholds.length){q=i.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(u),E,M+","+p.thresholds,null,v);}else{q=i.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(u),E,M,null,v);}Q=i.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(u),E,s,null,f);a=q.unit[0];b=Q.unit[0];k={kpiValue:null,fractionValue:null,unit:""};if(q){m(q.model,q.uri,{measure:M,type:"kpiValue",unit:a,thresholds:p.thresholds},p.fnS,p.fnE);}if(Q){m(Q.model,Q.uri,{measure:s,type:"fractionValue",unit:b},p.fnS,p.fnE);}if(!(q&&Q)){p.fnE.call(t,"Error Preparing Query Service URI");}}},_setThresholdValues:function(d){var t=this.getVariable("oThreshold");if(t){if(this.getVariable("evalData").EVALUATION.VALUES_SOURCE=="RELATIVE"){if(t["TA"].COLUMN_NAME){t["TA"].VALUE=parseFloat(d[t["TA"].COLUMN_NAME]);for(var e in t){if(!t[e].COLUMN_NAME){t[e].VALUE=t["TA"].VALUE*t[e].VALUE/100;}}}}else{for(var e in t){if(t[e].COLUMN_NAME){t[e].VALUE=parseFloat(d[t[e].COLUMN_NAME]);}}}}this.setVariable("oThreshold",t);},getThresholdObject:function(){var t=this.getVariable("oThreshold");if(!t){var T=this.getVariable("evalData").EVALUATION_VALUES;var t={};for(var i=0,l=T.length;i<l;i++){t[T[i].TYPE]={VALUE:parseFloat(T[i].FIXED),COLUMN_NAME:T[i].COLUMN_NAME};}this.setVariable("oThreshold",t);}return t;},hasSomeValue:function(){var f=true;if(arguments.length){for(var i=0,l=arguments.length;i<l;i++){if(!(arguments[i]||arguments[i]=="0")){f=false;break;}}}else{f=false;}return f;},getTrendColor:function(k){var c="Neutral";var t,g,W,a,C,b;if(this.getVariable("tileProperties").isFractionMeasure){t=this.getThresholdObject();g=this.getVariable("evalData").EVALUATION.GOAL_TYPE;if(g=="MA"){W=t.WL;C=t.CL;if(this.hasSomeValue(W,C)){c="Good";if(k<C.VALUE){c="Error";}else if(k<=W.VALUE){c="Critical";}}}else if(g=='MI'){a=t.WH;b=t.CH;if(this.hasSomeValue(a,b)){c="Error";if(k<a.VALUE){c="Good";}else if(k<=b.VALUE){c="Critical";}}}else{W=t.WL;C=t.CL;a=t.WH;b=t.CH;if(this.hasSomeValue(a,b,C,W)){if(k<=C.VALUE||k>=a.VALUE){c="Error";}else if((W.VALUE>=k&&k>=C.VALUE)||(b.VALUE>=k&&k>=a.VALUE)){c="Critical";}else{c="Good";}}}}return sap.suite.ui.commons.InfoTileValueColor[c];},_getThresholdMeasures:function(){var t=[];var T=this.getThresholdObject();for(var e in T){if(T[e].COLUMN_NAME){t.push(T[e].COLUMN_NAME);}}return t;},onEvalFiltersFetched:function(){var t=this;if(this.getVariable("chip").visible.isVisible()&&!this.getVariable("hasAppeared")){try{var k=this.getVariable("evalData");var u=k.EVALUATION.ODATA_URL;var E=k.EVALUATION.ODATA_ENTITYSET;var a=this.getVariable("tileProperties");var h=[];var v=this.getVariable("indicatorUtils").prepareFilterStructure(k.EVALUATION_FILTERS,k.ADDITIONAL_FILTERS);var f=k.EVALUATION.COLUMN_NAME;var b=f;var c=[];if(a.isFractionMeasure){b=a.harveyTotalMeasure;c=this._getThresholdMeasures();}else{h=this.getVariable("indicatorUtils").prepareFilterStructure(a.harveyFilters||h);}this.setVariable("totalMeasure",b);this.setVariable("fractionMeasure",f);this.fetchKpiValue({measure1:b,measure2:f,entitySet:E,thresholds:c,url:u,filters:v,fractionFilters:h,fnS:function(d){d.kpiValue=Number(d.kpiValue);d.fractionValue=Number(d.fractionValue);t.setVariable("kpiValue",d.kpiValue);t.setVariable("fractionValue",d.fractionValue);t.onKpiValueFetched(d.kpiValue,d.unit,d.fractionValue);},fnE:this.logError});t.setVariable("hasAppeared",true);}catch(e){this.logError(e);}}},fetchEvalFilters:function(s){var t=this;try{var a=this.getVariable("cache").getEvaluationById(this.getVariable("chipId"));if(a){this.getVariable("evalData").EVALUATION_FILTERS=a.EVALUATION_FILTERS;s();}else{var d=this.getVariable("indicatorUtils").getFilterFromRunTimeService(this.getVariable("evalData"),function(f){t.deregisterOpenODataRequest("kpiFilterRequest");t.getVariable("evalData").EVALUATION_FILTERS=f;t.getVariable("cache").setEvaluationById(t.getVariable("chipId"),t.getVariable("evalData"));s.call(t);},function(e){this.logError(e);t.deregisterOpenODataRequest("kpiFilterRequest");});this.registerOpenODataRequest("kpiFilterRequest",d);}}catch(e){this.logError(e);}},onKpiValueFetched:function(k,a,f,b){var i=this.getVariable("indicatorUtils");var s=k;var d=f;var e=this.getVariable("evalData");var g=e.EVALUATION.SCALING;if(g==-2){s*=100;d*=100;}var c=this.isACurrencyMeasure(this.getVariable("totalMeasure"));s=i.getLocaleFormattedValue(Number(s),g,null,c,a);c=this.isACurrencyMeasure(this.getVariable("fractionMeasure"));d=i.getLocaleFormattedValue(Number(d),g,null,c,a);this.getView().getModel().setProperty("/totalLabel",s+" "+a);this.getView().getModel().setProperty("/fractionLabel",d+" "+b);this.getView().getModel().setProperty("/color",this.getTrendColor(f));this.getView().getModel().setProperty("/value",k);this.getView().getModel().setProperty("/fractionValue",f);var n=i.getNavigationTarget(this.getVariable("evalData"),this.getVariable("system"));this.getVariable("tile").$().wrap("<a href ='"+n+"'/>");this.getVariable("tile").setState(sap.suite.ui.commons.LoadState.Loaded);},logError:function(e){this.getVariable("tile").setState(sap.suite.ui.commons.LoadState.Failed);this.getVariable("indicatorUtils").logError(e,this.getVariable("tile"));},onVisible:function(i){if(!this.getVariable("hasAppeared")){if(Number(this.getVariable("chip").configuration.getParameterValueAsString("isSufficient"))){this.onEvalFiltersFetched();}else{this.fetchEvalFilters(this.onEvalFiltersFetched);}}},onExit:function(){this.abortAllOpenODataRequests();}});},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorHarveyBall/HarveyBallTile.view',['sap/ca/ui/model/format/NumberFormat','sap/ui/model/analytics/odata4analytics','sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil'],function(N,o,s){"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("tiles.indicatorHarveyBall.HarveyBallTile",{getControllerName:function(){},createContent:function(c){var m=new sap.suite.ui.commons.HarveyBallMicroChart({total:"{/value}",size:"{/size}",totalLabel:"{/totalLabel}",items:[new sap.suite.ui.commons.HarveyBallMicroChartItem({fraction:"{/fractionValue}",fractionLabel:"{/fractionLabel}",color:"{/color}"})]});var t=new sap.suite.ui.commons.TileContent({size:"{/size}",content:m});this.oTile=new sap.suite.ui.commons.GenericTile({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[t]});}});},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorTileUtils/indicatorTileHelper',function(){"use strict";var i=function(t){this.tile=t;};i.prototype.setErrorState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Failed);};i.prototype.setLoadingState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Loading);};i.prototype.setLoadedState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Loaded);};i.prototype.setTrendDown=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.Down);};i.prototype.setTrendUp=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.Up);};i.prototype.setTrendNeutral=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.None);};i.prototype.setThresholdGood=function(){};i.prototype.setThresholdBad=function(){};i.prototype.setThresholdCritical=function(){};i.prototype.setThresholdNeutral=function(){};i.prototype.calculateThreshold=function(a,v,b){};i.prototype.setTile=function(t){this.tile=t;};i.prototype.getTile=function(){return this.tile;};return i;},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorTileUtils/oData4Analytics',['sap/ui/core/Core'],function(C){"use strict";sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles.indicatorTileUtils=sap.ushell.components.tiles.indicatorTileUtils||{};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics||{};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants={};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants["SAP_NAMESPACE"]="http://www.sap.com/Protocols/SAPData";sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants["VERSION"]="0.7";sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper={renderPropertyKeyValue:function(f,p){if(f.charAt(0)=="'"){throw"Illegal property value starting with a quote";}switch(p){case'Edm.String':return"'"+f+"'";case'Edm.DateTime':return"datetime'"+f+"'";case'Edm.Guid':return"guid'"+f+"'";case'Edm.Time':return"time'"+f+"'";case'Edm.DateTimeOffset':return"datetimeoffset'"+f+"'";default:return f;}},renderPropertyFilterValue:function(f,p){if(f.charAt(0)=="'"){throw"Illegal property value starting with a quote";}switch(p){case'Edm.String':return"'"+f+"'";case'Edm.DateTime':return"datetime'"+f+"'";case'Edm.Guid':return"guid'"+f+"'";case'Edm.Time':return"time'"+f+"'";case'Edm.DateTimeOffset':return"datetimeoffset'"+f+"'";default:return f;}},tokenizeNametoLabelText:function(n){var l="";l=n.replace(/([^A-Z0-9_]+)([A-Z0-9_])/g,"$1 $2");l=l.replace(/([A-Z0-9_]{2,})([A-Z0-9_])([^A-Z0-9_]+)/g,"$1 $2$3");l=l.replace(/(.*) _E$/,"$1");l=l.replace(/(.*) _(.*)/g,"$1 $2");return l;}};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model=function(m,a){this._init(m,a);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceByURI=function(u){return{sServiceURI:u};};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceByModel=function(m){return{oModel:m};};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceWithWorkaround=function(m,w){return{oModelReference:m,aWorkaroundID:w};};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.prototype={_init:function(m,a){this._oActivatedWorkarounds={};if(m&&m.aWorkaroundID){var w=m.aWorkaroundID;for(var i=0;i<w.length;i++){this._oActivatedWorkarounds[w[i]]=true;}m=m.oModelReference;}if(!m||(!m.sServiceURI&&!m.oModel)){throw"Usage with oModelReference being an instance of Model.ReferenceByURI or Model.ReferenceByModel";}if(m.oModel){this._oModel=m.oModel;}else{this._oModel=new sap.ui.model.odata.ODataModel(m.sServiceURI);}if(this._oModel.getServiceMetadata().dataServices==undefined){throw"Model could not be loaded";}this.mergeV2Annotations(a);this._oQueryResultSet={};this._oParameterizationSet={};this._oEntityTypeSet={};this._oEntitySetSet={};this._oEntityTypeNameToEntitySetMap={};var s=this._oModel.getServiceMetadata().dataServices.schema[0];for(var i=-1,c;c=s.entityContainer[++i];){if(c.isDefaultEntityContainer=="true"){this._oDefaultEntityContainer=c;break;}}var e=s.entityType;var q=[],p=[],u=[];for(var i=-1,t;t=e[++i];){var P=false;if(t.extensions!=undefined){for(var j=-1,E;E=t.extensions[++j];){if(E.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE&&E.name=="semantics"){P=true;switch(E.value){case"aggregate":q.push(t);break;case"parameters":p.push(t);break;default:u.push(t);}}if(P){continue;}}if(!P){u.push(t);}}else{u.push(t);}}for(var i=-1,t;t=u[++i];){var o=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),s,t);this._oEntityTypeSet[o.getQName()]=o;var b=this._getEntitySetsOfType(s,o.getQName());if(b.length==0){throw"Invalid consumption model: No entity set for entity type annotated with parameters semantics";}if(b.length>1){throw"Unsupported consumption model: More than one entity set for entity type annotated with parameters semantics";}var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),s,b[0][0],b[0][1]);this._oEntitySetSet[d.getQName()]=d;this._oEntityTypeNameToEntitySetMap[o.getQName()]=d;}var f={};for(var i=-1,t;t=p[++i];){var o=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),s,t);this._oEntityTypeSet[o.getQName()]=o;var b=this._getEntitySetsOfType(s,o.getQName());if(b.length==0){throw"Invalid consumption model: No entity set for entity type annotated with parameters semantics";}if(b.length>1){throw"Unsupported consumption model: More than one entity set for entity type annotated with parameters semantics";}var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),s,b[0][0],b[0][1]);this._oEntitySetSet[d.getQName()]=d;this._oEntityTypeNameToEntitySetMap[o.getQName()]=d;var g=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization(o,d);this._oParameterizationSet[g.getName()]=g;f[o.getQName()]=g;var h=o.getQName();if(s.association!=undefined){for(var j=-1,A;A=s.association[++j];){if(A.referentialConstraint==undefined){continue;}var k=null;if(A.end[0].type==h&&A.end[0].multiplicity=="*"&&A.end[1].multiplicity=="1"){k=A.end[1].type;}else if(A.end[1].type==h&&A.end[1].multiplicity=="*"&&A.end[0].multiplicity=="1"){k=A.end[0].type;}if(!k){continue;}if(A.referentialConstraint.dependent.propertyRef.length!=1){continue;}var l=g.findParameterByName(A.referentialConstraint.dependent.propertyRef[0].name);if(l==null){continue;}var v=this._oEntityTypeSet[k];var V=this._oEntityTypeNameToEntitySetMap[k];l.setValueSetEntity(v,V);}}}for(var i=-1,t;t=q[++i];){var o=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),s,t);this._oEntityTypeSet[o.getQName()]=o;var Q=o.getQName();var g=null;var n=null;if(s.association!=undefined){for(var j=-1,A;A=s.association[++j];){var r=null;if(A.end[0].type==Q){r=A.end[1].type;}else if(A.end[1].type==Q){r=A.end[0].type;}else{continue;}var M=null;M=f[r];if(M!=null){if(g!=null){throw"LIMITATION: Unable to handle multiple parameter entity types of query entity "+o.name;}else{g=M;n=A;}}}}var b=this._getEntitySetsOfType(s,o.getQName());if(b.length!=1){throw"Invalid consumption model: There must be exactly one entity set for an entity type annotated with aggregating semantics";}var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),s,b[0][0],b[0][1]);this._oEntitySetSet[d.getQName()]=d;this._oEntityTypeNameToEntitySetMap[o.getQName()]=d;var x=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult(this,o,d,g);this._oQueryResultSet[x.getName()]=x;if(g){g.setTargetQueryResult(x,n);}}},oUI5ODataModelAnnotatableObject:{objectName:"schema",keyPropName:"namespace",extensions:true,aSubObject:[{objectName:"entityType",keyPropName:"name",extensions:true,aSubObject:[{objectName:"property",keyPropName:"name",aSubObject:[],extensions:true}]},{objectName:"entityContainer",keyPropName:"name",extensions:false,aSubObject:[{objectName:"entitySet",keyPropName:"name",extensions:true,aSubObject:[]}]}]},mergeV2Annotations:function(a){try{var A=JSON.parse(a);}catch(e){return;}var m;try{m=this._oModel.getServiceMetadata().dataServices;}catch(e){return;}for(var p in A){if(!(this.oUI5ODataModelAnnotatableObject.objectName==p)){continue;}if(!(A[p]instanceof Array)){continue;}this.mergeV2AnnotationLevel(m[this.oUI5ODataModelAnnotatableObject.objectName],A[this.oUI5ODataModelAnnotatableObject.objectName],this.oUI5ODataModelAnnotatableObject);break;}return;},mergeV2AnnotationLevel:function(M,a,u){for(var i=-1,A;A=a[++i];){for(var j=-1,o;o=M[++j];){if(!(A[u.keyPropName]==o[u.keyPropName])){continue;}if(A["extensions"]!=undefined){if(o["extensions"]==undefined){o["extensions"]=[];}for(var l=-1,b;b=A["extensions"][++l];){var f=false;for(var m=-1,c;c=o["extensions"][++m];){if(b.name==c.name&&b.namespace==c.namespace){c.value=b.value;f=true;break;}}if(!f){o["extensions"].push(b);}}}for(var k=-1,U;U=u.aSubObject[++k];){for(var p in A){if(!(U.objectName==p)){continue;}if(!(A[U.objectName]instanceof Array)){continue;}if((o[U.objectName]==undefined)||(!(o[U.objectName]instanceof Array))){continue;}this.mergeV2AnnotationLevel(o[U.objectName],A[U.objectName],U);break;}}}}return;},findQueryResultByName:function(n){var q=this._oQueryResultSet[n];if(!q&&this._oDefaultEntityContainer){var Q=this._oDefaultEntityContainer.name+"."+n;q=this._oQueryResultSet[Q];}return q;},getAllQueryResultNames:function(){if(this._aQueryResultNames){return this._aQueryResultNames;}this._aQueryResultNames=new Array(0);for(var n in this._oQueryResultSet)this._aQueryResultNames.push(this._oQueryResultSet[n].getName());return this._aQueryResultNames;},getAllQueryResults:function(){return this._oQueryResultSet;},getODataModel:function(){return this._oModel;},_getEntitySetsOfType:function(s,q){var e=[];for(var i=-1,E;E=s.entityContainer[++i];){for(var j=-1,o;o=E.entitySet[++j];){if(o.entityType==q){e.push([E,o]);}}}return e;},_oModel:null,_oDefaultEntityContainer:null,_aQueryResultNames:null,_oQueryResultSet:null,_oParameterizationSet:null,_oEntityTypeSet:null,_oEntitySetSet:null,_oEntityTypeNameToEntitySetMap:null,_oActivatedWorkarounds:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult=function(m,e,E,p){this._init(m,e,E,p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult.prototype={_init:function(m,e,E,p,a){this._oModel=m;this._oEntityType=e;this._oEntitySet=E;this._oParameterization=p;this._oDimensionSet={};this._oMeasureSet={};var P=e.getTypeDescription().property;var A={};for(var i=-1,o;o=P[++i];){if(o.extensions==undefined){continue;}for(var j=-1,b;b=o.extensions[++j];){if(!b.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(b.name){case"aggregation-role":switch(b.value){case"dimension":var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension(this,o);this._oDimensionSet[d.getName()]=d;break;case"measure":var M=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure(this,o);this._oMeasureSet[M.getName()]=M;break;case"totaled-properties-list":this._oTotaledPropertyListProperty=o;break;}break;case"attribute-for":var D=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute(this,o);A[D.getKeyProperty()]=D;break;}}}for(var s in A){var D=A[s];D.getDimension().addAttribute(D);}if(m._oActivatedWorkarounds.IdentifyTextPropertiesByName){var c=[];for(var f in this._oDimensionSet){var d=this._oDimensionSet[f];if(!d.getTextProperty()){var t=null;t=e.findPropertyByName(f+"Name");if(!t){t=e.findPropertyByName(f+"Text");}if(!t){t=e.findPropertyByName(f+"Desc");}if(!t){t=e.findPropertyByName(f+"Description");}if(t){d.setTextProperty(t);c.push(t.name);}}}for(var i=-1,g;g=c[++i];){delete this._oDimensionSet[g];}}},getName:function(){return this.getEntitySet().getQName();},getParameterization:function(){return this._oParameterization;},getAllDimensionNames:function(){if(this._aDimensionNames){return this._aDimensionNames;}this._aDimensionNames=[];for(var n in this._oDimensionSet)this._aDimensionNames.push(this._oDimensionSet[n].getName());return this._aDimensionNames;},getAllDimensions:function(){return this._oDimensionSet;},getAllMeasureNames:function(){if(this._aMeasureNames){return this._aMeasureNames;}this._aMeasureNames=[];for(var n in this._oMeasureSet)this._aMeasureNames.push(this._oMeasureSet[n].getName());return this._aMeasureNames;},getAllMeasures:function(){return this._oMeasureSet;},findDimensionByName:function(n){return this._oDimensionSet[n];},getTotaledPropertiesListProperty:function(){return this._oTotaledPropertyListProperty;},findMeasureByName:function(n){return this._oMeasureSet[n];},getModel:function(){return this._oModel;},getEntityType:function(){return this._oEntityType;},getEntitySet:function(){return this._oEntitySet;},_oModel:null,_oEntityType:null,_oEntitySet:null,_oParameterization:null,_aDimensionNames:null,_oDimensionSet:null,_aMeasureNames:null,_oMeasureSet:null,_oTotaledPropertyListProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization=function(e,E){this._init(e,E);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization.prototype={_init:function(e,E){this._oEntityType=e;this._oEntitySet=E;this._oParameterSet={};var p=e.getTypeDescription().property;for(var i=-1,P;P=p[++i];){if(P.extensions==undefined){continue;}for(var j=-1,o;o=P.extensions[++j];){if(!o.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(o.name){case"parameter":var a=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter(this,P);this._oParameterSet[a.getName()]=a;break;}}}},setTargetQueryResult:function(q,a){this._oQueryResult=q;var Q=this._oEntityType.getSchema().namespace+"."+a.name;var n=this._oEntityType.getTypeDescription().navigationProperty;if(!n){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type";}for(var i=-1,N;N=n[++i];){if(N.relationship==Q){this._oNavPropToQueryResult=N.name;}}if(!this._oNavPropToQueryResult){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type";}},getName:function(){return this.getEntitySet().getQName();},getAllParameterNames:function(){if(this._aParameterNames){return this._aParameterNames;}this._aParameterNames=[];for(var n in this._oParameterSet)this._aParameterNames.push(this._oParameterSet[n].getName());return this._aParameterNames;},getAllParameters:function(){return this._oParameterSet;},findParameterByName:function(n){return this._oParameterSet[n];},getNavigationPropertyToQueryResult:function(){return this._oNavPropToQueryResult;},getEntityType:function(){return this._oEntityType;},getEntitySet:function(){return this._oEntitySet;},_oEntityType:null,_oEntitySet:null,_oQueryResult:null,_oNavPropToQueryResult:null,_aParameterNames:null,_oParameterSet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter=function(p,P){this._init(p,P);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter.prototype={_init:function(p,P){this._oParameterization=p;this._oProperty=P;var e=p.getEntityType();if(P.extensions!=undefined){for(var i=-1,E;E=P.extensions[++i];){if(!E.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(E.name){case"parameter":switch(E.value){case"mandatory":this._bRequired=true;break;case"optional":this._bRequired=false;break;default:throw"Invalid annotation value for parameter property";}break;case"label":this._sLabelText=E.value;break;case"text":this._oTextProperty=e.findPropertyByName(E.value);break;case"upper-boundary":this._bIntervalBoundaryParameter=true;this._oUpperIntervalBoundaryParameterProperty=e.findPropertyByName(E.value);break;case"lower-boundary":this._bIntervalBoundaryParameter=true;this._oLowerIntervalBoundaryParameterProperty=e.findPropertyByName(E.value);break;}}}if(!this._sLabelText){this._sLabelText="";}},setValueSetEntity:function(e,E){this._oValueSetEntityType=e;this._oValueSetEntitySet=E;},getTextProperty:function(){return this._oTextProperty;},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.tokenizeNametoLabelText(this.getName());}return this._sLabelText;},isOptional:function(){return(!this._bRequired);},isIntervalBoundary:function(){return this._bIntervalBoundaryParameter;},isLowerIntervalBoundary:function(){return(this._oUpperIntervalBoundaryParameterProperty?true:false);},getPeerIntervalBoundaryParameter:function(){var p=null;if(this._oLowerIntervalBoundaryParameterProperty){p=this._oLowerIntervalBoundaryParameterProperty.name;}else{p=this._oUpperIntervalBoundaryParameterProperty.name;}if(!p){throw"Parameter is not an interval boundary";}return this._oParameterization.findParameterByName(p);},isValueSetAvailable:function(){return(this._oValueSetEntityType?true:false);},getName:function(){return this._oProperty.name;},getProperty:function(){return this._oProperty;},getContainingParameterization:function(){return this._oParameterization;},getURIToValueEntitySet:function(s){var u=null;u=(s?s:"")+"/"+this._oValueSetEntitySet.getQName();return u;},_oParameterization:null,_oProperty:null,_sLabelText:null,_oTextProperty:null,_bRequired:false,_bIntervalBoundaryParameter:false,_oLowerIntervalBoundaryParameterProperty:null,_oUpperIntervalBoundaryParameterProperty:null,_oValueSetEntityType:null,_oValueSetEntitySet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension=function(q,p){this._init(q,p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension.prototype={_init:function(q,p){this._oQueryResult=q;this._oProperty=p;this._oAttributeSet={};if(p.extensions!=undefined){for(var i=-1,e;e=p.extensions[++i];){if(!e.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(e.name){case"label":this._sLabelText=e.value;break;case"text":this._oTextProperty=q.getEntityType().findPropertyByName(e.value);break;case"super-ordinate":this._sSuperOrdinatePropertyName=e.value;break;}}}if(!this._sLabelText){this._sLabelText="";}},getName:function(){return this._oProperty.name;},getKeyProperty:function(){return this._oProperty;},getTextProperty:function(){return this._oTextProperty;},setTextProperty:function(t){this._oTextProperty=t;},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.tokenizeNametoLabelText(this.getName());}return this._sLabelText;},getSuperOrdinateDimension:function(){if(!this._sSuperOrdinatePropertyName){return null;}return this._oQueryResult.findDimensionByName(this._sSuperOrdinatePropertyName);},getHierarchy:function(){if(!this._oHierarchy){this._oHierarchy=this._oQueryResult.getEntityType().getHierarchy(this._oProperty.name);}return this._oHierarchy;},getAllAttributeNames:function(){if(this._aAttributeNames){return this._aAttributeNames;}this._aAttributeNames=[];for(var n in this._oAttributeSet)this._aAttributeNames.push(this._oAttributeSet[n].getName());return this._aAttributeNames;},getAllAttributes:function(){return this._oAttributeSet;},findAttributeByName:function(n){return this._oAttributeSet[n];},addAttribute:function(d){this._oAttributeSet[d.getName()]=d;},getContainingQueryResult:function(){return this._oQueryResult;},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sSuperOrdinatePropertyName:null,_aAttributeNames:null,_oAttributeSet:null,_oHierarchy:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute=function(q,p){this._init(q,p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute.prototype={_init:function(q,p){this._oQueryResult=q;this._oProperty=p;if(p.extensions!=undefined){for(var i=-1,e;e=p.extensions[++i];){if(!e.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(e.name){case"attribute-for":this._sDimensionName=e.value;break;case"label":this._sLabelText=e.value;break;case"text":this._oTextProperty=q.getEntityType().findPropertyByName(e.value);break;}}}},getName:function(){return this._oProperty.name;},getKeyProperty:function(){return this._oProperty;},getTextProperty:function(){return this._oTextProperty;},getLabelText:function(){return this._sLabelText;},getDimension:function(){return this._oQueryResult.findDimensionByName(this._sDimensionName);},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sDimensionName:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure=function(q,p){this._init(q,p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure.prototype={_init:function(q,p){this._oQueryResult=q;this._oProperty=p;if(p.extensions!=undefined){for(var i=-1,e;e=p.extensions[++i];){if(!e.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(e.name){case"label":this._sLabelText=e.value;break;case"text":this._oTextProperty=q.getEntityType().findPropertyByName(e.value);break;case"unit":this._oUnitProperty=q.getEntityType().findPropertyByName(e.value);break;}}}if(!this._sLabelText){this._sLabelText="";}},getName:function(){return this._oProperty.name;},getRawValueProperty:function(){return this._oProperty;},getFormattedValueProperty:function(){return this._oTextProperty;},getUnitProperty:function(){return this._oUnitProperty;},getLabelText:function(){return this._sLabelText;},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_oUnitProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet=function(m,s,c,e){this._init(m,s,c,e);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet.prototype={_init:function(m,s,c,e){this._oEntitySet=e;this._oContainer=c;this._oSchema=s;this._oModel=m;if(s.entityContainer.length>1){this._sQName=c.name+"."+e.name;}else{this._sQName=e.name;}},getQName:function(){return this._sQName;},getSetDescription:function(){return this._oEntitySet;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntitySet:null,_oContainer:null,_oSchema:null,_oModel:null,_sQName:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType=function(m,s,e){this._init(m,s,e);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._oPropertySet={};this._aFilterablePropertyNames=[];this._aSortablePropertyNames=[];this._aRequiredFilterPropertyNames=[];this._sQName=s.namespace+"."+e.name;var r={};var R=null;for(var i=-1,p;p=e.property[++i];){this._aFilterablePropertyNames.push(p.name);this._aSortablePropertyNames.push(p.name);if(p.extensions==undefined){continue;}for(var j=-1,E;E=p.extensions[++j];){if(!E.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(E.name){case"filterable":if(E.value=="false"){this._aFilterablePropertyNames.pop(p.name);}break;case"sortable":if(E.value=="false"){this._aSortablePropertyNames.pop(p.name);}break;case"required-filter":if(E.value=="true"){this._aRequiredFilterPropertyNames.push(p.name);}break;case"hierarchy-node-for":if(!(R=r[p.name])){R=r[p.name]={};}R.dimensionName=E.value;break;case"hierarchy-parent-node-for":case"hierarchy-parent-nod":if(!(R=r[E.value])){R=r[E.value]={};}R.parentNodeIDProperty=p;break;case"hierarchy-level-for":if(!(R=r[E.value])){R=r[E.value]={};}R.levelProperty=p;break;case"hierarchy-drill-state-for":case"hierarchy-drill-stat":if(!(R=r[E.value])){R=r[E.value]={};}R.drillStateProperty=p;break;}}this._oPropertySet[p.name]=p;}this._oRecursiveHierarchySet={};for(var h in r){var H=r[h];var o=this._oPropertySet[h];var d=this._oPropertySet[H.dimensionName];if(d==null){d=o;}this._oRecursiveHierarchySet[d.name]=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy(e,o,H.parentNodeIDProperty,H.levelProperty,d);}},findPropertyByName:function(n){return this._oPropertySet[n];},getFilterablePropertyNames:function(){return this._aFilterablePropertyNames;},getSortablePropertyNames:function(){return this._aSortablePropertyNames;},getRequiredFilterPropertyNames:function(){return this._aRequiredFilterPropertyNames;},getAllHierarchyPropertyNames:function(){if(this._aHierarchyPropertyNames){return this._aHierarchyPropertyNames;}this._aHierarchyPropertyNames=[];for(var n in this._oRecursiveHierarchySet)this._aHierarchyPropertyNames.push(this._oRecursiveHierarchySet[n].getNodeValueProperty().name);return this._aHierarchyPropertyNames;},getHierarchy:function(n){if(this._oRecursiveHierarchySet[n]==undefined){return null;}return this._oRecursiveHierarchySet[n];},getQName:function(){return this._sQName;},getTypeDescription:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_sQName:null,_oPropertySet:null,_aFilterablePropertyNames:null,_aRequiredFilterPropertyNames:null,_aHierarchyPropertyNames:null,_oRecursiveHierarchySet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy=function(e,n,p,N,o){this._init(e,n,p,N,o);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy.prototype={_init:function(e,n,p,N,o){this._oEntityType=e;this._oNodeIDProperty=n;this._oParentNodeIDProperty=p;this._oNodeLevelProperty=N;this._oNodeValueProperty=o;},isRecursiveHierarchy:function(){return true;},isLeveledHierarchy:function(){return false;},getNodeIDProperty:function(){return this._oNodeIDProperty;},getParentNodeIDProperty:function(){return this._oParentNodeIDProperty;},getNodeLevelProperty:function(){return this._oNodeLevelProperty;},getNodeValueProperty:function(){return this._oNodeValueProperty;},_oNodeIDProperty:null,_oParentNodeIDProperty:null,_oNodeLevelProperty:null,_oNodeValueProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression=function(m,s,e){this._init(m,s,e);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._aFilterCondition=[];},clear:function(){this._aFilterCondition=[];},addCondition:function(p,o,v,V){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw"Cannot add filter condition for unknown property name "+p;}var f=this._oEntityType.getFilterablePropertyNames();if(f.indexOf(p)===-1){throw"Cannot add filter condition for not filterable property name "+p;}this._aFilterCondition.push({property:P,op:o,val1:v,val2:V});return this._aFilterablePropertyNames;},addSetCondition:function(p,v){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw"Cannot add filter condition for unknown property name "+p;}var f=this._oEntityType.getFilterablePropertyNames();if(f.indexOf(p)===-1){throw"Cannot add filter condition for not filterable property name "+p;}for(var i=-1,V;V=v[++i];){this._aFilterCondition.push({property:P,op:sap.ui.model.FilterOperator.EQ,val1:V});}return this._aFilterablePropertyNames;},getExpressionAsUI5FilterArray:function(){var f=[];for(var i=-1,c;c=this._aFilterCondition[++i];){f.push(new sap.ui.model.Filter(c.property.name,c.op,c.val1,c.val2));}return f;},getURIFilterOptionValue:function(){if(this._aFilterCondition.length==0){return"";}this._aFilterCondition.sort(function(a,b){if(a.property.name==b.property.name){return 0;}if(a.property.name>b.property.name){return 1;}else{return-1;}});var p=this._aFilterCondition[0].property.name;var o="";var s="";for(var i=-1,c;c=this._aFilterCondition[++i];){if(p!=c.property.name){o+=(o==""?"":" and ")+"("+s+")";s="";p=c.property.name;}switch(c.op){case sap.ui.model.FilterOperator.BT:s+=(s==""?"":" or ")+"("+c.property.name+" "+sap.ui.model.FilterOperator.GE.toLowerCase()+" "+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(c.val1,c.property.type)+" and "+c.property.name+" "+sap.ui.model.FilterOperator.LE.toLowerCase()+" "+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(c.val2,c.property.type)+")";break;default:s+=(s==""?"":" or ")+"("+c.property.name+" "+c.op.toLowerCase()+" "+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(c.val1,c.property.type)+")";}}o+=(o==""?"":" and ")+"("+s+")";return o;},getEntityType:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_aFilterCondition:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortOrder={Ascending:"asc",Descending:"desc"};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression=function(m,s,e){this._init(m,s,e);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._aSortCondition=[];},_containsSorter:function(p){var r=null;for(var i=-1,c;c=this._aSortCondition[++i];){if(c.property.name===p){r={sorter:c,index:i};break;}}return r;},_removeFromArray:function(a,f,t){var r=a.slice((t||f)+1||a.length);a.length=f<0?a.length+f:f;return a.push.apply(a,r);},clear:function(){this._aSortCondition=[];},addSorter:function(p,s){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw"Cannot add sort condition for unknown property name "+p;}if(this._containsSorter(p)!=null){throw"Sort condition for this property name is already defined "+p;}var S=this._oEntityType.getSortablePropertyNames();if(S.indexOf(p)===-1){throw"Cannot add sort condition for not sortable property name "+p;}this._aSortCondition.push({property:P,order:s});return this;},removeSorter:function(p){if(!p){return;}var s=this._containsSorter(p);if(s){this._removeFromArray(this._aSortCondition,s.index);}},getExpressionsAsUI5SorterArray:function(){var s=[];for(var i=-1,c;c=this._aSortCondition[++i];){s.push(new sap.ui.model.Sorter(c.property.name,c.order==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortOrder.Descending));}return s;},getExpressionAsUI5Sorter:function(){var s=this.getExpressionsAsUI5SorterArray();if(s.length==0){return null;}else{return s[0];}},getURIOrderByOptionValue:function(){if(this._aSortCondition.length==0){return"";}var o="";for(var i=-1,c;c=this._aSortCondition[++i];){o+=c.property.name+" "+c.order;if(i<this._aSortCondition.length-1){o+=", ";}}return o;},getEntityType:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_aSortCondition:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterizationRequest=function(p){this._init(p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterizationRequest.prototype={_init:function(p){if(!p){throw"No parameterization given";}this._oParameterization=p;this._oParameterValueAssignment=[];},getParameterization:function(){return this._oParameterization;},setParameterValue:function(p,v,t){var P=this._oParameterization.findParameterByName(p);if(!P){throw"Invalid parameter name "+p;}if(t!=null){if(!P.isIntervalBoundary()){throw"Range value cannot be applied to parameter "+p+" accepting only single values";}if(!P.isLowerIntervalBoundary()){throw"Range value given, but parameter "+p+" does not hold the lower boundary";}}if(!P.isIntervalBoundary()){if(v==null){delete this._oParameterValueAssignment[p];}else{this._oParameterValueAssignment[p]=v;}}else{if(v==null&&t!=null){throw"Parameter "+p+": An upper boundary cannot be given without the lower boundary";}if(v==null){delete this._oParameterValueAssignment[p];t=null;}else{this._oParameterValueAssignment[p]=v;}var u=P.getPeerIntervalBoundaryParameter();if(t==null){t=v;}if(v==null){delete this._oParameterValueAssignment[u.getName()];}else{this._oParameterValueAssignment[u.getName()]=t;}}return;},getURIToParameterizationEntitySet:function(s){return(s?s:"")+"/"+this._oParameterization.getEntitySet().getQName();},getURIToParameterizationEntry:function(s){var d=this._oParameterization.getAllParameters();for(var D in d){if(this._oParameterValueAssignment[D]==undefined){throw"Parameter "+D+" has no value assigned";}}var k="",f=true;for(var p in this._oParameterValueAssignment){k+=(f?"":",")+p+"="+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyKeyValue(this._oParameterValueAssignment[p],d[p].getProperty().type);f=false;}return(s?s:"")+"/"+this._oParameterization.getEntitySet().getQName()+"("+k+")";},_oParameterization:null,_oParameterValueAssignment:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResultRequest=function(q,p){this._init(q);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResultRequest.prototype={_init:function(q,p){this._oQueryResult=q;this._oParameterizationRequest=p;this._oAggregationLevel={};this._oMeasures={};this._bIncludeEntityKey=false;this._oFilterExpression=null;},setParameterizationRequest:function(p){this._oParameterizationRequest=p;},getQueryResult:function(){return this._oQueryResult;},setAggregationLevel:function(d){this._oAggregationLevel={};if(!d){d=this._oQueryResult.getAllDimensionNames();}this.addToAggregationLevel(d);},addToAggregationLevel:function(d){if(!d){return;}for(var i=-1,D;D=d[++i];){if(!this._oQueryResult.findDimensionByName(D)){throw D+" is not a valid dimension name";}this._oAggregationLevel[D]={key:true,text:false,attributes:null};}},removeFromAggregationLevel:function(d){if(!d){return;}for(var i=-1,D;D=d[++i];){if(!this._oQueryResult.findDimensionByName(D)){throw D+" is not a valid dimension name";}if(this._oAggregationLevel[D]!=undefined){delete this._oAggregationLevel[D];this.getSortExpression().removeSorter(D);}}},getAggregationLevel:function(){var d=[];for(var D in this._oAggregationLevel){d.push(D);}return d;},getAggregationLevelDetails:function(d){if(this._oAggregationLevel[d]==undefined){throw"Aggregation level does not include dimension "+d;}return this._oAggregationLevel[d];},setMeasures:function(m){if(!m){m=this._oQueryResult.getAllMeasureNames();}this._oMeasures={};for(var i=-1,M;M=m[++i];){if(!this._oQueryResult.findMeasureByName(M)){throw M+" is not a valid measure name";}this._oMeasures[M]={value:true,text:false,unit:false};}},getMeasureNames:function(){var m=[];for(var M in this._oMeasures){m.push(M);}return m;},includeDimensionKeyTextAttributes:function(d,I,b,a){var D=[];if(d){if(this._oAggregationLevel[d]==undefined){throw d+" is not included in the aggregation level";}D.push(d);}else{for(var n in this._oAggregationLevel){D.push(n);}a=null;}for(var i=-1,s;s=D[++i];){if(I!=null){this._oAggregationLevel[s].key=I;}if(b!=null){this._oAggregationLevel[s].text=b;}if(a!=null){this._oAggregationLevel[s].attributes=a;}}},includeMeasureRawFormattedValueUnit:function(m,I,b,a){var M=[];if(m){if(this._oMeasures[m]==undefined){throw m+" is not part of the query result";}M.push(m);}else{for(var n in this._oMeasures){M.push(n);}}for(var i=-1,s;s=M[++i];){if(I!=null){this._oMeasures[s].value=I;}if(b!=null){this._oMeasures[s].text=b;}if(a!=null){this._oMeasures[s].unit=a;}}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oQueryResult.getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},setRequestOptions:function(i,I){if(i){this._bIncludeEntityKey=i;}if(I){this._bIncludeCount=I;}},setResultPageBoundaries:function(s,e){if(s!=null&&typeof s!=="number"){throw"Start value must be null or numeric";}if(e!==null&&typeof e!=="number"){throw"End value must be null or numeric";}if(s==null){s=1;}if(s<1||s>(e==null?s:e)){throw"Invalid values for requested page boundaries";}this._iSkipRequestOption=(s>1)?s:null;this._iTopRequestOption=(e!=null)?(e-s+1):null;},getResultPageBoundaries:function(){return{start:(this._iSkipRequestOption==null)?1:this._iSkipRequestOption,end:(this._iTopRequestOption!=null)?(this._iSkipRequestOption==null)?1:this._iSkipRequestOption+this._iTopRequestOption:null};},getURIToQueryResultEntitySet:function(s){var u=null;if(this._oQueryResult.getParameterization()){if(!this._oParameterizationRequest){throw"Missing parameterization request";}else{u=this._oParameterizationRequest.getURIToParameterizationEntry(s)+"/"+this._oQueryResult.getParameterization().getNavigationPropertyToQueryResult();}}else{u=(s?s:"")+"/"+this._oQueryResult.getEntitySet().getQName();}return u;},getURIQueryOptionValue:function(q){var Q=null;switch(q){case"$select":{var s="";for(var d in this._oAggregationLevel){var D=this._oQueryResult.findDimensionByName(d);var o=this._oAggregationLevel[d];if(o.key==true){s+=(s==""?"":",")+D.getKeyProperty().name;}if(o.text==true&&D.getTextProperty()){s+=(s==""?"":",")+D.getTextProperty().name;}if(o.attributes){for(var i=-1,a;a=o.attributes[++i];){s+=(s==""?"":",")+D.findAttributeByName(a).getName();}}}for(var m in this._oMeasures){var M=this._oQueryResult.findMeasureByName(m);var b=this._oMeasures[m];if(b.value==true){s+=(s==""?"":",")+M.getRawValueProperty().name;}if(b.text==true&&M.getFormattedValueProperty()){s+=(s==""?"":",")+M.getFormattedValueProperty().name;}if(b.unit==true&&M.getUnitProperty()){s+=(s==""?"":",")+M.getUnitProperty().name;}}if(this._bIncludeEntityKey){var k=this._oQueryResult.getEntityType().getTypeDescription().key.propertyRef;for(var i=-1,K;K=k[++i];){s+=(s==""?"":",")+K.name;}}Q=(s?s:null);break;}case"$filter":{var f=null;if(this._oFilterExpression){f=this._oFilterExpression.getURIFilterOptionValue();}Q=(f?f:null);break;}case"$orderby":{var S=null;if(this._oSortExpression){S=this._oSortExpression.getURIOrderByOptionValue();}Q=(S?S:null);break;}case"$top":{if(this._iTopRequestOption!==null){Q=this._iTopRequestOption;}break;}case"$skip":{Q=this._iSkipRequestOption;break;}default:break;}return Q;},getURIToQueryResultEntries:function(s){var r=this.getURIToQueryResultEntitySet(s);var S=this.getURIQueryOptionValue("$select");var f=this.getURIQueryOptionValue("$filter");var a=this.getURIQueryOptionValue("$orderby");var t=this.getURIQueryOptionValue("$top");var b=this.getURIQueryOptionValue("$skip");var u=r;var q=false;if(S){u+="?$select="+S;q=true;}if(this._oFilterExpression&&f){if(!q){u+="?";q=true;}else{u+="&";}u+="$filter="+f;}if(this._oSortExpression&&a){if(!q){u+="?";q=true;}else{u+="&";}u+="$orderby="+a;}if(this._iTopRequestOption&&t){if(!q){u+="?";q=true;}else{u+="&";}u+="$top="+t;}if(this._iSkipRequestOption&&b){if(!q){u+="?";q=true;}else{u+="&";}u+="$skip="+b;}if(this._bIncludeCount){if(!q){u+="?";q=true;}else{u+="&";}u+="$inlinecount=allpages";}return u;},_oQueryResult:null,_oParameterizationRequest:null,_oAggregationLevel:null,_oMeasures:null,_bIncludeEntityKey:null,_bIncludeCount:null,_oFilterExpression:null,_oSortExpression:null,_iSkipRequestOption:0,_iTopRequestOption:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterValueSetRequest=function(p){this._init(p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterValueSetRequest.prototype={_init:function(p){this._oParameter=p;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null;},includeParameterText:function(i){if(i!=null){this._oValueSetResult.text=i;}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oParameter.getContainingParameterization().getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},getURIQueryOptionValue:function(q){var Q=null;switch(q){case"$select":{var s="";s+=(s==""?"":",")+this._oParameter.getProperty().name;if(this._oValueSetResult.text==true&&this._oParameter.getTextProperty()){s+=(s==""?"":",")+this._oParameter.getTextProperty().name;}Q=(s?s:null);break;}case"$filter":{var f=null;if(this._oFilterExpression){f=this._oFilterExpression.getURIFilterOptionValue();}Q=(f?f:null);break;}case"$orderby":{var S=null;if(this._oSortExpression){S=this._oSortExpression.getURIOrderByOptionValue();}Q=(S?S:null);break;}default:break;}return Q;},getURIToParameterValueSetEntries:function(s){var r=null;r=(s?s:"")+"/"+this._oParameter.getContainingParameterization().getEntitySet().getQName();var S=this.getURIQueryOptionValue("$select");var f=this.getURIQueryOptionValue("$filter");var a=this.getURIQueryOptionValue("$orderby");var u=r;var q=false;if(S){u+="?$select="+S;q=true;}if(this._oFilterExpression&&f){if(!q){u+="?";q=true;}else{u+="&";}u+="$filter="+f;}if(this._oSortExpression&&a){if(!q){u+="?";q=true;}else{u+="&";}u+="$orderby="+a;}return u;},_oParameter:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionMemberSetRequest=function(d,p){this._init(d,p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionMemberSetRequest.prototype={_init:function(d,p){this._oDimension=d;this._oParameterizationRequest=p;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null;},setParameterizationRequest:function(p){this._oParameterizationRequest=p;},includeDimensionTextAttributes:function(i,a){if(i!=null){this._oValueSetResult.text=i;}if(a!=null){this._oValueSetResult.attributes=a;}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oDimension.getContainingQueryResult().getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},hasMasterDataAvailable:function(){return false;},getURIQueryOptionValue:function(q){var Q=null;switch(q){case"$select":{var s="";s+=(s==""?"":",")+this._oDimension.getKeyProperty().name;if(this._oValueSetResult.text==true&&this._oDimension.getTextProperty()){s+=(s==""?"":",")+this._oDimension.getTextProperty().name;}if(this._oValueSetResult.attributes){for(var i=-1,a;a=this._oValueSetResult.attributes[++i];){s+=(s==""?"":",")+this._oDimension.findAttributeByName(a).getName();}}Q=(s?s:null);break;}case"$filter":{var f=null;if(this._oFilterExpression){f=this._oFilterExpression.getURIFilterOptionValue();}Q=(f?f:null);break;}case"$orderby":{var S=null;if(this._oSortExpression){S=this._oSortExpression.getURIOrderByOptionValue();}Q=(S?S:null);break;}default:break;}return Q;},getURIToDimensionMemberEntries:function(s){var r=null;if(this._oDimension.getContainingQueryResult().getParameterization()){if(!this._oParameterizationRequest){throw"Missing parameterization request";}else{r=this._oParameterizationRequest.getURIToParameterizationEntry(s)+"/"+this._oDimension.getContainingQueryResult().getParameterization().getNavigationPropertyToQueryResult();}}else{r=(s?s:"")+"/"+this._oDimension.getContainingQueryResult().getEntitySet().getQName();}var S=this.getURIQueryOptionValue("$select");var f=this.getURIQueryOptionValue("$filter");var a=this.getURIQueryOptionValue("$orderby");var u=r;var q=false;if(S){u+="?$select="+S;q=true;}if(this._oFilterExpression&&f){if(!q){u+="?";q=true;}else{u+="&";}u+="$filter="+f;}if(this._oSortExpression&&a){if(!q){u+="?";q=true;}else{u+="&";}u+="$orderby="+a;}return u;},_oDimension:null,_oParameterizationRequest:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};},true);
sap.ui.predefine('sap/ushell/components/treeview/NavTree.controller',function(){"use strict";sap.ui.controller("sap.ushell.components.treeview.NavTree",{onInit:function(){var v=this.getView().getViewData(),r=v.data.items,s=v.data.serviceURL||'',t={items:[],entryObject:{}};var m=new sap.ui.model.json.JSONModel(t);this.getView().setModel(m);jQuery.getJSON(s).done(function(r){this.buidModelData(r);}.bind(this)).fail(function(j,a,e){var b=a+", "+e;jQuery.sap.log.error("Request Failed: "+b);this.buidModelData(r);}.bind(this));},buidModelData:function(r){var i,e,g=0,t={items:[],entryObject:{}};for(i in r.nodes){var a=r.nodes[i];if(a.type==='SUBMENU'){var b=a.title;for(e in a.nodes){var c=a.nodes[e];c.groupIndex=g.toString();c.groupName=b;t.items.push(c);t.entryObject[g.toString()]={title:a.title,type:a.type};}}else if(a.type==='URL'||a.type==='APP'){a.groupIndex=g.toString();a.groupName="";t.items.push(a);t.entryObject[g.toString()]={title:a.title,type:a.type,href:a.target};}g++;}var m=new sap.ui.model.json.JSONModel(t);this.getView().setModel(m);},getGroupHeader:function(g){var e=this.getView().getModel().getData().entryObject[g.key];jQuery.sap.require('sap.m.GroupHeaderListItem');if(e.type==="SUBMENU"){var i=new sap.ui.core.Icon({src:'slim-arrow-right',tooltip:e.title}).addStyleClass('sapUshellGroupListItemIcon');var l=new sap.m.Label({text:e.title}).addStyleClass('sapUshellNavTreeLink');return new sap.m.CustomListItem({press:[this.handleClickOnSubMenu,this],type:sap.m.ListType.Active,content:[i,l]}).addStyleClass('sapUshellNavTreeListItem sapUshellNavTreeParent');}else{return new sap.m.CustomListItem({content:new sap.m.Link({text:e.title,href:e.href}).addStyleClass('sapUshellNavTreeLink')}).addEventDelegate({onclick:this.onNavTreeTitleChange.bind(this)}).addStyleClass('sapUshellNavTreeListItem sapUshellNavTreeSingle');}},onNavTreeTitleChange:function(e){if(this._prevSelect){this._prevSelect.removeStyleClass('sapUshellNavTreeItemSelected');}var i=e.srcControl;if(e.srcControl.getContent){window.location.href=e.srcControl.getContent()[0].getHref();i.addStyleClass('sapUshellNavTreeItemSelected');this._prevSelect=i;}else{i.getParent().addStyleClass('sapUshellNavTreeItemSelected');this._prevSelect=i.getParent();}},handleClickOnSubMenu:function(e){var i=e.getSource().getContent()[0];if(i.getSrc()==='slim-arrow-down'){i.setSrc('slim-arrow-right');this.toggleSubItemsState(e,true);}else{i.setSrc('slim-arrow-down');this.toggleSubItemsState(e,false);}},toggleSubItemsState:function(e,i){if(e){var j=jQuery(e.getSource().getDomRef());if(i){j.nextUntil('.sapUshellNavTreeSingle, .sapUshellNavTreeParent').addClass("sapUshellNavTreeChildHide");}else{j.nextUntil('.sapUshellNavTreeSingle, .sapUshellNavTreeParent').removeClass("sapUshellNavTreeChildHide");}}}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/defaultParameters_selector/DefaultParameters.view',['sap/ushell/resources','sap/ushell/services/Container'],function(r,C){"use strict";sap.ui.jsview("sap.ushell.renderers.fiori2.defaultParameters_selector.DefaultParameters",{createContent:function(c){},getControllerName:function(){return"sap.ushell.renderers.fiori2.defaultParameters_selector.DefaultParameters";}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/profiling/UserProfiling.controller',function(){"use strict";sap.ui.controller("sap.ushell.renderers.fiori2.profiling.UserProfiling",{onInit:function(){this.isContentLoaded=true;},onCancel:function(){var p=this.getView().getModel().getProperty("/userPreferences/profiling"),P,i;for(i=0;i<p.length;i++){P=p[i];if(P.onCancel){P.onCancel();}}},getValue:function(){var d=jQuery.Deferred();var p=this.getView().getModel().getProperty("/userPreferences/profiling");p.forEach(function(e,i){if(e.entryHelpID==="usageAnalytics"){if(!sap.ushell.Container.getService("UsageAnalytics").systemEnabled()||!sap.ushell.Container.getService("UsageAnalytics").isSetUsageAnalyticsPermitted()){p.splice(i,1);}}},this);if(p!==undefined&&p.length>0){d.resolve({value:1,displayText:" "});}else{d.resolve({value:0,displayText:" "});}return d.promise();},onSave:function(){var r=jQuery.Deferred(),p=this.getView().getModel().getProperty("/userPreferences/profiling"),w,P=[],t=0,s=0,f=0,F=[],T,a=function(){s++;r.notify();},b=function(e){F.push({entry:"currEntryTitle",message:e});f++;r.notify();};p.forEach(function(i){T=i.onSave();T.done(a);T.fail(b);P.push(T);t++;});w=jQuery.when.apply(null,P);w.done(function(){r.resolve();});r.progress(function(){if(f>0&&(f+s===t)){r.reject("At least one save action failed");}});return r.promise();},getContent:function(){var t=this,d=jQuery.Deferred(),p=this.getView().getModel().getProperty("/userPreferences/profiling");p.forEach(function(i){var c=i.contentFunc();c.done(function(r){t.getView().profilingContent.addItem(r);});});d.resolve(t.getView());return d.promise();}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/profiling/UserProfiling.view',function(){"use strict";sap.ui.jsview("sap.ushell.renderers.fiori2.profiling.UserProfiling",{createContent:function(c){this.profilingContent=new sap.m.VBox().addStyleClass("sapUshellUserSettingDetailContent");return this.profilingContent;},getControllerName:function(){return"sap.ushell.renderers.fiori2.profiling.UserProfiling";}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/user_actions/user_preferences/UserSettings.controller',['sap/ushell/ui/launchpad/AccessibilityCustomData'],function(A){"use strict";sap.ui.controller("sap.ushell.renderers.fiori2.user_actions.user_preferences.UserSettings",{onInit:function(){var v=this.getView(),t=this;this.navBackButton=new sap.m.ToggleButton({icon:sap.ui.Device.system.phone?"sap-icon://nav-back":"sap-icon://menu2",press:function(e){if(sap.ui.Device.system.phone){v.getSplitApp().backDetail();t._handleNavButton();this.setPressed(false);}else{if(v.getSplitApp().isMasterShown()){v.getSplitApp().hideMaster();this.setTooltip(sap.ushell.resources.i18n.getText("ToggleButtonShow"));this.setPressed(false);}else{v.getSplitApp().showMaster();this.setTooltip(sap.ushell.resources.i18n.getText("ToggleButtonHide"));this.setPressed(true);}}},tooltip:sap.ushell.resources.i18n.getText("ToggleButtonShow")});if(v&&v.getSplitApp()){v.getSplitApp().attachAfterMasterClose(t,function(){t._handleNavButton.apply(t);});v.getSplitApp().attachAfterMasterOpen(t,function(){t._handleNavButton.apply(t);});}},_handleNavButton:function(){var v=this.getView();if(v&&v.getSplitApp()&&v.getSplitApp().getCurrentDetailPage()){if(!v.getSplitApp().isMasterShown()){v.splitAppHeaderBar.addContentLeft(this.navBackButton);}else{if(sap.ui.Device.system.phone||sap.ui.Device.orientation.landscape){v.splitAppHeaderBar.removeAllContentLeft();}}}},getOriginalDialogContent:function(){if(!this.oInitialContent){var e;e=this.getEntryListControl();this.oInitialContent=new sap.ui.layout.VerticalLayout('userPreferencesLayout',{content:[e]}).addStyleClass("sapUshellUserSettingLayout");this.aDanglingControls.push(this.oInitialContent);}return this.oInitialContent;},createDetailPage:function(e,a,t,c){var b=this,v=b.getView(),o=new sap.m.ObjectHeader({title:t,backgroundDesign:sap.m.BackgroundDesign.Solid}).addStyleClass("sapUshellUserSettingDetailHeader");if(e==="userAccountEntry"){o.setIcon(b.getUserImage(sap.ui.core.IconPool.getIconURI("sap-icon://person-placeholder")));o.setTitle(sap.ushell.Container.getUser().getFullName());}var p=new sap.m.Page('detail'+c.getId(),{content:[o,c],showHeader:false});p.addStyleClass("sapUsheUserSettingDetaildPage");p.onAfterRendering=function(){b._handleNavButton();};v.aDanglingControls.push(p);v.getModel().setProperty(a+"/contentResult",p);v.getSplitApp().addDetailPage(p);b.navToDetail(p.getId());},getUserImage:function(d){var u=sap.ushell.Container.getUser().getImage();return u?u:d;},getListPressHandler:function(s,a){var t=this,i=true,b=s.getBindingContext().getPath(),v=this.getView(),c=v.getModel().getProperty(b+"/contentResult"),B=null,S=true,I=false,d=v.getModel().getProperty(b),f=d.contentFunc,C,k;if(sap.ui.Device.system.phone){s.setSelected(false);}if(c){t.navToDetail(c.getId(),a);t._handleNavButton();}else{if(typeof f==="function"){v.getModel().setProperty(b+"/isDirty",true);C=f();C.done(function(e){S=false;if(I===true){B.destroy();}if(e instanceof sap.ui.core.Control){t.createDetailPage.apply(t,[d.entryHelpID,b,d.title,e]);}else{i=false;}});C.fail(function(){S=false;if(I===true){B.destroy();}i=false;});C.always(function(){if(i===false){var e=new sap.m.FlexBox("userPrefErrorFlexBox",{height:"5rem",alignItems:sap.m.FlexAlignItems.Center,justifyContent:sap.m.FlexJustifyContent.Center,items:[new sap.m.Text("userPrefErrorText",{text:v.translationBundle.getText("loadingErrorMessage")})]});v.aDanglingControls.push(e);v.getModel().setProperty(b+"/contentResult",e);v.getSplitApp().addDetailPage(e);t.navToDetail(e.getId());}});if(S===true){B=new sap.m.BusyIndicator('userPrefLoadingBusyIndicator',{size:"2rem"});this.aDanglingControls.push(B);I=true;}}else{d.valueArgument().done(function(V){k=t._getKeyValueContent(d,V);t.createDetailPage(d.entryHelpID,b,d.title,k);}).fail(function(e){k=t._getKeyValueContent(d);t.createDetailPage(d.entryHelpID,b,d.title,k);});}}},_getKeyValueContent:function(e,E){var k,v,b,V=E?E:" ",f=sap.ui.Device.system.phone?'Start':'Center',F=sap.ui.Device.system.phone?'Wrap':'NoWrap',s=sap.ui.Device.system.phone?'Column':'Row';k=new sap.m.Label({text:e.title+":"}).addStyleClass('sapUshellUserSettingsDetailsKey');v=new sap.m.Input({value:V,editable:false}).addStyleClass('sapUshellUserSettingsDetailsValue');b=new sap.m.FlexBox({alignItems:f,wrap:F,direction:s,items:[k,v]});return b;},createMasterPages:function(){var t=this,e=t.getUserSettingsEntryTemplate();this.aDanglingControls=this.getView().aDanglingControls;this.oMasterEntryList=new sap.m.List('userSettingEnteryList',{items:{path:"/userPreferences/entries",template:e},mode:"SingleSelectMaster",select:function(a){t.getListPressHandler(a.getSource().getSelectedItem(),a.getId());}});var o=this.oMasterEntryList.onAfterRendering;this.oMasterEntryList.onAfterRendering=function(){var E=this.getItems();var a;o.apply(this,arguments);for(var i=0;i<E.length;i++){a=E[i].getBindingContext().getPath();t._setEntryValueResult(a);}if(!sap.ui.Device.system.phone){this.setSelectedItem(this.getItems()[0]);t.getListPressHandler(this.getSelectedItem());}};var p=new sap.m.Page("userSettingMaster",{showHeader:false,content:[this.oMasterEntryList]}).addStyleClass("sapUshellUserSettingMaster");t.aDanglingControls.push(this.oMasterEntryList,p);return p;},_setEntryValueResult:function(e){var v=this.getView(),m=v.getModel(),i=m.getProperty(e+"/editable"),a=m.getProperty(e+"/valueArgument"),V;if(typeof a==="function"){m.setProperty(e+"/valueResult",v.translationBundle.getText("genericLoading"));m.setProperty(e+"/editable",false);V=a();if(V){V.done(function(b){m.setProperty(e+"/editable",i);var c=true;if(m.getProperty(e+"/visible")!==undefined){c=m.getProperty(e+"/visible");}else if(m.getProperty(e+"/defaultVisibility")!==undefined){c=m.getProperty(e+"/defaultVisibility");}m.setProperty(e+"/visible",typeof(b)==='object'?!!b.value:c);m.setProperty(e+"/valueResult",typeof(b)==='object'?b.displayText:b);});V.fail(function(){m.setProperty(e+"/valueResult",v.translationBundle.getText("loadingErrorMessage"));});}}else if(!!a){m.setProperty(e+"/valueResult",a);m.setProperty(e+"/editable",i);}else{m.setProperty(e+"/valueResult",v.translationBundle.getText("loadingErrorMessage"));}},getUserSettingsEntryTemplate:function(){var t=this,i=new sap.m.StandardListItem({title:"{title}",description:"{valueResult}",icon:{path:"icon",formatter:function(e){if(e==="sap-icon://account"){e=t.getUserImage("sap-icon://account");}return e?e:"sap-icon://action-settings";}},type:sap.ui.Device.system.phone?"Navigation":"Inactive",visible:{parts:[{path:'visible'},{path:'defaultVisibility'},{path:'/userPreferences/profiling/length'}],formatter:function(v,d){if(this.getTitle()===sap.ushell.resources.i18n.getText("userProfiling")){var p=this.getModel().getProperty("/userPreferences/profiling");p.forEach(function(e,a){if(e.entryHelpID==="usageAnalytics"){if(!sap.ushell.Container.getService("UsageAnalytics").systemEnabled()||!sap.ushell.Container.getService("UsageAnalytics").isSetUsageAnalyticsPermitted()){p.splice(a,1);}}},this);return(p!==undefined&&p.length>0);}else{if(v!==undefined){return v;}else{return(d!==undefined)?d:true;}}}},customData:new A({key:"aria-label",value:{parts:[{path:'title'},{path:'valueResult'}],formatter:function(T,v){v=v?v:"";return T+" "+v;}},writeToDom:true})}).addStyleClass("sapUshellUserSettingMasterListItem");return i;},navToDetail:function(i,e){var v=this.getView(),s=v.getSplitApp();s.toDetail(i);if(e==="select"){this.applyFocus(i);}if(s.getMode()==="ShowHideMode"){s.hideMaster();}},applyFocus:function(i){if(!sap.ui.Device.phone){var e=jQuery.sap.byId(i).firstFocusableDomRef();if(e){jQuery.sap.focus(e);}}},onExit:function(){this.getView().aDanglingControls.forEach(function(c){if(c){if(c.destroyContent){c.destroyContent();}c.destroy();}});}});},false);
sap.ui.predefine('sap/ushell/renderers/fiori2/user_actions/user_preferences/UserSettings.view',["sap/ushell/resources","sap/m/Page","sap/m/Text","sap/m/SplitApp","sap/m/Bar"],function(r,P,T,S,B){"use strict";sap.ui.jsview("sap.ushell.renderers.fiori2.user_actions.user_preferences.UserSettings",{createContent:function(c){this.aDanglingControls=[];this.translationBundle=r.i18n;return this.getMainControl(c);},getMainControl:function(c){this.oMainApp=new S({id:"settingsApp",masterPages:c.createMasterPages(),defaultTransitionNameDetail:"show"});this.splitAppHeaderBar=new B({contentMiddle:new T({text:r.i18n.getText("userSettings")})});var p=new P({content:[this.oMainApp],customHeader:this.splitAppHeaderBar,showHeader:true}).addStyleClass('sapUshellSettingsPage');this.aDanglingControls.push(p);this.oMainApp._oDetailNav.setAutoFocus(false);return p;},getSplitApp:function(){return this.oMainApp;},getControllerName:function(){return"sap.ushell.renderers.fiori2.user_actions.user_preferences.UserSettings";}});},false);
sap.ui.predefine('sap/ushell/ui/appfinder/PinButton',['jquery.sap.global','sap/m/Button'],function(q,C){"use strict";var P=C.extend("sap.ushell.ui.appfinder.PinButton",{metadata:{properties:{selected:{type:"boolean",group:"Appearance",defaultValue:false}}},renderer:{}});P.prototype.setSelected=function(s){this.setProperty("selected",s,true);this.$("inner").toggleClass("sapUshellPinSelected",s);};P.prototype.onAfterRendering=function(){var s=this.getSelected();this.$("inner").toggleClass("sapUshellPinSelected",s);};return P;});
sap.ui.predefine('sap/ushell/ui/footerbar/SaveAsTile.controller',["sap/ushell/services/AppConfiguration"],function(A){"use strict";sap.ui.controller("sap.ushell.ui.footerbar.SaveAsTile",{onExit:function(){var v=this.getView();var t=v.getTileView();t.destroy();},onInit:function(){var a=A.getMetadata();this.oPageBuilderService=sap.ushell.Container.getService("LaunchPage");this.oView=this.getView();this.appData=this.oView.viewData.appData||{};if(!jQuery.isEmptyObject(this.appData)){this.oModel=new sap.ui.model.json.JSONModel({showGroupSelection:this.appData.showGroupSelection===false?false:true,showInfo:this.appData.showInfo===false?false:true,showIcon:this.appData.showIcon===false?false:true,showPreview:this.appData.showPreview===false?false:true,title:this.appData.title?this.appData.title.substring(0,256):'',subtitle:this.appData.subtitle?this.appData.subtitle.substring(0,256):'',numberValue:'',info:this.appData.info?this.appData.info.substring(0,256):'',icon:this.appData.icon||a.icon,numberUnit:this.appData.numberUnit,keywords:this.appData.keywords||'',groups:[]});this.oView.setModel(this.oModel);}},calcTileDataFromServiceUrl:function(s){var t=this;OData.read({requestUri:s},function(r){if(typeof r==="string"){r={number:r};}t.oModel.setProperty('/numberValue',r.number);var k=["infoState","stateArrow","numberState","numberDigits","numberFactor","numberUnit"];for(var i=0;i<k.length;i++){var a=k[i];if(r[a]){t.oModel.setProperty('/'+a,r[a]);}}},function(e){window.console.log(e);},{read:function(r){r.data=JSON.parse(r.body).d;}});},loadPersonalizedGroups:function(){var g=this.oPageBuilderService.getGroups(),t=this,d=jQuery.Deferred();g.done(function(G){var p=t.loadGroupsFromArray(G);p.done(function(a){d.resolve(a);});});return d;},loadGroupsFromArray:function(g){var t=this,d=jQuery.Deferred(),m=t.oView.getModel();this.oPageBuilderService.getDefaultGroup().done(function(D){g=g.filter(function(a){return(!t.oPageBuilderService.isGroupLocked(a)&&t.oPageBuilderService.isGroupVisible(a));}).map(function(a){return{title:(a===D&&t.getLocalizedText("my_group"))||t.oPageBuilderService.getGroupTitle(a),object:a};});m.setProperty('/groups',g);m.setProperty("/groups/length",g.length);d.resolve();});return d;},getLocalizedText:function(m,p){return p?sap.ushell.resources.i18n.getText(m,p):sap.ushell.resources.i18n.getText(m);}});},true);
sap.ui.predefine('sap/ushell/ui/launchpad/CatalogEntryContainer',['sap/ui/core/Control'],function(C){"use strict";var a=C.extend("sap.ushell.ui.launchpad.CatalogEntryContainer",{metadata:{properties:{header:{type:"string",group:"Appearance",defaultValue:null},catalogSearchTerm:{type:"string",group:"Appearance",defaultValue:null},catalogTagSelector:{type:"object",group:"Appearance",defaultValue:null}},aggregations:{appBoxesContainer:{type:"sap.ushell.ui.appfinder.AppBox",multiple:true},customTilesContainer:{type:"sap.ushell.ui.launchpad.Tile",multiple:true}}},renderer:{render:function(r,c){var t=c.getCustomTilesContainer(),A=c.getAppBoxesContainer(),h,b;r.write("<div");r.writeControlData(c);r.addClass("sapUshellTileContainer sapUshellCatalogTileContainer");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUshellTileContainerContent");r.writeClasses();r.writeAttribute("tabindex","-1");r.write(">");if(c.getHeader()){var R=c.getNumberResults();h=sap.ushell.resources.i18n.getText(c.getHeader(),[R.nAppboxes+R.nCustom]);r.write("<div");r.addClass("sapUshellTileContainerHeader sapUshellCatalogTileContainerHeader");r.writeAttribute("id",c.getId()+"-groupheader");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-title");r.addClass("sapUshellCatalogTileContainerHeaderInner");r.writeClasses();r.write(">");r.write("<");r.write('h2');r.addClass("sapUshellContainerTitle sapUshellCatalogContainerTitle");r.writeClasses();r.writeAttributeEscaped("title",h);r.write(">");r.writeEscaped(h);r.write("</");r.write('h2');r.writeAttribute("id",c.getId()+"-groupheader");r.write(">");r.write("</div>");r.write("</div>");}r.write("<ul");b=c.data('containerHeight');if(b){r.writeAttribute("style",'height:'+b);}r.addClass('sapUshellTilesContainer-sortable');r.addClass('sapUshellInner');r.writeClasses();r.writeAccessibilityState(c,{role:"listbox"});r.write(">");jQuery.each(A,function(){if(this.getVisible()){}if(this.getVisible){r.renderControl(this);}});r.write("</ul>");r.write("<ul");b=c.data('containerHeight');if(b){r.writeAttribute("style",'height:'+b);}r.addClass('sapUshellTilesContainer-sortable');r.addClass('sapUshellInner');r.writeClasses();r.writeAccessibilityState(c,{role:"listbox"});r.write(">");jQuery.each(t,function(){if(this.getVisible()){}if(this.getVisible){r.renderControl(this);}});r.write("</ul>");r.write("</div>");r.write("</div>");}}});a.prototype.setCatalogTagSelector=function(t){};a.prototype.setAfterHandleElements=function(c){this.onAfterHandleElements=c;};a.prototype.onAfterUpdate=function(c){this.fnCallback=c;};a.prototype.setCatalogSearchTerm=function(s){};a.prototype.updateAggregation=function(r){jQuery.sap.log.debug("Updating CatalogEntryContainer. Reason: ",r);try{this.handleElements(r);}catch(e){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}};a.prototype.addNewItem=function(e,n){var N,i,p=e.getPath();if(this.catalogState[n]!="full"){if(this.getAllocatedUnits){if(!this.getAllocatedUnits()){this.catalogState[n]="partial";return false;}}}if(n==="customTilesContainer"){var b=sap.ushell.Container.getService("LaunchPage").getCatalogTileView(e.getProperty("src"));e.getProperty("content")[0]=b;}N=sap.ushell.ui.launchpad.TileContainerUtils.createNewItem.bind(this)(e,n);sap.ushell.ui.launchpad.TileContainerUtils.addNewItem.bind(this)(N,n);i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer(),this.indexingMaps[n].onScreenPathIndexMap[p]={aItemsRefrenceIndex:i.length-1,isVisible:true};if(this.newElementCreated){this.newElementCreated(n,this);}return true;};a.prototype.getNumberResults=function(r){return{nAppboxes:this.nNumberOfVisibileElements["appBoxesContainer"],nCustom:this.nNumberOfVisibileElements["customTilesContainer"]};};a.prototype.handleElements=function(r){var n=r,b=this.mBindingInfos[n].binding,B=b.getContexts(),i,s,t,c;if(!this.catalogState){this.catalogState={};}if(!this.catalogState[r]){this.catalogState[r]="start";}if(!this.indexingMaps){this.indexingMaps={};}if(!this.nNumberOfVisibileElements){this.nNumberOfVisibileElements=[];}if(!this.nNumberOfVisibileElements["customTilesContainer"]){this.nNumberOfVisibileElements["customTilesContainer"]=0;}if(!this.nNumberOfVisibileElements["appBoxesContainer"]){this.nNumberOfVisibileElements["appBoxesContainer"]=0;}if(!this.filters){this.filters={};}i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer();this.indexingMaps[n]=sap.ushell.ui.launchpad.TileContainerUtils.indexOnScreenElements(i,false);c=sap.ushell.ui.launchpad.TileContainerUtils.markVisibleOnScreenElements(B,this.indexingMaps[n],true);if(sap.ushell.ui.launchpad.TileContainerUtils.createMissingElementsInOnScreenElements(this.indexingMaps[n],B,c,this.addNewItem.bind(this),i,this.filters[n],n)){this.catalogState[r]="full";}i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer();s=sap.ushell.ui.launchpad.TileContainerUtils.showHideTilesAndHeaders(this.indexingMaps[n],i);this.nNumberOfVisibileElements[n]=s.nCountVisibElelemnts;if(this.fnCallback){this.fnCallback(this);}t=jQuery("#"+this.getId()+"-title h2");t.html(sap.ushell.resources.i18n.getText(this.getHeader(),[this.nNumberOfVisibileElements["appBoxesContainer"]+this.nNumberOfVisibileElements["customTilesContainer"]]));if(this.onAfterHandleElements){this.onAfterHandleElements(this);}};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/CatalogTileContainer',["sap/ushell/ui/launchpad/TileContainer"],function(c){"use strict";return sap.ushell.ui.launchpad.TileContainer.extend("sap.ushell.ui.launchpad.CatalogTileContainer",{updateTiles:function(r){var n="tiles";if(this.isTreeBinding(n)){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}else{jQuery.sap.log.debug("Updating TileContainer. Reason: ",r);try{this.filterTiles();}catch(e){this.updateAggregation(n);}}}});});
sap.ui.predefine('sap/ushell/ui/launchpad/CatalogsContainer',['sap/ui/core/Control'],function(C){"use strict";var a=C.extend("sap.ushell.ui.launchpad.CatalogsContainer",{metadata:{properties:{categoryFilter:{type:"string",defaultValue:"ALL"},categoryAllocateTiles:{type:"int",defaultValue:"0"}},aggregations:{catalogs:{type:"sap.ushell.ui.launchpad.CatalogEntryContainer",multiple:true}}},renderer:{render:function(r,c){var b=c.getCatalogs();if(b.length){c.setBusy(false);}r.write("<div");r.addClass("sapUshellCatalogsContainer");r.writeClasses();r.writeControlData(c);r.write(">");jQuery.each(b,function(i,d){r.renderControl(this);});r.write("</div>");}}});a.prototype.setPagingManager=function(p){jQuery.sap.measure.start("FLP:DashboardManager.CatalogsRendering","CatalogsRendering","FLP");jQuery.sap.measure.pause("FLP:DashboardManager.CatalogsRendering");this.oPagingManager=p;};a.prototype.setCategoryAllocateTiles=function(n){var i=this.getCatalogs();this.nAllocatedUnits=n;if(!this.indexingMaps){return;}if(!this.filters){this.filters={};}this.filters.pagination=function(e){var p=e.getPath(),c,b,d=this.getCatalogs();if(!this.catalogPagination){return;}if(this.nAllocatedUnits>0){if(this.oLastPaggedCatalog){this.oLastPaggedCatalog.handleElements("appBoxesContainer");this.oLastPaggedCatalog.handleElements("customTilesContainer");}}if(!this.catalogPagination[p]){b=this.indexingMaps.onScreenPathIndexMap[p];if(this.nAllocatedUnits>0){c=d[b.aItemsRefrenceIndex];c.handleElements("appBoxesContainer");c.handleElements("customTilesContainer");this.catalogPagination[p]=true;}else{b.isVisible=false;this.catalogPagination[p]=false;}}}.bind(this);this.indexingMaps=sap.ushell.ui.launchpad.TileContainerUtils.indexOnScreenElements(i);sap.ushell.ui.launchpad.TileContainerUtils.applyFilterOnAllItems(this.mBindingInfos["catalogs"],this.filters);if(this.indexingMaps){sap.ushell.ui.launchpad.TileContainerUtils.showHideTilesAndHeaders(this.indexingMaps,this.getCatalogs());}};a.prototype.setCategoryFilter=function(c){var s,i,o,I=this.getCatalogs();this.sCatalogTerm=c;if(!this.indexingMaps){return;}if(!this.filters){this.filters={};}this.filters.catalogEntry=function(e){var p=e.getPath(),b=e.getProperty("title")===this.sCatalogTerm,d;if(!this.sCatalogTerm){b=true;}d=this.indexingMaps.onScreenPathIndexMap[p];if(d){d.isVisible=b;}}.bind(this);for(s in this.indexingMaps.onScreenPathIndexMap){if(this.indexingMaps.onScreenPathIndexMap.hasOwnProperty(s)){i=this.indexingMaps.onScreenPathIndexMap[s];o=I[i.aItemsRefrenceIndex];if(c===o.getBindingContext().getProperty("title")){if(o.catalogState.appBoxesContainer!=="full"||o.catalogState.customTilesContainer!=="full"){this.oPagingManager.moveToNextPage();this.nAllocatedUnits=this.oPagingManager._calcElementsPerPage();if(o.catalogState.appBoxesContainer!=="full"){o.handleElements("appBoxesContainer");}if(o.catalogState.customTilesContainer!=="full"){o.handleElements("customTilesContainer");}}}}}this.indexingMaps=sap.ushell.ui.launchpad.TileContainerUtils.indexOnScreenElements(I);sap.ushell.ui.launchpad.TileContainerUtils.applyFilterOnAllItems(this.mBindingInfos["catalogs"],this.filters);if(this.indexingMaps){sap.ushell.ui.launchpad.TileContainerUtils.showHideTilesAndHeaders(this.indexingMaps,this.getCatalogs());}};a.prototype.updateAggregation=function(r){jQuery.sap.log.debug("Updating TileContainer. Reason: ",r);try{jQuery.sap.measure.resume("FLP:DashboardManager.CatalogsRendering");this.filterElements();jQuery.sap.measure.pause("FLP:DashboardManager.CatalogsRendering");}catch(e){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}};a.prototype.addNewItem=function(e,n){var N,b,i,p=e.getPath(),c=!!this.nAllocatedUnits;N=sap.ushell.ui.launchpad.TileContainerUtils.createNewItem.bind(this)(e,n);N.nAllocatedUnits=this.nAllocatedUnits;N.getAllocatedUnits=function(){return this.nAllocatedUnits;}.bind(this);N.elementFiltered=function(d,E,o){b=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits+=d*b;this.setCategoryAllocateTiles(this.nAllocatedUnits);}.bind(this);N.newElementCreated=function(E,o){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;this.oLastPaggedCatalog=o;}}.bind(this);sap.ushell.ui.launchpad.TileContainerUtils.addNewItem.bind(this)(N,n);i=this.getCatalogs();this.indexingMaps.onScreenPathIndexMap[p]={aItemsRefrenceIndex:i.length-1,isVisible:true};this.catalogPagination[p]=c;return true;};a.prototype.handleFilters=function(){if(!this.catalogPagination){this.catalogPagination={};}if(!this.catalogsElementsMap){this.catalogsElementsMap={};}if(!this.filters){this.filters={};}};a.prototype.filterElements=function(){var n="catalogs",b=this.mBindingInfos[n].binding,B=b.getContexts(),i=this.getCatalogs(),c;if(!this.indexingMaps){this.indexingMaps=sap.ushell.ui.launchpad.TileContainerUtils.indexOnScreenElements(i);}this.handleFilters();c=sap.ushell.ui.launchpad.TileContainerUtils.markVisibleOnScreenElements(B,this.indexingMaps,false);if(!sap.ushell.ui.launchpad.TileContainerUtils.validateOrder(B,i,c)){throw true;}sap.ushell.ui.launchpad.TileContainerUtils.createMissingElementsInOnScreenElements(this.indexingMaps,B,c,this.addNewItem.bind(this),i,this.filters,n);i=this.getCatalogs();sap.ushell.ui.launchpad.TileContainerUtils.showHideTilesAndHeaders(this.indexingMaps,i);};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/ViewPortState',function(){"use strict";},false);
sap.ui.predefine('sap/ushell/ui/shell/ShellFloatingAction',['jquery.sap.global','sap/m/Button','sap/ushell/library'],function(q,B){"use strict";var S=B.extend("sap.ushell.ui.shell.ShellFloatingAction");S.prototype.init=function(){this.addStyleClass("sapUshellShellFloatingAction");if(B.prototype.init){B.prototype.init.apply(this,arguments);}};S.prototype.exit=function(){B.prototype.exit.apply(this,arguments);};S.prototype.onAfterRendering=function(){if(this.data("transformY")){this.removeStyleClass('sapUshellShellFloatingActionTransition');q(this.getDomRef()).css('transform',"translateY("+this.data("transformY")+")");}else{this.addStyleClass('sapUshellShellFloatingActionTransition');}};});
/*
 * ! UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/m/ObjectIdentifier.designtime',['sap/m/library'],function(M){"use strict";var w;return{registerSettingsHandler:function(W){w=W;},getStableElements:function(o){return w?w.getStableElements(o):null;},actions:{settings:function(){if(!w){return;}if(!w.isSettingsAvailable()){jQuery.sap.log.error("sap.ui.comp.navpopover.ObjectIdentifier.designtime: 'settings' action is not available");return;}return{handler:function(o,g){return w.execute(o,g);}};}}};},false);
sap.ui.predefine('sap/m/P13nChartSelectionItem',['jquery.sap.global','./library','./P13nSelectionItem'],function(q,l,P){"use strict";var a=P.extend("sap.m.P13nChartSelectionItem",{metadata:{library:"sap.m",properties:{role:{type:"string"}}}});return a;},true);
sap.ui.predefine('sap/m/P13nChartSelectionPanel',['jquery.sap.global','./ColumnListItem','./P13nSelectionPanel','./P13nChartSelectionItem','./SearchField','./Table','./library','sap/ui/core/Control','sap/ui/model/json/JSONModel'],function(q,C,P,a,S,T,l,b,J){"use strict";var c=P.extend("sap.m.P13nChartSelectionPanel",{metadata:{library:"sap.m",properties:{chartTypeKey:{type:"string",defaultValue:""}},aggregations:{availableChartTypes:{type:"sap.ui.core.Item",multiple:true,singularName:"availableChartType"}}},renderer:function(r,o){r.write("<div");r.writeControlData(o);r.addClass("sapMP13nColumnsPanel");r.writeClasses();r.write(">");var d=o.getAggregation("content");if(d){d.forEach(function(e){r.renderControl(e);});}r.write("</div>");}});c.prototype.getOkPayload=function(){this._syncModel2Panel();return{selectionItems:this.getSelectionItems(),chartTypeKey:this.getChartTypeKey()};};c.prototype.init=function(){P.prototype.init.apply(this,arguments);var d=this._getInternalModel().getData();d.availableChartTypes=[];d.selectedChartTypeKey=null;this.setType(sap.m.P13nPanelType.dimeasure);this.setTitle(this._oRb.getText("CHARTPANEL_TITLE"));};c.prototype.getConfig=function(){return{isEnabledSelectedItemsSorting:true,isEnabledSelectedButton:true,isEnabledMoveButtons:true};};c.prototype.setChartTypeKey=function(s){var m=this._getInternalModel();this.setProperty("chartTypeKey",s);m.getData().selectedChartTypeKey=s;return this;};c.prototype.addSelectionItem=function(s){var m=this._getInternalModel();var d=m.getData();this.addAggregation("selectionItems",s);var M=this._getModelItemByColumnKey(s.getColumnKey());if(!M){return;}M.persistentIndex=s.getIndex();M.persistentSelected=s.getSelected();M.role=s.getRole();this._sortModelItemsByPersistentIndex(d.items);this._updateModelItemsTableIndex(d);this._updateCounts(d);return this;};c.prototype.insertSelectionItem=function(s,i){var m=this._getInternalModel();var d=m.getData();this.insertAggregation("selectionItems",s,i);var M=this._getModelItemByColumnKey(s.getColumnKey());if(!M){return;}M.persistentIndex=s.getIndex();M.persistentSelected=s.getSelected();M.role=s.getRole();this._sortModelItemsByPersistentIndex(d.items);this._updateModelItemsTableIndex(d);this._updateCounts(d);return this;};c.prototype.removeSelectionItem=function(s){var m=this._getInternalModel();var d=m.getData();s=this.removeAggregation("selectionItems",s);var M=this._getModelItemByColumnKey(s.getColumnKey());if(!M){return;}M.persistentIndex=-1;M.persistentSelected=undefined;M.role=undefined;this._sortModelItemsByPersistentIndex(d.items);this._updateModelItemsTableIndex(d);this._updateCounts(d);return s;};c.prototype.removeAllSelectionItems=function(){var m=this._getInternalModel();var d=m.getData();this.getSelectionItems().forEach(function(o){var M=this._getModelItemByColumnKey(o.getColumnKey());if(!M){return;}M.persistentIndex=-1;M.persistentSelected=undefined;M.role=undefined;},this);this._sortModelItemsByPersistentIndex(d.items);this._updateModelItemsTableIndex(d);this._updateCounts(d);var s=this.removeAllAggregation("selectionItems");return s;};c.prototype.destroySelectionItems=function(){var m=this._getInternalModel();var d=m.getData();this.getSelectionItems().forEach(function(s){var M=this._getModelItemByColumnKey(s.getColumnKey());if(!M){return;}M.persistentIndex=-1;M.persistentSelected=undefined;M.role=undefined;},this);this._sortModelItemsByPersistentIndex(d.items);this._updateModelItemsTableIndex(d);this._updateCounts(d);this.destroyAggregation("selectionItems");return this;};c.prototype.addAvailableChartType=function(i){var m=this._getInternalModel();this.addAggregation("availableChartTypes",i);m.getData().availableChartTypes.push({key:i.getKey(),text:i.getText()});return this;};c.prototype.insertAvailableChartType=function(i,I){var m=this._getInternalModel();this.insertAggregation("availableChartTypes",i,I);m.getData().availableChartTypes.splice(I,0,{key:i.getKey(),text:i.getText()});return this;};c.prototype.removeAvailableChartType=function(i){var I=this.indexOfAvailableChartTypes(i);if(I>-1){var m=this._getInternalModel();m.getData().availableChartTypes.splice(I,1);}i=this.removeAggregation("availableChartTypes",i);return i;};c.prototype.removeAllAvailableChartType=function(){var m=this._getInternalModel();var i=this.removeAllAggregation("availableChartTypes");m.getData().availableChartTypes=[];return i;};c.prototype.destroyAvailableChartType=function(){var m=this._getInternalModel();this.destroyAggregation("availableChartTypes");m.getData().availableChartTypes=[];return this;};c.prototype.onBeforeNavigationFrom=function(){var s=this.getChartTypeKey();var d=[];var m=[];this.getSelectionItems().forEach(function(o){var M=this._getModelItemByColumnKey(o.getColumnKey());if(!M){return;}if(M.aggregationRole==="Dimension"){d.push(o);}else if(M.aggregationRole==="Measure"){m.push(o);}},this);d=d.filter(function(i){return i.getSelected();}).map(function(i){return{name:i.getColumnKey()};});m=m.filter(function(i){return i.getSelected();}).map(function(i){return{name:i.getColumnKey()};});sap.ui.getCore().loadLibrary("sap.chart");var r;try{r=sap.chart.api.getChartTypeLayout(s,d,m);}catch(e){return false;}return r.errors.length===0;};c.prototype._syncModel2Panel=function(){if(!this._bOnBeforeRenderingFirstTimeExecuted){return;}var d=this._getInternalModel().getData();this.setChartTypeKey(d.selectedChartTypeKey);d.items.forEach(function(m){var s=this._getSelectionItemByColumnKey(m.columnKey);if(s){if(!this._isSelectionItemEqualToModelItem(s,m)){s.setSelected(m.persistentSelected);s.setIndex(m.persistentIndex);s.setRole(m.role);}return;}if(!m.persistentSelected){return;}s=new sap.m.P13nChartSelectionItem({columnKey:m.columnKey,selected:m.persistentSelected,index:m.persistentIndex,role:m.role});this.addAggregation("selectionItems",s,true);},this);};c.prototype._filterModelItemsBySearchText=function(){var m=this._getInternalModel();var s=this._getSearchText();s=s.replace(/(^\s+)|(\s+$)/g,'');s=s.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');var r=new RegExp(s,'igm');if(!r){return;}this._getVisibleModelItems().forEach(function(M){M.visible=false;if(M.text&&M.text.match(r)){M.visible=true;}if(M.aggregationRole&&M.aggregationRole.match(r)){M.visible=true;}if(M.role&&M.role.match(r)){M.visible=true;}if(M.tooltip&&M.tooltip.match(r)){M.visible=true;}});m.refresh();};c.prototype._includeModelItem=function(i,I){var m=this._getInternalModel();var d=m.getData();if(I<0){I=d.items.length;}var t=this;var g=function(){if(i.getAggregationRole()==="Dimension"){return[{key:"category",text:t._oRb.getText('COLUMNSPANEL_CHARTROLE_CATEGORY')},{key:"series",text:t._oRb.getText('COLUMNSPANEL_CHARTROLE_SERIES')}];}if(i.getAggregationRole()==="Measure"){return[{key:"axis1",text:t._oRb.getText('COLUMNSPANEL_CHARTROLE_AXIS1')},{key:"axis2",text:t._oRb.getText('COLUMNSPANEL_CHARTROLE_AXIS2')}];}return[];};var M={columnKey:i.getColumnKey(),visible:true,text:i.getText(),tooltip:i.getTooltip(),aggregationRole:i.getAggregationRole(),availableRoleTypes:g(),persistentIndex:-1,persistentSelected:undefined,role:undefined,tableIndex:undefined};d.items.splice(I,0,M);};c.prototype._getTableColumns=function(){var t=this;return[new sap.m.Column({header:new sap.m.Text({text:{parts:[{path:'/countOfSelectedItems'},{path:'/countOfItems'}],formatter:function(i,d){return t._oRb.getText('COLUMNSPANEL_SELECT_ALL_WITH_COUNTER',[i,d]);}}})}),new sap.m.Column({header:new sap.m.Text({text:this._oRb.getText('COLUMNSPANEL_COLUMN_TYPE')})}),new sap.m.Column({header:new sap.m.Text({text:this._oRb.getText('COLUMNSPANEL_COLUMN_ROLE')})})];};c.prototype._getTableTemplate=function(){var t=this;return new sap.m.ColumnListItem({cells:[new sap.m.Text({text:"{text}"}),new sap.m.Text({text:{path:'',formatter:function(m){if(m.aggregationRole==="Dimension"){return t._oRb.getText('COLUMNSPANEL_TYPE_DIMENSION');}if(m.aggregationRole==="Measure"){return t._oRb.getText('COLUMNSPANEL_TYPE_MEASURE');}}}}),new sap.m.Select({selectedKey:"{role}",items:{path:'availableRoleTypes',factory:function(i,B){var A=B.getObject();return new sap.ui.core.Item({key:A.key,text:A.text});}}})],visible:"{visible}",selected:"{persistentSelected}",tooltip:"{tooltip}",type:sap.m.ListType.Active});};c.prototype._createToolbar=function(){P.prototype._createToolbar.apply(this,arguments);var m=this._getInternalModel();var i=new sap.ui.core.InvisibleText({text:this._oRb.getText('COLUMNSPANEL_CHARTTYPE')});var o=new sap.m.ComboBox({selectedKey:{path:'/selectedChartTypeKey'},ariaLabelledBy:i,items:{path:'/availableChartTypes',templateShareable:false,template:new sap.ui.core.Item({key:"{key}",text:"{text}"})},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:false,stayInOverflow:false})});o.setModel(m);this._getToolbar().insertContent(i,0).insertContent(o,1);};c.prototype._isSelectionItemEqualToModelItem=function(s,m){return m.persistentIndex===s.getIndex()&&m.persistentSelected===s.getSelected()&&m.role===s.getRole();};c.prototype._showAll=function(){q.sap.log.info("ModelItems: visible tableIndex isPersistent        TableItems: current");q.sap.log.info("--------------------------------------------------------------");var d=this._getInternalModel().getData();var t=this._oTable.getItems();var L=Math.max(d.items.length,this._oTable.getItems().length);for(var i=0;i<L;i++){var m=d.items[i];var o=t[i];q.sap.log.info(m.columnKey+": "+m.visible+" "+m.tableIndex+" "+m.persistentSelected+"_"+m.persistentIndex+";    "+o.getId()+" "+o.getCells()[0].getText()+": "+o.getSelected()+" "+o.getCells()[1].getText());}};return c;},true);
sap.ui.predefine('sap/m/P13nColumnsItem',['jquery.sap.global','./library','sap/ui/core/Item'],function(q,l,I){"use strict";var P=I.extend("sap.m.P13nColumnsItem",{metadata:{library:"sap.m",properties:{columnKey:{type:"string",group:"Misc"},index:{type:"int",group:"Appearance"},visible:{type:"boolean",group:"Appearance"},width:{type:"string",group:"Misc"},total:{type:"boolean"}}}});return P;},true);
sap.ui.predefine('sap/m/P13nColumnsPanel',['jquery.sap.global','./ColumnListItem','./P13nPanel','./P13nColumnsItem','./SearchField','./Table','./library','sap/ui/core/Control'],function(q,C,P,c,S,T,l,d){"use strict";var e=P.extend("sap.m.P13nColumnsPanel",{metadata:{library:"sap.m",properties:{visibleItemsThreshold:{type:"int",group:"Behavior",defaultValue:-1}},aggregations:{columnsItems:{type:"sap.m.P13nColumnsItem",multiple:true,singularName:"columnsItem",bindable:"bindable"},content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"}},events:{addColumnsItem:{parameters:{newItem:{type:"sap.m.P13nColumnsItem"}}},changeColumnsItems:{parameters:{newItems:{type:"sap.m.P13nColumnsItem[]"},existingItems:{type:"sap.m.P13nColumnsItem[]"}}},setData:{}}},renderer:function(r,o){r.write("<div");r.writeControlData(o);r.addClass("sapMP13nColumnsPanel");r.writeClasses();r.write(">");var a=o.getAggregation("content");if(a){a.forEach(function(b){r.renderControl(b);});}r.write("</div>");}});e.prototype._ItemMoveToTop=function(){var o=-1,n=-1,i=null,t=null;if(this._oSelectedItem){t=this._oTable.getItems();i=this._oSelectedItem.data('P13nColumnKey');o=this._getArrayIndexByItemKey(i,t);n=o;if(o>0){n=0;}if(n!=-1&&o!=-1&&o!=n){this._handleItemIndexChanged(this._oSelectedItem,n);this._changeColumnsItemsIndexes(o,n);this._afterMoveItem();}if(this._oMoveToTopButton.getEnabled()){this._oMoveToTopButton.focus();}else{this._oSelectedItem.focus();}}};e.prototype._ItemMoveUp=function(){var o=-1,n=-1,i=null,t=null;if(this._oSelectedItem){t=this._oTable.getItems();i=this._oSelectedItem.data('P13nColumnKey');o=this._getArrayIndexByItemKey(i,t);n=o;if(o>0){n=this._getPreviousItemIndex(o);}if(n!=-1&&o!=-1&&o!=n){this._handleItemIndexChanged(this._oSelectedItem,n);this._changeColumnsItemsIndexes(o,n);this._afterMoveItem();}if(this._oMoveUpButton.getEnabled()){this._oMoveUpButton.focus();}else{this._oSelectedItem.focus();}}};e.prototype._ItemMoveDown=function(){var o=-1,n=-1,i=null,t=null;var a=null;if(this._oSelectedItem){t=this._oTable.getItems();a=t.length;i=this._oSelectedItem.data('P13nColumnKey');o=this._getArrayIndexByItemKey(i,t);n=o;if(o<a-1){n=this._getNextItemIndex(o);}if(n!=-1&&o!=-1&&o!=n){this._handleItemIndexChanged(this._oSelectedItem,n);this._changeColumnsItemsIndexes(o,n);this._afterMoveItem();}if(this._oMoveDownButton.getEnabled()){this._oMoveDownButton.focus();}else{this._oSelectedItem.focus();}}};e.prototype._ItemMoveToBottom=function(){var o=-1,n=-1,i=null,t=null;var a=null;if(this._oSelectedItem){t=this._oTable.getItems();a=t.length;i=this._oSelectedItem.data('P13nColumnKey');o=this._getArrayIndexByItemKey(i,t);n=o;if(o<a-1){n=a-1;}if(n!=-1&&o!=-1&&o!=n){this._handleItemIndexChanged(this._oSelectedItem,n);this._changeColumnsItemsIndexes(o,n);this._afterMoveItem();}if(this._oMoveToBottomButton.getEnabled()){this._oMoveToBottomButton.focus();}else{this._oSelectedItem.focus();}}};e.prototype._changeColumnsItemsIndexes=function(o,n){var m=null,M=null,s=null,i=null;var a=null,b=null,f=null;if(o!==null&&o!==undefined&&o>-1&&n!==null&&n!==undefined&&n>-1&&o!==n){m=Math.min(o,n);M=Math.max(o,n);i=this._oTable.getItems().length-1;a=this.getColumnsItems();s=this._oSelectedItem.data('P13nColumnKey');a.forEach(function(g){f=g.getColumnKey();if(f!==undefined&&f===s){return;}b=g.getIndex();if(b===undefined||b<0||b<m||b>M){return;}if(o>n){if(b<i){b+=1;}}else{if(b>0){b-=1;}}g.setIndex(b);});}};e.prototype._afterMoveItem=function(){this._scrollToSelectedItem(this._oSelectedItem);this._calculateMoveButtonAppearance();};e.prototype._swopShowSelectedButton=function(){var n;this._bShowSelected=!this._bShowSelected;if(this._bShowSelected){n=this._oRb.getText('COLUMNSPANEL_SHOW_ALL');}else{n=this._oRb.getText('COLUMNSPANEL_SHOW_SELECTED');}this._oShowSelectedButton.setText(n);this._changeEnableProperty4SelectAll();this._filterItems();if(this._oSelectedItem&&this._oSelectedItem.getVisible()!==true){this._deactivateSelectedItem();}this._scrollToSelectedItem(this._oSelectedItem);this._calculateMoveButtonAppearance();this._fnHandleResize();};e.prototype._escapeRegExp=function(t){if(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');}};e.prototype._filterItems=function(){var s=null,t=null;var L=0,a=0,i=0,j=0;var I=null,o=null;var b,f;var g=null,h=null,r=null;if(this._bShowSelected){s=this._oTable.getSelectedItems();}else{s=this._oTable.getItems();}if(this._bSearchFilterActive){h=this._oSearchField.getValue();if(h){h=h.replace(/(^\s+)|(\s+$)/g,'');}if(h!==null&&h!==undefined){h=this._escapeRegExp(h);h=r=new RegExp(h,'igm');}}t=this._oTable.getItems();L=t.length;for(i=0;i<L;i++){I=t[i];b=true;f=false;if(this._bSearchFilterActive){b=false;g=I.getCells()[0].getText();if(g&&r!==null&&g.match(r)!==null){b=true;}if(b!==true&&I.getTooltip_Text){g=(I.getTooltip()instanceof sap.ui.core.TooltipBase?I.getTooltip().getTooltip_Text():I.getTooltip_Text());if(g&&r!==null&&g.match(r)!==null){b=true;}}}a=s.length;for(j=0;j<a;j++){o=s[j];if(o){if(o.getId()==I.getId()){f=true;break;}}}I.setVisible(f&&b);}};e.prototype._changeEnableProperty4SelectAll=function(s){var t=sap.ui.getCore().byId(this._oTable.getId()+'-sa');if(t){t.setEnabled(!this._bSearchFilterActive&&!this._bShowSelected);}};e.prototype._executeSearch=function(){var v=this._oSearchField.getValue();var L=v.length||0;if(L>0){this._bSearchFilterActive=true;}else{this._bSearchFilterActive=false;}this._changeEnableProperty4SelectAll();this._filterItems();if(this._oSelectedItem&&this._oSelectedItem.getVisible()!==true){this._deactivateSelectedItem();}this._calculateMoveButtonAppearance();this._scrollToSelectedItem(this._oSelectedItem);};e.prototype._getPreviousItemIndex=function(s){var r=-1,i=0;var t=null,o=null;if(s!==null&&s!==undefined&&s>0){if(this._bShowSelected===true){t=this._oTable.getItems();if(t&&t.length>0){for(i=s-1;i>=0;i--){o=t[i];if(o&&o.getSelected()===true){r=i;break;}}}}else{r=s-1;}}return r;};e.prototype._getNextItemIndex=function(s){var r=-1,i=0,L=null;var t=null,o=null;if(s!==null&&s!==undefined&&s>-1){t=this._oTable.getItems();if(t&&t.length>0){L=t.length;}if(s>=0&&s<L-1){if(this._bShowSelected===true){for(i=s+1;i<L;i++){o=t[i];if(o&&o.getSelected()===true){r=i;break;}}}else{r=s+1;}}}return r;};e.prototype._updateSelectAllDescription=function(E){var t=this._oTable.getItems().length;var s=this._oTable.getSelectedItems().length;var a=null;var o=this._oTable.getColumns()[0];if(o){a=this._oRb.getText('COLUMNSPANEL_SELECT_ALL');if(s!==null&&s!==undefined&&s>=0){a=this._oRb.getText('COLUMNSPANEL_SELECT_ALL_WITH_COUNTER',[s,t]);}o.getHeader().setText(a);}if(this._bShowSelected){this._filterItems();}};e.prototype._changeSelectedItem=function(i){var n=null;if(this._oSelectedItem!==null&&this._oSelectedItem!==undefined){this._removeHighLightingFromItem(this._oSelectedItem);}n=i;if(n!=this._oSelectedItem){this._oSelectedItem=n;this._setHighLightingToItem(this._oSelectedItem);}else{this._oSelectedItem=null;}this._calculateMoveButtonAppearance();};e.prototype._itemPressed=function(E){var n=null;n=E.getParameter('listItem');this._changeSelectedItem(n);};e.prototype._calculateMoveButtonAppearance=function(){var i=null,t=null;var L=-1,I=-1;var m=false,M=false;if(this._bSearchFilterActive===true){m=M=false;}else if(this._oSelectedItem!==null&&this._oSelectedItem!==undefined){i=this._oSelectedItem.data('P13nColumnKey');if(this._bShowSelected===true){t=this._oTable.getSelectedItems();}else{t=this._oTable.getItems();}I=this._getArrayIndexByItemKey(i,t);if(I!==-1){if(t&&t.length){L=t.length;}if(I===0){M=true;}else if(I===L-1){m=true;}else if(I>0&&I<L-1){M=true;m=true;}}}else{m=M=false;}if(this._oMoveToTopButton.getEnabled()!==m){this._oMoveToTopButton.setEnabled(m);}if(this._oMoveUpButton.getEnabled()!==m){this._oMoveUpButton.setEnabled(m);}if(this._oMoveDownButton.getEnabled()!==M){this._oMoveDownButton.setEnabled(M);}if(this._oMoveToBottomButton.getEnabled()!==M){this._oMoveToBottomButton.setEnabled(M);}};e.prototype._setHighLightingToItem=function(i){if(i!==null&&i!==undefined&&i.addStyleClass){i.addStyleClass("sapMP13nColumnsPanelItemSelected");}};e.prototype._removeHighLightingFromItem=function(i){if(i!==null&&i!==undefined&&i.removeStyleClass){i.removeStyleClass("sapMP13nColumnsPanelItemSelected");}};e.prototype._deactivateSelectedItem=function(){if(this._oSelectedItem){this._removeHighLightingFromItem(this._oSelectedItem);this._oSelectedItem=null;this._calculateMoveButtonAppearance();}};e.prototype._getArrayIndexByItemKey=function(I,a){var r=-1;var L=0,i=0;var o=null,s=null;if(I!==null&&I!==undefined&&I!==""){if(a&&a.length>0){L=a.length;for(i=0;i<L;i++){s=null;o=a[i];if(o){if(o.getColumnKey){s=o.getColumnKey();}else if(o.columnKey){s=o.columnKey;}else{s=o.data('P13nColumnKey');}if(s!==null&&s!==undefined&&s!==""){if(s===I){r=i;break;}}}}}}return r;};e.prototype._scrollToSelectedItem=function(i){var f=null;if(i){sap.ui.getCore().applyChanges();if(!!i.getDomRef()){f=document.activeElement;i.focus();if(f&&f.focus){f.focus();}}}};e.prototype._extractExistingColumnsItems=function(a){var E=null,o=null;if(a&&a.length>0){E=[];a.forEach(function(b){o={columnKey:b.getColumnKey(),index:b.getIndex(),visible:b.getVisible(),width:b.getWidth()};E.push(o);});}return E;};e.prototype._extractExistingTableItems=function(){var E=null,o=null;var t=this._oTable.getItems();if(t&&t.length>0){E=[];t.forEach(function(a,i){o={columnKey:a.data('P13nColumnKey'),index:i,visible:a.getSelected(),width:a.data('P13nColumnWidth')};E.push(o);});}return E;};e.prototype._handleItemIndexChanged=function(i,n){var I=null,a=null;var E=[],o=null;var N=[],b=null;var t=this;if(i&&n!==null&&n!==undefined&&n>-1){I=i.data('P13nColumnKey');b=this.getColumnsItems();this._aExistingColumnsItems=this._extractExistingColumnsItems(b);a=this._getArrayIndexByItemKey(I,b);if(a!==null&&a!==undefined&&a!==-1){o=b[a];}if(o===null){o=this._createNewColumnsItem(I);o.setIndex(n);N.push(o);this.fireAddColumnsItem({newItem:o});this._notifyChange();}else{o.setIndex(n);E.push(o);}if(N.length>0||E.length>0){this.aOwnHandledColumnsItems=N;this.fireChangeColumnsItems({newItems:N,existingItems:E});this._notifyChange();}this.fireSetData();if(E&&E.length>0){E.forEach(function(i){t._updateTableItems(i);});this._oTableItemsOrdering.fCheckReOrdering();}}};e.prototype._handleItemVisibilityChanged=function(i){var t=this;var I=null,a=null;var E=[],o=null;var n=[],b=null;if(i&&i.length>0){b=this.getColumnsItems();this._aExistingColumnsItems=this._extractExistingColumnsItems(b);i.forEach(function(f){o=a=null;I=f.columnKey;a=t._getArrayIndexByItemKey(I,b);if(a!==null&&a!==undefined&&a!==-1){o=b[a];}if(o===null){o=t._createNewColumnsItem(I);o.setVisible(f.visible);n.push(o);t.fireAddColumnsItem({newItem:o});t._notifyChange();}else{o.setVisible(f.visible);if(o.getVisible()===false){o.setIndex(undefined);}E.push(o);}});if(n.length>0||E.length>0){this.aOwnHandledColumnsItems=n;this.fireChangeColumnsItems({newItems:n,existingItems:E});this._notifyChange();}this.fireSetData();if(E&&E.length>0){E.forEach(function(f){t._updateTableItems(f);});this._oTableItemsOrdering.fCheckReOrdering();}}};e.prototype._createNewColumnsItem=function(i){var n=new sap.m.P13nColumnsItem({"columnKey":i});return n;};e.prototype._getColumnsItemByKey=function(i){var a=null;var b=-1,o=null;if(i!==null&&i!==undefined&&i!==""){a=this.getColumnsItems();b=this._getArrayIndexByItemKey(i,a);if(b!==null&&b>-1){o=a[b];}}return o;};e.prototype._updateTableItems=function(o){var t=null,i,a=null;var b=null,s=null;if(o){b=[];b.push(o);}else{b=this.getColumnsItems();}t=this._oTable.getItems();if(t&&t.length>0){b.forEach(function(o){s=o.getColumnKey();i=this._getArrayIndexByItemKey(s,t);if(i!==-1){a=t[i];this._applyColumnsItem2TableItem(o,a);}},this);}};e.prototype._reOrderExistingTableItems=function(){var E=null,f=null;var i=-1,L=null;var t=this;E=this._oTable.getItems();f=this._oTable.getSelectedItems();if(f&&f.length>0){f.forEach(function(o){i=E.indexOf(o);if(i>-1){E.splice(i,1);}});}if(E&&E.length>0){try{L=sap.ui.getCore().getConfiguration().getLocale().toString();}catch(g){q.sap.log.error("sap.m.P13nColumnsPanel : no available Language/Locale to sort table items");L=null;}if(L){E.sort(function(a,b){var s=a.getCells()[0].getText();var h=b.getCells()[0].getText();return s.localeCompare(h,L,{numeric:true});});}}this._oTable.removeAllItems();f.forEach(function(I){t._oTable.addItem(I);});E.forEach(function(I){t._oTable.addItem(I);});};e.prototype._addTableItem=function(i){var o=null;var n=null,s=null;if(i){s=i.getColumnKey();o=this._getColumnsItemByKey(s);n=this._createNewTableItemBasedOnP13nItem(i);if(o){if(o.getVisible()!==undefined){n.setSelected(o.getVisible());}if(o.getWidth()!==undefined){n.data('P13nColumnWidth',o.getWidth());}}if(o&&o.getIndex()!==undefined){this._oTable.insertItem(n,o.getIndex());}else{this._oTable.addItem(n);}}};e.prototype._insertTableItem=function(i,I){var o=null,n=null,s=null;if(I){s=I.getColumnKey();o=this._getColumnsItemByKey(s);n=this._createNewTableItemBasedOnP13nItem(I);if(o){if(o.getVisible()!==undefined){n.setSelected(o.getVisible());}if(o.getWidth()!==undefined){n.data('P13nColumnWidth',o.getWidth());}}if(o&&o.getIndex()!==undefined){this._oTable.insertItem(n,o.getIndex());}else{this._oTable.insertItem(n,i);}}};e.prototype._createNewTableItemBasedOnP13nItem=function(i){if(!i){return null;}var s=i.getColumnKey();var n=new sap.m.ColumnListItem({cells:[new sap.m.Text({text:i.getText()?i.getText():q.extend(true,{},i.getBindingInfo("text"))})],visible:true,selected:i.getVisible(),tooltip:i.getTooltip(),type:sap.m.ListType.Active});n.data('P13nColumnKey',s);n.data('P13nColumnWidth',i.getWidth());return n;};e.prototype._applyColumnsItem2TableItem=function(o,t){var a=this._oTable.getItems();var m=0,r=null,i;var s=null,b=null,E=null,I=false;if(o&&t&&a&&a.length>0){s=o.getColumnKey();if(this._aExistingColumnsItems&&this._aExistingColumnsItems.length>0){b=this._getArrayIndexByItemKey(s,this._aExistingColumnsItems);if(b!==-1){E=this._aExistingColumnsItems[b];if(E&&E.index!==undefined&&E.index===o.getIndex()){I=true;}}}if(o.getIndex()!==undefined&&!I){m=a.length;i=a.indexOf(t);if(i!==o.getIndex()&&o.getIndex()<=m){r=this._oTable.removeItem(t);this._oTable.insertItem(r,o.getIndex());}}if(o.getVisible()!==undefined&&t.getSelected()!==o.getVisible()){t.setSelected(o.getVisible());}if(o.getWidth()!==undefined&&t.data('P13nColumnWidth')!==o.getWidth()){t.data('P13nColumnWidth',o.getWidth());}}};e.prototype._getTableItemsChangeStatus=function(){var t=false,o=null;var a=this._extractExistingTableItems();if(this._aExistingTableItems&&!a){t=true;}else if(a&&!this._aExistingTableItems){t=true;}else if(this._aExistingTableItems&&a){this._aExistingTableItems.forEach(function(E,i){o=null;if(i<a.length){o=a[i];}if(o){if(E.columnKey!==o.columnKey){t=true;}if(E.index!==o.index){t=true;}if(E.visible!==o.visible){t=true;}if(E.width!==o.width){t=true;}}else{t=true;}if(t){return;}});}return t;};e.prototype.init=function(){var t=this;this._iLiveChangeTimer=0;this._iSearchTimer=0;this._bOnBeforeRenderingFirstTimeExecuted=false;this._bOnAfterRenderingFirstTimeExecuted=false;this._aExistingColumnsItems=null;this._aExistingTableItems=null;this.setType(sap.m.P13nPanelType.columns);this.setTitle(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("COLUMSPANEL_TITLE"));this._oTableItemsOrdering={"_bShallBeOrdered":true,"_bShallBeOrderedOnlyFirstTime":true,"_bAreOrdered":false,"fIsOrderingToBeDoneOnlyFirstTime":function(){return this._bShallBeOrderedOnlyFirstTime;},"fOrderOnlyFirstTime":function(){this._bShallBeOrdered=true;},"fIsOrderingToBeDone":function(s){if(s!==undefined&&s!==null){this._bShallBeOrdered=s;}return this._bShallBeOrdered;},"fIsOrderingDone":function(a){if(a!==undefined&&a!==null){this._bAreOrdered=a;}return this._bAreOrdered;},"fCheckReOrdering":function(){if(this.fIsOrderingToBeDone()){this._bAreOrdered=false;}}};this.setVerticalScrolling(false);this._fnHandleResize=function(){var b=false,s,i;if(t.getParent){var p=null,$=null,a,h;p=t.getParent();if(p){$=q("#"+p.getId()+"-cont");if($.children().length>0&&t._oToolbar.$().length>0){s=t._oScrollContainer.$()[0].clientHeight;a=$.children()[0].clientHeight;h=t._oToolbar?t._oToolbar.$()[0].clientHeight:0;i=a-h;if(s!==i){t._oScrollContainer.setHeight(i+'px');b=true;}}}}return b;};this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oMoveToTopButton=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("collapse-group"),text:this._oRb.getText('COLUMNSPANEL_MOVE_TO_TOP'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_TO_TOP'),type:sap.m.ButtonType.Transparent,press:function(){t._ItemMoveToTop();},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.Low,group:2})});this._oMoveUpButton=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("slim-arrow-up"),text:this._oRb.getText('COLUMNSPANEL_MOVE_UP'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_UP'),type:sap.m.ButtonType.Transparent,press:function(){t._ItemMoveUp();},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.High,group:1})});this._oMoveDownButton=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("slim-arrow-down"),text:this._oRb.getText('COLUMNSPANEL_MOVE_DOWN'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_DOWN'),type:sap.m.ButtonType.Transparent,press:function(){t._ItemMoveDown();},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.High,group:1})});this._oMoveToBottomButton=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("expand-group"),text:this._oRb.getText('COLUMNSPANEL_MOVE_TO_BOTTOM'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_TO_BOTTOM'),type:sap.m.ButtonType.Transparent,press:function(){t._ItemMoveToBottom();},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.Low,group:2})});this._oShowSelectedButton=new sap.m.Button({text:this._oRb.getText('COLUMNSPANEL_SHOW_SELECTED'),tooltip:this._oRb.getText('COLUMNSPANEL_SHOW_SELECTED'),type:sap.m.ButtonType.Transparent,press:function(){t._swopShowSelectedButton();},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.High})});this._bShowSelected=false;this._bSearchFilterActive=false;this._oSearchField=new S(this.getId()+"-searchField",{liveChange:function(E){var v=E.getSource().getValue(),D=(v?300:0);window.clearTimeout(t._iSearchTimer);if(D){t._iSearchTimer=window.setTimeout(function(){t._executeSearch();},D);}else{t._executeSearch();}},search:function(E){t._executeSearch();},layoutData:new sap.m.OverflowToolbarLayoutData({"minWidth":"12.5rem","maxWidth":"23.077rem","shrinkable":true,"moveToOverflow":false,"stayInOverflow":false})});this._oToolbarSpacer=new sap.m.ToolbarSpacer();this._oToolbar=new sap.m.OverflowToolbar({design:sap.m.ToolbarDesign.Auto,content:[this._oToolbarSpacer,this._oSearchField,this._oShowSelectedButton,this._oMoveToTopButton,this._oMoveUpButton,this._oMoveDownButton,this._oMoveToBottomButton]});this.addAggregation("content",this._oToolbar);this._oTable=new T({mode:sap.m.ListMode.MultiSelect,rememberSelections:false,itemPress:function(E){t._itemPressed(E);},selectionChange:function(E){t._updateSelectAllDescription(E);var s=E.getParameter('selected');var a=E.getParameter('listItems');var b=[],o=null;a.forEach(function(f){f.setSelected(s);o={"columnKey":f.data('P13nColumnKey'),"visible":f.getSelected()};b.push(o);});t._handleItemVisibilityChanged(b);var v=t.getValidationExecutor();if(v){v();}if(a.length===1&&s===true){if(a[0]!==t._oSelectedItem){t._changeSelectedItem(a[0]);}}},columns:[new sap.m.Column({header:new sap.m.Text({text:this._oRb.getText('COLUMNSPANEL_SELECT_ALL')})})]});this._oScrollContainer=new sap.m.ScrollContainer({horizontal:false,vertical:true,content:[this._oTable],width:'100%',height:'100%'});this.addAggregation("content",this._oScrollContainer);this._sContainerResizeListener=sap.ui.core.ResizeHandler.register(this._oScrollContainer,this._fnHandleResize);};e.prototype.reInitialize=function(){this._oTableItemsOrdering.fOrderOnlyFirstTime();this._oTableItemsOrdering.fCheckReOrdering();};e.prototype.onBeforeRendering=function(){if(!this._bOnBeforeRenderingFirstTimeExecuted){this._bOnBeforeRenderingFirstTimeExecuted=true;if(this._oTableItemsOrdering.fIsOrderingToBeDoneOnlyFirstTime()){this._oTableItemsOrdering.fOrderOnlyFirstTime();}}if(!this._oTableItemsOrdering.fIsOrderingDone()&&this._oTableItemsOrdering.fIsOrderingToBeDone()){this._updateTableItems();this._reOrderExistingTableItems();this._oTableItemsOrdering.fIsOrderingDone(true);if(this._oTableItemsOrdering.fIsOrderingToBeDoneOnlyFirstTime()){this._oTableItemsOrdering.fIsOrderingToBeDone(false);}}if(this._aExistingTableItems===null||this._aExistingTableItems===undefined){this._aExistingTableItems=this._extractExistingTableItems();}this._updateSelectAllDescription();this._calculateMoveButtonAppearance();};e.prototype.onAfterRendering=function(){var t=this;if(!this._bOnAfterRenderingFirstTimeExecuted){this._bOnAfterRenderingFirstTimeExecuted=true;window.clearTimeout(this._iLiveChangeTimer);this._iLiveChangeTimer=window.setTimeout(function(){t._oToolbar._resetAndInvalidateToolbar();},0);}};e.prototype.getOkPayload=function(){var p=null,s=[],o=null;var t=this._extractExistingTableItems();if(t&&t.length>0){p={"tableItems":t,"tableItemsChanged":false,"selectedItems":s};t.forEach(function(a){if(a&&a.visible&&a.visible===true){o={"columnKey":a.columnKey};s.push(o);}});p.tableItemsChanged=this._getTableItemsChangeStatus();}return p;};e.prototype.getResetPayload=function(){var p=null;p={"oPanel":this};return p;};e.prototype.exit=function(){sap.ui.core.ResizeHandler.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;this._oMoveToTopButton.destroy();this._oMoveToTopButton=null;this._oMoveDownButton.destroy();this._oMoveDownButton=null;this._oMoveUpButton.destroy();this._oMoveUpButton=null;this._oMoveToBottomButton.destroy();this._oMoveToBottomButton=null;this._oSearchField.destroy();this._oSearchField=null;this._oToolbar.destroy();this._oToolbar=null;this._oTable.destroy();this._oTable=null;window.clearTimeout(this._iLiveChangeTimer);window.clearTimeout(this._iSearchTimer);};e.prototype.addItem=function(i){P.prototype.addItem.apply(this,arguments);this._addTableItem(i);return this;};e.prototype.insertItem=function(i,I){P.prototype.insertItem.apply(this,arguments);this._insertTableItem(i,I);return this;};e.prototype.removeItem=function(i){var t=null,I=null,a=null,s=null;i=P.prototype.removeItem.apply(this,arguments);if(i){s=i.getColumnKey();a=this._oTable.getItems();if(a&&a.length>0&&s!==null&&s!==""){I=this._getArrayIndexByItemKey(s,a);if(I!==null&&I!==-1){t=a[I];if(t){this._oTable.removeItem(t);}}}}return i;};e.prototype.removeAllItems=function(){var i=P.prototype.removeAllItems.apply(this,arguments);if(this._oTable){this._oTable.removeAllItems();}return i;};e.prototype.destroyItems=function(){P.prototype.destroyItems.apply(this,arguments);if(this._oTable){this._oTable.destroyItems();}return this;};e.prototype.addColumnsItem=function(o){this.addAggregation("columnsItems",o);this._updateTableItems(o);this._oTableItemsOrdering.fCheckReOrdering();return this;};e.prototype.insertColumnsItem=function(i,o){this.insertAggregation("columnsItems",o,i);this._updateTableItems(o);this._oTableItemsOrdering.fCheckReOrdering();return this;};e.prototype.removeColumnsItem=function(o){o=this.removeAggregation("columnsItems",o);this._updateTableItems(o);this._oTableItemsOrdering.fCheckReOrdering();return o;};e.prototype.removeAllColumnsItems=function(){var a=this.removeAllAggregation("columnsItems");this._oTableItemsOrdering.fCheckReOrdering();return a;};e.prototype.destroyColumnsItems=function(){this.destroyAggregation("columnsItems");this._oTableItemsOrdering.fCheckReOrdering();return this;};e.prototype.onBeforeNavigationFrom=function(){var s=this._oTable.getSelectedItems();var v=this.getVisibleItemsThreshold();return!(s&&v!==-1&&s.length>v);};e.prototype._notifyChange=function(){var L=this.getChangeNotifier();if(L){L(this);}};return e;},true);
sap.ui.predefine('sap/m/P13nConditionPanel',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/format/DateFormat','sap/ui/core/format/NumberFormat','sap/ui/core/IconPool'],function(q,a,C,D,N,I){"use strict";var P=C.extend("sap.m.P13nConditionPanel",{metadata:{library:"sap.m",properties:{maxConditions:{type:"string",group:"Misc",defaultValue:'-1'},exclude:{type:"boolean",group:"Misc",defaultValue:false},containerQuery:{type:"boolean",group:"Misc",defaultValue:false},autoAddNewRow:{type:"boolean",group:"Misc",defaultValue:false},disableFirstRemoveIcon:{type:"boolean",group:"Misc",defaultValue:false},alwaysShowAddIcon:{type:"boolean",group:"Misc",defaultValue:true},usePrevConditionSetting:{type:"boolean",group:"Misc",defaultValue:true},autoReduceKeyFieldItems:{type:"boolean",group:"Misc",defaultValue:false},layoutMode:{type:"string",group:"Misc",defaultValue:null},showLabel:{type:"boolean",group:"Misc",defaultValue:false},displayFormat:{type:"string",group:"Misc",defaultValue:null},validationExecutor:{type:"object",group:"Misc",defaultValue:null}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"}},events:{dataChange:{}}},renderer:function(r,c){r.write("<section");r.writeControlData(c);r.addClass("sapMConditionPanel");r.writeClasses();r.writeStyles();r.write(">");r.write("<div");r.addClass("sapMConditionPanelContent");r.addClass("sapMConditionPanelBG");r.writeClasses();r.write(">");var b=c.getAggregation("content");var l=b.length;for(var i=0;i<l;i++){r.renderControl(b[i]);}r.write("</div>");r.write("</section>");}});P.prototype.setConditions=function(c){if(!c){q.sap.log.error("sap.m.P13nConditionPanel : aCondition is not defined");}if(this._bIgnoreSetConditions){return;}this._oConditionsMap={};this._aConditionKeys=[];this._iConditions=0;for(var i=0;i<c.length;i++){this._addCondition2Map(c[i]);}this._clearConditions();this._fillConditions();};P.prototype.removeAllConditions=function(){this._oConditionsMap={};this._aConditionKeys=[];this._iConditions=0;this._clearConditions();this._fillConditions();};P.prototype.addCondition=function(c){if(this._bIgnoreSetConditions){return;}c.index=this._iConditions;this._addCondition2Map(c);this._addCondition(c);};P.prototype.insertCondition=function(c,i){if(this._bIgnoreSetConditions){return;}if(i!==undefined){c.index=i;}this._addCondition2Map(c);this._addCondition(c);};P.prototype.removeCondition=function(c){this._clearConditions();if(typeof c=="string"){this._removeConditionFromMap(c);}if(typeof c=="object"){this._removeConditionFromMap(c.key);}this._fillConditions();};P.prototype._addCondition2Map=function(c){if(!c.key){c.key="condition_"+this._iConditions;if(this.getExclude()){c.key="x"+c.key;}}this._iConditions++;this._oConditionsMap[c.key]=c;this._aConditionKeys.push(c.key);};P.prototype._removeConditionFromMap=function(k){this._iConditions--;delete this._oConditionsMap[k];var i=this._aConditionKeys.indexOf(k);if(i>=0){this._aConditionKeys.splice(i,1);}};P.prototype.getConditions=function(){var c;var b=[];if(this._oConditionsMap){for(var d in this._oConditionsMap){c=this._oConditionsMap[d];var v=c.value;if(!v){v=this._getFormatedConditionText(c.operation,c.value1,c.value2,c.exclude,c.keyField,c.showIfGrouped);}if(!c._oGrid||c._oGrid.select.getSelected()){b.push({"key":d,"text":v,"exclude":c.exclude,"operation":c.operation,"keyField":c.keyField,"value1":c.value1,"value2":c.operation===sap.m.P13nConditionOperation.BT?c.value2:null,"showIfGrouped":c.showIfGrouped});}}}return b;};P.prototype.setOperations=function(o,t){t=t||"default";this._oTypeOperations[t]=o;this._updateAllOperations();};P.prototype.setValues=function(v,t){t=t||"default";this._oTypeValues[t]=v;};P.prototype.addOperation=function(o,t){t=t||"default";this._oTypeOperations[t].push(o);this._updateAllOperations();};P.prototype.removeAllOperations=function(t){t=t||"default";this._oTypeOperations[t]=[];this._updateAllOperations();};P.prototype.getOperations=function(t){t=t||"default";return this._oTypeOperations[t];};P.prototype.setKeyFields=function(k){this._aKeyFields=k;this._updateKeyFieldItems(this._oConditionsGrid,true);this._updateAllConditionsEnableStates();this._createAndUpdateAllKeyFields();this._updateAllOperations();};P.prototype.addKeyField=function(k){this._aKeyFields.push(k);this._updateKeyFieldItems(this._oConditionsGrid,true,true);this._updateAllConditionsEnableStates();this._createAndUpdateAllKeyFields();this._updateAllOperations();};P.prototype.removeAllKeyFields=function(){this._aKeyFields=[];this._updateKeyFieldItems(this._oConditionsGrid,true);};P.prototype.getKeyFields=function(){return this._aKeyFields;};P.prototype.setAlwaysShowAddIcon=function(e){this.setProperty("alwaysShowAddIcon",e);if(this._oConditionsGrid){this._oConditionsGrid.toggleStyleClass("conditionRootGrid",this.getLayoutMode()!=="Desktop");}return this;};P.prototype.setLayoutMode=function(l){this.setProperty("layoutMode",l);if(this._oConditionsGrid){this._oConditionsGrid.toggleStyleClass("conditionRootGrid",l!=="Desktop");}this._updateConditionFieldSpans(l);this._clearConditions();this._fillConditions();return this;};P.prototype.setContainerQuery=function(e){this._unregisterResizeHandler();this.setProperty("containerQuery",e);this._registerResizeHandler();this._clearConditions();this._fillConditions();return this;};P.prototype._updateConditionFieldSpans=function(m){if(this._aConditionsFields){var d=m==="Desktop";if(d){this._aConditionsFields[2].SpanFilter="L3 M3 S3";this._aConditionsFields[4].SpanFilter="L2 M2 S2";this._aConditionsFields[5].SpanFilter="L3 M3 S3";this._aConditionsFields[6].SpanFilter="L2 M2 S2";this._aConditionsFields[7].SpanFilter="L1 M1 S1";}var t=m==="Tablet";if(t){this._aConditionsFields[2].SpanFilter="L5 M5 S5";this._aConditionsFields[4].SpanFilter="L5 M5 S5";this._aConditionsFields[5].SpanFilter="L10 M10 S10";this._aConditionsFields[6].SpanFilter="L10 M10 S10";this._aConditionsFields[7].SpanFilter="L1 M1 S1";}}};P.prototype.init=function(){sap.ui.getCore().loadLibrary("sap.ui.layout");q.sap.require("sap.ui.layout.Grid");sap.ui.layout.Grid.prototype.init.apply(this);this.addStyleClass("sapMConditionPanel");this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._sFromLabelText=this._oRb.getText("CONDITIONPANEL_LABELFROM");this._sToLabelText=this._oRb.getText("CONDITIONPANEL_LABELTO");this._sValueLabelText=this._oRb.getText("CONDITIONPANEL_LABELVALUE");this._sShowIfGroupedLabelText=this._oRb.getText("CONDITIONPANEL_LABELGROUPING");this._sValidationDialogFieldMessage=this._oRb.getText("CONDITIONPANEL_FIELDMESSAGE");this._oTypeOperations={"default":[]};this._oTypeValues={"default":[]};this._aKeyFields=[];this._oConditionsMap={};this._aConditionKeys=[];this._iConditions=0;this._sLayoutMode="Desktop";this._sConditionType="Filter";this._sAddRemoveIconTooltip="FILTER";this._iBreakPointTablet=sap.ui.Device.media._predefinedRangeSets[sap.ui.Device.media.RANGESETS.SAP_STANDARD].points[0];this._iBreakPointDesktop=sap.ui.Device.media._predefinedRangeSets[sap.ui.Device.media.RANGESETS.SAP_STANDARD].points[1];this._oConditionsGrid=new sap.ui.layout.Grid({width:"100%",defaultSpan:"L12 M12 S12",hSpacing:0,vSpacing:0}).toggleStyleClass("conditionRootGrid",this.getLayoutMode()!=="Desktop");this._iFirstConditionIndex=0;this._iConditionPageSize=10;this._oInvisibleTextField=new sap.ui.core.InvisibleText({text:this._oRb.getText("CONDITIONPANEL_FIELD_LABEL")});this._oInvisibleTextOperator=new sap.ui.core.InvisibleText({text:this._oRb.getText("CONDITIONPANEL_OPERATOR_LABEL")});this.addAggregation("content",this._oInvisibleTextField);this.addAggregation("content",this._oInvisibleTextOperator);this.addAggregation("content",this._oConditionsGrid);this._registerResizeHandler();this._aConditionsFields=[{"ID":"select","Label":"","SpanFilter":"L1 M1 S1","SpanSort":"L1 M1 S1","SpanGroup":"L1 M1 S1","Control":"CheckBox","Value":""},{"ID":"keyFieldLabel","Text":"Sort By","SpanFilter":"L1 M1 S1","SpanSort":"L1 M1 S1","SpanGroup":"L1 M1 S1","Control":"Label"},{"ID":"keyField","Label":"","SpanFilter":"L3 M5 S10","SpanSort":"L5 M5 S12","SpanGroup":"L4 M4 S12","Control":"ComboBox"},{"ID":"operationLabel","Text":"Sort Order","SpanFilter":"L1 M1 S1","SpanSort":"L1 M1 S1","SpanGroup":"L1 M1 S1","Control":"Label"},{"ID":"operation","Label":"","SpanFilter":"L2 M5 S10","SpanSort":sap.ui.Device.system.phone?"L5 M5 S8":"L5 M5 S9","SpanGroup":"L2 M5 S10","Control":"ComboBox"},{"ID":"value1","Label":this._sFromLabelText,"SpanFilter":"L3 M10 S10","SpanSort":"L3 M10 S10","SpanGroup":"L3 M10 S10","Control":"TextField","Value":""},{"ID":"value2","Label":this._sToLabelText,"SpanFilter":"L2 M10 S10","SpanSort":"L2 M10 S10","SpanGroup":"L2 M10 S10","Control":"TextField","Value":""},{"ID":"showIfGrouped","Label":this._sShowIfGroupedLabelText,"SpanFilter":"L1 M10 S10","SpanSort":"L1 M10 S10","SpanGroup":"L3 M4 S9","Control":"CheckBox","Value":"false"}];this._oButtonGroupSpan={"SpanFilter":"L1 M2 S2","SpanSort":sap.ui.Device.system.phone?"L2 M2 S4":"L2 M2 S3","SpanGroup":"L2 M2 S3"};this._updateConditionFieldSpans(this.getLayoutMode());this._fillConditions();};P.prototype._createPaginatorToolbar=function(){this._bPaginatorButtonsVisible=false;var t=this;this._oPrevButton=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI("navigation-left-arrow"),tooltip:this._oRb.getText("WIZARD_FINISH"),visible:true,press:function(e){t._iFirstConditionIndex=Math.max(0,t._iFirstConditionIndex-t._iConditionPageSize);t._clearConditions();t._fillConditions();},layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow})});this._oNextButton=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI("navigation-right-arrow"),tooltip:this._oRb.getText("WIZARD_NEXT"),visible:true,press:function(e){t._iFirstConditionIndex+=t._iConditionPageSize;t._clearConditions();t._fillConditions();},layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow})});this._oRemoveAllButton=new sap.m.Button({text:this._oRb.getText("CONDITIONPANEL_REMOVE_ALL"),visible:true,press:function(e){t._aConditionKeys.forEach(function(k,i){if(i>=0){this.fireDataChange({key:k,index:i,operation:"remove",newData:null});}},t);this._iFirstConditionIndex=0;t.removeAllConditions();},layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.Low})});this._oAddButton=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI("add"),tooltip:this._oRb.getText("CONDITIONPANEL_ADD"+(this._sAddRemoveIconTooltipKey?"_"+this._sAddRemoveIconTooltipKey:"")+"_TOOLTIP"),visible:true,press:function(e){var c=t._createConditionRow(t._oConditionsGrid,undefined,null,0);t._changeField(c);setTimeout(function(){c.keyField.focus();});t._updatePaginatorToolbar();},layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.Low})});this._oHeaderText=new sap.m.Text({wrapping:false,layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow})});this._oPageText=new sap.m.Text({wrapping:false,textAlign:sap.ui.core.TextAlign.Center,layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow})});this._oFilterField=new sap.m.SearchField({width:"12rem",layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.High})});this._oPaginatorToolbar=new sap.m.OverflowToolbar({height:"3rem",design:sap.m.ToolbarDesign.Transparent,content:[this._oHeaderText,new sap.m.ToolbarSpacer(),this._oFilterField,this._oPrevButton,this._oPageText,this._oNextButton,this._oRemoveAllButton,this._oAddButton]});};P.prototype._updatePaginatorToolbar=function(){if(this._sConditionType!=="Filter"||this.getMaxConditions()!=="-1"){return;}var i=this._aConditionKeys.length;var p=1+Math.floor(Math.max(0,i-1)/this._iConditionPageSize);var b=1+Math.floor(this._iFirstConditionIndex/this._iConditionPageSize);var o=this.getParent();if(!this._oPaginatorToolbar){if(i>this._iConditionPageSize){this._createPaginatorToolbar();this.insertAggregation("content",this._oPaginatorToolbar,0);this._onGridResize();}else{if(o&&o.setHeaderText){if(this._sOrgHeaderText==undefined){this._sOrgHeaderText=o.getHeaderText();}o.setHeaderText(this._sOrgHeaderText+(i>0?" ("+i+")":""));}return;}}this._oPrevButton.setEnabled(this._iFirstConditionIndex>0);this._oNextButton.setEnabled(this._iFirstConditionIndex+this._iConditionPageSize<i);if(o&&o.setHeaderToolbar){if(!o.getHeaderToolbar()){this.removeAggregation("content",this._oPaginatorToolbar);o.setHeaderToolbar(this._oPaginatorToolbar);o.attachExpand(function(e){this._setToolbarElementVisibility(e.getSource().getExpanded()&&this._bPaginatorButtonsVisible);}.bind(this));}}if(o&&o.setHeaderText){if(this._sOrgHeaderText==undefined){this._sOrgHeaderText=o.getHeaderText();}var h=this._sOrgHeaderText+(i>0?" ("+i+")":"");o.setHeaderText(h);this._oHeaderText.setText(h);}else{this._oHeaderText.setText(i+" Conditions");}this._oPageText.setText(b+"/"+p);this._bPaginatorButtonsVisible=this._bPaginatorButtonsVisible||p>1;this._setToolbarElementVisibility(this._bPaginatorButtonsVisible);if(b>p){this._iFirstConditionIndex-=Math.max(0,this._iConditionPageSize);this._clearConditions();this._fillConditions();}var n=0;this._oConditionsGrid.getContent().forEach(function(g){if(g.select.getSelected()){n++;}},this);if(p==b&&(i-this._iFirstConditionIndex)>n){this._clearConditions();this._fillConditions();}};P.prototype._setToolbarElementVisibility=function(v){this._oPrevButton.setVisible(v);this._oNextButton.setVisible(v);this._oPageText.setVisible(v);this._oFilterField.setVisible(false);this._oAddButton.setVisible(v);this._oRemoveAllButton.setVisible(v);};P.prototype.exit=function(){this._clearConditions();this._unregisterResizeHandler();this._aConditionsFields=null;this._aKeys=null;this._aKeyFields=null;this._oTypeOperations=null;this._oRb=null;this._sFromLabelText=null;this._sToLabelText=null;this._sValueLabelText=null;this._sValidationDialogFieldMessage=null;this._oConditionsMap=null;this._aConditionKeys=[];};P.prototype._clearConditions=function(){var g=this._oConditionsGrid.getContent();g.forEach(function(G){for(var f in this._aConditionsFields){var b=this._aConditionsFields[f];if(G[b["ID"]]&&G.getContent().indexOf(G[b["ID"]])===-1){G[b["ID"]].destroy();}}},this);this._oConditionsGrid.destroyContent();};P.prototype._fillConditions=function(){var c,s;var i=0,m=this._getMaxConditionsAsNumber(),n=this._aConditionKeys.length;if(this._oConditionsMap){var p=this._sConditionType!=="Filter"||this.getMaxConditions()!=="-1"?9999:this._iConditionPageSize;n=Math.min(n,Math.min(m,this._iFirstConditionIndex+p));for(i=this._iFirstConditionIndex;i<n;i++){s=this._aConditionKeys[i];c=this._oConditionsMap[s];this._createConditionRow(this._oConditionsGrid,c,s);}}this._updatePaginatorToolbar();if((this.getAutoAddNewRow()||this._oConditionsGrid.getContent().length===0)&&this._oConditionsGrid.getContent().length<m){this._createConditionRow(this._oConditionsGrid);}};P.prototype._addCondition=function(c){var i=0;var m=this._getMaxConditionsAsNumber();if(this._oConditionsMap){for(var b in this._oConditionsMap){if(i<m&&c===this._oConditionsMap[b]){this._createConditionRow(this._oConditionsGrid,c,b,i);}i++;}}this._updatePaginatorToolbar();};P.prototype._getMaxConditionsAsNumber=function(){return this.getMaxConditions()==="-1"?9999:parseInt(this.getMaxConditions(),10);};P.prototype.onAfterRendering=function(){if(this.getLayoutMode()){this._sLayoutMode=this.getLayoutMode();return;}};P.prototype._handleMediaChange=function(p){this._sLayoutMode=p.name;this._updateLayout(p);};P.prototype._unregisterResizeHandler=function(){if(this._sContainerResizeListener){sap.ui.core.ResizeHandler.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;}sap.ui.Device.media.detachHandler(this._handleMediaChange,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);};P.prototype._registerResizeHandler=function(){if(this.getContainerQuery()){this._sContainerResizeListener=sap.ui.core.ResizeHandler.register(this._oConditionsGrid,q.proxy(this._onGridResize,this));this._onGridResize();}else{sap.ui.Device.media.attachHandler(this._handleMediaChange,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);}};P.prototype._getKeyFromConditionGrid=function(c){var k=c.data("_key");if(!k){k=this._createConditionKey();}return k;};P.prototype._createConditionKey=function(){var i=0;var k;do{k="condition_"+i;if(this.getExclude()){k="x"+k;}i++;}while(this._oConditionsMap[k]);return k;};P.prototype._createConditionRow=function(t,c,k,p){var b=null;var g;var d=this;if(p===undefined){p=t.getContent().length;}var o=new sap.ui.layout.Grid({width:"100%",defaultSpan:"L12 M12 S12",hSpacing:1,vSpacing:0,containerQuery:this.getContainerQuery()}).data("_key",k);for(var f in this._aConditionsFields){var e;var h=this._aConditionsFields[f];switch(h["Control"]){case"CheckBox":e=new sap.m.CheckBox({enabled:false,visible:false,layoutData:new sap.ui.layout.GridData({span:h["Span"+this._sConditionType]})});if(h["ID"]==="showIfGrouped"){e.setEnabled(true);e.setText(h["Label"]);e.attachSelect(function(){d._changeField(o);});e.setSelected(c?c.showIfGrouped:true);}else{if(c){e.setSelected(true);e.setEnabled(true);}}break;case"ComboBox":if(h["ID"]==="keyField"){e=new sap.m.ComboBox({width:"100%",ariaLabelledBy:this._oInvisibleTextField});var O=q.proxy(e.setSelectedKey,e);e.setSelectedKey=function(k){O(k);var m=d.getValidationExecutor();if(m){m();}};var i=q.proxy(e.setSelectedItem,e);e.setSelectedItem=function(m){i(m);var n=d.getValidationExecutor();if(n){n();}};e.setLayoutData(new sap.ui.layout.GridData({span:h["Span"+this._sConditionType]}));this._fillKeyFieldListItems(e,this._aKeyFields);if(e.attachSelectionChange){e.attachSelectionChange(function(E){var m=d.getValidationExecutor();if(m){m();}d._handleSelectionChangeOnKeyField(t,o);});}if(e.attachChange){e.attachChange(function(E){o.keyField.close();d._handleChangeOnKeyField(t,o);});}if(e.setSelectedItem){if(c){e.setSelectedKey(c.keyField);this._aKeyFields.forEach(function(K,m){var n=K.key;if(n===undefined){n=K;}if(c.keyField===n){e.setSelectedItem(e.getItems()[m]);}},this);}else{if(this.getUsePrevConditionSetting()&&!this.getAutoReduceKeyFieldItems()){if(p>0&&!k){g=t.getContent()[p-1];e.setSelectedKey(g.keyField.getSelectedKey());}else{this._aKeyFields.some(function(K,m){if(K.isDefault){e.setSelectedItem(e.getItems()[m]);return true;}if(!e.getSelectedItem()&&K.type!=="boolean"){e.setSelectedItem(e.getItems()[m]);}},this);if(!e.getSelectedItem()&&e.getItems().length>0){e.setSelectedItem(e.getItems()[0]);}}}else{this._aKeyFields.forEach(function(K,m){if(K.isDefault){e.setSelectedItem(e.getItems()[m]);}},this);}}}}if(h["ID"]==="operation"){e=new sap.m.Select({width:"100%",ariaLabelledBy:this._oInvisibleTextOperator,layoutData:new sap.ui.layout.GridData({span:h["Span"+this._sConditionType]})});e.attachChange(function(){d._handleChangeOnOperationField(t,o);});o[h["ID"]]=e;this._updateOperationItems(t,o);if(c){var K=this._getCurrentKeyFieldItem(o.keyField);var j=this._oTypeOperations["default"];if(K){if(K.type&&this._oTypeOperations[K.type]){j=this._oTypeOperations[K.type];}if(K.operations){j=K.operations;}}j.some(function(m,n){if(c.operation===m){e.setSelectedKey(m);return true;}},this);}else{if(this.getUsePrevConditionSetting()){if(p>0&&k===null){var g=t.getContent()[p-1];e.setSelectedKey(g.operation.getSelectedKey());}}}}if(e.getSelectedItem&&e.getSelectedItem()){e.setTooltip(e.getSelectedItem().getTooltip()||e.getSelectedItem().getText());}break;case"TextField":var l=this._getCurrentKeyFieldItem(o.keyField);e=this._createValueField(l,h,o);e.oTargetGrid=t;if(c&&c[h["ID"]]!==undefined){var v=c[h["ID"]];var V;if(e instanceof sap.m.Select){if(typeof v==="string"&&l.type==="boolean"){v=v==="true";}if(typeof v==="boolean"){e.setSelectedIndex(v?2:1);}else{e.setSelectedItem(e.getItemByKey(v.toString()));}}else{if(typeof v==="string"&&o.oFormatter instanceof sap.ui.core.format.NumberFormat){V=parseFloat(v);v=o.oFormatter.format(V);}if(typeof v==="string"&&o.oFormatter){V=o.oFormatter.parse(v);}else{V=v;}if(!isNaN(V)&&V!==null&&o.oFormatter){v=o.oFormatter.format(V);e.setValue(v);}else{if(!V&&v&&o.oFormatter instanceof sap.ui.core.format.DateFormat){V=new Date(v);v=o.oFormatter.format(V);e.setValue(v);}else{e.setValue(V);}}}}break;case"Label":e=new sap.m.Label({text:h["Text"]+":",visible:this.getShowLabel(),layoutData:new sap.ui.layout.GridData({span:h["Span"+this._sConditionType]})}).addStyleClass("conditionLabel");e.oTargetGrid=t;break;}o[h["ID"]]=e;o.addContent(e);}b=new sap.ui.layout.HorizontalLayout({layoutData:new sap.ui.layout.GridData({span:this.getLayoutMode()==="Desktop"?"L2 M2 S2":this._oButtonGroupSpan["Span"+this._sConditionType]})}).addStyleClass("floatRight");o.addContent(b);o["ButtonContainer"]=b;var r=new sap.m.Button({type:sap.m.ButtonType.Transparent,icon:sap.ui.core.IconPool.getIconURI("sys-cancel"),tooltip:this._oRb.getText("CONDITIONPANEL_REMOVE"+(this._sAddRemoveIconTooltipKey?"_"+this._sAddRemoveIconTooltipKey:"")+"_TOOLTIP"),press:function(){d._handleRemoveCondition(this.oTargetGrid,o);},layoutData:new sap.ui.layout.GridData({span:this.getLayoutMode()==="Desktop"?"L1 M1 S1":"L1 M2 S2"})});r.oTargetGrid=t;b.addContent(r);o["remove"]=r;var A=new sap.m.Button({type:sap.m.ButtonType.Transparent,icon:sap.ui.core.IconPool.getIconURI("add"),tooltip:this._oRb.getText("CONDITIONPANEL_ADD"+(this._sAddRemoveIconTooltipKey?"_"+this._sAddRemoveIconTooltipKey:"")+"_TOOLTIP"),press:function(){d._handleAddCondition(this.oTargetGrid,o);},layoutData:new sap.ui.layout.GridData({span:this.getLayoutMode()==="Desktop"?"L1 M1 S1":"L1 M10 S10"})});A.oTargetGrid=t;A.addStyleClass("conditionAddBtnFloatRight");b.addContent(A);o["add"]=A;t.insertContent(o,p);this._updateOperationItems(t,o);this._changeOperationValueFields(t,o);this._updateAllConditionsEnableStates();this._updateConditionButtons(t);if(this.getAutoReduceKeyFieldItems()){this._updateKeyFieldItems(t,false);}if(this._sLayoutMode){this._updateLayout({name:this._sLayoutMode});}if(c){var s=this._getFormatedConditionText(c.operation,c.value1,c.value2,c.exclude,c.keyField,c.showIfGrouped);c._oGrid=o;c.value=s;this._oConditionsMap[k]=c;}return o;};P.prototype._handleRemoveCondition=function(t,c){var i=t.getContent().indexOf(c);this._removeCondition(t,c);if(this.getAutoReduceKeyFieldItems()){this._updateKeyFieldItems(t,false);}if(i>=0){i=Math.min(i,t.getContent().length-1);var c=t.getContent()[i];setTimeout(function(){c.remove.focus();});}this._updatePaginatorToolbar();};P.prototype._handleAddCondition=function(t,s){var p=t.getContent().indexOf(s);var c=this._createConditionRow(t,undefined,null,p+1);this._changeField(c);setTimeout(function(){c.keyField.focus();});this._updatePaginatorToolbar();};P.prototype._getCurrentKeyFieldItem=function(k){if(k.getSelectedKey&&k.getSelectedKey()){var K=k.getSelectedKey();var i=this._aKeyFields;for(var b in i){var o=i[b];if(o.key===K){return o;}}}return null;};P.prototype._createValueField=function(c,f,o){var b;var s=c?c.type:"";var t=this;var p={value:f["Value"],width:"100%",placeholder:f["Label"],change:function(e){t._validateFormatFieldValue(e);t._changeField(o);},layoutData:new sap.ui.layout.GridData({span:f["Span"+this._sConditionType]})};switch(s){case"boolean":case"enum":var d=[];var v=c.values||this._oTypeValues[s]||["",false,true];v.forEach(function(V,i){d.push(new sap.ui.core.Item({key:s==="boolean"?(i===v.length-1).toString():V.toString(),text:V.toString()}));});p={width:"100%",items:d,change:function(){t._changeField(o);},layoutData:new sap.ui.layout.GridData({span:f["Span"+this._sConditionType]})};o.oFormatter=null;b=new sap.m.Select(p);break;case"numeric":var F;if(c.precision||c.scale){F={};if(c.precision){F["maxIntegerDigits"]=parseInt(c.precision,10);}if(c.scale){F["maxFractionDigits"]=parseInt(c.scale,10);}}o.oFormatter=N.getFloatInstance(F);b=new sap.m.Input(p);break;case"date":o.oFormatter=D.getDateInstance();b=new sap.m.DatePicker(p);break;case"time":o.oFormatter=D.getTimeInstance();b=new sap.m.TimePicker(p);break;default:o.oFormatter=null;b=new sap.m.Input(p);if(this._fSuggestCallback){var c=this._getCurrentKeyFieldItem(o.keyField);if(c&&c.key){var S=this._fSuggestCallback(b,c.key);if(S){b._oSuggestProvider=S;}}}}if(s!=="boolean"&&s!=="enum"){b.onpaste=function(e){var O;if(window.clipboardData){O=window.clipboardData.getData("Text");}else{O=e.originalEvent.clipboardData.getData('text/plain');}var o=e.srcControl.getParent();var g=O.split(/\r\n|\r|\n/g);if(g){setTimeout(function(){var L=g?g.length:0;if(L>1){var k=t._getCurrentKeyFieldItem(o.keyField);var h=o.operation;for(var i=0;i<L;i++){if(t._aConditionKeys.length>=t._getMaxConditionsAsNumber()){break;}if(g[i]){var j={"key":t._createConditionKey(),"exclude":t.getExclude(),"operation":h.getSelectedKey(),"keyField":k.key,"value1":g[i],"value2":null};t._addCondition2Map(j);t.fireDataChange({key:j.key,index:j.index,operation:"add",newData:j});}}t._clearConditions();t._fillConditions();}},0);}};}if(c&&c.maxLength&&b.setMaxLength){var l=-1;if(typeof c.maxLength==="string"){l=parseInt(c.maxLength,10);}if(typeof c.maxLength==="number"){l=c.maxLength;}if(l>0&&(!b.getShowSuggestion||!b.getShowSuggestion())){b.setMaxLength(l);}}return b;};P.prototype._fillOperationListItems=function(c,o,t){if(t==="_STRING_"){t="";}if(t==="_TIME_"){t="_DATE_";}if(t==="_BOOLEAN_"){t="";}c.destroyItems();for(var O in o){var T=this._oRb.getText("CONDITIONPANEL_OPTION"+t+o[O]);if(q.sap.startsWith(T,"CONDITIONPANEL_OPTION")){T=this._oRb.getText("CONDITIONPANEL_OPTION"+o[O]);}c.addItem(new sap.ui.core.ListItem({key:o[O],text:T,tooltip:T}));}};P.prototype._fillKeyFieldListItems=function(c,i){c.destroyItems();for(var b in i){var o=i[b];c.addItem(new sap.ui.core.ListItem({key:o.key,text:o.text,tooltip:o.tooltip?o.tooltip:o.text}));}};P.prototype._handleChangeOnOperationField=function(t,c){this._changeOperationValueFields(t,c);this._changeField(c);};P.prototype._handleSelectionChangeOnKeyField=function(t,c){if(this._sConditionType==="Filter"){this._updateOperationItems(t,c);this._createAndUpdateValueFields(t,c);this._changeOperationValueFields(t,c);}this._changeField(c);};P.prototype._handleChangeOnKeyField=function(t,c){if(this.getAutoReduceKeyFieldItems()){this._updateKeyFieldItems(t,false,false,c.keyField);}};P.prototype._createAndUpdateAllKeyFields=function(){var c=this._oConditionsGrid.getContent();c.forEach(function(o){this._createAndUpdateValueFields(this._oConditionsGrid,o);this._changeOperationValueFields(this._oConditionsGrid,o);},this);};P.prototype._createAndUpdateValueFields=function(t,c){var o=this._getCurrentKeyFieldItem(c.keyField);var f=function(c,b,i){var O=b.getValue?b.getValue():"";var d=c.indexOfContent(b);c.removeContent(b);if(b._oSuggestProvider){b._oSuggestProvider.destroy();b._oSuggestProvider=null;}b.destroy();var e=this._aConditionsFields[i];b=this._createValueField(o,e,c);c[e["ID"]]=b;c.insertContent(b,d);var v,V;if(c.oFormatter&&O){v=c.oFormatter.parse(O);if(!isNaN(v)&&v!==null){V=c.oFormatter.format(v);b.setValue(V);}}if(!V){b.setValue(O);}};q.proxy(f,this)(c,c.value1,5);q.proxy(f,this)(c,c.value2,6);};P.prototype._updateAllOperations=function(){var c=this._oConditionsGrid.getContent();c.forEach(function(o){this._updateOperationItems(this._oConditionsGrid,o);this._changeOperationValueFields(this._oConditionsGrid,o);},this);};P.prototype._updateOperationItems=function(t,c){var T="";var k=this._getCurrentKeyFieldItem(c.keyField);var o=c.operation;var O=this._oTypeOperations["default"];var b=o.getSelectedItem();if(k&&!this.getExclude()){if(k.type&&k.type!==""&&this._oTypeOperations[k.type]){T=k.type;O=this._oTypeOperations[T];}if(k.operations){O=k.operations;}}this._fillOperationListItems(o,O,T?"_"+T.toUpperCase()+"_":"");if(b&&o.getItemByKey(b.getKey())){o.setSelectedKey(b.getKey());}else{o.setSelectedItem(o.getItems()[0]);}this._sConditionType="Filter";if(O[0]===sap.m.P13nConditionOperation.Ascending||O[0]===sap.m.P13nConditionOperation.Descending){this._sConditionType="Sort";}if(O[0]===sap.m.P13nConditionOperation.GroupAscending||O[0]===sap.m.P13nConditionOperation.GroupDescending){this._sConditionType="Group";}this._adjustValue1Span(c);};P.prototype._updateKeyFieldItems=function(t,f,A,o){var n=t.getContent().length;var i;var u={};if(!f){for(i=0;i<n;i++){var k=t.getContent()[i].keyField;var K=k.getSelectedKey();if(K!=null&&K!==""){u[K]=true;}}}for(i=0;i<n;i++){var k=t.getContent()[i].keyField;var s=t.getContent()[i].select;var O=k.getSelectedKey();var j=0;var b=this._aKeyFields;if(k!==o){if(A){j=b.length-1;}else{k.destroyItems();}for(j;j<b.length;j++){var c=b[j];if(c.key==null||c.key===""||!u[c.key]||c.key===O){k.addItem(new sap.ui.core.ListItem({key:c.key,text:c.text,tooltip:c.tooltip?c.tooltip:c.text}));}}}if(O){k.setSelectedKey(O);}else if(k.getItems().length>0){k.setSelectedItem(k.getItems()[0]);}if(!s.getSelected()){this._aKeyFields.some(function(d,e){if(d.isDefault){k.setSelectedItem(k.getItems()[e]);return true;}if(!k.getSelectedItem()){if(d.type!=="boolean"){k.setSelectedItem(k.getItems()[e]);}}},this);}if(k.getSelectedItem()){k.setTooltip(k.getSelectedItem().getTooltip()||k.getSelectedItem().getText());}}};P.prototype._changeOperationValueFields=function(t,c){var o=c.operation;var O=o.getSelectedKey();var v=c.value1;var V=c.value2;var s=c.showIfGrouped;if(!O){return;}if(O===sap.m.P13nConditionOperation.BT){if(v.setPlaceholder&&v.getPlaceholder()!==this._sFromLabelText){v.setPlaceholder(this._sFromLabelText);}if(!v.getVisible()){v.setVisible(true);c.insertContent(v,c.getContent().length-1);}if(V.setPlaceholder&&V.getPlaceholder()!==this._sToLabelText){V.setPlaceholder(this._sToLabelText);}if(!V.getVisible()){V.setVisible(true);c.insertContent(V,c.getContent().length-1);}}else{if(O===sap.m.P13nConditionOperation.GroupAscending||O===sap.m.P13nConditionOperation.GroupDescending){if(v.getVisible()){v.setVisible(false);c.removeContent(v);}if(V.getVisible()){V.setVisible(false);c.removeContent(V);}if(o.getVisible()){o.setVisible(false);c.removeContent(o);}s.setVisible(this._getMaxConditionsAsNumber()!=1);}else{if(O===sap.m.P13nConditionOperation.NotEmpty||O===sap.m.P13nConditionOperation.Empty||O===sap.m.P13nConditionOperation.Initial||O===sap.m.P13nConditionOperation.Ascending||O===sap.m.P13nConditionOperation.Descending||O===sap.m.P13nConditionOperation.Total||O===sap.m.P13nConditionOperation.Average||O===sap.m.P13nConditionOperation.Minimum||O===sap.m.P13nConditionOperation.Maximum){if(v.getVisible()){v.setVisible(false);c.removeContent(v);}if(V.getVisible()){V.setVisible(false);c.removeContent(V);}c.removeContent(s);}else{if(v.setPlaceholder&&v.getPlaceholder()!==this._sValueLabelText){v.setPlaceholder(this._sValueLabelText);}if(!v.getVisible()){v.setVisible(true);c.insertContent(v,c.getContent().length-1);}if(V.getVisible()){V.setVisible(false);c.removeContent(V);}}}}this._adjustValue1Span(c);};P.prototype._adjustValue1Span=function(c){if(this._sConditionType==="Filter"&&c.value1&&c.operation){var o=c.operation;var n=this._aConditionsFields[5]["Span"+this._sConditionType];if(o.getSelectedKey()!=="BT"){n="L5 M10 S10";}var l=c.value1.getLayoutData();if(l.getSpan()!==n){l.setSpan(n);}}};P.prototype._getIndexOfCondition=function(c){var i=-1;c.getParent().getContent().some(function(g){if(g.select.getSelected()){i++;}return(g===c);},this);return i+this._iFirstConditionIndex;};P.prototype._makeFieldValid=function(c,v){if(v){c.setValueState(sap.ui.core.ValueState.None);c.setValueStateText("");}else{c.setValueState(sap.ui.core.ValueState.Warning);c.setValueStateText(this._sValidationDialogFieldMessage);}};P.prototype._validateFormatFieldValue=function(e){var c=e.oSource;var o=c.getParent();var v;if(c.getDateValue&&e){v=e.getParameter("value");var V=e.getParameter("valid");this._makeFieldValid(c,V);return;}else{v=c.getValue&&c.getValue();}if(!o){return;}if(this.getDisplayFormat()==="UpperCase"&&v){v=v.toUpperCase();c.setValue(v);}if(o.oFormatter&&v){var b=o.oFormatter.parse(v);var V=!isNaN(b)&&b!==null;this._makeFieldValid(c,V);if(V){v=o.oFormatter.format(b);c.setValue(v);}}else{this._makeFieldValid(c,true);}};P.prototype._changeField=function(c,e){var k=c.keyField.getSelectedKey();if(c.keyField.getSelectedItem()){c.keyField.setTooltip(c.keyField.getSelectedItem().getTooltip()||c.keyField.getSelectedItem().getText());}else{c.keyField.setTooltip(null);}var o=c.operation.getSelectedKey();if(c.operation.getSelectedItem()){c.operation.setTooltip(c.operation.getSelectedItem().getTooltip()||c.operation.getSelectedItem().getText());}else{c.operation.setTooltip(null);}var v=this._getValueTextFromField(c.value1,c.oFormatter);var V=v;if(c.oFormatter&&v){V=c.oFormatter.parse(v);if(isNaN(V)||V===null){v="";}}var s=this._getValueTextFromField(c.value2,c.oFormatter);var b=s;if(c.oFormatter&&s){b=c.oFormatter.parse(s);if(isNaN(b)||b===null){s="";}}var d=this._getCurrentKeyFieldItem(c.keyField);var f=d?d.type:"";if(f==="boolean"){var g=d.values||this._oTypeValues[f]||["",false,true];var t=g[g.length-1].toString();V=v===t;b=null;}var S=c.showIfGrouped.getSelected();var E=this.getExclude();var h=c.select;var i="";var K;if(k===""||k==null){k=null;K=this._getKeyFromConditionGrid(c);this._removeConditionFromMap(K);this._enableCondition(c,false);var j=this._getIndexOfCondition(c);if(h.getSelected()){h.setSelected(false);h.setEnabled(false);this._bIgnoreSetConditions=true;this.fireDataChange({key:K,index:j,operation:"remove",newData:null});this._bIgnoreSetConditions=false;}return;}this._enableCondition(c,true);i=this._getFormatedConditionText(o,v,s,E,k,S);var l={"value":i,"exclude":E,"operation":o,"keyField":k,"value1":V,"value2":o===sap.m.P13nConditionOperation.BT?b:null,"showIfGrouped":S};K=this._getKeyFromConditionGrid(c);if(i!==""){h.setSelected(true);h.setEnabled(true);var o="update";if(!this._oConditionsMap[K]){o="add";}this._oConditionsMap[K]=l;if(o==="add"){this._aConditionKeys.splice(this._getIndexOfCondition(c),0,K);}c.data("_key",K);this.fireDataChange({key:K,index:this._getIndexOfCondition(c),operation:o,newData:l});}else if(this._oConditionsMap[K]!==undefined){this._removeConditionFromMap(K);c.data("_key",null);var j=this._getIndexOfCondition(c);if(h.getSelected()){h.setSelected(false);h.setEnabled(false);this._bIgnoreSetConditions=true;this.fireDataChange({key:K,index:j,operation:"remove",newData:null});this._bIgnoreSetConditions=false;}}this._updatePaginatorToolbar();};P.prototype._getValueTextFromField=function(c,f){if(c.getDateValue&&c.getDateValue()){return f.format(c.getDateValue());}if(c instanceof sap.m.Select){return c.getSelectedItem()?c.getSelectedItem().getText():"";}return c.getValue();};P.prototype._updateAllConditionsEnableStates=function(){var c=this._oConditionsGrid.getContent();c.forEach(function(o){var k=this._getCurrentKeyFieldItem(o.keyField);var K=k&&k.key!==undefined?k.key:k;var e=K!==""&&K!==null;this._enableCondition(o,e);},this);};P.prototype._enableCondition=function(c,e){c.operation.setEnabled(e);c.value1.setEnabled(e);c.value2.setEnabled(e);c.showIfGrouped.setEnabled(e);};P.prototype._removeCondition=function(t,c){var k=this._getKeyFromConditionGrid(c);var i=-1;if(c.select.getSelected()){i=this._getIndexOfCondition(c);}this._removeConditionFromMap(k);c.destroy();if(t.getContent().length<1){this._createConditionRow(t);}else{this._updateConditionButtons(t);}if(i>=0){this.fireDataChange({key:k,index:i,operation:"remove",newData:null});}};P.prototype._updateConditionButtons=function(t){var m=this._getMaxConditionsAsNumber();var n=t.getContent().length;for(var i=0;i<n;i++){var A=t.getContent()[i].add;if((this.getAlwaysShowAddIcon()&&(n<m))||(i===n-1&&i<m-1)){A.removeStyleClass("displayNone");}else{A.addStyleClass("displayNone");}var r=t.getContent()[i].remove;if(m===1||(i===0&&n===1&&this.getDisableFirstRemoveIcon())){r.addStyleClass("displayNone");}else{r.removeStyleClass("displayNone");}}};P.prototype.validateConditions=function(){var t=this;var c=function(g){var v=true;for(var i=0;i<g.length;i++){var G=g[i];var b=t._checkCondition(G,i===g.length-1);v=v&&b;}return v;};return c(this._oConditionsGrid.getContent());};P.prototype.removeValidationErrors=function(){this._oConditionsGrid.getContent().forEach(function(c){var v=c.value1;var V=c.value2;v.setValueState(sap.ui.core.ValueState.None);v.setValueStateText("");V.setValueState(sap.ui.core.ValueState.None);V.setValueStateText("");},this);};P.prototype.removeInvalidConditions=function(){var i=[];this._oConditionsGrid.getContent().forEach(function(c){if(c.value1.getValueState()!==sap.ui.core.ValueState.None||c.value2.getValueState()!==sap.ui.core.ValueState.None){i.push(c);}},this);i.forEach(function(c){this._removeCondition(this._oConditionsGrid,c);if(this.getAutoReduceKeyFieldItems()){this._updateKeyFieldItems(this._oConditionsGrid,false);}},this);};P.prototype._checkCondition=function(c,i){var v=true;var b=c.value1;var d=c.value2;var V=b&&(b.getVisible()&&!this._getValueTextFromField(b,c.oFormatter));var e=b&&b.getVisible()&&b.getValueState?b.getValueState():sap.ui.core.ValueState.None;var f=d&&(d.getVisible()&&!this._getValueTextFromField(d,c.oFormatter));var g=d&&d.getVisible()&&d.getValueState?d.getValueState():sap.ui.core.ValueState.None;var o=c.operation.getSelectedKey();if(o===sap.m.P13nConditionOperation.BT){if(!V?f:!f){if(V){b.setValueState(sap.ui.core.ValueState.Warning);b.setValueStateText(this._sValidationDialogFieldMessage);}if(f){d.setValueState(sap.ui.core.ValueState.Warning);d.setValueStateText(this._sValidationDialogFieldMessage);}v=false;}else if(e!==sap.ui.core.ValueState.None||g!==sap.ui.core.ValueState.None){v=false;}else{b.setValueState(sap.ui.core.ValueState.None);b.setValueStateText("");d.setValueState(sap.ui.core.ValueState.None);d.setValueStateText("");}}if((b.getVisible()&&b.getValueState&&b.getValueState()!==sap.ui.core.ValueState.None)||(d.getVisible()&&d.getValueState&&d.getValueState()!==sap.ui.core.ValueState.None)){v=false;}return v;};P.prototype._getFormatedConditionText=function(o,v,V,e,k,s){var c="";var K=null;if(this._aKeyFields&&this._aKeyFields.length>1){for(var i=0;i<this._aKeyFields.length;i++){var b=this._aKeyFields[i];if(typeof b!=="string"){if(b.key===k&&b.text){K=b.text;}}}}switch(o){case sap.m.P13nConditionOperation.EQ:if(v!==""&&v!==undefined){c="="+v;}break;case sap.m.P13nConditionOperation.GT:if(v!==""&&v!==undefined){c=">"+v;}break;case sap.m.P13nConditionOperation.GE:if(v!==""&&v!==undefined){c=">="+v;}break;case sap.m.P13nConditionOperation.LT:if(v!==""&&v!==undefined){c="<"+v;}break;case sap.m.P13nConditionOperation.LE:if(v!==""&&v!==undefined){c="<="+v;}break;case sap.m.P13nConditionOperation.Contains:if(v!==""&&v!==undefined){c="*"+v+"*";}break;case sap.m.P13nConditionOperation.StartsWith:if(v!==""&&v!==undefined){c=v+"*";}break;case sap.m.P13nConditionOperation.EndsWith:if(v!==""&&v!==undefined){c="*"+v;}break;case sap.m.P13nConditionOperation.BT:if(v!==""&&v!==undefined){if(V!==""){c=v+"..."+V;}}break;case sap.m.P13nConditionOperation.Initial:c="=''";break;case sap.m.P13nConditionOperation.Empty:c="''";break;case sap.m.P13nConditionOperation.NotEmpty:c="!''";break;case sap.m.P13nConditionOperation.Ascending:c="ascending";break;case sap.m.P13nConditionOperation.GroupAscending:c="ascending";c+=" showIfGrouped:"+s;break;case sap.m.P13nConditionOperation.Descending:c="descending";break;case sap.m.P13nConditionOperation.GroupDescending:c="descending";c+=" showIfGrouped:"+s;break;case sap.m.P13nConditionOperation.Total:c="total";break;case sap.m.P13nConditionOperation.Average:c="average";break;case sap.m.P13nConditionOperation.Minimum:c="minimum";break;case sap.m.P13nConditionOperation.Maximum:c="maximum";break;}if(e&&c!==""){c="!("+c+")";}if(K&&c!==""){c=K+": "+c;}return c;};P.prototype._updateLayout=function(r){if(!this._oConditionsGrid){return;}var g=this._oConditionsGrid.getContent();var n=this._aConditionsFields.length;var b=n;if(r.name==="Tablet"){b=5;}if(r.name==="Phone"){b=3;}if(this._sConditionType==="Filter"){for(var i=0;i<g.length;i++){var c=g[i];c.ButtonContainer.removeStyleClass("floatRight");c.removeContent(c.ButtonContainer);c.insertContent(c.ButtonContainer,b);if(!this.getAlwaysShowAddIcon()){if(b!==n){c.ButtonContainer.removeContent(c.add);c.addContent(c.add);}else{c.removeContent(c.add);c.ButtonContainer.addContent(c.add);}}}}};P.prototype._onGridResize=function(){if(this._oPaginatorToolbar&&this._oConditionsGrid&&this._oConditionsGrid.getContent().length>0){var g=this._oConditionsGrid.getContent()[0];if(g.remove&&g.remove.$().position()){var w=0;if(this._oPaginatorToolbar.getParent()&&this._oPaginatorToolbar.getParent().getExpandable&&this._oPaginatorToolbar.getParent().getExpandable()){w=48-4;}var t=g.remove.$().position().left-w+g.remove.$().width();this._oPaginatorToolbar.setWidth(t+"px");}}var d=this._oConditionsGrid.getDomRef();if(!d){return;}if(!q(d).is(":visible")){return;}var w=d.clientWidth;var r={};if(w<=this._iBreakPointTablet){r.name="Phone";}else if((w>this._iBreakPointTablet)&&(w<=this._iBreakPointDesktop)){r.name="Tablet";}else{r.name="Desktop";}if(r.name==="Phone"&&this._sLayoutMode!==r.name){this._updateLayout(r);this._sLayoutMode=r.name;}if(r.name==="Tablet"&&this._sLayoutMode!==r.name){this._updateLayout(r);this._sLayoutMode=r.name;}if(r.name==="Desktop"&&this._sLayoutMode!==r.name){this._updateLayout(r);this._sLayoutMode=r.name;}};sap.m.P13nConditionOperation={BT:"BT",EQ:"EQ",Contains:"Contains",StartsWith:"StartsWith",EndsWith:"EndsWith",LT:"LT",LE:"LE",GT:"GT",GE:"GE",Initial:"Initial",Empty:"Empty",NotEmpty:"NotEmpty",Ascending:"Ascending",Descending:"Descending",GroupAscending:"GroupAscending",GroupDescending:"GroupDescending",Total:"Total",Average:"Average",Minimum:"Minimum",Maximum:"Maximum"};return P;},true);
sap.ui.predefine('sap/m/P13nDialog',['jquery.sap.global','./Dialog','./IconTabBar','./IconTabFilter','./library','sap/ui/core/EnabledPropagator','sap/m/ButtonType','sap/m/DialogRenderer','sap/ui/core/MessageType'],function(q,D,I,a,l,E,B,b,M){"use strict";var P=D.extend("sap.m.P13nDialog",{metadata:{library:"sap.m",properties:{initialVisiblePanelType:{type:"string",group:"Misc",defaultValue:null},showReset:{type:"boolean",group:"Appearance",defaultValue:false},showResetEnabled:{type:"boolean",group:"Appearance",defaultValue:false},validationExecutor:{type:"object",group:"Misc",defaultValue:null}},aggregations:{panels:{type:"sap.m.P13nPanel",multiple:true,singularName:"panel",bindable:"bindable"}},events:{ok:{},cancel:{},reset:{}}},renderer:function(r,c){b.render.apply(this,arguments);var i=c._getVisiblePanelID();var p=c.getVisiblePanel();if(i&&p){r.write("<div");r.writeAttribute("id",i);r.write(">");r.renderControl(p);r.write("</div>");}}});E.apply(P.prototype,[true]);P.prototype.init=function(e){this.addStyleClass("sapMP13nDialog");D.prototype.init.apply(this,arguments);this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oResetButton=null;this._mValidationListener={};this._createDialog();};P.prototype.setShowReset=function(s){this.setProperty("showReset",s);if(this.getButtons()&&this.getButtons()[2]){this.getButtons()[2].setVisible(s);}return this;};P.prototype.setShowResetEnabled=function(e){this.setProperty("showResetEnabled",e);if(this.getButtons()&&this.getButtons()[2]){this.getButtons()[2].setEnabled(e);}return this;};P.prototype.addPanel=function(p){this.addAggregation("panels",p);var n=this._mapPanelToNavigationItem(p);p.data("sapMP13nDialogNavigationItem",n);var N=this._getNavigationControl();if(N){sap.ui.Device.system.phone?N.addItem(n):N.addButton(n);}this._setVisibilityOfPanel(p);this._setDialogTitleFor(p);return this;};P.prototype.insertPanel=function(p,i){this.insertAggregation("panels",p,i);var n=this._mapPanelToNavigationItem(p);p.data("sapMP13nDialogNavigationItem",n);var N=this._getNavigationControl();if(N){sap.ui.Device.system.phone?N.insertItem(n):N.insertButton(n);}this._setVisibilityOfPanel(p);this._setDialogTitleFor(p);return this;};P.prototype.removePanel=function(p){p=this.removeAggregation("panels",p);var n=this._getNavigationControl();if(n){sap.ui.Device.system.phone?n.removeItem(p&&this._getNavigationItemByPanel(p)):n.removeButton(p&&this._getNavigationItemByPanel(p));}return p;};P.prototype.removeAllPanels=function(){var p=this.removeAllAggregation("panels");var n=this._getNavigationControl();if(n){sap.ui.Device.system.phone?n.removeAllItems():n.removeAllButtons();}return p;};P.prototype.destroyPanels=function(){this.destroyAggregation("panels");var n=this._getNavigationControl();if(n){sap.ui.Device.system.phone?n.destroyItems():n.destroyButtons();}return this;};P.prototype._createDialog=function(){if(sap.ui.Device.system.phone){var t=this;this.setStretch(true);this.setVerticalScrolling(false);this.setHorizontalScrolling(false);this.setCustomHeader(new sap.m.Bar({contentLeft:new sap.m.Button({visible:false,type:B.Back,press:function(e){t._backToList();}}),contentMiddle:new sap.m.Title({text:this._oResourceBundle.getText("P13NDIALOG_VIEW_SETTINGS"),level:"H1"})}));this.addButton(this._createOKButton());this.addButton(this._createCancelButton());this.addButton(this._createResetButton());}else{this.setHorizontalScrolling(false);this.setContentWidth("65rem");this.setContentHeight("40rem");this.setDraggable(true);this.setResizable(true);this.setTitle(this._oResourceBundle.getText("P13NDIALOG_VIEW_SETTINGS"));this.addButton(this._createOKButton());this.addButton(this._createCancelButton());this.addButton(this._createResetButton());}};P.prototype._getNavigationControl=function(){if(this.getPanels().length<2){return null;}var t=this;if(sap.ui.Device.system.phone){if(!this.getContent().length){this.addContent(new sap.m.List({mode:sap.m.ListMode.None,itemPress:function(e){if(e){t._switchPanel(e.getParameter("listItem"));}}}));this.getContent()[0].addItem(this._getNavigationItemByPanel(this.getPanels()[0]));}return this.getContent()[0];}else{if(!this.getSubHeader()||!this.getSubHeader().getContentLeft().length){this.setSubHeader(new sap.m.Bar({contentLeft:[new sap.m.SegmentedButton({select:function(e){t._switchPanel(e.getParameter("button"));},width:'100%'})]}));this.getSubHeader().getContentLeft()[0].addButton(this._getNavigationItemByPanel(this.getPanels()[0]));}return this.getSubHeader().getContentLeft()[0];}};P.prototype._showValidationDialog=function(c,f,v){var w=[];var e=[];this._prepareMessages(f,v,w,e);q.sap.require("sap.m.MessageBox");var m="";if(e.length){e.forEach(function(o,i,d){m=(d.length>1?"• ":"")+o.messageText+"\n"+m;});sap.m.MessageBox.show(m,{icon:sap.m.MessageBox.Icon.ERROR,title:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VALIDATION_TITLE_ERROR"),actions:[sap.m.MessageBox.Action.CLOSE],styleClass:!!this.$().closest(".sapUiSizeCompact").length?"sapUiSizeCompact":""});}else if(w.length){w.forEach(function(o,i,d){m=(d.length>1?"• ":"")+o.messageText+"\n"+m;});m=m+sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VALIDATION_MESSAGE_QUESTION");sap.m.MessageBox.show(m,{icon:sap.m.MessageBox.Icon.WARNING,title:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VALIDATION_TITLE"),actions:[sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VALIDATION_FIX"),sap.m.MessageBox.Action.IGNORE],onClose:function(A){if(A===sap.m.MessageBox.Action.IGNORE){c();}},styleClass:!!this.$().closest(".sapUiSizeCompact").length?"sapUiSizeCompact":""});}};P.prototype._prepareMessages=function(f,v,w,e){if(!f.length&&!v.length){return;}f.forEach(function(p){switch(p){case sap.m.P13nPanelType.filter:v.push({messageType:M.Warning,messageText:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VALIDATION_MESSAGE")});break;case sap.m.P13nPanelType.columns:v.push({messageType:M.Warning,messageText:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VISIBLE_ITEMS_THRESHOLD_MESSAGE")});break;case sap.m.P13nPanelType.dimeasure:v.push({messageType:M.Error,messageText:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VALIDATION_CHARTTYPE")});break;}});var u=v.filter(function(m,c,d){for(var i=++c;i<d.length;i++){if(m.messageText===d[i].messageText){return false;}}return true;});u.forEach(function(m){if(m.messageType===M.Warning){w.push(m);}else if(m.messageType===M.Error){e.push(m);}});};P.prototype._mapPanelToNavigationItem=function(p){if(!p){return null;}var n=null;if(sap.ui.Device.system.phone){n=new sap.m.StandardListItem({type:sap.m.ListType.Navigation,title:p.getBindingPath("title")?q.extend(true,{},p.getBindingInfo("title")):p.getTitle()});}else{n=new sap.m.Button({type:B.Default,text:p.getBindingPath("title")?q.extend(true,{},p.getBindingInfo("title")):p.getTitle()});}p.setValidationExecutor(q.proxy(this._callValidationExecutor,this));p.setValidationListener(q.proxy(this._registerValidationListener,this));p.setChangeNotifier(q.proxy(this._callChangeNotifier,this));return n;};P.prototype._switchPanel=function(n){var p=this._getPanelByNavigationItem(n);this.setVerticalScrolling(p.getVerticalScrolling());if(sap.ui.Device.system.phone){var N=this._getNavigationControl();if(N){N.setVisible(false);p.beforeNavigationTo();p.setVisible(true);this.getCustomHeader().getContentMiddle()[0].setText(p.getTitle());this.getCustomHeader().getContentLeft()[0].setVisible(true);}}else{this.getPanels().forEach(function(o){if(o===p){o.beforeNavigationTo();o.setVisible(true);}else{o.setVisible(false);}},this);}this.invalidate();this.rerender();};P.prototype._backToList=function(){var n=this._getNavigationControl();if(n){n.setVisible(true);var p=this.getVisiblePanel();p.setVisible(false);this._setDialogTitleFor(p);this.getCustomHeader().getContentLeft()[0].setVisible(false);}};P.prototype.getVisiblePanel=function(){var p=null;this.getPanels().some(function(o){if(o.getVisible()){p=o;return true;}});return p;};P.prototype._getPanelByNavigationItem=function(n){for(var i=0,p=this.getPanels(),c=p.length;i<c;i++){if(p[i].data("sapMP13nDialogNavigationItem")===n){return p[i];}}return null;};P.prototype._getNavigationItemByPanel=function(p){if(!p){return null;}return p.data("sapMP13nDialogNavigationItem");};P.prototype._setVisibilityOfOtherPanels=function(p,v){for(var i=0,c=this.getPanels(),d=c.length;i<d;i++){if(c[i]===p){continue;}c[i].setVisible(v);}};P.prototype._setVisibilityOfPanel=function(p){var v;if(sap.ui.Device.system.phone){v=this.getPanels().length===1;if(v){p.beforeNavigationTo();if(!this.getModel()){this.setModel(p.getModel("$sapmP13nPanel"),"$sapmP13nDialog");}}p.setVisible(v);this._setVisibilityOfOtherPanels(p,false);}else{v=this.getInitialVisiblePanelType()===p.getType()||this.getPanels().length===1;if(v){p.beforeNavigationTo();if(!this.getModel()){this.setModel(p.getModel("$sapmP13nPanel"),"$sapmP13nDialog");}}p.setVisible(v);if(v){this._setVisibilityOfOtherPanels(p,false);this.setVerticalScrolling(p.getVerticalScrolling());var o=this._getNavigationItemByPanel(p);var n=this._getNavigationControl();if(n){n.setSelectedButton(o);}}}};P.prototype.onAfterRendering=function(){D.prototype.onAfterRendering.apply(this,arguments);var c=q(this.getFocusDomRef()).find(".sapMDialogScrollCont");var i=this._getVisiblePanelID();if(i&&c){var p=q.find("#"+i);q(p).appendTo(q(c));}};P.prototype._getVisiblePanelID=function(){var p=this.getVisiblePanel();if(p){return this.getId()+"-panel_"+p.getId();}return null;};P.prototype._setDialogTitleFor=function(p){var t;if(this.getPanels().length>1){t=this._oResourceBundle.getText("P13NDIALOG_VIEW_SETTINGS");}else{switch(p.getType()){case sap.m.P13nPanelType.filter:t=this._oResourceBundle.getText("P13NDIALOG_TITLE_FILTER");break;case sap.m.P13nPanelType.sort:t=this._oResourceBundle.getText("P13NDIALOG_TITLE_SORT");break;case sap.m.P13nPanelType.group:t=this._oResourceBundle.getText("P13NDIALOG_TITLE_GROUP");break;case sap.m.P13nPanelType.columns:t=this._oResourceBundle.getText("P13NDIALOG_TITLE_COLUMNS");break;case sap.m.P13nPanelType.dimeasure:t=this._oResourceBundle.getText("P13NDIALOG_TITLE_DIMEASURE");break;default:t=p.getTitleLarge()||this._oResourceBundle.getText("P13NDIALOG_VIEW_SETTINGS");}}if(sap.ui.Device.system.phone){this.getCustomHeader().getContentMiddle()[0].setText(t);}else{this.setTitle(t);}};P.prototype._registerValidationListener=function(p,c){if(this.getPanels().indexOf(p)&&c&&this._mValidationListener[p.getType()]===undefined){this._mValidationListener[p.getType()]=c;}};P.prototype._callValidationExecutor=function(){var v=this.getValidationExecutor();if(v&&!q.isEmptyObject(this._mValidationListener)){var r=v(this._getPayloadOfPanels());var R=this._distributeValidationResult(r);for(var t in this._mValidationListener){var c=this._mValidationListener[t];c(R[t]||[]);}}};P.prototype._callChangeNotifier=function(p){if(this.getShowReset()){this.setShowResetEnabled(true);}};P.prototype._distributeValidationResult=function(r){var d={};r.forEach(function(R){R.panelTypes.forEach(function(t){if(d[t]===undefined){d[t]=[];}d[t].push({columnKey:R.columnKey,messageType:R.messageType,messageText:R.messageText});});});return d;};P.prototype._createOKButton=function(){var t=this;return new sap.m.Button({text:this._oResourceBundle.getText("P13NDIALOG_OK"),layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}),press:function(){var p=t._getPayloadOfPanels();var f=function(){t.fireOk({payload:p});};var c=function(){t.getPanels().forEach(function(o){if(F.indexOf(o.getType())>-1){o.onAfterNavigationFrom();}});f();};var F=[];var v=[];var V=t.getValidationExecutor();if(V){v=V(p);}t.getPanels().forEach(function(o){if(!o.onBeforeNavigationFrom()){F.push(o.getType());}});if(F.length||v.length){t._showValidationDialog(c,F,v);}else{f();}}});};P.prototype._createCancelButton=function(){var t=this;return new sap.m.Button({text:this._oResourceBundle.getText("P13NDIALOG_CANCEL"),layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}),press:function(){t.fireCancel();}});};P.prototype._createResetButton=function(){var t=this;return new sap.m.Button({text:this._oResourceBundle.getText("P13NDIALOG_RESET"),layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}),visible:this.getShowReset(),enabled:this.getShowResetEnabled(),press:function(){t.setShowResetEnabled(false);var p={};t.getPanels().forEach(function(o){p[o.getType()]=o.getResetPayload();});t.fireReset({payload:p});}});};P.prototype._getPayloadOfPanels=function(){var p={};this.getPanels().forEach(function(o){p[o.getType()]=o.getOkPayload();});return p;};P.prototype.exit=function(){D.prototype.exit.apply(this,arguments);};return P;},true);
sap.ui.predefine('sap/m/P13nDimMeasureItem',['jquery.sap.global','./library','sap/ui/core/Item'],function(q,l,I){"use strict";var P=I.extend("sap.m.P13nDimMeasureItem",{metadata:{library:"sap.m",properties:{columnKey:{type:"string"},index:{type:"int",defaultValue:-1},visible:{type:"boolean"},role:{type:"string"}}}});return P;},true);
sap.ui.predefine('sap/m/P13nDimMeasurePanel',['jquery.sap.global','./ColumnListItem','./P13nPanel','./P13nDimMeasureItem','./SearchField','./Table','./library','sap/ui/core/Control','sap/ui/model/json/JSONModel'],function(q,C,P,c,S,T,l,d,J){"use strict";var e=P.extend("sap.m.P13nDimMeasurePanel",{metadata:{library:"sap.m",properties:{chartTypeKey:{type:"string",defaultValue:""}},aggregations:{dimMeasureItems:{type:"sap.m.P13nDimMeasureItem",multiple:true,singularName:"dimMeasureItem",bindable:"bindable"},content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"},availableChartTypes:{type:"sap.ui.core.Item",multiple:true,singularName:"availableChartType"}}},renderer:function(r,o){r.write("<div");r.writeControlData(o);r.addClass("sapMP13nColumnsPanel");r.writeClasses();r.write(">");var a=o.getAggregation("content");if(a){a.forEach(function(b){r.renderControl(b);});}r.write("</div>");}});e.prototype.getOkPayload=function(){this._syncModel2Panel();return{dimMeasureItems:this.getDimMeasureItems(),chartTypeKey:this.getChartTypeKey()};};e.prototype.init=function(){var t=this;this._iLiveChangeTimer=0;this._iSearchTimer=0;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._bOnAfterRenderingFirstTimeExecuted=false;this._bOnBeforeRenderingFirstTimeExecuted=false;var m=new J({availableChartTypes:[],selectedChartTypeKey:null,items:[],indexOfMarkedTableItem:-1,markedTableItem:null,isMoveDownButtonEnabled:false,isMoveUpButtonEnabled:false,showOnlySelectedItems:false,countOfSelectedItems:0,countOfItems:0});m.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);m.setSizeLimit(1000);this.setModel(m,"$sapmP13nDimMeasurePanel");this.setType(sap.m.P13nPanelType.dimeasure);this.setTitle(this._oRb.getText("CHARTPANEL_TITLE"));this._createTable();this._createToolbar();this.setVerticalScrolling(false);var s=new sap.m.ScrollContainer({horizontal:false,vertical:true,content:[this._oTable],width:'100%',height:'100%'});this._fnHandleResize=function(){var b=false,i,a;if(t.getParent){var $=null,f,h;var p=t.getParent();var o=t._getToolbar();if(p){$=q("#"+p.getId()+"-cont");if($.children().length>0&&o.$().length>0){i=s.$()[0].clientHeight;f=$.children()[0].clientHeight;h=o?o.$()[0].clientHeight:0;a=f-h;if(i!==a){s.setHeight(a+'px');b=true;}}}}return b;};this.addAggregation("content",s);this._sContainerResizeListener=sap.ui.core.ResizeHandler.register(s,this._fnHandleResize);};e.prototype.onBeforeRendering=function(){if(!this._bOnBeforeRenderingFirstTimeExecuted){this._bOnBeforeRenderingFirstTimeExecuted=true;this._syncPanel2Model();}var D=this._getInternalModel().getData();if(!D.markedTableItem){var v=this._getVisibleTableItems();this._switchMarkedTableItemTo(v[0]);}};e.prototype.onAfterRendering=function(){var t=this;if(!this._bOnAfterRenderingFirstTimeExecuted){this._bOnAfterRenderingFirstTimeExecuted=true;window.clearTimeout(this._iLiveChangeTimer);this._iLiveChangeTimer=window.setTimeout(function(){t._fnHandleResize();t._getToolbar()._resetAndInvalidateToolbar();},0);}};e.prototype.setChartTypeKey=function(s){var m=this._getInternalModel();this.setProperty("chartTypeKey",s);m.getData().selectedChartTypeKey=s;return this;};e.prototype.addItem=function(i){var m=this._getInternalModel();var D=m.getData();this._bOnBeforeRenderingFirstTimeExecuted=false;this.addAggregation("items",i);this._includeModelItem(i,-1);this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);return this;};e.prototype.insertItem=function(i,I){var m=this._getInternalModel();var D=m.getData();this._bOnBeforeRenderingFirstTimeExecuted=false;this.insertAggregation("items",i,I);this._includeModelItem(i,I);this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);return this;};e.prototype.removeItem=function(i){var I=this.indexOfItem(i);if(I>-1){var m=this._getInternalModel();var D=m.getData();this._bOnBeforeRenderingFirstTimeExecuted=false;m.getData().items.splice(I,1);this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);}i=this.removeAggregation("items",i);return i;};e.prototype.removeAllItems=function(){var m=this._getInternalModel();this._bOnBeforeRenderingFirstTimeExecuted=false;var i=this.removeAllAggregation("items");m.getData().items=[];return i;};e.prototype.destroyItems=function(){var m=this._getInternalModel();this._bOnBeforeRenderingFirstTimeExecuted=false;this.destroyAggregation("items");m.getData().items=[];return this;};e.prototype.addDimMeasureItem=function(D){var m=this._getInternalModel();var o=m.getData();this.addAggregation("dimMeasureItems",D);var M=this._getModelItemByColumnKey(D.getColumnKey());if(!M){return;}M.persistentIndex=D.getIndex();M.persistentSelected=D.getVisible();M.role=D.getRole();this._sortModelItemsByPersistentIndex(o.items);this._updateModelItemsTableIndex(o);this._updateCounts(o);return this;};e.prototype.insertDimMeasureItem=function(D,i){var m=this._getInternalModel();var o=m.getData();this.insertAggregation("dimMeasureItems",D,i);var M=this._getModelItemByColumnKey(D.getColumnKey());if(!M){return;}M.persistentIndex=D.getIndex();M.persistentSelected=D.getVisible();M.role=D.getRole();this._sortModelItemsByPersistentIndex(o.items);this._updateModelItemsTableIndex(o);this._updateCounts(o);return this;};e.prototype.removeDimMeasureItem=function(D){var m=this._getInternalModel();var o=m.getData();D=this.removeAggregation("dimMeasureItems",D);var M=this._getModelItemByColumnKey(D.getColumnKey());if(!M){return;}M.persistentIndex=-1;M.persistentSelected=undefined;M.role=undefined;this._sortModelItemsByPersistentIndex(o.items);this._updateModelItemsTableIndex(o);this._updateCounts(o);return D;};e.prototype.removeAllDimMeasureItems=function(){var m=this._getInternalModel();var D=m.getData();this.getDimMeasureItems().forEach(function(o){var M=this._getModelItemByColumnKey(o.getColumnKey());if(!M){return;}M.persistentIndex=-1;M.persistentSelected=undefined;M.role=undefined;},this);this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);var a=this.removeAllAggregation("dimMeasureItems");return a;};e.prototype.destroyDimMeasureItems=function(){var m=this._getInternalModel();var D=m.getData();this.getDimMeasureItems().forEach(function(o){var M=this._getModelItemByColumnKey(o.getColumnKey());if(!M){return;}M.persistentIndex=-1;M.persistentSelected=undefined;M.role=undefined;},this);this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);this.destroyAggregation("dimMeasureItems");return this;};e.prototype.addAvailableChartType=function(i){var m=this._getInternalModel();this.addAggregation("availableChartTypes",i);m.getData().availableChartTypes.push({key:i.getKey(),text:i.getText()});return this;};e.prototype.insertAvailableChartType=function(i,I){var m=this._getInternalModel();this.insertAggregation("availableChartTypes",i,I);m.getData().availableChartTypes.splice(I,0,{key:i.getKey(),text:i.getText()});return this;};e.prototype.removeAvailableChartType=function(i){var I=this.indexOfAvailableChartTypes(i);if(I>-1){var m=this._getInternalModel();m.getData().availableChartTypes.splice(I,1);}i=this.removeAggregation("availableChartTypes",i);return i;};e.prototype.removeAllAvailableChartType=function(){var m=this._getInternalModel();var i=this.removeAllAggregation("availableChartTypes");m.getData().availableChartTypes=[];return i;};e.prototype.destroyAvailableChartType=function(){var m=this._getInternalModel();this.destroyAggregation("availableChartTypes");m.getData().availableChartTypes=[];return this;};e.prototype.onBeforeNavigationFrom=function(){var s=this.getChartTypeKey();var D=[];var m=[];this.getDimMeasureItems().forEach(function(o){var M=this._getModelItemByColumnKey(o.getColumnKey());if(!M){return;}if(M.aggregationRole==="Dimension"){D.push(o);}else if(M.aggregationRole==="Measure"){m.push(o);}},this);D=D.filter(function(i){return i.getVisible();}).map(function(i){return{name:i.getColumnKey()};});m=m.filter(function(i){return i.getVisible();}).map(function(i){return{name:i.getColumnKey()};});sap.ui.getCore().loadLibrary("sap.chart");var r;try{r=sap.chart.api.getChartTypeLayout(s,D,m);}catch(E){return false;}return r.errors.length===0;};e.prototype.exit=function(){sap.ui.core.ResizeHandler.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;this._getToolbar().destroy();this._oTable.destroy();this._oTable=null;if(this._getInternalModel()){this._getInternalModel().destroy();}window.clearTimeout(this._iLiveChangeTimer);window.clearTimeout(this._iSearchTimer);};e.prototype._syncModel2Panel=function(){if(!this._bOnBeforeRenderingFirstTimeExecuted){return;}var D=this._getInternalModel().getData();this.setChartTypeKey(D.selectedChartTypeKey);D.items.forEach(function(m){var o=this._getDimMeasureItemByColumnKey(m.columnKey);if(o){if(!this._isDimMeasureItemEqualToModelItem(o,m)){o.setVisible(m.persistentSelected);o.setIndex(m.persistentIndex);o.setRole(m.role);}return;}if(!m.persistentSelected){return;}o=new sap.m.P13nDimMeasureItem({columnKey:m.columnKey,visible:m.persistentSelected,index:m.persistentIndex,role:m.role});this.addAggregation("dimMeasureItems",o,true);},this);};e.prototype._syncPanel2Model=function(){var m=this._getInternalModel();var D=m.getData();this.getDimMeasureItems().forEach(function(o){var M=this._getModelItemByColumnKey(o.getColumnKey());if(!M||this._isDimMeasureItemEqualToModelItem(o,M)){return;}M.persistentIndex=o.getIndex();M.persistentSelected=o.getVisible();M.role=o.getRole();this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);},this);m.refresh();};e.prototype._moveMarkedTableItem=function(D){var o=this._getInternalModel().getData();if(!o.markedTableItem||o.indexOfMarkedTableItem<0){return;}var v=this._getVisibleTableItems();if(v.indexOf(o.markedTableItem)<0){return;}var f=function(){switch(D){case"Down":return o.indexOfMarkedTableItem+1;case"Bottom":return V.length-1;case"Up":return o.indexOfMarkedTableItem-1;case"Top":return 0;}};var V=this._getVisibleModelItems();var m=V[o.indexOfMarkedTableItem];var M=V[f()];if(this._moveModelItems(this._getModelItemIndexByColumnKey(m.columnKey),this._getModelItemIndexByColumnKey(M.columnKey))){this._switchMarkedTableItemTo(v[f()]);}};e.prototype._filterModelItemsBySearchText=function(){var m=this._getInternalModel();var s=this._getSearchText();s=s.replace(/(^\s+)|(\s+$)/g,'');s=s.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');var r=new RegExp(s,'igm');if(!r){return;}this._getVisibleModelItems().forEach(function(M){M.visible=false;if(M.text&&M.text.match(r)){M.visible=true;}if(M.aggregationRole&&M.aggregationRole.match(r)){M.visible=true;}if(M.role&&M.role.match(r)){M.visible=true;}if(M.tooltip&&M.tooltip.match(r)){M.visible=true;}});m.refresh();};e.prototype._scrollToSelectedItem=function(i){var f=null;if(i){sap.ui.getCore().applyChanges();if(!!i.getDomRef()){f=document.activeElement;i.focus();if(f&&f.focus){f.focus();}}}};e.prototype._includeModelItem=function(i,I){var m=this._getInternalModel();var D=m.getData();if(I<0){I=D.items.length;}var t=this;var g=function(){if(i.getAggregationRole()==="Dimension"){return[{key:"category",text:t._oRb.getText('COLUMNSPANEL_CHARTROLE_CATEGORY')},{key:"series",text:t._oRb.getText('COLUMNSPANEL_CHARTROLE_SERIES')}];}if(i.getAggregationRole()==="Measure"){return[{key:"axis1",text:t._oRb.getText('COLUMNSPANEL_CHARTROLE_AXIS1')},{key:"axis2",text:t._oRb.getText('COLUMNSPANEL_CHARTROLE_AXIS2')}];}return[];};var M={columnKey:i.getColumnKey(),visible:true,text:i.getText(),tooltip:i.getTooltip(),aggregationRole:i.getAggregationRole(),availableRoleTypes:g(),persistentIndex:-1,persistentSelected:undefined,role:undefined,tableIndex:undefined};D.items.splice(I,0,M);};e.prototype._onItemPressed=function(E){this._switchMarkedTableItemTo(E.getParameter('listItem'));};e.prototype._onSelectionChange=function(E){var m=this._getInternalModel();var D=m.getData();var t=E.getParameter("listItem");this._switchMarkedTableItemTo(t);this._updateModelItemsPersistentIndex(D);this._updateCounts(D);m.refresh();this._notifyChange();};e.prototype._onSwitchButtonShowSelected=function(){var D=this._getInternalModel().getData();D.showOnlySelectedItems=!D.showOnlySelectedItems;this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();this._scrollToSelectedItem(D.markedTableItem);this._updateControlLogic();this._fnHandleResize();};e.prototype._onExecuteSearch=function(){var D=this._getInternalModel().getData();this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();this._scrollToSelectedItem(D.markedTableItem);this._updateControlLogic();};e.prototype._getDimMeasureItemByColumnKey=function(s){for(var i=0,D=this.getDimMeasureItems(),a=D.length;i<a;i++){if(D[i].getColumnKey()===s){return D[i];}}return null;};e.prototype._getModelItemIndexByColumnKey=function(s){var i=-1;this._getInternalModel().getData().items.some(function(m,I){if(m.columnKey===s){i=I;return true;}});return i;};e.prototype._getModelItemByColumnKey=function(s){var m=null;this._getInternalModel().getData().items.some(function(M){if(M.columnKey===s){m=M;return true;}});return m;};e.prototype._moveModelItems=function(i,I){var m=this._getInternalModel();var D=m.getData();if(i<0||I<0||i>D.items.length-1||I>D.items.length-1){return false;}var M=D.items.splice(i,1);D.items.splice(I,0,M[0]);this._updateModelItemsPersistentIndex(D);this._updateModelItemsTableIndex(D);this._updateCounts(D);m.refresh();return true;};e.prototype._switchVisibilityOfUnselectedModelItems=function(){var m=this._getInternalModel();var s=this._isFilteredByShowSelected();m.getData().items.forEach(function(M){if(M.persistentSelected){M.visible=true;return;}M.visible=!s;});m.refresh();};e.prototype._getVisibleTableItems=function(){var v=[];this._oTable.getItems().forEach(function(t){if(t.getVisible()){v.push(t);}});return v;};e.prototype._getVisibleModelItems=function(){var v=[];this._getInternalModel().getData().items.forEach(function(m){if(m.visible){v.push(m);}});return v;};e.prototype._getSelectedModelItems=function(){var s=[];this._getInternalModel().getData().items.forEach(function(m){if(m.persistentSelected){s.push(m);}});return s;};e.prototype._getModelItemByTableItem=function(t){var i=this._getVisibleTableItems().indexOf(t);return this._getVisibleModelItems()[i];};e.prototype._updateModelItemsTableIndex=function(D){D.items.forEach(function(m,t){m.tableIndex=t;});};e.prototype._updateModelItemsPersistentIndex=function(D){var p=-1;D.items.forEach(function(m){m.persistentIndex=-1;if(m.persistentSelected){p++;m.persistentIndex=p;}});};e.prototype._updateCounts=function(D){D.countOfSelectedItems=0;D.countOfItems=0;D.items.forEach(function(m){D.countOfItems++;if(m.persistentSelected){D.countOfSelectedItems++;}});};e.prototype._sortModelItemsByPersistentIndex=function(m){m.sort(function(a,b){if(a.persistentSelected===true&&(b.persistentSelected===false||b.persistentSelected===undefined)){return-1;}else if((a.persistentSelected===false||a.persistentSelected===undefined)&&b.persistentSelected===true){return 1;}else if(a.persistentSelected===true&&b.persistentSelected===true){if(a.persistentIndex<b.persistentIndex){return-1;}else if(a.persistentIndex>b.persistentIndex){return 1;}else{return 0;}}else if((a.persistentSelected===false||a.persistentSelected===undefined)&&(b.persistentSelected===false||b.persistentSelected===undefined)){if(a.text<b.text){return-1;}else if(a.text>b.text){return 1;}else{return 0;}}});};e.prototype._switchMarkedTableItemTo=function(t){var D=this._getInternalModel().getData();if(D.markedTableItem===t){return;}if(D.markedTableItem){D.markedTableItem.removeStyleClass("sapMP13nColumnsPanelItemSelected");}D.indexOfMarkedTableItem=this._getVisibleTableItems().indexOf(t);D.markedTableItem=t;if(D.markedTableItem){D.markedTableItem.addStyleClass("sapMP13nColumnsPanelItemSelected");}this._updateControlLogic();};e.prototype._createTable=function(){var t=this;this._oTable=new T({mode:sap.m.ListMode.MultiSelect,rememberSelections:false,itemPress:q.proxy(this._onItemPressed,this),selectionChange:q.proxy(this._onSelectionChange,this),columns:[new sap.m.Column({header:new sap.m.Text({text:{parts:[{path:'/countOfSelectedItems'},{path:'/countOfItems'}],formatter:function(i,a){return t._oRb.getText('COLUMNSPANEL_SELECT_ALL_WITH_COUNTER',[i,a]);}}})}),new sap.m.Column({header:new sap.m.Text({text:this._oRb.getText('COLUMNSPANEL_COLUMN_TYPE')})}),new sap.m.Column({header:new sap.m.Text({text:this._oRb.getText('COLUMNSPANEL_COLUMN_ROLE')})})],items:{path:"/items",templateShareable:false,template:new sap.m.ColumnListItem({cells:[new sap.m.Text({text:"{text}"}),new sap.m.Text({text:{path:'',formatter:function(m){if(m.aggregationRole==="Dimension"){return t._oRb.getText('COLUMNSPANEL_TYPE_DIMENSION');}if(m.aggregationRole==="Measure"){return t._oRb.getText('COLUMNSPANEL_TYPE_MEASURE');}}}}),new sap.m.Select({selectedKey:"{role}",items:{path:'availableRoleTypes',factory:function(i,b){var a=b.getObject();return new sap.ui.core.Item({key:a.key,text:a.text});}}})],visible:"{visible}",selected:"{persistentSelected}",tooltip:"{tooltip}",type:sap.m.ListType.Active})}});this._oTable.setModel(this._getInternalModel());};e.prototype._createToolbar=function(){var m=this._getInternalModel();var t=this;var M=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("slim-arrow-down"),text:this._oRb.getText('COLUMNSPANEL_MOVE_DOWN'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_DOWN'),type:sap.m.ButtonType.Transparent,enabled:{path:'/isMoveDownButtonEnabled'},press:function(){t._moveMarkedTableItem("Down");var j=this._getInternalModel().getData();if(!j.isMoveDownButtonEnabled){j.markedTableItem.focus();}},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.High,group:1})});M.setModel(m);var o=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("slim-arrow-up"),text:this._oRb.getText('COLUMNSPANEL_MOVE_UP'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_UP'),type:sap.m.ButtonType.Transparent,enabled:{path:'/isMoveUpButtonEnabled'},press:function(){t._moveMarkedTableItem("Up");var j=this._getInternalModel().getData();if(!j.isMoveUpButtonEnabled){j.markedTableItem.focus();}},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.High,group:1})});o.setModel(m);var a=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("expand-group"),text:this._oRb.getText('COLUMNSPANEL_MOVE_TO_BOTTOM'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_TO_BOTTOM'),type:sap.m.ButtonType.Transparent,enabled:{path:'/isMoveDownButtonEnabled'},press:function(){t._moveMarkedTableItem("Bottom");var j=this._getInternalModel().getData();if(!j.isMoveDownButtonEnabled){j.markedTableItem.focus();}},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.Low,group:2})});a.setModel(m);var b=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("collapse-group"),text:this._oRb.getText('COLUMNSPANEL_MOVE_TO_TOP'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_TO_TOP'),type:sap.m.ButtonType.Transparent,enabled:{path:'/isMoveUpButtonEnabled'},press:function(){t._moveMarkedTableItem("Top");var j=this._getInternalModel().getData();if(!j.isMoveUpButtonEnabled){j.markedTableItem.focus();}},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.Low,group:2})});b.setModel(m);var s=new sap.m.Button({text:{path:'/showOnlySelectedItems',formatter:function(j){return j?t._oRb.getText('COLUMNSPANEL_SHOW_ALL'):t._oRb.getText('COLUMNSPANEL_SHOW_SELECTED');}},tooltip:{path:'/showOnlySelectedItems',formatter:function(j){return j?t._oRb.getText('COLUMNSPANEL_SHOW_ALL'):t._oRb.getText('COLUMNSPANEL_SHOW_SELECTED');}},type:sap.m.ButtonType.Transparent,press:q.proxy(this._onSwitchButtonShowSelected,this),layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.High})});s.setModel(m);var f=new S(this.getId()+"-searchField",{liveChange:function(E){var v=E.getSource().getValue(),D=(v?300:0);window.clearTimeout(t._iSearchTimer);if(D){t._iSearchTimer=window.setTimeout(function(){t._onExecuteSearch();},D);}else{t._onExecuteSearch();}},search:q.proxy(this._onExecuteSearch,this),layoutData:new sap.m.OverflowToolbarLayoutData({minWidth:"12.5rem",maxWidth:"23.077rem",shrinkable:true,moveToOverflow:false,stayInOverflow:false})});var i=new sap.ui.core.InvisibleText({text:t._oRb.getText('COLUMNSPANEL_CHARTTYPE')});var g=new sap.m.ComboBox({selectedKey:{path:'/selectedChartTypeKey'},ariaLabelledBy:i,items:{path:'/availableChartTypes',templateShareable:false,template:new sap.ui.core.Item({key:"{key}",text:"{text}"})},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:false,stayInOverflow:false})});g.setModel(m);var h=new sap.m.OverflowToolbar(this.getId()+"-toolbar",{design:sap.m.ToolbarDesign.Auto,content:[i,g,new sap.m.ToolbarSpacer(),f,s,b,o,M,a]});this.addAggregation("content",h);};e.prototype._getToolbar=function(){return sap.ui.getCore().byId(this.getId()+"-toolbar")||null;};e.prototype._getSearchField=function(){return sap.ui.getCore().byId(this.getId()+"-searchField")||null;};e.prototype._getSearchText=function(){var s=this._getSearchField();return s?s.getValue():"";};e.prototype._isFilteredBySearchText=function(){return!!this._getSearchText().length;};e.prototype._isFilteredByShowSelected=function(){return this._getInternalModel().getData().showOnlySelectedItems;};e.prototype._isDimMeasureItemEqualToModelItem=function(D,m){return m.persistentIndex===D.getIndex()&&m.persistentSelected===D.getVisible()&&m.role===D.getRole();};e.prototype._updateControlLogic=function(){var m=this._getInternalModel();var D=m.getData();var i=this._isFilteredBySearchText();var s=this._isFilteredByShowSelected();var v=this._getVisibleTableItems();D.isMoveUpButtonEnabled=v.indexOf(D.markedTableItem)>-1&&D.indexOfMarkedTableItem>0;D.isMoveDownButtonEnabled=v.indexOf(D.markedTableItem)>-1&&D.indexOfMarkedTableItem<v.length-1&&D.indexOfMarkedTableItem>-1;var t=sap.ui.getCore().byId(this._oTable.getId()+'-sa');if(t){t.setEnabled(!i&&!s);}m.refresh();};e.prototype._getInternalModel=function(){return this.getModel("$sapmP13nDimMeasurePanel");};e.prototype._notifyChange=function(){var L=this.getChangeNotifier();if(L){L(this);}};e.prototype._showAll=function(){q.sap.log.info("ModelItems: visible tableIndex isPersistent        TableItems: current");q.sap.log.info("--------------------------------------------------------------");var D=this._getInternalModel().getData();var t=this._oTable.getItems();var L=Math.max(D.items.length,this._oTable.getItems().length);for(var i=0;i<L;i++){var m=D.items[i];var o=t[i];q.sap.log.info(m.columnKey+": "+m.visible+" "+m.tableIndex+" "+m.persistentSelected+"_"+m.persistentIndex+";    "+o.getId()+" "+o.getCells()[0].getText()+": "+o.getSelected()+" "+o.getCells()[1].getText());}};return e;},true);
sap.ui.predefine('sap/m/P13nFilterItem',['jquery.sap.global','./library','sap/ui/core/Item'],function(q,l,I){"use strict";var P=I.extend("sap.m.P13nFilterItem",{metadata:{library:"sap.m",properties:{operation:{type:"string",group:"Misc",defaultValue:null},value1:{type:"string",group:"Misc",defaultValue:null},value2:{type:"string",group:"Misc",defaultValue:null},columnKey:{type:"string",group:"Misc",defaultValue:null},exclude:{type:"boolean",group:"Misc",defaultValue:false}}}});P.prototype.setOperation=function(o){return this.setProperty("operation",o,true);};P.prototype.setColumnKey=function(k){return this.setProperty("columnKey",k,true);};P.prototype.setValue1=function(k){return this.setProperty("value1",k,true);};P.prototype.setValue2=function(k){return this.setProperty("value2",k,true);};P.prototype.setExclude=function(k){return this.setProperty("exclude",k,true);};return P;},true);
sap.ui.predefine('sap/m/P13nFilterPanel',['jquery.sap.global','./P13nConditionPanel','./P13nPanel','./library','sap/ui/core/Control'],function(q,P,a,l,C){"use strict";var b=a.extend("sap.m.P13nFilterPanel",{metadata:{library:"sap.m",properties:{maxIncludes:{type:"string",group:"Misc",defaultValue:'-1'},maxExcludes:{type:"string",group:"Misc",defaultValue:'-1'},containerQuery:{type:"boolean",group:"Misc",defaultValue:false},layoutMode:{type:"string",group:"Misc",defaultValue:null}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"},filterItems:{type:"sap.m.P13nFilterItem",multiple:true,singularName:"filterItem",bindable:"bindable"}},events:{addFilterItem:{},removeFilterItem:{},updateFilterItem:{}}},renderer:function(r,c){r.write("<section");r.writeControlData(c);r.addClass("sapMFilterPanel");r.writeClasses();r.writeStyles();r.write(">");r.write("<div");r.addClass("sapMFilterPanelContent");r.addClass("sapMFilterPanelBG");r.writeClasses();r.write(">");var d=c.getAggregation("content");var L=d.length;for(var i=0;i<L;i++){r.renderControl(d[i]);}r.write("</div>");r.write("</section>");}});b.prototype.setConditions=function(c){var I=[];var e=[];if(c.length){for(var i=0;i<c.length;i++){var o=c[i];if(!o.exclude){I.push(o);}else{e.push(o);}}}this._oIncludeFilterPanel.setConditions(I);this._oExcludeFilterPanel.setConditions(e);if(e.length>0){this._oExcludePanel.setExpanded(true);}return this;};b.prototype.getConditions=function(){var i=this._oIncludeFilterPanel.getConditions();var e=this._oExcludeFilterPanel.getConditions();return i.concat(e);};b.prototype.setContainerQuery=function(c){this.setProperty("containerQuery",c);this._oIncludeFilterPanel.setContainerQuery(c);this._oExcludeFilterPanel.setContainerQuery(c);return this;};b.prototype.setLayoutMode=function(m){this.setProperty("layoutMode",m);this._oIncludeFilterPanel.setLayoutMode(m);this._oExcludeFilterPanel.setLayoutMode(m);return this;};b.prototype.validateConditions=function(){return this._oIncludeFilterPanel.validateConditions()&&this._oExcludeFilterPanel.validateConditions();};b.prototype.removeInvalidConditions=function(){this._oIncludeFilterPanel.removeInvalidConditions();this._oExcludeFilterPanel.removeInvalidConditions();};b.prototype.removeValidationErrors=function(){this._oIncludeFilterPanel.removeValidationErrors();this._oExcludeFilterPanel.removeValidationErrors();};b.prototype.onBeforeNavigationFrom=function(){return this.validateConditions();};b.prototype.onAfterNavigationFrom=function(){return this.removeInvalidConditions();};b.prototype.setIncludeOperations=function(o,t){t=t||"default";this._aIncludeOperations[t]=o;if(this._oIncludeFilterPanel){this._oIncludeFilterPanel.setOperations(this._aIncludeOperations[t],t);}};b.prototype.getIncludeOperations=function(t){if(this._oIncludeFilterPanel){return this._oIncludeFilterPanel.getOperations(t);}};b.prototype.setExcludeOperations=function(o,t){t=t||"default";this._aExcludeOperations[t]=o;if(this._oExcludeFilterPanel){this._oExcludeFilterPanel.setOperations(this._aExcludeOperations[t],t);}};b.prototype.getExcludeOperations=function(t){if(this._oExcludeFilterPanel){return this._oExcludeFilterPanel.getOperations(t);}};b.prototype.setKeyFields=function(k){this._aKeyFields=k;if(this._oIncludeFilterPanel){this._oIncludeFilterPanel.setKeyFields(this._aKeyFields);}if(this._oExcludeFilterPanel){this._oExcludeFilterPanel.setKeyFields(this._aKeyFields);}};b.prototype.getKeyFields=function(){return this._aKeyFields;};b.prototype.setMaxIncludes=function(m){this.setProperty("maxIncludes",m);if(this._oIncludeFilterPanel){this._oIncludeFilterPanel.setMaxConditions(m);}this._updatePanel();return this;};b.prototype.setMaxExcludes=function(m){this.setProperty("maxExcludes",m);if(this._oExcludeFilterPanel){this._oExcludeFilterPanel.setMaxConditions(m);}this._updatePanel();return this;};b.prototype._updatePanel=function(){var m=this.getMaxIncludes()==="-1"?1000:parseInt(this.getMaxIncludes(),10);var M=this.getMaxExcludes()==="-1"?1000:parseInt(this.getMaxExcludes(),10);if(m>0){if(M<=0){this._oIncludePanel.setHeaderText(null);this._oIncludePanel.setExpandable(false);this._oIncludePanel.addStyleClass("panelTopMargin");this._oIncludePanel.addStyleClass("panelNoHeader");}}if(M===0){this._oExcludePanel.setHeaderText(null);this._oExcludePanel.setExpandable(false);this._oExcludePanel.addStyleClass("panelNoHeader");}};b.prototype.init=function(){this.setType(sap.m.P13nPanelType.filter);this.setTitle(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("FILTERPANEL_TITLE"));sap.ui.getCore().loadLibrary("sap.ui.layout");q.sap.require("sap.ui.layout.Grid");sap.ui.layout.Grid.prototype.init.apply(this);this._aKeyFields=[];this.addStyleClass("sapMFilterPanel");this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._aIncludeOperations={};if(!this._aIncludeOperations["default"]){this.setIncludeOperations([sap.m.P13nConditionOperation.EQ,sap.m.P13nConditionOperation.BT,sap.m.P13nConditionOperation.LT,sap.m.P13nConditionOperation.LE,sap.m.P13nConditionOperation.GT,sap.m.P13nConditionOperation.GE]);}if(!this._aIncludeOperations["string"]){this.setIncludeOperations([sap.m.P13nConditionOperation.Contains,sap.m.P13nConditionOperation.EQ,sap.m.P13nConditionOperation.BT,sap.m.P13nConditionOperation.StartsWith,sap.m.P13nConditionOperation.EndsWith,sap.m.P13nConditionOperation.LT,sap.m.P13nConditionOperation.LE,sap.m.P13nConditionOperation.GT,sap.m.P13nConditionOperation.GE],"string");}if(!this._aIncludeOperations["date"]){this.setIncludeOperations([sap.m.P13nConditionOperation.EQ,sap.m.P13nConditionOperation.BT,sap.m.P13nConditionOperation.LT,sap.m.P13nConditionOperation.LE,sap.m.P13nConditionOperation.GT,sap.m.P13nConditionOperation.GE],"date");}if(!this._aIncludeOperations["time"]){this.setIncludeOperations([sap.m.P13nConditionOperation.EQ,sap.m.P13nConditionOperation.BT,sap.m.P13nConditionOperation.LT,sap.m.P13nConditionOperation.LE,sap.m.P13nConditionOperation.GT,sap.m.P13nConditionOperation.GE],"time");}if(!this._aIncludeOperations["numeric"]){this.setIncludeOperations([sap.m.P13nConditionOperation.EQ,sap.m.P13nConditionOperation.BT,sap.m.P13nConditionOperation.LT,sap.m.P13nConditionOperation.LE,sap.m.P13nConditionOperation.GT,sap.m.P13nConditionOperation.GE],"numeric");}if(!this._aIncludeOperations["boolean"]){this.setIncludeOperations([sap.m.P13nConditionOperation.EQ],"boolean");}this._aExcludeOperations={};if(!this._aExcludeOperations["default"]){this.setExcludeOperations([sap.m.P13nConditionOperation.EQ]);}this._oIncludePanel=new sap.m.Panel({expanded:true,expandable:true,headerText:this._oRb.getText("FILTERPANEL_INCLUDES"),width:"auto"}).addStyleClass("sapMFilterPadding");this._oIncludeFilterPanel=new P({maxConditions:this.getMaxIncludes(),alwaysShowAddIcon:false,layoutMode:this.getLayoutMode(),dataChange:this._handleDataChange()});this._oIncludeFilterPanel._sAddRemoveIconTooltipKey="FILTER";for(var t in this._aIncludeOperations){this._oIncludeFilterPanel.setOperations(this._aIncludeOperations[t],t);}this._oIncludePanel.addContent(this._oIncludeFilterPanel);this.addAggregation("content",this._oIncludePanel);this._oExcludePanel=new sap.m.Panel({expanded:false,expandable:true,headerText:this._oRb.getText("FILTERPANEL_EXCLUDES"),width:"auto"}).addStyleClass("sapMFilterPadding");this._oExcludeFilterPanel=new P({exclude:true,maxConditions:this.getMaxExcludes(),alwaysShowAddIcon:false,layoutMode:this.getLayoutMode(),dataChange:this._handleDataChange()});this._oExcludeFilterPanel._sAddRemoveIconTooltipKey="FILTER";for(var t in this._aExcludeOperations){this._oExcludeFilterPanel.setOperations(this._aExcludeOperations[t],t);}this._oExcludePanel.addContent(this._oExcludeFilterPanel);this.addAggregation("content",this._oExcludePanel);this._updatePanel();};b.prototype.exit=function(){var d=function(o){if(o&&o.destroy){o.destroy();}return null;};this._aKeyFields=d(this._aKeyFields);this._aIncludeOperations=d(this._aIncludeOperations);this._aExcludeOperations=d(this._aExcludeOperations);this._oRb=d(this._oRb);};b.prototype.onBeforeRendering=function(){if(this._bUpdateRequired){this._bUpdateRequired=false;var k=[];var m=(this.getBindingInfo("items")||{}).model;var g=function(n,o,i){var B=i.getBinding(n);if(B&&o){return o.getObject()[B.getPath()];}return i.getMetadata().getProperty(n)?i.getProperty(n):i.getAggregation(n);};this.getItems().forEach(function(i){var o=i.getBindingContext(m);if(i.getBinding("key")){o.getObject()[i.getBinding("key").getPath()]=i.getKey();}k.push({key:i.getColumnKey(),text:g("text",o,i),tooltip:g("tooltip",o,i),maxLength:g("maxLength",o,i),type:g("type",o,i),precision:g("precision",o,i),scale:g("scale",o,i),isDefault:g("isDefault",o,i),values:g("values",o,i)});var n=k.length;if(k[n-1].maxLength===1||k[n-1].maxLength==="1"){k[n-1].operations=[sap.m.P13nConditionOperation.EQ,sap.m.P13nConditionOperation.BT,sap.m.P13nConditionOperation.LT,sap.m.P13nConditionOperation.LE,sap.m.P13nConditionOperation.GT,sap.m.P13nConditionOperation.GE];}});this.setKeyFields(k);var c=[];m=(this.getBindingInfo("filterItems")||{}).model;this.getFilterItems().forEach(function(f){var o=f.getBindingContext(m);if(f.getBinding("key")&&o){o.getObject()[f.getBinding("key").getPath()]=f.getKey();}c.push({key:f.getKey(),keyField:g("columnKey",o,f),operation:g("operation",o,f),value1:g("value1",o,f),value2:g("value2",o,f),exclude:g("exclude",o,f)});});this.setConditions(c);}};b.prototype.addItem=function(i){a.prototype.addItem.apply(this,arguments);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};b.prototype.removeItem=function(i){var r=a.prototype.removeItem.apply(this,arguments);this._bUpdateRequired=true;return r;};b.prototype.destroyItems=function(){this.destroyAggregation("items");if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};b.prototype.addFilterItem=function(f){this.addAggregation("filterItems",f,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};b.prototype.insertFilterItem=function(f,i){this.insertAggregation("filterItems",f,i,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};b.prototype.updateFilterItems=function(r){this.updateAggregation("filterItems");if(r=="change"&&!this._bIgnoreBindCalls){this._bUpdateRequired=true;}};b.prototype.removeFilterItem=function(f){f=this.removeAggregation("filterItems",f,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return f;};b.prototype.removeAllFilterItems=function(){var f=this.removeAllAggregation("filterItems",true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return f;};b.prototype.destroyFilterItems=function(){this.destroyAggregation("filterItems");if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};b.prototype._handleDataChange=function(){var t=this;return function(e){var n=e.getParameter("newData");var o=e.getParameter("operation");var k=e.getParameter("key");var c=e.getParameter("index");var f;var I=-1;var E=e.getSource()===t._oExcludeFilterPanel;t.getFilterItems().some(function(d,i){if((!d.getExclude()&&!E)||(d.getExclude()&&E)){c--;}I=i;return c<0;},this);if(o==="update"){f=t.getFilterItems()[I];if(f){f.setExclude(n.exclude);f.setColumnKey(n.keyField);f.setOperation(n.operation);f.setValue1(n.value1);f.setValue2(n.value2);}t.fireUpdateFilterItem({key:k,index:I,filterItemData:f});t._notifyChange();}if(o==="add"){if(c>=0){I++;}f=new sap.m.P13nFilterItem({key:k,columnKey:n.keyField,exclude:n.exclude,operation:n.operation,value1:n.value1,value2:n.value2});t._bIgnoreBindCalls=true;t.fireAddFilterItem({key:k,index:I,filterItemData:f});t._bIgnoreBindCalls=false;t._notifyChange();}if(o==="remove"){t._bIgnoreBindCalls=true;t.fireRemoveFilterItem({key:k,index:I});t._bIgnoreBindCalls=false;t._notifyChange();}};};b.prototype._notifyChange=function(){var L=this.getChangeNotifier();if(L){L(this);}};return b;},true);
sap.ui.predefine('sap/m/P13nGroupItem',['jquery.sap.global','./library','sap/ui/core/Item'],function(q,l,I){"use strict";var P=I.extend("sap.m.P13nGroupItem",{metadata:{library:"sap.m",properties:{operation:{type:"string",group:"Misc",defaultValue:null},columnKey:{type:"string",group:"Misc",defaultValue:null},showIfGrouped:{type:"boolean",group:"Misc",defaultValue:false}}}});P.prototype.setColumnKey=function(v){return this.setProperty("columnKey",v,true);};P.prototype.setOperation=function(v){return this.setProperty("operation",v,true);};P.prototype.setShowIfGrouped=function(v){return this.setProperty("showIfGrouped",v,true);};return P;},true);
sap.ui.predefine('sap/m/P13nGroupPanel',['jquery.sap.global','./P13nConditionPanel','./P13nPanel','./library','sap/ui/core/Control'],function(q,P,a,l,C){"use strict";var c=a.extend("sap.m.P13nGroupPanel",{metadata:{library:"sap.m",properties:{maxGroups:{type:"string",group:"Misc",defaultValue:'-1'},containerQuery:{type:"boolean",group:"Misc",defaultValue:false},layoutMode:{type:"string",group:"Misc",defaultValue:null}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"},groupItems:{type:"sap.m.P13nGroupItem",multiple:true,singularName:"groupItem",bindable:"bindable"}},events:{addGroupItem:{parameters:{}},removeGroupItem:{},updateGroupItem:{}}},renderer:function(r,o){r.write("<section");r.writeControlData(o);r.addClass("sapMGroupPanel");r.writeClasses();r.writeStyles();r.write(">");r.write("<div");r.addClass("sapMGroupPanelContent");r.addClass("sapMGroupPanelBG");r.writeClasses();r.write(">");var b=o.getAggregation("content");var L=b.length;for(var i=0;i<L;i++){r.renderControl(b[i]);}r.write("</div>");r.write("</section>");}});c.prototype.setMaxGroups=function(m){this.setProperty("maxGroups",m);if(this._oGroupPanel){this._oGroupPanel.setMaxConditions(m);}};c.prototype._getConditions=function(){return this._oGroupPanel.getConditions();};c.prototype.setContainerQuery=function(b){this.setProperty("containerQuery",b);this._oGroupPanel.setContainerQuery(b);};c.prototype.setLayoutMode=function(m){this.setProperty("layoutMode",m);this._oGroupPanel.setLayoutMode(m);};c.prototype.validateConditions=function(){return this._oGroupPanel.validateConditions();};c.prototype.removeInvalidConditions=function(){this._oGroupPanel.removeInvalidConditions();};c.prototype.removeValidationErrors=function(){this._oGroupPanel.removeValidationErrors();};c.prototype.onBeforeNavigationFrom=function(){return this.validateConditions();};c.prototype.onAfterNavigationFrom=function(){return this.removeInvalidConditions();};c.prototype.setOperations=function(o){this._aOperations=o;if(this._oGroupPanel){this._oGroupPanel.setOperations(this._aOperations);}};c.prototype.init=function(){this.setType(sap.m.P13nPanelType.group);this.setTitle(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("GROUPPANEL_TITLE"));sap.ui.getCore().loadLibrary("sap.ui.layout");q.sap.require("sap.ui.layout.Grid");sap.ui.layout.Grid.prototype.init.apply(this);this._aKeyFields=[];this.addStyleClass("sapMGroupPanel");if(!this._aOperations){this.setOperations([sap.m.P13nConditionOperation.GroupAscending,sap.m.P13nConditionOperation.GroupDescending]);}this._oGroupPanel=new P({maxConditions:this.getMaxGroups(),autoReduceKeyFieldItems:true,layoutMode:this.getLayoutMode(),dataChange:this._handleDataChange(),validationExecutor:q.proxy(this._callValidationExecutor,this)});this._oGroupPanel.setOperations(this._aOperations);this._oGroupPanel._sAddRemoveIconTooltipKey="GROUP";this.addAggregation("content",this._oGroupPanel);};c.prototype.exit=function(){var d=function(o){if(o&&o.destroy){o.destroy();}return null;};this._aKeyFields=d(this._aKeyFields);this._aOperations=d(this._aOperations);};c.prototype.onBeforeRendering=function(){if(this._bUpdateRequired){this._bUpdateRequired=false;var k=[];var m=(this.getBindingInfo("items")||{}).model;var g=function(n,o,i){var B=i.getBinding(n);if(B&&o){return o.getObject()[B.getPath()];}return i.getMetadata().getProperty(n)?i.getProperty(n):i.getAggregation(n);};this.getItems().forEach(function(i){var o=i.getBindingContext(m);if(i.getBinding("key")){o.getObject()[i.getBinding("key").getPath()]=i.getKey();}k.push({key:i.getColumnKey(),text:g("text",o,i),tooltip:g("tooltip",o,i)});});k.splice(0,0,{key:null,text:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_SELECTION_NONE")});this._oGroupPanel.setKeyFields(k);var b=[];m=(this.getBindingInfo("groupItems")||{}).model;this.getGroupItems().forEach(function(G){var o=G.getBindingContext(m);if(G.getBinding("key")){o.getObject()[G.getBinding("key").getPath()]=G.getKey();}b.push({key:G.getKey(),keyField:g("columnKey",o,G),operation:g("operation",o,G),showIfGrouped:g("showIfGrouped",o,G)});});this._oGroupPanel.setConditions(b);}};c.prototype.addItem=function(i){a.prototype.addItem.apply(this,arguments);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};c.prototype.removeItem=function(i){var r=a.prototype.removeItem.apply(this,arguments);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return r;};c.prototype.destroyItems=function(){this.destroyAggregation("items");if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};c.prototype.addGroupItem=function(g){this.addAggregation("groupItems",g,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};c.prototype.insertGroupItem=function(g,i){this.insertAggregation("groupItems",g,i,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};c.prototype.updateGroupItems=function(r){this.updateAggregation("groupItems");if(r=="change"&&!this._bIgnoreBindCalls){this._bUpdateRequired=true;}};c.prototype.removeGroupItem=function(g){g=this.removeAggregation("groupItems",g,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return g;};c.prototype.removeAllGroupItems=function(){var g=this.removeAllAggregation("groupItems",true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return g;};c.prototype.destroyGroupItems=function(){this.destroyAggregation("groupItems");if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};c.prototype._handleDataChange=function(){var t=this;return function(e){var n=e.getParameter("newData");var o=e.getParameter("operation");var k=e.getParameter("key");var i=e.getParameter("index");var g;if(o==="update"){g=t.getGroupItems()[i];if(g){g.setColumnKey(n.keyField);g.setOperation(n.operation);g.setShowIfGrouped(n.showIfGrouped);}t.fireUpdateGroupItem({key:k,index:i,groupItemData:g});t._notifyChange();}if(o==="add"){g=new sap.m.P13nGroupItem({key:k,columnKey:n.keyField,operation:n.operation,showIfGrouped:n.showIfGrouped});t._bIgnoreBindCalls=true;t.fireAddGroupItem({key:k,index:i,groupItemData:g});t._bIgnoreBindCalls=false;t._notifyChange();}if(o==="remove"){t._bIgnoreBindCalls=true;t.fireRemoveGroupItem({key:k,index:i});t._bIgnoreBindCalls=false;t._notifyChange();}};};c.prototype.getOkPayload=function(){if(!this.getModel()){return null;}var s=[];this._oGroupPanel._oConditionsGrid.getContent().forEach(function(o){var b=o.keyField;s.push(b.getSelectedKey());});return{selectedColumnKeys:s};};c.prototype._callValidationExecutor=function(){var v=this.getValidationExecutor();if(v){v();}};c.prototype._updateValidationResult=function(v){this._oGroupPanel._oConditionsGrid.getContent().forEach(function(o){var b=o.keyField;b.setValueStateText("");b.setValueState("None");var s=b.getSelectedKey();v.forEach(function(r){if(r.columnKey===s){b.setValueStateText(r.messageText);b.setValueState(r.messageType);}});});};c.prototype.setValidationListener=function(L){this.setProperty("validationListener",L);if(L){L(this,q.proxy(this._updateValidationResult,this));}};c.prototype._notifyChange=function(){var L=this.getChangeNotifier();if(L){L(this);}};return c;},true);
sap.ui.predefine('sap/m/P13nItem',['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var P=E.extend("sap.m.P13nItem",{metadata:{library:"sap.m",properties:{columnKey:{type:"string",group:"Data",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:""},visible:{type:"boolean",group:"Misc",defaultValue:null},type:{type:"string",group:"Misc",defaultValue:"text"},precision:{type:"string",group:"Misc",defaultValue:null},scale:{type:"string",group:"Misc",defaultValue:null},maxLength:{type:"string",group:"Misc",defaultValue:null},width:{type:"string",group:"Misc",defaultValue:null},isDefault:{type:"boolean",group:"Misc",defaultValue:false},values:{type:"string[]",group:"Misc",defaultValue:null},role:{type:"string",defaultValue:null},aggregationRole:{type:"string",defaultValue:null},href:{type:"string",defaultValue:null},target:{type:"string",defaultValue:null},press:{type:"object",defaultValue:null}}}});return P;},true);
sap.ui.predefine('sap/m/P13nPanel',['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var P=C.extend("sap.m.P13nPanel",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Appearance",defaultValue:null},titleLarge:{type:"string",group:"Appearance",defaultValue:null},type:{type:"string",group:"Misc",defaultValue:null},verticalScrolling:{type:"boolean",group:"Misc",defaultValue:true},validationExecutor:{type:"object",group:"Misc",defaultValue:null},validationListener:{type:"object",group:"Misc",defaultValue:null},changeNotifier:{type:"object",group:"Misc",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.P13nItem",multiple:true,singularName:"item",bindable:"bindable"}},events:{beforeNavigationTo:{}}},renderer:function(r,c){r.write("<span");r.writeControlData(c);r.addClass("sapMP13nPanel");r.writeClasses();r.write(">");r.write("</span>");}});P.prototype.getOkPayload=function(){return{};};P.prototype.getResetPayload=function(){return{};};P.prototype.beforeNavigationTo=function(){this.fireBeforeNavigationTo();};P.prototype.onBeforeNavigationFrom=function(){return true;};P.prototype.onAfterNavigationFrom=function(){};return P;},true);
sap.ui.predefine('sap/m/P13nSelectionItem',['jquery.sap.global','./library','sap/ui/core/Item'],function(q,l,I){"use strict";var P=I.extend("sap.m.P13nSelectionItem",{metadata:{library:"sap.m",properties:{columnKey:{type:"string",defaultValue:undefined},index:{type:"int",defaultValue:-1},selected:{type:"boolean",defaultValue:false}}}});return P;},true);
sap.ui.predefine('sap/m/P13nSelectionPanel',['jquery.sap.global','./ColumnListItem','./P13nPanel','./P13nSelectionItem','./SearchField','./Table','./library','sap/ui/core/Control','sap/ui/model/json/JSONModel'],function(q,C,P,c,S,T,l,d,J){"use strict";var e=P.extend("sap.m.P13nSelectionPanel",{metadata:{library:"sap.m",aggregations:{selectionItems:{type:"sap.m.P13nSelectionItem",multiple:true,singularName:"selectionItem",bindable:"bindable"},content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"}}},renderer:function(r,o){r.write("<div");r.writeControlData(o);r.addClass("sapMP13nColumnsPanel");r.writeClasses();r.write(">");var a=o.getAggregation("content");if(a){a.forEach(function(b){r.renderControl(b);});}r.write("</div>");}});e.prototype.getOkPayload=function(){this._syncModel2Panel();return{selectionItems:this.getSelectionItems()};};e.prototype.init=function(){this._iLiveChangeTimer=0;this._iSearchTimer=0;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._bOnAfterRenderingFirstTimeExecuted=false;this._bOnBeforeRenderingFirstTimeExecuted=false;var m=new J({linkPressMap:{},items:[],indexOfMarkedTableItem:-1,markedTableItem:null,isMoveDownButtonEnabled:false,isMoveUpButtonEnabled:false,showOnlySelectedItems:false,countOfSelectedItems:0,countOfItems:0,config:this.getConfig()});m.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);m.setSizeLimit(1000);this.setModel(m,"$sapmP13nSelectionPanel");this.setType(sap.m.P13nPanelType.selection);};e.prototype.getConfig=function(){return{isEnabledSelectedItemsSorting:false,isEnabledSelectedButton:false,isEnabledMoveButtons:false};};e.prototype.applySettings=function(s){P.prototype.applySettings.apply(this,arguments);var t=this;this._createTable();this._createToolbar();this.setVerticalScrolling(false);var o=new sap.m.ScrollContainer({horizontal:false,vertical:true,content:[this._oTable],width:'100%',height:'100%'});this._fnHandleResize=function(){var b=false,i,a;if(t.getParent){var $=null,f,h;var p=t.getParent();var g=t._getToolbar();if(p){$=q("#"+p.getId()+"-cont");if($.children().length>0&&g.$().length>0){i=o.$()[0].clientHeight;f=$.children()[0].clientHeight;h=g?g.$()[0].clientHeight:0;a=f-h;if(i!==a){o.setHeight(a+'px');b=true;}}}}return b;};this.addAggregation("content",o);this._sContainerResizeListener=sap.ui.core.ResizeHandler.register(o,this._fnHandleResize);};e.prototype.onBeforeRendering=function(){if(!this._bOnBeforeRenderingFirstTimeExecuted){this._bOnBeforeRenderingFirstTimeExecuted=true;this._syncPanel2Model();}if(!this._getInternalModel().getData().markedTableItem){var v=this._getVisibleTableItems();this._switchMarkedTableItemTo(v[0]);}};e.prototype.onAfterRendering=function(){var t=this;if(!this._bOnAfterRenderingFirstTimeExecuted){this._bOnAfterRenderingFirstTimeExecuted=true;window.clearTimeout(this._iLiveChangeTimer);this._iLiveChangeTimer=window.setTimeout(function(){t._fnHandleResize();},0);}};e.prototype.addItem=function(i){var m=this._getInternalModel();var D=m.getData();this._bOnBeforeRenderingFirstTimeExecuted=false;this.addAggregation("items",i);this._includeModelItem(i,-1);this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);return this;};e.prototype.insertItem=function(i,I){var m=this._getInternalModel();var D=m.getData();this._bOnBeforeRenderingFirstTimeExecuted=false;this.insertAggregation("items",i,I);this._includeModelItem(i,I);this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);return this;};e.prototype.removeItem=function(i){var I=this.indexOfItem(i);if(I>-1){var m=this._getInternalModel();var D=m.getData();this._bOnBeforeRenderingFirstTimeExecuted=false;m.getData().items.splice(I,1);this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);}i=this.removeAggregation("items",i);return i;};e.prototype.removeAllItems=function(){var m=this._getInternalModel();this._bOnBeforeRenderingFirstTimeExecuted=false;var i=this.removeAllAggregation("items");m.getData().items=[];return i;};e.prototype.destroyItems=function(){var m=this._getInternalModel();this._bOnBeforeRenderingFirstTimeExecuted=false;this.destroyAggregation("items");m.getData().items=[];return this;};e.prototype.addSelectionItem=function(s){var m=this._getInternalModel();var D=m.getData();this.addAggregation("selectionItems",s);var M=this._getModelItemByColumnKey(s.getColumnKey());if(!M){return;}M.persistentIndex=s.getIndex();M.persistentSelected=s.getSelected();this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);return this;};e.prototype.insertSelectionItem=function(s,i){var m=this._getInternalModel();var D=m.getData();this.insertAggregation("selectionItems",s,i);var M=this._getModelItemByColumnKey(s.getColumnKey());if(!M){return;}M.persistentIndex=s.getIndex();M.persistentSelected=s.getSelected();this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);return this;};e.prototype.removeSelectionItem=function(s){var m=this._getInternalModel();var D=m.getData();s=this.removeAggregation("selectionItems",s);var M=this._getModelItemByColumnKey(s.getColumnKey());if(!M){return;}M.persistentIndex=-1;M.persistentSelected=undefined;this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);return s;};e.prototype.removeAllSelectionItems=function(){var m=this._getInternalModel();var D=m.getData();this.getSelectionItems().forEach(function(o){var M=this._getModelItemByColumnKey(o.getColumnKey());if(!M){return;}M.persistentIndex=-1;M.persistentSelected=undefined;},this);this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);var s=this.removeAllAggregation("selectionItems");return s;};e.prototype.destroySelectionItems=function(){var m=this._getInternalModel();var D=m.getData();this.getSelectionItems().forEach(function(s){var M=this._getModelItemByColumnKey(s.getColumnKey());if(!M){return;}M.persistentIndex=-1;M.persistentSelected=undefined;},this);this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);this.destroyAggregation("selectionItems");return this;};e.prototype.onBeforeNavigationFrom=function(){this._syncModel2Panel();return true;};e.prototype.exit=function(){sap.ui.core.ResizeHandler.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;this._getToolbar().destroy();this._oTable.destroy();this._oTable=null;if(this._getInternalModel()){this._getInternalModel().destroy();}window.clearTimeout(this._iLiveChangeTimer);window.clearTimeout(this._iSearchTimer);};e.prototype._syncPanel2Model=function(){var m=this._getInternalModel();var D=m.getData();this.getSelectionItems().forEach(function(s){var M=this._getModelItemByColumnKey(s.getColumnKey());if(!M||this._isSelectionItemEqualToModelItem(s,M)){return;}M.persistentIndex=s.getIndex();M.persistentSelected=s.getSelected();this._sortModelItemsByPersistentIndex(D.items);this._updateModelItemsTableIndex(D);this._updateCounts(D);},this);m.refresh();};e.prototype._syncModel2Panel=function(){if(!this._bOnBeforeRenderingFirstTimeExecuted){return;}var D=this._getInternalModel().getData();D.items.forEach(function(m){var s=this._getSelectionItemByColumnKey(m.columnKey);if(s){if(!this._isSelectionItemEqualToModelItem(s,m)){s.setProperty("selected",m.persistentSelected,true);s.setProperty("index",m.persistentIndex,true);}return;}if(!m.persistentSelected){return;}s=new sap.m.P13nSelectionItem({columnKey:m.columnKey,selected:m.persistentSelected,index:m.persistentIndex});this.addAggregation("selectionItems",s,true);},this);};e.prototype._moveMarkedTableItem=function(D){var o=this._getInternalModel().getData();if(!o.markedTableItem||o.indexOfMarkedTableItem<0){return;}var v=this._getVisibleTableItems();if(v.indexOf(o.markedTableItem)<0){return;}var f=function(){switch(D){case"Down":return o.indexOfMarkedTableItem+1;case"Bottom":return V.length-1;case"Up":return o.indexOfMarkedTableItem-1;case"Top":return 0;}};var V=this._getVisibleModelItems();var m=V[o.indexOfMarkedTableItem];var M=V[f()];if(this._moveModelItems(this._getModelItemIndexByColumnKey(m.columnKey),this._getModelItemIndexByColumnKey(M.columnKey))){this._switchMarkedTableItemTo(v[f()]);}};e.prototype._filterModelItemsBySearchText=function(){var m=this._getInternalModel();var s=this._getSearchText();s=s.replace(/(^\s+)|(\s+$)/g,'');s=s.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');var r=new RegExp(s,'igm');if(!r){return;}this._getVisibleModelItems().forEach(function(M){M.visible=false;if(M.text&&M.text.match(r)){M.visible=true;}if(M.tooltip&&M.tooltip.match(r)){M.visible=true;}});m.refresh();};e.prototype._scrollToSelectedItem=function(i){var f=null;if(i){sap.ui.getCore().applyChanges();if(!!i.getDomRef()){f=document.activeElement;i.focus();if(f&&f.focus){f.focus();}}}};e.prototype._includeModelItem=function(i,I){var m=this._getInternalModel();var D=m.getData();if(I<0){I=D.items.length;}var M={columnKey:i.getColumnKey(),visible:true,text:i.getText(),href:i.getHref(),target:i.getTarget(),tooltip:i.getTooltip(),originalIndex:I,persistentIndex:-1,persistentSelected:undefined,tableIndex:undefined};D.linkPressMap[i.getText()+"---"+i.getHref()]=i.getPress();D.items.splice(I,0,M);};e.prototype._onItemPressed=function(E){this._switchMarkedTableItemTo(E.getParameter('listItem'));};e.prototype._onSelectionChange=function(E){var m=this._getInternalModel();var D=m.getData();var t=E.getParameter("listItem");this._switchMarkedTableItemTo(t);this._updateModelItemsPersistentIndex(D);this._updateCounts(D);m.refresh();this._notifyChange();};e.prototype._onSwitchButtonShowSelected=function(){var D=this._getInternalModel().getData();D.showOnlySelectedItems=!D.showOnlySelectedItems;this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();this._scrollToSelectedItem(D.markedTableItem);this._updateControlLogic();this._fnHandleResize();};e.prototype._onExecuteSearch=function(){var D=this._getInternalModel().getData();this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();this._scrollToSelectedItem(D.markedTableItem);this._updateControlLogic();};e.prototype._getSelectionItemByColumnKey=function(s){for(var i=0,a=this.getSelectionItems(),b=a.length;i<b;i++){if(a[i].getColumnKey()===s){return a[i];}}return null;};e.prototype._getModelItemIndexByColumnKey=function(s){var i=-1;this._getInternalModel().getData().items.some(function(m,I){if(m.columnKey===s){i=I;return true;}});return i;};e.prototype._getModelItemByColumnKey=function(s){var m=null;this._getInternalModel().getData().items.some(function(M){if(M.columnKey===s){m=M;return true;}});return m;};e.prototype._moveModelItems=function(i,I){var m=this._getInternalModel();var D=m.getData();if(i<0||I<0||i>D.items.length-1||I>D.items.length-1){return false;}var M=D.items.splice(i,1);D.items.splice(I,0,M[0]);this._updateModelItemsPersistentIndex(D);this._updateModelItemsTableIndex(D);this._updateCounts(D);m.refresh();return true;};e.prototype._switchVisibilityOfUnselectedModelItems=function(){var m=this._getInternalModel();var s=this._isFilteredByShowSelected();m.getData().items.forEach(function(M){if(M.persistentSelected){M.visible=true;return;}M.visible=!s;});m.refresh();};e.prototype._getVisibleTableItems=function(){var v=[];this._oTable.getItems().forEach(function(t){if(t.getVisible()){v.push(t);}});return v;};e.prototype._getVisibleModelItems=function(){var v=[];this._getInternalModel().getData().items.forEach(function(m){if(m.visible){v.push(m);}});return v;};e.prototype._getSelectedModelItems=function(){var s=[];this._getInternalModel().getData().items.forEach(function(m){if(m.persistentSelected){s.push(m);}});return s;};e.prototype._getModelItemByTableItem=function(t){var i=this._getVisibleTableItems().indexOf(t);return this._getVisibleModelItems()[i];};e.prototype._updateModelItemsTableIndex=function(D){D.items.forEach(function(m,t){m.tableIndex=t;});};e.prototype._updateModelItemsPersistentIndex=function(D){var p=-1;D.items.forEach(function(m){m.persistentIndex=-1;if(m.persistentSelected){p++;m.persistentIndex=p;}});};e.prototype._updateCounts=function(D){D.countOfSelectedItems=0;D.countOfItems=0;D.items.forEach(function(m){D.countOfItems++;if(m.persistentSelected){D.countOfSelectedItems++;}});};e.prototype._sortModelItemsByPersistentIndex=function(m){if(!this._getInternalModel().getProperty("/config/isEnabledSelectedItemsSorting")){return;}m.sort(function(a,b){if(a.persistentSelected===true&&(b.persistentSelected===false||b.persistentSelected===undefined)){return-1;}else if((a.persistentSelected===false||a.persistentSelected===undefined)&&b.persistentSelected===true){return 1;}else if(a.persistentSelected===true&&b.persistentSelected===true){if(a.persistentIndex<b.persistentIndex){return-1;}else if(a.persistentIndex>b.persistentIndex){return 1;}else{return 0;}}else if((a.persistentSelected===false||a.persistentSelected===undefined)&&(b.persistentSelected===false||b.persistentSelected===undefined)){if(a.text<b.text){return-1;}else if(a.text>b.text){return 1;}else{return 0;}}});};e.prototype._switchMarkedTableItemTo=function(t){var D=this._getInternalModel().getData();if(D.markedTableItem===t){return;}if(D.markedTableItem){D.markedTableItem.removeStyleClass("sapMP13nColumnsPanelItemSelected");}D.indexOfMarkedTableItem=this._getVisibleTableItems().indexOf(t);D.markedTableItem=t;if(D.markedTableItem){D.markedTableItem.addStyleClass("sapMP13nColumnsPanelItemSelected");}this._scrollToSelectedItem(D.markedTableItem);this._updateControlLogic();};e.prototype._getTableColumns=function(){var t=this;return[new sap.m.Column({header:new sap.m.Text({text:{parts:[{path:'/countOfSelectedItems'},{path:'/countOfItems'}],formatter:function(i,a){return t._oRb.getText('COLUMNSPANEL_SELECT_ALL_WITH_COUNTER',[i,a]);}}})})];};e.prototype._getTableTemplate=function(){var t=this;return new sap.m.ColumnListItem({cells:[new sap.m.Link({href:"{href}",text:"{text}",target:"{target}",enabled:{path:'href',formatter:function(v){if(!v){this.addStyleClass("sapUiCompSmartLink");}return!!v;}},press:function(E){var o=t._getInternalModel().getProperty("/linkPressMap")[this.getText()+"---"+this.getHref()];if(o){o(E);}}})],visible:"{visible}",selected:"{persistentSelected}",tooltip:"{tooltip}",type:sap.m.ListType.Active});};e.prototype._createTable=function(){this._oTable=new T({mode:sap.m.ListMode.MultiSelect,rememberSelections:false,itemPress:q.proxy(this._onItemPressed,this),selectionChange:q.proxy(this._onSelectionChange,this),columns:this._getTableColumns(),items:{path:"/items",templateShareable:false,template:this._getTableTemplate()}});this._oTable.setModel(this._getInternalModel());};e.prototype._createToolbar=function(){var m=this._getInternalModel();var t=this;var s=new S(this.getId()+"-searchField",{liveChange:function(E){var v=E.getSource().getValue(),D=(v?300:0);window.clearTimeout(t._iSearchTimer);if(D){t._iSearchTimer=window.setTimeout(function(){t._onExecuteSearch();},D);}else{t._onExecuteSearch();}},search:q.proxy(this._onExecuteSearch,this),layoutData:new sap.m.OverflowToolbarLayoutData({minWidth:"12.5rem",maxWidth:"23.077rem",shrinkable:true,moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.High})});var o=new sap.m.OverflowToolbar(this.getId()+"-toolbar",{active:true,design:sap.m.ToolbarDesign.Auto,content:[new sap.m.ToolbarSpacer(),s]});var a=new sap.m.Button({text:{path:'/showOnlySelectedItems',formatter:function(h){return h?t._oRb.getText('COLUMNSPANEL_SHOW_ALL'):t._oRb.getText('COLUMNSPANEL_SHOW_SELECTED');}},tooltip:this._oRb.getText('COLUMNSPANEL_SHOW_SELECTED'),type:sap.m.ButtonType.Transparent,press:q.proxy(this._onSwitchButtonShowSelected,this),layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.High}),visible:{path:'/config/isEnabledSelectedButton'}});a.setModel(m);o.addContent(a);var M=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("slim-arrow-down"),text:this._oRb.getText('COLUMNSPANEL_MOVE_DOWN'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_DOWN'),type:sap.m.ButtonType.Transparent,enabled:{path:'/isMoveDownButtonEnabled'},press:function(){t._moveMarkedTableItem("Down");var h=t._getInternalModel().getData();if(!h.isMoveDownButtonEnabled){h.markedTableItem.focus();}},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.High,group:1}),visible:{path:'/config/isEnabledMoveButtons'}});M.setModel(m);var b=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("slim-arrow-up"),text:this._oRb.getText('COLUMNSPANEL_MOVE_UP'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_UP'),type:sap.m.ButtonType.Transparent,enabled:{path:'/isMoveUpButtonEnabled'},press:function(){t._moveMarkedTableItem("Up");var h=t._getInternalModel().getData();if(!h.isMoveUpButtonEnabled){h.markedTableItem.focus();}},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.High,group:1}),visible:{path:'/config/isEnabledMoveButtons'}});b.setModel(m);var f=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("expand-group"),text:this._oRb.getText('COLUMNSPANEL_MOVE_TO_BOTTOM'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_TO_BOTTOM'),type:sap.m.ButtonType.Transparent,enabled:{path:'/isMoveDownButtonEnabled'},press:function(){t._moveMarkedTableItem("Bottom");var h=t._getInternalModel().getData();if(!h.isMoveDownButtonEnabled){h.markedTableItem.focus();}},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.Low,group:2}),visible:{path:'/config/isEnabledMoveButtons'}});f.setModel(m);var g=new sap.m.OverflowToolbarButton({icon:sap.ui.core.IconPool.getIconURI("collapse-group"),text:this._oRb.getText('COLUMNSPANEL_MOVE_TO_TOP'),tooltip:this._oRb.getText('COLUMNSPANEL_MOVE_TO_TOP'),type:sap.m.ButtonType.Transparent,enabled:{path:'/isMoveUpButtonEnabled'},press:function(){t._moveMarkedTableItem("Top");var h=t._getInternalModel().getData();if(!h.isMoveUpButtonEnabled){h.markedTableItem.focus();}},layoutData:new sap.m.OverflowToolbarLayoutData({moveToOverflow:true,priority:sap.m.OverflowToolbarPriority.Low,group:2}),visible:{path:'/config/isEnabledMoveButtons'}});g.setModel(m);o.addContent(g).addContent(b).addContent(M).addContent(f);this.addAggregation("content",o);};e.prototype._getToolbar=function(){return sap.ui.getCore().byId(this.getId()+"-toolbar")||null;};e.prototype._getSearchField=function(){return sap.ui.getCore().byId(this.getId()+"-searchField")||null;};e.prototype._getSearchText=function(){var s=this._getSearchField();return s?s.getValue():"";};e.prototype._isFilteredBySearchText=function(){return!!this._getSearchText().length;};e.prototype._isFilteredByShowSelected=function(){return this._getInternalModel().getData().showOnlySelectedItems;};e.prototype._isSelectionItemEqualToModelItem=function(s,m){return m.persistentIndex===s.getIndex()&&m.persistentSelected===s.getSelected();};e.prototype._updateControlLogic=function(){var m=this._getInternalModel();var D=m.getData();var i=this._isFilteredBySearchText();var s=this._isFilteredByShowSelected();var v=this._getVisibleTableItems();D.isMoveUpButtonEnabled=v.indexOf(D.markedTableItem)>-1&&D.indexOfMarkedTableItem>0;D.isMoveDownButtonEnabled=v.indexOf(D.markedTableItem)>-1&&D.indexOfMarkedTableItem<v.length-1&&D.indexOfMarkedTableItem>-1;var t=sap.ui.getCore().byId(this._oTable.getId()+'-sa');if(t){t.setEnabled(!i&&!s);}m.refresh();};e.prototype._getInternalModel=function(){return this.getModel("$sapmP13nSelectionPanel");};e.prototype._notifyChange=function(){var L=this.getChangeNotifier();if(L){L(this);}};e.prototype._showAll=function(){q.sap.log.info("ModelItems: columnKey originalIndex  tableIndex_isVisible  persistentIndex_isPersistent        TableItems: current");q.sap.log.info("--------------------------------------------------------------");var D=this._getInternalModel().getData();var t=this._oTable.getItems();var L=Math.max(D.items.length,this._oTable.getItems().length);for(var i=0;i<L;i++){var m=D.items[i];var o=t[i];q.sap.log.info(m.columnKey+": "+m.originalIndex+" "+m.tableIndex+"_"+m.visible+" "+m.persistentIndex+"_"+m.persistentSelected+";  "+o.getCells()[0].getText()+": "+o.getSelected());}};return e;},true);
sap.ui.predefine('sap/m/P13nSortItem',['jquery.sap.global','./library','sap/ui/core/Item'],function(q,l,I){"use strict";var P=I.extend("sap.m.P13nSortItem",{metadata:{library:"sap.m",properties:{operation:{type:"string",group:"Misc",defaultValue:null},columnKey:{type:"string",group:"Misc",defaultValue:null}}}});P.prototype.setColumnKey=function(v){return this.setProperty("columnKey",v,true);};P.prototype.setOperation=function(v){return this.setProperty("operation",v,true);};return P;},true);
sap.ui.predefine('sap/m/P13nSortPanel',['jquery.sap.global','./P13nConditionPanel','./P13nPanel','./library','sap/ui/core/Control'],function(q,P,a,l,C){"use strict";var c=a.extend("sap.m.P13nSortPanel",{metadata:{library:"sap.m",properties:{containerQuery:{type:"boolean",group:"Misc",defaultValue:false},layoutMode:{type:"string",group:"Misc",defaultValue:null}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"},sortItems:{type:"sap.m.P13nSortItem",multiple:true,singularName:"sortItem",bindable:"bindable"}},events:{addSortItem:{},removeSortItem:{},updateSortItem:{}}},renderer:function(r,o){if(!o.getVisible()){return;}r.write("<section");r.writeControlData(o);r.addClass("sapMSortPanel");r.writeClasses();r.writeStyles();r.write(">");r.write("<div");r.addClass("sapMSortPanelContent");r.addClass("sapMSortPanelBG");r.writeClasses();r.write(">");var b=o.getAggregation("content");var L=b.length;for(var i=0;i<L;i++){r.renderControl(b[i]);}r.write("</div>");r.write("</section>");}});c.prototype._getConditions=function(){return this._oSortPanel.getConditions();};c.prototype.setContainerQuery=function(b){this.setProperty("containerQuery",b);this._oSortPanel.setContainerQuery(b);return this;};c.prototype.setLayoutMode=function(m){this.setProperty("layoutMode",m);this._oSortPanel.setLayoutMode(m);return this;};c.prototype.validateConditions=function(){return this._oSortPanel.validateConditions();};c.prototype.removeInvalidConditions=function(){this._oSortPanel.removeInvalidConditions();};c.prototype.removeValidationErrors=function(){this._oSortPanel.removeValidationErrors();};c.prototype.onBeforeNavigationFrom=function(){return this.validateConditions();};c.prototype.onAfterNavigationFrom=function(){return this.removeInvalidConditions();};c.prototype.setOperations=function(o){this._aOperations=o;if(this._oSortPanel){this._oSortPanel.setOperations(this._aOperations);}return this;};c.prototype.init=function(){this.setType(sap.m.P13nPanelType.sort);this.setTitle(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("SORTPANEL_TITLE"));sap.ui.getCore().loadLibrary("sap.ui.layout");q.sap.require("sap.ui.layout.Grid");sap.ui.layout.Grid.prototype.init.apply(this);this._aKeyFields=[];this.addStyleClass("sapMSortPanel");if(!this._aOperations){this.setOperations([sap.m.P13nConditionOperation.Ascending,sap.m.P13nConditionOperation.Descending]);}this._oSortPanel=new P({autoReduceKeyFieldItems:true,layoutMode:this.getLayoutMode(),dataChange:this._handleDataChange()});this._oSortPanel.setOperations(this._aOperations);this._oSortPanel._sAddRemoveIconTooltipKey="SORT";this.addAggregation("content",this._oSortPanel);};c.prototype.exit=function(){var d=function(o){if(o&&o.destroy){o.destroy();}return null;};this._aKeyFields=d(this._aKeyFields);this._aOperations=d(this._aOperations);};c.prototype.onBeforeRendering=function(){if(this._bUpdateRequired){this._bUpdateRequired=false;var k=[];var m=(this.getBindingInfo("items")||{}).model;var g=function(n,o,i){var B=i.getBinding(n);if(B&&o){return o.getObject()[B.getPath()];}return i.getMetadata().getProperty(n)?i.getProperty(n):i.getAggregation(n);};this.getItems().forEach(function(i){var o=i.getBindingContext(m);if(i.getBinding("key")){o.getObject()[i.getBinding("key").getPath()]=i.getKey();}k.push({key:i.getColumnKey(),text:g("text",o,i),tooltip:g("tooltip",o,i)});});k.splice(0,0,{key:null,text:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_SELECTION_NONE")});this._oSortPanel.setKeyFields(k);var b=[];m=(this.getBindingInfo("sortItems")||{}).model;this.getSortItems().forEach(function(s){var o=s.getBindingContext(m);if(s.getBinding("key")){o.getObject()[s.getBinding("key").getPath()]=s.getKey();}b.push({key:s.getKey(),keyField:g("columnKey",o,s),operation:g("operation",o,s)});});this._oSortPanel.setConditions(b);}};c.prototype.addItem=function(i){a.prototype.addItem.apply(this,arguments);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};c.prototype.removeItem=function(i){var r=a.prototype.removeItem.apply(this,arguments);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return r;};c.prototype.destroyItems=function(){this.destroyAggregation("items");if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};c.prototype.addSortItem=function(s){this.addAggregation("sortItems",s,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};c.prototype.insertSortItem=function(s,i){this.insertAggregation("sortItems",s,i,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};c.prototype.updateSortItems=function(r){this.updateAggregation("sortItems");if(r=="change"&&!this._bIgnoreBindCalls){this._bUpdateRequired=true;}};c.prototype.removeSortItem=function(s){s=this.removeAggregation("sortItems",s,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return s;};c.prototype.removeAllSortItems=function(){var s=this.removeAllAggregation("sortItems",true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return s;};c.prototype.destroySortItems=function(){this.destroyAggregation("sortItems");if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};c.prototype._handleDataChange=function(){var t=this;return function(e){var n=e.getParameter("newData");var o=e.getParameter("operation");var k=e.getParameter("key");var i=e.getParameter("index");var s;if(o==="update"){s=t.getSortItems()[i];if(s){s.setColumnKey(n.keyField);s.setOperation(n.operation);}t.fireUpdateSortItem({key:k,index:i,sortItemData:s});t._notifyChange();}if(o==="add"){s=new sap.m.P13nSortItem({key:k,columnKey:n.keyField,operation:n.operation});t._bIgnoreBindCalls=true;t.fireAddSortItem({key:k,index:i,sortItemData:s});t._bIgnoreBindCalls=false;t._notifyChange();}if(o==="remove"){t._bIgnoreBindCalls=true;t.fireRemoveSortItem({key:k,index:i});t._bIgnoreBindCalls=false;t._notifyChange();}};};c.prototype._notifyChange=function(){var L=this.getChangeNotifier();if(L){L(this);}};return c;},true);
sap.ui.predefine('sap/m/QuickView',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool','./QuickViewBase','./ResponsivePopover','./NavContainer','./PlacementType','./Page','./Bar','./Button'],function(q,l,C,I,Q,R,N,P,a,B,b){"use strict";var c=Q.extend("sap.m.QuickView",{metadata:{library:"sap.m",properties:{placement:{type:"sap.m.PlacementType",group:"Misc",defaultValue:P.Right},width:{type:'sap.ui.core.CSSSize',group:'Dimension',defaultValue:'320px'}},aggregations:{},events:{afterOpen:{parameters:{openBy:{type:"sap.ui.core.Control"}}},afterClose:{parameters:{openBy:{type:"sap.ui.core.Control"},origin:{type:"sap.m.Button"}}},beforeOpen:{parameters:{openBy:{type:"sap.ui.core.Control"}}},beforeClose:{parameters:{openBy:{type:"sap.ui.core.Control"},origin:{type:"sap.m.Button"}}}}}});c.prototype.init=function(){var n={pages:[new a()],navigate:this._navigate.bind(this),afterNavigate:this._afterNavigate.bind(this)};this._oNavContainer=new N(n);var t=this;this._oPopover=new R(this.getId()+'-quickView',{placement:this.getPlacement(),content:[this._oNavContainer],contentWidth:this.getWidth(),showHeader:false,showCloseButton:false,afterOpen:function(e){t._afterOpen(e);t.fireAfterOpen({openBy:e.getParameter("openBy")});},afterClose:function(e){t.fireAfterClose({openBy:e.getParameter("openBy"),origin:t.getCloseButton()});},beforeOpen:function(e){t.fireBeforeOpen({openBy:e.getParameter("openBy")});},beforeClose:function(e){t.fireBeforeClose({openBy:e.getParameter("openBy"),origin:t.getCloseButton()});}});this._oPopover.addStyleClass('sapMQuickView');var p=this._oPopover.getAggregation("_popup");p.addEventDelegate({onBeforeRendering:this.onBeforeRenderingPopover,onAfterRendering:this._setLinkWidth,onkeydown:this._onPopupKeyDown},this);var t=this;var s=p._fnAdjustPositionAndArrow;if(s){p._fnAdjustPositionAndArrow=function(){s.apply(p,arguments);t._adjustContainerHeight();};}this._bItemsChanged=true;this._oPopover.addStyleClass("sapMQuickView");};c.prototype.onBeforeRenderingPopover=function(){this._bRendered=true;if(this._bItemsChanged){this._clearContainerHeight();this._initPages();var p=this.getAggregation("pages");if(!p&&sap.ui.Device.system.phone){this._addEmptyPage();}this._bItemsChanged=false;}};c.prototype.exit=function(){this._bRendered=false;this._bItemsChanged=true;if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}};c.prototype._createPage=function(o){return o._createPage();};c.prototype._onPopupKeyDown=function(e){this._processKeyboard(e);};c.prototype._afterOpen=function(e){if(sap.ui.Device.system.phone){this._restoreFocus();}};c.prototype._addEmptyPage=function(){var p=new a({customHeader:new B().addStyleClass("sapMQuickViewHeader")});var t=this;var o=p.getCustomHeader();o.addContentRight(new b({icon:I.getIconURI("decline"),press:function(){t._oPopover.close();}}));p.addStyleClass('sapMQuickViewPage');this._oNavContainer.addPage(p);};c.prototype._clearContainerHeight=function(){var p=this._oPopover.getAggregation("_popup");var $=p.$().find('.sapMPopoverCont');if($[0]&&$[0].style.height){$[0].style.height='';}};c.prototype._adjustContainerHeight=function(){var p=this._oPopover.getAggregation("_popup");var $=p.$().find('.sapMPopoverCont');if($[0]&&!$[0].style.height){$[0].style.height=$.height()+'px';}};c.prototype._setLinkWidth=function(){this._oPopover.$().find(".sapMLnk").css("width","auto");};c.prototype.getCloseButton=function(){if(!sap.ui.Device.system.phone){return undefined;}var p=this._oNavContainer.getCurrentPage();var o=p.getCustomHeader().getContentRight()[0];return o;};c.prototype.setPlacement=function(p){this.setProperty("placement",p,true);this._oPopover.setPlacement(p);return this;};c.prototype.setWidth=function(w){if(this._oPopover){this._oPopover.setContentWidth(w);this.setProperty('width',w,true);}return this;};c.prototype.openBy=function(o){this._bItemsChanged=true;this._oPopover.openBy(o);return this;};c.prototype.getDomRef=function(s){return this._oPopover&&this._oPopover.getAggregation("_popup").getDomRef(s);};["addStyleClass","removeStyleClass","toggleStyleClass","hasStyleClass","getBusyIndicatorDelay","setBusyIndicatorDelay","getVisible","setVisible","getFieldGroupIds","setFieldGroupIds","getBusy","setBusy","setTooltip","getTooltip"].forEach(function(n){c.prototype[n]=function(){if(this._oPopover&&this._oPopover[n]){var r=this._oPopover.getAggregation("_popup")[n].apply(this._oPopover.getAggregation("_popup"),arguments);return r===this._oPopover.getAggregation("_popup")?this:r;}};});["setModel","bindAggregation","setAggregation","insertAggregation","addAggregation","removeAggregation","removeAllAggregation","destroyAggregation"].forEach(function(f){c.prototype["_"+f+"Old"]=c.prototype[f];c.prototype[f]=function(){var r=c.prototype["_"+f+"Old"].apply(this,arguments);this._bItemsChanged=true;if(this._oPopover){if(arguments[0]!="pages"){this._oPopover[f].apply(this._oPopover,arguments);}if(this._bRendered){this._oPopover.invalidate();}}if(["removeAggregation","removeAllAggregation"].indexOf(f)!==-1){return r;}return this;};});return c;},true);
sap.ui.predefine('sap/m/QuickViewBase',['jquery.sap.global','./library','sap/ui/core/Control','jquery.sap.dom'],function(q,l,C){"use strict";var Q=C.extend("sap.m.QuickViewBase",{metadata:{library:"sap.m",properties:{},defaultAggregation:"pages",aggregations:{pages:{type:"sap.m.QuickViewPage",multiple:true,singularName:"page",bindable:"bindable"}},events:{navigate:{allowPreventDefault:true,parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"},navOrigin:{type:"sap.ui.core.Control"}}},afterNavigate:{parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"},isTopPage:{type:"boolean"},navOrigin:{type:"sap.ui.core.Control"}}}}}});Q.prototype.navigateBack=function(){if(!this._oNavContainer.currentPageIsTopPage()){this._setNavOrigin(null);this._oNavContainer.back();}};Q.prototype.getNavContainer=function(){return this._oNavContainer;};Q.prototype._initPages=function(){var n=this._oNavContainer;n.destroyPages();n.init();var p=this.getAggregation("pages");if(!p){return;}var I=this.getId();for(var i=0;i<p.length;i++){var o=p[i];o._oPage=null;var N={hasBackButton:i>0,popover:this._oPopover,navContainer:n,quickViewId:I,quickView:this};o.setNavContext(N);var P=this._createPage(o);this._oNavContainer.addPage(P);}};Q.prototype._processKeyboard=function(e){if(e.shiftKey&&e.which===q.sap.KeyCodes.ENTER){this.navigateBack();e.preventDefault();}};Q.prototype._createPage=function(o){return o;};Q.prototype._navigate=function(e){var t=e.getParameter('to');var f=e.getParameter('from');var T=e.getParameter('toId');var F=e.getParameter('fromId');var i=q.sap.byId(F).index();var a=q.sap.byId(T).index();if(a==-1||a>i){t.addStyleClass('sapMNavItemOffset');}else{f.addStyleClass('sapMNavItemOffset');}f.$().parents('.sapMPanelContent').scrollTop(0);var p=e.getParameters();if(this._navOrigin){p.navOrigin=this._navOrigin;}this.fireNavigate(p);};Q.prototype._afterNavigate=function(e){var t=e.getParameter('to');var f=e.getParameter('from');var T=e.getParameter('toId');var F=e.getParameter('fromId');var i=q.sap.byId(F).index();var a=q.sap.byId(T).index();if(a>i){t.removeStyleClass('sapMNavItemOffset');}else{f.removeStyleClass('sapMNavItemOffset');}var p=e.getParameters();p.isTopPage=this._oNavContainer.currentPageIsTopPage();if(this._navOrigin){p.navOrigin=this._navOrigin;}this.fireAfterNavigate(p);this._setLinkWidth();q.sap.delayedCall(0,this,this._restoreFocus);};Q.prototype._restoreFocus=function(){var p=this._oNavContainer.getCurrentPage();var f=this._oNavContainer._mFocusObject[p.getId()];if(!f){var c=p.getContent();if(c&&c.length>1){f=c[1].$().firstFocusableDomRef();}}if(f){q.sap.focus(f);}};Q.prototype._setLinkWidth=function(){};Q.prototype._setNavOrigin=function(c){this._navOrigin=c;};return Q;},true);
sap.ui.predefine('sap/m/QuickViewCard',['jquery.sap.global','./library','sap/ui/core/Control','./QuickViewBase','./NavContainer','./Page','./ScrollContainer'],function(q,l,C,Q,N,P,S){"use strict";var a=Q.extend("sap.m.QuickViewCard",{metadata:{library:"sap.m",properties:{showVerticalScrollBar:{type:"boolean",group:"Behavior",defaultValue:true}}}});a.prototype.init=function(){var n={pages:[new P()],navigate:this._navigate.bind(this),afterNavigate:this._afterNavigate.bind(this)};this._oNavContainer=new N(n);};a.prototype.onBeforeRendering=function(){this._initPages();};a.prototype.onAfterRendering=function(){this._setLinkWidth();};a.prototype.exit=function(){if(this._oNavContainer){this._oNavContainer.destroy();}};a.prototype.onkeydown=function(e){this._processKeyboard(e);};a.prototype._createPage=function(o){var c=o._createPageContent();o._mPageContent=null;var b=new S(this.getId()+'-'+o.getPageId(),{horizontal:false,vertical:false});if(c.header){b.addContent(c.header);}b.addContent(c.form);b.addStyleClass('sapMQuickViewPage');return b;};a.prototype._setLinkWidth=function(){this.$().find(".sapMLnk").css("width","auto");};return a;},true);
sap.ui.predefine('sap/m/QuickViewGroupElement',['jquery.sap.global','./library','sap/ui/core/Element','./QuickViewGroupElementType','./Link','./Text','sap/ui/core/CustomData'],function(q,l,E,G,L,T,C){"use strict";var a=E.extend("sap.m.QuickViewGroupElement",{metadata:{library:"sap.m",properties:{visible:{type:"boolean",group:"Appearance",defaultValue:true},label:{type:"string",group:"Misc",defaultValue:""},value:{type:"string",group:"Misc",defaultValue:""},url:{type:"string",group:"Misc",defaultValue:""},target:{type:"string",group:"Misc",defaultValue:"_blank"},type:{type:"sap.m.QuickViewGroupElementType",group:"Misc",defaultValue:G.text},pageLinkId:{type:"string",group:"Misc",defaultValue:""},emailSubject:{type:"string",group:"Misc",defaultValue:""}}}});a.prototype._getGroupElementValue=function(Q){if(!this.getValue()){return null;}switch(this.getType()){case G.email:var h="mailto:"+this.getValue();var s=this.getEmailSubject();if(s){h+='?subject='+s;}return new L({href:h,text:this.getValue()});case G.phone:case G.mobile:return new L({href:"tel:"+this.getValue(),text:this.getValue()});case G.link:return new L({href:this.getUrl(),text:this.getValue(),target:this.getTarget()});case G.pageLink:var b=this.getPageLinkId();if(Q){b=Q+'-'+b;}return new L({href:"#",text:this.getValue(),customData:[new C({key:"pageNumber",value:b})]});default:return new T({text:this.getValue()});}};a.prototype.setProperty=function(){E.prototype.setProperty.apply(this,arguments);var g=this.getParent();if(!g){return;}var p=g.getParent();if(p){p._updatePage();}};return a;},true);
sap.ui.predefine('sap/m/QuickViewPage',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/layout/form/SimpleForm','sap/ui/layout/VerticalLayout','sap/ui/layout/HorizontalLayout','./Page','./Button','./ButtonType','./Bar','./Title','./Image','./Link','./Text','./QuickViewGroupElementType','./Label','./HBox','sap/ui/core/Icon','sap/ui/core/Title','sap/ui/core/TitleLevel','sap/ui/core/CustomData','sap/ui/layout/form/SimpleFormLayout'],function(q,l,C,I,S,V,H,P,B,a,b,T,c,L,d,Q,f,g,h,i,m,n,o){"use strict";var p=C.extend("sap.m.QuickViewPage",{metadata:{library:"sap.m",properties:{pageId:{type:"string",group:"Misc",defaultValue:""},header:{type:"string",group:"Misc",defaultValue:""},title:{type:"string",group:"Misc",defaultValue:""},titleUrl:{type:"string",group:"Misc",defaultValue:""},crossAppNavCallback:{type:"object",group:"Misc"},description:{type:"string",group:"Misc",defaultValue:""},icon:{type:"string",group:"Misc",defaultValue:""}},defaultAggregation:"groups",aggregations:{groups:{type:"sap.m.QuickViewGroup",multiple:true,singularName:"group",bindable:"bindable"}}}});p.prototype.init=function(){this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.m');var G=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService;if(G){this.oCrossAppNavigator=G("CrossApplicationNavigation");}};p.prototype.onBeforeRendering=function(){this._destroyPageContent();this._createPageContent();};p.prototype.getPageContent=function(){return this._mPageContent;};p.prototype.setNavContext=function(e){this._mNavContext=e;};p.prototype.getNavContext=function(){return this._mNavContext;};p.prototype.setPageTitleControl=function(t){this._oPageTitle=t;};p.prototype.getPageTitleControl=function(){return this._oPageTitle;};p.prototype._createPage=function(){var e=this._createPageContent();var N=this.getNavContext();var j;if(this._oPage){j=this._oPage;j.destroyContent();j.setCustomHeader(new b());}else{j=this._oPage=new P(N.quickViewId+'-'+this.getPageId(),{customHeader:new b()});j.addEventDelegate({onAfterRendering:this.onAfterRenderingPage},this);}if(e.header){j.addContent(e.header);}j.addContent(e.form);var k=j.getCustomHeader();k.addContentMiddle(new T({text:this.getHeader()}).addStyleClass("sapMQuickViewTitle"));if(N.hasBackButton){k.addContentLeft(new B({type:a.Back,tooltip:this._oResourceBundle.getText("PAGE_NAVBUTTON_TEXT"),press:function(){if(N.navContainer){N.quickView._setNavOrigin(null);N.navContainer.back();}}}));}if(N.popover&&sap.ui.Device.system.phone){k.addContentRight(new B({icon:I.getIconURI("decline"),press:function(){N.popover.close();}}));}j.addStyleClass('sapMQuickViewPage');return j;};p.prototype.onAfterRenderingPage=function(){if(this._bItemsChanged){var N=this.getNavContext();if(N){N.quickView._restoreFocus();}this._bItemsChanged=false;}};p.prototype._createPageContent=function(){var F=this._createForm();var e=this._getPageHeaderContent();var j=this.getPageTitleControl();if(e&&j){F.addAriaLabelledBy(j);}this._mPageContent={form:F,header:e};return this._mPageContent;};p.prototype._createForm=function(){var G=this.getAggregation("groups"),F=new S({maxContainerCols:1,editable:false,layout:o.ResponsiveGridLayout});if(G){for(var j=0;j<G.length;j++){if(G[j].getVisible()){this._renderGroup(G[j],F);}}}return F;};p.prototype._getPageHeaderContent=function(){var e,v=new V(),j=new H();var s=this.getIcon();var t=this.getTitle();var D=this.getDescription();if(!s&&!t&&!D){return null;}if(s){if(this.getIcon().indexOf("sap-icon")==0){e=new h({src:s,useIconTooltip:false,tooltip:t});}else{e=new c({src:s,decorative:false,tooltip:t}).addStyleClass("sapUiIcon");}e.addStyleClass("sapMQuickViewThumbnail");if(this.getTitleUrl()){e.attachPress(this._crossApplicationNavigation(this));}j.addContent(e);}var k;if(this.getTitleUrl()){k=new L({text:t,href:this.getTitleUrl(),target:"_blank"});}else if(this.getCrossAppNavCallback()){k=new L({text:t});k.attachPress(this._crossApplicationNavigation(this));}else{k=new T({text:t,level:m.H1});}this.setPageTitleControl(k);var r=new d({text:D});v.addContent(k);v.addContent(r);j.addContent(v);return j;};p.prototype._renderGroup=function(G,F){var e=G.getAggregation("elements");var j,r,s;if(G.getHeading()){F.addContent(new i({text:G.getHeading(),level:m.H2}));}if(!e){return;}var N=this.getNavContext();for(var k=0;k<e.length;k++){j=e[k];if(!j.getVisible()){continue;}s=new f({text:j.getLabel()});var t;if(N){t=N.quickViewId;}r=j._getGroupElementValue(t);F.addContent(s);if(!r){F.addContent(new sap.m.Text({text:""}));continue;}if(r instanceof L){r.addAriaLabelledBy(r);}s.setLabelFor(r.getId());if(j.getType()==Q.pageLink){r.attachPress(this._attachPressLink(this));}if(j.getType()==Q.mobile&&!sap.ui.Device.system.desktop){var u=new h({src:I.getIconURI("post"),tooltip:this._oResourceBundle.getText("QUICKVIEW_SEND_SMS"),decorative:false,customData:[new n({key:"phoneNumber",value:j.getValue()})],press:this._mobilePress});var v=new g({items:[r,u]});F.addContent(v);}else{F.addContent(r);}}};p.prototype._crossApplicationNavigation=function(t){return function(){if(t.getCrossAppNavCallback()&&t.oCrossAppNavigator){var e=t.getCrossAppNavCallback();if(typeof e=="function"){var j=e();var k=t.oCrossAppNavigator.hrefForExternal({target:{semanticObject:j.target.semanticObject,action:j.target.action},params:j.params});sap.m.URLHelper.redirect(k);}}else if(t.getTitleUrl()){window.open(t.getTitleUrl(),"_blank");}};};p.prototype._destroyPageContent=function(){if(!this._mPageContent){return;}if(this._mPageContent.form){this._mPageContent.form.destroy();}if(this._mPageContent.header){this._mPageContent.header.destroy();}this._mPageContent=null;};p.prototype.exit=function(){this._oResourceBundle=null;if(this._oPage){this._oPage.destroy();this._oPage=null;}else{this._destroyPageContent();}this._mNavContext=null;};p.prototype._attachPressLink=function(t){var N=t.getNavContext();return function(e){e.preventDefault();var s=this.getCustomData()[0].getValue();if(N.navContainer&&s){N.quickView._setNavOrigin(this);N.navContainer.to(s);}};};p.prototype._mobilePress=function(){var s="sms://"+q.sap.encodeURL(this.getCustomData()[0].getValue());window.location.replace(s);};p.prototype._updatePage=function(){var N=this.getNavContext();if(N&&N.quickView._bRendered){this._bItemsChanged=true;N.popover.focus();if(N.quickView.indexOfPage(this)==0){N.quickView._clearContainerHeight();}this._createPage();N.popover.$().css('display','block');N.quickView._restoreFocus();}};["setModel","bindAggregation","setAggregation","insertAggregation","addAggregation","removeAggregation","removeAllAggregation","destroyAggregation"].forEach(function(F){p.prototype["_"+F+"Old"]=p.prototype[F];p.prototype[F]=function(){var r=p.prototype["_"+F+"Old"].apply(this,arguments);this._updatePage();if(["removeAggregation","removeAllAggregation"].indexOf(F)!==-1){return r;}return this;};});p.prototype.setProperty=function(){C.prototype.setProperty.apply(this,arguments);this._updatePage();};return p;},true);
/*!
 * ${copyright}
 */
sap.ui.predefine('sap/ushell/components/factsheet/controls/PictureTile',['sap/m/CustomTile','sap/ushell/library'],function(C,l){"use strict";var P=C.extend("sap.ushell.components.factsheet.controls.PictureTile",{metadata:{deprecated:true,library:"sap.ushell",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'32px'},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'32px'}},associations:{tileContent:{type:"sap.ushell.components.factsheet.controls.PictureViewerItem",multiple:false}},events:{pictureDelete:{}}}});P.prototype.init=function(t){this._oDeletePictureButton=new sap.m.Button({icon:"sap-icon://sys-cancel",press:jQuery.proxy(this._deletePictureRequestHandler,this),type:sap.m.ButtonType.Transparent}).addStyleClass("sapCaUiPTDeleteButton");if(!sap.ui.Device.system.desktop){this.attachPress(this._tilePressedHandler);this.attachBrowserEvent("swipe",jQuery.proxy(this._tileSwipedHandler,this));this._oDeletePictureButton.addStyleClass("hide");}};P.prototype.setTileContent=function(t){this.setContent(null);if(t){var i=t.getImage();this.setContent(i);}else{this.setContent(null);}this.setAssociation("tileContent",t);};P.prototype.setSize=function(w,h){this._width=w;this._height=h;var $=this.$();if($){$.css({width:w+"px",height:h+"px"});jQuery.sap.byId(this.getId()+"-wrapper").addClass("sapCaUiPTWrapper");}};P.prototype._tilePressedHandler=function(e){this.switchVisibility();};P.prototype.switchVisibility=function(v){var $=this._oDeletePictureButton.$();if(v===undefined){$.toggleClass("hide");}else{$.toggleClass("hide",!v);}};P.prototype._tileSwipedHandler=function(e){var $=this._oDeletePictureButton.$();if($&&!$.hasClass("hide")){$.addClass("hide");}};P.prototype._deletePictureRequestHandler=function(){this.firePictureDelete();};return P;});
sap.ui.predefine('sap/ushell/components/factsheet/controls/PictureViewer',['sap/m/TileContainer','sap/ui/core/ResizeHandler','sap/ushell/library'],function(T,R,l){"use strict";var P=T.extend("sap.ushell.components.factsheet.controls.PictureViewer",{metadata:{deprecated:true,library:"sap.ushell",properties:{tileScaling:{type:"float",group:"Misc",defaultValue:0.95},removable:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"items",aggregations:{items:{type:"sap.ushell.components.factsheet.controls.PictureViewerItem",multiple:true,singularName:"item"}},events:{pictureDeleted:{}}}});P.prototype.init=function(){T.prototype.init.apply(this);this.setEditable(false);if(sap.ui.getCore().isMobile()){jQuery(window).bind("tap",jQuery.proxy(this._reset,this));var s=sap.ui.getCore().getStaticAreaRef();this.$blocker=jQuery("<div class='sapCaPVBly sapUiBLy'></div>").css("visibility","hidden");jQuery(s).append(this.$blocker);}if(!sap.ui.getCore().isMobile()){jQuery(window).bind("resize",jQuery.proxy(this._resize,this));}this.addStyleClass("sapCaPW");this.addStyleClass("sapCaPWRendering");};P.prototype._resize=function(){if(this._oDragSession){return;}setTimeout(jQuery.proxy(function(){this._applyDimension();this._update(false);delete this._iInitialResizeTimeout;},this),this._iInitialResizeTimeout);this._iInitialResizeTimeout=0;};P.prototype.exit=function(){this.$blocker.remove();if(!sap.ui.getCore().isMobile()){jQuery(window).unbind("resize",jQuery.proxy(this._resize,this));}T.prototype.exit.apply(this);if(!sap.ui.Device.system.desktop){jQuery(window).unbind("tap",jQuery.proxy(this._reset,this));}};P.prototype.setTileScaling=function(t){if(t<0||t>1){t=0.75;jQuery.sap.log.error("Tile Scaling should be a float value between 0 and 1 and not "+t+". Setting it to 0.75 by default.");}this.setProperty('tileScaling',t);};P.prototype.addItem=function(i){this.insertItem(i,this.getItems().length);};P.prototype.insertItem=function(i,I){var t=new sap.ushell.components.factsheet.controls.PictureTile({tileContent:i});t.attachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this));this.insertTile(t,I);this.insertAggregation("items",i,I);return this;};P.prototype.insertTile=function(t,i){t.attachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this));T.prototype.insertTile.apply(this,arguments);};P.prototype.deleteTile=function(t){T.prototype.deleteTile.apply(this,arguments);t.destroy();};P.prototype.deletePicture=function(i){var p,a,n;n=this.getTiles().length;if(typeof i!="number"||i<0||i>=n){p=this.getPageFirstTileIndex();}else{p=i;}if(p>-1){a=this.getTiles()[p];a.detachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this));this.deleteTile(a);this.removeAggregation("items",p,true);}else{jQuery.sap.log.warning("Cannot find and delete a picture at index : "+i);}return this;};P.prototype.selectPicture=function(i){var n=this.getTiles().length;if(typeof i!="number"){i=0;}else if(i<0){i=0;}else if(i>=n){i=n-1;}if(this._bRendered){this.addStyleClass("sapCaPWRendering");}this._selectedIndex=i;return this;};P.prototype.setSelectedIndex=function(i){this.selectPicture(i);};P.prototype.getCurrentPictureIndex=function(){return this.getPageFirstTileIndex();};P.prototype._deletePictureRequestHandler=function(e){var p=this.indexOfTile(e.getSource());this.deleteTile(e.getSource());this.firePictureDeleted({index:p});};P.prototype._reset=function(e){var i=this.getCurrentPictureIndex();var t=this.getTiles();if(i>-1&&t&&t.length>i){var o=t[i];if(o){var $=jQuery(e.target);var a=this.$();if(a.length>0&&$.length>0){var b=$.closest(this.$());if(b.length===0){o.switchVisibility(false);}}}}};P.prototype.setRemovable=function(v){this.setProperty("removable",v,true);this.toggleStyleClass("sapCaPWEditable",v);};P.prototype.setEditable=function(v){T.prototype.setEditable.call(this,false);};P.prototype._getTileDimension=function(){if(!this._bRendered){return;}var $=jQuery.sap.byId(this.getId()+"-scrl");var t={width:$.width(),height:$.height()};return t;};P.prototype.onBeforeRendering=function(){this.addStyleClass("sapCaPWRendering");};P.prototype.onAfterRendering=function(){var t=this;this._bRendered=true;this._applyDimension();this.$().toggleClass("sapCaPWEditable",this.getRemovable()===true);this._sInitialResizeTimeoutId=setTimeout(function(){t.addStyleClass("sapCaPWRendering");t._applyPageStartIndex(t._selectedIndex);t._update(false);},this._iInitialResizeTimeout);if(sap.ui.Device.system.desktop){var f=this.getTiles()[0],i=this._iInitialResizeTimeout;if(!!f){setTimeout(jQuery.proxy(function(){this._findTile(f.$()).focus();},this),i);}}};P.prototype._update=function(a){T.prototype._update.apply(this,arguments);this.removeStyleClass("sapCaPWRendering");if(sap.ui.getCore().isMobile()){var t=this;var b=this.$blocker;setTimeout(jQuery.proxy(function(){b.fadeOut(200,function(){t.css("visibility","hidden").css("z-index",0);});},this),250);}};P.prototype._applyDimension=function(){var d=this._getContainerDimension(),i=this.getId(),$=this.$(),t,o=10,a=60,c=jQuery.sap.byId(i+"-cnt"),b,e,p=jQuery.sap.byId(i+"-pager").outerHeight();jQuery.sap.byId(i+"-scrl").css({width:d.outerwidth+"px",height:(d.outerheight-p)+"px"});c.css({height:(d.outerheight-p)+"px",visibility:"visible"});$.css("visibility","visible");t=$.position();b=c.position();e=c.outerHeight();if(jQuery.device.is.phone){o=2;}else if(sap.ui.Device.system.desktop){o=0;}jQuery.sap.byId(i+"-blind").css({top:(b.top+o)+"px",left:(b.left+o)+"px",width:(c.outerWidth()-o)+"px",height:(e-o)+"px"});jQuery.sap.byId(i+"-rightedge").css({top:(t.top+o+a)+"px",right:o+"px",height:(e-o-a)+"px"});jQuery.sap.byId(i+"-leftedge").css({top:(t.top+o+a)+"px",left:(t.left+o)+"px",height:(e-o-a)+"px"});};P.prototype.showBlockerLayer=function(c){if(sap.ui.getCore().isMobile()){var a=20;jQuery(sap.ui.getCore().getStaticAreaRef()).children().each(function(i,v){var z=parseInt(jQuery(v).css("z-index"),10);if(!isNaN(z)){a=Math.max(a,z);}});jQuery.sap.log.debug("blocker layer z-index calculated : "+a+1);this.$blocker.css("z-index",a+1).css("visibility","visible").fadeIn(200,function(){if(c){c.call();}});}else{if(c){c.call();}}};return P;});
sap.ui.predefine('sap/ushell/ui/appfinder/AppBox',['sap/ui/core/Control','sap/ushell/library'],function(C,l){"use strict";var A=C.extend("sap.ushell.ui.appfinder.AppBox",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"string",group:"Misc",defaultValue:null},url:{type:"string",group:"Misc",defaultValue:null}},aggregations:{pinButton:{type:"sap.m.Button",multiple:false}},events:{press:{},afterRendering:{}}}});A.prototype.init=function(){};A.prototype.onAfterRendering=function(){this._adjustHeaderElementsHeight();this.fireAfterRendering();};A.prototype.setTitle=function(t){this.setProperty("title",t,true);};A.prototype.setUrl=function(i){this.setProperty("url",i,true);};A.prototype.onclick=function(e){this.firePress(e);};A.prototype.onsapspace=function(e){e.preventDefault();this.firePress(e);};A.prototype._adjustHeaderElementsHeight=function(){var j=this.$().find(".sapUshellAppBoxTitle");var t=this._getNumberOfLines(j);var a=this.$().find(".sapUshellAppBoxSubtitle");if(t===2){j.addClass('sapUshellAppBoxHeaderElementTwoLines');a.addClass('sapUshellAppBoxHeaderElementOneLine');}else{j.addClass('sapUshellAppBoxHeaderElementOneLine');a.addClass('sapUshellAppBoxHeaderElementTwoLines');}};A.prototype._getNumberOfLines=function(j){var a=parseInt(j.css("line-height"),10);var h=j.height();if(!h){return 0;}return((h/a)>1)?2:1;};A.prototype.onsapenter=A.prototype.onsapspace;return A;});
sap.ui.predefine('sap/ushell/ui/footerbar/AboutButton',['sap/m/Button','sap/m/Dialog','sap/m/ObjectHeader','sap/m/VBox','sap/ui/layout/form/SimpleForm','sap/ushell/library','sap/ushell/resources','sap/ushell/ui/launchpad/ActionItem','sap/ushell/services/AppConfiguration','sap/m/Label','sap/m/Text'],function(B,D,O,V,S,l,r,A,a,L,T){"use strict";var b=A.extend("sap.ushell.ui.footerbar.AboutButton",{metadata:{library:"sap.ushell"}});b.prototype.init=function(){if(A.prototype.init){A.prototype.init.apply(this,arguments);}this.setIcon('sap-icon://hint');this.setText(r.i18n.getText("about"));this.setTooltip(r.i18n.getText("about"));this.attachPress(this.showAboutDialog);};b.prototype.showAboutDialog=function(){var t=r.i18n,m=a.getMetadata(),s=new S({id:'aboutDialogFormID',editable:false,content:[new L({text:t.getText("technicalName")}),new T({text:m.libraryName||''}),new L({text:t.getText("fioriVersionFld")}),new T({text:m.version||''}),new L({text:t.getText("sapui5Fld")}),new T({text:(sap.ui.version||"")+(' ('+(sap.ui.buildinfo.buildtime||"")+')')||''}),new L({text:t.getText("userAgentFld")}),new T({text:navigator.userAgent||''}),new L({text:''})]}),h=new O({title:m.title,icon:m.icon}).addStyleClass('sapUshellAboutDialogHeader'),d,v,o=new B({text:t.getText("okBtn"),press:function(){d.close();}});if(jQuery.isEmptyObject(m)||!m.icon){v=new V({items:[s]});}else{v=new V({items:[h,s]});}d=new D({id:"aboutContainerDialogID",title:t.getText("about"),contentWidth:"25rem",horizontalScrolling:false,leftButton:o,afterClose:function(){d.destroy();}});d.addContent(v);d.open();};return b;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/AddBookmarkButton',['sap/m/Button','sap/m/Dialog','sap/m/Input','sap/m/Label','sap/ui/layout/form/SimpleForm','sap/ushell/library','sap/ushell/resources'],function(B,D,I,L,S,l,r){"use strict";var A=B.extend("sap.ushell.ui.footerbar.AddBookmarkButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},info:{type:"string",group:"Misc",defaultValue:null},tileIcon:{type:"string",group:"Misc",defaultValue:null},numberUnit:{type:"string",group:"Misc",defaultValue:null},keywords:{type:"string",group:"Misc",defaultValue:null},customUrl:{type:"any",group:"Misc",defaultValue:null},serviceUrl:{type:"any",group:"Misc",defaultValue:null},serviceRefreshInterval:{type:"string",group:"Misc",defaultValue:null},showGroupSelection:{type:"boolean",group:"Misc",defaultValue:true},appData:{type:"object",group:"Misc",defaultValue:null}}}});A.prototype.init=function(){this.setIcon('sap-icon://add-favorite');this.setText(r.i18n.getText("addToHomePageBtn"));this.setEnabled();this.oModel=new sap.ui.model.json.JSONModel({showGroupSelection:true,title:'',subtitle:'',numberValue:'',info:'',icon:'',numberUnit:'',keywords:''});var t=this;this.attachPress(function(){if(t.getBeforePressHandler()){t.getBeforePressHandler()();}t.showAddBookmarkDialog(function(){if(t.getAfterPressHandler()){t.getAfterPressHandler()();}});});if(B.prototype.init){B.prototype.init.apply(this,arguments);}};A.prototype.exit=function(){if(this.oDialog){this.oDialog.destroy();}if(this.oModel){this.oModel.destroy();}if(B.prototype.exit){B.prototype.exit.apply(this,arguments);}};A.prototype.setBookmarkTileView=function(v){this.bookmarkTileView=v;};A.prototype.getBookmarkTileView=function(){return this.bookmarkTileView;};A.prototype.showAddBookmarkDialog=function(c){this.oResourceBundle=r.i18n;this.appData=this.getAppData()||{};var t=this,i,b;this.cb=c;i=jQuery.isEmptyObject(this.appData);b=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.ui.footerbar.SaveAsTile",viewData:{appData:this.appData,serviceUrl:i?this.getServiceUrl():this.appData.serviceUrl,customUrl:i?this.getCustomUrl():this.appData.customUrl,numberUnit:i?this.getNumberUnit():this.appData.numberUnit,serviceRefreshInterval:i?this.getServiceRefreshInterval():this.appData.serviceRefreshInterval,keywords:i?this.getKeywords():this.appData.keywords}});if(jQuery.isEmptyObject(this.appData)){b.setModel(this.oModel);}t.setBookmarkTileView(b);this.oSimpleForm=new S({id:'bookmarkFormId',layout:sap.ui.layout.form.SimpleFormLayout.GridLayout,content:[b]}).addStyleClass("sapUshellAddBookmarkForm");t._openDialog(this.oSimpleForm);b.getTitleInput().attachLiveChange(function(){this.setValueState(sap.ui.core.ValueState.NONE);});};A.prototype._openDialog=function(c){var o=new B('bookmarkOkBtn',{text:this.oResourceBundle.getText('okBtn'),press:this._handleOkButtonPress.bind(this)}),a=new B('bookmarkCancelBtn',{text:this.oResourceBundle.getText('cancelBtn'),press:function(){this.oDialog.close();this.cb();}.bind(this)});this.oDialog=new D({id:'bookmarkDialog',title:this.oResourceBundle.getText('addToHomePageBtn'),contentWidth:'25rem',content:c,beginButton:o,endButton:a,stretch:sap.ui.Device.system.phone,horizontalScrolling:false,afterClose:function(){this.oDialog.destroy();delete(this.oDialog);}.bind(this)});this.oDialog.open();return this.oDialog;};A.prototype.setTitle=function(t){this.setProperty("title",t,true);this.oModel.setProperty("/title",t);};A.prototype.setSubtitle=function(s){this.setProperty("subtitle",s,true);this.oModel.setProperty("/subtitle",s);};A.prototype.setInfo=function(i){this.setProperty("info",i,true);this.oModel.setProperty("/info",i);};A.prototype.setTileIcon=function(i){this.setProperty("tileIcon",i,true);this.oModel.setProperty("/icon",i);};A.prototype.setShowGroupSelection=function(s){this.setProperty("showGroupSelection",s,true);this.oModel.setProperty("/showGroupSelection",s);};A.prototype.setNumberUnit=function(n){this.setProperty("numberUnit",n,true);this.oModel.setProperty("/numberUnit",n);};A.prototype.setKeywords=function(k){this.setProperty("keywords",k,true);this.oModel.setProperty("/keywords",k);};A.prototype._restoreDialogEditableValuesToDefault=function(){if(this.oModel){this.oModel.setProperty('/title',this.getTitle());this.oModel.setProperty('/subtitle',this.getSubtitle());this.oModel.setProperty('/info',this.getInfo());}};A.prototype._handleOkButtonPress=function(){var t,R,o,b=this.getBookmarkTileView(),d=b.getBookmarkTileData(),a=d.group?d.group.object:"";if(!d.title){t=sap.ui.getCore().byId("bookmarkTitleInput");if(t){t.setValueState(sap.ui.core.ValueState.Error);t.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));return;}}delete d.group;R=sap.ushell.Container.getService("Bookmark").addBookmark(d,a);o=r.i18n;R.done(function(){jQuery.proxy(this._restoreDialogEditableValuesToDefault(),this);if(sap.ushell.Container){sap.ushell.Container.getService('Message').info(o.getText('tile_created_msg'));}}.bind(this));R.fail(function(m){jQuery.sap.log.error("Failed to add bookmark",m,"sap.ushell.ui.footerbar.AddBookmarkButton");if(sap.ushell.Container){sap.ushell.Container.getService('Message').error(o.getText('fail_to_add_tile_msg'));}});this.oDialog.close();this.cb();};A.prototype.setEnabled=function(e){var s="",p=true,o;if(sap.ushell.renderers&&sap.ushell.renderers.fiori2){o=sap.ushell.renderers.fiori2.RendererExtensions.getConfiguration();if(o.appState){s=o.appState;}if(o.enablePersonalization!==undefined){p=o.enablePersonalization;}}if(s==='headerless'||s==='standalone'||s==='embedded'||s==='merged'||!p){e=false;}if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning("Disabling 'Save as Tile' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.AddBookmarkButton");}e=false;}B.prototype.setEnabled.call(this,e);if(!e){this.addStyleClass("sapUshellAddBookmarkButton");}};return A;});
sap.ui.predefine('sap/ushell/ui/footerbar/ContactSupportButton',['sap/ushell/library','sap/ushell/resources','sap/ushell/ui/launchpad/AccessibilityCustomData','sap/ushell/ui/launchpad/ActionItem'],function(l,r,A,a){"use strict";var C=a.extend("sap.ushell.ui.footerbar.ContactSupportButton",{metadata:{library:"sap.ushell"}});C.prototype.init=function(){if(a.prototype.init){a.prototype.init.apply(this,arguments);}this.setIcon('sap-icon://email');this.setText(r.i18n.getText("contactSupportBtn"));this.attachPress(this.showContactSupportDialog);this.setEnabled();};C.prototype.showContactSupportDialog=function(){sap.ui.require(['sap/ushell/services/Container','sap/ui/layout/form/SimpleForm','sap/ui/layout/form/SimpleFormLayout','sap/m/TextArea','sap/m/Link','sap/m/Label','sap/m/Text','sap/m/Dialog','sap/m/Button','sap/ushell/UserActivityLog'],function(b,S,c,T,L,d,e,D,B,U){var f="",u="",g="",h=[],o,i;i=function(){this.oDialog.removeContent(this.oBottomSimpleForm.getId());this.oBottomSimpleForm.destroy();if(this.oClientContext.navigationData.applicationInformation){f=this.oClientContext.navigationData.applicationInformation.applicationType;u=this.oClientContext.navigationData.applicationInformation.url;g=this.oClientContext.navigationData.applicationInformation.additionalInformation;}h.push(new e({text:this.translationBundle.getText("loginDetails")}).addStyleClass('sapUshellContactSupportHeaderInfoText'));h.push(new d({text:this.translationBundle.getText("userFld")}));h.push(new e({text:this.oClientContext.userDetails.fullName||''}));h.push(new d({text:this.translationBundle.getText("serverFld")}));h.push(new e({text:window.location.host}));if(this.oClientContext.userDetails.eMail&&this.oClientContext.userDetails.eMail!==''){h.push(new d({text:this.translationBundle.getText("eMailFld")}));h.push(new e({text:this.oClientContext.userDetails.eMail||''}));}h.push(new d({text:this.translationBundle.getText("languageFld")}));h.push(new e({text:this.oClientContext.userDetails.Language||''}));if(this.oClientContext.shellState==="app"||this.oClientContext.shellState==="standalone"){h.push(new e({text:''}));h.push(new e({text:this.translationBundle.getText("navigationDataFld")}).addStyleClass('sapUshellContactSupportHeaderInfoText'));h.push(new d({text:this.translationBundle.getText("hashFld")}));h.push(new e({text:this.oClientContext.navigationData.navigationHash||''}));h.push(new e({text:''}));h.push(new e({text:this.translationBundle.getText("applicationInformationFld")}).addStyleClass('sapUshellContactSupportHeaderInfoText'));h.push(new d({text:this.translationBundle.getText("applicationTypeFld")}));h.push(new e({text:f}));h.push(new d({text:this.translationBundle.getText("urlFld")}));h.push(new e({text:u}));h.push(new d({text:this.translationBundle.getText("additionalInfoFld")}));h.push(new e({text:g}));}this.oBottomSimpleForm=new sap.ui.layout.form.SimpleForm('technicalInfoBox',{layout:sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout,content:h}).addStyleClass("sapUshellTechnicalInfoBox");if(sap.ui.Device.os.ios&&sap.ui.Device.system.phone){this.oBottomSimpleForm.addStyleClass("sapUshellContactSupportFixWidth");}o=this.oBottomSimpleForm.onAfterRendering;this.oBottomSimpleForm.onAfterRendering=function(){o.apply(this,arguments);var n=jQuery(this.getDomRef());n.attr("tabIndex",0);jQuery.sap.delayedCall(700,n,function(){this.focus();});};this.oDialog.addContent(this.oBottomSimpleForm);}.bind(this);this._embedLoginDetailsInBottomForm=i;this.translationBundle=r.i18n;this.oClientContext=U.getMessageInfo();this.oLink=new L({text:this.translationBundle.getText("technicalDataLink")});this.oBottomSimpleForm=new S("bottomForm",{editable:false,content:[this.oLink]});this.sendButton=new B("contactSupportSendBtn",{text:this.translationBundle.getText("sendBtn"),enabled:false,press:function(){var s=sap.ushell.Container.getService("SupportTicket"),t=this.oTextArea.getValue(),j={text:t,clientContext:this.oClientContext},p=s.createTicket(j);p.done(function(){sap.ushell.Container.getService("Message").info(this.translationBundle.getText("supportTicketCreationSuccess"));}.bind(this));p.fail(function(){sap.ushell.Container.getService("Message").error(this.translationBundle.getText("supportTicketCreationFailed"));}.bind(this));this.oDialog.close();}.bind(this)});this.cancelButton=new B("contactSupportCancelBtn",{text:this.translationBundle.getText("cancelBtn"),press:function(){this.oDialog.close();}.bind(this)});this.oTextArea=new T("textArea",{rows:7,liveChange:function(){if(/\S/.test(this.oTextArea.getValue())){this.sendButton.setEnabled(true);}else{this.sendButton.setEnabled(false);this.oTextArea.setValue("");}}.bind(this)});this.oTopSimpleForm=new S("topForm",{editable:false,content:[this.oTextArea],layout:c.ResponsiveGridLayout});this.oDialog=new D({id:"ContactSupportDialog",title:this.translationBundle.getText("contactSupportBtn"),contentWidth:"29.6rem",leftButton:this.sendButton,rightButton:this.cancelButton,initialFocus:"textArea",afterOpen:function(){jQuery("#textArea").on("focusout",function(){window.scrollTo(0,0);});},afterClose:function(){this.oDialog.destroy();}.bind(this)}).addStyleClass("sapUshellContactSupportDialog");this.oTextArea.setPlaceholder(this.translationBundle.getText("txtAreaPlaceHolderHeader"));this.oLink.attachPress(i.bind(this));this.oDialog.addCustomData(new A({key:"aria-label",value:this.translationBundle.getText("ContactSupportArialLabel"),writeToDom:true}));this.oDialog.addContent(this.oTopSimpleForm);this.oDialog.addContent(this.oBottomSimpleForm);this.oDialog.open();}.bind(this));};C.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning("Disabling 'Contact Support' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.ContactSupportButton");}e=false;}a.prototype.setEnabled.call(this,e);};return C;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/EndUserFeedback',['sap/ushell/library','sap/ushell/resources','sap/ushell/ui/launchpad/AccessibilityCustomData','sap/ushell/ui/launchpad/ActionItem','sap/ushell/services/AppConfiguration','sap/ushell/services/Container'],function(l,r,A,a,b,C){"use strict";var E=a.extend("sap.ushell.ui.footerbar.EndUserFeedback",{metadata:{library:"sap.ushell",properties:{showAnonymous:{type:"boolean",group:"Misc",defaultValue:true},anonymousByDefault:{type:"boolean",group:"Misc",defaultValue:true},showLegalAgreement:{type:"boolean",group:"Misc",defaultValue:true},showCustomUIContent:{type:"boolean",group:"Misc",defaultValue:true},feedbackDialogTitle:{type:"string",group:"Misc",defaultValue:null},textAreaPlaceholder:{type:"string",group:"Misc",defaultValue:null}},aggregations:{customUIContent:{type:"sap.ui.core.Control",multiple:true,singularName:"customUIContent"}}}});E.prototype.init=function(){if(a.prototype.init){a.prototype.init.apply(this,arguments);}var u=sap.ushell.Container.getUser(),f=sap.ushell.utils.getFormFactor();this.oUserDetails={userId:u.getId(),eMail:u.getEmail()};this.translationBundle=r.i18n;this.oEndUserFeedbackService=sap.ushell.Container.getService("EndUserFeedback");this.appConfiguration=b;this.oEndUserFeedbackModel=new sap.ui.model.json.JSONModel();this.oEndUserFeedbackModel.setData({feedbackViewTitle:this.translationBundle.getText("userFeedback_title"),legalAgreementViewTitle:this.translationBundle.getText("userFeedbackLegal_title"),textAreaPlaceholderText:this.translationBundle.getText("feedbackPlaceHolderHeader"),presentationStates:{showAnonymous:this.getShowAnonymous(),showLegalAgreement:this.getShowLegalAgreement(),showCustomUIContent:this.getShowCustomUIContent()},clientContext:{userDetails:jQuery.extend(true,{},this.oUserDetails),navigationData:{formFactor:f,applicationInformation:{},navigationHash:null}},isAnonymous:this.getAnonymousByDefault(),applicationIconPath:'',leftButton:{feedbackView:this.translationBundle.getText("sendBtn"),legalAgreementView:this.translationBundle.getText("approveBtn")},rightButton:{feedbackView:this.translationBundle.getText("cancelBtn"),legalAgreementView:this.translationBundle.getText("declineBtn")},states:{isLegalAgreementChecked:false,isRatingSelected:false,isInFeedbackView:true},technicalLink:{state:0,title:[this.translationBundle.getText("technicalDataLink"),this.translationBundle.getText("technicalDataLinkHide")]},textArea:{inputText:''},contextText:'',ratingButtons:[{text:r.i18n.getText("ratingExcellentText"),color:'sapUshellRatingLabelFeedbackPositiveText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-very-happy',id:'rateBtn1',index:1},{text:r.i18n.getText("ratingGoodText"),color:'sapUshellRatingLabelFeedbackPositiveText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-happy',id:'rateBtn2',index:2},{text:r.i18n.getText("ratingAverageText"),color:'sapUshellRatingLabelFeedbackNeutralText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-neutral',id:'rateBtn3',index:3},{text:r.i18n.getText("ratingPoorText"),color:'sapUshellRatingLabelFeedbackCriticalText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-bad',id:'rateBtn4',index:4},{text:r.i18n.getText("ratingVeyPoorText"),color:'sapUshellRatingLabelFeedbackNegativeText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-very-bad',id:'rateBtn5',index:5}],selectedRating:{text:'',color:'',index:0}});this.setIcon('sap-icon://marketing-campaign');this.setText(r.i18n.getText("endUserFeedbackBtn"));this.attachPress(this.ShowEndUserFeedbackDialog);this.setEnabled();};E.prototype.ShowEndUserFeedbackDialog=function(){sap.ui.require(['sap/ui/layout/form/SimpleForm','sap/ui/layout/form/SimpleFormLayout','sap/ui/layout/HorizontalLayout','sap/ui/layout/VerticalLayout','sap/m/TextArea','sap/m/Link','sap/m/Label','sap/m/Text','sap/m/Dialog','sap/m/Button','sap/m/Image','sap/m/Bar','sap/m/SegmentedButton','sap/m/CheckBox'],function(S,c,H,V,T,L,d,e,D,B,I,f,g,h){var i,j,s,k,u,m,n,o;i=function(){var F=[],q=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/formFactor'),U=this.oEndUserFeedbackModel.getProperty('/clientContext/userDetails/userId'),t=this.oEndUserFeedbackModel.getProperty('/clientContext/userDetails/eMail'),v=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/applicationInformation/url'),w=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/applicationInformation/applicationType'),x=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/applicationInformation/additionalInformation'),N=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/navigationHash'),y=this.getModel().getProperty("/currentState/stateName"),z=(y==="home"||y==="catalog")?false:true;F.push(new e({text:this.translationBundle.getText("loginDetails")}).addStyleClass('sapUshellContactSupportHeaderInfoText'));F.push(U?new d({text:this.translationBundle.getText("userFld")}):null);F.push(U?new e('technicalInfoUserIdTxt',{text:'{/clientContext/userDetails/userId}'}):null);F.push(t?new d({text:this.translationBundle.getText("eMailFld")}):null);F.push(t?new e({text:'{/clientContext/userDetails/eMail}'}):null);F.push(q?new d({text:this.translationBundle.getText('formFactorFld')}):null);F.push(q?new e({text:'{/clientContext/navigationData/formFactor}'}):null);F.push(new e({text:''}));F.push(new e({text:this.translationBundle.getText(this.currentApp?'applicationInformationFld':'feedbackHeaderText')}).addStyleClass('sapUshellEndUserFeedbackHeaderInfoText').addStyleClass("sapUshellEndUserFeedbackInfoTextSpacing"));F.push(v&&z?new d({text:this.translationBundle.getText("urlFld")}):null);F.push(v&&z?new e({text:'{/clientContext/navigationData/applicationInformation/url}'}):null);F.push(w?new d({text:this.translationBundle.getText("applicationTypeFld")}):null);F.push(w?new e({text:'{/clientContext/navigationData/applicationInformation/applicationType}'}):null);F.push(x?new d({text:this.translationBundle.getText("additionalInfoFld")}):null);F.push(x?new e({text:'{/clientContext/navigationData/applicationInformation/additionalInformation}'}):null);F.push(N&&z?new d({text:this.translationBundle.getText("hashFld")}):null);F.push(N&&z?new e({text:'{/clientContext/navigationData/navigationHash}'}):null);return F.filter(Boolean);}.bind(this);j=function(){this.oTechnicalInfoBox=new S('feedbackTechnicalInfoBox',{layout:c.ResponsiveLayout,content:i()});if(sap.ui.Device.os.ios&&sap.ui.Device.system.phone){this.oTechnicalInfoBox.addStyleClass("sapUshellContactSupportFixWidth");}var q=this.oTechnicalInfoBox.onAfterRendering;this.oTechnicalInfoBox.onAfterRendering=function(){q.apply(this,arguments);var t=jQuery(this.getDomRef());t.attr("tabIndex",0);jQuery.sap.delayedCall(700,t,function(){this.focus();});};return new H('technicalInfoBoxLayout',{visible:{path:'/technicalLink/state',formatter:function(t){return t===1;}},content:[this.oTechnicalInfoBox]});}.bind(this);u=function(){this.oTechnicalInfoBox.destroyContent();this.oTechnicalInfoBox.removeAllContent();var t=i(),q;for(q in t){this.oTechnicalInfoBox.addContent(t[q]);}this.oRatingButtons.setSelectedButton('noDefalut');}.bind(this);m=jQuery.sap.getModulePath("sap.ushell");n=m+'/themes/base/img/launchpadDefaultIcon.jpg';o=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/formFactor')==='desktop';this.updateModelContext();if(this.oDialog){u();this.oDialog.open();return;}this.oLegalAgreementInfoLayout=null;this.oBackButton=new B('endUserFeedbackBackBtn',{visible:{path:"/states/isInFeedbackView",formatter:function(q){return!q;}},icon:sap.ui.core.IconPool.getIconURI("nav-back"),press:function(){this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',true);}.bind(this),tooltip:r.i18n.getText("feedbackGoBackBtn_tooltip")});this.oPopoverTitle=new e("PopoverTitle",{text:{parts:[{path:'/states/isInFeedbackView'},{path:'/feedbackViewTitle'}],formatter:function(q){return this.oEndUserFeedbackModel.getProperty(q?"/feedbackViewTitle":"/legalAgreementViewTitle");}.bind(this)}});this.oHeadBar=new f({contentLeft:[this.oBackButton],contentMiddle:[this.oPopoverTitle]});this.oLogoImg=new I('sapFeedbackLogo',{src:n,width:'4.5rem',height:'4.5rem',visible:{path:'/applicationIconPath',formatter:function(q){return!q;}}});this.oAppIcon=new sap.ui.core.Icon('sapFeedbackAppIcon',{src:'{/applicationIconPath}',width:'4.5rem',height:'4.5rem',visible:{path:'/applicationIconPath',formatter:function(q){return!!q;}}}).addStyleClass("sapUshellFeedbackAppIcon");this.oContextName=new e('contextName',{text:'{/contextText}'});this.oContextLayout=new H('contextLayout',{content:[this.oLogoImg,this.oAppIcon,this.oContextName]});this.oRatingLabel=new d('ratingLabel',{required:true,text:r.i18n.getText("ratingLabelText")});this.oRatingSelectionText=new e('ratingSelectionText',{text:{path:'/selectedRating',formatter:function(q){if(this.lastSelectedColor){this.removeStyleClass(this.lastSelectedColor);}if(q.color){this.addStyleClass(q.color);}this.lastSelectedColor=q.color;return q.text;}}});this.oRatingButtonTemplate=new B({icon:'{iconSymbol}',height:'100%',width:'20%',tooltip:'{text}'});this.oRatingButtonTemplate.addCustomData(new A({key:"aria-label",value:'{text}',writeToDom:true}));this.oRatingButtons=new g('ratingButtons',{selectedButton:'noDefalut',buttons:{path:"/ratingButtons",template:this.oRatingButtonTemplate},select:function(q){var t=q.mParameters.id,P=sap.ui.getCore().byId(t).getBindingContext().getPath(),v=this.oEndUserFeedbackModel.getProperty(P);this.oEndUserFeedbackModel.setProperty('/selectedRating',{text:v.text,color:v.color,index:v.index});this.oEndUserFeedbackModel.setProperty('/states/isRatingSelected',true);}.bind(this)});this.oRatingButtons.addAriaLabelledBy("ratingLabel");this.oRatingButtons.addCustomData(new A({key:"aria-required",value:'true',writeToDom:true}));if(o){this.oRatingIndicationLayout=new H('ratingIndicationLayout',{content:[this.oRatingLabel,this.oRatingSelectionText]});}else{this.oRatingIndicationLayout=new V('ratingIndicationLayoutMob',{content:[this.oRatingLabel,this.oRatingSelectionText]});}this.oRatingLayout=new V('ratingLayout',{width:"100%",content:[this.oRatingIndicationLayout,this.oRatingButtons]});this.oAnonymousCheckbox=new h('anonymousCheckbox',{name:'anonymousCheckbox',visible:'{/presentationStates/showAnonymous}',text:r.i18n.getText("feedbackSendAnonymousText"),selected:!this.oEndUserFeedbackModel.getProperty("/isAnonymous"),select:function(q){var t=q.getParameter("selected");this._handleAnonymousSelection(!t);}.bind(this)});var p=(!this.oEndUserFeedbackModel.getProperty("/presentationStates/showAnonymous")||this.oEndUserFeedbackModel.getProperty("/isAnonymous"));this._handleAnonymousSelection(p);this.oLegalAgrementCheckbox=new h('legalAgreement',{name:'legalAgreement',visible:'{/presentationStates/showLegalAgreement}',selected:'{/states/isLegalAgreementChecked}',text:this.translationBundle.getText("agreementAcceptanceText")});this.oLegalAgreeementLink=new L('legalAgreementLink',{text:this.translationBundle.getText("legalAgreementLinkText"),visible:'{/presentationStates/showLegalAgreement}',press:function(){var P=this.oEndUserFeedbackService.getLegalText();P.done(s.bind(this));}.bind(this)});this.aCustomUIContent=jQuery.extend([],this.getCustomUIContent());this.oCustomUILayout=new V('customUILayout',{visible:{path:'/presentationStates/showCustomUIContent',formatter:function(q){return(q&&this.aCustomUIContent.length)?true:false;}.bind(this)},content:this.getCustomUIContent(),width:"100%"});this.oLegalLayout=new V('legalLayout',{content:[this.oAnonymousCheckbox,this.oLegalAgrementCheckbox,this.oLegalAgreeementLink]});this.oTechnicalDataLink=new L('technicalDataLink',{text:{path:'/technicalLink/state',formatter:function(q){return this.getModel().getProperty('/technicalLink/title/'+q);}},press:function(){var _=this.oEndUserFeedbackModel.getProperty("/technicalLink/state");this.oEndUserFeedbackModel.setProperty('/technicalLink/state',Math.abs(_-1));this.oDialog.rerender();}.bind(this)});this.oTechnicalDataLayout=new H('technicalDataLayout',{content:[this.oTechnicalDataLink]});this.leftButton=new B("EndUserFeedbackLeftBtn",{text:{path:"/states/isInFeedbackView",formatter:function(q){return this.getModel().getProperty('/leftButton/'+(q?'feedbackView':'legalAgreementView'));}},enabled:{parts:[{path:'/states/isInFeedbackView'},{path:'/states/isLegalAgreementChecked'},{path:'/states/isRatingSelected'},{path:'/presentationStates/showLegalAgreement'}],formatter:function(q,t,v,w){return!q||(v&&(t||!w));}},press:function(){var q=this.oEndUserFeedbackModel.getProperty("/states/isInFeedbackView");if(q){var F={feedbackText:this.oEndUserFeedbackModel.getProperty('/textArea/inputText'),ratings:[{questionId:"Q10",value:this.oEndUserFeedbackModel.getProperty('/selectedRating/index')}],clientContext:this.oEndUserFeedbackModel.getProperty('/clientContext'),isAnonymous:this.oEndUserFeedbackModel.getProperty('/isAnonymous')},t=this.oEndUserFeedbackService.sendFeedback(F);t.done(function(){sap.ushell.Container.getService("Message").info(this.translationBundle.getText('feedbackSendToastTxt'));}.bind(this));t.fail(function(){sap.ushell.Container.getService("Message").error(this.translationBundle.getText('feedbackFailedToastTxt'));}.bind(this));this.oDialog.close();}else{this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',true);this.oEndUserFeedbackModel.setProperty('/states/isLegalAgreementChecked',true);}}.bind(this)});this.rightButton=new B("EndUserFeedbackRightBtn",{text:{path:"/states/isInFeedbackView",formatter:function(q){return this.getModel().getProperty('/rightButton/'+(q?'feedbackView':'legalAgreementView'));}},press:function(){var q=this.oEndUserFeedbackModel.getProperty("/states/isInFeedbackView");if(q){this.oDialog.close();}else{this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',true);this.oEndUserFeedbackModel.setProperty('/states/isLegalAgreementChecked',false);}}.bind(this)});this.oTextArea=new T("feedbackTextArea",{rows:6,value:'{/textArea/inputText}',placeholder:'{/textAreaPlaceholderText}'});this.oDialog=new D({id:"UserFeedbackDialog",contentWidth:"25rem",leftButton:this.leftButton,rightButton:this.rightButton,stretch:sap.ui.Device.system.phone,initialFocus:"textArea",afterOpen:function(){jQuery("#textArea").on("focusout",function(){window.scrollTo(0,0);});}}).addStyleClass("sapUshellEndUserFeedbackDialog");this.oDialog.setModel(this.oEndUserFeedbackModel);this.oDialog.setCustomHeader(this.oHeadBar);this.oDialog.addCustomData(new A({key:"aria-label",value:this.translationBundle.getText("endUserFeedbackAreaLabel"),writeToDom:true}));this.oTechnicalInfoBoxLayout=j();this.oFeedbackLayout=new V('feedbackLayout',{visible:'{/states/isInFeedbackView}',content:[this.oContextLayout,this.oRatingLayout,this.oTextArea,this.oTechnicalDataLayout,this.oTechnicalInfoBoxLayout,this.oLegalLayout,this.oCustomUILayout]}).addStyleClass("sapUshellFeedbackLayout");this.oMainLayout=new V("mainLayout",{editable:false,content:[this.oFeedbackLayout]});this.oDialog.addContent(this.oMainLayout);this.oDialog.open();s=function(q){this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',false);if(!this.oLegalAgreementInfoLayout){k(q);}};k=function(q){this.oLegalText=new T('legalText',{cols:50,rows:22});this.oLegalText.setValue([q]);this.oLegalText.setEditable(false);var t=this.oLegalText.onAfterRendering;this.oLegalText.onAfterRendering=function(){if(t){t.apply(this,arguments);}var v=jQuery(this.getDomRef());v.find("textarea").attr("tabindex","0");};this.oLegalAgreementInfoLayout=new V('legalAgreementInfoLayout',{visible:{path:"/states/isInFeedbackView",formatter:function(v){return!v;}},content:[this.oLegalText]});this.oMainLayout.addContent(this.oLegalAgreementInfoLayout);}.bind(this);}.bind(this));};E.prototype._handleAnonymousSelection=function(i){var c=this.translationBundle.getText('feedbackAnonymousTechFld');this.oEndUserFeedbackModel.setProperty('/isAnonymous',i);this.oEndUserFeedbackModel.setProperty('/clientContext/userDetails/eMail',i?c:this.oUserDetails.eMail);this.oEndUserFeedbackModel.setProperty('/clientContext/userDetails/userId',i?c:this.oUserDetails.userId);};E.prototype.addCustomUIContent=function(c){var i=c&&c.getMetadata&&c.getMetadata().getStereotype&&c.getMetadata().getStereotype()==='control';if(i){if(this.getShowCustomUIContent()){this.oEndUserFeedbackModel.setProperty('/presentationStates/showCustomUIContent',true);}this.addAggregation('customUIContent',c);}};E.prototype.setShowAnonymous=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/presentationStates/showAnonymous',v);this.setProperty('showAnonymous',v,true);}};E.prototype.setAnonymousByDefault=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/isAnonymous',v);this.setProperty('anonymousByDefault',v,true);}};E.prototype.setShowLegalAgreement=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/presentationStates/showLegalAgreement',v);this.setProperty('showLegalAgreement',v,true);}};E.prototype.setShowCustomUIContent=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/presentationStates/showCustomUIContent',v);this.setProperty('showCustomUIContent',v,true);}};E.prototype.setFeedbackDialogTitle=function(v){if(typeof v==='string'){this.oEndUserFeedbackModel.setProperty('/feedbackViewTitle',v);this.setProperty('feedbackDialogTitle',v,true);}};E.prototype.setTextAreaPlaceholder=function(v){if(typeof v==='string'){this.oEndUserFeedbackModel.setProperty('/textAreaPlaceholderText',v);this.setProperty('textAreaPlaceholder',v,true);}};E.prototype.updateModelContext=function(){var u=sap.ushell.Container.getService("URLParsing"),h,p,i,c,s,U;h=u.getShellHash(window.location);p=u.parseShellHash(h);i=(p!==undefined)?p.semanticObject+"-"+p.action:"";c=this.getModel().getProperty("/currentState/stateName");if(c==="home"||c==="catalog"){s=this.translationBundle.getText(c+'_title');}this.currentApp=this.appConfiguration.getCurrentAppliction();this.bHasAppName=(this.currentApp&&this.appConfiguration.getMetadata(this.currentApp)&&this.appConfiguration.getMetadata(this.currentApp).title);this.sAppIconPath=(this.currentApp&&this.appConfiguration.getMetadata(this.currentApp)&&this.appConfiguration.getMetadata(this.currentApp).icon);this.oEndUserFeedbackModel.setProperty('/contextText',this.bHasAppName?this.appConfiguration.getMetadata(this.currentApp).title:this.translationBundle.getText('feedbackHeaderText'));U=null;if(this.currentApp&&this.currentApp.url){U=this.currentApp.url.split('?')[0];}else if(c){U=this.translationBundle.getText("flp_page_name");}this.oEndUserFeedbackModel.setProperty('/clientContext/navigationData/applicationInformation',{url:U,additionalInformation:(this.currentApp&&this.currentApp.additionalInformation)?this.currentApp.additionalInformation:null,applicationType:(this.currentApp&&this.currentApp.applicationType)?this.currentApp.applicationType:null});this.oEndUserFeedbackModel.setProperty('/clientContext/navigationData/navigationHash',s?s:i);this.oEndUserFeedbackModel.setProperty('/selectedRating',{text:'',color:'',index:0});this.oEndUserFeedbackModel.setProperty('/states/isRatingSelected',false);this.oEndUserFeedbackModel.setProperty('/states/isLegalAgreementChecked',false);this.oEndUserFeedbackModel.setProperty('/technicalLink/state',0);this.oEndUserFeedbackModel.setProperty('/textArea/inputText','');this.oEndUserFeedbackModel.setProperty('/applicationIconPath',this.sAppIconPath);this._handleAnonymousSelection(this.oEndUserFeedbackModel.getProperty('/isAnonymous'));};E.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning("Disabling 'End User Feedback' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.EndUserFeedback");}e=false;}a.prototype.setEnabled.call(this,e);};return E;});
sap.ui.predefine('sap/ushell/ui/footerbar/JamDiscussButton',['sap/m/Button','sap/ushell/library','sap/ushell/resources','sap/ushell/services/Container'],function(B,l,r,C){"use strict";var J=B.extend("sap.ushell.ui.footerbar.JamDiscussButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},jamData:{type:"object",group:"Misc",defaultValue:null}}}});J.prototype.init=function(){var t=this;this.setEnabled();this.setIcon('sap-icon://discussion-2');this.setText(r.i18n.getText("discussBtn"));this.attachPress(function(){if(t.getBeforePressHandler()){t.getBeforePressHandler()();}this.showDiscussDialog(t.getAfterPressHandler());});if(B.prototype.init){B.prototype.init.apply(this,arguments);}};J.prototype.showDiscussDialog=function(c){jQuery.sap.require('sap.collaboration.components.fiori.feed.dialog.Component');if(!this.discussComponent){this.discussComponent=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.feed.dialog"});}this.discussComponent.setSettings(this.getJamData());this.discussComponent.open();if(c){c();}};J.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning("Disabling JamDiscussButton: unified shell container not initialized",null,"sap.ushell.ui.footerbar.JamDiscussButton");}e=false;}else{var u=sap.ushell.Container.getUser();if(!(u&&u.isJamActive())){if(this.getEnabled()){jQuery.sap.log.info("Disabling JamDiscussButton: user not logged in or Jam not active",null,"sap.ushell.ui.footerbar.JamDiscussButton");}e=false;this.setVisible(false);}}B.prototype.setEnabled.call(this,e);};return J;});
sap.ui.predefine('sap/ushell/ui/footerbar/JamShareButton',['sap/m/Button','sap/ushell/library','sap/ushell/resources','sap/ushell/services/Container'],function(B,l,r,C){"use strict";var J=B.extend("sap.ushell.ui.footerbar.JamShareButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},jamData:{type:"object",group:"Misc",defaultValue:null}}}});J.prototype.init=function(){var t=this;this.setEnabled();this.setIcon('sap-icon://share-2');this.setText(r.i18n.getText("shareBtn"));this.attachPress(function(){if(t.getBeforePressHandler()){t.getBeforePressHandler()();}this.showShareDialog(t.getAfterPressHandler());});if(B.prototype.init){B.prototype.init.apply(this,arguments);}};J.prototype.showShareDialog=function(c){jQuery.sap.require('sap.collaboration.components.fiori.sharing.dialog.Component');if(!this.shareComponent){this.shareComponent=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog"});}this.shareComponent.setSettings(this.getJamData());this.shareComponent.open();if(c){c();}};J.prototype.exit=function(){if(this.shareComponent){this.shareComponent.destroy();}if(B.prototype.exit){B.prototype.exit.apply(this,arguments);}};J.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning("Disabling JamShareButton: unified shell container not initialized",null,"sap.ushell.ui.footerbar.JamShareButton");}e=false;}else{var u=sap.ushell.Container.getUser();if(!(u&&u.isJamActive())){if(this.getEnabled()){jQuery.sap.log.info("Disabling JamShareButton: user not logged in or Jam not active",null,"sap.ushell.ui.footerbar.JamShareButton");}e=false;this.setVisible(false);}}B.prototype.setEnabled.call(this,e);};return J;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/LogoutButton',['sap/ushell/library','sap/ushell/resources','sap/ushell/ui/launchpad/ActionItem'],function(l,r,A){"use strict";var L=A.extend("sap.ushell.ui.footerbar.LogoutButton",{metadata:{library:"sap.ushell"}});L.prototype.init=function(){if(A.prototype.init){A.prototype.init.apply(this,arguments);}this.setIcon('sap-icon://log');this.setTooltip(r.i18n.getText("signoutBtn_tooltip"));this.setText(r.i18n.getText("signoutBtn_title"));this.attachPress(this.logout);this.setEnabled();};L.prototype.logout=function(){sap.ui.require(['sap/m/MessageBox'],function(M){var s=true,i=false,o,a=new sap.ushell.ui.launchpad.LoadingDialog({text:""});sap.ushell.Container.getGlobalDirty().done(function(d){s=false;if(i===true){a.exit();a=new sap.ushell.ui.launchpad.LoadingDialog({text:""});}var _=function(d){var o={},R=r.i18n;if(d===sap.ushell.Container.DirtyState.DIRTY){o.message=R.getText('unsaved_data_warning_popup_message');o.icon=sap.m.MessageBox.Icon.WARNING;o.messageTitle=R.getText("unsaved_data_warning_popup_title");}else{o.message=R.getText('signoutConfirmationMsg');o.icon=sap.m.MessageBox.Icon.QUESTION;o.messageTitle=R.getText("signoutMsgTitle");}return o;};o=_(d);sap.m.MessageBox.show(o.message,o.icon,o.messageTitle,[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],function(b){if(b===sap.m.MessageBox.Action.OK){a.openLoadingScreen();a.showAppInfo(r.i18n.getText('beforeLogoutMsg'),null);sap.ushell.Container.logout();}},sap.ui.core.ElementMetadata.uid("confirm"));});if(s===true){a.openLoadingScreen();i=true;}}.bind(this));};L.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning("Disabling 'Logout' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.LogoutButton");}e=false;}A.prototype.setEnabled.call(this,e);};return L;});
sap.ui.predefine('sap/ushell/ui/footerbar/SettingsButton',['sap/m/Button','sap/ushell/library','sap/ushell/resources','sap/ushell/ui/footerbar/AboutButton','sap/ushell/ui/footerbar/UserPreferencesButton','sap/ushell/ui/footerbar/LogoutButton'],function(B,l,r,A,U,L){"use strict";var S=B.extend("sap.ushell.ui.footerbar.SettingsButton",{metadata:{library:"sap.ushell"}});S.prototype.init=function(){this.setIcon('sap-icon://action-settings');this.setTooltip(r.i18n.getText("helpBtn_tooltip"));this.attachPress(this.showSettingsMenu);var a=new A(),u=new U(),o=new L();this.defaultMenuItems=[a,u,o];if(B.prototype.init){B.prototype.init.apply(this,arguments);}};S.prototype.setMenuItems=function(b){this.menuItems=b;};S.prototype.showSettingsMenu=function(){sap.ui.require(['sap/m/ActionSheet'],function(a){var o=new a({id:'settingsMenu',showHeader:false,buttons:(this.menuItems||[]).concat(this.defaultMenuItems)});o.setPlacement(sap.m.PlacementType.Vertical);o.openBy(this);o.attachAfterClose(function(){o.removeAllButtons();o.destroy();});}.bind(this));};return S;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/UserPreferencesButton',['sap/m/Button','sap/m/Dialog','sap/m/Bar','sap/m/Text','sap/m/List','sap/ushell/library','sap/ushell/resources','sap/ushell/services/Container','sap/ushell/ui/launchpad/AccessibilityCustomData','sap/ushell/ui/launchpad/ActionItem','sap/m/DisplayListItem','sap/ui/layout/VerticalLayout','sap/m/ObjectIdentifier'],function(B,D,a,T,L,l,r,C,A,b,c,V,O){"use strict";var U=b.extend("sap.ushell.ui.footerbar.UserPreferencesButton",{metadata:{library:"sap.ushell"}});U.prototype.init=function(){if(b.prototype.init){b.prototype.init.apply(this,arguments);}this.setIcon('sap-icon://person-placeholder');this.translationBundle=r.i18n;this.setText(this.translationBundle.getText("userSettings"));this.setTooltip(this.translationBundle.getText("settings_tooltip"));this.attachPress(this.showUserPreferencesDialog);};U.prototype.createDialog=function(){var s,d,t=this;s=this._createSaveButton();d=this._createCancelButton();this.oDialog=new D({id:"userPreferencesDialog",title:"{/userPreferences/dialogTitle}",contentWidth:"29.6rem",content:null,contentHeight:"17rem",buttons:[s,d],afterClose:function(){this._destroyDialog();this.oUser.resetChangedProperties();}.bind(t),stretch:sap.ui.Device.system.phone}).addStyleClass("sapUshellUserPreferencesDialog");this._addDialogBackButton();this.oDialog.setModel(this.getModel());this.oDialog.addCustomData(new A({key:"aria-label",value:t.translationBundle.getText("Settings_Dialog_Main_label"),writeToDom:true}));this.oDialog.addContent(this._getOriginalDialogContent());};U.prototype._getOriginalDialogContent=function(){if(!this.oInitialContent){var u,e;u=this._getUserDetailsControl();e=this._getEntryListControl();this.oInitialContent=new V('userPreferencesLayout',{content:[u,e],width:"100%"});}return this.oInitialContent;};U.prototype._getEntryListControl=function(){var e=this._getUserPrefEntriesTemplate(),x=this.getModel()&&this.getModel().getProperty('/enableHelp'),t=this,i,u=this.oUser.getFullName(),o,d=new L('userPrefEnteryList',{items:{path:"/userPreferences/entries",template:e}});d.addCustomData(new A({key:"aria-label",value:t.translationBundle.getText("Settings_EntryList_label")+u,writeToDom:true}));o=d.onAfterRendering;d.onAfterRendering=function(){var E=this.getItems(),f;o.apply(this,arguments);for(i=0;i<E.length;i++){f=E[i].getBindingContext().getPath();if(!t.getModel().getProperty(f+"/valueResult")){t._setEntryValueResult(f);}if(x){t._addXRayHelpId(f,E[i]);}}};return d;};U.prototype._addXRayHelpId=function(e,o){var h=this.getModel().getProperty(e+"/entryHelpID");if(h){o.addStyleClass("help-id-"+h);}};U.prototype._setEntryValueResult=function(e){var t=this;var i=this.getModel().getProperty(e+"/editable");var v=this.getModel().getProperty(e+"/valueArgument");if(typeof v==="function"){this.getModel().setProperty(e+"/valueResult",this.translationBundle.getText("genericLoading"));this.getModel().setProperty(e+"/editable",false);var o=v();o.done(function(d){t.getModel().setProperty(e+"/editable",i);t.getModel().setProperty(e+"/visible",typeof(d)==='object'?!!d.value:true);t.getModel().setProperty(e+"/valueResult",typeof(d)==='object'?d.displayText:d);});o.fail(function(){t.getModel().setProperty(e+"/valueResult",t.translationBundle.getText("loadingErrorMessage"));});}else if(!!v){this.getModel().setProperty(e+"/valueResult",v);this.getModel().setProperty(e+"/editable",i);}else{this.getModel().setProperty(e+"/valueResult",this.translationBundle.getText("loadingErrorMessage"));}};U.prototype._getUserPrefEntriesTemplate=function(){var t=this,i,p=function(e){var E={};E=jQuery.extend(true,{},{},e);sap.ui.require(['sap/m/FlexBox','sap/m/FlexAlignItems','sap/m/FlexJustifyContent','sap/m/BusyIndicator'],function(F,d,f,g){var h=true,o,j=E.getSource().getLabel(),k=E.getSource().getBindingContext().getPath();t.getModel().setProperty("/userPreferences/activeEntryPath",k);t._setDetailedEntryModeMode(true,k,j,k);t.oDialog.removeAllContent();o=t.getModel().getProperty(k+"/contentResult");if(o){t.oDialog.addContent(o);}else{var m=null,n,s=true,I=false,q=t.getModel().getProperty(k+"/contentFunc");if(typeof q==="function"){t.getModel().setProperty(k+"/isDirty",true);n=q();n.done(function(u){s=false;if(I===true){t.oDialog.removeAllContent();m.destroy();}if(u instanceof sap.ui.core.Control){t.getModel().setProperty(k+"/contentResult",u);t.oDialog.addContent(u);}else{h=false;}});n.fail(function(){s=false;if(I===true){t.oDialog.removeAllContent();m.destroy();}h=false;});n.always(function(){if(h===false){var u=new F("userPrefErrorFlexBox",{height:"5rem",alignItems:d.Center,justifyContent:f.Center,items:[new T("userPrefErrorText",{text:t.translationBundle.getText("loadingErrorMessage")})]});t.getModel().setProperty(k+"/contentResult",u);t.oDialog.addContent(u);}});if(s===true){m=new g('userPrefLoadingBusyIndicator',{size:"2rem"});t.oDialog.addContent(m);I=true;}}}});};i=new c({label:"{title}",value:"{valueResult}",tooltip:{path:"valueResult",formatter:function(v){return typeof(v)==='string'?v:"";}},type:{path:"editable",formatter:function(e){return(e===true)?"Navigation":"Inactive";}},visible:{path:"visible",formatter:function(v){return(v!==undefined)?v:true;}},press:p,customData:new A({key:"aria-label",value:{parts:[{path:'title'},{path:'valueResult'}],formatter:function(s,v){v=v?v:"";return s+" "+v;}},writeToDom:true})});return i;};U.prototype._getUserDetailsControl=function(){return new O({title:this.oUser.getFullName(),text:this.oUser.getEmail()}).addStyleClass("sapUshellUserPrefUserIdentifier");};U.prototype._createCancelButton=function(){var t=this;return new B({id:"cancelButton",text:{parts:['/userPreferences/entries'],formatter:function(e){var E=e.some(function(o){return o.editable;});return E>0?t.translationBundle.getText("cancelBtn"):t.translationBundle.getText("close");}},press:t._dialogCancelButtonHandler.bind(t),visible:true});};U.prototype._createSaveButton=function(){var t=this;return new B({id:"saveButton",text:this.translationBundle.getText("saveBtn"),press:t._dialogSaveButtonHandler.bind(t),visible:{parts:['/userPreferences/entries'],formatter:function(e){return e.some(function(E){return E.editable;});}}});};U.prototype._setDetailedEntryModeMode=function(i,e,d,f){this.getModel().setProperty("/userPreferences/isDetailedEntryMode",!!i);this.getModel().setProperty("/userPreferences/dialogTitle",d);};U.prototype.showUserPreferencesDialog=function(){this.oUser=sap.ushell.Container.getUser();this.createDialog();this.oDialog.open();};U.prototype._dialogBackButtonHandler=function(e){sap.ui.require(['sap/ui/layout/VerticalLayout'],function(V){this.getModel().setProperty("/userPreferences/isDetailedEntryMode",false);this.getModel().setProperty("/userPreferences/dialogTitle",this.translationBundle.getText("userSettings"));this.oDialog.removeAllContent();this.oDialog.addContent(this._getOriginalDialogContent());this._setEntryValueResult(this.getModel().getProperty("/userPreferences/activeEntryPath"));this.getModel().setProperty("/userPreferences/activeEntryPath",null);});};U.prototype._destroyDialog=function(){this.oHeadBar.destroy();this.oInitialContent.destroy();this.oInitialContent=null;this._modelCleanUpToInitial();this._entriesCleanUp();this.oDialog.destroy();};U.prototype._entriesCleanUp=function(){var i,e=this.getModel().getProperty("/userPreferences/entries");for(i=0;i<e.length;i++){if(e[i].contentResult){e[i].contentResult.destroy();e[i].contentResult=null;}e[i].isDirty=false;e[i].valueResult=null;}this.getModel().setProperty("/userPreferences/entries",e);};U.prototype._modelCleanUpToInitial=function(){this.getModel().setProperty("/userPreferences/isDetailedEntryMode",false);this.getModel().setProperty("/userPreferences/dialogTitle",this.translationBundle.getText("userSettings"));};U.prototype._dialogSaveButtonHandler=function(){var t=this,i,s=this._saveUserPrefEntries();i=this.getModel().getProperty("/userPreferences/isDetailedEntryMode");if(i){this.getModel().setProperty("/userPreferences/activeEntryPath",null);}s.done(function(){t._showSaveMessageToast();});s.fail(function(f){sap.ui.require(['sap/m/MessageBox'],function(M){var e,d="";if(f.length===1){e=t.translationBundle.getText("savingEntryError")+" ";}else{e=t.translationBundle.getText("savingEntriesError")+"\n";}f.forEach(function(g){e+=g.entry+"\n";d+="Entry: "+g.entry+" - Error message: "+g.message+"\n";});M.show(e,{icon:M.Icon.ERROR,title:t.translationBundle.getText("Error"),actions:[M.Action.OK]});jQuery.sap.log.error("Failed to save the following entries",d,"sap.ushell.ui.footerbar.UserPreferencesButton");});});this.oDialog.close();this._destroyDialog();};U.prototype._dialogCancelButtonHandler=function(){var i,e=this.getModel().getProperty("/userPreferences/entries");for(i=0;i<e.length;i++){if(e[i]&&e[i].onCancel){e[i].onCancel();}}this.oDialog.close();this._destroyDialog();};U.prototype._saveUserPrefEntries=function(){var e=this.getModel().getProperty("/userPreferences/entries");var d=jQuery.Deferred();var w;var f;var t=0;var g=0;var s=0;var p=[];var h=[];var j;var k=function(){s++;d.notify();};var m=function(n){h.push({entry:j,message:n});g++;d.notify();};for(var i=0;i<e.length;i++){if(e[i]&&e[i].isDirty===true){f=e[i].onSave();f.done(k);j=e[i].title;f.fail(m);p.push(f);t++;}}w=jQuery.when.apply(null,p);w.done(function(){d.resolve();});d.progress(function(){if(g>0&&(g+s===t)){d.reject(h);}});return d.promise();};U.prototype._addDialogBackButton=function(){var t=this;var o=new B('userPrefBackBtn',{visible:"{/userPreferences/isDetailedEntryMode}",icon:sap.ui.core.IconPool.getIconURI("nav-back"),press:t._dialogBackButtonHandler.bind(t),tooltip:this.translationBundle.getText("feedbackGoBackBtn_tooltip")});var d=new T("userPrefTitle",{text:"{/userPreferences/dialogTitle}"});this.oHeadBar=new a({contentLeft:[o],contentMiddle:[d]});this.oDialog.setCustomHeader(this.oHeadBar);};U.prototype._showSaveMessageToast=function(){sap.ui.require(['sap/m/MessageToast'],function(M){var m=this.translationBundle.getText("savedChanges");M.show(m,{duration:3000,width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"});});};return U;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/EmbeddedSupportErrorMessage',['sap/m/Button','sap/m/Dialog','sap/ushell/library','sap/ushell/resources'],function(B,D,l,r){"use strict";var E=D.extend("sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage",{metadata:{library:"sap.ushell",events:{afterClose:{}}}});E.prototype.open=function(){var c,C;this.translationBundle=r.i18n;c=new B({id:sap.ui.core.ElementMetadata.uid("supportBtn"),text:this.translationBundle.getText("contactSupportBtn"),press:function(){this.close();sap.ui.require(['sap/ushell/ui/footerbar/ContactSupportButton'],function(a){this.oContactSupport=new a("ContactSupportErrorMsg",{visible:true});if(this.oContactSupport){this.oContactSupport.showContactSupportDialog();this.oContactSupport.destroy();}});}.bind(this)});C=new B({id:sap.ui.core.ElementMetadata.uid("closeBtn"),text:this.translationBundle.getText("close"),press:function(){this.close();}.bind(this)});this.setType(sap.m.DialogType.Message);this.setIcon('sap-icon://alert');this.setRightButton(C);this.setLeftButton(c);this._addStyleClassToContent();this.addStyleClass('sapMMessageBoxError');this.attachAfterClose(function(){this.destroy();}.bind(this));if(D.prototype.open){D.prototype.open.apply(this,arguments);}};E.prototype._addStyleClassToContent=function(){var c=this.getContent(),C,i;for(i in c){C=c[i];if(C.getMetadata().getName()==="sap.m.Text"&&!C.aCustomStyleClasses){C.addStyleClass("sapMMsgBoxText");}}};E.prototype.onAfterRendering=function(){var L,j=jQuery("#EmbeddedSupportErrorMessage").eq(0);if(j){L=j.attr("aria-labelledby");j.attr("aria-labelledby",L+this.getContent()[0].getId());}};return E;});
sap.ui.predefine('sap/ushell/ui/launchpad/GroupListItem',['sap/m/Input','sap/m/ListItemBase','sap/ushell/library'],function(I,L,l){"use strict";var G=L.extend("sap.ushell.ui.launchpad.GroupListItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},show:{type:"boolean",group:"Misc",defaultValue:true},groupId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},numberOfTiles:{type:"int",group:"Misc",defaultValue:0},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true}},events:{press:{},afterRendering:{}}}});G.prototype.exit=function(){L.prototype.exit.apply(this,arguments);};G.prototype.onAfterRendering=function(){this.fireAfterRendering();};G.prototype.groupHasVisibleTiles=function(){var g=this.getModel().getProperty("/groups/"+this.getIndex()+"/tiles");var a=this.getModel().getProperty("/groups/"+this.getIndex()+"/links");return sap.ushell.utils.groupHasVisibleTiles(g,a);};G.prototype.onclick=function(){this.firePress({id:this.getId()});};G.prototype.onsapenter=function(){this.firePress({id:this.getId(),action:"sapenter"});};G.prototype.setGroupId=function(g){this.setProperty("groupId",g,true);return this;};G.prototype.setTitle=function(t){this.setProperty("title",t);this.$().find(".sapMSLITitleOnly").text(t);return this;};return G;});
sap.ui.predefine('sap/ushell/ui/launchpad/HeaderTile',['sap/ushell/library','./Tile'],function(l,T){"use strict";var H=T.extend("sap.ushell.ui.launchpad.HeaderTile",{metadata:{library:"sap.ushell",properties:{headerLevel:{type:"sap.m.HeaderLevel",group:"Appearance",defaultValue:sap.m.HeaderLevel.H3},headerText:{type:"string",group:"Appearance",defaultValue:null}}}});return H;});
sap.ui.predefine('sap/ushell/ui/launchpad/LoadingDialog',['sap/m/Label','sap/ui/core/Control','sap/ui/core/Icon','sap/ui/core/Popup','sap/ushell/library','./AccessibilityCustomData'],function(L,C,I,P,l,A){"use strict";var a=C.extend("sap.ushell.ui.launchpad.LoadingDialog",{metadata:{library:"sap.ushell",properties:{iconUri:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},text:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},loadAnimationWithInterval:{type:"boolean",group:"Appearance",defaultValue:true}}}});a.prototype.init=function(){this._oPopup=new P();this._oPopup.restoreFocus=false;this._oPopup.setShadow(false);this._oPopup.setModal(true,"sapUshellLoadingDialog");this.oIcon=new I();this._oLabel=new L(this.getId()+'loadingLabel');this.sState="idle";this.sLoadingString=sap.ushell.resources.i18n.getText("genericLoading").replace("..."," ");};a.prototype.exit=function(){this._oPopup.close();this._oPopup.destroy();this.oIcon.destroy();this._oLabel.destroy();};a.prototype.isOpen=function(){return this._oPopup.isOpen();};a.prototype.openLoadingScreen=function(){if(this.sState==="idle"){this.sState="busy";}if(this.getLoadAnimationWithInterval()){this.toggleStyleClass('sapUshellVisibilityHidden',true);this._iTimeoutId=setTimeout(function(){this.toggleStyleClass('sapUshellVisibilityHidden',false);this.$().focus();}.bind(this),3000);}else{this.toggleStyleClass('sapUshellVisibilityHidden',false);this.$().focus();}if(!this.getVisible()){this.setProperty('visible',true,true);this.$().show();}if(!this.isOpen()){this._oPopup.setContent(this);this._oPopup.setPosition("center center","center center",document,"0 0","fit");this._oPopup.open();}};a.prototype.setLoadAnimationWithInterval=function(s){this.setProperty('loadAnimationWithInterval',s,true);};a.prototype.showAppInfo=function(s,i,b){this.setProperty('text',s,true);this.setProperty('iconUri',i,true);this.oIcon.setSrc(i);this._oLabel.setText(s);this._oLabel.addCustomData(new A({key:'aria-hidden',value:"true",writeToDom:true}));if(jQuery("#"+this.getId()+"accessibility-helper")[0]&&b){jQuery("#"+this.getId()+"accessibility-helper")[0].innerText=this.sLoadingString;}};a.prototype.closeLoadingScreen=function(){if(this._iTimeoutId){clearTimeout(this._iTimeoutId);}if(this.getVisible()){this.sState="idle";this.setProperty('visible',false,true);this.$().hide();this._oPopup.close();}};a.prototype.onAfterRendering=function(){this.$().css("width","20rem");};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/Panel',['sap/m/Panel','sap/ushell/library','sap/ushell/override'],function(P,l,o){"use strict";var a=P.extend("sap.ushell.ui.launchpad.Panel",{metadata:{library:"sap.ushell",properties:{translucent:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{headerContent:{type:"sap.ui.core.Control",multiple:true,singularName:"headerContent"},headerBar:{type:"sap.m.Bar",multiple:false}}}});a.prototype.updateAggregation=o.updateAggregation;return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/UserStatusItem',['jquery.sap.global','sap/ushell/library','sap/ushell/resources','sap/ushell/ui/launchpad/AccessibilityCustomData'],function(q,M,r,A){"use strict";var t=r.i18n,U;U=sap.m.ListItemBase.extend("sap.ushell.ui.launchpad.UserStatusItem",{metadata:{properties:{status:{type:"object",group:"Appearance"},visible:{type:"boolean",group:"Appearance",defaultValue:true},isOpener:{type:"boolean",group:"Appearance",defaultValue:true},ariaLabel:{type:"string",group:"Appearance",defaultValue:null},enabled:{type:"boolean",group:"Appearance",defaultValue:true},image:{type:"object",group:"Appearance",defaultValue:null}},aggregations:{contentList:{type:"sap.ui.core.Control",multiple:false}},events:{press:{}}},renderer:{renderLIContent:function(a,c){var b=c.getStatus()||U.prototype.STATUS_ENUM.AVAILABLE;a.write("<div");if(!c.getVisible()){a.addClass("sapUshellShellHidden");}if(!c.getIsOpener()){c.addCustomData(new A({key:"tabindex",value:"0",writeToDom:true}));}a.addClass("sapUserStatusContent");a.writeClasses();a.write(">");a.write("<div ");a.addClass(b.styleClass);a.writeClasses();a.write(">");a.write("</div>");a.write("<div");if(b.status==="signOut"){a.addClass("sapUserStatusSignOutText");}a.addClass("sapUserStatusText");a.writeClasses();a.write(">");a.writeEscaped(b.text);a.write("</div>");if(c.getIsOpener()){a.write("<div class='sapUshellUserStatusExp sapUshellUserStatusDropDownArrow'></div>");}a.write("</div>");}}});U.prototype.onclick=function(e){this.firePress();e.preventDefault();};U.prototype.onsapspace=U.prototype.onclick;U.prototype.STATUS_ENUM={AVAILABLE:{text:t.getText("userStatus_available"),id:0,styleClass:"sapUshellUserStatusAvailableIndicator",status:"AVAILABLE"},AWAY:{text:t.getText("userStatus_away"),id:1,styleClass:"sapUshellUserStatusAwayIndicator",status:"AWAY"},BUSY:{text:t.getText("userStatus_busy"),id:2,styleClass:"sapUshellUserStatusBusyIndicator",status:"BUSY"},APPEAR_OFFLINE:{text:t.getText("userStatus_appearOffline"),id:3,styleClass:"sapUshellUserStatusAppearOfflineIndicator",status:"APPEAR_OFFLINE"},SIGNOUT:{text:t.getText("userStatus_signOut"),id:4,styleClass:"sapUshellUserSignOutExp sapUserStatusText",status:"SIGNOUT"}};U.prototype.setEnabled=function(e){this.setProperty('enabled',e,true);this.toggleStyleClass('sapUshellUserStatusDisable',!e);return this;};U.prototype.setVisible=function(v){this.setProperty('visible',v,true);if(v){this.$().removeClass('sapUshellShellHidden');}else{this.$().addClass('sapUshellShellHidden');}this.invalidate();return this;};U.prototype.setStatus=function(s){this.setProperty('status',s,true);this.invalidate();return this;};U.prototype.setImage=function(i){};U.prototype.setAriaLabel=function(a){this.setProperty('ariaLabel',a);return this;};return U;},true);
sap.ui.predefine('sap/ushell/ui/shell/FloatingContainer',['jquery.sap.global','jquery.sap.storage','sap/ushell/library','sap/ui/Device'],function(q,s,l,D){"use strict";var F=sap.ui.core.Control.extend("sap.ushell.ui.shell.FloatingContainer",{metadata:{properties:{},aggregations:{content:{type:"sap.ui.core.Control",multiple:true}}},renderer:{render:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellFloatingContainer");r.writeClasses();r.write(">");if(c.getContent()&&c.getContent().length){r.renderControl(c.getContent()[0]);}r.write("</div>");}}});F.prototype.init=function(){sap.ui.Device.resize.attachHandler(F.prototype._handleResize,this);};F.prototype._getWindowHeight=function(){return q(window).height();};F.prototype._setContainerHeight=function(c,f){c.css("max-height",f);};F.prototype._handleResize=function(e){if(q(".sapUshellFloatingContainer").parent()[0]){this.oWrapper=q(".sapUshellFloatingContainer").parent()[0];this.oWrapper.setAttribute("style",this.oStorage.get("floatingContainerStyle"));var i=window.matchMedia?window.matchMedia("(max-width: 417px)").matches:false;this.adjustPosition(e,i);}};F.prototype.adjustPosition=function(e,i){var w=e?e.width:q(window).width(),W=e?e.height:q(window).height(),c=this.oContainer.width(),C=this.oContainer.height(),b,a,L,t,d=sap.ui.getCore().getConfiguration().getRTL();i=i!==undefined?i:false;if(this.oWrapper){L=this.oWrapper.style.left.replace("%","");L=w*L/100;t=this.oWrapper.style.top.replace("%","");t=W*t/100;if(!isNaN(L)&&!isNaN(t)&&!i){if(d){b=(L<c)||(L>w);if(b){L=L<c?c:w;}}else{b=(L<0)||(w<(L+c));if(b){L=L<0?0:(w-c);}}a=(t<0)||(W<(t+C));if(a){t=t<0?0:(W-C);}if(!b&&!a){this.oWrapper.setAttribute("style","left:"+L*100/w+"%;top:"+t*100/W+"%;position:absolute;");return;}this.oWrapper.setAttribute("style","left:"+L*100/w+"%;top:"+t*100/W+"%;position:absolute;");}}};F.prototype.handleDrop=function(){if(this.oWrapper){this.adjustPosition();this.oStorage.put("floatingContainerStyle",this.oWrapper.getAttribute("style"));}};F.prototype.setContent=function(c){if(this.getDomRef()){var r=sap.ui.getCore().createRenderManager();r.renderControl(c);r.flush(this.getDomRef());r.destroy();}this.setAggregation("content",c,true);};F.prototype.onAfterRendering=function(){this.oStorage=this.oStorage||q.sap.storage(q.sap.storage.Type.local,"com.sap.ushell.adapters.local.FloatingContainer");this.oContainer=q(".sapUshellFloatingContainer");this.oWrapper=q(".sapUshellFloatingContainer").parent()[0];};F.prototype.exit=function(){sap.ui.Device.resize.detachHandler(F.prototype._resizeHandler,this);};return F;},true);
sap.ui.predefine('sap/ushell/ui/shell/NavigationMiniTile',['jquery.sap.global','sap/ushell/library','sap/ui/layout/Grid'],function(q){"use strict";var N=sap.ui.core.Control.extend("sap.ushell.ui.shell.NavigationMiniTile",{metadata:{properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},intent:{type:"string",group:"Misc",defaultValue:null}},aggregations:{},events:{press:{}}},renderer:{render:function(r,c){var t=c.getTitle();var s=c.getSubtitle();var i=c.getIcon();var I=sap.ui.core.IconPool.createControlByURI(i);r.write('<div tabindex="-1" class="sapUshellNavMiniTile" ');r.writeControlData(c);r.writeAttributeEscaped("role","option");r.writeAttributeEscaped("aria-label",s?t+" "+s:t);r.write('>');r.write('<div>');r.write('<span class="sapUshellNavMiniTileTitle" >');if(t){r.writeEscaped(t);}r.write('</span>');r.write('</div>');if(I){r.write('<div>');r.write('<span class="sapUshellNavMiniTileIcon">');r.renderControl(I);r.write("</span>");r.write('</div>');}else{r.write('<div>');r.write('<span class="sapUshellNavMiniTileSubtitle" >');if(s){r.writeEscaped(s);}r.write("</span>");r.write('</div>');}r.write('</div>');}}});N.prototype.ontap=function(e){this.firePress({});};N.prototype.onsapenter=function(e){this.firePress({});};N.prototype.onsapspace=function(e){this.firePress({});};return N;},true);
sap.ui.predefine('sap/ushell/ui/shell/ShellFloatingActions',['jquery.sap.global','./ShellFloatingAction','sap/ushell/library'],function(q,S){"use strict";var a=sap.ui.core.Control.extend("sap.ushell.ui.shell.ShellFloatingActions",{metadata:{properties:{isFooterVisible:{type:"boolean",defaultValue:false}},aggregations:{floatingActions:{type:"sap.ushell.ui.shell.ShellFloatingAction",multiple:true,singularName:"floatingAction"}}},renderer:{render:function(r,A){var f=A.getFloatingActions();r.write("<div");r.writeControlData(A);r.addClass("sapUshellShellFloatingActions");r.writeClasses();r.write(">");if(f.length){var F;if(f.length===1){F=f[0];}else{F=A._createMultipleFloatingActionsButton(f);q.each(f,function(){this.setVisible(false);r.renderControl(this);});}r.renderControl(F);}r.write("</div>");}}});a.prototype._createMultipleFloatingActionsButton=function(f){var F;var t=this;return new S({id:this.getId()+"-multipleFloatingActions",icon:'sap-icon://add',visible:true,press:function(){if(!this.hasStyleClass('sapUshellShellFloatingActionRotate')){this.addStyleClass('sapUshellShellFloatingActionRotate');if(!F){F=parseInt(this.$().outerHeight(),10)+parseInt(t.$().css('bottom'),10);}f.forEach(function(o){o.setVisible(true);});setTimeout(function(){f.forEach(function(o,i){var b=F*(i+1);o.$().css('transform',"translateY(-"+b+"px)");o.data("transformY","-"+b+"px");});},0);}else{this.removeStyleClass('sapUshellShellFloatingActionRotate');f.forEach(function(o){o.$().css('transform',"translateY(0)");});setTimeout(function(){f.forEach(function(o){o.setVisible(false);o.data("transformY",undefined);});},150);}},tooltip:sap.ushell.resources.i18n.getText("XXX")});};a.prototype.addFloatingAction=function(A){this.addAggregation('floatingActions',A,true);if(this.getDomRef()){var r=sap.ui.getCore().createRenderManager();r.renderControl(A);r.flush(this.getDomRef());r.destroy();}return this;};a.prototype.removeFloatingAction=function(A){if(typeof A==='number'){A=this.getAggregation('floatingActions')[A];}this.removeAggregation('floatingActions',A,true);var i=A.getId();q('#'+i).remove();return this;};return a;},true);
sap.ui.predefine('sap/ushell/ui/tile/ImageTile',['sap/ushell/library','./TileBase'],function(l,T){"use strict";var I=T.extend("sap.ushell.ui.tile.ImageTile",{metadata:{library:"sap.ushell",properties:{imageSource:{type:"string",group:"Appearance",defaultValue:null}}}});return I;});
// @copyright@
sap.ui.predefine('sap/ushell/components/factsheet/annotation/Mapping',function(){"use strict";var M={};M.initialized=[];M.parse=function(m,a){var x={},g,b,s,c,d,r,e,f,h,n,o,A,q={},t,u,S={},i,v,w={},y={},z="",B,C,D,E,F,G,H,T,I,J,K,L,N,j,O,P,Q,R,U,V,W,X,Y,Z,$,_,a1,b1,c1,d1,e1,f1,g1;if(sap.ui.Device.browser.internet_explorer){x={setNameSpace:function(k){k.setProperty("SelectionNamespaces",'xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" xmlns:d="http://docs.oasis-open.org/odata/ns/edm"');k.setProperty("SelectionLanguage","XPath");return k;},selectNodes:function(k,x,l){return l.selectNodes(x);},nextNode:function(k){return k.nextNode();},getNodeText:function(k){return k.text;}};}else{x={setNameSpace:function(k){return k;},nsResolver:function(p){var k={"edmx":"http://docs.oasis-open.org/odata/ns/edmx","d":"http://docs.oasis-open.org/odata/ns/edm"};return k[p]||null;},selectNodes:function(k,p,l){var h1=k.evaluate(p,l,this.nsResolver,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);h1.length=h1.snapshotLength;return h1;},nextNode:function(k,l){return k.snapshotItem(l);},getNodeText:function(k){return k.textContent;}};}g=function(k){var l;if(sap.ui.Device.browser.internet_explorer){l=new ActiveXObject("Microsoft.XMLHTTP");l.open("GET",k,false);l.send(null);return l.responseXML;}else{l=jQuery.sap.sjax({url:k,dataType:"xml"});if(l.success){return l.data;}}};b=function(m){var h1={},i1={},j1={},k1=false,i,l1,m1,n1,o1={},j,p1={},q1={},r1=false,s1,l,k,t1,u1,v1,w1,p,x1;for(i=m.dataServices.schema.length-1;i>=0;i-=1){h1=m.dataServices.schema[i];if(h1.entityType){l1=h1.namespace;m1=h1.entityType;n1=h1.complexType;for(j in m1){if(m1.hasOwnProperty(j)){o1=m1[j];q1={};if(o1.hasStream&&o1.hasStream==="true"){continue;}p1={};for(k in o1.property){s1=o1.property[k];if(s1.type.substring(0,l1.length)===l1){for(l in n1){if(n1[l].name===s1.type.substring(l1.length+1)){for(k in n1[l].property){t1=n1[l].property[k];p1[n1[l].name+"/"+t1.name]=t1.type;}}}}else{u1=s1.name;v1=s1.type;for(p in s1.extensions){w1=s1.extensions[p];if((w1.name==="display-format")&&(w1.value==="Date")){v1="Edm.Date";}else{r1=true;if(!q1[u1]){q1[u1]={};}if(w1.namespace&&!q1[u1][w1.namespace]){q1[u1][w1.namespace]={};}q1[u1][w1.namespace][w1.name]=w1.value;}}p1[u1]=v1;}}if(!i1[l1+"."+o1.name]){i1[l1+"."+o1.name]={};}i1[l1+"."+o1.name]=p1;if(r1){if(!j1[l1+"."+o1.name]){k1=true;}j1[l1+"."+o1.name]={};j1[l1+"."+o1.name]=q1;}}}}}if(k1){x1={types:i1,extensions:j1};}else{x1={types:i1};}return x1;};s=function(p,k,l,S){var h1,i1,j1='';for(h1 in p){if(p.hasOwnProperty(h1)){if(p[h1]){i1=p[h1];if(i1.Value&&i1.Value.Path){j1=c(i1.Value.Path,k,l,S);if(j1){p[h1].EdmType=j1;}continue;}if(i1.Path){j1=c(i1.Path,k,l,S);if(j1){p[h1].EdmType=j1;}continue;}if(i1.Facets){p[h1].Facets=s(i1.Facets,k,l,S);continue;}if(i1.Data){p[h1].Data=s(i1.Data,k,l,S);continue;}if(h1==="Data"){p.Data=s(i1,k,l,S);continue;}if(i1.Value&&i1.Value.Apply){p[h1].Value.Apply.Parameters=s(i1.Value.Apply.Parameters,k,l,S);continue;}if(i1.Value&&i1.Type&&(i1.Type==="Path")){j1=c(i1.Value,k,l,S);if(j1){p[h1].EdmType=j1;}}}}}return p;};c=function(p,k,l,S){var h1;if((p.charAt(0)==="@")&&(p.indexOf(S.Alias)===1)){p=p.slice(S.Alias.length+2);}if(p.indexOf("/")>=0){if(k[p.slice(0,p.indexOf("/"))]){l=p.slice(0,p.indexOf("/"));p=p.slice(p.indexOf("/")+1);}}for(h1 in k[l]){if(k[l].hasOwnProperty(h1)){if(p===h1){return k[l][h1];}}}};d=function(k){var l="",p="",i,h1={};for(i=0;i<k.attributes.length;i+=1){if((k.attributes[i].name!=="Property")&&(k.attributes[i].name!=="Term")){l=k.attributes[i].name;p=k.attributes[i].value;}}if(l.length>0){h1[l]=r(p);}return h1;};e=function(t,k){var l={},p,h1,i1,j1,k1,l1;if(k.hasChildNodes()){p=x.selectNodes(t,"./d:String",k);if(p.length>0){h1=x.nextNode(p,0);l["String"]=x.getNodeText(h1);}else{i1=x.selectNodes(t,"./d:Path",k);if(i1.length>0){j1=x.nextNode(i1,0);l["Path"]=x.getNodeText(j1);}else{k1=x.selectNodes(t,"./d:Apply",k);if(k1.length>0){l1=x.nextNode(k1,0);l["Apply"]=n(t,l1);}}}}return l;};f=function(t,k,l){var p={},h1,i1,I,j1,k1,l1,m1,n1,o1={},N,O,X,p1,q1;if(k.hasChildNodes()){h1=x.selectNodes(t,"./d:Record | ./d:Collection/d:Record | ./d:Collection/d:If/d:Record",k);if(h1.length){i1=0;for(I=0;I<h1.length;I+=1){j1=x.nextNode(h1,I);k1=h(t,j1,l);if(j1.getAttribute("Type")){k1["RecordType"]=r(j1.getAttribute("Type"));}if(i1===0){if(j1.nextElementSibling||(j1.parentNode.nodeName==="Collection")||(j1.parentNode.nodeName==="If")){p=[];p.push(k1);}else{p=k1;}}else{p.push(k1);}i1+=1;}}else{l1=x.selectNodes(t,"./d:UrlRef",k);if(l1.length>0){for(I=0;I<l1.length;I+=1){m1=x.nextNode(l1,I);p["UrlRef"]=e(t,m1);}}else{l1=x.selectNodes(t,"./d:Url",k);if(l1.length>0){for(I=0;I<l1.length;I+=1){m1=x.nextNode(l1,I);p["Url"]=e(t,m1);}}else{q1=x.selectNodes(t,"./d:Collection/d:AnnotationPath | ./d:Collection/d:PropertyPath",k);if(q1.length>0){p=[];for(I=0;I<q1.length;I+=1){n1=x.nextNode(q1,I);o1={};o1[n1.nodeName]=x.getNodeText(n1);p.push(o1);}}else{p=d(k);N=x.selectNodes(t,"./d:Annotation",k);O={};for(X=0;X<N.length;X+=1){O=x.nextNode(N,X);if(O.hasChildNodes()===false){p1=r(O.getAttribute("Term"));p[p1]=d(O);}}}}}}}else{p=d(k);}return p;};h=function(t,k,l){var p={},O={},N,X,h1,i1,I,j1,k1,l1,m1,n1;N=x.selectNodes(t,"./d:Annotation",k);for(X=0;X<N.length;X+=1){O=x.nextNode(N,X);if(O.hasChildNodes()===false){h1=r(O.getAttribute("Term"));p[h1]=d(O);}}i1=x.selectNodes(t,"./d:PropertyValue",k);if(i1.length>0){for(I=0;I<i1.length;I+=1){j1=x.nextNode(i1,I);k1=j1.getAttribute("Property");p[k1]=f(t,j1,l);l1=x.selectNodes(t,"./d:Apply",j1);m1=null;for(n1=0;n1<l1.length;n1+=1){m1=x.nextNode(l1,n1);if(m1){p[k1]={};p[k1]['Apply']=n(t,m1);}}}}else{p=f(t,k,l);}return p;};n=function(t,k){var l={},p,h1=null,i1=[],i;p=x.selectNodes(t,"./d:*",k);for(i=0;i<p.length;i+=1){h1=x.nextNode(p,i);switch(h1.nodeName){case"Apply":i1.push({"Type":"Apply","Value":n(t,h1)});break;case"LabeledElement":i1.push({"Name":h1.getAttribute("Name"),"Value":e(t,h1)});break;default:i1.push({"Type":h1.nodeName,"Value":x.getNodeText(h1)});break;}}l['Name']=k.getAttribute('Function');l['Parameters']=i1;return l;};o=function(l,p,h1){var i1,i,j1,k1,j,k;for(i=m.dataServices.schema.length-1;i>=0;i-=1){i1=m.dataServices.schema[i];if(i1.entityType){j1=i1.namespace+".";k1=i1.entityType;for(k=k1.length-1;k>=0;k-=1){if(j1+k1[k].name===l&&k1[k].navigationProperty){for(j=0;j<k1[k].navigationProperty.length;j+=1){if(k1[k].navigationProperty[j].name===p){return true;}}}}}}return false;};r=function(k){for(A in w){if(w.hasOwnProperty(A)){if(k.indexOf(A+".")>=0){k=k.replace(A+".",w[A]+".");return k;}}}return k;};if(this.initialized[a]){return this.initialized[a];}t=g(a);t=x.setNameSpace(t);u=x.selectNodes(t,"//d:Schema",t);for(i=0;i<u.length;i+=1){v=x.nextNode(u,i);S.Alias=v.getAttribute("Alias");S.Namespace=v.getAttribute("Namespace");}B=x.selectNodes(t,"//edmx:Reference",t);for(i=0;i<B.length;i+=1){C=x.nextNode(B,i);D=x.selectNodes(t,"./edmx:Include",C);if(D&&D.length>0){E=x.nextNode(D,0);if(E.getAttribute("Alias")){w[E.getAttribute("Alias")]=E.getAttribute("Namespace");}else{w[E.getAttribute("Namespace")]=E.getAttribute("Namespace");}}F=x.selectNodes(t,"./edmx:IncludeAnnotations",C);if(F.length>0){for(j=0;j<F.length;j+=1){G=x.nextNode(F,j);if(G.getAttribute("TargetNamespace")){z=G.getAttribute("TargetNamespace");if(!y[z]){y[z]={};}y[z][G.getAttribute("TermNamespace")]=C.getAttribute("Uri");}else{y[G.getAttribute("TermNamespace")]=C.getAttribute("Uri");}}}}if(y){q.annotationReferences=y;}q.aliasDefinitions=w;H=x.selectNodes(t,"//d:Term",t);if(H.length>0){T={};for(I=0;I<H.length;I+=1){J=x.nextNode(H,I);K=r(J.getAttribute("Type"));T["@"+S.Alias+"."+J.getAttribute("Name")]=K;}q.termDefinitions=T;}L=b(m);if(L.extensions){q.propertyExtensions=L.extensions;}N=x.selectNodes(t,"//d:Annotations ",t);for(I=0;I<N.length;I+=1){O=x.nextNode(N,I);if(O.hasChildNodes()===false){continue;}P=O.getAttribute("Target");Q=P.split(".")[0];if(Q&&w[Q]){P=P.replace(new RegExp(Q,""),w[Q]);}R=P;U=null;if(P.indexOf("/")>0){R=P.split("/")[0];U=P.replace(R+"/","");}if(!q[R]){q[R]={};}if(U){if(!q.propertyAnnotations){q.propertyAnnotations={};}if(!q.propertyAnnotations[R]){q.propertyAnnotations[R]={};}q.propertyAnnotations[R][U]={};V=x.selectNodes(t,"./d:Annotation",O);for(X=0;X<V.length;X+=1){W=x.nextNode(V,X);if(W.hasChildNodes()===false){Y=r(W.getAttribute("Term"));q.propertyAnnotations[R][U][Y]=d(W);}}}else{$=R.replace(w[Q],Q);V=x.selectNodes(t,"./d:Annotation",O);for(Z=0;Z<V.length;Z+=1){W=x.nextNode(V,Z);_=W.getAttribute("Qualifier");a1=r(W.getAttribute("Term"));if(_){a1+="#"+_;}b1=f(t,W,$);b1=s(b1,L.types,R,S);q[R][a1]=b1;}c1=x.selectNodes(t,"//d:Annotations[contains(@Target, '"+$+"')]//d:PropertyValue[contains(@Path, '/')]//@Path",t);for(i=0;i<c1.length;i+=1){d1=x.nextNode(c1,i);e1=d1.value;if(q.propertyAnnotations){if(q.propertyAnnotations[R]){if(q.propertyAnnotations[R][e1]){continue;}}}f1=e1.split('/');if(o(R,f1[0],m)){if(!q.expand){q.expand={};}if(!q.expand[R]){q.expand[R]={};}q.expand[R][f1[0]]=f1[0];}}g1=x.selectNodes(t,"//d:Annotations[contains(@Target, '"+$+"')]//d:Path[contains(., '/')]",t);for(i=0;i<g1.length;i+=1){d1=x.nextNode(g1,i);e1=x.getNodeText(d1);if(q.propertyAnnotations[R]){if(q.propertyAnnotations[R][e1]){continue;}}if(!q.expand){q.expand={};}if(!q.expand[R]){q.expand[R]={};}f1=e1.split('/');if(o(R,f1[0],m)){if(!q.expand){q.expand={};}if(!q.expand[R]){q.expand[R]={};}q.expand[R][f1[0]]=f1[0];}}}this.initialized[a]=q;}return q;};return M;},true);
sap.ui.predefine('sap/ushell/components/factsheet/controls/PictureTileRenderer',['sap/m/CustomTileRenderer','sap/ui/core/Renderer'],function(C,R){"use strict";var P=R.extend(C);P.render=function(r,c){jQuery.sap.log.debug("PictureTileRenderer :: begin rendering");r.write("<div ");r.writeControlData(c);r.addClass("sapCaUiPictureTile");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapCaUiPictureTileContent");r.writeClasses();r.write(">");r.write("<div id='"+c.getId()+"-wrapper'>");r.renderControl(c._oDeletePictureButton);this._renderContent(r,c);r.write("</div>");r.write("</div></div>");};P._renderContent=function(r,t){r.renderControl(t.getContent());};return P;},true);
sap.ui.predefine('sap/ushell/components/factsheet/controls/PictureViewerRenderer',['sap/m/TileContainerRenderer'],function(T){"use strict";var P={};P.render=function(r,c){jQuery.sap.log.debug("PictureViewerRenderer :: begin rendering");T.render(r,c);jQuery.sap.log.debug("PictureViewerRenderer :: end rendering");};return P;},true);
sap.ui.predefine('sap/ushell/components/factsheet/tools/ODataUrlTemplating',function(){"use strict";function P(p,t,u){this.parameter=p;this.template=t;this.semiConvertedUrl=u;this.message=" is a missing key parameter for constructing the entity url";this.toString=function(){return this.parameter+this.message;};}var O={ParameterException:P,resolve:function(t,d){var e,v,p,i,b=t.match(/{\s*[\w\.]+\s*}/g);e=t;for(i=b.length-1;i>=0;i-=1){p=b[i];v=d[p.replace(/[{}]/g,"")];if(v!==undefined){if(typeof v!=="string"){v=v[0];}v=encodeURIComponent(decodeURIComponent(v));e=e.replace(p,v);}}p=e.match(/{\s*[\w\.]+\s*}/g);if(p){jQuery.sap.log.error(" "+e);throw new this.ParameterException(p,t,e);}return e;}};return O;},true);
sap.ui.predefine('sap/ushell/components/tiles/action/ActionTile.controller',['sap/ui/core/IconPool','sap/ushell/components/tiles/utils'],function(I,u){"use strict";sap.ui.getCore().loadLibrary("sap.m");sap.ui.controller("sap.ushell.components.tiles.action.ActionTile",{onInit:function(){var v=this.getView();var V=v.getViewData();var r=u.getResourceBundleModel();var t=V.chip;var c=u.getActionConfiguration(t);var m;var a=this;function f(s,S){var b=r.getResourceBundle(),R=b.getText("configuration.semantic_object")+":\n"+s+"\n\n"+b.getText("configuration.semantic_action")+":\n"+S;return R;}v.setModel(r,"i18n");m=new sap.ui.model.json.JSONModel({config:c,displayText:f(c.semantic_object,c.semantic_action)});v.setModel(m);if(t.configurationUi.isEnabled()){t.configurationUi.setUiProvider(function(){var C=u.getConfigurationUi(a.getView(),"sap.ushell.components.tiles.action.Configuration");t.configurationUi.attachCancel(this.onCancelConfiguration.bind(null,C));t.configurationUi.attachSave(this.onSaveConfiguration.bind(this,C,f));return C;}.bind(this));v.byId("actionTile").setTooltip(r.getResourceBundle().getText("edit_configuration.tooltip"));}},onPress:function(e){var t=this.getView().getViewData().chip;if(t.configurationUi.isEnabled()){t.configurationUi.display();}},onSaveConfiguration:function(c,f){var d=jQuery.Deferred(),m=c.getModel(),t=m.getProperty("/tileModel"),T=c.getViewData().chip;function l(E){jQuery.sap.log.warning(E,null,"sap.ushell.components.tiles.action.ActionTile.controller");d.reject(E);}var r=u.checkTMInputOnSaveConfig(c);if(r){d.reject("mandatory_fields_missing");return d.promise();}if(u.tableHasDuplicateParameterNames(m.getProperty("/config/rows"))){var b=u.getResourceBundleModel().getResourceBundle();d.reject(b.getText("configuration.signature.uniqueParamMessage.text"));}else{var F=m.getProperty("/config/formFactorConfigDefault")?undefined:u.buildFormFactorsObject(m);var M=u.getMappingSignatureString(m.getProperty("/config/rows"),m.getProperty("/config/isUnknownAllowed"));var o=u.getMappingSignature(m.getProperty("/config/rows"),m.getProperty("/config/isUnknownAllowed"));var a={semantic_object:jQuery.trim(m.getProperty("/config/semantic_object"))||"",semantic_action:jQuery.trim(m.getProperty("/config/semantic_action"))||"",display_title_text:jQuery.trim(m.getProperty("/config/display_title_text"))||"",url:jQuery.trim(m.getProperty("/config/url"))||"",ui5_component:jQuery.trim(m.getProperty("/config/ui5_component"))||"",navigation_provider:jQuery.trim(m.getProperty("/config/navigation_provider")),navigation_provider_role:jQuery.trim(m.getProperty("/config/navigation_provider_role"))||"",navigation_provider_instance:jQuery.trim(m.getProperty("/config/navigation_provider_instance"))||"",target_application_id:jQuery.trim(m.getProperty("/config/target_application_id"))||"",target_application_alias:jQuery.trim(m.getProperty("/config/target_application_alias"))||"",transaction:{code:jQuery.trim(m.getProperty("/config/transaction/code"))},web_dynpro:{application:jQuery.trim(m.getProperty("/config/web_dynpro/application")),configuration:jQuery.trim(m.getProperty("/config/web_dynpro/configuration"))},target_system_alias:jQuery.trim(m.getProperty("/config/target_system_alias")),display_info_text:jQuery.trim(m.getProperty("/config/display_info_text")),form_factors:F,mapping_signature:M,signature:o};var e=T.bag.getBag('tileProperties');e.setText('display_title_text',a.display_title_text);T.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(a)},function(){var C=u.getActionConfiguration(T,false);var g=u.getActionConfiguration(T,true);m=new sap.ui.model.json.JSONModel({config:C,tileModel:t});c.setModel(m);t.setData({config:g,displayText:f(g.semantic_object,g.semantic_action)},false);e.save(function(){jQuery.sap.log.debug("property bag 'tileProperties' saved successfully");d.resolve();},l);},l);}return d.promise();},onCancelConfiguration:function(c){var v=c.getViewData();var m=c.getModel();var t=m.getProperty("/tileModel");var T=v.chip;var C=u.getActionConfiguration(T,false);c.getModel().setData({config:C,tileModel:t},false);}});},true);
sap.ui.predefine('sap/ushell/components/tiles/action/Configuration.controller',['sap/ushell/components/tiles/utils'],function(u){"use strict";sap.ui.controller("sap.ushell.components.tiles.action.Configuration",{sEnterValuePlaceHolder:"",sDuplicateErrorMsg:"",sDuplicateErrorTitle:"",sInvalidParmMsg:"",aDefaultObjects:[{obj:"",name:""},{obj:"*",name:"*"}],onConfigurationInputChange:function(c){u.checkTMInput(this.getView(),c);},onInit:function(){var v=this.getView();var s=v.byId("semantic_objectInput");var r=v.byId("navigation_provider_roleInput");var i=v.byId("navigation_provider_instanceInput");var a=v.byId("target_application_aliasInput");var A=v.byId("semantic_actionInput");var t=v.byId("targetTypeInput");var R=u.getResourceBundleModel();v.setModel(R,"i18n");v.setViewName("sap.ushell.components.tiles.action.Configuration");u.createSemanticObjectModel(this,s,this.aDefaultObjects);u.createRoleModel(this,r,i);u.createAliasModel(this,a);u.createActionModel(this,A);u.createNavigationProviderModel(this,t);s.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty("/config/semantic_object",V);});r.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty("/config/navigation_provider_role",V);u.updateAliasModel(v,a);});i.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty("/config/navigation_provider_instance",V);});a.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty("/config/target_application_alias",V);});var b=R.getResourceBundle();this.sEnterValuePlaceHolder=b.getText("configuration.signature.table.valueFieldLbl");this.sDuplicateErrorMsg=b.getText("configuration.signature.uniqueParamMessage.text");this.sDuplicateErrorTitle=b.getText("configuration.signature.uniqueParamMessage.title");this.sInvalidParmMsg=b.getText("configuration.signature.invalidParamMessage.text");},handleMandatoryChange:function(m){var i=m.getParameter('id');var p=sap.ui.getCore().byId(i).getParent().getCells();var I=m.getParameter('checked');if(I){p[2].setEnabled(true);p[2].setPlaceholder(this.sEnterValuePlaceHolder);p[4].setEnabled(false);p[4].setValue("");p[4].setPlaceholder("");p[3].setEnabled(true);}else{p[2].setEnabled(false);p[2].setValue("");p[2].setPlaceholder("");p[4].setEnabled(true);p[4].setPlaceholder(this.sEnterValuePlaceHolder);p[3].setEnabled(false);p[3].setChecked(false);}},addRow:function(){var v=this.getView();var m=v.getModel();var r=m.getProperty('/config/rows');var n=u.getEmptyRowObj();r.push(n);m.setProperty('/config/rows',r);},deleteRow:function(){var v=this.getView();var m=v.getModel();var r=m.getProperty('/config/rows');var t=v.byId("mappingSignatureTable");var s=t.getSelectedIndices();var S=s.sort(function(a,b){return b-a;}).slice();for(var i=0;i<S.length;i++){t.removeSelectionInterval(S[i],S[i]);r.splice(S[i],1);}m.setProperty('/config/rows',r);},checkDuplicateNames:function(c){var m=this.getView().getModel();var r=m.getProperty('/config/rows');var n=sap.ui.getCore().byId(c.getParameter('id'));var N=c.getParameter('newValue');if(N!=""&&!(/^[\w-/]+$/.test(N))){n.setValueState(sap.ui.core.ValueState.Error);sap.m.MessageBox.alert(this.sInvalidParmMsg,this.focusNameField.bind(n),this.sDuplicateErrorTitle);}if(u.tableHasDuplicateParameterNames(r)){n.setValueState(sap.ui.core.ValueState.Error);sap.m.MessageBox.alert(this.sDuplicateErrorMsg,this.focusNameField.bind(n),this.sDuplicateErrorTitle);}else{n.setValueState(sap.ui.core.ValueState.None);}},focusNameField:function(){this.focus();},onValueHelpRequest:function(e){u.objectSelectOnValueHelpRequest(this,e,false);},onActionValueHelpRequest:function(e){u.actionSelectOnValueHelpRequest(this,e);},onRoleValueHelpRequest:function(e){u.roleSelectOnValueHelpRequest(this,e);},onInstanceValueHelpRequest:function(e){u.instanceSelectOnValueHelpRequest(this,e);},instanceSuggest:function(e){u.instanceSuggest(this,e);},aliasSuggest:function(e){u.aliasSuggest(this,e);},onAliasValueHelpRequest:function(e){u.applicationAliasSelectOnValueHelpRequest(this,e);},onFormFactorChange:function(){var m=this.getView().getModel();m.setProperty('/config/formFactorConfigDefault',false);},onApplicationTypeChange:function(e){var p=e.getParameters();if(p.selectedItem){u.displayApplicationTypeFields(p.selectedItem.getKey(),this.getView());}}});},true);
sap.ui.predefine('sap/ushell/components/tiles/applauncher/Configuration.controller',['sap/ushell/components/tiles/utils'],function(u){"use strict";sap.ui.controller("sap.ushell.components.tiles.applauncher.Configuration",{onConfigurationInputChange:function(c){u.checkInput(this.getView(),c);},aDefaultObjects:[{obj:"",name:""}],onInit:function(){var v=this.getView(),t=v.byId("targetUrl"),s=v.byId("navigation_semantic_objectInput"),a=v.byId("navigation_semantic_actionInput"),r=u.getResourceBundleModel();v.setModel(r,"i18n");var b=r.getResourceBundle();v.setViewName("sap.ushell.components.tiles.applauncher.Configuration");u.createSemanticObjectModel(this,s,this.aDefaultObjects);u.createActionModel(this,a);s.attachChange(function(C){var V=C.getSource().getValue();v.getModel().setProperty("/config/navigation_semantic_object",V);});function c(U){return!U;}t.bindProperty("enabled",{formatter:c,path:"/config/navigation_use_semantic_object"});var i=new sap.ui.core.ListItem({key:"URL",text:b.getText("configuration.tile_actions.table.target_type.url")});v.byId("targetTypeCB").addItem(i);i=new sap.ui.core.ListItem({key:"INT",text:b.getText("configuration.tile_actions.table.target_type.intent")});v.byId("targetTypeCB").addItem(i);},onAfterRendering:function(){u.updateMessageStripForOriginalLanguage(this.getView());},onValueHelpRequest:function(e){u.objectSelectOnValueHelpRequest(this,e,false);},onActionValueHelpRequest:function(e){u.actionSelectOnValueHelpRequest(this,e,false);},onCheckBoxChange:function(e){var v=this.getView(),s=v.byId("navigation_semantic_objectInput"),m=s.getModel(),a=e.getSource().getSelected();m.setProperty("/enabled",a);u.checkInput(this.getView(),e);},onIconValueHelpRequest:function(e){u.iconSelectOnValueHelpRequest(this,e,false);},onSelectIconClose:function(){u.onSelectIconClose(this.getView());},onSelectIconOk:function(){u.onSelectIconOk(this.getView());},handleTargetTypeChange:function(t){u.onTargetTypeChange(t);},onTileActionValueHelp:function(e){u.objectSelectOnValueHelpRequest(this,e,true);},onTileActionIconValueHelp:function(e){u.iconSelectOnValueHelpRequest(this,e,true);},addRow:function(){u.addTileActionsRow(this.getView());},deleteRow:function(){u.deleteTileActionsRow(this.getView());}});},true);
sap.ui.predefine('sap/ushell/components/tiles/applauncherdynamic/Configuration.controller',['sap/ushell/components/tiles/utils'],function(u){"use strict";sap.ui.controller("sap.ushell.components.tiles.applauncherdynamic.Configuration",{onConfigurationInputChange:function(c){u.checkInput(this.getView(),c);},aDefaultObjects:[{obj:"",name:""}],onInit:function(){var v=this.getView(),s=v.byId("navigation_semantic_objectInput"),a=v.byId("navigation_semantic_actionInput"),r=u.getResourceBundleModel();v.setModel(r,"i18n");var b=r.getResourceBundle();v.setViewName("sap.ushell.components.tiles.applauncherdynamic.Configuration");u.createSemanticObjectModel(this,s,this.aDefaultObjects);u.createActionModel(this,a,this.aDefaultObjects);s.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty("/config/navigation_semantic_object",V);});a.attachChange(function(c){var V=c.getSource().getValue();v.getModel().setProperty("/config/navigation_semantic_action",V);});v.byId("targetUrl").bindProperty("enabled",{formatter:function(U){return!U;},path:"/config/navigation_use_semantic_object"});var i=new sap.ui.core.ListItem({key:"URL",text:b.getText("configuration.tile_actions.table.target_type.url")});v.byId("targetTypeCB").addItem(i);i=new sap.ui.core.ListItem({key:"INT",text:b.getText("configuration.tile_actions.table.target_type.intent")});v.byId("targetTypeCB").addItem(i);},onAfterRendering:function(){u.updateMessageStripForOriginalLanguage(this.getView());},onValueHelpRequest:function(e){u.objectSelectOnValueHelpRequest(this,e,false);},onActionValueHelpRequest:function(e){u.actionSelectOnValueHelpRequest(this,e,false);},onCheckBoxChange:function(e){var v=this.getView(),s=v.byId("navigation_semantic_objectInput"),m=s.getModel(),a=e.getSource().getSelected();m.setProperty("/enabled",a);u.checkInput(this.getView(),e);},onIconValueHelpRequest:function(e){u.iconSelectOnValueHelpRequest(this,e,false);},onSelectIconClose:function(){u.onSelectIconClose(this.getView());},onSelectIconOk:function(){u.onSelectIconOk(this.getView());},handleTargetTypeChange:function(t){u.onTargetTypeChange(t);},onTileActionValueHelp:function(e){u.objectSelectOnValueHelpRequest(this,e,true);},onTileActionIconValueHelp:function(e){u.iconSelectOnValueHelpRequest(this,e,true);},addRow:function(){u.addTileActionsRow(this.getView());},deleteRow:function(){u.deleteTileActionsRow(this.getView());}});},true);
sap.ui.predefine('sap/ushell/components/tiles/cdm/applauncher/StaticTile.controller',['sap/ui/core/IconPool','sap/ushell/components/tiles/utils','sap/ushell/components/tiles/utilsRT'],function(I,u,a){"use strict";sap.ui.getCore().loadLibrary("sap.m");sap.ui.controller("sap.ushell.components.tiles.cdm.applauncher.StaticTile",{_getConfiguration:function(){var v=this.getView().getViewData(),c={};c.configuration=v.configuration;c.properties=v.properties;var s=c.configuration["sap-system"];var t=c.properties.targetURL;if(t&&s){t+=((t.indexOf("?")<0)?"?":"&")+"sap-system="+s;c.properties.targetURL=t;}return c;},onInit:function(){var v=this.getView();var m=new sap.ui.model.json.JSONModel();m.setData(this._getConfiguration());v.setModel(m);},onPress:function(e){if(e.getSource().getScope&&e.getSource().getScope()===sap.m.GenericTileScope.Display){var t=this.getView().getModel().getProperty("/properties/targetURL");if(!t){return;}if(t[0]==='#'){hasher.setHash(t);}else{window.open(t,'_blank');}}},updatePropertiesHandler:function(n){var p=this.getView().getModel().getProperty("/properties");var c=false;if(typeof n.title!=='undefined'){p.title=n.title;c=true;}if(typeof n.subtitle!=='undefined'){p.subtitle=n.subtitle;c=true;}if(typeof n.icon!=='undefined'){p.icon=n.icon;c=true;}if(c){this.getView().getModel().setProperty("/properties",p);}}});},true);
sap.ui.predefine('sap/ushell/components/tiles/cdm/applauncher/StaticTile.view',function(){"use strict";sap.ui.jsview("sap.ushell.components.tiles.cdm.applauncher.StaticTile",{getControllerName:function(){return"sap.ushell.components.tiles.cdm.applauncher.StaticTile";},createContent:function(c){this.setHeight('100%');this.setWidth('100%');jQuery.sap.require('sap.m.GenericTile');jQuery.sap.require('sap.m.ImageContent');var c=this.getController();return new sap.m.GenericTile({header:'{/properties/title}',subheader:'{/properties/subtitle}',size:'Auto',tileContent:new sap.m.TileContent({size:"Auto",content:new sap.m.ImageContent({src:'{/properties/icon}',width:"100%"})}),press:[c.onPress,c]});}});},true);
sap.ui.predefine('sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.controller',['sap/ui/core/IconPool','sap/ui/thirdparty/datajs','sap/ushell/components/tiles/utils'],function(I,d,u){"use strict";sap.ui.getCore().loadLibrary("sap.m");sap.ui.controller("sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile",{timer:null,oDataRequest:null,_getConfiguration:function(){var v=this.getView().getViewData(),c={};c.configuration=v.configuration;c.properties=v.properties;c.properties.info=c.properties.info||"";c.properties.number_value='...';c.properties.number_value_state='Neutral';c.properties.number_state_arrow='None';c.properties.number_factor='';c.properties.number_unit='';var s=c.configuration["sap-system"];var t=c.properties.targetURL;if(t&&s){t+=((t.indexOf("?")<0)?"?":"&")+"sap-system="+s;c.properties.targetURL=t;}return c;},onInit:function(){var v=this.getView();var m=new sap.ui.model.json.JSONModel();m.setData(this._getConfiguration());v.setModel(m);this.initUpdateDynamicData();},refreshHandler:function(){this.loadData(0);},visibleHandler:function(i){if(i){if(!this.oDataRequest){this.refreshHandler(this);}}else{this.stopRequests();}},updateVisualPropertiesHandler:function(n){var p=this.getView().getModel().getProperty("/properties");var c=false;if(typeof n.title!=='undefined'){p.title=n.title;c=true;}if(typeof n.subtitle!=='undefined'){p.subtitle=n.subtitle;c=true;}if(typeof n.icon!=='undefined'){p.icon=n.icon;c=true;}if(c){this.getView().getModel().setProperty("/properties",p);}},stopRequests:function(){if(this.timer){clearTimeout(this.timer);}if(this.oDataRequest){try{this.oDataRequest.abort();}catch(e){jQuery.sap.log.warning(e.name,e.message);}}},onPress:function(e){if(e.getSource().getScope&&e.getSource().getScope()===sap.m.GenericTileScope.Display){var t=this.getView().getModel().getProperty("/properties/targetURL");if(!t){return;}else if(t[0]==='#'){hasher.setHash(t);}else{window.open(t,'_blank');}}},initUpdateDynamicData:function(){var v=this.getView(),s=v.getModel().getProperty("/configuration/serviceUrl"),S=v.getModel().getProperty("/configuration/serviceRefreshInterval");if(!S){S=0;}else if(S<10){jQuery.sap.log.warning("Refresh Interval "+S+" seconds for service URL "+s+" is less than 10 seconds, which is not supported. Increased to 10 seconds automatically.",null,"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile.controller");S=10;}if(s){this.loadData(S);}},extractData:function(D){var n,k=["results","icon","title","number","numberUnit","info","infoState","infoStatus","targetParams","subtitle","stateArrow","numberState","numberDigits","numberFactor"];if(typeof D==="object"&&Object.keys(D).length===1){n=Object.keys(D)[0];if(jQuery.inArray(n,k)===-1){return D[n];}}return D;},successHandleFn:function(r){var c=this.getView().getModel().getProperty("/configuration");var D=r;this.oDataRequest=undefined;if(typeof r==="object"){var a=jQuery.sap.getUriParameters(c.serviceUrl).get("$inlinecount");if(a&&a==="allpages"){D={number:r.__count};}else{D=this.extractData(D);}}else if(typeof r==="string"){D={number:r};}this.updatePropertiesHandler(D);},errorHandlerFn:function(m){this.oDataRequest=undefined;var M=m&&m.message?m.message:m,r=u.getResourceBundleModel().getResourceBundle(),U=this.getView().getModel().getProperty("/configuration/serviceUrl");if(m.response){M+=" - "+m.response.statusCode+" "+m.response.statusText;}jQuery.sap.log.error("Failed to update data via service "+U+": "+M,null,"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile");this.updatePropertiesHandler({number:"???",info:r.getText("dynamic_data.error")});},loadData:function(s){var U=this.getView().getModel().getProperty("/configuration/serviceUrl");if(!U){return;}if(s>0){jQuery.sap.log.info("Wait "+s+" seconds before calling "+U+" again",null,"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile.controller");this.timer=setTimeout(this.loadData.bind(this,s,false),(s*1000));}if(!this.oDataRequest){this.oDataRequest=OData.read({requestUri:U,headers:{"Cache-Control":"no-cache, no-store, must-revalidate","Pragma":"no-cache","Expires":"0"}},this.successHandleFn.bind(this),this.errorHandlerFn.bind(this));}},onExit:function(){this.stopRequests();},addParamsToUrl:function(U,t){var p="",b=U.indexOf("?")!==-1,i;if(t&&t.length>0){for(i=0;i<t.length;i=i+1){p+=t[i];if(i<t.length-1){p+="&";}}}if(p.length>0){if(!b){U+="?";}else{U+="&";}U+=p;}return U;},_normalizeNumber:function(n,m,a,N){var b;if(isNaN(n)){b=n;}else{var o=sap.ui.core.format.NumberFormat.getFloatInstance({maxFractionDigits:N});if(!a){if(n>=1000000000){a='B';n/=1000000000;}else if(n>=1000000){a='M';n/=1000000;}else if(n>=1000){a='K';n/=1000;}}b=o.format(n);}var c=b;var e=c[m-1];m-=(e==='.'||e===',')?1:0;c=c.substring(0,m);return{displayNumber:c,numberFactor:a};},updatePropertiesHandler:function(D){var a=0,i,n,c,C,p=this.getView().getModel().getProperty("/properties"),U={title:D.title||p.title||"",subtitle:D.subtitle||p.subtitle||"",icon:D.icon||p.icon||"",info:D.info||p.info||"",targetURL:D.targetURL||p.targetURL||"",number_value:!isNaN(D.number)?D.number:"...",number_digits:D.numberDigits>=0?D.numberDigits:4,number_unit:D.numberUnit||p.number_unit||"",number_state_arrow:D.stateArrow||p.number_state_arrow||"None",number_value_state:D.numberState||p.number_value_state||"Neutral",number_factor:D.numberFactor||p.number_factor||""};var t=[];if(D.targetParams){t.push(D.targetParams);}if(D.results){for(i=0,n=D.results.length;i<n;i=i+1){c=D.results[i].number||0;if(typeof c==="string"){c=parseInt(c,10);}a=a+c;C=D.results[i].targetParams;if(C){t.push(C);}}U.number_value=a;}if(t.length>0){U.targetURL=this.addParamsToUrl(U.targetURL,t);}if(!isNaN(D.number)){if(typeof D.number==="string"){D.number=D.number.trim();}jQuery.sap.require("sap.ui.core.format.NumberFormat");var s=this._shouldProcessDigits(D.number,D.numberDigits),m=U.icon?4:5;if(D.number&&D.number.length>=m||s){var N=this._normalizeNumber(D.number,m,D.numberFactor,D.numberDigits);U.number_factor=N.numberFactor;U.number_value=N.displayNumber;}else{var o=sap.ui.core.format.NumberFormat.getFloatInstance({maxFractionDigits:m});U.number_value=o.format(D.number);}}if(U.number_value_state){switch(U.number_value_state){case"Positive":U.number_value_state="Good";break;case"Negative":U.number_value_state="Error";break;}}this.getView().getModel().setProperty("/properties",U);},_shouldProcessDigits:function(D,i){var n;D=typeof(D)!=='string'?D.toString():D;if(D.indexOf('.')!==-1){n=D.split(".")[1].length;if(n>i){return true;}}return false;}});},true);
sap.ui.predefine('sap/ushell/components/tiles/cdm/applauncherdynamic/DynamicTile.view',function(){"use strict";sap.ui.jsview("sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile",{getControllerName:function(){return"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile";},createContent:function(c){this.setHeight('100%');this.setWidth('100%');jQuery.sap.require('sap.m.GenericTile');var c=this.getController();return new sap.m.GenericTile({size:'Auto',header:'{/properties/title}',subheader:'{/properties/subtitle}',tileContent:[new sap.m.TileContent({size:'Auto',footer:'{/properties/info}',unit:'{/properties/number_unit}',content:[new sap.m.NumericContent({truncateValueTo:5,scale:'{/properties/number_factor}',value:'{/properties/number_value}',indicator:'{/properties/number_state_arrow}',valueColor:'{/properties/number_value_state}',icon:'{/properties/icon}',width:'100%'})]})],press:[c.onPress,c]});}});},true);
sap.ui.predefine('sap/ushell/components/treeview/NavTree.view',function(){"use strict";sap.ui.jsview("sap.ushell.components.treeview.NavTree",{createContent:function(c){jQuery.sap.require('sap.m.List');jQuery.sap.require('sap.m.CustomListItem');var l=new sap.m.CustomListItem({content:new sap.m.Link({text:"{title}",href:"{target}"}).addStyleClass('sapUshellNavTreeLink')}).addEventDelegate({onclick:c.onNavTreeTitleChange.bind(c)}).addStyleClass('sapUshellNavTreeListItem sapUshellNavTreeChild sapUshellNavTreeChildHide sapUshellNavTree_visual_transition');var L=new sap.m.List({items:{path:'/items',groupHeaderFactory:jQuery.proxy(c.getGroupHeader,c),sorter:new sap.ui.model.Sorter("groupIndex",false,true),template:l}});var o=L.onAfterRendering;L.onAfterRendering=function(){o.apply(this,arguments);if(this.getItems().length>0){var f=this.getItems()[0];if(f.getMetadata().getName()==="sap.m.GroupHeaderListItem"&&f.getTitle&&!f.getTitle()){f.destroy();}var O=jQuery('.sapUshellNavTreeParent');O.each(function(){var q=jQuery(this);var i=sap.ui.getCore().byId(q.attr('id'));var I=i.getContent().length&&i.getContent()[0]&&i.getContent()[0].getSrc()||'';if(I==='slim-arrow-down'){q.nextUntil('.sapUshellNavTreeSingle, .sapUshellNavTreeParent').removeClass("sapUshellNavTreeChildHide");}});}};return L;},getControllerName:function(){return"sap.ushell.components.treeview.NavTree";}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/allMyApps/AllMyApps.controller',['sap/ushell/renderers/fiori2/allMyApps/AllMyAppsManager'],function(A){"use strict";var s=false,K=function(v){this.init(v);};sap.ui.controller("sap.ushell.renderers.fiori2.allMyApps.AllMyApps",{oStateEnum:{FIRST_LEVEL:0,SECOND_LEVEL:1,DETAILS:2,FIRST_LEVEL_SPREAD:3},iNumberOfProviders:0,onInit:function(){var a=new sap.ui.model.json.JSONModel();a.setProperty("/AppsData",[]);this.getView().setModel(a,'allMyAppsModel');sap.ui.getCore().getEventBus().subscribe("launchpad","allMyAppsFirstCatalogLoaded",this.updateMasterFocusAndDetailsContext,this);sap.ui.getCore().getEventBus().subscribe("launchpad","allMyAppsFirstCatalogLoaded",this.onDetailLoad,this);sap.ui.getCore().getEventBus().subscribe("launchpad","allMyAppsMasterLoaded",this.onMasterLoad,this);sap.ui.getCore().getEventBus().subscribe("launchpad","allMyAppsNoCatalogsLoaded",this.onNoCatalogsLoaded,this);},onExit:function(){sap.ui.getCore().getEventBus().unsubscribe("launchpad","allMyAppsFirstCatalogLoaded",this.updateMasterFocusAndDetailsContext);sap.ui.getCore().getEventBus().unsubscribe("launchpad","allMyAppsFirstCatalogLoaded",this.onDetailLoad,this);sap.ui.getCore().getEventBus().unsubscribe("launchpad","allMyAppsMasterLoaded",this.onMasterLoad,this);sap.ui.getCore().getEventBus().unsubscribe("launchpad","allMyAppsNoCatalogsLoaded",this.onNoCatalogsLoaded,this);},onAfterRendering:function(){var t=this,v=this.getView(),a=v.getModel("allMyAppsModel"),S=v.oSplitApp;if(!this.bAfterInitialLoading){S.toMaster("allMyAppsMasterBusyIndicator","show");if(!sap.ui.Device.system.phone){S.toDetail("allMyAppsDetailBusyIndicator","show");}}a.setProperty("/AppsData",[]);setTimeout(function(){t._getAllMyAppsManager().loadAppsData(a,t._getPopoverObject());s=t._isSingleDataSource();t.switchToInitialState();},100);},switchToInitialState:function(){var v=this.getView(),S=v.getModel(),b,o=v.getModel().getProperty("/ShellAppTitleState");if(this._isSingleDataSource()){S.setProperty('/allMyAppsMasterLevel',this.oStateEnum.FIRST_LEVEL_SPREAD);v.oDataSourceList.bindItems("allMyAppsModel>/AppsData/0/groups",v.oDataSourceListTemplate);}else{S.setProperty('/allMyAppsMasterLevel',this.oStateEnum.FIRST_LEVEL);v.oDataSourceList.bindItems("allMyAppsModel>/AppsData",v.oDataSourceListTemplate);}v.oDataSourceList.rerender();this.updateMasterFocusAndDetailsContext(undefined,undefined,{bFirstCatalogLoadedEvent:false});this._getPopoverHeaderLabel().setText(sap.ushell.resources.i18n.getText("allMyApps_headerTitle"));b=this._getPopoverHeaderBackButton();if(o===this._getShellAppTitleStateEnum().ALL_MY_APPS_ONLY){b.setVisible(false);}else{b.setVisible(true);}},handleSwitchToMasterAreaOnPhone:function(){var S=this.getView().oSplitApp,o=this.getView().getModel(),a=this._getDataSourcesSelectedPath(),p=a.split('/'),b=this.getView().getModel().getProperty("/ShellAppTitleState"),B=this._getPopoverHeaderBackButton();S.toMaster("sapUshellAllMyAppsMasterPage","show");if(this._isSingleDataSource()){o.setProperty('/allMyAppsMasterLevel',this.oStateEnum.FIRST_LEVEL_SPREAD);if(b===this._getShellAppTitleStateEnum().ALL_MY_APPS_ONLY){B.setVisible(false);}}else if(p.length===3){o.setProperty('/allMyAppsMasterLevel',this.oStateEnum.FIRST_LEVEL);if(b===this._getShellAppTitleStateEnum().ALL_MY_APPS_ONLY){B.setVisible(false);}}else{o.setProperty('/allMyAppsMasterLevel',this.oStateEnum.SECOND_LEVEL);}},handleMasterListItemPress:function(o){var c=this._getClickedDataSourceItemPath(o),v=this.getView(),a=v.getModel('allMyAppsModel'),C=a.getProperty(c+"/type"),S=v.getModel(),b=S.getProperty('/allMyAppsMasterLevel'),i=(C===sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().CATALOG),B;if(i||(b===this.oStateEnum.FIRST_LEVEL_SPREAD)||(b===this.oStateEnum.SECOND_LEVEL)){B=this.handleMasterListItemPress_toDetails(o);}else{B=this.handleMasterListItemPress_toSecondLevel(o);}v.oCustomLabel.setBindingContext(B,'allMyAppsModel');v.oCustomLink.setBindingContext(B,'allMyAppsModel');v.oCustomPanel.setBindingContext(B,'allMyAppsModel');},handleMasterListItemPress_toSecondLevel:function(o){var c=this._getClickedDataSourceItemPath(o),v=this.getView(),b,S=v.getModel().getProperty("/ShellAppTitleState"),a=v.getModel('allMyAppsModel'),C=a.getProperty(c+"/type"),d=a.getProperty(c+"/title"),e=v.getModel(),f=this.getView().oSplitApp,B;if(!sap.ui.Device.system.phone){f.toDetail("sapUshellAllMyAppsDetailsPage");}v.oDataSourceList.bindItems('allMyAppsModel>'+c+"/groups",v.oDataSourceListTemplate);e.setProperty('/allMyAppsMasterLevel',this.oStateEnum.SECOND_LEVEL);if(S===this._getShellAppTitleStateEnum().ALL_MY_APPS_ONLY){b=this._getPopoverHeaderBackButton();b.setVisible(true);}this._setBindingContext(c+"/groups/0",v.oItemsContainer);v.oDataSourceList.rerender();v.oDataSourceList.setSelectedItem(v.oDataSourceList.getItems()[0]);v.oDataSourceList.getSelectedItem().focus();if(C===sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().HOME){this._getPopoverHeaderLabel().setText(sap.ushell.resources.i18n.getText("allMyApps_homeEntryTitle"));}else if(C===sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().EXTERNAL){this._getPopoverHeaderLabel().setText(d);}this._getDetailsHeaderLabel().setText(a.getProperty(c+"/groups/0/title"));return B;},handleMasterListItemPress_toDetails:function(c){var C=this._getClickedDataSourceItemPath(c),v=this.getView(),S=v.getModel(),a=v.getModel('allMyAppsModel'),o=v.oSplitApp,b=this._getPopoverHeaderBackButton(),B=this._setBindingContext(C,v.oItemsContainer);this._getDetailsHeaderLabel().setText(a.getProperty(C+"/title"));if(sap.ui.Device.system.phone){o.toDetail("sapUshellAllMyAppsDetailsPage");S.setProperty('/allMyAppsMasterLevel',this.oStateEnum.DETAILS);b.setVisible(true);}return B;},onMasterLoad:function(){var v=this.getView(),S=v.oSplitApp,b=this._getPopoverHeaderBackButton();this.bAfterInitialLoading=true;if(S.getCurrentMasterPage()==v.oMasterBusyIndicator){S.toMaster("sapUshellAllMyAppsMasterPage","show");}b.focus();s=this._isSingleDataSource();this.updateMasterFocusAndDetailsContext(undefined,undefined,{bFirstCatalogLoadedEvent:false});},onDetailLoad:function(){var v=this.getView(),S=v.oSplitApp;this.bAfterInitialLoading=true;if(!sap.ui.Device.system.phone){S.toDetail("sapUshellAllMyAppsDetailsPage","show");}},onNoCatalogsLoaded:function(){var v=this.getView(),S=v.oSplitApp;if((!sap.ui.Device.system.phone)&&(!s)){S.toDetail("sapUshellAllMyAppsEmptyDetailsPage","show");}else if((!sap.ui.Device.system.phone)&&s){S.toDetail("sapUshellAllMyAppsDetailsPage");}},updateMasterFocusAndDetailsContext:function(c,e,d){var v=this.getView(),S=v.getModel(),a=v.getModel('allMyAppsModel'),f=this._getInitialFirstLevelSelectionIndex(),b,B,o,g=this.getView().oSplitApp;if(s===true){b=a.createBindingContext("/AppsData/0/groups/0");B=a.getProperty(b.sPath);}else{b=a.createBindingContext("/AppsData/"+f);B=a.getProperty(b.sPath);}v.oItemsContainer.setBindingContext(b,'allMyAppsModel');v.oCustomLabel.setBindingContext(b,'allMyAppsModel');v.oCustomLink.setBindingContext(b,'allMyAppsModel');v.oCustomPanel.setBindingContext(b,'allMyAppsModel');if(B!==undefined){this._getDetailsHeaderLabel().setText(B.title);}if(d.bFirstCatalogLoadedEvent===true){v.oDataSourceList.rerender();}if(d.bFirstCatalogLoadedEvent===false&&f===0){this.onNoCatalogsLoaded();}v.oDataSourceList.setSelectedItem(v.oDataSourceList.getItems()[f]);o=v.oDataSourceList.getSelectedItem();if(o){o.focus();}if(d.bFirstCatalogLoadedEvent){jQuery.sap.measure.end("FLP:ShellAppTitle.onClick");jQuery.sap.measure.end("FLP:ShellNavMenu.footerClick");}},handleGroupPress:function(e){var d=this.getView().oCustomLink.getBindingContext("allMyAppsModel").getObject();if(d.handlePress){d.handlePress(e,d);}},toggleMasterArea:function(){var S=this.getView().oSplitApp;!this.bMasterShown?S.showMaster():S.hideMaster();this.bMasterShown=!this.bMasterShown;},onAppItemClick:function(c){var a=this.getView().getModel('allMyAppsModel'),C=c.getBindingContext("allMyAppsModel").sPath,u=a.getProperty(C+"/url");if(u){if(u[0]==='#'){hasher.setHash(u);setTimeout(function(){this.getView().getParent().close();}.bind(this),50);}else{window.open(u,'_blank');}}},getCurrentState:function(){var S=this.getView().getModel();return S.getProperty('/allMyAppsMasterLevel');},getStateEnum:function(){return this.oStateEnum;},_isSingleDataSource:function(){var a=sap.ushell.Container.getService("AllMyApps");if(a.isCatalogAppsEnabled()){return false;}if(!a.isExternalProviderAppsEnabled()&&a.isHomePageAppsEnabled()){return true;}if(a.isExternalProviderAppsEnabled()&&Object.keys(a.getDataProviders()).length===1&&!a.isHomePageAppsEnabled()){return true;}return false;},_getInitialFirstLevelSelectionIndex:function(){var v=this.getView(),a=v.getModel('allMyAppsModel'),d=a.getProperty("/AppsData"),i,t;for(i=0;i<d.length;i++){t=d[i];if(t.type===sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().CATALOG){return i;}}return 0;},_getPopoverHeaderBackButton:function(){return this._getPopoverHeaderContent(0);},getShellAppTitleToggleListButton:function(){return this._getPopoverHeaderContent(1);},_getPopoverHeaderContent:function(c){var C,h,b;C=this._getPopoverObject().getCustomHeader();h=C.getContentLeft();b=h[c];return b;},_getPopoverHeaderLabel:function(){var c,C;c=this._getPopoverObject().getCustomHeader();C=c.getContentMiddle();return C[0];},_getPopoverObject:function(){return this.getView().getParent();},_getDetailsHeaderLabel:function(){return this.getView().oDetailsHeaderLabel;},_setBindingContext:function(b,B){var a=this.getView().getModel("allMyAppsModel"),o=a.createBindingContext(b);B.setBindingContext(o,"allMyAppsModel");return o;},_getClickedDataSourceItemPath:function(o){var c=o.getParameter("listItem");return c.getBindingContext('allMyAppsModel').sPath;},_getAllMyAppsManager:function(){return A;},_getDataSourcesSelectedPath:function(){var d=this.getView().oDataSourceList,S=d.getSelectedContextPaths(),a=S[0];return a;},_getShellAppTitleStateEnum:function(){var S=sap.ui.getCore().byId("shellAppTitle");return S.getStateEnum();},initKeyBoardNavigationHandling:function(){if(this.keyboardNavigation){this.keyboardNavigation.destroy();}this.keyboardNavigation=new K(this.getView());}});K.prototype.init=function(v){this.keyCodes=jQuery.sap.KeyCodes;v.oDataSourceList.addEventDelegate({onsaptabnext:function(e){var d=jQuery('.sapUshellAllMyAppsListItem');this.jqDetailAreaElement=v.oItemsContainer.$();this.jqDetailAreaElement.on('keydown.keyboardNavigation',this.keydownHandler.bind(this));this._setItemFocus(e,d[0]);}.bind(this)});v.oItemsContainer.addEventDelegate({onsaptabprevious:function(e){var c=jQuery('.sapUshellAllMyAppsListItem[tabindex="0"]')[0];jQuery(c).attr('tabindex',-1);},onsaptabnext:function(e){var c=jQuery('.sapUshellAllMyAppsCustomPanel'),C=jQuery('.sapUshellAllMyAppsListItem[tabindex="0"]')[0];if(c.length===0){jQuery(C).attr('tabindex',-1);}}});v.oCustomPanel.addEventDelegate({onsaptabnext:function(e){var c=jQuery('.sapUshellAllMyAppsListItem[tabindex="0"]')[0];jQuery(c).attr('tabindex',-1);}});};K.prototype.keydownHandler=function(e){var d=jQuery('.sapUshellAllMyAppsListItem'),c=jQuery('.sapUshellAllMyAppsListItem[tabindex="0"]')[0];switch(e.keyCode){case this.keyCodes.ARROW_UP:this.arrowKeyHandler(e,-2);break;case this.keyCodes.ARROW_DOWN:this.arrowKeyHandler(e,2);break;case this.keyCodes.ARROW_LEFT:this.arrowKeyHandler(e,-1);break;case this.keyCodes.ARROW_RIGHT:this.arrowKeyHandler(e,1);break;default:break;}};K.prototype.arrowKeyHandler=function(e,d){var D=jQuery('.sapUshellAllMyAppsListItem').toArray(),c=jQuery('.sapUshellAllMyAppsListItem[tabindex="0"]')[0],C=D.indexOf(c),E=D[C+d];if(E){jQuery(c).attr('tabindex',-1);this._setItemFocus(e,E);}};K.prototype._setItemFocus=function(e,E){if(E){e.preventDefault();e.stopImmediatePropagation();jQuery(E).attr('tabindex',0);E.focus();}};K.prototype.destroy=function(){if(this.jqDetailAreaElement){this.jqDetailAreaElement.off(".keyboardNavigation");}delete this.jqDetailAreaElement;};},false);
sap.ui.predefine('sap/ushell/renderers/fiori2/allMyApps/AllMyApps.view',['sap/m/BusyIndicator','sap/m/SplitApp','sap/m/Label','sap/m/Link','sap/m/Text','sap/m/Page','sap/m/StandardListItem','sap/m/CustomListItem','sap/m/List','sap/m/VBox','sap/m/Bar','sap/m/ScrollContainer','sap/m/ListType','sap/m/BarDesign'],function(B,S,L,a,T,P,b,C,c,V,d,f,g,h){"use strict";sap.ui.jsview("sap.ushell.renderers.fiori2.allMyApps.AllMyApps",{createContent:function(o){this.oMasterBusyIndicator=new B('allMyAppsMasterBusyIndicator',{size:"1rem"}).addStyleClass("sapUshellAllMyAppsBusyIndicator");this.oDetailBusyIndicator=new B('allMyAppsDetailBusyIndicator',{size:"1rem"}).addStyleClass("sapUshellAllMyAppsBusyIndicator");this.oSplitApp=new S("sapUshellAllMyAppsMasterDetail",{masterPages:[this.oMasterBusyIndicator,this.getMasterPartContent(o)],detailPages:[this.oDetailBusyIndicator,this.getEmptyDetailsContent(),this.getDetailsPartContent(o)]}).addStyleClass("sapUshellAllMyAppsView");this.bAfterOpenHandlerCalled=false;return this.oSplitApp;},getEmptyDetailsContent:function(){var t,e;t=new L({text:sap.ushell.resources.i18n.getText('AllMyAppsEmptyText'),textAlign:sap.ui.core.TextAlign.Center}).addStyleClass('sapUshellAllMyAppsEmptyDetailsPageText');e=new P('sapUshellAllMyAppsEmptyDetailsPage',{content:[t],showHeader:false,enableScrolling:false});return e;},getMasterPartContent:function(o){var l;if(!this.oDataSourceList){this.oDataSourceListTemplate=new b({type:{parts:['allMyAppsModel>type','/allMyAppsMasterLevel'],formatter:function(t,e){var s=sap.ui.Device.system.phone||((e===this.getController().oStateEnum.FIRST_LEVEL)&&(t!==sap.ushell.Container.getService('AllMyApps').getProviderTypeEnum().CATALOG));return s?g.Navigation:g.Active;}.bind(this)},title:'{allMyAppsModel>title}'});this._addCustomData(this.oDataSourceListTemplate,"aria-controls","sapUshellAllMyAppsDetailsPage");this.oDataSourceList=new c('sapUshellAllMyAppsDataSourcesList',{tooltip:'{i18n>catalogSelect_tooltip}',rememberSelections:true,mode:'SingleSelectMaster',items:{path:'allMyAppsModel>/AppsData',template:this.oDataSourceListTemplate},growingThreshold:100,showNoData:false,itemPress:[o.handleMasterListItemPress,o]});this._addCustomData(this.oDataSourceList,"role","navigation");}l=new P("sapUshellAllMyAppsMasterPage",{showHeader:false});l.addContent(this.oDataSourceList);return l;},getDetailsPartContent:function(o){var l=new V(),t=new L({text:'{allMyAppsModel>title}'}),s=new L({text:'{allMyAppsModel>subTitle}',visible:{parts:['allMyAppsModel>subTitle'],formatter:function(e){return e?true:false;}}}),i,D,j;t.addStyleClass("sapUshellAllMyAppsItemTitle");s.addStyleClass("sapUshellAllMyAppsItemSubTitle");l.addItem(t);l.addItem(s);i=new C({content:l,type:g.Active,press:function(){o.onAppItemClick(this);}});i.addStyleClass("sapUshellAllMyAppsListItem");i.addEventDelegate({onsapenter:function(e){o.onAppItemClick(e.srcControl);},onsapspace:function(e){o.onAppItemClick(e.srcControl);}});this.oDetailsHeaderLabel=new L("sapUshellAllMyAppsDetailsHeaderLabel",{});D=new d("sapUshellDetailsPageHeaderBar",{contentLeft:this.oDetailsHeaderLabel,contentRight:[],contentMiddle:[],design:h.Header});this.oItemsContainer=new f("allMyAppsScrollContainer",{horizontal:false,vertical:true,content:{path:"allMyAppsModel>apps",template:i}}).addStyleClass("sapUshellAllMyAppsDetailsItemContainer");this.oCustomLink=new a({text:{path:"allMyAppsModel>sCustomLink"},press:function(e){o.handleGroupPress(e);}});this.oCustomLabel=new T({text:{path:"allMyAppsModel>sCustomLabel"}});this.oCustomPanel=new V({visible:{parts:[{path:"allMyAppsModel>numberCustomTiles"}],formatter:function(n){return!!n;}},items:[this.oCustomLabel,this.oCustomLink]});this.oCustomPanel.addStyleClass("sapUshellAllMyAppsCustomPanel");j=new P("sapUshellAllMyAppsDetailsPage",{content:[D,this.oItemsContainer,this.oCustomPanel],showHeader:false,enableScrolling:true});this._addCustomData(j,"role","applications");return j;},_afterOpen:function(){if(!this.bAfterOpenHandlerCalled){this.bAfterOpenHandlerCalled=true;if(sap.ui.Device.system.desktop){this.getController().initKeyBoardNavigationHandling();}}},_addCustomData:function(i,k,v){i.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:k,value:v,writeToDom:true}));},getControllerName:function(){return"sap.ushell.renderers.fiori2.allMyApps.AllMyApps";}});},false);
sap.ui.predefine('sap/ushell/renderers/fiori2/allMyApps/AllMyAppsManager',[],function(){"use strict";var A=function(){};A.prototype.loadAppsData=function(m,p){var a=sap.ushell.Container.getService("AllMyApps");this.oPopover=p;if(!a.isEnabled()){return;}this.iNumberOfProviders=0;this.oModel=m;if(a.isHomePageAppsEnabled()){this._handleGroupsData();}if(a.isExternalProviderAppsEnabled()){this._handleExternalProvidersData(m);}if(a.isCatalogAppsEnabled()){this._handleCatalogs(m);}};A.prototype._handleGroupsData=function(){var t=this,g=this._getGroupsData(),h={title:sap.ushell.resources.i18n.getText("allMyApps_homeEntryTitle")},p;g.done(function(G){h.groups=G;h.type=sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().HOME;if(G.length===0){return;}p=t.oModel.getProperty("/AppsData");p.unshift(h);t.oModel.setProperty("/AppsData",p);t.iNumberOfProviders+=1;var e=sap.ui.getCore().getEventBus();e.publish("launchpad","allMyAppsMasterLoaded");});};A.prototype._getGroupsData=function(){var t=this,l=sap.ushell.Container.getService("LaunchPage"),d=new jQuery.Deferred(),g=l.getGroups(),D=l.getDefaultGroup(),p=[],G=[],i,T,o,s,a,b,c,e,n;t.oDefaultGroup=undefined;p.push(D);p.push(g);jQuery.when(p).then(function(f){p[0].done(function(h){t.oDefaultGroup=h;});p[1].done(function(h){for(i=0;i<h.length;i++){n=0;T=h[i];if(l.isGroupVisible(T)===false){continue;}if(l.getGroupId(T)===l.getGroupId(t.oDefaultGroup)){s=sap.ushell.resources.i18n.getText("my_group");}else{s=l.getGroupTitle(T);}o={};o.title=s;o.apps=[];a=l.getGroupTiles(T);for(b=0;b<a.length;b++){c=a[b];if(l.isTileIntentSupported(c)){e=t._getAppEntityFromTile(c);if(e){o.apps.push(e);}else{n++;}}}o.numberCustomTiles=n;if(n===1){o.sCustomLabel=sap.ushell.resources.i18n.getText("allMyApps_customStringSingle");o.sCustomLink=sap.ushell.resources.i18n.getText("allMyApps_customLinkHomePageSingle");}else{o.sCustomLabel=sap.ushell.resources.i18n.getText("allMyApps_customString",[n]);o.sCustomLink=sap.ushell.resources.i18n.getText("allMyApps_customLinkHomePage");}o.handlePress=function(j,k){hasher.setHash("#Shell-home");this.oPopover.close();var B=sap.ui.getCore().getEventBus();B.subscribe("launchpad","dashboardModelContentLoaded",function(){B.publish("launchpad","scrollToGroupByName",{groupName:k.title,isInEditTitle:false});},this);B.publish("launchpad","scrollToGroupByName",{groupName:k.title,isInEditTitle:false});}.bind(t);if(o.apps.length>0||o.numberCustomTiles>0){G.push(o);}}d.resolve(G);});});return d.promise();};A.prototype._handleExternalProvidersData=function(){var t=this,e=sap.ushell.Container.getService("AllMyApps").getDataProviders(),E=Object.keys(e),s,o,a,b,i,c;if(E.length>0){for(i=0;i<E.length;i++){s=E[i];o=e[s];a=o.getTitle();b={};b.title=a;c=o.getData();c.done(function(p){if(p&&(p.length>0)){b.groups=p;b.type=sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().EXTERNAL;t.oModel.setProperty("/AppsData/"+t.iNumberOfProviders,b);t.iNumberOfProviders+=1;var d=sap.ui.getCore().getEventBus();d.publish("launchpad","allMyAppsMasterLoaded");}});}}};A.prototype._handleCatalogs=function(){this.bFirstCatalogLoaded=false;sap.ushell.Container.getService("LaunchPage").getCatalogs().done(function(c){jQuery.when.apply(jQuery,this.aPromises).then(this._onDoneLoadingCatalogs(c));}.bind(this)).fail(function(a){this._onGetCatalogsFail(sap.ushell.resources.i18n.getText("fail_to_load_catalog_msg"));}.bind(this)).progress(this._addCatalogToModel.bind(this));};A.prototype._addCatalogToModel=function(c){var p={apps:[],numberCustomTiles:0,type:sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().CATALOG},t=this,P,i,a,o,l=sap.ushell.Container.getService("LaunchPage"),C=l.getCatalogTiles(c);C.done(function(b){if(b.length===0){return;}var s=l.getCatalogTitle(c);P=t.oModel.getProperty("/AppsData");for(i=0;i<P.length;i++){if((P[i].type===sap.ushell.Container.getService("AllMyApps").getProviderTypeEnum().CATALOG)&&(P[i].title===s)){p=P[i];break;}}p.title=l.getCatalogTitle(c);for(a=0;a<b.length;a++){if(l.isTileIntentSupported(b[a])){o=t._getAppEntityFromTile(b[a]);if(o){p.apps.push(o);}else{p.numberCustomTiles++;}}}if(p.numberCustomTiles===1){p.sCustomLabel=sap.ushell.resources.i18n.getText("allMyApps_customStringSingle");p.sCustomLink=sap.ushell.resources.i18n.getText("allMyApps_customLinkAppFinderSingle");}else{p.sCustomLabel=sap.ushell.resources.i18n.getText("allMyApps_customString",[p.numberCustomTiles]);p.sCustomLink=sap.ushell.resources.i18n.getText("allMyApps_customLinkAppFinder");}p.handlePress=function(e,d){this.oPopover.close();hasher.setHash("#Shell-home&/appFinder/catalog/"+JSON.stringify({catalogSelector:d.title,tileFilter:"",tagFilter:"[]",targetGroup:""}));}.bind(t);if(p.apps.length>0||p.numberCustomTiles>0){t.oModel.setProperty("/AppsData/"+i,p);if(t.bFirstCatalogLoaded===false){sap.ui.getCore().getEventBus().publish("launchpad","allMyAppsFirstCatalogLoaded",{bFirstCatalogLoadedEvent:true});t.bFirstCatalogLoaded=true;}t.iNumberOfProviders+=1;}});};A.prototype._onGetCatalogsFail=function(m){sap.ushell.Container.getService('Message').show(sap.ushell.services.Message.Type.INFO,m);};A.prototype._onDoneLoadingCatalogs=function(c){var e=sap.ui.getCore().getEventBus();if(!c.length){e.publish('launchpad','allMyAppsNoCatalogsLoaded');}};A.prototype._getAppEntityFromTile=function(c){var a,l=sap.ushell.Container.getService("LaunchPage"),t=l.getCatalogTilePreviewTitle(c),T=l.getCatalogTilePreviewSubtitle(c),s=l.getCatalogTileTargetURL(c);if(s&&(t||T)){a={};a.url=s;if(t){a.title=t;a.subTitle=T;}else{a.title=T;}return a;}};return new A();},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/compactCozy_selector/CompactCozySelector.controller',function(){"use strict";sap.ui.controller("sap.ushell.renderers.fiori2.compactCozy_selector.CompactCozySelector",{onInit:function(){try{this.userInfoService=sap.ushell.Container.getService("UserInfo");this.oUser=this.userInfoService.getUser();}catch(e){jQuery.sap.log.error("Getting UserInfo service failed.");this.oUser=sap.ushell.Container.getUser();}this.translationBundle=sap.ushell.resources.i18n;this.oModel=new sap.ui.model.json.JSONModel({options:[{id:"cozy",name:this.translationBundle.getText("cozy"),isSelected:true},{id:"compact",name:this.translationBundle.getText("compact"),isSelected:false}]});this.getView().setModel(this.oModel);this.currentContentDensity=this.oUser.getContentDensity();this.origContentDensity=this.currentContentDensity;this.isContentLoaded=false;},getContent:function(){var o=this.oModel.getProperty("/options");for(var i=0;i<o.length;i++){if(o[i].id==this.currentContentDensity){o[i].isSelected=true;}else{o[i].isSelected=false;}}this.oModel.setProperty("/options",o);return jQuery.Deferred().resolve(this.getView());},getValue:function(){return jQuery.Deferred().resolve(this._getModeNameById(this.currentContentDensity));},onCancel:function(){this.currentContentDensity=this.oUser.getContentDensity();},onSave:function(){var d=jQuery.Deferred();var u;if(this.oUser.getContentDensity()!=this.currentContentDensity){if(this.currentContentDensity){this.oUser.setContentDensity(this.currentContentDensity);u=this.userInfoService.updateUserPreferences(this.oUser);u.done(function(){this.oUser.resetChangedProperties();this.origContentDensity=this.currentContentDensity;sap.ui.getCore().getEventBus().publish("launchpad","toggleContentDensity",{contentDensity:this.currentContentDensity});d.resolve();}.bind(this));u.fail(function(e){this.oUser.setContentDensity(this.origContentDensity);this.oUser.resetChangedProperties();this.currentContentDensity=this.origContentDensity;jQuery.sap.log.error(e);d.reject(e);}.bind(this));}else{d.reject("Could not find mode: "+this.currentContentDensity);}}else{d.resolve();}return d.promise();},getCurrentContentDensity:function(){return this.currentContentDensity;},setCurrentContentDensity:function(n){this.currentContentDensity=n;},_getModeNameById:function(c){var d=this.getModel().getProperty('/options');for(var i=0;i<d.length;i++){if(d[i].id==c){return d[i].name;}}return c;},getModel:function(){return this.oModel;}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/compactCozy_selector/CompactCozySelector.view',['sap/ushell/resources','sap/ushell/services/Container'],function(r,C){"use strict";sap.ui.jsview("sap.ushell.renderers.fiori2.compactCozy_selector.CompactCozySelector",{createContent:function(c){var o=this._getCompactCozyListItemTemplate();this.translationBundle=r.i18n;this.oList=new sap.m.List('compactCozySelectorList',{includeItemInSelection:true,mode:"SingleSelectLeft",items:{path:"/options",template:o}});this.info=new sap.m.Text({text:this.translationBundle.getText("displayDensityInfo")}).addStyleClass("sapUiSmallMargin");return[this.oList,this.info];},getControllerName:function(){return"sap.ushell.renderers.fiori2.compactCozy_selector.CompactCozySelector";},_getCompactCozyListItemTemplate:function(){var t=this;var o=function(e){var i=e.srcControl;t.oController.setCurrentContentDensity(i.getBindingContext().getProperty("id"));};var i=new sap.m.StandardListItem({title:"{name}",selected:"{isSelected}"});i.addEventDelegate({onclick:o});return i;}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/defaultParameters_selector/DefaultParameters.controller',function(){"use strict";sap.ui.controller("sap.ushell.renderers.fiori2.defaultParameters_selector.DefaultParameters",{onInit:function(){this.oModelRecords={};this.oChangedParameters={};this.oBlockedParameters={};this.aDisplayedUserDefaults=[];this.DefaultParametersService=sap.ushell.Container.getService("UserDefaultParameters");},applyFocus:function(){var t=this;setTimeout(function(){if(!sap.ui.Device.phone){var e=jQuery.sap.byId(t.getView().getId()).firstFocusableDomRef();if(e){jQuery.sap.focus(e);}}},1);},overrideOdataModelValue:function(e){var u=e.getParameter('url'),m=e.getSource(),f,F,t=this;this.aDisplayedUserDefaults.forEach(function(r){if(r.editorMetadata&&r.editorMetadata.editorInfo){F=r.editorMetadata.editorInfo.odataURL+r.editorMetadata.editorInfo.bindingPath;if(F===u){f=r.editorMetadata.editorInfo.bindingPath+"/"+r.editorMetadata.editorInfo.propertyName;if(m.getProperty(f)!==r.valueObject.value){m.setProperty(f,r.valueObject.value);}t.oBlockedParameters[r.parameterName]=false;}}});},getOrCreateModelForODataService:function(u){if(!this.oModelRecords[u]){var p={metadataUrlParams:{"sap-documentation":"heading,quickinfo","sap-value-list":"none"},json:true};var m=new sap.ui.model.odata.ODataModel(u,p);m.setDefaultCountMode("None");m.setDefaultBindingMode("TwoWay");m.attachRequestCompleted(this.overrideOdataModelValue.bind(this));this.oModelRecords[u]=m;}return this.oModelRecords[u];},constructControlSet:function(p){var u=[];for(var P in p){for(var n=0;n<u.length;n++){if(u[n].parameterName===P){u.splice(n,1);}}p[P].parameterName=P;u.push(p[P]);}this.sortParametersByGroupIdParameterIndex(u);this.aDisplayedUserDefaults=u;jQuery.sap.require("sap.ui.comp.smartform.SmartForm");this.sForm=new sap.ui.comp.smartform.SmartForm({editable:true}).addStyleClass("sapUshellShellDefaultValuesForm");this.getView().addContent(this.sForm);},getValue:function(){var d=jQuery.Deferred();var h=sap.ushell.Container.getService("UserDefaultParameters").hasRelevantMaintainableParameters();h.done(function(H){d.resolve({value:H?1:0,displayText:" "});});h.fail(function(e){d.reject(e);});return d.promise();},createPlainModel:function(g,r){r.modelBind.model=this.oMdlParameter;r.modelBind.extendedModel=this.oMdlParameter;g.setModel(r.modelBind.model);var m="/sUserDef_"+r.nr+"_";r.modelBind.sFullPropertyPath=m;r.modelBind.sPropertyName="{"+m+"}";r.modelBind.model.setProperty(r.modelBind.sFullPropertyPath,r.valueObject.value);},revertToPlainModelControls:function(g,r){jQuery.sap.log.error("Metadata loading for parameter "+r.parameterName+" failed"+JSON.stringify(r.editorMetadata));r.modelBind.isOdata=false;this.createPlainModel(g,r);this.createAppropriateControl(g,r);},getContent:function(){var t=this;var d=new jQuery.Deferred();this.DefaultParametersService.editorGetParameters().done(function(p){t.oMdlParameter=new sap.ui.model.json.JSONModel(p);t.oMdlParameter.setDefaultBindingMode("TwoWay");t.getView().setModel(t.oMdlParameter,"MdlParameter");t.oOriginalParameters=jQuery.extend(true,{},p);t.oCurrentParameters=jQuery.extend(true,{},p);t.constructControlSet(p);jQuery.sap.require('sap.ui.model.odata.ODataModel');var l="nevermore";var g;t.aChangedParameters=[];t.oBindingContexts={};t.setPropValue=function(r){r.modelBind.model.setProperty(r.modelBind.sFullPropertyPath,r.valueObject.value);t.oBlockedParameters[r.parameterName]=false;};t.oMdlParameter.setProperty("/sUser");for(var i=0;i<t.aDisplayedUserDefaults.length;++i){var r=t.aDisplayedUserDefaults[i];r.nr=i;r.editorMetadata=r.editorMetadata||{};r.valueObject=r.valueObject||{value:""};var a=new sap.ui.comp.smartform.GroupElement({});if(l!=r.editorMetadata.groupId){var b=r.editorMetadata.groupTitle||undefined;g=new sap.ui.comp.smartform.Group({label:b,"editable":true});l=r.editorMetadata.groupId;t.sForm.addGroup(g);}g.addGroupElement(a);r.modelBind={model:undefined,sModelPath:undefined,sPropertyName:undefined,sFullPropertyPath:undefined};r.valueObject.value=r.valueObject.value||"";if(r.editorMetadata.editorInfo&&r.editorMetadata.editorInfo.propertyName){r.modelBind.isOdata=true;var u=r.editorMetadata.editorInfo.odataURL;r.modelBind.model=t.getOrCreateModelForODataService(u);a.setModel(r.modelBind.model);if(!t.oBindingContexts[u]){a.bindElement(r.editorMetadata.editorInfo.bindingPath);t.oBindingContexts[u]=r.modelBind.model.getContext(r.editorMetadata.editorInfo.bindingPath);}else{a.setBindingContext(t.oBindingContexts[u]);}r.modelBind.sPropertyName="{"+r.editorMetadata.editorInfo.propertyName+"}";r.modelBind.sFullPropertyPath=r.editorMetadata.editorInfo.bindingPath+"/"+r.editorMetadata.editorInfo.propertyName;r.modelBind.extendedModel=t.oMdlParameter;}else{t.createPlainModel(a,r);}r.valueObject.value=r.valueObject.value||"";r.modelBind.model.setProperty(r.modelBind.sFullPropertyPath,r.valueObject.value);if(r.modelBind.isOdata){t.oBlockedParameters[r.parameterName]=true;r.modelBind.model.attachMetadataLoaded(t.createAppropriateControl.bind(t,a,r));r.modelBind.model.attachMetadataFailed(t.revertToPlainModelControls.bind(t,a,r));}else{t.createAppropriateControl(a,r);}r.modelBind.model.bindTree(r.modelBind.sFullPropertyPath).attachChange(t.storeChangedData.bind(t));}t.oMdlParameter.bindTree("/").attachChange(t.storeChangedData.bind(t));d.resolve(t.getView());});return d.promise();},createAppropriateControl:function(g,r){var s,l,e,a;if(r.editorMetadata.extendedUsage){var t=this;e=new sap.m.Link({text:sap.ushell.resources.i18n.getText("userDefaultsExtendedParametersTitle"),tooltip:sap.ushell.resources.i18n.getText("userDefaultsExtendedParametersTooltip"),type:{parts:['MdlParameter>/'+r.parameterName+'/valueObject/extendedValue/Ranges'],formatter:function(R){return R&&R.length?sap.m.ButtonType.Emphasized:sap.m.ButtonType.Default;}},press:function(o){t.openExtendedValueDialog(o,r);}}).addStyleClass('sapUshellExtendedDefaultParamsButton');}jQuery.sap.log.debug("Creating controls for parameter"+r.parameterName+" type "+r.modelBind.isOdata);var E=g.getElements().slice();E.forEach(function(o){g.removeElement(o);});var f=g.getFields().slice();f.forEach(function(o){g.removeField(o);});l=new sap.ui.comp.smartfield.SmartLabel({width:sap.ui.Device.system.phone?"auto":"12rem",textAlign:sap.ui.Device.system.phone?'Left':'Right',text:(r.editorMetadata.displayText||r.parameterName)+":",tooltip:r.editorMetadata.description||r.parameterName});if(r.modelBind.isOdata&&r.editorMetadata.editorInfo){jQuery.sap.require("sap.ui.comp.smartfield.SmartField");s=new sap.ui.comp.smartfield.SmartField({value:r.modelBind.sPropertyName,name:r.parameterName});s.attachInnerControlsCreated({},this.applyFocus,this);}else{s=new sap.m.Input({name:r.parameterName,value:r.modelBind.sPropertyName,type:"Text"});this.setPropValue(r);}l.setLabelFor(s);s.attachChange(this.storeChangedData.bind(this));s.addStyleClass("sapUshellDefaultValuesSmartField");s.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));var i=new sap.m.FlexBox({width:sap.ui.Device.system.phone?'100%':'auto',direction:(sap.ui.Device.system.phone&&!e)?'Column':'Row',items:[s,e]});l.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));a=new sap.m.FlexBox({alignItems:sap.ui.Device.system.phone?'Start':'Center',direction:sap.ui.Device.system.phone?'Column':'Row',items:[l,i]});g.addElement(a);},openExtendedValueDialog:function(e,d){var t=this,p='/'+d.parameterName+'/valueObject/extendedValue/Ranges',m=d.modelBind.extendedModel,r=m.getProperty(p)||[],l,n;if(d.modelBind.isOdata){n=this._getMetadataNameSpace(d.editorMetadata.editorInfo.odataURL);var E=d.modelBind.model.getMetaModel().getODataEntityType(n+"."+d.editorMetadata.editorInfo.entityName);if(E){l=d.modelBind.model.getMetaModel().getODataProperty(E,d.editorMetadata.editorInfo.propertyName)["sap:label"];}}jQuery.sap.require('sap.ui.comp.valuehelpdialog.ValueHelpDialog');var v=new sap.ui.comp.valuehelpdialog.ValueHelpDialog({basicSearchText:d.editorMetadata.displayText||l||d.parameterName,title:d.editorMetadata.displayText||l||d.parameterName,supportRanges:true,supportRangesOnly:true,key:d.modelBind.sPropertyName,displayFormat:"UpperCase",descriptionKey:d.editorMetadata.displayText||l||d.parameterName,filterMode:true,stretch:sap.ui.Device.system.phone,ok:function(c){t.saveExtendedValue(c,d,m,v);},cancel:function(c){v.close();},afterClose:function(){v.destroy();}});v.setIncludeRangeOperations(this.getListOfSupportedRangeOperations());this.addTokensToValueHelpDialog(v,r,d.parameterName);var k=[];k.push({label:v.getTitle(),key:d.parameterName});v.setRangeKeyFields(k);v.open();},saveExtendedValue:function(c,d,m,v){this.aTokens=c.getParameters().tokens;var t=[],p='/'+d.parameterName+'/valueObject/extendedValue/Ranges',f,a={extendedValue:{"Ranges":[]}};jQuery.extend(this.oCurrentParameters[d.parameterName].valueObject,a);for(var b in this.aTokens){if(this.aTokens.hasOwnProperty(b)){t.push(this.aTokens[b].data("range"));}}f=t.map(function(b){return{Sign:b.exclude?'E':'I',Option:b.operation!=="Contains"?b.operation:"CP",Low:b.value1,High:b.value2||null};});if(!m.getProperty('/'+d.parameterName+'/valueObject/extendedValue')){m.setProperty('/'+d.parameterName+'/valueObject/extendedValue',{});}m.setProperty(p,f);this.oChangedParameters[d.parameterName]=true;v.close();},getListOfSupportedRangeOperations:function(){var s=Object.keys(sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation);return s.filter(function(o){return o!=="StartsWith"&&o!=='EndsWith'&&o!=='Initial';});},_getMetadataNameSpace:function(s){var S=s.split("/"),n;n=S[S.length-1];return n;},addTokensToValueHelpDialog:function(d,r,p){var t=[],f;r.forEach(function(R){if(R){f={};f.exclude=R.Sign==='E';f.keyField=p;f.operation=R.Option!=="CP"?R.Option:"Contains";f.value1=R.Low;f.value2=R.High;t.push(new sap.m.Token({}).data("range",f));}});d.setTokens(t);},sortParametersByGroupIdParameterIndex:function(u){function c(d,D){if(!(D.editorMetadata&&D.editorMetadata.groupId)){return-1;}if(!(d.editorMetadata&&d.editorMetadata.groupId)){return 1;}if(d.editorMetadata.groupId<D.editorMetadata.groupId){return-1;}if(d.editorMetadata.groupId>D.editorMetadata.groupId){return 1;}return 0;}function a(d,D){if(!(D.editorMetadata&&D.editorMetadata.parameterIndex)){return-1;}if(!(d.editorMetadata&&d.editorMetadata.parameterIndex)){return 1;}return d.editorMetadata.parameterIndex-D.editorMetadata.parameterIndex;}u.sort(function(d,D){var r=c(d,D);if(r===0){return a(d,D);}return r;});},storeChangedData:function(){var i=0,t=this,a=t.aDisplayedUserDefaults;for(i=0;i<a.length;++i){var p=a[i].parameterName;if(!t.oBlockedParameters[p]){var o={value:t.oCurrentParameters[p].valueObject&&t.oCurrentParameters[p].valueObject.value,extendedValue:t.oCurrentParameters[p].valueObject&&t.oCurrentParameters[p].valueObject.extendedValue&&t.oCurrentParameters[p].valueObject.extendedValue};if(a[i].modelBind&&a[i].modelBind.model){var m=a[i].modelBind.model;var M=a[i].modelBind.extendedModel;var P=a[i].modelBind.sFullPropertyPath;var A=m.getProperty(P);var n={value:m.getProperty(P),extendedValue:M.getProperty('/'+p+'/valueObject/extendedValue')};if(this.isValueDifferent(n,o)){t.oCurrentParameters[p].valueObject.value=A;if(n.extendedValue){jQuery.extend(t.oCurrentParameters[p].valueObject.extendedValue,n.extendedValue);}t.oChangedParameters[p]=true;}}}}},onCancel:function(){if(sap.ui.getCore().byId("saveButton")){sap.ui.getCore().byId("saveButton").setEnabled(true);}},isValueDifferent:function(v,V){var i=false,s=v?JSON.stringify(v):v,a=V?JSON.stringify(V):V,e,E;if(s===a){return false;}if(v===undefined){return false;}if(V===undefined){return false;}e=v.extendedValue?JSON.stringify(v.extendedValue):v.extendedValue;E=V.extendedValue?JSON.stringify(V.extendedValue):V.extendedValue;if((v.value===""&&V.value===undefined)||(V.value===""&&v.value===undefined)){i=true;}if(i&&(e===E)){return false;}return(!i&&(v.value!==V.value))||(e!==E);},onSave:function(){var t=this,d=new jQuery.Deferred(),i,c=Object.keys(this.oChangedParameters).sort(),s,p;for(i=0;i<c.length;i++){p=c[i];if(this.isValueDifferent(this.oOriginalParameters[p].valueObject,this.oCurrentParameters[p].valueObject)){if((this.oCurrentParameters[p].valueObject&&this.oCurrentParameters[p].valueObject.value===null)||(this.oCurrentParameters[p].valueObject&&this.oCurrentParameters[p].valueObject.value==="")){this.oCurrentParameters[p].valueObject.value=undefined;}if(this.oCurrentParameters[p].valueObject&&this.oCurrentParameters[p].valueObject.extendedValue&&jQuery.isArray(this.oCurrentParameters[p].valueObject.extendedValue.Ranges)&&(this.oCurrentParameters[p].valueObject.extendedValue.Ranges.length===0)){this.oCurrentParameters[p].valueObject.extendedValue=undefined;}s=sap.ushell.Container.getService("UserDefaultParameters").editorSetValue(p,this.oCurrentParameters[p].valueObject);s.done(function(P){t.oChangedParameters={};t.oOriginalParameters[P].valueObject.value=t.oCurrentParameters[P].valueObject.value;d.resolve();});s.fail(d.reject);}}return d.promise();}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/meArea/MeArea.controller',["sap/ushell/resources","sap/m/Button","sap/m/ButtonType"],function(r,B,a){"use strict";var m=new sap.ui.model.json.JSONModel({actions:[],userPreferences:{entries:[]},apps:{recentActivities:[],frequentActivities:[]}});sap.ui.controller("sap.ushell.renderers.fiori2.meArea.MeArea",{onInit:function(){var c=(this.getView().getViewData()?this.getView().getViewData().config:{})||{};this.aControlsWithPressHandler=[];this.getView().setModel(m,"meAreaModel");this._addActionItemToOverflowSupport();this.oResourceBundle=r.i18n;if(c.enableRecentActivity){this.oUserRecentsSrvc=sap.ushell.Container.getService('UserRecents');}this.lastVisited=null;},onBeforeRendering:function(){if(this.oUserRecentsSrvc){if(!m.getProperty('/apps/recentActivities')||!m.getProperty('/apps/recentActivities').length){this.refreshRecentActivities();}}if(!m.getProperty('/apps/frequentActivities')||!m.getProperty('/apps/frequentActivities').length){this.refreshFrequentActivities();}},refreshRecentActivities:function(){if(this.oUserRecentsSrvc){this.oUserRecentsSrvc.getRecentActivity().done(function(A){A.forEach(function(i){i.timestamp=sap.ushell.utils.formatDate(i.timestamp);});m.setProperty('/apps/recentActivities',A);});}},refreshFrequentActivities:function(){if(this.oUserRecentsSrvc){this.oUserRecentsSrvc.getFrequentActivity().done(function(A){m.setProperty('/apps/frequentActivities',A);});}},createViewByName:function(e,n,v){var V=v?sap.ui.getCore().byId(v):null;if(!V){var s=e.getSource(),c=s.getBindingContext(),p=c?c.getPath():"",b=n||c.getModel().getProperty(p+"/viewName");v=v||c.getModel().getProperty(p+"/id");V=sap.ui.view(v,{viewName:b,type:'JS',viewData:{}});}return V;},getSettingsDialogContent:function(){var s=sap.ui.getCore().byId("userSettings");if(!s){s=sap.ui.view("userSettings",{viewName:"sap.ushell.renderers.fiori2.user_actions.user_preferences.UserSettings",type:'JS',viewData:this.getView().getViewData()});}s.setModel(this.getView().getModel());return s;},logout:function(){sap.ui.require(['sap/m/MessageBox'],function(M){var l=new sap.ushell.ui.launchpad.LoadingDialog({text:""}),s=true,i=false,L={};sap.ushell.Container.getGlobalDirty().done(function(d){s=false;if(i===true){l.exit();l=new sap.ushell.ui.launchpad.LoadingDialog({text:""});}var _=function(d){var L={},R=r.i18n;if(d===sap.ushell.Container.DirtyState.DIRTY){L.message=R.getText('unsaved_data_warning_popup_message');L.icon=M.Icon.WARNING;L.messageTitle=R.getText("unsaved_data_warning_popup_title");}else{L.message=R.getText('signoutConfirmationMsg');L.icon=M.Icon.QUESTION;L.messageTitle=R.getText("signoutMsgTitle");}return L;};L=_(d);M.show(L.message,L.icon,L.messageTitle,[M.Action.OK,M.Action.CANCEL],function(A){if(A===M.Action.OK){l.openLoadingScreen();l.showAppInfo(r.i18n.getText('beforeLogoutMsg'),null);sap.ushell.Container.logout();}},sap.ui.core.ElementMetadata.uid("confirm"));});if(s===true){l.openLoadingScreen();i=true;}});},_addPressHandlerToActions:function(c){var t=this;if(this.aControlsWithPressHandler.indexOf(c.getId())===-1){this.aControlsWithPressHandler.push(c.getId());c.attachPress(function(){sap.ui.getCore().byId("viewPortContainer").switchState("Center");if(c.getId()==="userSettingsBtn"){if(!t.getView().oSettingsDialog.getModel()){t.getView().oSettingsDialog.setModel(t.getView().getModel());}t.getView().oSettingsDialog.open();}});}},_getControlsWithPressHandler:function(){return this.aControlsWithPressHandler;},_addActionItemToOverflowSupport:function(){if(sap.m._overflowToolbarHelpers&&sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopoverControls._mSupportedControls){var s=sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopoverControls._mSupportedControls;var p=sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopoverControls.prototype;var c=["sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.EndUserFeedback","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.UserPreferencesButton","sap.m.Button"];var C=function(n){return n.substring(0,1).toUpperCase()+n.substring(1);};var S={canOverflow:true,listenForEvents:["press"],noInvalidationProps:["enabled","type"]};var P=function(o){if(o.setActionType){o.setActionType('standard');}var t=o.getType();if(t!==a.Accept&&t!==a.Reject){o.setType(a.Transparent);}};var f=function(o){if(o.setActionType){o.setActionType('action');}};c.forEach(function(n){s[n]=S;var b=n.split(".").map(C).join("");var d='_preProcess';var e='_postProcess';p[d+b]=P;p[e+b]=f;});}},setLastVisited:function(u){this.lastVisited=u;},updateScrollBar:function(h){if(this.lastVisited&&this.lastVisited!="#"+h){jQuery('.sapUshellViewPortLeft').scrollTop(0);sap.ui.getCore().byId('meAreaIconTabBar').setSelectedKey("sapUshellIconTabBarrecentActivities");var l=sap.ui.getCore().byId('sapUshellActivityListrecentActivities'),L=l.getItems();if(L&&L.length>0){sap.ui.getCore().byId('sapUshellActivityListrecentActivities').setSelectedItem(L[0],true);}this.lastVisited=null;}},_saveUserPrefEntries:function(){var e=this.getView().getModel().getProperty("/userPreferences/entries");var b=jQuery.Deferred();var w;var c;var t=0;var f=0;var s=0;var p=[];var d=[];var g;var h=function(){s++;b.notify();};var j=function(k){d.push({entry:g,message:k});f++;b.notify();};for(var i=0;i<e.length;i++){if(e[i]&&e[i].isDirty===true){c=e[i].onSave();c.done(h);g=e[i].title;c.fail(j);p.push(c);t++;}}w=jQuery.when.apply(null,p);w.done(function(){b.resolve();});b.progress(function(){if(f>0&&(f+s===t)){b.reject(d);}});return b.promise();},_saveButtonHandler:function(){var s;s=this._saveUserPrefEntries();var t=this;var i=this.getView().getModel().getProperty("/userPreferences/isDetailedEntryMode");if(i){this.getView().getModel().setProperty("/userPreferences/activeEntryPath",null);}s.done(function(){t._showSaveMessageToast();});s.fail(function(f){sap.ui.require(["sap/m/MessageBox"],function(M){var e;var b="";if(f.length===1){e=t.translationBundle.getText("savingEntryError")+" ";}else{e=t.translationBundle.getText("savingEntriesError")+"\n";}f.forEach(function(c){e+=c.entry+"\n";b+="Entry: "+c.entry+" - Error message: "+c.message+"\n";});M.show(e,{icon:M.Icon.ERROR,title:t.translationBundle.getText("Error"),actions:[M.Action.OK]});jQuery.sap.log.error("Failed to save the following entries",b,"sap.ushell.ui.footerbar.UserPreferencesButton");});});},_showSaveMessageToast:function(){sap.ui.require(["sap/m/MessageToast"],function(M){var b=r.i18n.getText("savedChanges");M.show(b,{duration:3000,width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"});});},createSaveButton:function(){var t=this;return new B({id:"userSettingSaveButton",text:r.i18n.getText("saveBtn"),press:function(){t._saveButtonHandler();t._handleSettingsDialogClose.apply(t);},visible:true});},_dialogCancelButtonHandler:function(){var e=this.getView().getModel().getProperty("/userPreferences/entries");for(var i=0;i<e.length;i++){if(e[i]&&e[i].onCancel){e[i].onCancel();}}},_handleSettingsDialogClose:function(){var v=this.getView(),s=this.getSettingsDialogContent(),f=s.oController.oMasterEntryList.getItems()[0];s.oMainApp.toMaster('userSettingMaster');s.oController.oMasterEntryList.setSelectedItem(f);v.oSettingsDialog.close();},createCancelButton:function(){var t=this;return new B({id:"userSettingCancelButton",text:r.i18n.getText("cancelBtn"),press:function(){t._dialogCancelButtonHandler();t._handleSettingsDialogClose.apply(t);},visible:true});},onExit:function(){this.getView().aDanglingControls.forEach(function(c){if(c.destroyContent){c.destroyContent();}c.destroy();});}});},false);
sap.ui.predefine('sap/ushell/renderers/fiori2/meArea/MeArea.view',["sap/ushell/services/AppType","sap/m/Button","sap/m/List","sap/m/Text","sap/m/VBox","sap/m/HBox","sap/m/Image","sap/m/Dialog","sap/m/Popover","sap/m/OverflowToolbar","sap/m/ScrollContainer","sap/ushell/resources","sap/ushell/ui/launchpad/UserStatusItem","sap/ushell/ui/launchpad/AccessibilityCustomData"],function(a,B,L,T,V,H,I,D,P,O,S,r,U,A){"use strict";sap.ui.jsview("sap.ushell.renderers.fiori2.meArea.MeArea",{createContent:function(c){this.addStyleClass('sapUshellMeAreaView');this.aDanglingControls=[];var u=sap.ushell.Container.getUser().getFullName(),p,t=sap.ushell.resources.i18n,C=(this.getViewData()?this.getViewData().config:{})||{},s=C.appState,b=(s==='embedded'||s==='embedded-home'||s==='standalone'||s==='blank-home'||s==='blank'),d,o=sap.ui.core.service.ServiceFactoryRegistry.get("sap.ushell.ui5service.UserStatus");if(o){var e=o.createInstance(),f=function(i){e.then(function(o){o.setStatus(i);p.close();});};}d=[new U({status:U.prototype.STATUS_ENUM.AVAILABLE,id:"userStatusItem1",isOpener:false,press:function(i){f(sap.ushell.ui5service.UserStatus.prototype.AvailableStatus.AVAILABLE);}.bind(this)}).addStyleClass('sapUserStatusContainer'),new U({status:U.prototype.STATUS_ENUM.AWAY,id:"userStatusItem2",isOpener:false,press:function(i){f(sap.ushell.ui5service.UserStatus.prototype.AvailableStatus.AWAY);}.bind(this)}).addStyleClass('sapUserStatusContainer'),new U({status:U.prototype.STATUS_ENUM.BUSY,id:"userStatusItem3",isOpener:false,press:function(i){f(sap.ushell.ui5service.UserStatus.prototype.AvailableStatus.BUSY);}.bind(this)}).addStyleClass('sapUserStatusContainer'),new U({status:U.prototype.STATUS_ENUM.APPEAR_OFFLINE,id:"userStatusItem4",isOpener:false,press:function(i){f(sap.ushell.ui5service.UserStatus.prototype.AvailableStatus.APPEAR_OFFLINE);}.bind(this)}).addStyleClass('sapUserStatusContainer')];if(!C.disableSignOut){d.push(new U({status:U.prototype.STATUS_ENUM.SIGNOUT,id:"userStatusLogout",isOpener:false,press:[c.logout,c]}).addStyleClass('sapUserStatusSignOutContainer'));}var g=new L({id:"sapUshellUserStatusItemList",showSeparators:"None",items:d});g.addCustomData(new A({key:"aria-labelledBy",value:"userStatusItem1",writeToDom:true}));p=new P("statuses",{placement:sap.m.PlacementType.Bottom,showArrow:false,showHeader:false,content:g}).addStyleClass('sapUserStatusPopOver');p.addStyleClass("sapContrastPlus");p.setOffsetX(-3);d=[new T({text:u}).addStyleClass('sapUshellMeAreaUserName')];var h=new sap.ushell.ui.launchpad.UserStatusItem({id:"userStatusOpener",visible:{parts:["/userStatusEnabled","/userStatusUserEnabled"],formatter:function(i,v){if(i&&v){return true;}return false;}.bind(this)},status:{path:"/userStatus",formatter:function(i){return sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM[i];}.bind(this)},tooltip:t.getText("userStatus_tooltip"),image:sap.ui.core.IconPool.getIconURI("account"),press:function(i){var v=sap.ui.getCore().byId(i.mParameters.id);if(p.isOpen()){p.close();}else{p.openBy(v);}}.bind(this),contentList:p}).addStyleClass('sapUserStatusOpener');h.addCustomData(new A({key:"tabindex",value:"0",writeToDom:true}));h.addCustomData(new A({key:"aria-label",value:sap.ushell.resources.i18n.getText("OnlineStatus")+" "+t.getText("userStatus_tooltip"),writeToDom:true}));h.addCustomData(new A({key:"role",value:"listbox",writeToDom:true}));d.push(h);if(!C.disableSignOut){var l;if(!b){l=new B("logoutBtn",{visible:{parts:["/userStatusEnabled","/userStatusUserEnabled"],formatter:function(i,v){if(i&&v){return false;}return true;}.bind(this)},type:sap.m.ButtonType.Transparent,icon:'sap-icon://log',text:sap.ushell.resources.i18n.getText("signoutBtn_title"),press:[c.logout,c]});d.push(l);}else{l=new sap.ushell.ui.launchpad.ActionItem("logoutBtn",{visible:true,type:sap.m.ButtonType.Transparent,icon:'sap-icon://log',text:sap.ushell.resources.i18n.getText("signoutBtn_title"),press:[c.logout,c]});}}var j=new V({items:[d]}).addStyleClass("sapUshellUserArea");var k=sap.ushell.Container.getUser().getImage(),m;if(!k){m=new sap.ui.core.Icon({src:sap.ui.core.IconPool.getIconURI("person-placeholder"),size:'4rem'});}else{m=this.createNewImage(k);}m.addStyleClass("sapUshellMeAreaUserImage");var n=new H({items:[m,j]});n.addStyleClass('sapUshellMeAreaUserInfo');n.addStyleClass('sapContrastPlus');var q=c.createSaveButton(),w=c.createCancelButton();this.oSettingsDialog=new D({id:"userSettingsDialog",showHeader:false,content:null,buttons:[q,w],afterClose:function(){sap.ushell.Container.getUser().resetChangedProperties();},stretch:sap.ui.Device.system.phone}).addStyleClass("sapUshellUserSetting");this.oSettingsDialog.addContent(c.getSettingsDialogContent());this.aDanglingControls.push(w,q,this.oSettingsDialog);n.addEventDelegate({onsapskipback:function(i){i.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(i);},onsaptabprevious:function(i){i.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(i);}});var x=new O({id:"overflowActions",design:sap.m.ToolbarDesign.Transparent,content:{path:"/currentState/actions",factory:function(i,v){var F=sap.ui.getCore().byId(v.getObject());if(F){if(F.setActionType){F.setActionType("action");}c._addPressHandlerToActions(F);}return F;}}}).addStyleClass('sapContrastPlus');x._getOverflowButtonSize=function(){return 82.4;};if(x._getOverflowButton){var y=x._getOverflowButton();if(y){var z=y.onAfterRendering;y.onAfterRendering=function(){if(z){z.apply(this,arguments);}this.addStyleClass('sapUshellActionItem');this.setText(sap.ushell.resources.i18n.getText('meAreaMoreActions'));};}}x.updateAggregation=function(N){var F=this.mBindingInfos[N],G=this.getMetadata().getJSONKeys()[N],J;jQuery.each(this[G._sGetter](),jQuery.proxy(function(i,v){this[G._sRemoveMutator](v);},this));jQuery.each(F.binding.getContexts(),jQuery.proxy(function(i,v){J=F.factory(this.getId()+"-"+i,v)?F.factory(this.getId()+"-"+i,v).setBindingContext(v,F.model):"";this[G._sMutator](J);},this));};var M=new V("sapUshellMeAreaContent",{});if(C.enableRecentActivity){this.actionBox=x;M.addItem(n);M.addItem(x);var E=this.createIconTabBar(c);E.done(function(i){M.addItem(i);});}else{x.addEventDelegate({onsaptabnext:function(i){var v=i.originalEvent,F=v.srcElement,G=jQuery('.sapUshellActionItem:last')[0].id,J;J=G===F.id;if(J===true){i.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(i);}},onsapskipforward:function(i){i.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(i);}});M.addItem(n);M.addItem(x);}return new S({vertical:true,horizontal:false,height:"100%",content:M});},createIconTabBar:function(c){var R=new jQuery.Deferred(),t=this,i,o,b,m,d,s,C;sap.ui.require(['sap/m/IconTabBar','sap/m/StandardListItem','sap/m/IconTabFilter'],function(e,f,g){i=new e('meAreaIconTabBar',{backgroundDesign:sap.m.BackgroundDesign.Transparent,expandable:false,items:[t.createIconTab("recentActivities",true,c,f,g),t.createIconTab("frequentActivities",false,c,f,g)]}).addStyleClass('sapUshellMeAreaTabBar');i.addEventDelegate({onsaptabnext:function(E){var o=E.originalEvent,s=o.srcElement,C=s.classList,h;h=jQuery.inArray('sapUshellMeAreaActivityItem',C)>-1;if(h===true){E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(E);}},onsapskipforward:function(E){E.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(E);}});b=i.onAfterRendering;i.onAfterRendering=function(){if(b){b.apply(t,arguments);}d=sap.ui.getCore().byId('meAreaIconTabBar--header');if(d){d.addStyleClass('sapContrastPlus');d.addStyleClass('sapUshellTabBarHeader');}};R.resolve(i);});return R.promise();},createIconTab:function(i,s,c,b,d){var o,e,t,f,l,g,h,j,m,p,v;o=function(k,C){e=C.getProperty("icon");t=C.getProperty("title");f=a.getDisplayName(C.getProperty("appType"));l={title:t,description:f,icon:e,type:sap.m.ListType.Active};if(s){l.info=C.getProperty("timestamp");}g=new b(l).addStyleClass('sapUshellMeAreaActivityItem');g.addCustomData(new A({key:"aria-describedby",value:h.getId(),writeToDom:true}));if(!e){g.addStyleClass('sapUshellMeAreaActivityItemNoIcon');}return g;};h=new d({id:"sapUshellIconTabBar"+i,text:r.i18n.getText(i)});j=new L({id:"sapUshellActivityList"+i,showSeparators:"None",items:{path:"meAreaModel>/apps/"+i,factory:o.bind(this)},noDataText:sap.ushell.resources.i18n.getText(i+'NoDataText'),itemPress:function(E){m=this.getModel('meAreaModel');v=sap.ui.getCore().byId("viewPortContainer");if(v){v.switchState("Center");}p=E.getParameter('listItem').getBindingContextPath();c.setLastVisited(m.getProperty(p).url);setTimeout(function(){hasher.setHash(m.getProperty(p).url);},200);}});h.addContent(j);return h;},onViewStateShow:function(){this.getController().refreshRecentActivities();this.getController().refreshFrequentActivities();if(this.actionBox){this.actionBox.updateAggregation("content");}this.getController().updateScrollBar(hasher.getHash());},createNewImage:function(u){return new I({src:u});},getControllerName:function(){return"sap.ushell.renderers.fiori2.meArea.MeArea";}});},false);
sap.ui.predefine('sap/ushell/renderers/fiori2/notifications/Notifications.controller',['sap/ushell/utils'],function(u){"use strict";sap.ui.controller("sap.ushell.renderers.fiori2.notifications.Notifications",{oPagingConfiguration:{MAX_NOTIFICATION_ITEMS_DESKTOP:400,MAX_NOTIFICATION_ITEMS_MOBILE:100,MIN_NOTIFICATION_ITEMS_PER_BUFFER:15,NOTIFICATION_ITEM_HEIGHT:(sap.ui.Device.system.phone||sap.ui.Device.system.tablet)?130:100,TAB_BAR_HEIGHT:100},onInit:function(){var i={};this.iMaxNotificationItemsForDevice=sap.ui.Device.system.desktop?this.oPagingConfiguration.MAX_NOTIFICATION_ITEMS_DESKTOP:this.oPagingConfiguration.MAX_NOTIFICATION_ITEMS_MOBILE;this.oNotificationsService=sap.ushell.Container.getService("Notifications");this.oSortingType=this.oNotificationsService.getOperationEnum();i[this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING]=this.getInitialSortingModelStructure();i[this.oSortingType.NOTIFICATIONS_BY_DATE_ASCENDING]=this.getInitialSortingModelStructure();i[this.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING]=this.getInitialSortingModelStructure();i[this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING]=this.getInitialSortingModelStructure();this.sCurrentSorting=this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING;this.sCurrentTypeExpanded=undefined;this.getView().setModel(new sap.ui.model.json.JSONModel(i));this.getNextBuffer();this._oTopNotificationData=undefined;},shouldFetchMoreNotifications:function(){var h=this.getView().getModel().getProperty("/"+this.sCurrentSorting+"/hasMoreItemsInBackend"),l=this.getView().getModel().getProperty("/"+this.sCurrentSorting+"/listMaxReached");return h&&!l;},getNextBuffer:function(){var c=this.getItemsFromModel(this.sCurrentSorting),n,p,N;if(!this.shouldFetchMoreNotifications()){return;}N=this.getNumberOfItemsToFetchOnScroll();if(N===0){this.getView().getModel().setProperty("/"+this.sCurrentSorting+"/hasMoreItems",false);return;}if(c!==undefined){n=c.length;}if(n===0){this.addBusyIndicatorToTabFilter(true);}this.getView().getModel().setProperty("/"+this.sCurrentSorting+"/inUpdate",true);p=this.oNotificationsService.getNotificationsBufferBySortingType(this.sCurrentSorting,n,N);p.done(function(r){this.addBufferToModel(r);}.bind(this));p.fail(function(r){if(n===0){this.handleError();}}.bind(this));},getNextBufferForType:function(){var s=this.sCurrentTypeExpanded,S=this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING,g=this.getGroupFromModel(s),c=g?g.aNotifications:undefined,n=0,p,h=g.hasMoreItems;if(!h){return;}if(c!==undefined){n=c.length;}this.getView().getModel().setProperty("/"+S+"/inUpdate",true);p=this.oNotificationsService.getNotificationsBufferInGroup(s,n,this.getBufferSize());p.done(function(r){this.addTypeBufferToModel(s,r);}.bind(this));p.fail(function(r){this.getNextBufferFailHandler(S);}.bind(this));},getTypesHeaders:function(){var c=this.getItemsFromModel(this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING),n,p,h=this.getView().getModel().getProperty("/"+this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING+"/hasMoreItems");if(!h){return;}if(c!==undefined){n=c.length;}if(n===0){this.addBusyIndicatorToTabFilter(true);}this.getView().getModel().setProperty("/"+this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING+"/inUpdate",true);p=this.oNotificationsService.getNotificationsGroupHeaders();p.done(function(r){this.addTypeHeadersToModel(r);}.bind(this));p.fail(function(r){}.bind(this));},addTypeHeadersToModel:function(r){var c=this.getItemsFromModel(this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING),C=c.length,R;this._oTopNotificationData=undefined;if(!r){return;}R=JSON.parse(r).value;R.forEach(function(i,a){i.hasMoreItems=true;i.aNotifications=[{"Id":"temp"}];});this.getView().getModel().setProperty("/"+this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING+"/aGroupHeaders",R);this.getView().getModel().setProperty("/"+this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING+"/inUpdate",false);if(C===0){this.removeBusyIndicatorToTabFilter(false);}},addBufferToModel:function(r){var c=this.getItemsFromModel(this.sCurrentSorting),C=c.length,m,h=r.length>=this.getNumberOfItemsToFetchOnScroll();this._oTopNotificationData=undefined;if(!r){this.getView().getModel().setProperty("/"+this.sCurrentSorting+"/hasMoreItemsInBackend",false);return;}this.getView().getModel().setProperty("/"+this.sCurrentSorting+"/hasMoreItemsInBackend",h);m=c.concat(r);this.getView().getModel().setProperty("/"+this.sCurrentSorting+"/aNotifications",m);this.getView().getModel().setProperty("/"+this.sCurrentSorting+"/inUpdate",false);if(m.length>=this.iMaxNotificationItemsForDevice){this.handleMaxReached();}if(C===0){this.removeBusyIndicatorToTabFilter(true);}},addTypeBufferToModel:function(t,r){var g=this.getGroupFromModel(t),G=this.getGroupIndexFromModel(t),a=this.getView().getModel().getProperty("/"+this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING+"/aGroupHeaders/"),m;this._oTopNotificationData=undefined;if(!r){return;}if(r.length<this.getBufferSize()){g.hasMoreItems=false;}m=g.aNotifications.concat(r);a[G].aNotifications=m;this.getView().getModel().setProperty("/"+this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING+"/aGroupHeaders/",a);this.getView().getModel().setProperty("/"+this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING+"/inUpdate",false);},keydownHandler:function(k,f){var j,n,c;switch(k.keyCode){case jQuery.sap.KeyCodes.DELETE:j=jQuery(document.activeElement);if(j.hasClass('sapUshellNotificationsListItem')){n=j.next();c=j.find(".sapMNLB-CloseButton")[0];sap.ui.getCore().byId(c.id).firePress();if(n){n.focus();}}break;}},notificationsUpdateCallback:function(d){var t=this,c,n,N;if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING){this.oldNotificationsUpdateCallbackForType();d.resolve();return;}c=this.getItemsFromModel(this.sCurrentSorting);if(c!==undefined){n=c.length;}this.cleanModel();N=this.getNumberOfItemsToFetchOnUpdate(n);this.oNotificationsService.getNotificationsBufferBySortingType(this.sCurrentSorting,0,N).done(function(a){if(!a){return;}d.resolve();t.replaceItemsInModel(a,N);}).fail(function(a){jQuery.sap.log.error("Notifications control - call to notificationsService.getNotificationsBufferBySortingType failed: ",a,"sap.ushell.renderers.fiori2.notifications.Notifications");});},getSelectedList:function(){var s;if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING){s=this.getView().oNotificationsListPriority;}else{s=this.getView().oNotificationsListDate;}return s;},isMoreCircleExist:function(){var s=this.getSelectedList(),i=s.getItems().length,l=s.getItems()[i-1];return!!i&&l.getMetadata().getName()==="sap.m.CustomListItem";},handleMaxReached:function(){var s=this.getSelectedList(),n=Math.floor(this.oNotificationsService.getNotificationsCount()),m=n-this.iMaxNotificationItemsForDevice,i=this.isMoreCircleExist();this.getView().getModel().setProperty("/"+this.sCurrentSorting+"/moreNotificationCount",m);this.getView().getModel().setProperty("/"+this.sCurrentSorting+"/listMaxReached",m>=0);if(m>0&&!i){s.addItem(this.getView().getMoreCircle(this.sCurrentSorting));}else if(m<=0&&i){s.removeItem(this.getView().oMoreListItem);}},reAddFailedGroup:function(g){var m=this.getView().getModel(),G=m.getProperty('/aNotificationsByType');G.splice(g.removedGroupIndex,0,g.oGroup);m.setProperty('/aNotificationsByType',G);},removeGroupFromModel:function(g){var m=this.getView().getModel(),G=m.getProperty('/aNotificationsByType'),r={oGroup:g,removedGroupIndex:undefined};G.some(function(o,i){if(o.Id===g.Id){r.removedGroupIndex=i;G.splice(i,1);m.setProperty('/aNotificationsByType',G);return true;}return false;});return r;},getNotificationsByTypeWithGroupHeaders:function(){var p=this.oNotificationsService.getNotificationsByTypeWithGroupHeaders(),t=this;p.fail(function(d){jQuery.sap.log.error("Notifications control - call to notificationsService.getNotificationsByTypeWithGroupHeaders failed: ",d,"sap.ushell.renderers.fiori2.notifications.Notifications");t.replaceBusyIndicatorWithNotificationsList();});p.done(function(n){var j=JSON.parse(n),a=j.value,r=[],l=-1;a.forEach(function(i,b){if(i.IsGroupHeader){r.push(i);l=l+1;}else{if(r[l]){if(!r[l].notifications){r[l].notifications=[];}r[l].notifications.push(i);}}});t.getView().getModel().setProperty('/aNotificationsByType',r);t.replaceBusyIndicatorWithNotificationsList();});},markRead:function(n){var p=this.oNotificationsService.markRead(n),t=this;p.fail(function(){sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedMarkRead'));t.setMarkReadOnModel(n,false);});this.setMarkReadOnModel(n,true);},onExit:function(){this.getView().oBusyIndicator.destroy();},onBeforeRendering:function(){this.oNotificationsService.registerDependencyNotificationsUpdateCallback(this.notificationsUpdateCallback.bind(this),false);},executeAction:function(n,a){return this.oNotificationsService.executeAction(n,a);},executeBulkAction:function(n,a,A,g,N,p){var t=g,P=this.oNotificationsService.executeBulkAction(n,a),m,G=A,s=this.getView().getModel().getProperty(p+"/NotificationTypeDesc"),b=this;if(s===""){s=this.getView().getModel().getProperty(p+"/NotificationTypeKey");}P.fail(function(r){this.getView().getModel().setProperty(N+"/Busy",false);t.notifications.forEach(function(i,c){this.getView().getModel().setProperty(p+"/Busy",false);}.bind(this));if(r&&r.succededNotifications&&r.succededNotifications.length){r.succededNotifications.forEach(function(c,i){this.removeNotificationFromModel(c);}.bind(this));b.cleanModel();}if(r.succededNotifications.length===1){m=sap.ushell.resources.i18n.getText("notificationsPartialSuccessExecuteBulkAction",[G,r.succededNotifications.length,r.failedNotifications.length+r.succededNotifications.length,s,r.failedNotifications.length]);sap.m.MessageToast.show(m,{duration:4000});}else if(r.succededNotifications.length>1){m=sap.ushell.resources.i18n.getText("notificationsSingleSuccessExecuteBulkAction",[G,r.succededNotifications.length,r.failedNotifications.length+r.succededNotifications.length,s,r.failedNotifications.length]);sap.m.MessageToast.show(m,{duration:4000});}else{m=sap.ushell.resources.i18n.getText("notificationsFailedExecuteBulkAction");sap.ushell.Container.getService('Message').error(m);}}.bind(this));P.done(function(){m=sap.ushell.resources.i18n.getText("notificationsSuccessExecuteBulkAction",[G,s]);sap.m.MessageToast.show(m,{duration:4000});this.removeGroupFromModel(t);this.cleanModel();}.bind(this));},dismissNotification:function(n){var t=this,r=this.removeNotificationFromModel(n),p=this.oNotificationsService.dismissNotification(n);this.cleanModel();p.fail(function(){sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedDismiss'));t.addNotificationToModel(r.obj,r.index);});},dismissBulkNotifications:function(n,g){var r=this.removeGroupFromModel(g),p=this.oNotificationsService.dismissBulkNotifications(n),R=r.oGroup.notifications;this.cleanModel();p.fail(function(o){sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedExecuteBulkAction'));if(o.failedNotifications&&o.failedNotifications.length>0){var N=R.filter(function(a,i,A){return o.failedNotifications.indexOf(a.Id)>-1;});r.oGroup.notifications=N;this.reAddFailedGroup(r);}}.bind(this));},onListItemPress:function(n,s,a,p){var v=sap.ui.getCore().byId('viewPortContainer');if(hasher.getHash()===s+"-"+a){v.switchState("Center");}else{u.toExternalWithParameters(s,a,p);}this.markRead(n);},scrollToItem:function(t){var j=this._getJqNotificationObjects(),a=j[0],b=j[1],c=j[2],d=j[3],i,n,e,f,g;if(a.length>0&&b.length>0&&c.length>0&&d.length>0){i=d.outerHeight(true)-window.parseInt(d.css("margin-top").replace("px",""));n=this.getIndexInModelByItemId(t.topItemId);n=n?n:0;e=n*i+window.parseInt(d.css("margin-top").replace("px",""));f=window.parseInt(b.css("padding-top").replace("px",""))+window.parseInt(c.css("padding-top").replace("px",""));g=a.offset().top;a.scrollTop(e+f+g-t.offSetTop);}this._oTopNotificationData=undefined;},_getJqNotificationObjects:function(){var j=jQuery("#notificationIconTabBar-containerContent"),a=j.children(),b=a.children(),c=j.find("li").first();return[j,a,b,c];},getTopOffSet:function(){var t=0,j=this._getJqNotificationObjects()[0];if(j.children().length>0&&j.children().children().length>0){t+=j.children().outerHeight()-j.children().height();t+=j.children().children().outerHeight()-j.children().children().height();}return t;},getTopItemOnTheScreen:function(){var j=this._getJqNotificationObjects()[0],t=0,i,a=0,b=this;t=this.getTopOffSet();j.find("li").each(function(){a=jQuery(this).offset().top;if(a>=t){i=b.getItemNotificationId(this);return false;}});return{topItemId:i,offSetTop:a};},handleError:function(){this.removeBusyIndicatorToTabFilter(true);try{sap.ushell.Container.getService("Message").error(sap.ushell.resources.i18n.getText("errorOccurredMsg"));}catch(e){jQuery.sap.log.error("Getting Message service failed.");}},addBusyIndicatorToTabFilter:function(i){var t=this.getSelectedTabFilter(),I=this.getView().oIconTabBar;if(i){I.addStyleClass('sapUshellNotificationIconTabByTypeWithBusyIndicator');t.removeAllContent();t.addContent(this.getView().oBusyIndicator);}},removeBusyIndicatorToTabFilter:function(i){var t=this.getSelectedTabFilter(),s;if(t&&i){if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING){s=this.getView().oNotificationsListPriority;}else{s=this.getView().oNotificationsListDate;}t.removeContent(this.getView().oBusyIndicator);t.addContent(s);}},replaceBusyIndicatorWithNotificationsList:function(){var v=this.getView(),t=v.oIconTabBar.getItems()[1];if(t.getContent()[0]===v.oBusyIndicator){t.removeContent(v.oBusyIndicator);t.addContent(v.oNotificationsListType);}},addNotificationToModel:function(n,i){var m=this.getView().getModel(),a=m.getProperty("/"+this.sCurrentSorting+"/aNotifications"),t=this.getView().oIconTabBar.getSelectedKey();a.splice(i,0,n);m.setProperty("/"+this.sCurrentSorting+"/aNotifications",a);if(t==="sapUshellNotificationIconTabByType"){this.getNotificationsByTypeWithGroupHeaders();}},removeNotificationFromModel:function(n){var m=this.getView().getModel(),t=this.getView().oIconTabBar.getSelectedKey(),i,g,a,N,r={};if(t==="sapUshellNotificationIconTabByDate"||t==="sapUshellNotificationIconTabByPrio"){N="/"+this.sCurrentSorting+"/aNotifications";a=m.getProperty(N);a.some(function(b,i,c){if(b.Id&&b.Id===n){r.obj=c.splice(i,1)[0];r.index=i;return true;}});m.setProperty(N,a);return r;}g=m.getProperty("/aNotificationsByType");for(i=0;i<g.length;i++){a=g[i].notifications;if(a.length===1&&a[0].Id===n){g.splice(i,1);}else{a.some(function(b,i,c){if(b.Id&&b.Id===n){r.obj=c.splice(i,1)[0];r.index=i;return true;}});g[i].notifications=a;}}m.setProperty("/aNotificationsByType",g);return r;},getIndexInModelByItemId:function(n){var N=this.getView().getModel().getProperty("/"+this.sCurrentSorting+"/aNotifications"),i;if(N===undefined||N.length===0){return 0;}for(i=0;i<N.length;i++){if(N[i].Id===n){return i;}}},cleanModel:function(){var t=this,s=this.getView().getModel().getProperty("/");if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING||this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_DATE_ASCENDING){this.getView().oIconTabBar.getItems()[1].removeAllContent();this.getView().oIconTabBar.getItems()[2].removeAllContent();}else if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING){this.getView().oIconTabBar.getItems()[0].removeAllContent();this.getView().oIconTabBar.getItems()[1].removeAllContent();}else{this.getView().oIconTabBar.getItems()[2].removeAllContent();this.getView().oIconTabBar.getItems()[0].removeAllContent();}jQuery.each(s,function(i,a){if(i!==t.sCurrentSorting&&i!=="aNotificationsByType"){s[i]=t.getInitialSortingModelStructure();}});this.getView().getModel().setProperty("/",s);},replaceItemsInModel:function(r,n){var c=this.getItemsFromModel(this.sCurrentSorting),C=c.length,h=r.length>=n;if(C){this._oTopNotificationData=this.getTopItemOnTheScreen();}this.getView().getModel().setProperty("/"+this.sCurrentSorting+"/hasMoreItemsInBackend",h);this.getView().getModel().setProperty("/"+this.sCurrentSorting+"/aNotifications",r);this.getView().getModel().setProperty("/"+this.sCurrentSorting+"/inUpdate",false);this.handleMaxReached();},setMarkReadOnModel:function(n,i){var m=this.getView().getModel(),a=m.getProperty("/"+this.sCurrentSorting+"/aNotifications");a.some(function(b,c,d){if(b.Id&&b.Id===n){b.IsRead=i;return true;}});m.setProperty("/"+this.sCurrentSorting+"/aNotifications",a);},getNumberOfItemsInScreen:function(){var i,h=this.getWindowSize();i=(h-this.oPagingConfiguration.TAB_BAR_HEIGHT)/this.oPagingConfiguration.NOTIFICATION_ITEM_HEIGHT;return Math.ceil(i);},getBasicBufferSize:function(){return Math.max(this.getNumberOfItemsInScreen()*3,this.oPagingConfiguration.MIN_NOTIFICATION_ITEMS_PER_BUFFER);},getWindowSize:function(){return jQuery(window).height();},getNumberOfItemsToFetchOnScroll:function(){var c=this.getItemsFromModel(this.sCurrentSorting).length,b=this.getBasicBufferSize();if(c>=this.iMaxNotificationItemsForDevice){return 0;}if(c+b>this.iMaxNotificationItemsForDevice){return this.iMaxNotificationItemsForDevice-c;}return b;},getNumberOfItemsToFetchOnUpdate:function(n){var b=this.getBasicBufferSize(),N=Math.ceil(n/b),r;r=N>0?N*b:b;return r>this.iMaxNotificationItemsForDevice?this.iMaxNotificationItemsForDevice:r;},getItemsFromModel:function(s){if(s===undefined){s=this.sCurrentSorting;}return this.getView().getModel().getProperty("/"+s+"/aNotifications");},getItemsOfTypeFromModel:function(t){var g=this.getGroupFromModel(t);if(g){return g.aNotifications?g.aNotifications:[];}return[];},getGroupFromModel:function(t){var g=this.getView().getModel().getProperty("/"+this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING+"/aGroupHeaders/"),G;g.every(function(a,i){if(a.Id===t){G=a;return false;}return true;});return G;},getGroupIndexFromModel:function(t){var g=this.getView().getModel().getProperty("/"+this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING+"/aGroupHeaders/"),i;g.forEach(function(a,b){if(a.Id===t){i=b;return true;}});return i;},getItemNotificationId:function(e){var i,I;i=sap.ui.getCore().byId(e.getAttribute("Id")).getBindingContext().sPath;I=this.getView().getModel().getProperty(i+"/Id");return I;},getInitialSortingModelStructure:function(){return{hasMoreItemsInBackend:true,listMaxReached:false,aNotifications:[],inUpdate:false,moreNotificationCount:""};},getSelectedTabFilter:function(){var t;if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING||this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_DATE_ASCENDING){t=this.getView().oIconTabBar.getItems()[0];}else if(this.sCurrentSorting===this.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING){t=this.getView().oIconTabBar.getItems()[2];}else{t=this.getView().oIconTabBar.getItems()[1];}return t;},triggerRetrieveMoreDataForGroupNotifications:function(){if(!this.getModel().getProperty("/"+this.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING+"/inUpdate")){var n=this.getItemsOfTypeFromModel(this.sCurrentTypeExpanded),a=n?n.length:0,b=a?this.getBufferSize():0,c=b*3/5,i=Math.floor(a-c),l=this.getView().oNotificationsListDate.getItems()[i],t=this.getTopOffSet();if(jQuery(l.getDomRef()).offset().top<=t){this.getNextBufferForType();}}},collapseOtherGroups:function(g){var l=this.getView().oNotificationsListType.getItems();l.forEach(function(i,a){if(i.getId()===g&&i.getCollapsed()){i.setCollapsed(false);}else if(i.getId()!==g&&!i.getCollapsed()){i.setCollapsed(true);}});},oldNotificationsUpdateCallbackForType:function(){var t=this;this.oNotificationsService.getNotifications().done(function(n){if(!n){return;}t.getNotificationsByTypeWithGroupHeaders();}).fail(function(d){jQuery.sap.log.error("Notifications control - call to notificationsService.getNotifications failed: ",d,"sap.ushell.renderers.fiori2.notifications.Notifications");});},handleEmptyList:function(){var i=this.getItemsFromModel(this.sCurrentSorting);this.getSelectedList().toggleStyleClass("sapContrast",!i.length);this.getSelectedList().toggleStyleClass("sapContrastPlus",!i.length);}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/notifications/Notifications.view',['sap/m/NotificationListItem'],function(N){"use strict";sap.ui.jsview("sap.ushell.renderers.fiori2.notifications.Notifications",{createContent:function(c){var t=this;this.oBusyIndicator=new sap.m.BusyIndicator('notificationsByTypeBusyIndicator',{size:"1rem"});this.oPreviousTabKey="sapUshellNotificationIconTabByDate";this.oPreviousByDateSorting=undefined;this.oActionListItemTemplate=new sap.m.Button({text:"{ActionText}",type:{parts:["Nature"],formatter:function(n){switch(n){case"POSITIVE":return"Accept";case"NEGATIVE":return"Reject";default:return"Default";}}},press:function(e){t.actionButtonPressHandler(e);}});this.actionButtonPressHandler=function(e){var n=e.getSource().getBindingContext().getPath(),b=this.getModel().getProperty(n),p=n.split("/"),T=t.oIconTabBar.getSelectedKey(),P=T==='sapUshellNotificationIconTabByType'?"/"+p[1]+"/"+p[2]+"/"+p[3]+"/"+p[4]:"/"+p[1]+"/"+p[2]+"/"+p[3],d=this.getModel().getProperty(P),s=d.Id;this.oPressActionEventPath=n;this.getModel().setProperty(P+"/Busy",true);c.executeAction(s,b.ActionId).done(function(r){if(r&&r.isSucessfull){if(r.message&&r.message.length){sap.m.MessageToast.show(r.message,{duration:4000});}else{var A=this.oPressActionEventPath,f=this.getModel().getProperty(A),g=f.ActionText;sap.m.MessageToast.show(sap.ushell.resources.i18n.getText("ActionAppliedToNotification",g),{duration:4000});}if(r.DeleteOnReturn!==false){c.removeNotificationFromModel(s);c.cleanModel();}}else{sap.ushell.Container.getService('Message').error(r.message);}this.getModel().setProperty(P+"/Busy",false);}.bind(this)).fail(function(){this.getModel().setProperty(P+"/Busy",false);sap.ushell.Container.getService('Message').error(sap.ushell.resources.i18n.getText('notificationsFailedExecuteAction'));}.bind(this));};this.oActionGroupItemTemplate=new sap.m.Button({text:"{GroupActionText}",type:{parts:["Nature"],formatter:function(n){return n==="POSITIVE"?"Accept":"Reject";}},press:function(e){var n=this.getBindingContext().getPath(),b=this.getModel().getProperty(n),p=n.split("/"),P="/"+p[1]+"/"+p[2],d=this.getModel().getProperty(P),f=[];d.notifications.forEach(function(g,h){f.push(g.Id);this.getModel().setProperty(P+"/Busy",true);}.bind(this));this.getModel().setProperty(n+"/Busy",true);c.executeBulkAction(f,b.ActionId,this.getProperty("text"),d,n,P);}});this.addStyleClass('sapUshellNotificationsView');this.oNotificationListItemTemplate=new N({press:function(e){var b=this.getBindingContext(),m=b.sPath,M=this.getModel().getProperty(m),s=M.NavigationTargetObject,A=M.NavigationTargetAction,p=M.NavigationTargetParams,n=M.Id;c.onListItemPress(n,s,A,p).bind(c);},datetime:{path:"CreatedAt",formatter:sap.ushell.utils.formatDate.bind(c)},description:"{SubTitle}",title:{parts:["SensitiveText","Text"],formatter:function(s,b){return s?s:b;}},buttons:{path:"Actions",templateShareable:true,sorter:new sap.ui.model.Sorter('Nature',true),template:this.oActionListItemTemplate},unread:{parts:["IsRead"],formatter:function(b){return!b;}},close:function(e){var n=this.getBindingContext().getPath(),b=this.getModel().getProperty(n),s=b.Id;c.dismissNotification(s);},busy:{parts:["Busy"],formatter:function(b){if(b){return b;}return false;}},priority:{parts:["Priority"],formatter:function(p){if(p){p=p.charAt(0)+p.substr(1).toLowerCase();return sap.ui.core.Priority[p];}}}}).addStyleClass("sapUshellNotificationsListItem").addStyleClass('sapContrastPlus').addStyleClass('sapContrast');this.oNotificationGroupTemplate=new sap.m.NotificationListGroup({title:"{GroupHeaderText}",collapsed:true,showEmptyGroup:true,datetime:{path:"CreatedAt",formatter:sap.ushell.utils.formatDate.bind(c)},buttons:{path:"Actions",templateShareable:true,sorter:new sap.ui.model.Sorter('Nature',true),template:this.oActionGroupItemTemplate},items:{path:"notifications",template:this.oNotificationListItemTemplate},onCollapse:function(e){var g=e.getSource(),b=g.getId();if(!g.getCollapsed()){c.collapseOtherGroups(b);}},close:function(e){var n=this.getBindingContext().getPath(),p=n.split("/"),P="/"+p[1]+"/"+p[2],b=this.getModel().getProperty(P),d=[];b.notifications.forEach(function(f,g){d.push(f.Id);});c.dismissBulkNotifications(d,b);},priority:{parts:["Priority"],formatter:function(p){if(p){p=p.charAt(0)+p.substr(1).toLowerCase();return sap.ui.core.Priority[p];}}},busy:{parts:["Busy"],formatter:function(b){if(b){return b;}return false;}}});this.oNotificationsListDate=new sap.m.List({id:"sapUshellNotificationsListDate",mode:sap.m.ListMode.None,noDataText:sap.ushell.resources.i18n.getText('noNotificationsMsg'),items:{path:"/notificationsByDateDescending/aNotifications",template:this.oNotificationListItemTemplate,templateShareable:true},growing:true,growingThreshold:400,growingScrollToLoad:true}).addStyleClass("sapUshellNotificationsList");this.oNotificationsListDate.onAfterRendering=function(){c.handleEmptyList();this.oNotificationsListDate.$().parent().parent().scroll(this._triggerRetrieveMoreData.bind(t));if(c._oTopNotificationData){c.scrollToItem(c._oTopNotificationData);}}.bind(this);this.oNotificationsListPriority=new sap.m.List({id:"sapUshellNotificationsListPriority",mode:sap.m.ListMode.None,noDataText:sap.ushell.resources.i18n.getText('noNotificationsMsg'),items:{path:"/notificationsByPriorityDescending/aNotifications",template:this.oNotificationListItemTemplate,templateShareable:true},growing:true,growingThreshold:400,growingScrollToLoad:true}).addStyleClass("sapUshellNotificationsList");this.oNotificationsListPriority.onAfterRendering=function(){c.handleEmptyList();this.oNotificationsListPriority.$().parent().parent().scroll(this._triggerRetrieveMoreData.bind(t));if(c._oTopNotificationData){c.scrollToItem(c._oTopNotificationData);}}.bind(this);this.triggerRetrieveMoreData=function(p){if(!this.getModel().getProperty("/"+p+"/inUpdate")){var n=this.getController().getItemsFromModel(p),b=n?n.length:0,d=b?this.getController().getBasicBufferSize():0,e=d*2/3,f=Math.floor(b-e),l=p==="notificationsByPriorityDescending"?this.oNotificationsListPriority.getItems()[f]:this.oNotificationsListDate.getItems()[f],g=this.getController().getTopOffSet();if(l&&l.getDomRef()&&jQuery(l.getDomRef()).offset().top<=g){this.getController().getNextBuffer(p);}}};this._triggerRetrieveMoreData=function(){this.triggerRetrieveMoreData(c.sCurrentSorting);};this.oNotificationsListType=new sap.m.List({id:"sapUshellNotificationsListType",mode:sap.m.ListMode.SingleSelect,noDataText:sap.ushell.resources.i18n.getText('noNotificationsMsg'),items:{path:"/aNotificationsByType",template:t.oNotificationGroupTemplate,templateShareable:true,growing:true,growingThreshold:400,growingScrollToLoad:true}}).addStyleClass("sapUshellNotificationsList").addStyleClass('sapContrastPlus').addStyleClass('sapContrast');var i=new sap.m.IconTabFilter({id:"sapUshellNotificationIconTabByDate",key:"sapUshellNotificationIconTabByDate",text:sap.ushell.resources.i18n.getText('notificationsSortByDate'),tooltip:sap.ushell.resources.i18n.getText('notificationsSortByDateDescendingTooltip')});var I=new sap.m.IconTabFilter({id:"sapUshellNotificationIconTabByType",key:"sapUshellNotificationIconTabByType",text:sap.ushell.resources.i18n.getText('notificationsSortByType'),tooltip:sap.ushell.resources.i18n.getText('notificationsSortByTypeTooltip'),content:this.oNotificationsListType});var o=new sap.m.IconTabFilter({id:"sapUshellNotificationIconTabByPrio",key:"sapUshellNotificationIconTabByPrio",text:sap.ushell.resources.i18n.getText('notificationsSortByPriority'),tooltip:sap.ushell.resources.i18n.getText('notificationsSortByPriorityTooltip')});this.oIconTabBar=new sap.m.IconTabBar('notificationIconTabBar',{backgroundDesign:sap.m.BackgroundDesign.Transparent,expandable:false,selectedKey:"sapUshellNotificationIconTabByDate",items:[i,I,o],select:function(e){var k=e.getParameter("key"),b=e.getParameter("item");if(k==="sapUshellNotificationIconTabByDate"){if(((t.oPreviousTabKey==="sapUshellNotificationIconTabByDate")&&((t.oPreviousByDateSorting===t.oController.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING)||t.oPreviousByDateSorting===undefined))||((t.oPreviousTabKey!=="sapUshellNotificationIconTabByDate")&&(t.oPreviousByDateSorting===t.oController.oSortingType.NOTIFICATIONS_BY_DATE_ASCENDING))){t.oController.sCurrentSorting=t.oController.oSortingType.NOTIFICATIONS_BY_DATE_ASCENDING;b.setTooltip(sap.ushell.resources.i18n.getText('notificationsSortByDateAscendingTooltip'));t.oNotificationsListDate.bindItems("/notificationsByDateAscending/aNotifications",t.oNotificationListItemTemplate);if(c.getItemsFromModel(c.oSortingType.NOTIFICATIONS_BY_DATE_ASCENDING).length===0){c.getNextBuffer(c.oSortingType.NOTIFICATIONS_BY_DATE_ASCENDING);}t.oPreviousByDateSorting=t.oController.oSortingType.NOTIFICATIONS_BY_DATE_ASCENDING;}else{t.oController.sCurrentSorting=t.oController.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING;b.setTooltip(sap.ushell.resources.i18n.getText('notificationsSortByDateDescendingTooltip'));t.oNotificationsListDate.bindItems("/notificationsByDateDescending/aNotifications",t.oNotificationListItemTemplate);if(c.getItemsFromModel(c.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING).length===0){c.getNextBuffer(c.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING);}t.oPreviousByDateSorting=t.oController.oSortingType.NOTIFICATIONS_BY_DATE_DESCENDING;}t.oPreviousTabKey="sapUshellNotificationIconTabByDate";}else if(k==="sapUshellNotificationIconTabByType"&&t.oPreviousTabKey!=="sapUshellNotificationIconTabByType"){t.oController.sCurrentSorting=t.oController.oSortingType.NOTIFICATIONS_BY_TYPE_DESCENDING;t.getController().getNotificationsByTypeWithGroupHeaders();b.removeAllContent();b.addContent(t.oBusyIndicator);t.oIconTabBar.addStyleClass('sapUshellNotificationIconTabByTypeWithBusyIndicator');t.oPreviousTabKey="sapUshellNotificationIconTabByType";}else{t.oController.sCurrentSorting=t.oController.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING;if(c.getItemsFromModel(c.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING).length===0){c.getNextBuffer(c.oSortingType.NOTIFICATIONS_BY_PRIORITY_DESCENDING);}t.oPreviousTabKey="sapUshellNotificationIconTabByPrio";}t.oPreviousTabKey=k;}}).addStyleClass('sapUshellNotificationTabBar');this.oIconTabBar.addEventDelegate({onsaptabprevious:function(e){var O=e.originalEvent,s=O.srcElement,C=s.classList,b;b=jQuery.inArray('sapMITBFilter',C)>-1;if(b===true){e.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(true);sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e);}}});var a=this.oIconTabBar.onAfterRendering;this.oIconTabBar.onAfterRendering=function(){if(a){a.apply(this,arguments);}var T=sap.ui.getCore().byId('notificationIconTabBar--header');if(T){T.addStyleClass('sapContrastPlus');T.addStyleClass('sapUshellTabBarHeader');}};return[this.oIconTabBar];},getMoreCircle:function(t){var m=new sap.m.Text({text:sap.ushell.resources.i18n.getText('moreNotifications')}),n=new sap.m.Text({text:""}).addStyleClass("sapUshellNotificationsMoreCircleCount"),M=new sap.m.VBox({items:[n,m],alignItems:sap.m.FlexAlignItems.Center}).addStyleClass("sapUshellNotificationsMoreCircle"),b=new sap.m.Text({text:sap.ushell.resources.i18n.getText('moreNotificationsAvailable_message'),alignItems:"Center"}).addStyleClass("sapUshellNotificationsMoreHelpingText"),B=new sap.m.Text({text:sap.ushell.resources.i18n.getText('processNotifications_message'),alignItems:"Center"}).addStyleClass("sapUshellNotificationsMoreHelpingText"),v=new sap.m.VBox({items:[M,b,B]}).addStyleClass("sapUshellNotificationsMoreVBox"),l=new sap.m.CustomListItem({type:sap.m.ListType.Inactive,content:v}).addStyleClass("sapUshellNotificationsMoreListItem").addStyleClass('sapContrastPlus');n.setModel(this.getModel());n.bindText("/"+t+"/moreNotificationCount");this.oMoreListItem=l;return l;},getControllerName:function(){return"sap.ushell.renderers.fiori2.notifications.Notifications";}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/notifications/Settings.controller',function(){"use strict";sap.ui.controller("sap.ushell.renderers.fiori2.notifications.Settings",{onInit:function(){var t=this,s=sap.ushell.Container.getService("Notifications").readSettings(),m=new sap.ui.model.json.JSONModel(),v,n,r,d;m.setProperty("/aDitryRowsIndicator",[]);m.setProperty("/rows",[]);m.setProperty("/originalRows",[]);s.done(function(R){r=JSON.parse(R);if(r.value&&(r.value.length>0)){m.setProperty("/rows",r.value);d=JSON.parse(JSON.stringify(r.value));m.setProperty("/originalRows",d);}else{n=t.getView().getNoDataUI();t.getView().removeAllContent();t.getView().addContent(n);}});s.fail(function(){n=t.getView().getNoDataUI();t.getView().removeAllContent();t.getView().addContent(n);});this._handleSwitchFlagsDataInitialization(m);v=this.getView();v.setModel(m);},onExit:function(){},onBeforeRendering:function(){},onAfterRendering:function(){var o=this.getView().getModel().getProperty("/flags"),r=this.getView().getModel().getProperty("/rows"),d;if(r!==undefined){d=JSON.parse(JSON.stringify(r));this.getView().getModel().setProperty("/originalRows",d);}this.getView().getModel().setProperty("/originalFlags/previewNotificationEnabled",o.previewNotificationEnabled);this.getView().getModel().setProperty("/originalFlags/highPriorityBannerEnabled",o.highPriorityBannerEnabled);this.getView().getModel().setProperty("/aDitryRowsIndicator",[]);},getContent:function(){var d=jQuery.Deferred();d.resolve(this.getView());return d.promise();},getValue:function(){var d=jQuery.Deferred();d.resolve(" ");return d.promise();},onCancel:function(){var o=this.getView().getModel().getProperty("/originalFlags"),O=this.getView().getModel().getProperty("/originalRows"),d=JSON.parse(JSON.stringify(O));this.getView().getModel().setProperty("/flags/previewNotificationEnabled",o.previewNotificationEnabled);this.getView().getModel().setProperty("/flags/highPriorityBannerEnabled",o.highPriorityBannerEnabled);this.getView().getModel().setProperty("/rows",d);this.getView().getModel().setProperty("/originalFlags",{});this.getView().getModel().setProperty("/originalRows",[]);this.getView().getModel().setProperty("/aDitryRowsIndicator",[]);},onSave:function(){var d=jQuery.Deferred(),r=this.getView().getModel().getProperty("/rows"),o=this.getView().getModel().getProperty("/originalRows"),t,T,i,D=this.getView().getModel().getProperty("/aDitryRowsIndicator");d.resolve();this._handleSwitchFlagsSave();for(i=0;i<r.length;i++){if(D[i]&&D[i]===true){t=r[i];T=o[i];if(!this._identicalRows(t,T)){sap.ushell.Container.getService("Notifications").saveSettingsEntry(t);}}}this.getView().getModel().setProperty("/aDitryRowsIndicator",[]);return d.promise();},setControlDirtyFlag:function(){var c=this.getBindingContext().sPath,i=c.substring(c.lastIndexOf("/")+1,c.length),o=this.getModel().getProperty("/aDitryRowsIndicator");if(o!==undefined){this.getModel().setProperty("/aDitryRowsIndicator/"+i,true);}},_handleSwitchFlagsDataInitialization:function(m){var s=sap.ushell.Container.getService("Notifications").getUserSettingsFlags(),M=sap.ushell.Container.getService("Notifications")._getNotificationSettingsMobileSupport();s.done(function(S){m.setProperty("/flags",{});m.setProperty("/flags/previewNotificationEnabled",S.previewNotificationEnabled);m.setProperty("/flags/highPriorityBannerEnabled",S.highPriorityBannerEnabled);m.setProperty("/flags/mobileNotificationsEnabled",M);m.setProperty("/originalFlags",{});m.setProperty("/originalFlags/previewNotificationEnabled",S.previewNotificationEnabled);m.setProperty("/originalFlags/highPriorityBannerEnabled",S.highPriorityBannerEnabled);});},_handleSwitchFlagsSave:function(){var p=this.getView().getModel().getProperty("/flags/previewNotificationEnabled"),h=this.getView().getModel().getProperty("/flags/highPriorityBannerEnabled"),o=this.getView().getModel().getProperty("/originalFlags/previewNotificationEnabled"),O=this.getView().getModel().getProperty("/originalFlags/highPriorityBannerEnabled");if((o!==p)||(O!==h)){sap.ushell.Container.getService("Notifications").setUserSettingsFlags({previewNotificationEnabled:p,highPriorityBannerEnabled:h});if(p!==o){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Notifications","enablePreviewNotificationChanged",{bPreviewEnabled:p});}this.getView().getModel().setProperty("/originalFlags/previewNotificationEnabled",p);this.getView().getModel().setProperty("/originalFlags/highPriorityBannerEnabled",h);}},_identicalRows:function(r,a){if((r.NotificationTypeId===a.NotificationTypeId)&&(r.PriorityDefault===a.PriorityDefault)&&(r.DoNotDeliver===a.DoNotDeliver)&&(r.DoNotDeliverMob===a.DoNotDeliverMob)){return true;}return false;}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/notifications/Settings.view',function(){"use strict";sap.ui.jsview("sap.ushell.renderers.fiori2.notifications.Settings",{createContent:function(c){var t=this,n,T,s,v,h,r=sap.ushell.resources.i18n;n=new sap.m.Table("notificationSettingsTable",{backgroundDesign:sap.m.BackgroundDesign.Transparent,showSeparators:sap.m.ListSeparators.All,columns:[new sap.m.Column({header:new sap.m.Text({text:r.getText("notificationType_column"),tooltip:r.getText("notificationType_columnTooltip")}),hAlign:"Left"}),new sap.m.Column({header:new sap.m.Text({text:r.getText("iOSNotification_column"),tooltip:r.getText("iOSNotification_columnTooltip")}),visible:"{/flags/mobileNotificationsEnabled}",minScreenWidth:"Tablet",demandPopin:true,hAlign:"Left"}),new sap.m.Column({header:new sap.m.Text({text:r.getText("highNotificationsBanner_column"),tooltip:r.getText("highNotificationsBanner_columnTooltip")}),minScreenWidth:"Tablet",demandPopin:true,hAlign:"Left"}),new sap.m.Column({header:new sap.m.Text({text:r.getText("Notifications_Settings_Show_Type_column"),tooltip:r.getText("notificationTypeEnable_columnTooltip")}),hAlign:"Left"})]});n.setFixedLayout(false);T=new sap.m.ColumnListItem({cells:[new sap.m.Label({text:"{NotificationTypeDesc}"}),new sap.m.CheckBox({selected:{parts:["DoNotDeliverMob"],formatter:function(d){return!d;}},select:function(e){t.getController().setControlDirtyFlag.apply(this);var p=e.getSource().getBindingContext().sPath;if(e.mParameters.selected===true){t.getModel().setProperty(p+"/DoNotDeliverMob",false);}else{t.getModel().setProperty(p+"/DoNotDeliverMob",true);}}}),new sap.m.CheckBox({select:function(e){t.getController().setControlDirtyFlag.apply(this);var p=e.getSource().getBindingContext().sPath;if(e.mParameters.selected===true){t.getModel().setProperty(p+"/PriorityDefault","40-HIGH");}else{t.getModel().setProperty(p+"/PriorityDefault","");}},selected:{parts:["PriorityDefault"],formatter:function(p){t.getController().setControlDirtyFlag.apply(this);if(p==="40-HIGH"){return true;}return false;}}}),new sap.m.Switch({state:{parts:["DoNotDeliver"],formatter:function(d){return!d;}},customTextOn:" ",customTextOff:" ",select:function(e){t.getController().setControlDirtyFlag.apply(this);},change:function(e){var N=e.getParameter("state"),p=e.getSource().getBindingContext().sPath;t.getModel().setProperty(p+"/DoNotDeliver",!N);t.getController().setControlDirtyFlag.apply(this);}})]});n.bindAggregation("items",{path:"/rows",template:T,sorter:new sap.ui.model.Sorter("NotificationTypeDesc")});v=new sap.m.VBox();s=this.createSwitchControlBar();h=new sap.m.VBox();h.addStyleClass("sapContrastPlus");h.addItem(s);v.addItem(h);v.addItem(n);return[v];},createSwitchControlBar:function(){var d,D,o,p,e,E,s,r=sap.ushell.resources.i18n,a=sap.ui.Device.system,b=a.desktop||a.tablet||a.combi,n=sap.ushell.Container.getService("Notifications");s=new sap.m.FlexBox('notificationSettingsSwitchBar');d=new sap.m.Switch("doNotDisturbSwitch",{tooltip:r.getText("showAlertsForHighNotifications_tooltip"),state:"{/flags/highPriorityBannerEnabled}",customTextOn:" ",customTextOff:" ",mode:sap.ui.model.BindingMode.TwoWay});D=new sap.m.Label("doNotDisturbLabel",{text:r.getText("Show_High_Priority_Alerts_title")});o=new sap.m.HBox("notificationDoNotDisturbHBox",{items:[d,D]});s.addItem(o);if((n.getPreviewNotificationEnabledConfig()===true)&&(b===true)){p=new sap.m.Switch("enablePreviewSwitch",{tooltip:r.getText("showNotificationsPreview_tooltip"),state:"{/flags/previewNotificationEnabled}",customTextOn:" ",customTextOff:" ",mode:sap.ui.model.BindingMode.TwoWay});e=new sap.m.Label("enablePreviewLabel",{text:r.getText("Show_Preview_in_Home_Page_title")});E=new sap.m.FlexBox({items:[p,e]});s.addItem(E);}return s;},getNoDataUI:function(){var n,N,o,a,r=sap.ushell.resources.i18n;if(n===undefined){N=new sap.ui.core.Icon("notificationSettingsNoDataIcon",{size:"5rem",src:"sap-icon://message-information"});o=new sap.m.Text("notificationSettingsNoDataTextHeader",{text:r.getText("noNotificationTypesEnabledHeader_message")}).setTextAlign(sap.ui.core.TextAlign.Center);a=new sap.m.Text("notificationSettingsNoDataText",{text:r.getText("noNotificationTypesEnabled_message")}).setTextAlign(sap.ui.core.TextAlign.Center);n=new sap.m.VBox("notificationSettingsNoDataInnerBox",{items:[N,o,a]});}return n;},getControllerName:function(){return"sap.ushell.renderers.fiori2.notifications.Settings";}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/theme_selector/ThemeSelector.controller',function(){"use strict";sap.ui.controller("sap.ushell.renderers.fiori2.theme_selector.ThemeSelector",{onInit:function(){try{this.userInfoService=sap.ushell.Container.getService("UserInfo");this.oUser=this.userInfoService.getUser();}catch(e){jQuery.sap.log.error("Getting UserInfo service failed.");this.oUser=sap.ushell.Container.getUser();}this.currentThemeId=this.oUser.getTheme();this.origThemeId=this.currentThemeId;this.aThemeList=null;this.isContentLoaded=false;this.aSapThemeMap={"base":"sapUshellBaseIconStyle","sap_bluecrystal":"sapUshellBlueCrystalIconStyle","sap_hcb":"sapUshellHCBIconStyle","sap_belize":"sapUshellBelizeIconStyle","sap_belize_plus":"sapUshellPlusIconStyle"};},getConfigurationModel:function(){var c=new sap.ui.model.json.JSONModel({});var a=this.getView().getModel()?this.getView().getModel().getProperty("/animationMode"):undefined;this.originalAnimationModeKey=a?a:"full";this.currentAnimationModeKey=this.originalAnimationModeKey;c.setData({isRTL:sap.ui.getCore().getConfiguration().getRTL(),sapUiContentIconColor:sap.ui.core.theming.Parameters.get('sapUiContentIconColor'),isContentDensitySwitchEnable:this.isContentDensitySwitchEnable(),flexAlignItems:sap.ui.Device.system.phone?'Stretch':'Center',textAlign:sap.ui.Device.system.phone?'Left':'Right',textDirection:sap.ui.Device.system.phone?'Column':'Row',labelWidth:sap.ui.Device.system.phone?"auto":"12rem",animationMode:this.currentAnimationModeKey});return c;},_getIsChangeThemePermitted:function(){return this.oUser.isSetThemePermitted();},onAfterRendering:function(){var l=sap.ui.getCore().byId("userPrefThemeSelector--themeList"),i=l.getItems(),I,t,a=this;l.toggleStyleClass("sapUshellThemeListDisabled",!this.isListActive());i.forEach(function(L){t=L.getCustomData()[0].getValue();I=L.getContent()[0].getItems()[0].getItems()[0];if(!a.isListActive()){L.isSelectable=function(){return false;};}if(t===a.currentThemeId){L.setSelected(true);if(!a.isListActive()){L.toggleStyleClass("sapUshellThemeListItemSelected",true);}}else{L.setSelected(false);}I.addStyleClass(a.aSapThemeMap[t]);});if(this.isContentDensitySwitchEnable()){var c=sap.ui.getCore().byId("userPrefThemeSelector--contentDensitySwitch");if(c){c.setState(this.currentContentDensity==="cozy");}}},getContent:function(){var t=this;var d=jQuery.Deferred();var r=sap.ushell.resources.getTranslationModel();this.getView().setModel(r,"i18n");this.getView().setModel(this.getConfigurationModel(),"config");if(this.isContentDensitySwitchEnable()){this.origContentDensity=this.currentContentDensity;if(this.oUser.getContentDensity()){this.currentContentDensity=this.oUser.getContentDensity();}else{this.currentContentDensity="cozy";}}if(this.isContentLoaded===true){d.resolve(this.getView());}else{var a=this._getThemeList();a.done(function(T){if(T.length>0){T.sort(function(b,c){var e=b.name,f=c.name;if(e<f){return-1;}if(e>f){return 1;}return 0;});for(var i=0;i<T.length;i++){if(T[i].id==t.currentThemeId){T[i].isSelected=true;}else{T[i].isSelected=false;}}t.getView().getModel().setProperty("/options",T);d.resolve(t.getView());}else{d.reject();}});a.fail(function(){d.reject();});}return d.promise();},getValue:function(){var d=jQuery.Deferred();var t=this._getThemeList();var a=this;var b;t.done(function(T){a.aThemeList=T;b=a._getThemeNameById(a.currentThemeId);d.resolve(b);});t.fail(function(e){d.reject(e);});return d.promise();},onCancel:function(){this.currentThemeId=this.oUser.getTheme();if(this.isContentDensitySwitchEnable()){this.currentContentDensity=this.oUser.getContentDensity();}this.currentAnimationModeKey=this.originalAnimationModeKey;var a=sap.ui.getCore().byId("userPrefThemeSelector--animationModeCombo");if(a){a.setSelectedKey(this.originalAnimationModeKey);}},onSave:function(){var r=jQuery.Deferred(),w,p=[],t=0,s=0,f=0,F=[],a=this,b=function(){s++;r.notify();},c=function(){s++;r.notify();a.getView().getModel().setProperty("/animationMode",a.currentAnimationModeKey);a.originalAnimationModeKey=a.currentAnimationModeKey;},d=function(e){F.push({entry:"currEntryTitle",message:e});f++;r.notify();};var T=this.onSaveThemes();T.done(b);T.fail(d);p.push(T);if(this.currentAnimationModeKey!==this.originalAnimationModeKey){var A=this.writeUserAnimationModeToPersonalization(this.currentAnimationModeKey);A.done(c);A.fail(d);p.push(A);}if(this.isContentDensitySwitchEnable()){var C=this.onSaveContentDensity();C.done(b);C.fail(d);p.push(C);}w=jQuery.when.apply(null,p);w.done(function(){r.resolve();});r.progress(function(){if(f>0&&(f+s===t)){r.reject("At least one save action failed");}});return r.promise();},onSaveThemes:function(){var d=jQuery.Deferred();var u;if(this.oUser.getTheme()!=this.currentThemeIprofilingEntriesd){if(this.currentThemeId){this.oUser.setTheme(this.currentThemeId);u=this.userInfoService.updateUserPreferences(this.oUser);u.done(function(){this.origThemeId=this.currentThemeId;this.oUser.resetChangedProperties();d.resolve();}.bind(this));u.fail(function(e){this.oUser.setTheme(this.origThemeId);this.oUser.resetChangedProperties();this.currentThemeId=this.origThemeId;jQuery.sap.log.error(e);d.reject(e);}.bind(this));}else{d.reject("Could not find theme: "+this.currentThemeId);}}else{d.resolve();}return d.promise();},_getThemeList:function(){var d=jQuery.Deferred();if(this.aThemeList==null){if(this._getIsChangeThemePermitted()==true){var g=this.userInfoService.getThemeList();g.done(function(D){d.resolve(D.options);});g.fail(function(){d.reject("Failed to load theme list.");});}else{d.resolve([this.currentThemeId]);}}else{d.resolve(this.aThemeList);}return d.promise();},getCurrentThemeId:function(){return this.currentThemeId;},setCurrentThemeId:function(n){this.currentThemeId=n;},_getThemeNameById:function(t){if(this.aThemeList){for(var i=0;i<this.aThemeList.length;i++){if(this.aThemeList[i].id==t){return this.aThemeList[i].name;}}}return t;},onSaveContentDensity:function(){var d=jQuery.Deferred();var u;if(this.oUser.getContentDensity()!=this.currentContentDensity){if(this.currentContentDensity){this.oUser.setContentDensity(this.currentContentDensity);u=this.userInfoService.updateUserPreferences(this.oUser);u.done(function(){this.oUser.resetChangedProperties();this.origContentDensity=this.currentContentDensity;sap.ui.getCore().getEventBus().publish("launchpad","toggleContentDensity",{contentDensity:this.currentContentDensity});d.resolve();}.bind(this));u.fail(function(e){this.oUser.setContentDensity(this.origContentDensity);this.oUser.resetChangedProperties();this.currentContentDensity=this.origContentDensity;jQuery.sap.log.error(e);d.reject(e);}.bind(this));}else{d.reject("Could not find mode: "+this.currentContentDensity);}}else{d.resolve();}return d.promise();},getCurrentContentDensity:function(){return this.currentContentDensity;},setCurrentContentDensity:function(e){var n=e.getSource().getState()?"cozy":"compact";this.currentContentDensity=n;},setCurrentAnimationMode:function(e){var n=e.getSource().getSelectedKey();this.currentAnimationModeKey=n;},getIconFormatter:function(t){if(this.aSapThemeMap[t]){return"";}else{return"sap-icon://palette";}},onSelectHandler:function(e){var i=e.getParameters().listItem;this.setCurrentThemeId(i.getBindingContext().getProperty("id"));},isContentDensitySwitchEnable:function(){return sap.ui.Device.system.combi&&this.getView().getModel().getProperty("/contentDensity");},isListActive:function(){return this.getView().getModel().getProperty("/setTheme");},getUserStatusSetting:function(){var p=this._getUserSettingsPersonalizer();return p.getPersData();},writeUserAnimationModeToPersonalization:function(u){var d,p;try{p=this.getPersonalizer().setPersData(u);}catch(e){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(e.name+": "+e.message);d=new jQuery.Deferred();d.reject(e);p=d.promise();}return p;},getPersonalizer:function(){if(this.oPersonalizer){return this.oPersonalizer;}var p=sap.ushell.Container.getService("Personalization");var c=sap.ui.core.Component.getOwnerComponentFor(this);var s={keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true};var P={container:"flp.launchpad.animation.mode",item:"animationMode"};this.oPersonalizer=p.getPersonalizer(P,s,c);return this.oPersonalizer;}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/usageAnalytics_selector/UsageAnalyticsSelector.controller',function(){"use strict";sap.ui.controller("sap.ushell.renderers.fiori2.usageAnalytics_selector.UsageAnalyticsSelector",{onInit:function(){this.oUser=sap.ushell.Container.getUser();this.switchStateValue=this.oUser.getTrackUsageAnalytics();this.getView().oSwitchButton.setState(this.switchStateValue);},getContent:function(){var t=this,d=jQuery.Deferred();d.resolve(t.getView());return d.promise();},getValue:function(){var d=jQuery.Deferred(),i=sap.ushell.resources.i18n;d.resolve(this.switchStateValue?i.getText("trackingEnabled"):i.getText("trackingDisabled"));return d.promise();},onSave:function(){var c=this.getView().oSwitchButton.getState();this.switchStateValue=c;return sap.ushell.Container.getService("UsageAnalytics").setTrackUsageAnalytics(c);},onCancel:function(){this.getView().oSwitchButton.setState(this.switchStateValue);}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/usageAnalytics_selector/UsageAnalyticsSelector.view',['sap/m/Label','sap/ushell/resources','sap/ushell/services/Container'],function(L,r,C){"use strict";sap.ui.jsview("sap.ushell.renderers.fiori2.usageAnalytics_selector.UsageAnalyticsSelector",{createContent:function(c){var f=sap.ui.Device.system.phone?'Start':'Center',F=sap.ui.Device.system.phone?'Wrap':'NoWrap',s=sap.ui.Device.system.phone?'Column':'Row',t=sap.ui.Device.system.phone?'Left':'Right',a=sap.ui.Device.system.phone?'Baseline':'Auto',w=sap.ui.Device.system.phone?'auto':'11.75rem';this.oLabel=new L({width:w,textAlign:t,text:r.i18n.getText("allowTracking")+":"}).addStyleClass('sapUshellUsageAnalyticsSelectorLabel');this.oSwitchButton=new sap.m.Switch("usageAnalyticsSwitchButton",{type:sap.m.SwitchType.Default}).addStyleClass('sapUshellUsageAnalyticsSelectorSwitchButton');this.oMessage=new sap.m.Text({text:sap.ushell.Container.getService("UsageAnalytics").getLegalText()}).addStyleClass('sapUshellUsageAnalyticsSelectorLegalTextMessage');this.fBox=new sap.m.HBox({alignItems:f,wrap:F,direction:s,height:"2rem",items:[this.oLabel,this.oSwitchButton],layoutData:new sap.m.FlexItemData({alignSelf:a})});this.vBox=new sap.m.VBox({items:[this.fBox,this.oMessage]});return this.vBox;},getControllerName:function(){return"sap.ushell.renderers.fiori2.usageAnalytics_selector.UsageAnalyticsSelector";}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/userAccount/UserAccountSelector.controller',['sap/ushell/ui5service/UserStatus'],function(U){"use strict";sap.ui.controller("sap.ushell.renderers.fiori2.userAccount.UserAccountSelector",{onInit:function(){var t=this;if(this.isServiceEnable()){this.originalEnableStatus=null;this.originalUserStatus=null;var s=sap.ui.core.service.ServiceFactoryRegistry.get("sap.ushell.ui5service.UserStatus");var S=s.createInstance();S.then(function(s){t.oUserStatusService=s;var p=t.oUserStatusService.getUserStatusSetting();p.then(function(u){var b=u&&u.userStatusEnabled?u.userStatusEnabled:false;var d=u&&u.userStatusDefault?u.userStatusDefault:undefined;this.originalEnableStatus=b;this.originalUserStatus=d;t.userStatusButton=t.oUserStatusService.getOnlineStatusPopOver(this.originalUserStatus);t.addUserStatusDropdown();t.addUserEnableSwitch(b);}.bind(t));},function(e){});}},getContent:function(){var d=jQuery.Deferred();var r=sap.ushell.resources.getTranslationModel();this.getView().setModel(r,"i18n");this.getView().setModel(this.getConfigurationModel(),"config");d.resolve(this.getView());return d.promise();},getValue:function(){var d=jQuery.Deferred();d.resolve(sap.ushell.Container.getUser().getFullName());return d.promise();},onCancel:function(){if(this.isServiceEnable()){this.oUserEnableOnlineStatusSwitch.setState(this.originalEnableStatus);this.userStatusButton.setStatus(sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM[this.originalUserStatus]);}},onSave:function(){var d=jQuery.Deferred(),u;if(this.isServiceEnable()){if(this.originalEnableStatus!==this.oUserEnableOnlineStatusSwitch.getState()||this.originalUserStatus!==this.userStatusButton.getStatus().status){if(!this.oUserEnableOnlineStatusSwitch.getState()){u=null;this.oUserStatusService.setStatus(null);}else{u=this.userStatusButton.getStatus()?this.userStatusButton.getStatus().status:"AVAILABLE";}this.oUserStatusService.writeUserStatusSettingToPersonalization({userStatusEnabled:this.oUserEnableOnlineStatusSwitch.getState(),userStatusDefault:u});if(!this.originalEnableStatus&&this.oUserEnableOnlineStatusSwitch.getState()){this.oUserStatusService.setStatus(u);}this.originalEnableStatus=this.oUserEnableOnlineStatusSwitch.getState();this.originalUserStatus=u;}}d.resolve();return d.promise();},addUserStatusDropdown:function(){var u=sap.ui.getCore().byId("UserAccountSelector--userStatusDropDownFlexBox");u.addItem(this.userStatusButton);},addUserEnableSwitch:function(e){var u=sap.ui.getCore().byId("UserAccountSelector--userStatusEnableFlexBox");this.oUserEnableOnlineStatusSwitch=new sap.m.Switch({type:sap.m.SwitchType.Default,state:e,change:function(E){this.userStatusButton.setEnabled(E.mParameters.state);jQuery("#"+this.userStatusButton.getId()).attr("tabindex",E.mParameters.state?0:-1);}.bind(this)});this.userStatusButton.setEnabled(e);jQuery("#"+this.userStatusButton.getId()).attr("tabindex",e?0:-1);u.addItem(this.oUserEnableOnlineStatusSwitch);},isServiceEnable:function(){return U?U.prototype.isEnabled:false;},getConfigurationModel:function(){var c=new sap.ui.model.json.JSONModel({});var u=sap.ushell.Container.getUser();c.setData({isRTL:sap.ui.getCore().getConfiguration().getRTL(),sapUiContentIconColor:sap.ui.core.theming.Parameters.get('sapUiContentIconColor'),isStatusEnable:this.originalEnableStatus?this.originalEnableStatus:false,flexAlignItems:sap.ui.Device.system.phone?'Stretch':'Center',textAlign:sap.ui.Device.system.phone?'Left':'Right',textDirection:sap.ui.Device.system.phone?'Column':'Row',labelWidth:sap.ui.Device.system.phone?"auto":"12rem",name:u.getFullName(),mail:u.getEmail(),server:window.location.host});return c;}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/userAccount/UserAccountSelector.view',function(){"use strict";sap.ui.jsview("sap.ushell.renderers.fiori2.userAccount.UserAccountSelector",{createContent:function(c){var i=sap.ushell.resources.i18n;var f=sap.ui.Device.system.phone?'Column':'Row';var F=sap.ui.Device.system.phone?'Stretch':'Center';var t=sap.ui.Device.system.phone?'Left':'Right';var l=sap.ui.Device.system.phone?"auto":"12rem";var n=new sap.m.Label({text:i.getText("UserAccountNameFld")+":",width:l,textAlign:t});var a=new sap.m.Input("userAccountuserName",{value:"{/name}",editable:false}).addAriaLabelledBy(n);a.addEventDelegate({onfocusin:function(){jQuery("#userAccountuserName input").blur();}});var b=new sap.m.FlexBox({alignItems:F,direction:f,items:[n,a]});var e=new sap.m.Label({text:i.getText("UserAccountEmailFld")+":",width:l,textAlign:t});var d=new sap.m.FlexBox({alignItems:F,direction:f,items:[e,new sap.m.Input({value:"{/mail}",editable:false}).addAriaLabelledBy(e)]});var s=new sap.m.Label({text:i.getText("UserAccountServerFld")+":",width:l,textAlign:t});var g=new sap.m.FlexBox({alignItems:F,direction:f,items:[s,new sap.m.Input({value:"{/server}",editable:false}).addAriaLabelledBy(s)]});var v=new sap.m.VBox({items:[b,d,g]});v.addStyleClass("sapUiSmallMargin");return v;},getControllerName:function(){return"sap.ushell.renderers.fiori2.userAccount.UserAccountSelector";}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/userPreferences/LanguageRegionSelector.controller',function(){"use strict";sap.ui.controller("sap.ushell.renderers.fiori2.userPreferences.LanguageRegionSelector",{onInit:function(){try{this.userInfoService=sap.ushell.Container.getService("UserInfo");this.oUser=this.userInfoService.getUser();}catch(e){jQuery.sap.log.error("Getting UserInfo service failed.");this.oUser=sap.ushell.Container.getUser();}this.sLanguage=this._getFormatedLanguage(this.oUser.getLanguage());this.aLanguageList=null;var v=this.getView();var m=new sap.ui.model.json.JSONModel();var a={languageList:[{text:this.sLanguage,key:this.sLanguage}],selectedLanguage:this.sLanguage};var l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var L=sap.ui.core.LocaleData.getInstance(l);var d=L.getDatePattern("medium"),t=L.getTimePattern("medium"),T=(t.indexOf("H")===-1)?"12h":"24h";a.datePatternList=[{text:d,key:d}];a.timeFormat=T;a.selectedDatePattern=d;var h=this.oView.hourFormatSegmentedButton.getButtons();var s=(T==="12h")?h[0]:h[1];this.oView.hourFormatSegmentedButton.setSelectedButton(s);m.setData(a);this.oView.setModel(m);},getContent:function(){var d=jQuery.Deferred();var t=this;var i=sap.ushell.Container.getRenderer('fiori2').getModelConfiguration().enableSetLanguage;if(i){jQuery.sap.measure.start("FLP:LanguageRegionSelector.getContent","getContent","FLP");var a=this._getLanguagesList();a.done(function(l){if(l){if(l.length>1){t.getView().getModel().setProperty("/languageList",l);t.oView.inputLanguage.setVisible(false);t.oView.selectLanguage.setVisible(true);t.oView.helpingText.setVisible(true);t.oView.helpingTextLabel.setVisible(true);}}jQuery.sap.measure.end("FLP:LanguageRegionSelector.getContent");d.resolve(t.getView());});a.fail(function(e){jQuery.sap.log.error(e);d.resolve(t.getView());});}else{d.resolve(t.getView());}return d.promise();},getValue:function(){var d=jQuery.Deferred();d.resolve(this._getFormatedLanguage(this.getView().getModel().getProperty("/selectedLanguage"))+" | "+sap.ushell.resources.i18n.getText("timeFormatFld")+": "+this.getView().getModel().getProperty("/timeFormat"));return d.promise();},onCancel:function(){var d=jQuery.Deferred();var s=this.getView().getModel().getProperty("/selectedLanguage");if(this.oUser.getLanguage()!=s){this._handleSelectChange(this.oUser.getLanguage(),"Cancel");d.resolve();}else{d.resolve();}return d.promise();},onSave:function(){var d=jQuery.Deferred();var s=this.getView().getModel().getProperty("/selectedLanguage");if(this.oUser.getLanguage()!=s){if(s){this.oUser.setLanguage(s);this.userInfoService.updateUserPreferences(this.oUser).done(function(){d.resolve();window.location.reload();}.bind(this));}}else{d.resolve();}return d.promise();},_getFormatedLanguage:function(l){if(l&&l.indexOf('-')>-1){l=l.replace('-',' (').concat(')').toUpperCase();}else if(l){l=l.toUpperCase();}return l;},_handleSelectChange:function(l,m){var L=new sap.ui.core.Locale(l);var o=sap.ui.core.LocaleData.getInstance(L);var d=o.getDatePattern("medium"),t=o.getTimePattern("medium"),T=(t.indexOf("H")===-1)?"12h":"24h";if(m=="Cancel"){this.getView().selectLanguage.setSelectedKey(l);}this.getView().comboDate.setValue(d);var h=this.getView().hourFormatSegmentedButton.getButtons();var s=(T==="12h")?h[0]:h[1];this.getView().hourFormatSegmentedButton.setSelectedButton(s);},_getLanguagesList:function(){var t=this;var r=jQuery.Deferred();if(this.aLanguageList==null){jQuery.sap.measure.start("FLP:LanguageRegionSelector._getLanguagesList","_getLanguagesList","FLP");var g=this.userInfoService.getLanguageList();g.done(function(d){d.forEach(function(o){if(o.text.length>0){o.text=t._getFormatedLanguage(o.text)}});jQuery.sap.measure.end("FLP:LanguageRegionSelector._getLanguagesList");r.resolve(d);});g.fail(function(){r.reject("Failed to load language list.");});}else{r.resolve(this.aLanguageList);}return r.promise();},});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/userPreferences/LanguageRegionSelector.view',function(){"use strict";sap.ui.jsview("sap.ushell.renderers.fiori2.userPreferences.LanguageRegionSelector",{createContent:function(c){var i=new sap.ui.core.Item({text:"{text}",key:"{key}"});var a=sap.ushell.resources.i18n;var f=sap.ui.Device.system.phone?'Column':'Row';var F=sap.ui.Device.system.phone?'Stretch':'Center';var t=sap.ui.Device.system.phone?'Left':'Right';var l=sap.ui.Device.system.phone?"auto":"12rem";var L=sap.ui.Device.system.phone?"auto":"16rem";var C=sap.ui.Device.system.phone?"100%":undefined;var b=new sap.m.Label('languageSelectionLabel',{text:{path:"/selectedLanguage",formatter:function(s){s=c._getFormatedLanguage(s);return a.getText(s.indexOf('(')>-1?"languageAndRegionTit":"languageRegionFld")+':';}},width:l,textAlign:t});this.selectLanguage=new sap.m.Select('languageSelectionSelect',{visible:false,width:L,items:{path:"/languageList",template:i},selectedKey:"{/selectedLanguage}",editable:true,change:function(e){var s=e.getParameters().selectedItem.getKey();c._handleSelectChange(s);}}).addAriaLabelledBy(b);this.inputLanguage=new sap.m.Input('languageSelectionInput',{visible:true,value:"{/selectedLanguage}",editable:false}).addAriaLabelledBy(b);var d=new sap.m.FlexBox({alignItems:F,direction:f,items:[b,this.selectLanguage,this.inputLanguage]});this.helpingTextLabel=new sap.m.Label({visible:false,text:"",width:l,textAlign:t});this.helpingText=new sap.m.Text({visible:false,text:a.getText("LanguageAndRegionHelpingText"),width:L,textAlign:"Begin"}).addStyleClass("sapUshellFlpSettingsLanguageRegionDescription");var g=new sap.m.FlexBox({alignItems:F,direction:f,items:[this.helpingTextLabel,this.helpingText]});var h=new sap.m.Label({text:a.getText("dateFormatFld")+":",width:l,textAlign:t});this.comboDate=new sap.m.ComboBox('dateFormatCombo',{width:C,items:{path:"/datePatternList",template:i},selectedKey:"{/selectedDatePattern}",editable:false}).addAriaLabelledBy(h);var j=new sap.m.FlexBox({alignItems:F,direction:f,items:[h,this.comboDate]});this.hourFormatSegmentedButton=new sap.m.SegmentedButton('hoursSegmentedButton',{enabled:false,width:"10rem",buttons:[new sap.m.Button({text:a.getText("btn12h")}),new sap.m.Button({text:a.getText("btn24h")})]});var k=new sap.m.FlexBox({alignItems:F,direction:f,items:[new sap.m.Label({text:a.getText("timeFormatFld")+":",width:l,textAlign:t}),this.hourFormatSegmentedButton]});var v=new sap.m.VBox({items:[d,g,j,k]});v.addStyleClass("sapUiSmallMargin");return v;},getControllerName:function(){return"sap.ushell.renderers.fiori2.userPreferences.LanguageRegionSelector";}});},true);
sap.ui.predefine('sap/ushell/services/Bookmark',[],function(){"use strict";function B(){var l=sap.ushell.Container.getService("LaunchPage");this._isMatchingRemoteCatalog=function(c,r){var C=l.getCatalogData(c);return C.remoteId===r.remoteId&&C.baseUrl.replace(/\/$/,"")===r.baseUrl.replace(/\/$/,"");};this.addBookmark=function(p,g){var P=l.addBookmark(p,g);P.done(function(t){var d={tile:t,group:g};sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileAdded",d);});return P;};this._doAddCatalogTileToGroup=function(d,c,C,g){var e,f=d.reject.bind(d);function a(G){l.getCatalogTiles(C).fail(f).done(function(b){var g=l.getGroupId(G),t=b.some(function(o){if(l.getCatalogTileId(o)===c){l.addTile(o,G).fail(f).done(function(){d.resolve();sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","catalogTileAdded",g);});return true;}});if(!t){e="No tile '"+c+"' in catalog '"+l.getCatalogId(C)+"'";jQuery.sap.log.error(e,null,"sap.ushell.services.Bookmark");f(e);}});}if(g){l.getGroups().fail(f).done(function(G){var b=G.some(function(o){if(l.getGroupId(o)===g){a(o);return true;}});if(!b){e="Group '"+g+"' is unknown";jQuery.sap.log.error(e,null,"sap.ushell.services.Bookmark");f(e);}});}else{l.getDefaultGroup().fail(f).done(a);}return d.promise();};this.addCatalogTileToGroup=function(c,g,C){var d=new jQuery.Deferred(),e,f=d.reject.bind(d),m,L="X-SAP-UI2-HANA:hana?remoteId=HANA_CATALOG",t=this;function i(o){return l.getCatalogId(o)===L;}m=C?this._isMatchingRemoteCatalog:i;C=C||{id:L};l.onCatalogTileAdded(c);l.getCatalogs().fail(f).done(function(a){var s;a.forEach(function(o){if(m(o,C)){if(!s){s=o;}else{jQuery.sap.log.warning("More than one matching catalog: "+JSON.stringify(C),null,"sap.ushell.services.Bookmark");}}});if(s){t._doAddCatalogTileToGroup(d,c,s,g);}else{e="No matching catalog found: "+JSON.stringify(C);jQuery.sap.log.error(e,null,"sap.ushell.services.Bookmark");d.reject(e);}});return d.promise();};this.countBookmarks=function(u){return l.countBookmarks(u);};this.deleteBookmarks=function(u){var p=l.deleteBookmarks(u);p.done(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",u);});return p;};this.updateBookmarks=function(u,p){return l.updateBookmarks(u,p);};};B.hasNoAdapter=true;return B;},true);
sap.ui.predefine('sap/ushell/services/CrossApplicationNavigation',['sap/ushell/services/Personalization','jquery.sap.storage'],function(P,s){"use strict";function C(c,p,S){var a,o;if(S&&S.config){o=S.config;}function g(t,d){var r,e,f,h,i,j;if(typeof t!=="string"&&!jQuery.isPlainObject(t)&&t!==undefined){jQuery.sap.log.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined;}if(t===undefined){return undefined;}var n;if(d){if(typeof d.getComponentData!=="function"||!jQuery.isPlainObject(d.getComponentData())||!d.getComponentData().startupParameters||!jQuery.isPlainObject(d.getComponentData().startupParameters)){jQuery.sap.log.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.CrossApplicationNavigation");}else{j=d.getComponentData().startupParameters;if(j.hasOwnProperty("sap-system")){f=j["sap-system"][0];}if(j.hasOwnProperty("sap-ushell-next-navmode")){n=j["sap-ushell-next-navmode"][0];}}}else{r=sap.ushell.Container.getService("NavTargetResolution").getCurrentResolution();if(r&&r["sap-system"]){f=r["sap-system"];}else if(r&&r.url){f=jQuery.sap.getUriParameters(r.url).get("sap-system");}if(r&&r["sap-ushell-next-navmode"]){n=r["sap-ushell-next-navmode"];}else if(r&&r.url){n=jQuery.sap.getUriParameters(r.url).get("sap-ushell-next-navmode");}}if(jQuery.isPlainObject(t)){h=jQuery.extend(true,{},t);if(!f&&!n){return h;}if(h.target&&h.target.shellHash){if(typeof h.target.shellHash==="string"){h.target.shellHash=g(h.target.shellHash,d);}return h;}h.params=h.params||{};if(f&&!Object.prototype.hasOwnProperty.call(h.params,"sap-system")){h.params["sap-system"]=f;}if(n&&!Object.prototype.hasOwnProperty.call(h.params,"sap-ushell-navmode")){h.params["sap-ushell-navmode"]=[n];}return h;}else{i=t;if(!(f||n)){return i;}if(f&&!/[?&]sap-system=/.test(i)){e=(i.indexOf("?")>-1)?"&":"?";i+=e+"sap-system="+f;}if(n&&!/[?&]sap-ushell-navmode=/.test(i)){e=(i.indexOf("?")>-1)?"&":"?";i+=e+"sap-ushell-navmode="+n;}return i;}}function b(t){var d,e,f;if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return t;}if(!o||!o["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return t;}}if(typeof t!=="string"&&!jQuery.isPlainObject(t)&&t!==undefined){jQuery.sap.log.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined;}if(t===undefined){return undefined;}if(jQuery.isPlainObject(t)){e=jQuery.extend(true,{},t);if(e.target&&e.target.shellHash){if(typeof e.target.shellHash==="string"){if(e.target.shellHash!=="#"&&e.target.shellHash!==""){e.target.shellHash=b(e.target.shellHash);}}return e;}e.params=e.params||{};e.params["sap-ushell-enc-test"]=["A B%20C"];return e;}else{f=t;if(!/[?&]sap-system=/.test(f)){d=(f.indexOf("?")>-1)?"&":"?";f+=d+"sap-ushell-enc-test="+encodeURIComponent("A B%20C");}return f;}}this.hrefForExternal=function(A,d,e){var f;if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){f=g(A,d);f=b(f);return sap.ushell.Container.getService("ShellNavigation").hrefForExternal(f,undefined,d,e);}jQuery.sap.log.debug("Shell not available, no Cross App Navigation");if(e){return(new jQuery.Deferred()).resolve("").promise();}return"";};this.expandCompactHash=function(h){return sap.ushell.Container.getService("NavTargetResolution").expandCompactHash(h);};this.backToPreviousApp=function(){if(this.isInitialNavigation()){this.toExternal({target:{shellHash:"#"},writeHistory:false});return;}this.historyBack();};this.historyBack=function(){window.history.back();};this.isInitialNavigation=function(){var d=sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation");if(!d){jQuery.sap.log.debug("ShellNavigation service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true;}var i=d.isInitialNavigation();if(typeof i==="undefined"){return true;}return i;};this.toExternal=function(A,d){var e,w=A.writeHistory;if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){e=g(A,d);e=b(e);delete e.writeHistory;sap.ushell.Container.getService("ShellNavigation").toExternal(e,d,w);return;}jQuery.sap.log.debug("Shell not avialable, no Cross App Navigation");return;};this.hrefForAppSpecificHash=function(A){if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation")){return sap.ushell.Container.getService("ShellNavigation").hrefForAppSpecificHash(A);}jQuery.sap.log.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return"#"+encodeURI(A);};this.getSemanticObjectLinks=function(d,m,i,e,A,f){var h,j,E;h=g({params:m},e).params;h=b({params:h}).params;j=sap.ushell.Container.getService("NavTargetResolution");var v;if(jQuery.isArray(d)){v=[];d.forEach(function(k){v.push([{semanticObject:k[0],params:k[1],ignoreFormFactor:!!k[2],ui5Component:k[3],appStateKey:k[4],compactIntents:!!(k[5])}]);});}else{v={semanticObject:d,params:h,ignoreFormFactor:i,ui5Component:e,appStateKey:A,compactIntents:!!f};}E=sap.ushell.utils.invokeUnfoldingArrayArguments(j.getLinks.bind(j),[v]);return E;};this.getLinks=function(A){var e;e=sap.ushell.utils.invokeUnfoldingArrayArguments(this._getLinks.bind(this),[A]);return e;};this._getLinks=function(n){var N,m,d=sap.ushell.Container.getService("NavTargetResolution");if(typeof n==="undefined"){n={};}N=jQuery.extend(true,{},n);N.compactIntents=!!N.compactIntents;N.action=N.action||undefined;m=g({params:N.params},N.ui5Component).params;m=b({params:m}).params;if(N.appStateKey){m["sap-xapp-state"]=[N.appStateKey];delete N.appStateKey;}N.params=m;return d.getLinks(N);};this.getDistinctSemanticObjects=function(){var d=sap.ushell.Container.getService("NavTargetResolution");return d.getDistinctSemanticObjects();};this.isIntentSupported=function(i,d){var D=new jQuery.Deferred(),O={},e=i.map(function(I){var f=g(I,d);O[f]=I;return f;});sap.ushell.Container.getService("NavTargetResolution").isIntentSupported(e).done(function(I){var m={};Object.keys(I).forEach(function(k){m[O[k]]=I[k];});D.resolve(m);}).fail(D.reject.bind(D));return D.promise();};this.isNavigationSupported=function(i,d){var e=i.map(function(I){return g(I,d);});return sap.ushell.Container.getService("NavTargetResolution").isNavigationSupported(e);};this.isUrlSupported=function(u){var d=new jQuery.Deferred(),U,h;if(typeof u!=="string"){d.reject();return d.promise();}U=sap.ushell.Container.getService("URLParsing");if(U.isIntentUrl(u)){h=U.getHash(u);this.isIntentSupported(["#"+h]).done(function(r){if(r["#"+h]&&r["#"+h].supported){d.resolve();}else{d.reject();}}).fail(function(){d.reject();});}else{d.resolve();}return d.promise();};this.createComponentInstance=function(i,d,O){var e,u,f,h;if(!d){d={};}else{h=Object.keys(d).length;if(h>1||(h===1&&!d.componentData)){throw"`oConfig` argument should either be an empty object or contain only the `componentData` property.";}}if(d.componentData){delete d.componentData.startupParameters;delete d.componentData.config;delete d.componentData["sap-xapp-state"];}e=sap.ushell.Container;u=e.getService("URLParsing");f=u.constructShellHash(u.parseShellHash(i));if(!f){return new jQuery.Deferred(function(D){D.reject("Navigation intent invalid!");}).promise();}return e.getService("NavTargetResolution").resolveHashFragment("#"+f).then(function(r){if(r.applicationType!==sap.ushell.components.container.ApplicationType.URL&&!(/^SAPUI5\.Component=/.test(r.additionalInformation))){return new jQuery.Deferred(function(D){D.reject("The resolved target mapping is not of type UI5 component.");}).promise();}r=jQuery.extend(true,{},r,d);if(!r.ui5ComponentName&&r.additionalInformation){r.ui5ComponentName=r.additionalInformation.replace(/^SAPUI5\.Component=/,"");}return new jQuery.Deferred(function(D){var j=e.getService("Ui5ComponentLoader");if(O){O.runAsOwner(function(){k(r);});}else{k(r);}function k(A){A.loadDefaultDependencies=false;j.createComponent(A).then(function(l){D.resolve(l.componentHandle.getInstance());},function(E){E=E||"";jQuery.sap.log.error("Cannot create UI5 component: "+E,E.stack,"sap.ushell.services.CrossApplicationNavigation");D.reject(E);});}}).promise();});};this.createEmptyAppState=function(A){if(!a){a=sap.ushell.Container.getService("AppState");}if(!(A instanceof sap.ui.core.UIComponent)){throw new Error("oAppComponent passed must be a UI5 Component");}return a.createEmptyAppState(A);};this.getStartupAppState=function(A){this._checkComponent(A);var d=A.getComponentData()&&A.getComponentData()["sap-xapp-state"]&&A.getComponentData()["sap-xapp-state"][0];return this.getAppState(A,d);};this._checkComponent=function(A){if(!(A instanceof sap.ui.core.UIComponent)){throw new Error("oComponent passed must be a UI5 Component");}};this.getAppState=function(A,d){var e,D=new jQuery.Deferred();this._checkComponent(A);if(!a){a=sap.ushell.Container.getService("AppState");}if(typeof d!=="string"){if(d!==undefined){jQuery.sap.log.error("Illegal Argument sAppStateKey ");}setTimeout(function(){e=a.createEmptyUnmodifiableAppState(A);D.resolve(e);},0);return D.promise();}return a.getAppState(d);};this.getAppStateData=function(A){return sap.ushell.utils.invokeUnfoldingArrayArguments(this._getAppStateData.bind(this),[A]);};this._getAppStateData=function(A){var d=new jQuery.Deferred();if(!a){a=sap.ushell.Container.getService("AppState");}if(typeof A!=="string"){if(A!==undefined){jQuery.sap.log.error("Illegal Argument sAppStateKey ");}setTimeout(function(){d.resolve(undefined);},0);}else{a.getAppState(A).done(function(e){d.resolve(e.getData());}).fail(d.resolve.bind(d,undefined));}return d.promise();};this.saveMultipleAppStates=function(A){var r=[],d=new jQuery.Deferred();A.forEach(function(e){r.push(e.save());});jQuery.when.apply(this,r).done(function(){d.resolve(r);}).fail(function(){d.reject("save failed");});return d.promise();};};C.hasNoAdapter=true;return C;},true);
sap.ui.predefine('sap/ushell/services/EndUserFeedback',[],function(){"use strict";function g(p,o){return jQuery.sap.getObject(p,undefined,o)||"";}function E(a,c,p,s){var S=(s&&s.config)||{};this.sendFeedback=function(e){var u,n,A,b,o,f,U,d,h;u=g("clientContext.navigationData.applicationInformation.url",e);n=g("clientContext.navigationData.navigationHash",e);A=g("clientContext.navigationData.applicationInformation.additionalInformation",e);b=g("clientContext.navigationData.applicationInformation.applicationType",e);f=g("clientContext.navigationData.formFactor",e);U=g("clientContext.userDetails.userId",e);d=g("clientContext.userDetails.eMail",e);h=e.feedbackText||"";o={feedbackText:h.slice(0,2000),ratings:e.ratings||{},additionalInformation:A,applicationType:b,url:u?this.getPathOfURL(u):"",navigationIntent:n.replace(/\?.*$/,''),formFactor:f,isAnonymous:e.isAnonymous||false,userId:e.isAnonymous?"":U,eMail:e.isAnonymous?"":d};return a.sendFeedback(o);};this.getLegalText=function(){return a.getLegalText();};this.isEnabled=function(){var d=new jQuery.Deferred();if(S.enabled===false){setTimeout(function(){d.reject();},0);return d.promise();}a.isEnabled().done(function(l){d.resolve();}).fail(function(e){d.reject();});return d.promise();};this.getPathOfURL=function(u){var U=new URI(u);return U.pathname();};};E.hasNoAdapter=false;return E;},true);
sap.ui.predefine('sap/ushell/services/Search',[],function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;function S(a,c){this.init.apply(this,arguments);};S.prototype={init:function(a,c,p,o){this.oAdapter=a;this.oContainerInterface=c;this.oLpdService=sap.ushell.Container.getService("LaunchPage");this.optimizedAppSearch=false;if(o&&o.config&&o.config.optimizedAppSearch!==undefined){this.optimizedAppSearch=o.config.optimizedAppSearch;}},isSearchAvailable:function(){return this.oAdapter.isSearchAvailable();},getSina:function(){return this.oAdapter.getSina();},isValid:function(t){if(this.oLpdService.isTileIntentSupported){return this.oLpdService.isTileIntentSupported(t);}else{return true;}},_getCatalogTiles:function(){var t=this;if(t.allTilesDeferred){return t.allTilesDeferred;}var c=[];t.allTilesDeferred=t.oLpdService.getCatalogs().then(function(d){var D=[];var o=t._getPersonalizedGroupTiles(new jQuery.Deferred());D.push(o);for(var i=0;i<d.length;i++){D.push(t.oLpdService.getCatalogTiles(d[i]));}return jQuery.when.apply(jQuery,D).then(function(){var T=arguments;for(var i=0;i<T.length;i++){var f=T[i];for(var j=0;j<f.length;j++){try{var g,h,k,l,m,n,I;g=f[j];if(!t.optimizedAppSearch){h=t.oLpdService.getCatalogTileView(g);}k=t.oLpdService.getCatalogTileKeywords(g);l=t.oLpdService.getCatalogTileTargetURL(g);m=t.oLpdService.getCatalogTilePreviewTitle(g)||t.oLpdService.getCatalogTileTitle(g);n=t.oLpdService.getCatalogTileSize(g);I=t.oLpdService.getCatalogTilePreviewIcon(g)||"sap-icon://business-objects-experience";if(t.isValid(g)){c.push({tile:g,keywords:k,url:l,title:m||'',icon:I,size:n});}if(!t.optimizedAppSearch){h.destroy();}if(g.getContract){var p=g.getContract("preview");if(p){p.setEnabled(false);}}}catch(e){jQuery.sap.log.error(e);}}}c=t._removeDuplicateTiles(c);c.sort(function(a,b){if(a.title.toUpperCase()<b.title.toUpperCase()){return-1;}if(a.title.toUpperCase()>b.title.toUpperCase()){return 1;}return 0;});return c;});});return t.allTilesDeferred;},_getPersonalizedGroupTiles:function(d){var t=this;t.oLpdService.getGroups().then(function(g){var D=[];var G;for(var j=0;j<g.length;j++){G=t.oLpdService.getGroupTiles(g[j])||[];D=D.concat(G);}d.resolve(D);});return d.promise();},_removeDuplicateTiles:function(t){var I={},k,u=[];for(var i=0;i<t.length;++i){var T=t[i];if(!T.url){continue;}var f=new RegExp('DisplayFactSheet','i');if(f.test(T.url)){continue;}k=T.title+T.url+T.icon;if(I[k]===undefined){I[k]=T;u.push(T);}}return u;},_searchTiles:function(p){var a=p.searchTerm;var c=p.aCatalogTiles;var t=p.top||10;var i=p.skip||0;var m=0;var b=p.searchInKeywords||false;var f=[],T;var d=function(T,h){m+=1;if(m<=i){return;}if(m>(i+t)){return;}var r=jQuery.extend({},T);r.tooltip=r.title;if(h.length>0){r.label=h;}else{r.label=T.title;}f.push(r);};var o;if(p.bSuggestion===true){o=new s.Tester(a);}else{o=new s.Tester(a,'',true);}var e;for(var j=0;j<c.length;j++){T=c[j];e=o.test(T.title);if(e.bMatch===true){d(T,e.sHighlightedText);continue;}if(b&&T.keywords&&Array.isArray(T.keywords)){e=o.test(T.keywords.join(' '));if(e.bMatch===true){d(T,"");}}}return{totalResults:m,searchTerm:a,getElements:function(){return f;}};},queryApplications:function(p){var t=this;return this._getCatalogTiles().then(function(c){p.aCatalogTiles=c;return t._searchTiles(p);});},queryApplicationsByTarget:function(a,r){this._getCatalogTiles().done(function(c){var R=[];for(var j=0,l=a&&a.length||0;j<l;j++){var o=a[j],u=sap.ushell.Container.getService("URLParsing");for(var i=0;i<c.length;i++){var t=u.parseShellHash(c[i].url);if(t&&(t.semanticObject===o.semanticObject)&&(t.action===o.action)){R.push(c[i]);break;}}}r(R);});}};S.hasNoAdapter=false;return S;},true);
sap.ui.predefine('sap/ushell/services/UsageAnalytics',["sap/ui/layout/VerticalLayout","sap/m/Text","sap/m/Dialog","sap/m/Button"],function(V,T,D,B){"use strict";function U(c,p,S){var o=(S&&S.config)||{},a=[],A=false,i=false,l,I;window.oCustomProperties={};this.setLegalText=function(t){l=t;if(I){this.init(I.usageAnalyticsTitle,I.iAgree,I.iDisagree,I.remindMeLater);}};this.getLegalText=function(){return l;};this.setTrackUsageAnalytics=function(s){var d=jQuery.Deferred();var u;var b=s;var f=sap.ushell.Container.getUser().getTrackUsageAnalytics();try{var g=sap.ushell.Container.getService("UserInfo");if(f!==b){sap.ushell.Container.getUser().setTrackUsageAnalytics(b);u=g.updateUserPreferences(sap.ushell.Container.getUser());u.done(function(){sap.ushell.Container.getUser().resetChangedProperties();if(!i&&b){this.start();}else if(i&&b===false){window.swa.disable();}else if(i&&b){window.swa.enable();}d.resolve();}.bind(this));u.fail(function(E){sap.ushell.Container.getUser().setTrackUsageAnalytics(f);sap.ushell.Container.getUser().resetChangedProperties();jQuery.sap.log.error(E);d.reject(E);});}else{d.resolve();}}catch(e){jQuery.sap.log.error("Getting UserInfo service failed.");d.reject("Getting UserInfo service failed.");}return d.promise();};this.showLegalPopup=function(){setTimeout(function(){var b,d;b=new V('usageAnalyticsPopUpLayout',{content:[new T({text:l})]});d=new D('agreementMessageBox',{title:I.usageAnalyticsTitle,type:'Message',stretch:sap.ui.Device.system.phone,buttons:[new B('remindMeLaterButton',{text:I.remindMeLater,press:function(){d.close();}}),new B('iAgreeButton',{text:I.iAgree,type:'Accept',press:function(){sap.ushell.Container.getService("UsageAnalytics").setTrackUsageAnalytics(true);d.close();}}),new B('iDisagreeButton',{text:I.iDisagree,press:function(){sap.ushell.Container.getService("UsageAnalytics").setTrackUsageAnalytics(false);d.close();}})],afterClose:function(){d.destroy();}}).addStyleClass('sapUshellUsageAnalyticsPopUp');d.addContent(b);d.open();},100);};this.systemEnabled=function(){if(!o.enabled||!o.pubToken||(this.isSetUsageAnalyticsPermitted()&&!l)){if(!o.pubToken){jQuery.sap.log.warning("No valid pubToken was found in the service configuration");}if(!l){jQuery.sap.log.warning("No Legal text message found.");}return false;}else{return true;}};this.userEnabled=function(){var u=sap.ushell.Container.getUser();if(!this.systemEnabled()){return false;}return u.getTrackUsageAnalytics();};this.start=function(){sap.ui.getCore().getEventBus().publish("sap.ushell.services.UsageAnalytics","usageAnalyticsStarted");this._initUsageAnalyticsLogging();i=true;window.swa.custom2={ref:sap.ui.getCore().getConfiguration().getLanguage()};};this.init=function(u,s,b,r){I={usageAnalyticsTitle:u,iAgree:s,iDisagree:b,remindMeLater:r};if(this.systemEnabled()&&!i){if(!this.isSetUsageAnalyticsPermitted()){this.start();}else if(l){if(this.userEnabled()===true){this.start();}else if(this.userEnabled()===null||this.userEnabled()===undefined){this.showLegalPopup();}}}};this.setCustomAttributes=function(C){var b,P="attribute",s,d="custom",e,f,F="customFunction";if(!this.userEnabled()&&this.isSetUsageAnalyticsPermitted()){return;}for(b=1;b<6;b++){e=d.concat(b+4);if(window.swa[e]!==undefined){continue;}s=P+b;if(C[s]===undefined){continue;}if(jQuery.isFunction(C[s])){f=F+b;window[f]=C[s];window.swa[e]={ref:f};}else{window.swa[e]={ref:C[s]};}}};this.logCustomEvent=function(e,b,d){if(!this.userEnabled()&&this.isSetUsageAnalyticsPermitted()){return;}if(!this._isAnalyticsScriptLoaded()){this._addDelayedEvent(e,b,d);return;}if(d){d.unshift(b);d.unshift(e);window.swa.trackCustomEvent.apply(window.swa.trackCustomEvent,d);}else{window.swa.trackCustomEvent(e,b);}};window._trackingScriptsLoaded=function(){var b,t;A=true;for(b=0;b<a.length;b++){t=a[b];this.logCustomEvent(t.eventType,t.customEventValue,t.aAdditionalValues);}a=null;};this._initUsageAnalyticsLogging=function(){if(window.swa===undefined){window.swa={};}window.swa.pubToken=o.pubToken;window.swa.baseUrl=o.baseUrl;window.swa.bannerEnabled=false;window.swa.loggingEnabled=true;window.swa.visitorCookieTimeout=63113852;window.swa.dntLevel=1;window.swa.trackerReadyCallback=window._trackingScriptsLoaded.bind(this);window.swa.clicksEnabled=(o.logClickEvents===false?false:true);window.swa.pageLoadEnabled=(o.logPageLoadEvents===false?false:true);this._handlingTrackingScripts();};this._handlingTrackingScripts=function(){var d=document,g=d.createElement('script'),s=d.getElementsByTagName('script')[0];g.onerror=function(){jQuery.sap.log.warning("SWA scripts not loaded!");};g.type='text/javascript';g.defer=true;g.async=true;g.src=window.swa.baseUrl+'js/privacy.js';s.parentNode.insertBefore(g,s);};this._isAnalyticsScriptLoaded=function(){return A;};this.isSetUsageAnalyticsPermitted=function(){if(o.setUsageAnalyticsPermitted===undefined){return true;}return o.setUsageAnalyticsPermitted;};this._addDelayedEvent=function(e,b,d){var f={eventType:e,customEventValue:b,aAdditionalValues:d};a.push(f);};};U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/UserInfo',[],function(){"use strict";function U(a,c){this.getId=function(){return sap.ushell.Container.getUser().getId();};this.getUser=function(){return sap.ushell.Container.getUser();};this.getThemeList=function(){if(this.getUser().isSetThemePermitted()===false){jQuery.sap.log.error("getThemeList failed");throw true;}var p=a.getThemeList();p.fail(function(){jQuery.sap.log.error("getThemeList failed");});return p;};this.updateUserPreferences=function(){var p=a.updateUserPreferences(sap.ushell.Container.getUser());p.fail(function(){jQuery.sap.log.error("updateAttributes: ");});return p;};this.getLanguageList=function(){var p=a.getLanguageList();p.fail(function(){jQuery.sap.log.error("getLanguageList failed");});return p;};};U.hasNoAdapter=false;return U;},true);
sap.ui.predefine('sap/ushell/services/UserRecents',["sap/ushell/services/AppType"],function(c){"use strict";function R(m,E,C,l,s){var r=[],u=function(I,t){return r.some(function(o){var f;if(E(o.oItem,I)){o.oItem=I;o.iTimestamp=t;o.iCount=o.iCount+1;f=true;}else{f=false;}return f;});},i=function(I,t){var n={oItem:I,iTimestamp:t,iCount:1};if(r.length===m){r.sort(C);r.pop();}r.push(n);};this.newItem=function(I){var D=new jQuery.Deferred();var t=+new Date(),a;l().done(function(L){r=L||[];a=u(I,t);if(!a){i(I,t);}s(r).done(function(b){D.resolve(b);}).fail(function(){D.reject();});});return D.promise();};this.getRecentItems=function(){var D=new jQuery.Deferred();l().done(function(L){L=L||[];L.sort(C);r=L.slice(0,m);D.resolve(jQuery.map(r,function(o){return o.oItem;}));});return D.promise();};}function d(m,E,C,l,s){var M=30,r,u=function(I,t){return r.recentUsageArray.some(function(o){var f;if(E(o.oItem,I)){if((I.appType===o.oItem.appType)||(I.appType!==c.APP)){jQuery.extend(o.oItem,I);o.iTimestamp=t;o.oItem.timestamp=t;o.mobile=undefined;o.tablet=undefined;o.desktop=undefined;if((I.appType===o.oItem.appType)||(I.appType!==c.APP&&o.oItem.appType!==c.APP)){o.aUsageArray[o.aUsageArray.length-1]+=1;o.iCount+=1;}r.recentUsageArray.sort(C);}f=true;}else{f=false;}return f;});},i=function(I,t,a){I.timestamp=t;if(a){I.icon=a;}var n={oItem:I,iTimestamp:t,aUsageArray:[1],iCount:1,mobile:undefined,tablet:undefined,desktop:undefined};if(r.recentUsageArray.length===m){r.recentUsageArray.pop();}r.recentUsageArray.unshift(n);};this.newItem=function(I){var D=new jQuery.Deferred();var t=+new Date(),a=this.getActivityIcon(I.appType,I.icon),A,b=this,f=this.getDayFromDateObj(new Date());l().done(function(L){r=b.getRecentActivitiesFromLoadedData(L);if(f!=r.recentDay){b.addNewDay();r.recentDay=f;}A=u(I,t);if(!A){i(I,t,a);}s(r).done(function(g){D.resolve(g);}).fail(function(){D.reject();});});return D.promise();};this.getActivityIcon=function(a,I){switch(a){case c.SEARCH:return I?I:"sap-icon://search";case c.COPILOT:return I?I:"sap-icon://co";default:return undefined;}};this.getRecentItemsHelper=function(a){var t=this,D=new jQuery.Deferred(),b,A,f,I=false,g=[],h=this.getDayFromDateObj(new Date()),j=function(L){var k=[],n=0,o;for(o=0;o<L.recentUsageArray.length&&(!a||n<a);o++){A=L.recentUsageArray[o];if(A[f]){k.push(A);n++;}}D.resolve(k);};if(sap.ui.Device.system.desktop){f="desktop";}else if(sap.ui.Device.system.tablet){f="tablet";}else{f="mobile";}l().done(function(L){r=t.getRecentActivitiesFromLoadedData(L);var n=false;if(h!=r.recentDay){t.addNewDay();r.recentDay=h;n=true;}for(b=0;b<r.recentUsageArray.length&&!I;b++){A=r.recentUsageArray[b];if(A[f]===undefined){g.push(A.oItem.appId);}else{I=true;}}if(g.length>0){sap.ushell.Container.getService("CrossApplicationNavigation").isIntentSupported(g).done(function(o){I=false;for(b=0;b<r.recentUsageArray.length&&!I;b++){A=r.recentUsageArray[b];if(A[f]===undefined){var k=o[A.oItem.appId];A[f]=k&&k.supported?true:false;}else{I=true;}}s(r).done(function(p){D.resolve(j(r));}).fail(function(){D.reject();});}).fail(function(k){D.reject(k);});}else{if(n){s(r).done(function(k){D.resolve(j(r));}).fail(function(){D.reject();});}else{D.resolve(j(r));}}});return D.promise();};this.getRecentItems=function(){var D=new jQuery.Deferred();this.getRecentItemsHelper(30).done(function(a){D.resolve(jQuery.map(a,function(o){return o.oItem;}));});return D.promise();};this.getFrequentItems=function(){var D=new jQuery.Deferred();this.getRecentItemsHelper().done(function(f){var g,w=0,F=[],A,p=f[0]?new Date(f[0].iTimestamp):undefined,h;for(g=0;g<f.length&&w<30;g++){A=f[g];if(A.iCount>1){F.push(A);}h=new Date(A.iTimestamp);if(p.toDateString()!=h.toDateString()){w++;p=h;}}F.sort(function(a,b){return b.iCount-a.iCount;});F=F.slice(0,30);D.resolve(jQuery.map(F,function(o){return o.oItem;}));});return D.promise();};this.addNewDay=function(){var a,b;for(a=0;a<r.recentUsageArray.length;a++){if(r.recentUsageArray[a].aUsageArray){b=r.recentUsageArray[a].aUsageArray;}else{b=[];r.recentUsageArray[a].aUsageArray=b;r.recentUsageArray[a].iCount=0;}b[b.length]=0;if(b.length>M){r.recentUsageArray[a].iCount-=b[0];b.shift();}}};this.getDayFromDateObj=function(a){return(a.getUTCFullYear()+"/"+(a.getUTCMonth()+1)+"/"+a.getUTCDate());};this.getRecentActivitiesFromLoadedData=function(a){var b;if(jQuery.isArray(a)){b={recentDay:null,recentUsageArray:a};}else{b=a||{recentDay:null,recentUsageArray:[]};}return b;}}function e(l,s){var a,t=this,m=30;this.init=function(){var t=this,p,b=this.getDayFromDateObj(this.getCurrentDate()),D=false;if(t._oInitDeferred===undefined){t._oInitDeferred=jQuery.Deferred();}if(!D||b!==a.recentDay){D=true;p=l();p.done(function(f){a=f||{recentDay:null,recentAppsUsageMap:{}};t.calculateInitialUsage(b);t._oInitDeferred.resolve(a);});p.fail(function(){jQuery.sap.log.error("UShell-lib ; RecentAppsUsage ; Load data in Init failed");t._oInitDeferred.reject();});}return this._oInitDeferred.promise();};this.calculateInitialUsage=function(b){var t=this;if(b!=a.recentDay){this.addNewDay();a.recentDay=b;setTimeout(function(){t.cleanUnusedHashes();},3000);this.saveAppsUsage(a);}};this.addAppUsage=function(h){if(!sap.ushell.utils.validHash(h)){return jQuery.Deferred().reject("Non valid hash").promise();}var p=this.init();p.done(function(){var A=a.recentAppsUsageMap[h]||[];if(A.length==0){A[0]=1;}else{A[A.length-1]+=1;}a.recentAppsUsageMap[h]=A;t.saveAppsUsage(a);});p.fail(function(){jQuery.sap.log.error("Ushell-lib ; addAppUsage ; Initialization falied!");});return p;};this.getAppsUsage=function(){var r,p,t=this,D=jQuery.Deferred();p=t.init();p.done(function(){r=t.summarizeUsage();D.resolve(r);});p.fail(function(){D.reject("Not initialized yet");});return D.promise();};this.summarizeUsage=function(){var u={},h,b,f,g=true;for(h in a.recentAppsUsageMap){u[h]=this.getHashUsageSum(h);if(g){b=f=u[h];g=false;}else{if(u[h]<f){f=u[h];}else if(u[h]>b){b=u[h];}}}return{usageMap:u,maxUsage:b,minUsage:f};};this.addNewDay=function(){var h,A;for(h in a.recentAppsUsageMap){A=a.recentAppsUsageMap[h];A[A.length]=0;if(A.length>m){A=A.shift();}}};this.cleanUnusedHashes=function(){var u,h;for(h in a.recentAppsUsageMap){u=t.getHashUsageSum(h);if(u==0){delete(a.recentAppsUsageMap[h]);}}};this.getHashUsageSum=function(h){var b=0,f,g=a.recentAppsUsageMap[h],i=g.length;for(f=0;f<i;f++){b+=g[f];}return b;};this.saveAppsUsage=function(o){var p=s(o);p.fail(function(){jQuery.sap.log.error("Ushell-lib ; saveAppsUsage ; Save action failed");});p.done(function(b){});return p;};this.getCurrentDate=function(){return new Date();};this.getDayFromDateObj=function(b){return(b.getUTCFullYear()+"/"+(b.getUTCMonth()+1)+"/"+b.getUTCDate());};}function U(){var r,o,a,A,b,p,f,s,g,D,h,l,S,i="RecentApps",j="RecentActivity",k="AppsUsage",m="RecentSearches",n="RecentDataSources",P="sap.ushell.services.UserRecents";this.addActivity=function(t){return a.newItem(t);};this.getRecentActivity=function(){return a.getRecentItems();};this.getFrequentActivity=function(){return a.getFrequentItems();};this.noticeDataSource=function(t){if((t&&t.objectName&&t.objectName.value&&t.objectName.value.toLowerCase()==="$$all$$")||(t.objectName&&t.objectName.toLowerCase&&t.objectName.toLowerCase()==="$$all$$")){return;}b.newItem(t);return b.getRecentItems();};this.getRecentDataSources=function(){return b.getRecentItems();};this.noticeSearch=function(t){r.newItem(t);return r.getRecentItems();};this.getRecentSearches=function(){return r.getRecentItems();};this.noticeApp=function(t){o.newItem(t);return o.getRecentItems();};this.getRecentApps=function(){return o.getRecentItems();};this.initAppsUsage=function(){A.init(new Date());};this.addAppUsage=function(t){var u=sap.ushell.utils.getBasicHash(t);A.addAppUsage(u);};this.getAppsUsage=function(){return A.getAppsUsage();};p=sap.ushell.Container.getService("Personalization");try{f=p.getPersonalizer({container:P,item:i});g=p.getPersonalizer({container:P,item:j});s=p.getPersonalizer({container:P,item:m});D=p.getPersonalizer({container:P,item:n});h=p.getPersonalizer({container:P,item:k});}catch(q){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(q.name+": "+q.message);}l=function(t){var u,v;try{u=t.getPersData();}catch(q){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(q.name+": "+q.message);v=new jQuery.Deferred();v.reject(q);u=v.promise();}return u;};S=function(t,L){var u;try{u=t.setPersData(L);}catch(q){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(q.name+": "+q.message);}return u;};r=new R(10,function(x,y){var t=false;if(x.oDataSource&&y.oDataSource){if(x.oDataSource.objectName&&y.oDataSource.objectName){t=((x.sTerm===y.sTerm)&&(x.oDataSource.objectName.value===y.oDataSource.objectName.value));}if(!x.oDataSource.objectName&&!y.oDataSource.objectName){t=(x.sTerm===y.sTerm);}}if(!x.oDataSource&&!y.oDataSource){t=(x.sTerm===y.sTerm);}return t;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,s),S.bind(this,s));b=new R(6,function(x,y){if(x.objectName&&y.objectName){return x.objectName.value===y.objectName.value;}return false;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,D),S.bind(this,D));o=new R(6,function(x,y){return x.semanticObject===y.semanticObject&&x.action===y.action;},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,f),S.bind(this,f));a=new d(500,function(x,y){if(x.appType===y.appType){if(x.appType!==c.APP){return x.url===y.url;}else{return x.appId===y.appId;}}else{if(x.appType===c.APP||y.appType===c.APP){return(x.appId===y.appId)&&(x.url===y.url);}else{return false;}}},function(x,y){return y.iTimestamp-x.iTimestamp;},l.bind(this,g),S.bind(this,g));A=new e(l.bind(this,h),S.bind(this,h));};U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/ui/appfinder/AppBoxRenderer',['sap/ui/core/Control','sap/ushell/resources'],function(C,r){"use strict";var A=sap.ui.core.Renderer.extend(C);A.render=function(a,o){var c=o.getParent(),b=c.getAppBoxesContainer?c.getAppBoxesContainer():[],v=b.filter(function(o){return o.getVisible();}),i=v.indexOf(o)>-1?v.indexOf(o)+1:"",s=o.getTitle();s=o.getSubtitle()?s+" "+o.getSubtitle():s;a.write("<li");a.writeControlData(o);a.addClass("sapUshellAppBox");a.writeAccessibilityState(o,{role:"option",posinset:i,setsize:v.length});a.writeAttribute("aria-label",s);a.writeAttribute("aria-describedby",o.getParent().getId()+"-groupheader");a.writeClasses();a.write(">");a.write("<div");a.addClass("sapUshellAppBoxInner");a.writeClasses();a.write(">");var h=o.getIcon();if(h){var I=new sap.ui.core.Icon({src:o.getIcon()});I.addStyleClass("sapUshellAppBoxIcon");a.renderControl(I);}a.write("<div");if(h){a.addClass("sapUshellAppBoxHeader");}else{a.addClass("sapUshellAppBoxHeaderNoIcon");}a.writeClasses();a.write(">");a.write("<div");a.addClass("sapUshellAppBoxTitle");a.writeClasses();a.write(">");a.writeEscaped(o.getTitle());a.write("</div>");if(o.getSubtitle()){a.write("<div");a.addClass("sapUshellAppBoxSubtitle");a.writeClasses();a.write(">");a.writeEscaped(o.getSubtitle());a.write("</div>");}a.write("</div>");a.renderControl(o.getPinButton());a.write("</div>");a.write("</li>");};return A;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/AboutButtonRenderer',['sap/ui/core/Renderer','sap/ushell/ui/launchpad/ActionItemRenderer'],function(R,A){"use strict";var a=R.extend(A);return a;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/AddBookmarkButtonRenderer',['sap/m/ButtonRenderer','sap/ui/core/Renderer'],function(B,R){"use strict";var A=R.extend(B);return A;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/ContactSupportButtonRenderer',['sap/ui/core/Renderer','sap/ushell/ui/launchpad/ActionItemRenderer'],function(R,A){"use strict";var C=R.extend(A);return C;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/EndUserFeedbackRenderer',['sap/ui/core/Renderer','sap/ushell/ui/launchpad/ActionItemRenderer'],function(R,A){"use strict";var E=R.extend(A);return E;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/JamDiscussButtonRenderer',['sap/m/ButtonRenderer','sap/ui/core/Renderer'],function(B,R){"use strict";var J=R.extend(B);return J;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/JamShareButtonRenderer',['sap/m/ButtonRenderer','sap/ui/core/Renderer'],function(B,R){"use strict";var J=R.extend(B);return J;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/LogoutButtonRenderer',['sap/ui/core/Renderer','sap/ushell/ui/launchpad/ActionItemRenderer'],function(R,A){"use strict";var L=R.extend(A);return L;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/SaveAsTile.view',function(){"use strict";sap.ui.jsview("sap.ushell.ui.footerbar.SaveAsTile",{getControllerName:function(){return"sap.ushell.ui.footerbar.SaveAsTile";},createContent:function(c){this.oResourceBundle=sap.ushell.resources.i18n;this.viewData=this.getViewData()||{};this.appData=this.viewData.appData||{};this.oTitleInput=new sap.m.Input('bookmarkTitleInput',{tooltip:this.oResourceBundle.getText("bookmarkDialogoTitle_tooltip"),value:{path:"/title",mode:sap.ui.model.BindingMode.TwoWay}}).addStyleClass("sapUshellInputField");this.oTitleInput.addAriaLabelledBy("titleLbl");this.oSubTitleInput=new sap.m.Input('bookmarkSubTitleInput',{tooltip:this.oResourceBundle.getText("bookmarkDialogoSubTitle_tooltip"),value:{path:"/subtitle",mode:sap.ui.model.BindingMode.TwoWay}}).addStyleClass("sapUshellInputField");this.oSubTitleInput.addAriaLabelledBy("subtitleLbl");this.oInfoInput=new sap.m.Input('bookmarkInfoInput',{tooltip:this.oResourceBundle.getText("tileSettingsDialog_informationField"),value:{path:"/info",mode:sap.ui.model.BindingMode.TwoWay},visible:"{/showInfo}"}).addStyleClass("sapUshellInputField");this.oInfoInput.addAriaLabelledBy("infoLbl");var t={numberValue:"{/numberValue}",title:"{/title}",subtitle:"{/subtitle}",info:"{/info}",icon:"{/icon}",infoState:"{/infoState}",numberFactor:"{/numberFactor}",numberUnit:"{/numberUnit}",numberDigits:"{/numberDigits}",numberState:"{/numberState}",stateArrow:"{/stateArrow}",targetURL:"{/targetURL}",keywords:"{/keywords}"},p=function(d){var r=d;switch(d){case"Positive":r="Good";break;case"Negative":r="Critical";break;}return r;};var T,s;if(this.viewData.serviceUrl){T=new sap.m.GenericTile({header:t.title,subheader:t.subtitle,size:"Auto",tileContent:[new sap.m.TileContent({size:"Auto",footer:t.info,unit:t.numberUnit,content:[new sap.m.NumericContent({scale:t.numberFactor,value:t.numberValue,truncateValueTo:5,valueColor:p(t.numberState),indicator:t.stateArrow,icon:t.icon,width:"100%"})]})]});s=(typeof(this.viewData.serviceUrl)==="function")?this.viewData.serviceUrl():this.viewData.serviceUrl;c.calcTileDataFromServiceUrl(s);}else{T=new sap.m.GenericTile({header:t.title,subheader:t.subtitle,size:"Auto",tileContent:[new sap.m.TileContent({size:"Auto",footer:t.info,content:new sap.m.NumericContent({icon:t.icon,value:' ',width:"100%"})})]});}this.setTileView(T);var a=new sap.ushell.ui.launchpad.Tile({"long":false,tileViews:[T],afterRendering:function(e){var j=jQuery(this.getDomRef()),d=j.find(".sapMGT");d.removeAttr("tabindex");}}).addStyleClass("sapUshellBookmarkFormPreviewTileMargin");var P=new sap.m.Label("previewLbl",{text:" "+this.oResourceBundle.getText('previewFld'),visible:"{/showPreview}"}),o=new sap.m.Label("titleLbl",{required:true,text:" "+this.oResourceBundle.getText('titleFld'),labelFor:this.oTitleInput}),S=new sap.m.Label("subtitleLbl",{text:this.oResourceBundle.getText('subtitleFld'),labelFor:this.oSubTitleInput}),i=new sap.m.Label("infoLbl",{text:this.oResourceBundle.getText('tileSettingsDialog_informationField'),labelFor:this.oInfoInput,visible:"{/showInfo}"}),b=new sap.ui.core.HTML("previewBackgroundElement",{content:"<div class='sapUshellShellBG sapContrastPlus sapUiStrongBackgroundColor'></div>"}),h=new sap.m.FlexBox("saveAsTileHBox",{items:[b,a],alignItems:sap.m.FlexAlignItems.Center,justifyContent:sap.m.FlexJustifyContent.Center,renderType:sap.m.FlexRendertype.Bare,visible:"{/showPreview}"}).addStyleClass("sapUshellShellBG").addStyleClass("sapUshellBookmarkFormPreviewBoxBottomMargin");o.setLabelFor('bookmarkTitleInput');S.setLabelFor('bookmarkSubTitleInput');i.setLabelFor('bookmarkInfoInput');var g=new sap.m.Label("groupLbl",{text:this.oResourceBundle.getText('GroupListItem_label'),visible:"{/showGroupSelection}"});this.oGroupsSelect=new sap.m.Select("groupsSelect",{tooltip:this.oResourceBundle.getText('bookmarkDialogoGroup_tooltip'),items:{path:"/groups",template:new sap.ui.core.ListItem({text:"{title}"})},width:"100%",visible:{parts:["/showGroupSelection","/groups"],formatter:function(d,G){if(d&&!(G&&G.length)){this.oController.loadPersonalizedGroups();}return d;}.bind(this)}});this.oGroupsSelect.addAriaLabelledBy("groupLbl");return[P,h,o,this.oTitleInput,S,this.oSubTitleInput,i,this.oInfoInput,g,this.oGroupsSelect];},getTitleInput:function(){return this.oTitleInput;},getTileView:function(){return this.tileView;},setTileView:function(t){this.tileView=t;},getBookmarkTileData:function(){var s;if(this.oGroupsSelect&&this.oGroupsSelect.getSelectedItem()){s=this.oGroupsSelect.getSelectedItem().getBindingContext().getObject();}var u;if(this.viewData.customUrl){if(typeof(this.viewData.customUrl)==="function"){u=this.viewData.customUrl();}else{u=this.viewData.customUrl;}}else{u=hasher.getHash()?('#'+hasher.getHash()):window.location.href;}return{title:this.oTitleInput.getValue()?this.oTitleInput.getValue().substring(0,256).trim():'',subtitle:this.oSubTitleInput.getValue()?this.oSubTitleInput.getValue().substring(0,256).trim():'',url:u,icon:this.getModel().getProperty('/icon'),info:this.oInfoInput.getValue()?this.oInfoInput.getValue().substring(0,256).trim():'',numberUnit:this.viewData.numberUnit,serviceUrl:typeof(this.viewData.serviceUrl)==="function"?this.viewData.serviceUrl():this.viewData.serviceUrl,serviceRefreshInterval:this.viewData.serviceRefreshInterval,group:s,keywords:this.viewData.keywords};}});},true);
sap.ui.predefine('sap/ushell/ui/footerbar/SettingsButtonRenderer',['sap/m/ButtonRenderer','sap/ui/core/Renderer'],function(B,R){"use strict";var S=R.extend(B);return S;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/UserPreferencesButtonRenderer',['sap/ui/core/Renderer','sap/ushell/ui/launchpad/ActionItemRenderer'],function(R,A){"use strict";var U=R.extend(A);return U;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/CatalogTileContainerRenderer',['sap/ushell/resources','./TileContainerRenderer'],function(r,T){"use strict";var C={};var C=sap.ui.core.Renderer.extend(T);return C;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/EmbeddedSupportErrorMessageRenderer',['sap/m/DialogRenderer','sap/ui/core/Renderer'],function(D,R){"use strict";var E=R.extend(D);return E;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/GroupListItemRenderer',['sap/m/ListItemBaseRenderer','sap/ushell/resources'],function(L,r){"use strict";var G=sap.ui.core.Renderer.extend(L);G.renderLIAttributes=function(a){a.addClass("sapUshellGroupLI");a.addClass("sapUshellGroupListItem");};G.renderLIContent=function(a,l){a.write("<div");a.addClass("sapMSLIDiv");a.addClass("sapMSLITitleDiv");a.writeClasses();if(!l.getVisible()){a.addStyle("display","none");a.writeStyles();}a.write(">");a.write("<div");a.addClass("sapMSLITitleOnly");a.writeClasses();a.write(">");a.writeEscaped(l.getTitle());a.write("</div>");a.write("</div>");};return G;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/HeaderTileRenderer',['sap/ushell/resources'],function(r){"use strict";var H={},t=r.i18n;H.render=function(R,c){R.write("<");R.write(c.getHeaderLevel().toLowerCase());R.writeControlData(c);R.addClass("sapUshellHeaderTile");if(!c.getVisible()){R.addClass("sapUshellHidden");}R.writeClasses();R.writeAccessibilityState(c,{label:c.getHeaderText()+t.getText("HeaderCategory")});R.write(">");R.writeEscaped(c.getHeaderText());R.write("</");R.write(c.getHeaderLevel().toLowerCase());R.write(">");};return H;});
sap.ui.predefine('sap/ushell/ui/launchpad/LoadingDialogRenderer',function(){"use strict";var L={};L.render=function(r,c){var t=c.getTooltip_AsString();c._oLabel.addStyleClass("sapUshellLoadingDialogLabel");r.write("<div");r.writeControlData(c);r.addClass("sapUshellLoadingDialogControl");r.writeClasses();if(t){r.writeAttributeEscaped("title",t);}r.write(">");if(jQuery.os.ios||!c._isPlatformDependent){this.renderAppInfo(r,c);this.renderFioriFlower(r,c);}else{this.renderFioriFlower(r,c);this.renderAppInfo(r,c);}r.write("</div>");};L.renderAppInfo=function(r,c){r.write("<div").addClass("sapUshellLoadingDialogAppData").writeClasses().write(">");if(c.getIconUri()){r.renderControl(c.oIcon);}r.write("<span");r.writeAttribute("id",c.getId()+"accessibility-helper");r.addClass("sapUshellAccessibilityHelper");r.writeClasses();r.writeAccessibilityState(c,{live:"rude","relevant":"additions text"});r.write(">");r.write("</span>");r.renderControl(c._oLabel);r.write("</div>");};L.renderFioriFlower=function(r,c){var i,R=false,u=[/Android\s4\.2.+GT-I9505.+Chrome\/18/];if(navigator.userAgent){for(i=0;i<u.length;i=i+1){if(u[i].test(navigator.userAgent)){R=true;break;}}}if(jQuery.support.cssAnimations&&!R){r.write("<div id='fiori2-loader'>");r.write("<div class='fiori2-blossom'>");for(i=1;i<6;i=i+1){r.write("<div class='fiori2-leafContainer fiori2-leafContainer"+i+"'>");r.write("<div class='fiori2-leaf fiori2-leaf"+i+"'></div>");r.write("</div>");}r.write("</div>");r.write("</div>");}};return L;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/PanelRenderer',function(){"use strict";var P={};P.render=function(r,c){if(!c.getVisible()){return;}r.write("<section");r.writeControlData(c);r.addClass("sapMPanel");r.addClass("sapUshellPanel");if(!c.getTranslucent()){r.addClass("sapMPanelBG");}r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeClasses();r.writeStyles();r.write(">");var h=c.getHeaderContent();var l=h.length;if(c.getHeaderText()||l>0||c.getHeaderBar()){r.write("<header");r.addClass("sapMPanelHdr");r.addClass("sapUshellCatalogHeader");r.writeClasses();r.write(">");if(c.getHeaderText()||l>0){r.write("<");r.write(c.getHeaderLevel().toLowerCase());r.write(">");if(c.getHeaderText()){r.writeEscaped(c.getHeaderText());}for(var j=0;j<l;j++){r.renderControl(h[j]);}r.write("</");r.write(c.getHeaderLevel().toLowerCase());r.write(">");}if(c.getHeaderBar()){r.renderControl(c.getHeaderBar());}r.write("</header>");}r.write("<div");r.addClass("sapMPanelContent");r.addClass("sapUshellPanelContent");r.writeClasses();r.write(">");var C=c.getContent();var L=C.length;for(var i=0;i<L;i++){r.renderControl(C[i]);}r.write("</div>");r.write("</section>");};return P;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/TileContainerUtils',function(){"use strict";var T={};T.showHideTilesAndHeaders=function(i,o){var s,r,e,n=0,a=0;for(s in i.onScreenPathIndexMap){if(i.onScreenPathIndexMap.hasOwnProperty(s)){e=i.onScreenPathIndexMap[s];r=o[e.aItemsRefrenceIndex];if(r.getVisible()&&!e.isVisible){a++;}r.setVisible(e.isVisible);if(e.isVisible){n++;}}}return{nCountVisibElelemnts:n,nCountFilteredElement:a};};T.applyFilterOnItem=function(e,f){var a;for(a in f){if(f.hasOwnProperty(a)){f[a](e);}}};T.createNewItem=function(e,n){var b=this.mBindingInfos[n],f=b.factory,a=jQuery.proxy(function(c){var i=this.getId()+"-"+jQuery.sap.uid(),C=f(i,c);C.setBindingContext(c,b.model);return C;},this);return a(e);};T.addNewItem=function(c,n){var a=this.getMetadata().getJSONKeys()[n];this[a._sMutator](c);return true};T.createMissingElementsInOnScreenElements=function(i,e,a,f,I,b,n){var p,N=0,j,c=e.length;for(j=a;j<c;j++){N++;p=e[j].getPath();if(!i.onScreenPathIndexMap[p]){if(f(e[j],n)==false){return false;}T.applyFilterOnItem(e[j],b);}else{throw true;}}return true;};T.applyFilterOnAllItems=function(b,f){var B;var o=b.binding,a;if(!o){return;}a=o.getContexts();for(B=0;B<a.length;B++){T.applyFilterOnItem(a[B],f);}};T.validateOrder=function(b,i,a){var l,f,p,L,F,n,s,c;if(b[a]&&i.length>0){l=i[i.length-1].getBindingContext().getPath();f=b[a].getPath();L=l.split("/");F=f.split("/");for(n=0;n<L.length&&n<F.length;n++){s=L[n];c=F[n];if(!!parseInt(s,10)&&!!parseInt(c,10)){if(parseInt(s,10)>parseInt(c,10)){return false;}else if(parseInt(s,10)<parseInt(c,10)){return true;}}else{for(p=0;p<c.length&&p<s.length;p++){if(s[p].charCodeAt()>c[p].charCodeAt()){return false;}else if(s[p].charCodeAt()<c[p].charCodeAt()){return true;}}}}}return true;};T.markVisibleOnScreenElements=function(e,i,u){var a=0,p,b=e.length;for(a=0;a<b;a++){p=e[a].getPath();if(i.onScreenPathIndexMap[p]){if(u){i.onScreenPathIndexMap[p].isVisible=true;}}else{return a;}}return a;};T.indexOnScreenElements=function(o,i){var p,a,b={onScreenPathIndexMap:{}},c=o.length,d,v=true;if(i===false){v=false;}for(a=0;a<c;a++){d=o[a];if(d.getBindingContext()){p=d.getBindingContext().getPath();if(!b.onScreenPathIndexMap[p]){b.onScreenPathIndexMap[p]={aItemsRefrenceIndex:a,isVisible:v};}}}return b;};return T;},true);
sap.ui.predefine('sap/ushell/ui/shell/ShellFloatingActionRenderer',['jquery.sap.global','sap/ui/core/Renderer','sap/m/ButtonRenderer'],function(q,R,B){"use strict";var S=R.extend(B);return S;},true);
sap.ui.predefine('sap/ushell/ui/tile/ImageTileRenderer',['sap/ui/core/Renderer','./TileBaseRenderer'],function(R,T){"use strict";var I=R.extend(T);I.renderPart=function(r,c){r.write("<img");r.addClass("sapUshellImageTile");r.writeClasses();r.writeAttributeEscaped("src",c.getImageSource());r.write("/>");};return I;},true);
/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('jquery.sap.storage',['jquery.sap.global'],function(q){"use strict";var s=!!(window.JSON&&JSON.parse&&JSON.stringify);var S="state.key_";var f=function(a,b){var t="unknown",P=b||S;P+="-";var T=P+"___sapui5TEST___",o;if(!a||typeof(a)==="string"){t=a||"session";try{o=window[t+"Storage"];}catch(e){o=null;}try{if(o){o.setItem(T,"1");o.removeItem(T);}}catch(e){o=null;}}else if(typeof(a)==="object"){t=a.getType?a.getType():"unknown";o=a;}var c=!!o;this.isSupported=function(){if(!c){return false;}if(typeof(o.isSupported)=="function"){return o.isSupported();}return true;};this.put=function(i,d){if(this.isSupported()&&i){try{o.setItem(P+i,s?JSON.stringify(d):d);return true;}catch(e){return false;}}else{return false;}};this.get=function(i){if(this.isSupported()&&i){try{var I=o.getItem(P+i);return s?JSON.parse(I):I;}catch(e){return null;}}else{return null;}};this.remove=function(i){if(this.isSupported()&&i){try{o.removeItem(P+i);return true;}catch(e){return false;}}else{return false;}};this.removeAll=function(I){if(this.isSupported()&&o.length&&(document.addEventListener?/function/:/function|object/).test(typeof(o.key))){try{var l=o.length;var k=[];var d,i;var p=P+(I||"");for(i=0;i<l;i++){d=o.key(i);if(d&&d.indexOf(p)==0){k.push(d);}}for(i=0;i<k.length;i++){o.removeItem(k[i]);}return true;}catch(e){return false;}}else{return false;}};this.clear=function(){if(this.isSupported()){try{o.clear();return true;}catch(e){return false;}}else{return false;}};this.getType=function(){return t;};};var m={};q.sap.storage=function(o,i){if(!o){o=q.sap.storage.Type.session;}if(typeof(o)==="string"&&q.sap.storage.Type[o]){var k=o;if(i&&i!=S){k=o+"_"+i;}return m[k]||(m[k]=new f(o,i));}return new f(o,i);};q.sap.storage.Type={local:"local",session:"session",global:"global"};f.apply(q.sap.storage);m[q.sap.storage.Type.session]=q.sap.storage;return q;});
sap.ui.predefine('sap/m/AccButton',['jquery.sap.global','./Button'],function(q,B){"use strict";var A=B.extend("sap.m.AccButton",{metadata:{library:"sap.m",properties:{"tabIndex":{type:"string",defaultValue:null,bindable:"bindable"},"ariaHidden":{type:"string",defaultValue:null,bindable:"bindable"}}}});return A;},false);
sap.ui.predefine('sap/m/AccButtonRenderer',['jquery.sap.global','./ButtonRenderer','sap/ui/core/Renderer'],function(q,B,R){"use strict";var A=R.extend(B);A.renderAccessibilityAttributes=function(r,c){if(c.getTabIndex()){r.writeAttribute("tabindex",c.getTabIndex());}if(c.getAriaHidden()){r.writeAttribute("aria-hidden",c.getAriaHidden());}};return A;},true);
sap.ui.predefine('sap/m/ActionListItem',['jquery.sap.global','./ListItemBase','./library','sap/ui/core/EnabledPropagator'],function(q,L,l,E){"use strict";var A=L.extend("sap.m.ActionListItem",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null}}}});A.prototype.init=function(){this.setType(sap.m.ListType.Active);L.prototype.init.apply(this,arguments);};A.prototype.getMode=function(){return sap.m.ListMode.None;};A.prototype.onsapspace=A.prototype.onsapenter;A.prototype.getContentAnnouncement=function(){return this.getText();};return A;},true);
sap.ui.predefine('sap/m/ActionListItemRenderer',['jquery.sap.global','./ListItemBaseRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var A=R.extend(L);A.renderLIAttributes=function(r,l){r.addClass("sapMALI");};A.renderLIContent=function(r,l){var i=l.getText();if(i){r.write("<div class='sapMALIText'>");r.writeEscaped(i);r.write("</div>");}};return A;},true);
sap.ui.predefine('sap/m/ActionSelect',['jquery.sap.global','./Select','./library'],function(q,S,l){"use strict";var A=S.extend("sap.m.ActionSelect",{metadata:{library:"sap.m",associations:{buttons:{type:"sap.m.Button",multiple:true,singularName:"button"}}}});A.prototype.init=function(){S.prototype.init.call(this);this.getList().addEventDelegate({onfocusin:this.onfocusinList},this);};A.prototype.hasContent=function(){return S.prototype.hasContent.call(this)||!!this.getButtons().length;};A.prototype.addContent=function(){var c=sap.ui.getCore(),p=this.getPicker();this.getButtons().forEach(function(b){p.addContent(c.byId(b));});};A.prototype.onAfterRenderingPicker=function(){S.prototype.onAfterRenderingPicker.call(this);var p=this.getPicker(),r=this.getRenderer();p.addStyleClass(r.CSS_CLASS+"Picker");p.addStyleClass(r.ACTION_SELECT_CSS_CLASS+"Picker");p.addStyleClass(r.ACTION_SELECT_CSS_CLASS+"Picker-CTX");};A.prototype.createPickerCloseButton=function(){};A.prototype.removeButton=function(b){var p=this.getPicker();if(p){if(typeof b==="number"){b=this.getButtons()[b];}p.removeContent(b);}return this.removeAssociation("buttons",b);};A.prototype.removeAllButtons=function(){var p=this.getPicker();if(p){this.getButtons().forEach(function(b){p.removeContent(b);});}return this.removeAllAssociation("buttons");};A.prototype.onsaptabprevious=function(e){var b=this.getButtons(),p=this.getPicker(),i;if(e.isMarked()||!this.getEnabled()){return;}e.setMarked();if(p&&p.isOpen()&&b.length>0){for(i=b.length-1;i>=0;i--){if(sap.ui.getCore().byId(b[i]).getEnabled()){sap.ui.getCore().byId(b[i]).focus();e.preventDefault();break;}}}};A.prototype.onsaptabnext=function(e){var b=this.getButtons(),p=this.getPicker(),i;if(e.isMarked()||!this.getEnabled()){return;}e.setMarked();if(p&&p.isOpen()&&b.length>0){for(i=0;i<b.length;i++){if(sap.ui.getCore().byId(b[i]).getEnabled()){sap.ui.getCore().byId(b[i]).focus();e.preventDefault();break;}}}};A.prototype.onsapfocusleave=function(e){var b=this.getButtons();var k=(b.indexOf(e.relatedControlId)==-1);if(k){S.prototype.onsapfocusleave.apply(this,arguments);}};A.prototype.onfocusinList=function(e){if(document.activeElement!==this.getList().getDomRef()){this.focus();}};return A;},true);
sap.ui.predefine('sap/m/ActionSelectRenderer',['jquery.sap.global','sap/ui/core/Renderer','./SelectRenderer'],function(q,R,S){"use strict";var A=R.extend(S);A.ACTION_SELECT_CSS_CLASS="sapMActionSelect";A.addClass=function(r,a){r.addClass(A.ACTION_SELECT_CSS_CLASS);};return A;},true);
sap.ui.predefine('sap/m/ActionSheet',['jquery.sap.global','./Dialog','./Popover','./library','sap/ui/core/Control','sap/ui/core/delegate/ItemNavigation','sap/ui/core/InvisibleText','sap/ui/base/ManagedObject'],function(q,D,P,l,C,I,a,M){"use strict";var A=C.extend("sap.m.ActionSheet",{metadata:{library:"sap.m",properties:{placement:{type:"sap.m.PlacementType",group:"Appearance",defaultValue:sap.m.PlacementType.Bottom},showCancelButton:{type:"boolean",group:"Appearance",defaultValue:true},cancelButtonText:{type:"string",group:"Appearance",defaultValue:null},title:{type:"string",group:"Appearance",defaultValue:null}},aggregations:{buttons:{type:"sap.m.Button",multiple:true,singularName:"button"},_cancelButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_invisibleAriaTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"}},events:{cancelButtonTap:{deprecated:true},beforeOpen:{},afterOpen:{},beforeClose:{origin:{type:"sap.m.Button"}},afterClose:{origin:{type:"sap.m.Button"}},cancelButtonPress:{}}}});var p;A.prototype.init=function(){this._fnOrientationChange=this._orientationChange.bind(this);};A.prototype.exit=function(){sap.ui.Device.resize.detachHandler(this._fnOrientationChange);if(this._parent){this._parent.destroy();this._parent=null;}if(this._oCancelButton){this._oCancelButton.destroy();this._oCancelButton=null;}this._clearItemNavigation();};A.prototype._clearItemNavigation=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}};A.prototype._setItemNavigation=function(){var b=this._getAllButtons(),d=[],o=this.getDomRef();if(o){this._oItemNavigation.setRootDomRef(o);for(var i=0;i<b.length;i++){if(b[i].getEnabled()&&b[i].getVisible()){d.push(b[i].getFocusDomRef());}}if(this._oCancelButton){d.push(this._oCancelButton.getFocusDomRef());}this._oItemNavigation.setItemDomRefs(d);this._oItemNavigation.setSelectedIndex(0);this._oItemNavigation.setPageSize(5);}};A.prototype.onBeforeRendering=function(){this._clearItemNavigation();};A.prototype.onAfterRendering=function(){this._oItemNavigation=new I();this._oItemNavigation.setCycling(false);this.addDelegate(this._oItemNavigation);this._setItemNavigation();};A.prototype.sapfocusleave=function(){this.close();};A.prototype.openBy=function(c){var t=this;if(!this._parent){var o=this.getParent();if(o){this.setParent(null);}if(!sap.ui.Device.system.phone){this._parent=new P({placement:this.getPlacement(),showHeader:false,content:[this],beforeOpen:function(){t.fireBeforeOpen();},afterOpen:function(){t.focus();t.fireAfterOpen();},beforeClose:function(){t.fireBeforeClose();},afterClose:function(){if(t.getShowCancelButton()){t.fireCancelButtonTap();t.fireCancelButtonPress();}t.fireAfterClose();},ariaLabelledBy:this.getPopupHiddenLabelId()||undefined}).addStyleClass("sapMActionSheetPopover");if(sap.ui.Device.browser.internet_explorer){this._parent._fnAdjustPositionAndArrow=q.proxy(function(){P.prototype._adjustPositionAndArrow.apply(this);var $=this.$(),f=$.children(".sapMPopoverCont")[0].getBoundingClientRect().width;q.each($.find(".sapMActionSheet > .sapMBtn"),function(i,b){var d=q(b),B;d.css("width","");B=b.getBoundingClientRect().width;if(B<=f){d.css("width","100%");}});},this._parent);}}else{this._parent=new D({title:this.getTitle(),type:sap.m.DialogType.Standard,content:[this],beforeOpen:function(){t.fireBeforeOpen();},afterOpen:function(){t.focus();t.fireAfterOpen();},beforeClose:function(e){t.fireBeforeClose({origin:e.getParameter("origin")});},afterClose:function(e){t.fireAfterClose({origin:e.getParameter("origin")});sap.ui.Device.resize.detachHandler(t._fnOrientationChange);}}).addStyleClass("sapMActionSheetDialog");if(this.getTitle()){this._parent.addStyleClass("sapMActionSheetDialogWithTitle");}else{this._parent.addAriaLabelledBy(this.getPopupHiddenLabelId()||undefined);}if(!sap.ui.Device.system.phone){this._parent.setBeginButton(this._getCancelButton());}if(sap.ui.Device.system.phone){this._parent.oPopup.setModal(true);this._parent._setDimensions=function(){sap.m.Dialog.prototype._setDimensions.apply(this);this.$("cont").css("max-height","");};this._parent._adjustScrollingPane=function(){var h=this.$().height();this.$("cont").css("max-height",h);if(this._oScroller){this._oScroller.refresh();}};}}if(o){o.addDependent(this._parent);}}if(!sap.ui.Device.system.phone){this._parent.openBy(c);}else{this._parent.open();sap.ui.Device.resize.attachHandler(this._fnOrientationChange);}};A.prototype.close=function(c){if(this._parent){this._parent.close();}};A.prototype.isOpen=function(c){return!!this._parent&&this._parent.isOpen();};A.prototype._createCancelButton=function(){if(!this._oCancelButton){var c=(this.getCancelButtonText())?this.getCancelButtonText():sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACTIONSHEET_CANCELBUTTON_TEXT"),t=this;this._oCancelButton=new sap.m.Button(this.getId()+'-cancelBtn',{text:c,type:sap.m.ButtonType.Reject,press:function(){if(sap.ui.Device.system.phone&&t._parent){t._parent._oCloseTrigger=this;}t.close();t.fireCancelButtonTap();t.fireCancelButtonPress();}}).addStyleClass("sapMActionSheetButton sapMActionSheetCancelButton sapMBtnTransparent sapMBtnInverted");if(sap.ui.Device.system.phone){this.setAggregation("_cancelButton",this._oCancelButton,true);}}return this;};A.prototype._getCancelButton=function(){if(sap.ui.Device.system.phone&&this.getShowCancelButton()){this._createCancelButton();return this._oCancelButton;}return null;};A.prototype.setCancelButtonText=function(t){this.setProperty("cancelButtonText",t,true);if(this._oCancelButton){this._oCancelButton.setText(t);}return this;};A.prototype._preProcessActionButton=function(b){var t=b.getType();if(t!==sap.m.ButtonType.Accept&&t!==sap.m.ButtonType.Reject){b.setType(sap.m.ButtonType.Transparent);}b.addStyleClass("sapMBtnInverted");this._parent&&this._parent.invalidate();return this;};A.prototype.setShowCancelButton=function(v){if(this._parent){if(sap.ui.Device.system.phone){this.setProperty("showCancelButton",v,false);}}else{this.setProperty("showCancelButton",v,true);}return this;};A.prototype.setTitle=function(t){this.setProperty("title",t,true);if(this._parent&&sap.ui.Device.system.phone){this._parent.setTitle(t);this._parent.toggleStyleClass("sapMDialog-NoHeader",!t);}if(this._parent){if(t){this._parent.addStyleClass("sapMActionSheetDialogWithTitle");}else{this._parent.removeStyleClass("sapMActionSheetDialogWithTitle");}}return this;};A.prototype.setPlacement=function(s){this.setProperty("placement",s,true);if(!sap.ui.Device.system.phone){if(this._parent){this._parent.setPlacement(s);}}return this;};A.prototype._buttonSelected=function(){if(sap.ui.Device.system.phone&&this._parent){this._parent._oCloseTrigger=this;}this.close();};A.prototype._orientationChange=function(){this._parent._adjustScrollingPane();};A.prototype._addAriaHiddenTexts=function(b){var B=b.getId(),i;if(sap.ui.getCore().getConfiguration().getAccessibility()){i=new a(B+"-actionSheetHiddenText");this.addAggregation("_invisibleAriaTexts",i,false);b.addAriaLabelledBy(i.getId());}};A.prototype._removeAriaHiddenTexts=function(b){b.getAriaLabelledBy().forEach(function(i){var c=sap.ui.getCore().byId(i);if(c instanceof a&&i.indexOf("actionSheetHiddenText")>-1){this.removeAggregation("_invisibleAriaTexts",c,false);b.removeAriaLabelledBy(c);c.destroy();}},this);};A.prototype.addButton=function(b){this.addAggregation("buttons",b,false);this._addAriaHiddenTexts(b);this._preProcessActionButton(b);b.attachPress(this._buttonSelected,this);return this;};A.prototype.insertButton=function(b,i){this.insertAggregation("buttons",b,i,false);this._addAriaHiddenTexts(b);this._preProcessActionButton(b);b.attachPress(this._buttonSelected,this);return this;};A.prototype.removeButton=function(b){var r=this.removeAggregation("buttons",b,false);if(r){r.detachPress(this._buttonSelected,this);this._removeAriaHiddenTexts(r);}return r;};A.prototype.removeAllButtons=function(){var r=this.removeAllAggregation("buttons",false),t=this;q.each(r,function(i,b){b.detachPress(t._buttonSelected,t);t._removeAriaHiddenTexts(b);});return r;};A.prototype.clone=function(){var b=this.getButtons();for(var i=0;i<b.length;i++){b[i].detachPress(this._buttonSelected,this);}var c=C.prototype.clone.apply(this,arguments);for(var j=0;j<b.length;j++){b[j].attachPress(this._buttonSelected,this);}return c;};A.prototype._getAllButtons=function(){return this.getButtons();};A.prototype.getPopupHiddenLabelId=function(){if(!sap.ui.getCore().getConfiguration().getAccessibility()){return"";}var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(!p){p=new a({text:r.getText("ACTIONSHEET_AVAILABLE_ACTIONS")}).toStatic().getId();}return p;};A.prototype._applyContextualSettings=function(){M.prototype._applyContextualSettings.call(this,M._defaultContextualSettings);};return A;},true);
sap.ui.predefine('sap/m/ActionSheetRenderer',['jquery.sap.global'],function(q){"use strict";var A={};A.render=function(r,c){var a=c._getAllButtons(),I=c.getAggregation("_invisibleAriaTexts"),R=sap.ui.getCore().getLibraryResourceBundle('sap.m'),b=a.length,v=a.filter(function(B){return B.getVisible();}).length,i,m,B,V=1;for(i=0;i<b;i++){B=a[i];B.removeStyleClass("sapMActionSheetButtonNoIcon");if(B.getIcon()&&B.getVisible()){m=true;}else{B.addStyleClass("sapMActionSheetButtonNoIcon");}}r.write("<div");r.writeControlData(c);r.addClass("sapMActionSheet");if(m){r.addClass("sapMActionSheetMixedButtons");}r.writeClasses();var t=c.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}r.write(">");for(i=0;i<b;i++){B=a[i];r.renderControl(a[i].addStyleClass("sapMActionSheetButton"));if(B.getVisible()&&sap.ui.getCore().getConfiguration().getAccessibility()){I[i].setText(R.getText('ACTIONSHEET_BUTTON_INDEX',[V,v]));V++;r.renderControl(I[i]);}else{I[i].setText("");}}if(sap.ui.Device.system.phone&&c.getShowCancelButton()){r.renderControl(c._getCancelButton());}r.write("</div>");};return A;},true);
sap.ui.predefine('sap/m/AssociativeOverflowToolbar',['./OverflowToolbar','./OverflowToolbarRenderer','./Toolbar'],function(O,a,T){"use strict";var A=O.extend("sap.m.AssociativeOverflowToolbar",{metadata:{associations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:a});A.prototype.getContent=function(){var b=this.getAssociation("content")||[];return b.map(function(c){return sap.ui.getCore().byId(c);});};A.prototype.exit=function(){O.prototype.exit.apply(this,arguments);return this._callToolbarMethod('destroyContent',[true]);};A.prototype.indexOfContent=function(c){var b=this.getAssociation("content")||[];return b.indexOf(c.getId());};A.prototype._callToolbarMethod=function(f,b){switch(f){case'addContent':return this.addAssociation("content",b[0]);case'getContent':return this.getContent();case'insertContent':return this.addAssociation("content",b[0],b[3]);case'removeContent':return sap.ui.getCore().byId(this.removeAssociation("content",b[0],b[1],b[2]))||null;case'destroyContent':var c=this.removeAllAssociation("content",b[0]).map(function(d){return sap.ui.getCore().byId(d);});c.forEach(function(d){if(d){d.destroy();}});return this;case'removeAllContent':return this.removeAllAssociation("content",b[0]).map(function(d){return sap.ui.getCore().byId(d);});default:return T.prototype[f].apply(this,b);}};return A;},false);
sap.ui.predefine('sap/m/Bar.designtime',[],function(){"use strict";return{aggregations:{contentLeft:{domRef:":sap-domref > .sapMBarLeft",actions:{move:"moveControls"}},contentMiddle:{domRef:":sap-domref > .sapMBarMiddle > .sapMBarPH",actions:{move:"moveControls"}},contentRight:{domRef:":sap-domref > .sapMBarRight",actions:{move:"moveControls"}}}};},false);
sap.ui.predefine('sap/m/Breadcrumbs',["sap/ui/core/Control","sap/m/Text","sap/m/Link","sap/m/Select","sap/ui/core/Item","sap/ui/core/delegate/ItemNavigation","sap/ui/core/ResizeHandler","sap/ui/core/IconPool","sap/ui/Device"],function(C,T,L,S,I,a,R,b,D){"use strict";var B=C.extend("sap.m.Breadcrumbs",{metadata:{library:"sap.m",properties:{currentLocationText:{type:"string",group:"Behavior",defaultValue:null}},aggregations:{links:{type:"sap.m.Link",multiple:true,singularName:"link"},_currentLocation:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_select:{type:"sap.m.Select",multiple:false,visibility:"hidden"}},defaultAggregation:"links"}});B.prototype.onBeforeRendering=function(){if(this._bControlsInfoCached){this._updateSelect(true);}};B.prototype.onAfterRendering=function(){if(!this._bControlsInfoCached){this._updateSelect(true);return;}this._configureKeyboardHandling();};B.prototype.onThemeChanged=function(){this._resetControl();};B.prototype.exit=function(){this._resetControl();this._destroyItemNavigation();};B.PAGEUP_AND_PAGEDOWN_JUMP_SIZE=5;B._getResourceBundle=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.m");};B.prototype._getAugmentedId=function(s){return this.getId()+"-"+s;};B.prototype._getSelect=function(){if(!this.getAggregation("_select")){this.setAggregation("_select",this._decorateSelect(new S({id:this._getAugmentedId("select"),change:this._selectChangeHandler.bind(this),forceSelection:false,autoAdjustWidth:true,icon:b.getIconURI("slim-arrow-down"),type:sap.m.SelectType.IconOnly})));}return this.getAggregation("_select");};B.prototype._getCurrentLocation=function(){if(!this.getAggregation("_currentLocation")){this.setAggregation("_currentLocation",new T({id:this._getAugmentedId("currentText"),text:this.getCurrentLocationText(),wrapping:false}).addStyleClass("sapMBreadcrumbsCurrentLocation"));}return this.getAggregation("_currentLocation");};function c(A,d){var e=Array.prototype.slice.apply(d);e.unshift(A);return e;}B.prototype.insertLink=function(l,i){var r=this.insertAggregation.apply(this,c("links",arguments));this._registerControlListener(l);this._resetControl();return r;};B.prototype.addLink=function(l){var r=this.addAggregation.apply(this,c("links",arguments));this._registerControlListener(l);this._resetControl();return r;};B.prototype.removeLink=function(o){var r=this.removeAggregation.apply(this,c("links",arguments));this._deregisterControlListener(r);this._resetControl();return r;};B.prototype.removeAllLinks=function(){var l=this.getAggregation("links");var r=this.removeAllAggregation.apply(this,c("links",arguments));l.forEach(this._deregisterControlListener,this);this._resetControl();return r;};B.prototype.destroyLinks=function(){var l=this.getAggregation("links");var r=this.destroyAggregation.apply(this,c("links",arguments));l.forEach(this._deregisterControlListener,this);this._resetControl();return r;};B.prototype._decorateSelect=function(s){s.getPicker().attachAfterOpen(this._removeItemNavigation,this).attachBeforeClose(this._restoreItemNavigation,this);s._onBeforeOpenDialog=this._onSelectBeforeOpenDialog.bind(this);s._onBeforeOpenPopover=this._onSelectBeforeOpenPopover.bind(this);s.onsapescape=this._onSelectEscPress.bind(this);return s;};B.prototype._removeItemNavigation=function(){this.removeDelegate(this._getItemNavigation());};B.prototype._onSelectBeforeOpenDialog=function(){var s=this._getSelect();if(this.getCurrentLocationText()&&D.system.phone){s.setSelectedIndex(0);}else{s.setSelectedItem(null);}S.prototype._onBeforeOpenDialog.call(s);this._removeItemNavigation();};B.prototype._onSelectBeforeOpenPopover=function(){this._getSelect().setSelectedItem(null);this._removeItemNavigation();};B.prototype._restoreItemNavigation=function(){this.addDelegate(this._getItemNavigation());};B.prototype._onSelectEscPress=function(){this._getSelect().close();};B.prototype._createSelectItem=function(i){return new I({key:i.getId(),text:i.getText()});};B.prototype._selectChangeHandler=function(e){var l,s,d,o=e.getParameter("selectedItem");if(!o){return;}if(!this._getSelect().isOpen()){return;}l=sap.ui.getCore().byId(o.getKey());if(!(l instanceof L)){return;}s=l.getHref();d=l.getTarget();l.firePress();if(s){if(d){window.open(s,d);}else{window.location.href=s;}}};B.prototype._getItemsForMobile=function(){var i=this.getLinks();if(this.getCurrentLocationText()){i.push(this._getCurrentLocation());}return i;};B.prototype._updateSelect=function(i){var s=this._getSelect(),d,o=this._getControlDistribution();if(!this._bControlDistributionCached||i){s.removeAllItems();d=D.system.phone?this._getItemsForMobile():o.aControlsForSelect;d.map(this._createSelectItem).reverse().forEach(s.insertItem,s);this._bControlDistributionCached=true;this.invalidate(this);}s.setVisible(!!o.aControlsForSelect.length);if(!this._sResizeListenerId){this._sResizeListenerId=R.register(this,this._handleScreenResize.bind(this));}};B.prototype._getControlsForBreadcrumbTrail=function(){var v;if(this._bControlDistributionCached&&this._oDistributedControls){return this._oDistributedControls.aControlsForBreadcrumbTrail;}v=this.getLinks().filter(function(l){return l.getVisible();});if(this.getCurrentLocationText()){return v.concat([this._getCurrentLocation()]);}return v;};B.prototype._getControlInfo=function(o){return{id:o.getId(),control:o,width:o.$().parent().outerWidth(true),bCanOverflow:o instanceof L};};B.prototype._getControlDistribution=function(m){m=m||this._iContainerSize;this._iContainerSize=m;this._oDistributedControls=this._determineControlDistribution(m);return this._oDistributedControls;};B.prototype._determineControlDistribution=function(m){var i,o,d=this._getControlsInfo().aControlInfo,s=this._iSelectWidth,e=[],f=[],u=s;for(i=d.length-1;i>=0;i--){o=d[i];u+=o.width;if(d.length-1===i){f.push(o.control);continue;}if(i===0){u-=s;}if(u>m&&o.bCanOverflow){e.unshift(o.control);}else{f.unshift(o.control);}}return{aControlsForBreadcrumbTrail:f,aControlsForSelect:e};};B.prototype._getControlsInfo=function(){if(!this._bControlsInfoCached){this._iSelectWidth=this._getSelect().$().parent().outerWidth(true)||0;this._aControlInfo=this._getControlsForBreadcrumbTrail().map(this._getControlInfo);this._iContainerSize=this.$().outerWidth(true);this._bControlsInfoCached=true;}return{aControlInfo:this._aControlInfo,iSelectWidth:this._iSelectWidth,iContentSize:this._iContainerSize};};B.prototype._handleScreenResize=function(e){var i=this._oDistributedControls.aControlsForBreadcrumbTrail.length,o=this._getControlDistribution(e.size.width),d=o.aControlsForBreadcrumbTrail.length;if(i!==d){this._updateSelect(true);}return this;};B.prototype._getItemsToNavigate=function(){var i=this._getControlsForBreadcrumbTrail().slice(),s=this._getSelect();if(s.getVisible()){i.unshift(s);}return i;};B.prototype._getItemNavigation=function(){if(!this._itemNavigation){this._itemNavigation=new a();}return this._itemNavigation;};B.prototype._destroyItemNavigation=function(){if(this._itemNavigation){this.removeEventDelegate(this._itemNavigation);this._itemNavigation.destroy();this._itemNavigation=null;}};B.prototype._configureKeyboardHandling=function(){var i=this._getItemNavigation(),s=-1,d=this._getItemsToNavigate(),n=[];d.forEach(function(o,e){if(e===0){o.$().attr("tabIndex","0");}o.$().attr("tabIndex","-1");n.push(o.getDomRef());});this.addDelegate(i);i.setCycling(false);i.setPageSize(B.PAGEUP_AND_PAGEDOWN_JUMP_SIZE);i.setRootDomRef(this.getDomRef());i.setItemDomRefs(n);i.setSelectedIndex(s);return this;};B.prototype._registerControlListener=function(o){if(o){o.attachEvent("_change",this._resetControl,this);}};B.prototype._deregisterControlListener=function(o){if(o){o.detachEvent("_change",this._resetControl,this);}};B.prototype.setCurrentLocationText=function(t){var o=this._getCurrentLocation(),r=this.setProperty("currentLocationText",t,true);if(o.getText()!==t){o.setText(t);this._resetControl();}return r;};B.prototype._resetControl=function(){this._aControlInfo=null;this._iContainerSize=null;this._bControlsInfoCached=null;this._bControlDistributionCached=null;this._oDistributedControls=null;if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}this.removeDelegate(this._getItemNavigation());this.invalidate(this);return this;};return B;},true);
sap.ui.predefine('sap/m/BreadcrumbsRenderer',["sap/m/Breadcrumbs","sap/m/Text"],function(C,T){"use strict";var B={};B.render=function(r,c){var a=c._getControlsForBreadcrumbTrail(),s=c._getSelect();r.write("<ul");r.writeControlData(c);r.addClass("sapMBreadcrumbs");r.writeClasses();r.writeAttribute("role","navigation");r.writeAttributeEscaped("aria-label",C._getResourceBundle().getText("BREADCRUMB_LABEL"));r.write(">");if(s.getVisible()){this._renderControlInListItem(r,s,false,"sapMBreadcrumbsSelectItem");}a.forEach(function(o){this._renderControlInListItem(r,o,o instanceof T);},this);r.write("</ul>");};B._renderControlInListItem=function(r,c,s,a){r.write("<li");r.writeAttribute("role","presentation");r.writeAttribute("aria-hidden","true");r.addClass("sapMBreadcrumbsItem");r.addClass(a);r.writeClasses();r.write(">");r.renderControl(c);if(!s){r.write("<span");r.addClass("sapMBreadcrumbsSeparator");r.writeClasses();r.write(">/</span>");}r.write("</li>");};return B;},true);
sap.ui.predefine('sap/m/BusyDialog',['jquery.sap.global','./library','sap/ui/core/Control','sap/m/Dialog','sap/m/BusyIndicator','sap/m/Label','sap/m/Button'],function(q,l,C,D,B,L,a,P,b){"use strict";var c=C.extend("sap.m.BusyDialog",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Appearance",defaultValue:''},title:{type:"string",group:"Appearance",defaultValue:''},customIcon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:''},customIconRotationSpeed:{type:"int",group:"Appearance",defaultValue:1000},customIconDensityAware:{type:"boolean",defaultValue:true},customIconWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"44px"},customIconHeight:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"44px"},cancelButtonText:{type:"string",group:"Misc",defaultValue:''},showCancelButton:{type:"boolean",group:"Appearance",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{close:{parameters:{cancelPressed:{type:"boolean"}}}}},renderer:function(r,o){}});c.prototype.init=function(){this._busyIndicator=new B(this.getId()+'-busyInd',{visible:true});function o(){if(sap.ui.getCore().getConfiguration().getAccessibility()){this._$content.attr('role','application');}}this._oDialog=new D(this.getId()+'-Dialog',{content:this._busyIndicator,showHeader:false,afterOpen:o,initialFocus:this._busyIndicator}).addStyleClass('sapMBusyDialog');this._oDialog.close=function(){};this._oDialog.addEventDelegate({onBeforeRendering:function(){var t=this.getText();var d=this.getTitle();var s=this.getShowCancelButton()||this.getCancelButtonText();if(!t&&!d&&!s){this._oDialog.addStyleClass('sapMBusyDialog-Light');}else{this._oDialog.removeStyleClass('sapMBusyDialog-Light');}}},this);this._oDialog.oPopup.onsapescape=function(e){this.close(true);}.bind(this);};c.prototype.exit=function(){this._busyIndicator.destroy();this._busyIndicator=null;if(this._cancelButton){this._cancelButton.destroy();this._cancelButton=null;}if(this._oLabel){this._oLabel.destroy();this._oLabel=null;}this._oDialog.destroy();this._oDialog=null;};c.prototype.open=function(){q.sap.log.debug("sap.m.BusyDialog.open called at "+new Date().getTime());if(this.getAriaLabelledBy()&&!this._oDialog._$dialog){var t=this;this.getAriaLabelledBy().forEach(function(i){t._oDialog.addAriaLabelledBy(i);});}if(!document.body||!sap.ui.getCore().isInitialized()){setTimeout(function(){this.open();}.bind(this),50);}else{this._oDialog.open();}return this;};c.prototype.close=function(i){this.fireClose({cancelPressed:i||false});D.prototype.close.call(this._oDialog);return this;};c.prototype.setTitle=function(t){this.setProperty('title',t,true);this._oDialog.setTitle(t).setShowHeader(!!t);return this;};c.prototype.setTooltip=function(t){this._oDialog.setTooltip(t);return this;};c.prototype.getTooltip=function(){this._oDialog.getTooltip();return this;};c.prototype.setText=function(t){this.setProperty('text',t,true);if(!this._oLabel){if(t){this._oLabel=new L(this.getId()+'-TextLabel',{text:t}).addStyleClass('sapMBusyDialogLabel');this._oDialog.insertAggregation('content',this._oLabel,0);this._oDialog.addAriaLabelledBy(this._oLabel.getId());}}else{if(t){this._oLabel.setText(t).setVisible(true);}else{this._oLabel.setVisible(false);}}return this;};c.prototype.setCustomIcon=function(i){this.setProperty("customIcon",i,true);this._busyIndicator.setCustomIcon(i);return this;};c.prototype.setCustomIconRotationSpeed=function(s){this.setProperty("customIconRotationSpeed",s,true);this._busyIndicator.setCustomIconRotationSpeed(s);return this;};c.prototype.setCustomIconDensityAware=function(i){this.setProperty("customIconDensityAware",i,true);this._busyIndicator.setCustomIconDensityAware(i);return this;};c.prototype.setCustomIconWidth=function(w){this.setProperty("customIconWidth",w,true);this._busyIndicator.setCustomIconWidth(w);return this;};c.prototype.setCustomIconHeight=function(h){this.setProperty("customIconHeight",h,true);this._busyIndicator.setCustomIconHeight(h);return this;};c.prototype.setShowCancelButton=function(i){this.setProperty("showCancelButton",i,false);if(i){this._oDialog.setEndButton(this._getCancelButton());}else{this._destroyTheCancelButton();}return this;};c.prototype.setCancelButtonText=function(t){this.setProperty("cancelButtonText",t,false);if(t){this._getCancelButton().setText(t);this._oDialog.setEndButton(this._getCancelButton());}else{this._destroyTheCancelButton();}return this;};c.prototype.getDomRef=function(){return this._oDialog&&this._oDialog.getDomRef();};c.prototype._destroyTheCancelButton=function(){this._oDialog.destroyEndButton();this._cancelButton=null;};c.prototype._getCancelButton=function(){var d=this.getCancelButtonText();d=d?d:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("BUSYDIALOG_CANCELBUTTON_TEXT");return this._cancelButton?this._cancelButton:this._cancelButton=new a(this.getId()+'busyCancelBtn',{text:d,press:function(){this.close(true);}.bind(this)});};return c;},true);
sap.ui.predefine('sap/m/Carousel',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/thirdparty/mobify-carousel'],function(q,l,C,m){"use strict";var a=C.extend("sap.m.Carousel",{metadata:{library:"sap.m",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},loop:{type:"boolean",group:"Misc",defaultValue:false},showPageIndicator:{type:"boolean",group:"Appearance",defaultValue:true},pageIndicatorPlacement:{type:"sap.m.PlacementType",group:"Appearance",defaultValue:sap.m.PlacementType.Bottom},showBusyIndicator:{type:"boolean",group:"Appearance",defaultValue:true,deprecated:true},busyIndicatorSize:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'6em',deprecated:true},arrowsPlacement:{type:"sap.m.CarouselArrowsPlacement",group:"Appearance",defaultValue:sap.m.CarouselArrowsPlacement.Content}},defaultAggregation:"pages",aggregations:{pages:{type:"sap.ui.core.Control",multiple:true,singularName:"page"}},associations:{activePage:{type:"sap.ui.core.Control",multiple:false}},events:{loadPage:{deprecated:true,parameters:{pageId:{type:"string"}}},unloadPage:{deprecated:true,parameters:{pageId:{type:"string"}}},pageChanged:{parameters:{oldActivePageId:{type:"string"},newActivePageId:{type:"string"}}}}}});a._INNER_SELECTOR=".sapMCrslInner";a._PAGE_INDICATOR_SELECTOR=".sapMCrslBulleted";a._PAGE_INDICATOR_ARROWS_SELECTOR=".sapMCrslIndicatorArrow";a._CONTROLS=".sapMCrslControls";a._ITEM_SELECTOR=".sapMCrslItem";a._LEFTMOST_CLASS="sapMCrslLeftmost";a._RIGHTMOST_CLASS="sapMCrslRightmost";a._LATERAL_CLASSES="sapMCrslLeftmost sapMCrslRightmost";a._bIE9=(sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version<10);a._MODIFIERNUMBERFORKEYBOARDHANDLING=10;a._BULLETS_TO_NUMBERS_THRESHOLD=9;a.prototype.init=function(){this._aScrollContainers=[];this._fnAdjustAfterResize=q.proxy(function(){var $=this.$().find(a._INNER_SELECTOR);this._oMobifyCarousel.resize($);},this);this.data("sap-ui-fastnavgroup","true",true);};a.prototype.exit=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.destroy();delete this._oMobifyCarousel;}if(this._oArrowLeft){this._oArrowLeft.destroy();delete this._oArrowLeft;}if(this._oArrowRight){this._oArrowRight.destroy();delete this._oArrowRight;}if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}this.$().off('afterSlide');this._cleanUpScrollContainer();this._fnAdjustAfterResize=null;this._aScrollContainers=null;this._$InnerDiv=null;};a.prototype._cleanUpScrollContainer=function(){var s;while(this._aScrollContainers&&this._aScrollContainers.length>0){s=this._aScrollContainers.pop();s.removeAllContent();if(s&&typeof s.destroy==='function'){s.destroy();}}};a.prototype.ontouchstart=function(e){if(this._oMobifyCarousel){this._oMobifyCarousel.touchstart(e);}};a.prototype.ontouchmove=function(e){if(this._oMobifyCarousel){this._oMobifyCarousel.touchmove(e);}};a.prototype.ontouchend=function(e){if(this._oMobifyCarousel){this._oMobifyCarousel.touchend(e);}};a.prototype.onBeforeRendering=function(){var A=this.getActivePage();if(!A&&this.getPages().length>0){this.setAssociation("activePage",this.getPages()[0].getId(),true);}if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}return this;};a.prototype.onAfterRendering=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.unbind();}this.$().carousel();this._oMobifyCarousel=this.getDomRef()._carousel;this._oMobifyCarousel.setLoop(this.getLoop());this._oMobifyCarousel.setRTL(sap.ui.getCore().getConfiguration().getRTL());var A=this.getActivePage();if(A){var i=this._getPageNumber(A);if(isNaN(i)||i==0){if(this.getPages().length>0){this.setAssociation("activePage",this.getPages()[0].getId(),true);this._adjustHUDVisibility(1);}}else{var c=sap.ui.getCore();if(c.isThemeApplied()){this._moveToPage(i+1);}else{c.attachThemeChanged(this._handleThemeLoad,this);}if(sap.zen&&sap.zen.commons&&this.getParent()instanceof sap.zen.commons.layout.PositionContainer){if(this._isCarouselUsedWithCommonsLayout===undefined){q.sap.delayedCall(0,this,"invalidate");this._isCarouselUsedWithCommonsLayout=true;}}}}this.$().on('afterSlide',q.proxy(function(e,P,n){if(e.target!==this.getDomRef()){return;}if(n>0){this._changePage(n);}},this));this._$InnerDiv=this.$().find(a._INNER_SELECTOR)[0];this._sResizeListenerId=sap.ui.core.ResizeHandler.register(this._$InnerDiv,this._fnAdjustAfterResize);this.$().find('.sapMCrslItemTableCell').focus(function(e){e.preventDefault();q(e.target).parents('.sapMCrsl').focus();return false;});var s='sap.m.IconTabBar';var p=this.getParent();while(p){if(p.getMetadata().getName()==s){var t=this;p.attachExpand(function(e){var E=e.getParameter('expand');if(E&&i>0){t._moveToPage(i+1);}});break;}p=p.getParent();}};a.prototype._handleThemeLoad=function(){var c,A=this.getActivePage();if(A){var i=this._getPageNumber(A);if(i>0){this._moveToPage(i+1);}}c=sap.ui.getCore();c.detachThemeChanged(this._handleThemeLoad,this);};a.prototype._moveToPage=function(i){this._oMobifyCarousel.changeAnimation('sapMCrslNoTransition');this._oMobifyCarousel.move(i);this._changePage(i);};a.prototype._changePage=function(n){this._adjustHUDVisibility(n);var o=this.getActivePage();var N=this.getPages()[n-1].getId();this.setAssociation("activePage",N,true);var t=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("CAROUSEL_PAGE_INDICATOR_TEXT");var i=this.getId()+'-'+'slide-number';var s=n+' '+t+' '+this.getPages().length;q.sap.log.debug("sap.m.Carousel: firing pageChanged event: old page: "+o+", new page: "+N);this.firePageChanged({oldActivePageId:o,newActivePageId:N});if(document.getElementById(i)){document.getElementById(i).innerHTML=s;}};a.prototype._adjustHUDVisibility=function(n){if(sap.ui.Device.system.desktop&&!this.getLoop()&&this.getPages().length>1){var h=this.$('hud');h.removeClass(a._LATERAL_CLASSES);if(n===1){h.addClass(a._LEFTMOST_CLASS);}else if(n===this.getPages().length){h.addClass(a._RIGHTMOST_CLASS);}}};a.prototype.setActivePage=function(p){var P=null;if(typeof(p)=='string'){P=p;}else if(p instanceof C){P=p.getId();}if(P){if(P===this.getActivePage()){return this;}var i=this._getPageNumber(P);if(!isNaN(i)){if(this._oMobifyCarousel){this._oMobifyCarousel.move(i+1);}}}this.setAssociation("activePage",P,true);return this;};a.prototype.setHeight=function(h){this.setProperty("height",h,true);this.$().css("height",h);return this;};a.prototype.setWidth=function(w){this.setProperty("width",w,true);this.$().css("width",w);return this;};a.prototype.setLoop=function(L){this.setProperty("loop",L,true);if(this._oMobifyCarousel){this._oMobifyCarousel.setLoop(L);}return this;};a.prototype._getNavigationArrow=function(n){q.sap.require("sap.ui.core.IconPool");var p={src:"sap-icon://slim-arrow-"+n,useIconTooltip:false};if(n==="left"){if(!this._oArrowLeft){this._oArrowLeft=sap.m.ImageHelper.getImageControl(this.getId()+"-arrowScrollLeft",this._oArrowLeft,this,p);}return this._oArrowLeft;}else if(n==="right"){if(!this._oArrowRight){this._oArrowRight=sap.m.ImageHelper.getImageControl(this.getId()+"-arrowScrollRight",this._oArrowRight,this,p);}return this._oArrowRight;}};a.prototype._createScrollContainer=function(p){var i;var s=sap.ui.Device.system.desktop&&this.getArrowsPlacement()===sap.m.CarouselArrowsPlacement.PageIndicator;if(s){i="sapMCrslImg";}else{i="sapMCrslImgNoArrows";}var c=p instanceof sap.m.Image?"sapMCrslItemTableCell "+i:"sapMCrslItemTableCell",o=new sap.ui.core.HTML({content:"<div class='sapMCrslItemTable'>"+"<div class='"+c+"'></div>"+"</div>",afterRendering:function(e){var r=sap.ui.getCore().createRenderManager();r.render(p,this.getDomRef().firstChild);r.destroy();}});var S=new sap.m.ScrollContainer({horizontal:false,vertical:false,content:[o],width:'100%',height:'100%'});S.setParent(this,null,true);this._aScrollContainers.push(S);return S;};a.prototype.previous=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.prev();}else{q.sap.log.warning("Unable to execute sap.m.Carousel.previous: carousel must be rendered first.");}return this;};a.prototype.next=function(){if(this._oMobifyCarousel){this._oMobifyCarousel.next();}else{q.sap.log.warning("Unable to execute sap.m.Carousel.next: carousel must be rendered first.");}return this;};a.prototype._getPageNumber=function(p){var i,r;for(i=0;i<this.getPages().length;i++){if(this.getPages()[i].getId()==p){r=i;break;}}return r;};a.prototype.onsaptabprevious=function(e){this._bDirection=false;this._fnOnTabPress(e);};a.prototype.onsaptabnext=function(e){this._bDirection=true;this._fnOnTabPress(e);};a.prototype.onfocusin=function(e){this.saveLastFocusReference(e);this._bDirection=undefined;};a.prototype.onsapskipforward=function(e){e.preventDefault();this._handleGroupNavigation(e,false);};a.prototype.onsapskipback=function(e){e.preventDefault();this._handleGroupNavigation(e,true);};a.prototype.onkeydown=function(e){if(e.keyCode==q.sap.KeyCodes.F7){this._handleF7Key(e);return;}if(e.target!=this.getDomRef()){return;}switch(e.keyCode){case 189:case q.sap.KeyCodes.NUMPAD_MINUS:this._fnSkipToIndex(e,-1);break;case q.sap.KeyCodes.PLUS:case q.sap.KeyCodes.NUMPAD_PLUS:this._fnSkipToIndex(e,1);break;}};a.prototype.onsapescape=function(e){var b;if(e.target===this.$()[0]&&this._lastActivePageNumber){b=this._lastActivePageNumber+1;this._oMobifyCarousel.move(b);this._changePage(b);}};a.prototype.onsapright=function(e){this._fnSkipToIndex(e,1);};a.prototype.onsapup=function(e){this._fnSkipToIndex(e,-1);};a.prototype.onsapleft=function(e){this._fnSkipToIndex(e,-1);};a.prototype.onsapdown=function(e){this._fnSkipToIndex(e,1);};a.prototype.onsaphome=function(e){this._fnSkipToIndex(e,0);};a.prototype.onsapend=function(e){this._fnSkipToIndex(e,this.getPages().length);};a.prototype.onsaprightmodifiers=function(e){if(e.ctrlKey){this._fnSkipToIndex(e,a._MODIFIERNUMBERFORKEYBOARDHANDLING);}};a.prototype.onsapupmodifiers=function(e){if(e.ctrlKey){this._fnSkipToIndex(e,a._MODIFIERNUMBERFORKEYBOARDHANDLING);}};a.prototype.onsappageup=function(e){this._fnSkipToIndex(e,a._MODIFIERNUMBERFORKEYBOARDHANDLING);};a.prototype.onsapleftmodifiers=function(e){if(e.ctrlKey){this._fnSkipToIndex(e,-a._MODIFIERNUMBERFORKEYBOARDHANDLING);}};a.prototype.onsapdownmodifiers=function(e){if(e.ctrlKey){this._fnSkipToIndex(e,-a._MODIFIERNUMBERFORKEYBOARDHANDLING);}};a.prototype.onsappagedown=function(e){this._fnSkipToIndex(e,-a._MODIFIERNUMBERFORKEYBOARDHANDLING);};a.prototype._fnOnTabPress=function(e){if(e.target===this.$()[0]){this._lastActivePageNumber=this._getPageNumber(this.getActivePage());}};a.prototype._handleGroupNavigation=function(e,s){var E=q.Event("keydown");e.preventDefault();this.$().focus();E.target=e.target;E.keyCode=q.sap.KeyCodes.F6;E.shiftKey=s;q.sap.handleF6GroupNavigation(E);};a.prototype.saveLastFocusReference=function(e){if(this._bDirection===undefined){return;}if(this._lastFocusablePageElement===undefined){this._lastFocusablePageElement={};}this._lastFocusablePageElement[this.getActivePage()]=e.target;};a.prototype._getActivePageLastFocusedElement=function(){if(this._lastFocusablePageElement){return this._lastFocusablePageElement[this.getActivePage()];}};a.prototype._fnSkipToIndex=function(e,n){var b=n;if(e.target!==this.getDomRef()){return;}e.preventDefault();if(n!==0){b=this._getPageNumber(this.getActivePage())+1+n;}this._oMobifyCarousel.move(b);};a.prototype._handleF7Key=function(e){var A;e.preventDefault();A=this._getActivePageLastFocusedElement();if(e.target===this.$()[0]&&A){A.focus();}else{this.$().focus();}};a.prototype.setShowBusyIndicator=function(){q.sap.log.warning("sap.m.Carousel: Deprecated function 'setShowBusyIndicator' called. Does nothing.");return this;};a.prototype.getShowBusyIndicator=function(){q.sap.log.warning("sap.m.Carousel: Deprecated function 'getShowBusyIndicator' called. Does nothing.");return false;};a.prototype.setBusyIndicatorSize=function(){q.sap.log.warning("sap.m.Carousel: Deprecated function 'setBusyIndicatorSize' called. Does nothing.");return this;};a.prototype.getBusyIndicatorSize=function(){q.sap.log.warning("sap.m.Carousel: Deprecated function 'getBusyIndicatorSize' called. Does nothing.");return"";};return a;},true);
sap.ui.predefine('sap/m/CarouselRenderer',['jquery.sap.global'],function(q){"use strict";var C={};C.render=function(r,c){var p=c.getPages(),P=p.length,s=c.getPageIndicatorPlacement(),a=c.getArrowsPlacement(),i=c.getId(),b=sap.m.Carousel._BULLETS_TO_NUMBERS_THRESHOLD,I=c._getPageNumber(c.getActivePage());this._renderOpeningDiv(r,c);if(s===sap.m.PlacementType.Top){this._renderPageIndicatorAndArrows({rm:r,iPageCount:P,sId:i,iIndex:I,iBulletsToNumbersThreshold:b,sArrowsPlacement:a,bBottom:false,bShowPageIndicator:c.getShowPageIndicator()},c);}this._renderInnerDiv(r,c,p,s);if(sap.ui.Device.system.desktop&&P>1&&a===sap.m.CarouselArrowsPlacement.Content){this._renderHudArrows(r,c);}if(s===sap.m.PlacementType.Bottom){this._renderPageIndicatorAndArrows({rm:r,iPageCount:P,sId:i,iIndex:I,iBulletsToNumbersThreshold:b,sArrowsPlacement:a,bBottom:true,bShowPageIndicator:c.getShowPageIndicator()},c);}this._renderClosingDiv(r);};C._renderOpeningDiv=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);r.writeAttribute("data-sap-ui-customfastnavgroup","true");r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.addClass("sapMCrsl");r.addClass("sapMCrslFluid");r.writeClasses();if(t){r.writeAttributeEscaped("title",t);}r.writeAttributeEscaped("tabindex","0");r.writeAccessibilityState(c,{role:"list"});r.write(">");};C._renderInnerDiv=function(r,c,p,P){r.write("<div class='sapMCrslInner");c._cleanUpScrollContainer();if(p.length>1&&(c.getShowPageIndicator()||c.getArrowsPlacement()===sap.m.CarouselArrowsPlacement.PageIndicator)){if(P===sap.m.PlacementType.Bottom){r.write(" sapMCrslBottomOffset");if(c.getArrowsPlacement()===sap.m.CarouselArrowsPlacement.PageIndicator){r.write(" sapMCrslBottomArrowsOffset");}}else{r.write(" sapMCrslTopOffset");if(c.getArrowsPlacement()===sap.m.CarouselArrowsPlacement.PageIndicator){r.write(" sapMCrslTopArrowsOffset");}}}r.write("'>");var R=function(o,i,a){r.write("<div class='sapMCrslItem");r.write("' id='"+c.sId+"-"+o.sId+"-slide'");r.writeAccessibilityState(o,{role:"listitem",posinset:i+1,setsize:a.length});r.write(">");r.renderControl(c._createScrollContainer(o,i));r.write("</div>");};p.forEach(R);r.write("</div>");};C._renderClosingDiv=function(r){r.write('</div>');};C._renderPageIndicatorAndArrows=function(s,c){var r=s.rm,p=s.iPageCount,S=sap.ui.Device.system.desktop&&s.sArrowsPlacement===sap.m.CarouselArrowsPlacement.PageIndicator,b=s.bBottom,I=s.sId,a=s.iIndex,B=s.iBulletsToNumbersThreshold,d=s.bShowPageIndicator,P=d?'':'opacity: 0',R=sap.ui.getCore().getLibraryResourceBundle('sap.m'),o="",t=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("CAROUSEL_PAGE_INDICATOR_TEXT");if(p<=1){return;}if(!d&&!S){return;}if(b){o+=" sapMCrslControlsBottom";}else{o+=" sapMCrslControlsTop";}if(S){r.write('<div');r.addClass("sapMCrslControls");r.addClass(o);r.writeClasses();r.write('>');r.write('<div class="sapMCrslControlsContainer'+o+'">');}else{r.write('<div class="sapMCrslControlsNoArrows'+o+'">');}if(S){this._renderPrevArrow(r,c);}var e=I+'-pageIndicator';r.write('<div id="'+e+'" style="'+P+'"');if(p<B){r.write(' class="sapMCrslBulleted">');for(var i=1;i<=p;i++){r.write("<span role='img' data-slide="+i+" aria-label='"+R.getText('CAROUSEL_POSITION',[i,p])+"'>"+i+"</span>");}}else{r.write(' class="sapMCrslNumeric">');r.write('<span id='+I+'-'+'slide-number>'+(a+1)+' '+t+' '+p+'</span>');}r.write('</div>');if(S){this._renderNextArrow(r,c);}if(!S){r.write('</div>');}if(S){r.write('</div>');r.write('</div>');}};C._renderHudArrows=function(r,c){var a;if(c.getShowPageIndicator()){if(c.getPageIndicatorPlacement()===sap.m.PlacementType.Top){a="sapMCrslHudTop";}else if(c.getPageIndicatorPlacement()===sap.m.PlacementType.Bottom){a="sapMCrslHudBottom";}}else{a="sapMCrslHudMiddle";}var h=c.getId()+'-hud';r.write('<div id="'+h+'" class="sapMCrslHud '+a+'">');this._renderPrevArrow(r,c);this._renderNextArrow(r,c);r.write("</div>");};C._renderPrevArrow=function(r,c){r.write("<a class='sapMCrslPrev' href='#' data-slide='prev' tabindex='-1'><div class='sapMCrslArrowInner'>");r.renderControl(c._getNavigationArrow('left'));r.write("</div></a>");};C._renderNextArrow=function(r,c){r.write("<a class='sapMCrslNext' href='#' data-slide='next' tabindex='-1'><div class='sapMCrslArrowInner'>");r.renderControl(c._getNavigationArrow('right'));r.write("</div></a>");};return C;},true);
sap.ui.predefine('sap/m/CheckBox.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},rename:{changeType:"rename",domRef:function(c){return c.$().find(".sapMCbLabel")[0];}},reveal:{changeType:"unhideControl"}},name:{singular:"CHECKBOX_NAME",plural:"CHECKBOX_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/CheckBox',['jquery.sap.global','./Label','./library','sap/ui/Device','sap/ui/core/Control',"sap/ui/core/IconPool",'sap/ui/core/EnabledPropagator'],function(q,L,l,D,C,I,E){"use strict";var a=C.extend("sap.m.CheckBox",{metadata:{library:"sap.m",properties:{selected:{type:"boolean",group:"Data",defaultValue:false},enabled:{type:"boolean",group:"Behavior",defaultValue:true},name:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Appearance",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:sap.ui.core.TextAlign.Begin},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:''},activeHandling:{type:"boolean",group:"Misc",defaultValue:true},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:sap.ui.core.ValueState.None}},aggregations:{_label:{type:"sap.m.Label",group:"Behavior",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{select:{parameters:{selected:{type:"boolean"}}}},designTime:true}});E.call(a.prototype);a.prototype.init=function(){this.addActiveState(this);I.insertFontFaceStyle();};a.prototype.exit=function(){this._oLabel=null;delete this._iTabIndex;};a.prototype.setSelected=function(s){s=!!s;if(s==this.getSelected()){return this;}this.$("CbBg").toggleClass("sapMCbMarkChecked",s);this.$().attr("aria-checked",s);var c=this.getDomRef("CB");if(c){s?c.setAttribute('checked','checked'):c.removeAttribute('checked');}this.setProperty("selected",s,true);return this;};a.prototype.setText=function(t){var o=this._getLabel(),h=!!t;this.setProperty("text",t,true);o.setText(t);this.$().toggleClass("sapMCbHasLabel",h);return this;};a.prototype.setWidth=function(w){var o=this._getLabel();this.setProperty("width",w,true);o.setWidth(w);return this;};a.prototype.setTextDirection=function(d){var o=this._getLabel();this.setProperty("textDirection",d,true);o.setTextDirection(d);return this;};a.prototype.setTextAlign=function(A){var o=this._getLabel();this.setProperty("textAlign",A,true);o.setTextAlign(A);return this;};a.prototype.addActiveState=function(c){if(D.os.blackberry){c.addDelegate({ontouchstart:function(e){q(c.getDomRef()).addClass("sapMActive");},ontouchend:function(e){q(c.getDomRef()).removeClass("sapMActive");}});}};a.prototype.ontouchstart=function(e){e.originalEvent._sapui_handledByControl=true;};a.prototype.ontap=function(e){if(this.getEnabled()&&this.getEditable()){this.$().focus();var s=!this.getSelected();this.setSelected(s);this.fireSelect({selected:s});e&&e.setMarked();}};a.prototype.onsapspace=function(e){this.ontap(e);if(e){e.preventDefault();e.stopPropagation();}};a.prototype.onsapenter=function(e){this.ontap(e);};a.prototype.setTabIndex=function(t){this._iTabIndex=t;this.$("CbBg").attr("tabindex",t);return this;};a.prototype.getTabIndex=function(){if(this.hasOwnProperty("_iTabIndex")){return this._iTabIndex;}return this.getEnabled()?0:-1;};a.prototype._getLabel=function(){if(!this._oLabel){this._oLabel=new L(this.getId()+"-label",{labelFor:this.getId()}).addStyleClass("sapMCbLabel");this.setAggregation("_label",this._oLabel,true);}return this.getAggregation("_label");};a.prototype.getAccessibilityInfo=function(){var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");return{role:"checkbox",type:b.getText("ACC_CTR_TYPE_CHECKBOX"),description:(this.getText()||"")+(this.getSelected()?(" "+b.getText("ACC_CTR_STATE_CHECKED")):""),focusable:this.getEnabled(),enabled:this.getEnabled(),editable:this.getEditable()};};return a;},true);
sap.ui.predefine('sap/m/CheckBoxRenderer',['jquery.sap.global','sap/ui/core/ValueState','sap/ui/core/ValueStateSupport'],function(q,V,a){"use strict";var C={};C.render=function(r,c){var i=c.getId(),e=c.getEnabled(),E=c.getEditable(),o=c.getAggregation("_label"),I=V.Error===c.getValueState(),b=V.Warning===c.getValueState();r.write("<div");r.addClass("sapMCb");if(!E){r.addClass("sapMCbRo");}if(!e){r.addClass("sapMCbBgDis");}if(I){r.addClass("sapMCbErr");}else if(b){r.addClass("sapMCbWarn");}if(c.getText()){r.addClass("sapMCbHasLabel");}r.writeControlData(c);r.writeClasses();var t=a.enrichTooltip(c,c.getTooltip_AsString());if(t){r.writeAttributeEscaped("title",t);}if(e){r.writeAttribute("tabindex",c.getTabIndex());}r.writeAccessibilityState(c,{role:"checkbox",selected:null,checked:c.getSelected(),describedby:t?i+"-Descr":undefined});r.write(">");r.write("<div id='");r.write(c.getId()+"-CbBg'");r.addClass("sapMCbBg");if(e&&E&&sap.ui.Device.system.desktop){r.addClass("sapMCbHoverable");}if(!c.getActiveHandling()){r.addClass("sapMCbActiveStateOff");}r.addClass("sapMCbMark");if(c.getSelected()){r.addClass("sapMCbMarkChecked");}r.writeClasses();r.write(">");r.write("<input type='CheckBox' id='");r.write(c.getId()+"-CB'");if(c.getSelected()){r.writeAttribute("checked","checked");}if(c.getName()){r.writeAttributeEscaped('name',c.getName());}if(!e){r.write(" disabled=\"disabled\"");}if(!E){r.write(" readonly=\"readonly\"");}r.write(" /></div>");r.renderControl(o);if(t&&sap.ui.getCore().getConfiguration().getAccessibility()){r.write("<span id=\""+i+"-Descr\" class=\"sapUiHidden\">");r.writeEscaped(t);r.write("</span>");}r.write("</div>");};return C;},true);
sap.ui.predefine('sap/m/Column',['jquery.sap.global','./library','sap/ui/core/Element','sap/ui/core/Renderer'],function(q,l,E,R){"use strict";var C=E.extend("sap.m.Column",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},hAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:sap.ui.core.TextAlign.Begin},vAlign:{type:"sap.ui.core.VerticalAlign",group:"Appearance",defaultValue:sap.ui.core.VerticalAlign.Inherit},styleClass:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},minScreenWidth:{type:"string",group:"Behavior",defaultValue:null},demandPopin:{type:"boolean",group:"Behavior",defaultValue:false},popinHAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:sap.ui.core.TextAlign.Begin,deprecated:true},popinDisplay:{type:"sap.m.PopinDisplay",group:"Appearance",defaultValue:sap.m.PopinDisplay.Block},mergeDuplicates:{type:"boolean",group:"Behavior",defaultValue:false},mergeFunctionName:{type:"string",group:"Misc",defaultValue:'getText'}},defaultAggregation:"header",aggregations:{header:{type:"sap.ui.core.Control",multiple:false},footer:{type:"sap.ui.core.Control",multiple:false}}}});C.prototype._index=-1;C.prototype._screen="";C.prototype._media=null;C.prototype.exit=function(){this._clearMedia();};C.prototype._clearMedia=function(){if(this._media&&this._minWidth){sap.ui.Device.media.removeRangeSet(this.getId());this._media=null;}};C.prototype._addMedia=function(){delete this._bShouldAddMedia;if(this._minWidth){sap.ui.Device.media.initRangeSet(this.getId(),[parseFloat(this._minWidth)]);this._attachMediaContainerWidthChange(this._notifyResize,this,this.getId());this._media=this._getCurrentMediaContainerRange(this.getId());if(this._media){this._media.matches=!!this._media.from;}}};C.prototype._notifyResize=function(m){if(this._media.from===m.from){return;}this._media=m;this._media.matches=!!m.from;q.sap.delayedCall(0,this,function(){var p=this.getParent();this.fireEvent("media",this);if(p&&p.onColumnResize){p.onColumnResize(this);}});};C.prototype._validateMinWidth=function(w){if(!w){return;}if(Object.prototype.toString.call(w)!="[object String]"){throw new Error('expected string for property "minScreenWidth" of '+this);}if(Object.keys(sap.m.ScreenSizes).indexOf(w.toLowerCase())!=-1){return;}if(!/^\d+(\.\d+)?(px|em|rem)$/i.test(w)){throw new Error('invalid CSS size("px", "em", "rem" required) or sap.m.ScreenSize enumeration for property "minScreenWidth" of '+this);}};C.prototype._isWidthPredefined=function(w){var t=this,u=w.replace(/[^a-z]/ig,""),b=parseFloat(sap.m.BaseFontSize)||16;q.each(sap.m.ScreenSizes,function(s,a){if(u!="px"){a/=b;}if(a+u==w){t._minWidth=this+"px";t._screen=s;return false;}});if(this._minWidth){return true;}if(u=="px"){this._minWidth=w;}else{this._minWidth=parseFloat(w)*b+"px";}};C.prototype.applyAlignTo=function(c,a){a=a||this.getHAlign();if(a===sap.ui.core.TextAlign.Initial||!c.getMetadata().getProperties().textAlign||c.getTextAlign()===a){return c;}c.setProperty("textAlign",a,true);var d=c.getDomRef();a=this.getCssAlign(a);if(d&&a){d.style.textAlign=a;}return c;};C.prototype.getCssAlign=function(a){a=a||this.getHAlign();var t=sap.ui.core.TextAlign;if(a===t.Begin||a===t.End||a===t.Initial){a=R.getTextAlign(a);}return a.toLowerCase();};C.prototype.getStyleClass=function(r){var c=this.getProperty("styleClass");if(!r){return c;}if(this._screen&&(!this.getDemandPopin()||!window.matchMedia)){c+=" sapMSize-"+this._screen;}else if(this._media&&!this._media.matches){c+=" sapMListTblNone";}return c.trim();};C.prototype.setIndex=function(n){this._index=+n;};C.prototype.setOrder=function(n){this._order=+n;};C.prototype.getOrder=function(){return this.hasOwnProperty("_order")?this._order:this.getInitialOrder();};C.prototype.setInitialOrder=function(n){this._initialOrder=+n;};C.prototype.getInitialOrder=function(){if(this.hasOwnProperty("_initialOrder")){return this._initialOrder;}var p=this.getParent();if(p&&p.indexOfColumn){return p.indexOfColumn(this);}return-1;};C.prototype.setDisplay=function(t,d){if(!t||this._index<0){return;}var i=this._index+1,p=this.getParent(),a=d?"table-cell":"none",h=t.querySelector("tr > th:nth-child("+i+")"),c=t.querySelectorAll("tr > td:nth-child("+i+")"),b=c.length;h.style.display=a;h.setAttribute("aria-hidden",!d);for(i=0;i<b;i++){c[i].style.display=a;c[i].setAttribute("aria-hidden",!d);}if(p&&p.setTableHeaderVisibility){setTimeout(function(){p.setTableHeaderVisibility(d);},0);}};C.prototype.setDisplayViaMedia=function(t){var p=this.getParent(),d=this._media&&this._media.matches;if(!this.getDemandPopin()&&this._screen&&p&&p.setTableHeaderVisibility){setTimeout(function(){p.setTableHeaderVisibility(d);},0);}else{this.setDisplay(t,d);}};C.prototype.setVisible=function(v){if(v==this.getVisible()){return this;}var p=this.getParent(),t=p&&p.getTableDomRef&&p.getTableDomRef(),s=t&&this._index>=0;this.setProperty("visible",v,s);if(s){this.setDisplay(t,v);}return this;};C.prototype.setMinScreenWidth=function(w){var p=this.getParent();if(w==this.getMinScreenWidth()){return this;}this._validateMinWidth(w);this._clearMedia();this._minWidth=0;this._screen="";if(w){w=w.toLowerCase();var a=sap.m.ScreenSizes[w];if(a){this._screen=w;this._minWidth=a+"px";}else{this._isWidthPredefined(w);}if(p&&p.isActive()){this._addMedia();}else{this._bShouldAddMedia=true;}}return this.setProperty("minScreenWidth",w);};C.prototype.setDemandPopin=function(v){if(v==this.getDemandPopin()){return this;}if(!this.getMinScreenWidth()){return this.setProperty("demandPopin",v,true);}return this.setProperty("demandPopin",v);};C.prototype.isPopin=function(){if(!this.getDemandPopin()){return false;}if(this._media){return!this._media.matches;}return false;};C.prototype.isHidden=function(){if(this._media){return!this._media.matches;}if(this._screen&&this._minWidth){return parseFloat(this._minWidth)>window.innerWidth;}return false;};C.prototype.setLastValue=function(v){if(this.getMergeDuplicates()){this._lastValue=v;}return this;};C.prototype.clearLastValue=function(){return this.setLastValue(NaN);};C.prototype.getLastValue=function(){return this._lastValue;};C.prototype.onItemsRemoved=function(){this.clearLastValue();};return C;},true);
sap.ui.predefine('sap/m/ColumnListItem',['jquery.sap.global','sap/ui/core/Element','./ListItemBase','./library'],function(q,E,L,l){"use strict";var C=L.extend("sap.m.ColumnListItem",{metadata:{library:"sap.m",properties:{vAlign:{type:"sap.ui.core.VerticalAlign",group:"Appearance",defaultValue:sap.ui.core.VerticalAlign.Inherit}},defaultAggregation:"cells",aggregations:{cells:{type:"sap.ui.core.Control",multiple:true,singularName:"cell",bindable:"bindable"}}}});var T=E.extend("sap.m.TablePopin",{onfocusin:function(e){if(e.srcControl===this||!q(e.target).is(":sapFocusable")){this.getParent().focus();}}});C.prototype.init=function(){L.prototype.init.call(this);this._bNeedsTypeColumn=false;this._aClonedHeaders=[];};C.prototype.onAfterRendering=function(){L.prototype.onAfterRendering.call(this);this._checkTypeColumn();};C.prototype.exit=function(){L.prototype.exit.call(this);this._checkTypeColumn(false);this._destroyClonedHeaders();if(this._oPopin){this._oPopin.destroy(true);this._oPopin=null;}};C.prototype.setVisible=function(v){L.prototype.setVisible.call(this,v);if(!v&&this.hasPopin()){this.removePopin();}return this;};C.prototype.getTable=function(){var p=this.getParent();if(p instanceof sap.m.Table){return p;}if(p&&p.getMetadata().getName()=="sap.m.Table"){return p;}};C.prototype.getPopin=function(){if(!this._oPopin){this._oPopin=new T({id:this.getId()+"-sub"}).addEventDelegate({ontouchstart:this.ontouchstart,ontouchmove:this.ontouchmove,ontap:this.ontap,ontouchend:this.ontouchend,ontouchcancel:this.ontouchcancel,onsaptabnext:this.onsaptabnext,onsaptabprevious:this.onsaptabprevious,onsapup:this.onsapup,onsapdown:this.onsapdown},this).setParent(this,null,true);}return this._oPopin;};C.prototype.$Popin=function(){return this.$("sub");};C.prototype.hasPopin=function(){return!!(this._oPopin&&this.getTable().hasPopin());};C.prototype.removePopin=function(){this._oPopin&&this.$Popin().remove();};C.prototype.getTabbables=function(){return this.$().add(this.$Popin()).find(":sapTabbable");};C.prototype.getAccessibilityType=function(b){return b.getText("ACC_CTR_TYPE_ROW");};C.prototype.getContentAnnouncement=function(b){var t=this.getTable();if(!t){return;}var a="",c=this.getCells(),d=t.getColumns(true);d.forEach(function(o){var e=c[o.getInitialOrder()];if(!e||!o.getVisible()||(o.isHidden()&&!o.isPopin())){return;}var h=o.getHeader();if(h&&h.getVisible()){a+=L.getAccessibilityText(h)+" ";}a+=L.getAccessibilityText(e,true)+" ";});return a;};C.prototype.updateSelectedDOM=function(s,t){L.prototype.updateSelectedDOM.apply(this,arguments);if(this.hasPopin()){this.$Popin().attr("aria-selected",s);}};C.prototype._checkTypeColumn=function(n){if(n==undefined){n=this._needsTypeColumn();}if(this._bNeedsTypeColumn!=n){this._bNeedsTypeColumn=n;this.informList("TypeColumnChange",n);}};C.prototype._needsTypeColumn=function(){var t=this.getType(),m=sap.m.ListType;return this.getVisible()&&(t==m.Detail||t==m.Navigation||t==m.DetailAndActive);};C.prototype._addClonedHeader=function(h){return this._aClonedHeaders.push(h);};C.prototype._destroyClonedHeaders=function(){if(this._aClonedHeaders.length){this._aClonedHeaders.forEach(function(c){c.destroy("KeepDom");});this._aClonedHeaders=[];}};C.prototype._activeHandlingInheritor=function(){this._toggleActiveClass(true);};C.prototype._inactiveHandlingInheritor=function(){this._toggleActiveClass(false);};C.prototype._toggleActiveClass=function(s){if(this.hasPopin()){this.$Popin().toggleClass("sapMLIBActive",s);}};return C;},true);
sap.ui.predefine('sap/m/ColumnListItemRenderer',['jquery.sap.global','./ListItemBaseRenderer','./ListRenderer','sap/ui/core/Renderer'],function(q,L,a,R){"use strict";var C=R.extend(L);C.isTextualControl=function(c){var m=[sap.m.Text,sap.m.Label,sap.m.Link,sap.m.Title];return m.some(function(f){return f&&c instanceof f;});};C.render=function(r,l){var t=l.getTable();if(!t){return;}L.render.apply(this,arguments);if(l.getVisible()&&t.hasPopin()){this.renderPopin(r,l,t);}};C.openItemTag=function(r,l){r.write("<tr");};C.closeItemTag=function(r,l){r.write("</tr>");};C.renderHighlight=function(r,l){r.write('<td class="sapMListTblHighlightCell" aria-hidden="true">');L.renderHighlight.apply(this,arguments);r.write('</td>');};C.renderType=function(r,l){r.write('<td class="sapMListTblNavCol" aria-hidden="true">');L.renderType.apply(this,arguments);r.write('</td>');};C.renderModeContent=function(r,l){r.write('<td class="sapMListTblSelCol" aria-hidden="true">');L.renderModeContent.apply(this,arguments);r.write('</td>');};C.renderCounter=function(r,l){};C.getAriaRole=function(l){return"";};C.renderLIAttributes=function(r,l){r.addClass("sapMListTblRow");var A=l.getVAlign();if(A!=sap.ui.core.VerticalAlign.Inherit){r.addClass("sapMListTblRow"+A);}};C.renderLIContentWrapper=function(r,l){var t=l.getTable();if(!t){return;}var c=t.getColumns(true),b=l.getCells();l._destroyClonedHeaders();c.forEach(function(o,i){var d,h,e=true,f=b[o.getInitialOrder()];if(!f||!o.getVisible()||o.isPopin()){o.setIndex(-1);return;}r.write("<td");r.addClass("sapMListTblCell");r.writeAttribute("id",l.getId()+"_cell"+i);if(o){d=o.getStyleClass(true);d&&r.addClass(q.sap.encodeHTML(d));h=o.getHeader();if(h){r.writeAttribute("headers",h.getId());}if(!t.hasPopin()&&o.getMergeDuplicates()){var F=o.getMergeFunctionName(),g=F.split("#"),s=g[1],j=g[0];if(typeof f[j]!="function"){q.sap.log.warning("mergeFunctionName property is defined on "+o+" but this is not function of "+f);}else{var k=o.getLastValue(),m=f[j](s);if(k===m){e=sap.ui.getCore().getConfiguration().getAccessibility();f.addStyleClass("sapMListTblCellDupCnt");r.addClass("sapMListTblCellDup");}else{o.setLastValue(m);}}}o.getVAlign()!="Inherit"&&r.addStyle("vertical-align",o.getVAlign().toLowerCase());var A=o.getCssAlign();if(A){r.addStyle("text-align",A);}r.writeStyles();}r.writeClasses();r.write(">");if(e){this.applyAriaLabelledBy(h,f);r.renderControl(o.applyAlignTo(f));}r.write("</td>");},this);};C.applyAriaLabelledBy=function(h,c){if(c){c.removeAssociation("ariaLabelledBy",c.data("ariaLabelledBy")||undefined,true);}if(h&&c.getAriaLabelledBy&&this.isTextualControl(h)){c.addAssociation("ariaLabelledBy",h,true);c.data("ariaLabelledBy",h.getId());}};C.renderPopin=function(r,l,t){l.removePopin();r.write("<tr");r.addClass("sapMListTblSubRow");r.writeElementData(l.getPopin());r.writeAttribute("tabindex","-1");if(l.isSelectable()){r.writeAttribute("aria-selected",l.getSelected());}r.writeClasses();r.write(">");this.renderHighlight(r,l);r.write("<td");r.writeAttribute("id",l.getId()+"-subcell");r.writeAttribute("colspan",t.getColCount()-1);r.write("><div class='sapMListTblSubCnt'>");var c=l.getCells(),b=t.getColumns(true);b.forEach(function(o){if(!o.getVisible()||!o.isPopin()){return;}var d=c[o.getInitialOrder()],h=o.getHeader();if(!h&&!d){return;}var s=o.getStyleClass(),p=o.getPopinDisplay();r.write("<div");r.addClass("sapMListTblSubCntRow");s&&r.addClass(q.sap.encodeHTML(s));r.writeClasses();r.write(">");if(h&&p!=sap.m.PopinDisplay.WithoutHeader){r.write("<div");r.addClass("sapMListTblSubCntHdr");r.writeClasses();r.write(">");h=h.clone();o.addDependent(h);l._addClonedHeader(h);o.applyAlignTo(h,"Begin");r.renderControl(h);r.write("</div>");r.write("<div class='sapMListTblSubCntSpr'>:</div>");}if(d){r.write("<div");r.addClass("sapMListTblSubCntVal");r.addClass("sapMListTblSubCntVal"+p);r.writeClasses();r.write(">");o.applyAlignTo(d,"Begin");this.applyAriaLabelledBy(h,d);r.renderControl(d);r.write("</div>");}r.write("</div>");},this);r.write("</div></td></tr>");};C.addLegacyOutlineClass=function(r,l){};return C;},true);
sap.ui.predefine('sap/m/ComboBox',['jquery.sap.global','./ComboBoxTextField','./ComboBoxBase','./ComboBoxRenderer','./Popover','./SelectList','./Dialog','./Toolbar','./Button','./library','sap/ui/Device'],function(q,C,a,b,P,S,D,T,B,l,c){"use strict";var d=a.extend("sap.m.ComboBox",{metadata:{library:"sap.m",properties:{selectedKey:{type:"string",group:"Data",defaultValue:""},selectedItemId:{type:"string",group:"Misc",defaultValue:""},showSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false},filterSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false}},events:{selectionChange:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}}}}});function h(o,i){if(!i){return;}var e=o.getFocusDomRef(),g=e.selectionStart,j=e.selectionEnd,I=g!==j,t=e.value.substring(0,e.selectionStart),k=this.getSelectedItem();if(i!==k){o.updateDomValue(i.getText());this.setSelection(i);this.fireSelectionChange({selectedItem:i});i=this.getSelectedItem();if(!q.sap.startsWithIgnoreCase(i.getText(),t)||!I){g=0;}o.selectText(g,e.value.length);}this.scrollToItem(i);}function s(i,e){if(document.activeElement===this.getFocusDomRef()){this.selectText(i,e);}}function f(i){var I=this.getSelectedItem(),o=I&&I.getDomRef(),e=I&&o.offsetTop,g=I&&o.offsetHeight,p=this.getPicker(),j=p.getDomRef("cont"),k=j.clientHeight;if(I&&((e+g)>(k))){if(!i){this.getList().$().css("visibility","hidden");}else{j.scrollTop=e-g/2;this.getList().$().css("visibility","visible");}}}d.prototype._handleAriaActiveDescendant=function(i){var o=this.getFocusDomRef(),A="aria-activedescendant";if(o){if(i&&i.getDomRef()&&this.isOpen()){o.setAttribute(A,i.getId());}else{o.removeAttribute(A);}}};d.prototype._getSelectedItemText=function(i){i=i||this.getSelectedItem();if(!i){i=this.getDefaultSelectedItem();}if(i){return i.getText();}return"";};d.prototype._callMethodInControl=function(F,A){var L=this.getList();if(A[0]==="items"){if(L){return S.prototype[F].apply(L,A);}}else{return a.prototype[F].apply(this,A);}};d.prototype._setItemVisibility=function(i,v){var o=i&&i.$(),e="sapMSelectListItemBaseInvisible";if(v){i.bVisible=true;o.length&&o.removeClass(e);}else{i.bVisible=false;o.length&&o.addClass(e);}};d.prototype.setSelectedIndex=function(i,_){var I;_=_||this.getItems();i=(i>_.length-1)?_.length-1:Math.max(0,i);I=_[i];if(I){this.setSelection(I);}};d.prototype.createDropdown=function(){var t=this;var p=new P({placement:sap.m.PlacementType.VerticalPreferredBottom,offsetX:0,offsetY:0,initialFocus:this,bounce:false,showArrow:false,ariaLabelledBy:this.getPickerInvisibleTextId()||undefined});p.open=function(){return this.openBy(t);};return p;};d.prototype.createPickerTextField=function(){var t=new C({width:"100%",showValueStateMessage:false,showButton:false}).addEventDelegate({onsapenter:function(){this.updateDomValue(t.getValue());this.onChange();}},this);return t;};d.prototype.revertSelection=function(){var p,o=this.getPickerTextField();this.setSelectedItem(this._oSelectedItemBeforeOpen);this.setValue(this._sValueBeforeOpen);if(this.getSelectedItem()===null){p=this._sValueBeforeOpen;}else{p=this._oSelectedItemBeforeOpen.getText();}o&&o.setValue(p);};d.prototype.filterItems=function(o,I){var p=o.properties,v=o.value,e=v==="",m=false,t=false,M=[],F=[],g=null;this._oFirstItemTextMatched=null;p.forEach(function(k){M.push("get"+k.charAt(0).toUpperCase()+k.slice(1));});I=I||this.getItems();for(var i=0;i<I.length;i++){g=I[i];m=e;for(var j=0;j<M.length;j++){if(q.sap.startsWithIgnoreCase(g[M[j]](),v)){m=true;if(M[j]==="getText"){t=true;}}}if(m){F.push(g);}if(!this._oFirstItemTextMatched&&t){this._oFirstItemTextMatched=g;}this._setItemVisibility(g,m);}return F;};d.prototype._getFilters=function(){return this.getFilterSecondaryValues()?["text","additionalText"]:["text"];};d.prototype.init=function(){a.prototype.init.apply(this,arguments);this.bOpenValueStateMessage=true;this._sValueBeforeOpen="";this._oSelectedItemBeforeOpen=null;this._oFirstItemTextMatched=null;};d.prototype.onBeforeRendering=function(){a.prototype.onBeforeRendering.apply(this,arguments);this.synchronizeSelection();};d.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._oSelectedItemBeforeOpen=null;this._oFirstItemTextMatched=null;};d.prototype.onBeforeRenderingPicker=function(){var o=this["onBeforeRendering"+this.getPickerType()];o&&o.call(this);};d.prototype.onBeforeRenderingDropdown=function(){var p=this.getPicker(),w=(this.$().outerWidth()/parseFloat(sap.m.BaseFontSize))+"rem";if(p){p.setContentMinWidth(w);}};d.prototype.onBeforeRenderingList=function(){if(this.bProcessingLoadItemsEvent){var L=this.getList(),F=this.getFocusDomRef();if(L){L.setBusy(true);}if(F){F.setAttribute("aria-busy","true");}}};d.prototype.onAfterRenderingPicker=function(){var o=this["onAfterRendering"+this.getPickerType()];o&&o.call(this);f.call(this,false);};d.prototype.onAfterRenderingList=function(){if(this.bProcessingLoadItemsEvent&&(this.getItems().length===0)){return;}var L=this.getList(),F=this.getFocusDomRef();if(L){L.setBusy(false);}if(F){F.removeAttribute("aria-busy");}};d.prototype.oninput=function(e){a.prototype.oninput.apply(this,arguments);if(e.isMarked("invalid")){return;}var t=(this.getPickerType()==="Dropdown");this.loadItems(function(){var o=this.getSelectedItem(),v=e.target.value,E=v==="",g=e.srcControl,V;if(E&&!this.bOpenedByKeyboardOrButton){V=this.getItems();}else{V=this.filterItems({properties:this._getFilters(),value:v});}var i=!!V.length;var F=V[0];var j=(F&&q.sap.startsWithIgnoreCase(F.getText(),v));var k=this.getFilterSecondaryValues();if(!E&&F&&F.getEnabled()){if(g._bDoTypeAhead){if(k&&this._oFirstItemTextMatched){g.updateDomValue(this._oFirstItemTextMatched.getText()+" ("+this._oFirstItemTextMatched.getAdditionalText()+")");this.setSelection(this._oFirstItemTextMatched);}else if(k){if(j){g.updateDomValue(F.getText()+" ("+F.getAdditionalText()+")");}else{g.updateDomValue(F.getAdditionalText()+" ("+F.getText()+")");}this.setSelection(F);}else{g.updateDomValue(F.getText());this.setSelection(F);}}if(o!==this.getSelectedItem()){this.fireSelectionChange({selectedItem:this.getSelectedItem()});}if(g._bDoTypeAhead){setTimeout(s.bind(g,v.length,g.getValue().length),0);}}if(E||!i){this.setSelection(null);if(o!==this.getSelectedItem()){this.fireSelectionChange({selectedItem:this.getSelectedItem()});}}if(i){if(E&&!this.bOpenedByKeyboardOrButton){this.close();}else if(t){this.open();this.scrollToItem(this.getSelectedItem());}}else if(this.isOpen()){if(t&&!this.bOpenedByKeyboardOrButton){this.close();}}else{this.clearFilter();}},{name:"input",busyIndicator:false});if(this.bProcessingLoadItemsEvent&&t){this.open();}};d.prototype.onSelectionChange=function(o){var i=o.getParameter("selectedItem");this.setSelection(i);this.fireSelectionChange({selectedItem:this.getSelectedItem()});this.onChange();};d.prototype.onItemPress=function(o){var i=o.getParameter("item");this.updateDomValue(i.getText());this.close();this.setProperty("value",i.getText(),true);setTimeout(this.selectText.bind(this,this.getValue().length,this.getValue().length),0);};d.prototype.onBeforeOpen=function(){var p=this["onBeforeOpen"+this.getPickerType()],o=this.getFocusDomRef();if(this.hasLoadItemsEventListeners()&&!this.bProcessingLoadItemsEvent){this.loadItems();}this.addStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Pressed");if(o){o.setAttribute("aria-owns",this.getList().getId());}this.addContent();p&&p.call(this);};d.prototype.onBeforeOpenDropdown=function(){};d.prototype.onBeforeOpenDialog=function(){var p=this.getPickerTextField();this._oSelectedItemBeforeOpen=this.getSelectedItem();this._sValueBeforeOpen=this.getValue();if(this.getSelectedItem()){this.filterItems({properties:this._getFilters(),value:""});}p.setValue(this._sValueBeforeOpen);};d.prototype.onAfterOpen=function(){var o=this.getFocusDomRef(),i=this.getSelectedItem();if(o){o.setAttribute("aria-expanded","true");i&&o.setAttribute("aria-activedescendant",i.getId());}f.call(this,true);};d.prototype.onBeforeClose=function(){a.prototype.onBeforeClose.apply(this,arguments);var o=this.getFocusDomRef();if(o){o.removeAttribute("aria-owns");o.removeAttribute("aria-activedescendant");}this.removeStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Pressed");};d.prototype.onAfterClose=function(){var o=this.getFocusDomRef();if(o){o.setAttribute("aria-expanded","false");}this.clearFilter();if(this.shouldValueStateMessageBeOpened()&&(document.activeElement===o)){this.openValueStateMessage();}};d.prototype.onItemChange=function(o){var e=this.getAssociation("selectedItem"),n=o.getParameter("newValue"),p=o.getParameter("name");if(e===o.getParameter("id")){switch(p){case"text":if(!this.isBound("value")){this.setValue(n);}break;case"key":if(!this.isBound("selectedKey")){this.setSelectedKey(n);}break;}}};d.prototype.onkeydown=function(e){var o=e.srcControl;a.prototype.onkeydown.apply(o,arguments);if(!o.getEnabled()||!o.getEditable()){return;}var k=q.sap.KeyCodes;o._bDoTypeAhead=(e.which!==k.BACKSPACE)&&(e.which!==k.DELETE);};d.prototype.oncut=function(e){var o=e.srcControl;a.prototype.oncut.apply(o,arguments);o._bDoTypeAhead=false;};d.prototype.onsapenter=function(e){var o=e.srcControl,i=o.getSelectedItem();if(i&&this.getFilterSecondaryValues()){o.updateDomValue(i.getText());}a.prototype.onsapenter.apply(o,arguments);if(!o.getEnabled()||!o.getEditable()){return;}if(o.isOpen()){o.close();}};d.prototype.onsapdown=function(e){var o=e.srcControl;if(!o.getEnabled()||!o.getEditable()){return;}e.setMarked();e.preventDefault();this.loadItems(function navigateToNextSelectableItem(){var g=this.getSelectableItems();var n=g[g.indexOf(this.getSelectedItem())+1];h.call(this,o,n);});};d.prototype.onsapup=function(e){var o=e.srcControl;if(!o.getEnabled()||!o.getEditable()){return;}e.setMarked();e.preventDefault();this.loadItems(function navigateToPrevSelectableItem(){var g=this.getSelectableItems();var p=g[g.indexOf(this.getSelectedItem())-1];h.call(this,o,p);});};d.prototype.onsaphome=function(e){var o=e.srcControl;if(!o.getEnabled()||!o.getEditable()){return;}e.setMarked();e.preventDefault();this.loadItems(function navigateToFirstSelectableItem(){var F=this.getSelectableItems()[0];h.call(this,o,F);});};d.prototype.onsapend=function(e){var o=e.srcControl;if(!o.getEnabled()||!o.getEditable()){return;}e.setMarked();e.preventDefault();this.loadItems(function navigateToLastSelectableItem(){var L=this.findLastEnabledItem(this.getSelectableItems());h.call(this,o,L);});};d.prototype.onsappagedown=function(e){var o=e.srcControl;if(!o.getEnabled()||!o.getEditable()){return;}e.setMarked();e.preventDefault();this.loadItems(function(){var g=this.getSelectableItems(),i=g.indexOf(this.getSelectedItem())+10,I;i=(i>g.length-1)?g.length-1:Math.max(0,i);I=g[i];h.call(this,o,I);});};d.prototype.onsappageup=function(e){var o=e.srcControl;if(!o.getEnabled()||!o.getEditable()){return;}e.setMarked();e.preventDefault();this.loadItems(function(){var g=this.getSelectableItems(),i=g.indexOf(this.getSelectedItem())-10,I;i=(i>g.length-1)?g.length-1:Math.max(0,i);I=g[i];h.call(this,o,I);});};d.prototype.onfocusin=function(e){var g=this.getPickerType()==="Dropdown";if(e.target===this.getOpenArea()){this.bOpenValueStateMessage=false;if(g){this.focus();}}else{if(g){setTimeout(function(){if(document.activeElement===this.getFocusDomRef()&&!this.bFocusoutDueRendering&&!this.getSelectedText()){this.selectText(0,this.getValue().length);}}.bind(this),0);}if(!this.isOpen()&&this.bOpenValueStateMessage&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage();}this.bOpenValueStateMessage=true;}this.$().addClass("sapMFocus");};d.prototype.onsapfocusleave=function(e){var t,p,r,F,n,o=e.srcControl,i=o.getSelectedItem();if(i&&this.getFilterSecondaryValues()){o.updateDomValue(i.getText());}a.prototype.onsapfocusleave.apply(this,arguments);if(this.isPickerDialog()){return;}p=this.getAggregation("picker");if(!e.relatedControlId||!p){return;}n=!c.system.combi;t=c.system.tablet&&n;r=sap.ui.getCore().byId(e.relatedControlId);F=r&&r.getFocusDomRef();if(q.sap.containsOrEquals(p.getFocusDomRef(),F)&&!t){this.focus();}};d.prototype.setSelection=function(i){var L=this.getList(),k;if(L){L.setSelection(i);}this.setAssociation("selectedItem",i,true);this.setProperty("selectedItemId",(i instanceof sap.ui.core.Item)?i.getId():i,true);if(typeof i==="string"){i=sap.ui.getCore().byId(i);}k=i?i.getKey():"";this.setProperty("selectedKey",k,true);this._handleAriaActiveDescendant(i);this.toggleStyleClass(this.getRenderer().CSS_CLASS_COMBOBOX+"SelectionActive",!!k);};d.prototype.isSelectionSynchronized=function(){var i=this.getSelectedItem();return this.getSelectedKey()===(i&&i.getKey());};d.prototype.synchronizeSelection=function(){if(this.isSelectionSynchronized()){return;}var k=this.getSelectedKey(),i=this.getItemByKey(""+k);if(i&&(k!=="")){this.setAssociation("selectedItem",i,true);this.setProperty("selectedItemId",i.getId(),true);if(this._sValue===this.getValue()){this.setValue(i.getText());this._sValue=this.getValue();}}};d.prototype.isFiltered=function(){var L=this.getList();return L&&(L.getVisibleItems().length!==L.getItems().length);};d.prototype.isItemVisible=function(i){return i&&(i.bVisible===undefined||i.bVisible);};d.prototype.createPicker=function(p){var o=this.getAggregation("picker");if(o){return o;}o=this["create"+p]();this.setAggregation("picker",o,true);var e=this.getRenderer().CSS_CLASS_COMBOBOXBASE;o.setHorizontalScrolling(false).addStyleClass(e+"Picker").addStyleClass(e+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this).addContent(this.createList());return o;};d.prototype.createList=function(){var r=this.getRenderer();this._oList=new S({width:"100%",busyIndicatorDelay:0}).addStyleClass(r.CSS_CLASS_COMBOBOXBASE+"List").addStyleClass(r.CSS_CLASS_COMBOBOX+"List").addEventDelegate({ontap:function(e){this.close();},onBeforeRendering:this.onBeforeRenderingList,onAfterRendering:this.onAfterRenderingList},this).attachSelectionChange(this.onSelectionChange,this).attachItemPress(this.onItemPress,this);return this._oList;};d.prototype.isItemSelected=function(i){return i&&(i.getId()===this.getAssociation("selectedItem"));};d.prototype.getDefaultSelectedItem=function(){return null;};d.prototype.clearSelection=function(){this.setSelection(null);};d.prototype.selectText=function(i,e){a.prototype.selectText.apply(this,arguments);this.textSelectionStart=i;this.textSelectionEnd=e;return this;};d.prototype.addAggregation=function(A,o,e){this._callMethodInControl("addAggregation",arguments);if(A==="items"&&!e&&!this.isInvalidateSuppressed()){this.invalidate(o);}return this;};d.prototype.getAggregation=function(){return this._callMethodInControl("getAggregation",arguments);};d.prototype.setAssociation=function(A,i,e){var L=this.getList();if(L&&(A==="selectedItem")){S.prototype.setAssociation.apply(L,arguments);}return a.prototype.setAssociation.apply(this,arguments);};d.prototype.indexOfAggregation=function(){return this._callMethodInControl("indexOfAggregation",arguments);};d.prototype.insertAggregation=function(){this._callMethodInControl("insertAggregation",arguments);return this;};d.prototype.removeAggregation=function(){return this._callMethodInControl("removeAggregation",arguments);};d.prototype.removeAllAggregation=function(){return this._callMethodInControl("removeAllAggregation",arguments);};d.prototype.destroyAggregation=function(A,e){this._callMethodInControl("destroyAggregation",arguments);return this;};d.prototype.setProperty=function(p,v,e){var L=this.getList();if(/selectedKey|selectedItemId/.test(p)){L&&S.prototype.setProperty.apply(L,arguments);}return a.prototype.setProperty.apply(this,arguments);};d.prototype.removeAllAssociation=function(A,e){var L=this.getList();if(L&&(A==="selectedItem")){S.prototype.removeAllAssociation.apply(L,arguments);}return a.prototype.removeAllAssociation.apply(this,arguments);};d.prototype.clone=function(I){var o=a.prototype.clone.apply(this,arguments),L=this.getList();if(!this.isBound("items")&&L){for(var i=0,e=L.getItems();i<e.length;i++){o.addItem(e[i].clone());}o.setSelectedIndex(this.indexOfItem(this.getSelectedItem()));}return o;};d.prototype.findAggregatedObjects=function(){var L=this.getList();if(L){return S.prototype.findAggregatedObjects.apply(L,arguments);}return[];};d.prototype.setShowSecondaryValues=function(A){this.setProperty("showSecondaryValues",A,true);var L=this.getList();if(L){L.setShowSecondaryValues(A);}return this;};d.prototype.getItems=function(){var L=this.getList();return L?L.getItems():[];};d.prototype.setSelectedItem=function(i){if(typeof i==="string"){this.setAssociation("selectedItem",i,true);i=sap.ui.getCore().byId(i);}if(!(i instanceof sap.ui.core.Item)&&i!==null){return this;}if(!i){i=this.getDefaultSelectedItem();}this.setSelection(i);this.setValue(this._getSelectedItemText(i));return this;};d.prototype.setSelectedItemId=function(i){i=this.validateProperty("selectedItemId",i);if(!i){i=this.getDefaultSelectedItem();}this.setSelection(i);i=this.getSelectedItem();this.setValue(this._getSelectedItemText(i));return this;};d.prototype.setSelectedKey=function(k){k=this.validateProperty("selectedKey",k);var e=(k==="");if(e){this.setSelection(null);this.setValue("");return this;}var i=this.getItemByKey(k);if(i){this.setSelection(i);this.setValue(this._getSelectedItemText(i));return this;}this._sValue=this.getValue();return this.setProperty("selectedKey",k);};d.prototype.getSelectedItem=function(){var v=this.getAssociation("selectedItem");return(v===null)?null:sap.ui.getCore().byId(v)||null;};d.prototype.removeItem=function(i){i=a.prototype.removeItem.apply(this,arguments);var I;if(this.isBound("items")&&!this.bItemsUpdated){return i;}var v=this.getValue();if(this.getItems().length===0){this.clearSelection();}else if(this.isItemSelected(i)){I=this.getDefaultSelectedItem();this.setSelection(I);this.setValue(v);}return i;};return d;},true);
sap.ui.predefine('sap/m/ComboBoxBase',['jquery.sap.global','./Dialog','./ComboBoxTextField','./Toolbar','./Button','./Bar','./Text','./Title','./SelectList','./Popover','sap/ui/core/InvisibleText','sap/ui/core/IconPool','sap/ui/core/ValueStateSupport','./library'],function(q,D,C,T,B,a,b,c,S,P,I,d,V,l){"use strict";var e=C.extend("sap.m.ComboBoxBase",{metadata:{library:"sap.m",defaultAggregation:"items",aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable"},picker:{type:"sap.ui.core.PopupInterface",multiple:false,visibility:"hidden"}},events:{loadItems:{}}}});var p;e.prototype.updateItems=function(r){this.bItemsUpdated=false;this.destroyItems();this.updateAggregation("items");this.bItemsUpdated=true;if(this.hasLoadItemsEventListeners()){this.onItemsLoaded();}};e.prototype.refreshItems=function(){this.bItemsUpdated=false;this.refreshAggregation("items");};e.prototype.loadItems=function(f,o){var g=typeof f==="function";if(this.hasLoadItemsEventListeners()&&(this.getItems().length===0)){this._bOnItemsLoadedScheduled=false;if(g){o=q.extend({action:f,busyIndicator:true,busyIndicatorDelay:300},o);this.aMessageQueue.push(o);if((this.iLoadItemsEventInitialProcessingTimeoutID===-1)&&(o.busyIndicator)){this.iLoadItemsEventInitialProcessingTimeoutID=setTimeout(function onItemsNotLoadedAfterDelay(){this.setInternalBusyIndicatorDelay(0);this.setInternalBusyIndicator(true);}.bind(this),o.busyIndicatorDelay);}}if(!this.bProcessingLoadItemsEvent){this.bProcessingLoadItemsEvent=true;this.fireLoadItems();}}else if(g){f.call(this);}};e.prototype.onItemsLoaded=function(){this.bProcessingLoadItemsEvent=false;clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);if(this.bInitialBusyIndicatorState!==this.getBusy()){this.setInternalBusyIndicator(this.bInitialBusyIndicatorState);}if(this.iInitialBusyIndicatorDelay!==this.getBusyIndicatorDelay()){this.setInternalBusyIndicatorDelay(this.iInitialBusyIndicatorDelay);}for(var i=0,m,n,f;i<this.aMessageQueue.length;i++){m=this.aMessageQueue.shift();i--;f=(i+1)===this.aMessageQueue.length;n=f?null:this.aMessageQueue[i+1];if(typeof m.action==="function"){if((m.name==="input")&&!f&&(n.name==="input")){continue;}m.action.call(this);}}};e.prototype.hasLoadItemsEventListeners=function(){return this.hasListeners("loadItems");};e.prototype._scheduleOnItemsLoadedOnce=function(){if(!this._bOnItemsLoadedScheduled&&!this.isBound("items")&&this.hasLoadItemsEventListeners()&&this.bProcessingLoadItemsEvent){this._bOnItemsLoadedScheduled=true;setTimeout(this.onItemsLoaded.bind(this),0);}};e.prototype.getPickerInvisibleTextId=function(){if(!sap.ui.getCore().getConfiguration().getAccessibility()){return"";}var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(!p){p=new I({text:r.getText("COMBOBOX_AVAILABLE_OPTIONS")}).toStatic().getId();}return p;};e.prototype.init=function(){C.prototype.init.apply(this,arguments);this.setPickerType(sap.ui.Device.system.phone?"Dialog":"Dropdown");if(sap.ui.Device.system.phone){this.attachEvent("_change",this.onPropertyChange,this);}this.createPicker(this.getPickerType());this.bItemsUpdated=false;this.bOpenedByKeyboardOrButton=false;this._oPickerValueStateText=null;this.bProcessingLoadItemsEvent=false;this.iLoadItemsEventInitialProcessingTimeoutID=-1;this.aMessageQueue=[];this.bInitialBusyIndicatorState=this.getBusy();this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();this._bOnItemsLoadedScheduled=false;this._bDoTypeAhead=true;};e.prototype.onBeforeRendering=function(){var n=this.getValueState()===sap.ui.core.ValueState.None;C.prototype.onBeforeRendering.apply(this,arguments);if(!this.isPickerDialog()&&n){this._showValueStateText(false);}};e.prototype.exit=function(){C.prototype.exit.apply(this,arguments);if(this.getList()){this.getList().destroy();this._oList=null;}if(this._oPickerValueStateText){this._oPickerValueStateText.destroy();}clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);this.aMessageQueue=null;};e.prototype.ontouchstart=function(E){if(!this.getEnabled()||!this.getEditable()){return;}E.setMarked();if(this.isOpenArea(E.target)){this.addStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Pressed");}};e.prototype.ontouchend=function(E){if(!this.getEnabled()||!this.getEditable()){return;}E.setMarked();if(!this.isOpen()&&this.isOpenArea(E.target)){this.removeStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Pressed");}};e.prototype.ontap=function(E){C.prototype.ontap.apply(this,arguments);var f=this.getRenderer().CSS_CLASS_COMBOBOXBASE,o=E.srcControl;if(!this.getEnabled()||!this.getEditable()){return;}E.setMarked();if(o.isOpenArea&&o.isOpenArea(E.target)){if(this.isOpen()){this.close();this.removeStyleClass(f+"Pressed");return;}this.loadItems();this.bOpenedByKeyboardOrButton=true;this.open();}if(this.isOpen()){this.addStyleClass(f+"Pressed");}};e.prototype.onsapshow=function(E){if(!this.getEnabled()||!this.getEditable()){return;}E.setMarked();if(E.keyCode===q.sap.KeyCodes.F4){this.onF4(E);}if(this.isOpen()){this.close();return;}this.selectText(0,this.getValue().length);this.loadItems();this.bOpenedByKeyboardOrButton=true;this.open();};e.prototype.onF4=function(E){E.preventDefault();};e.prototype.onsapescape=function(E){if(this.getEnabled()&&this.getEditable()&&this.isOpen()){E.setMarked();E.preventDefault();this.close();}else{C.prototype.onsapescape.apply(this,arguments);}};e.prototype.onsaphide=e.prototype.onsapshow;e.prototype.onsapfocusleave=function(E){if(!E.relatedControlId){C.prototype.onsapfocusleave.apply(this,arguments);return;}var r=sap.ui.getCore().byId(E.relatedControlId);if(r===this){return;}var o=this.getAggregation("picker"),f=r&&r.getFocusDomRef();if(o&&q.sap.containsOrEquals(o.getFocusDomRef(),f)){return;}C.prototype.onsapfocusleave.apply(this,arguments);};e.prototype.getPopupAnchorDomRef=function(){return this.getDomRef();};e.prototype.addContent=function(o){};e.prototype.getList=function(){if(this.bIsDestroyed){return null;}return this._oList;};e.prototype.setPickerType=function(s){this._sPickerType=s;};e.prototype.getPickerType=function(){return this._sPickerType;};e.prototype.setValueState=function(v){var A,s=this.getValueStateText(),f=this.getShowValueStateMessage();this._sOldValueState=this.getValueState();C.prototype.setValueState.apply(this,arguments);A=V.getAdditionalText(this);if(s){this._showValueStateText(f);this._setValueStateText(s);}else if(v===sap.ui.core.ValueState.None){this._showValueStateText(false);}else{this._showValueStateText(f);this._setValueStateText(A);}this._alignValueStateStyles();return this;};e.prototype.setValueStateText=function(t){C.prototype.setValueStateText.apply(this,arguments);this._setValueStateText(this.getValueStateText());return this;};e.prototype.setShowValueStateMessage=function(s){C.prototype.setShowValueStateMessage.apply(this,arguments);this._showValueStateText(this.getShowValueStateMessage());return this;};e.prototype._showValueStateText=function(s){var o;if(this.isPickerDialog()){if(this._oPickerValueStateText){this._oPickerValueStateText.setVisible(s);}}else{o=this._getPickerCustomHeader();if(o){o.setVisible(s);}}};e.prototype._setValueStateText=function(t){var h;if(this.isPickerDialog()){this._oPickerValueStateText=this.getPickerValueStateText();this._oPickerValueStateText.setText(t);}else{h=this._getPickerCustomHeader();if(h){h.getContentLeft()[0].setText(t);}}};e.prototype._getPickerCustomHeader=function(){var i,o,f=this.getPicker(),s=this.getRenderer().CSS_CLASS_COMBOBOXBASE+"PickerTitle";if(!f){return;}if(f.getCustomHeader()){return f.getCustomHeader();}i=new c({textAlign:"Left"}).addStyleClass(s);o=new a({visible:false,contentLeft:i});f.setCustomHeader(o);return o;};e.prototype._alignValueStateStyles=function(){var o=this._sOldValueState,f=this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Picker",s=f+"ValueState",O=f+o+"State",g=f+this.getValueState()+"State",h;if(this.isPickerDialog()&&this._oPickerValueStateText){this._oPickerValueStateText.addStyleClass(s);this._oPickerValueStateText.removeStyleClass(O);this._oPickerValueStateText.addStyleClass(g);}else{h=this._getPickerCustomHeader();if(h){h.addStyleClass(s);h.removeStyleClass(O);h.addStyleClass(g);}}};e.prototype.shouldValueStateMessageBeOpened=function(){var s=C.prototype.shouldValueStateMessageBeOpened.apply(this,arguments);return(s&&!this.isOpen());};e.prototype.onPropertyChange=function(o,f){var n=o.getParameter("newValue"),s=o.getParameter("name"),m="set"+s.charAt(0).toUpperCase()+s.slice(1),g=(f&&f.srcControl)||this.getPickerTextField();if(/\bvalue\b|\benabled\b|\bname\b|\bplaceholder\b|\beditable\b|\btextAlign\b|\btextDirection\b|\bvalueState\b/.test(s)&&g&&(typeof g[m]==="function")){g[m](n);}};e.prototype.isPickerDialog=function(){return this.getPickerType()==="Dialog";};e.prototype.getPickerValueStateText=function(){var o=this.getPicker();if(!this._oPickerValueStateText){this._oPickerValueStateText=new b({width:"100%"});o.insertContent(this._oPickerValueStateText,0);}return this._oPickerValueStateText;};e.prototype.createPicker=function(s){};e.prototype.onBeforeClose=function(){this.bOpenedByKeyboardOrButton=false;};e.prototype.getPicker=function(){if(this.bIsDestroyed){return null;}return this.createPicker(this.getPickerType());};e.prototype.getPickerTextField=function(){var o=this.getPicker(),s=o.getSubHeader();return s&&s.getContent()[0]||null;};e.prototype.getPickerTitle=function(){var o=this.getPicker(),h=o&&o.getCustomHeader();if(this.isPickerDialog()&&h){return h.getContentMiddle()[0];}return null;};e.prototype.createDialog=function(){var t=this,o=this.createPickerTextField(),f=o._handleEvent;o._handleEvent=function(E){f.apply(this,arguments);if(/keydown|sapdown|sapup|saphome|sapend|sappagedown|sappageup|input/.test(E.type)){t._handleEvent(E);}};return new D({stretch:true,customHeader:t.createPickerHeader(),buttons:this.createPickerCloseButton(),subHeader:new T({content:o}),beforeOpen:function(){t.updatePickerHeaderTitle();},ariaLabelledBy:t.getPickerInvisibleTextId()||undefined});};e.prototype.createPickerHeader=function(){var t=this,i=d.getIconURI("decline");return new a({contentMiddle:new c(),contentRight:new B({icon:i,press:function(){t.close();t.revertSelection();}})});};e.prototype.revertSelection=function(){};e.prototype.updatePickerHeaderTitle=function(){var o=this.getPicker(),r=sap.ui.getCore().getLibraryResourceBundle("sap.m"),L,f;if(!o){return;}f=this.getLabels();if(f.length){L=f[0];if(L&&(typeof L.getText==="function")){this.getPickerTitle().setText(L.getText());}}else{this.getPickerTitle().setText(r.getText("COMBOBOX_PICKER_TITLE"));}};e.prototype.createPickerCloseButton=function(){var t=this,o,r=sap.ui.getCore().getLibraryResourceBundle("sap.m");return new B({text:r.getText("COMBOBOX_CLOSE_BUTTON"),press:function(){o=t.getPickerTextField();t.updateDomValue(o.getValue());t.onChange();t.close();}});};e.prototype.hasContent=function(){return this.getItems().length>0;};e.prototype.findFirstEnabledItem=function(i){var L=this.getList();return L?L.findFirstEnabledItem(i):null;};e.prototype.findLastEnabledItem=function(i){var L=this.getList();return L?L.findLastEnabledItem(i):null;};e.prototype.open=function(){var o=this.getPicker();if(o){o.open();}return this;};e.prototype.getVisibleItems=function(){var L=this.getList();return L?L.getVisibleItems():[];};e.prototype.isItemSelected=function(){};e.prototype.getKeys=function(f){f=f||this.getItems();for(var i=0,k=[];i<f.length;i++){k[i]=f[i].getKey();}return k;};e.prototype.getSelectableItems=function(){var L=this.getList();return L?L.getSelectableItems():[];};e.prototype.findItem=function(s,v){var L=this.getList();return L?L.findItem(s,v):null;};e.prototype.getItemByText=function(t){return this.findItem("text",t);};e.prototype.scrollToItem=function(i){var o=this.getPicker(),f=o.getDomRef("cont"),g=i&&i.getDomRef();if(!o||!f||!g){return;}var h=f.scrollTop,j=g.offsetTop,k=f.clientHeight,m=g.offsetHeight;if(h>j){f.scrollTop=j;}else if((j+m)>(h+k)){f.scrollTop=Math.ceil(j+m-k);}};e.prototype.clearFilter=function(){for(var i=0,f=this.getItems();i<f.length;i++){f[i].bVisible=true;}};e.prototype.onItemChange=function(o){};e.prototype.clearSelection=function(){};e.prototype.setInternalBusyIndicator=function(f){this.bInitialBusyIndicatorState=this.getBusy();return this.setBusy.apply(this,arguments);};e.prototype.setInternalBusyIndicatorDelay=function(i){this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();return this.setBusyIndicatorDelay.apply(this,arguments);};e.prototype.addItem=function(i){this.addAggregation("items",i);if(i){i.attachEvent("_change",this.onItemChange,this);}this._scheduleOnItemsLoadedOnce();return this;};e.prototype.insertItem=function(i,f){this.insertAggregation("items",i,f,true);if(i){i.attachEvent("_change",this.onItemChange,this);}this._scheduleOnItemsLoadedOnce();return this;};e.prototype.getItemAt=function(i){return this.getItems()[+i]||null;};e.prototype.getFirstItem=function(){return this.getItems()[0]||null;};e.prototype.getLastItem=function(){var i=this.getItems();return i[i.length-1]||null;};e.prototype.getEnabledItems=function(i){var L=this.getList();return L?L.getEnabledItems(i):[];};e.prototype.getItemByKey=function(k){var L=this.getList();return L?L.getItemByKey(k):null;};e.prototype.isOpen=function(){var o=this.getAggregation("picker");return!!(o&&o.isOpen());};e.prototype.close=function(){var o=this.getAggregation("picker");if(o){o.close();}return this;};e.prototype.removeItem=function(i){var L=this.getList();i=L?L.removeItem(i):null;if(i){i.detachEvent("_change",this.onItemChange,this);}return i;};e.prototype.removeAllItems=function(){var L=this.getList(),f=L?L.removeAllItems():[];this.clearSelection();for(var i=0;i<f.length;i++){f[i].detachEvent("_change",this.onItemChange,this);}return f;};e.prototype.destroyItems=function(){var L=this.getList();if(L){L.destroyItems();}return this;};return e;},true);
sap.ui.predefine('sap/m/ComboBoxBaseRenderer',['jquery.sap.global','./ComboBoxTextFieldRenderer','sap/ui/core/Renderer'],function(q,C,R){"use strict";var a=R.extend(C);a.CSS_CLASS_COMBOBOXBASE="sapMComboBoxBase";a.getAccessibilityState=function(c){var A=C.getAccessibilityState.call(this,c);A.expanded=c.isOpen();return A;};a.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);var b=a.CSS_CLASS_COMBOBOXBASE;r.addClass(b);if(!c.getEnabled()){r.addClass(b+"Disabled");}if(!c.getEditable()){r.addClass(b+"Readonly");}};a.addButtonClasses=function(r,c){C.addButtonClasses.apply(this,arguments);r.addClass(a.CSS_CLASS_COMBOBOXBASE+"Arrow");};return a;},true);
sap.ui.predefine('sap/m/ComboBoxRenderer',['jquery.sap.global','./ComboBoxBaseRenderer','sap/ui/core/Renderer'],function(q,C,R){"use strict";var a=R.extend(C);a.CSS_CLASS_COMBOBOX="sapMComboBox";a.addOuterClasses=function(r,c){C.addOuterClasses.apply(this,arguments);r.addClass(a.CSS_CLASS_COMBOBOX);};a.addInnerClasses=function(r,c){C.addInnerClasses.apply(this,arguments);r.addClass(a.CSS_CLASS_COMBOBOX+"Inner");};a.addButtonClasses=function(r,c){C.addButtonClasses.apply(this,arguments);r.addClass(a.CSS_CLASS_COMBOBOX+"Arrow");};a.addPlaceholderClasses=function(r,c){C.addPlaceholderClasses.apply(this,arguments);r.addClass(a.CSS_CLASS_COMBOBOX+"Placeholder");};return a;},true);
sap.ui.predefine('sap/m/ComboBoxTextField',['jquery.sap.global','./InputBase','./library','sap/ui/core/InvisibleText'],function(q,I,l,a){"use strict";var C=I.extend("sap.m.ComboBoxTextField",{metadata:{library:"sap.m",properties:{maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},showButton:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{_buttonLabelText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}}});C.prototype.init=function(){I.prototype.init.apply(this,arguments);var r,A;if(sap.ui.getCore().getConfiguration().getAccessibility()){r=sap.ui.getCore().getLibraryResourceBundle("sap.m");A=new a({text:r.getText("COMBOBOX_BUTTON")});this.setAggregation("_buttonLabelText",A,true);}};C.prototype.updateValueStateClasses=function(v,o){I.prototype.updateValueStateClasses.apply(this,arguments);var V=sap.ui.core.ValueState,b=this.getRenderer().CSS_CLASS_COMBOBOXTEXTFIELD,d=this.$();if(o!==V.None){d.removeClass(b+"State "+b+o);}if(v!==V.None){d.addClass(b+"State "+b+v);}};C.prototype.getOpenArea=function(){return this.getDomRef("arrow");};C.prototype.isOpenArea=function(d){var o=this.getOpenArea();return o&&o.contains(d);};C.prototype.onsapenter=function(e){I.prototype.onsapenter.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return;}e.setMarked();var v=this.getValue(),V=v.length;this.setValue(v);this.selectText(V,V);};C.prototype.bShowLabelAsPlaceholder=sap.ui.Device.browser.msie;C.prototype.getValue=function(){var d=this.getFocusDomRef();if(d){return d.value;}return this.getProperty("value");};C.prototype.getLabels=function(){var L=this.getAriaLabelledBy().map(function(s){return sap.ui.getCore().byId(s);});var o=sap.ui.require("sap/ui/core/LabelEnablement");if(o){L=L.concat(o.getReferencingLabels(this).map(function(s){return sap.ui.getCore().byId(s);}));}return L;};C.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef();};C.prototype.getAccessibilityInfo=function(){var i=I.prototype.getAccessibilityInfo.apply(this,arguments);i.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_COMBO");return i;};return C;},true);
sap.ui.predefine('sap/m/ComboBoxTextFieldRenderer',['jquery.sap.global','./InputBaseRenderer','sap/ui/core/Renderer'],function(q,I,R){"use strict";var C=R.extend(I);C.CSS_CLASS_COMBOBOXTEXTFIELD="sapMComboBoxTextField";C.writeInnerAttributes=function(r,c){r.writeAttribute("autocomplete","off");r.writeAttribute("autocorrect","off");r.writeAttribute("autocapitalize","off");r.writeAttribute("type","text");};C.writeOuterAttributes=function(r,c){if(sap.ui.getCore().getConfiguration().getAccessibility()){r.writeAttribute("role","combobox");}};C.getAriaRole=function(){};C.getAccessibilityState=function(c){var a=I.getAccessibilityState.call(this,c);a.autocomplete="both";return a;};C.addOuterStyles=function(r,c){r.addStyle("max-width",c.getMaxWidth());};C.addOuterClasses=function(r,c){var a=C.CSS_CLASS_COMBOBOXTEXTFIELD;r.addClass(a);if(!c.getEnabled()){r.addClass(a+"Disabled");}if(!c.getEditable()){r.addClass(a+"Readonly");}};C.addPaddingClass=q.noop;C.addInnerClasses=function(r,c){var a=C.CSS_CLASS_COMBOBOXTEXTFIELD;r.addClass(a+"Inner");if(!c.getEditable()){r.addClass(a+"InnerReadonly");}if(c.getShowButton()){r.addClass(a+"InnerWidthExtraPadding");}};C.addValueStateClasses=function(r,c){var a=C.CSS_CLASS_COMBOBOXTEXTFIELD;r.addClass(a+"State");r.addClass(a+c.getValueState());};C.writeInnerContent=function(r,c){if(c.getShowButton()){this.renderButton(r,c);}};C.renderButton=function(r,c){var i=c.getId(),b=i+"-arrow",a=sap.ui.getCore().getConfiguration().getAccessibility(),A=c.getAggregation("_buttonLabelText");r.write('<span tabindex="-1" ');r.writeAttribute("id",b);if(a){r.writeAttribute("role","button");r.writeAttribute("aria-labelledby",A.getId());}this.addButtonClasses(r,c);r.writeClasses();r.write(">");a&&r.renderControl(A);r.write("</span>");};C.addButtonClasses=function(r,c){var a=C.CSS_CLASS_COMBOBOXTEXTFIELD+"Arrow";r.addClass(a);if(!c.getEnabled()){r.addClass(a+"Disabled");}};return C;},true);
sap.ui.predefine('sap/m/CustomListItem.designtime',[],function(){"use strict";return{aggregations:{content:{domRef:":sap-domref"}}};},false);
sap.ui.predefine('sap/m/CustomListItem',['jquery.sap.global','./ListItemBase','./library'],function(q,L,l){"use strict";var C=L.extend("sap.m.CustomListItem",{metadata:{library:"sap.m",defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",bindable:"bindable"}},designTime:true}});C.prototype.getAccessibilityInfo=function(){var a=L.prototype.getAccessibilityInfo.call(this);a.children=this.getContent();return a;};return C;},true);
sap.ui.predefine('sap/m/CustomListItemRenderer',['jquery.sap.global','./ListItemBaseRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var C=R.extend(L);C.renderLIAttributes=function(r,l){r.addClass("sapMCLI");};C.renderLIContent=function(r,l){var c=l.getContent();var a=c.length;for(var i=0;i<a;i++){r.renderControl(c[i]);}};return C;},true);
sap.ui.predefine('sap/m/CustomTile.designtime',[],function(){"use strict";return{aggregations:{content:{domRef:":sap-domref"}}};},false);
sap.ui.predefine('sap/m/CustomTile',['jquery.sap.global','./Tile','./library'],function(q,T,l){"use strict";var C=T.extend("sap.m.CustomTile",{metadata:{library:"sap.m",defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:false}},designTime:true}});return C;},true);
sap.ui.predefine('sap/m/CustomTileRenderer',['jquery.sap.global','./TileRenderer'],function(q,T){"use strict";var C=sap.ui.core.Renderer.extend(T);C.render=function(r,c){r.write("<div tabindex=\"0\"");r.writeControlData(c);r.addClass("sapMCustomTile");r.writeClasses();if(c._invisible){r.addStyle("visibility","hidden");r.writeStyles();}if(c.getParent()instanceof sap.m.TileContainer){r.writeAccessibilityState({role:"option",posinset:c._getTileIndex(),setsize:c._getTilesCount()});}r.write(">");r.write("<div id=\""+c.getId()+"-remove\" class=\"sapMTCRemove\"></div>");r.write("<div class=\"sapMCustomTileContent\">");this._renderContent(r,c);r.write("</div></div>");};C._renderContent=function(r,t){r.renderControl(t.getContent());};return C;},true);
sap.ui.predefine('sap/m/DatePicker.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},reveal:{changeType:"unhideControl"}},name:{singular:"DATEPICKER_NAME",plural:"DATEPICKER_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/DatePicker',['jquery.sap.global','sap/ui/Device','./InputBase','sap/ui/model/type/Date','sap/ui/core/date/UniversalDate','./library','sap/ui/unified/calendar/CalendarUtils'],function(q,D,I,a,U,l,C){"use strict";var b=I.extend("sap.m.DatePicker",{metadata:{library:"sap.m",properties:{displayFormat:{type:"string",group:"Appearance",defaultValue:null},valueFormat:{type:"string",group:"Data",defaultValue:null},dateValue:{type:"object",group:"Data",defaultValue:null},displayFormatType:{type:"string",group:"Appearance",defaultValue:""},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance",defaultValue:null},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null}},aggregations:{specialDates:{type:"sap.ui.core.Element",multiple:true,singularName:"specialDate"}},associations:{legend:{type:"sap.ui.core.Control",multiple:false}},events:{navigate:{parameters:{dateRange:{type:"sap.ui.unified.DateRange"}}}},designTime:true}});b.prototype.init=function(){I.prototype.init.apply(this,arguments);this._bIntervalSelection=false;this._bOnlyCalendar=true;this._bValid=true;this._oMinDate=new Date(1,0,1);this._oMinDate.setFullYear(1);this._oMaxDate=new Date(9999,11,31,23,59,59,99);};b.prototype.exit=function(){I.prototype.exit.apply(this,arguments);if(this._oPopup){if(this._oPopup.isOpen()){this._oPopup.close();}delete this._oPopup;}if(this._oCalendar){this._oCalendar.destroy();delete this._oCalendar;}if(this._iInvalidateCalendar){q.sap.clearDelayedCall(this._iInvalidateCalendar);}this._sUsedDisplayPattern=undefined;this._sUsedDisplayCalendarType=undefined;this._oDisplayFormat=undefined;this._sUsedValuePattern=undefined;this._sUsedValueCalendarType=undefined;this._oValueFormat=undefined;};b.prototype.invalidate=function(o){if(!o||o!=this._oCalendar){sap.ui.core.Control.prototype.invalidate.apply(this,arguments);this._iInvalidateCalendar=q.sap.delayedCall(0,this,j);}};b.prototype.onBeforeRendering=function(){I.prototype.onBeforeRendering.apply(this,arguments);this._checkMinMaxDate();};b.prototype.setWidth=function(w){return I.prototype.setWidth.call(this,w||"100%");};b.prototype.getWidth=function(w){return this.getProperty("width")||"100%";};b.prototype.applyFocusInfo=function(F){this._bFocusNoPopup=true;I.prototype.applyFocusInfo.apply(this,arguments);};b.prototype.onfocusin=function(E){if(!q(E.target).hasClass("sapUiIcon")){I.prototype.onfocusin.apply(this,arguments);}this._bFocusNoPopup=undefined;};b.prototype.onsapshow=function(E){c.call(this);E.preventDefault();};b.prototype.onsaphide=b.prototype.onsapshow;b.prototype.onsappageup=function(E){e.call(this,1,"day");E.preventDefault();};b.prototype.onsappageupmodifiers=function(E){if(!E.ctrlKey&&E.shiftKey){e.call(this,1,"month");}else{e.call(this,1,"year");}E.preventDefault();};b.prototype.onsappagedown=function(E){e.call(this,-1,"day");E.preventDefault();};b.prototype.onsappagedownmodifiers=function(E){if(!E.ctrlKey&&E.shiftKey){e.call(this,-1,"month");}else{e.call(this,-1,"year");}E.preventDefault();};b.prototype.onkeypress=function(E){if(!E.charCode||E.metaKey||E.ctrlKey){return;}var F=h.call(this,true);var s=String.fromCharCode(E.charCode);if(s&&F.sAllowedCharacters&&F.sAllowedCharacters.indexOf(s)<0){E.preventDefault();}};b.prototype.onclick=function(E){if(q(E.target).hasClass("sapUiIcon")){c.call(this);}};b.prototype.setValue=function(v){v=this.validateProperty("value",v);var o=this.getValue();if(v==o){return this;}else{this._lastValue=v;}this.setProperty("value",v,true);this._bValid=true;var k;if(v){k=this._parseValue(v);if(!k||k.getTime()<this._oMinDate.getTime()||k.getTime()>this._oMaxDate.getTime()){this._bValid=false;q.sap.log.warning("Value can not be converted to a valid date",this);this._oWantedDate=k;}}if(this._bValid){this.setProperty("dateValue",k,true);this._oWantedDate=undefined;}if(this.getDomRef()){var O;if(k){O=this._formatValue(k);}else{O=v;}if(this._$input.val()!==O){this._$input.val(O);this._setLabelVisibility();this._curpos=this._$input.cursorPos();}}return this;};b.prototype.setDateValue=function(o){if(o&&!(o instanceof Date)){throw new Error("Date must be a JavaScript date object; "+this);}if(q.sap.equal(this.getDateValue(),o)){return this;}if(o&&(o.getTime()<this._oMinDate.getTime()||o.getTime()>this._oMaxDate.getTime())){this._bValid=false;this._oWantedDate=o;o=undefined;}else{this._bValid=true;this.setProperty("dateValue",o,true);this._oWantedDate=undefined;}var v=this._formatValue(o,true);if(v!==this.getValue()){this._lastValue=v;}this.setProperty("value",v,true);if(this.getDomRef()){var O=this._formatValue(o);if(this._$input.val()!==O){this._$input.val(O);this._setLabelVisibility();this._curpos=this._$input.cursorPos();}}return this;};b.prototype.setMinDate=function(o){if(o&&!(o instanceof Date)){throw new Error("Date must be a JavaScript date object; "+this);}if(q.sap.equal(this.getMinDate(),o)){return this;}if(o){var y=o.getFullYear();if(y<1||y>9999){throw new Error("Date must be between 0001-01-01 and 9999-12-31; "+this);}this._oMinDate=new Date(o.getTime());var k=this.getDateValue();if(k&&k.getTime()<o.getTime()){q.sap.log.warning("DateValue not in valid date -> changed to minDate",this);this.setDateValue(new Date(o.getTime()));}}else{this._oMinDate=new Date(1,0,1);this._oMinDate.setFullYear(1);}this.setProperty("minDate",o,false);if(this._oCalendar){this._oCalendar.setMinDate(o);}return this;};b.prototype.setMaxDate=function(o){if(o&&!(o instanceof Date)){throw new Error("Date must be a JavaScript date object; "+this);}if(q.sap.equal(this.getMaxDate(),o)){return this;}if(o){var y=o.getFullYear();if(y<1||y>9999){throw new Error("Date must be between 0001-01-01 and 9999-12-31; "+this);}this._oMaxDate=new Date(o.getTime());var k=this.getDateValue();if(k&&k.getTime()>o.getTime()){q.sap.log.warning("DateValue not in valid date -> changed to maxDate",this);this.setDateValue(new Date(o.getTime()));}}else{this._oMaxDate=new Date(9999,11,31,23,59,59,99);}this.setProperty("maxDate",o,false);if(this._oCalendar){this._oCalendar.setMaxDate(o);}return this;};b.prototype._checkMinMaxDate=function(){if(this._oMinDate.getTime()>this._oMaxDate.getTime()){q.sap.log.warning("minDate > MaxDate -> dates switched",this);var m=new Date(this._oMinDate.getTime());var M=new Date(this._oMaxDate.getTime());this._oMinDate=new Date(M.getTime());this._oMaxDate=new Date(m.getTime());this.setProperty("minDate",M,true);this.setProperty("maxDate",m,true);if(this._oCalendar){this._oCalendar.setMinDate(M);this._oCalendar.setMaxDate(m);}}if(this._oWantedDate&&this._oWantedDate.getTime()>=this._oMinDate.getTime()&&this._oWantedDate.getTime()<=this._oMaxDate.getTime()){this.setDateValue(this._oWantedDate);}};b.prototype.setValueFormat=function(v){this.setProperty("valueFormat",v,true);var V=this.getValue();if(V){var o=this._parseValue(V);if(!o||o.getTime()<this._oMinDate.getTime()||o.getTime()>this._oMaxDate.getTime()){this._bValid=false;q.sap.log.warning("Value can not be converted to a valid date",this);}else{this._bValid=true;this.setProperty("dateValue",o,true);}}return this;};b.prototype.setDisplayFormat=function(s){this.setProperty("displayFormat",s,true);var o=this._formatValue(this.getDateValue());if(this.getDomRef()&&(this._$input.val()!==o)){this._$input.val(o);this._curpos=this._$input.cursorPos();}return this;};b.prototype.setDisplayFormatType=function(s){if(s){var F=false;for(var t in sap.ui.core.CalendarType){if(t==s){F=true;break;}}if(!F){throw new Error(s+" is not a valid calendar type"+this);}}this.setProperty("displayFormatType",s,true);this.setDisplayFormat(this.getDisplayFormat());return this;};b.prototype.setSecondaryCalendarType=function(s){this._bSecondaryCalendarTypeSet=true;this.setProperty("secondaryCalendarType",s,true);if(this._oCalendar){this._oCalendar.setSecondaryCalendarType(s);}return this;};b.prototype.addSpecialDate=function(s){i.call(this,s);this.addAggregation("specialDates",s,true);j.call(this);return this;};b.prototype.insertSpecialDate=function(s,k){i.call(this,s);this.insertAggregation("specialDates",s,k,true);j.call(this);return this;};b.prototype.removeSpecialDate=function(s){var r=this.removeAggregation("specialDates",s,true);j.call(this);return r;};b.prototype.removeAllSpecialDates=function(){var r=this.removeAllAggregation("specialDates",true);j.call(this);return r;};b.prototype.destroySpecialDates=function(){this.destroyAggregation("specialDates",true);j.call(this);return this;};b.prototype.setLegend=function(L){this.setAssociation("legend",L,true);var s=this.getLegend();if(s){if(!sap.ui.unified.CalendarLegend){sap.ui.getCore().loadLibrary("sap.ui.unified");q.sap.require("sap.ui.unified.library");}L=sap.ui.getCore().byId(s);if(L&&!(L instanceof sap.ui.unified.CalendarLegend)){throw new Error(L+" is not a sap.ui.unified.CalendarLegend. "+this);}}if(this._oCalendar){this._oCalendar.setLegend(s);}return this;};b.prototype.onChange=function(E){if(!this.getEditable()||!this.getEnabled()){return;}var v=this._$input.val();var o=this._formatValue(this.getDateValue());if(v==o&&this._bValid){return;}var k;this._oWantedDate=undefined;this._bValid=true;if(v!=""){k=this._parseValue(v,true);if(!k||k.getTime()<this._oMinDate.getTime()||k.getTime()>this._oMaxDate.getTime()){this._bValid=false;k=undefined;}else{v=this._formatValue(k);}}if(this.getDomRef()&&(this._$input.val()!==v)){this._$input.val(v);this._curpos=this._$input.cursorPos();if(this.bShowLabelAsPlaceholder){this.$("placeholder").css("display",v?"none":"inline");}}if(k){v=this._formatValue(k,true);}if(this._lastValue!==v||(k&&this.getDateValue()&&k.getFullYear()!==this.getDateValue().getFullYear())){this._lastValue=v;this.setProperty("value",v,true);var n=this.getValue();if(this._bValid&&v==n){this.setProperty("dateValue",k,true);}v=n;if(this._oPopup&&this._oPopup.isOpen()){if(this._bValid){k=this.getDateValue();}this._oCalendar.focusDate(k);var s=this._oDateRange.getStartDate();if((!s&&k)||(s&&k&&s.getTime()!=k.getTime())){this._oDateRange.setStartDate(new Date(k.getTime()));}else if(s&&!k){this._oDateRange.setStartDate(undefined);}}this.fireChangeEvent(v,{valid:this._bValid});}};b.prototype._getInputValue=function(v){v=(typeof v=="undefined")?this._$input.val():v.toString();var o=this._parseValue(v,true);v=this._formatValue(o,true);return v;};b.prototype.updateDomValue=function(v){this._bCheckDomValue=true;v=(typeof v=="undefined")?this._$input.val():v.toString();this._curpos=this._$input.cursorPos();var o=this._parseValue(v,true);v=this._formatValue(o);if(this.isActive()&&(this._$input.val()!==v)){this._$input.val(v);this._$input.cursorPos(this._curpos);}this._setLabelVisibility();return this;};b.prototype._parseValue=function(v,k){var F=h.call(this,k);var o=F.parse(v);return o;};b.prototype._formatValue=function(o,v){var V="";if(o){var F=h.call(this,!v);V=F.format(o);}return V;};b.prototype._getPlaceholder=function(){var p=this.getPlaceholder();if(!p){var B=this.getBinding("value");if(B&&B.oType&&(B.oType instanceof a)){p=B.oType.getOutputPattern();}else{p=this.getDisplayFormat();}if(!p){p="medium";}if(this._checkStyle(p)){var L=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var o=sap.ui.core.LocaleData.getInstance(L);p=this._getPlaceholderPattern(o,p);}}return p;};b.prototype._getPlaceholderPattern=function(L,p){return L.getDatePattern(p);};function _(){this._createPopup();this._createPopupContent();var s;var B=this.getBinding("value");if(B&&B.oType&&(B.oType instanceof a)){s=B.oType.oOutputFormat.oFormatOptions.calendarType;}if(!s){s=this.getDisplayFormatType();}if(s){this._oCalendar.setPrimaryCalendarType(s);}var v=this._bValid?this._formatValue(this.getDateValue()):this.getValue();if(v!=this._$input.val()){this.onChange();}this._fillDateRange();this._openPopup();this.fireNavigate({dateRange:this._getVisibleDatesRange(this._oCalendar)});}b.prototype._createPopup=function(){if(!this._oPopup){q.sap.require("sap.ui.core.Popup");this._oPopup=new sap.ui.core.Popup();this._oPopup.setAutoClose(true);this._oPopup.setDurations(0,0);this._oPopup.attachOpened(f,this);}};b.prototype._openPopup=function(){if(!this._oPopup){return;}this._oPopup.setAutoCloseAreas([this.getDomRef()]);var k=sap.ui.core.Popup.Dock;var A;if(this.getTextAlign()==sap.ui.core.TextAlign.End){A=k.EndBottom+"-4";this._oPopup.open(0,k.EndTop,A,this,null,"fit",true);}else{A=k.BeginBottom+"-4";this._oPopup.open(0,k.BeginTop,A,this,null,"fit",true);}};b.prototype._getVisibleDatesRange=function(o){var v=o._getVisibleDays();return new sap.ui.unified.DateRange({startDate:C._createLocalDate(v[0].oDate),endDate:C._createLocalDate(v[v.length-1].oDate)});};b.prototype._createPopupContent=function(){if(!this._oCalendar){sap.ui.getCore().loadLibrary("sap.ui.unified");q.sap.require("sap.ui.unified.library");this._oCalendar=new sap.ui.unified.Calendar(this.getId()+"-cal",{intervalSelection:this._bIntervalSelection,minDate:this.getMinDate(),maxDate:this.getMaxDate(),legend:this.getLegend(),startDateChange:function(){this.fireNavigate({dateRange:this._getVisibleDatesRange(this._oCalendar)});}.bind(this)});this._oDateRange=new sap.ui.unified.DateRange();this._oCalendar.addSelectedDate(this._oDateRange);if(this.$().closest(".sapUiSizeCompact").length>0){this._oCalendar.addStyleClass("sapUiSizeCompact");}if(this._bSecondaryCalendarTypeSet){this._oCalendar.setSecondaryCalendarType(this.getSecondaryCalendarType());}if(this._bOnlyCalendar){this._oCalendar.attachSelect(this._selectDate,this);this._oCalendar.attachCancel(d,this);this._oCalendar.attachEvent("_renderMonth",g,this);this._oCalendar.setPopupMode(true);this._oCalendar.setParent(this,undefined,true);this._oPopup.setContent(this._oCalendar);}}};b.prototype._fillDateRange=function(){var o=this.getDateValue();if(o){this._oCalendar.focusDate(new Date(o.getTime()));if(!this._oDateRange.getStartDate()||this._oDateRange.getStartDate().getTime()!=o.getTime()){this._oDateRange.setStartDate(new Date(o.getTime()));}}else{var F=new Date();var m=this._oMaxDate.getTime()+86400000;if(F.getTime()<this._oMinDate.getTime()||F.getTime()>m){F=this._oMinDate;}this._oCalendar.focusDate(F);if(this._oDateRange.getStartDate()){this._oDateRange.setStartDate(undefined);}}};b.prototype._getFormatInstance=function(A,k){return sap.ui.core.format.DateFormat.getInstance(A);};b.prototype._checkStyle=function(p){if(p=="short"||p=="medium"||p=="long"||p=="full"){return true;}else{return false;}};b.prototype.getAccessibilityInfo=function(){var r=this.getRenderer();var o=I.prototype.getAccessibilityInfo.apply(this,arguments);var v=this.getValue()||"";if(this._bValid){var k=this.getDateValue();if(k){v=this._formatValue(k);}}o.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_DATEINPUT");o.description=[v,r.getLabelledByAnnouncement(this),r.getDescribedByAnnouncement(this)].join(" ").trim();return o;};function c(){if(this.getEditable()&&this.getEnabled()){if(!this._oPopup||!this._oPopup.isOpen()){_.call(this);}else{d.call(this);}}}b.prototype._selectDate=function(E){var o=this.getDateValue();var k=this._getSelectedDate();var v="";if(!q.sap.equal(k,o)){this.setDateValue(new Date(k.getTime()));v=this.getValue();this.fireChangeEvent(v,{valid:true});if(this.getDomRef()&&!D.support.touch&&!q.sap.simulateMobileOnDesktop){this._curpos=this._$input.val().length;this._$input.cursorPos(this._curpos);}}else if(!this._bValid){v=this._formatValue(k);if(v!=this._$input.val()){this._bValid=true;if(this.getDomRef()){this._$input.val(v);this._lastValue=v;}this.setProperty("value",v,true);this.fireChangeEvent(v,{valid:true});}}this._oPopup.close();};b.prototype._getSelectedDate=function(){var s=this._oCalendar.getSelectedDates();var o;if(s.length>0){o=s[0].getStartDate();}return o;};function d(E){if(this._oPopup&&this._oPopup.isOpen()){this._oPopup.close();if(!D.support.touch&&!q.sap.simulateMobileOnDesktop){this.focus();}}}function e(n,u){var o=this.getDateValue();var k=this._$input.cursorPos();if(o&&this.getEditable()&&this.getEnabled()){var s;var B=this.getBinding("value");if(B&&B.oType&&(B.oType instanceof a)){s=B.oType.oOutputFormat.oFormatOptions.calendarType;}if(!s){s=this.getDisplayFormatType();}var m=U.getInstance(new Date(o.getTime()),s);o=U.getInstance(new Date(o.getTime()),s);switch(u){case"day":m.setDate(m.getDate()+n);break;case"month":m.setMonth(m.getMonth()+n);var M=(o.getMonth()+n)%12;if(M<0){M=12+M;}while(m.getMonth()!=M){m.setDate(m.getDate()-1);}break;case"year":m.setFullYear(m.getFullYear()+n);while(m.getMonth()!=o.getMonth()){m.setDate(m.getDate()-1);}break;default:break;}if(m.getTime()<this._oMinDate.getTime()){m=new U(this._oMinDate.getTime());}else if(m.getTime()>this._oMaxDate.getTime()){m=new U(this._oMaxDate.getTime());}if(!q.sap.equal(this.getDateValue(),m.getJSDate())){this.setDateValue(new Date(m.getTime()));this._curpos=k;this._$input.cursorPos(this._curpos);var v=this.getValue();this.fireChangeEvent(v,{valid:true});}}}function f(E){this._renderedDays=this._oCalendar.$("-Month0-days").find(".sapUiCalItem").length;}function g(E){var k=E.getParameter("days");if(k>this._renderedDays){this._renderedDays=k;this._oPopup._applyPosition(this._oPopup._oLastPosition);}}function h(k){var p="";var r=false;var F;var B=this.getBinding("value");var s;if(B&&B.oType&&(B.oType instanceof a)){p=B.oType.getOutputPattern();r=!!B.oType.oOutputFormat.oFormatOptions.relative;s=B.oType.oOutputFormat.oFormatOptions.calendarType;}if(!p){if(k){p=(this.getDisplayFormat()||"medium");s=this.getDisplayFormatType();}else{p=(this.getValueFormat()||"short");s=sap.ui.core.CalendarType.Gregorian;}}if(!s){s=sap.ui.getCore().getConfiguration().getCalendarType();}if(k){if(p==this._sUsedDisplayPattern&&s==this._sUsedDisplayCalendarType){F=this._oDisplayFormat;}}else{if(p==this._sUsedValuePattern&&s==this._sUsedValueCalendarType){F=this._oValueFormat;}}if(!F){if(this._checkStyle(p)){F=this._getFormatInstance({style:p,strictParsing:true,relative:r,calendarType:s},k);}else{F=this._getFormatInstance({pattern:p,strictParsing:true,relative:r,calendarType:s},k);}if(k){this._sUsedDisplayPattern=p;this._sUsedDisplayCalendarType=s;this._oDisplayFormat=F;}else{this._sUsedValuePattern=p;this._sUsedValueCalendarType=s;this._oValueFormat=F;}}return F;}function i(s){if(!sap.ui.unified.DateTypeRange){sap.ui.getCore().loadLibrary("sap.ui.unified");q.sap.require("sap.ui.unified.library");}if(s&&!(s instanceof sap.ui.unified.DateTypeRange)){throw new Error(s+"is not valid for aggregation \"specialDates\" of "+this);}}function j(){if(this._oPopup&&this._oPopup.isOpen()){this._oCalendar._bDateRangeChanged=true;this._oCalendar.invalidate();}}return b;},true);
sap.ui.predefine('sap/m/DatePickerRenderer',['jquery.sap.global','sap/ui/core/Renderer','./InputBaseRenderer'],function(q,R,I){"use strict";var D=R.extend(I);D.addOuterClasses=function(r,d){r.addClass("sapMDP");if(d.getEnabled()&&d.getEditable()){r.addClass("sapMInputVH");}};D.writeInnerContent=function(r,d){if(d.getEnabled()&&d.getEditable()){var c=["sapMInputValHelpInner"];var a={};a["id"]=d.getId()+"-icon";a["tabindex"]="-1";a["title"]=null;r.write('<div class="sapMInputValHelp">');r.writeIcon(this._getIcon(),c,a);r.write("</div>");}};D._getIcon=function(){return"sap-icon://appointment-2";};D.writeInnerValue=function(r,d){if(d._bValid){r.writeAttributeEscaped("value",d._formatValue(d.getDateValue()));}else{r.writeAttributeEscaped("value",d.getValue());}};D.writeInnerAttributes=function(r,d){if(d._bMobile){r.writeAttribute("readonly","readonly");}};D.getAriaRole=function(d){return"combobox";};D.getDescribedByAnnouncement=function(d){var b=I.getDescribedByAnnouncement.apply(this,arguments);return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("DATEPICKER_DATE_TYPE")+" "+b;};D.getAccessibilityState=function(d){var a=I.getAccessibilityState.apply(this,arguments);a["multiline"]=false;a["autocomplete"]="none";a["haspopup"]=true;a["owns"]=d.getId()+"-cal";if(d._bMobile&&d.getEnabled()&&d.getEditable()){a["readonly"]=false;}return a;};return D;},true);
sap.ui.predefine('sap/m/DateRangeSelection',['jquery.sap.global','sap/ui/Device','./DatePicker','./library'],function(q,D,a,l){"use strict";var b=a.extend("sap.m.DateRangeSelection",{metadata:{library:"sap.m",properties:{delimiter:{type:"string",group:"Misc",defaultValue:'-'},secondDateValue:{type:"object",group:"Data",defaultValue:null},from:{type:"object",group:"Misc",defaultValue:null,deprecated:true},to:{type:"object",group:"Misc",defaultValue:null,deprecated:true}}}});b.prototype.init=function(){a.prototype.init.apply(this,arguments);this._bIntervalSelection=true;};b.prototype.onkeypress=function(E){if(!E.charCode||E.metaKey||E.ctrlKey){return;}var f=e.call(this);var s=d.call(this);var A=f.sAllowedCharacters+s+" ";var C=String.fromCharCode(E.charCode);if(C&&f.sAllowedCharacters&&A.indexOf(C)<0){E.preventDefault();}};b.prototype._getPlaceholder=function(){var p=this.getPlaceholder();if(!p){p=this.getDisplayFormat();if(!p){p="medium";}if(this._checkStyle(p)){var L=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var o=sap.ui.core.LocaleData.getInstance(L);p=o.getDatePattern(p);}var s=d.call(this);if(s&&s!==""){p=p+" "+s+" "+p;}}return p;};b.prototype.setValue=function(v){if(v!==this.getValue()){this._lastValue=v;}else{return this;}this.setProperty("value",v,true);this._bValid=true;var f=[undefined,undefined];if(v){f=this._parseValue(v);this._oWantedDate=f[0];this._oWantedSecondDate=f[1];f=c.call(this,f[0],f[1]);if(!f[0]){this._bValid=false;q.sap.log.warning("Value can not be converted to a valid dates",this);}}if(this._bValid){this.setProperty("dateValue",f[0],true);this.setProperty("secondDateValue",f[1],true);this._oWantedDate=undefined;this._oWantedSecondDate=undefined;}if(this.getDomRef()){var o=this._formatValue(f[0],f[1]);if(this._$input.val()!==o){this._$input.val(o);this._setLabelVisibility();this._curpos=this._$input.cursorPos();}}return this;};b.prototype.setValueFormat=function(v){this.setProperty("valueFormat",v,true);q.sap.log.warning("Property valueFormat is not supported in sap.m.DateRangeSelection control.",this);return this;};b.prototype.setDisplayFormat=function(s){this.setProperty("displayFormat",s,true);var o=this._formatValue(this.getDateValue(),this.getSecondDateValue());this.setProperty("value",o,true);if(this.getDomRef()&&(this._$input.val()!==o)){this._$input.val(o);this._curpos=this._$input.cursorPos();}return this;};b.prototype.setFrom=function(f){this.setDateValue(f);return this;};b.prototype.getFrom=function(){return this.getDateValue();};b.prototype.setTo=function(t){this.setSecondDateValue(t);return this;};b.prototype.getTo=function(){return this.getSecondDateValue();};b.prototype.setDateValue=function(o){if(o&&!(o instanceof Date)){throw new Error("Date must be a JavaScript date object; "+this);}if(q.sap.equal(this.getDateValue(),o)){return this;}if(o&&(o.getTime()<this._oMinDate.getTime()||o.getTime()>this._oMaxDate.getTime())){this._bValid=false;this._oWantedDate=o;o=undefined;}else{this._bValid=true;this.setProperty("dateValue",o,true);this._oWantedDate=undefined;}var s=this.getSecondDateValue();var v=this._formatValue(o,s);if(v!==this.getValue()){this._lastValue=v;}this.setProperty("value",v,true);if(this.getDomRef()){var O=this._formatValue(o,s);if(this._$input.val()!==O){this._$input.val(O);this._setLabelVisibility();this._curpos=this._$input.cursorPos();}}return this;};b.prototype.setSecondDateValue=function(s){if(s&&!(s instanceof Date)){throw new Error("Date must be a JavaScript date object; "+this);}if(q.sap.equal(this.getSecondDateValue(),s)){return this;}if(s&&(s.getTime()<this._oMinDate.getTime()||s.getTime()>this._oMaxDate.getTime())){this._bValid=false;this._oWantedSecondDate=s;s=undefined;}else{this._bValid=true;this.setProperty("secondDateValue",s,true);this._oWantedSecondDate=undefined;}var o=this.getDateValue();var v=this._formatValue(o,s);if(v!==this.getValue()){this._lastValue=v;}this.setProperty("value",v,true);if(this.getDomRef()){var O=this._formatValue(o,s);if(this._$input.val()!==O){this._$input.val(O);this._setLabelVisibility();this._curpos=this._$input.cursorPos();}}return this;};b.prototype.setMinDate=function(o){a.prototype.setMinDate.apply(this,arguments);if(o){var s=this.getSecondDateValue();if(s&&s.getTime()<this._oMinDate.getTime()){q.sap.log.warning("SecondDateValue not in valid date -> changed to minDate",this);this.setSecondDateValue(new Date(this._oMinDate.getTime()));}}return this;};b.prototype.setMaxDate=function(o){a.prototype.setMaxDate.apply(this,arguments);if(o){var s=this.getSecondDateValue();if(s&&s.getTime()>this._oMaxDate.getTime()){q.sap.log.warning("SecondDateValue not in valid date -> changed to maxDate",this);this.setSecondDateValue(new Date(this._oMaxDate.getTime()));}}return this;};b.prototype._checkMinMaxDate=function(){a.prototype._checkMinMaxDate.apply(this,arguments);if(this._oWantedSecondDate&&this._oWantedSecondDate.getTime()>=this._oMinDate.getTime()&&this._oWantedSecondDate.getTime()<=this._oMaxDate.getTime()){this.setSecondDateValue(this._oWantedSecondDate);}};b.prototype._parseValue=function(v){var f;var g=[];var o,h;var s=d.call(this);if((s&&s!=="")&&v){g=v.split(s);if(g.length===2){if(g[0].slice(g[0].length-1,g[0].length)==" "){g[0]=g[0].slice(0,g[0].length-1);}if(g[1].slice(0,1)==" "){g[1]=g[1].slice(1);}}else{g=v.split(" "+s+" ");}if(g.length<2){var i=v.split(" ");if(i.length===2){g=i;}}}if(v&&g.length<=2){f=e.call(this);if((!s||s==="")||g.length===1){o=f.parse(v);}else if(g.length===2){o=f.parse(g[0]);h=f.parse(g[1]);if(!o||!h){o=undefined;h=undefined;}}}return[o,h];};b.prototype._formatValue=function(o,s){var v="";var f=d.call(this);if(o){var F;F=e.call(this);if(f&&f!==""&&s){v=F.format(o)+" "+f+" "+F.format(s);}else{v=F.format(o);}}return v;};b.prototype.onChange=function(){if(!this.getEditable()||!this.getEnabled()){return;}var v=this._$input.val();var f=[undefined,undefined];this._oWantedDate=undefined;this._oWantedSecondDate=undefined;this._bValid=true;if(v!=""){f=this._parseValue(v);f=c.call(this,f[0],f[1]);if(f[0]){v=this._formatValue(f[0],f[1]);}else{this._bValid=false;}}if(v!==this._lastValue){if(this.getDomRef()&&(this._$input.val()!==v)){this._$input.val(v);this._curpos=this._$input.cursorPos();}this._lastValue=v;this.setProperty("value",v,true);if(this._bValid){this.setProperty("dateValue",f[0],true);this.setProperty("secondDateValue",f[1],true);}this._setLabelVisibility();if(this._oPopup&&this._oPopup.isOpen()){var s=this.getDateValue();if(s){if(!this._oDateRange.getStartDate()||this._oDateRange.getStartDate().getTime()!==s.getTime()){this._oDateRange.setStartDate(new Date(s.getTime()));this._oCalendar.focusDate(s);}}else{if(this._oDateRange.getStartDate()){this._oDateRange.setStartDate(undefined);}}var E=this.getSecondDateValue();if(E){if(!this._oDateRange.getEndDate()||this._oDateRange.getEndDate().getTime()!==E.getTime()){this._oDateRange.setEndDate(new Date(E.getTime()));this._oCalendar.focusDate(E);}}else{if(this._oDateRange.getEndDate()){this._oDateRange.setEndDate(undefined);}}}_.call(this,this._bValid);}};b.prototype._getInputValue=function(v){v=(typeof v=="undefined")?this._$input.val():v.toString();var f=this._parseValue(v);v=this._formatValue(f[0],f[1]);return v;};b.prototype.updateDomValue=function(v){this._bCheckDomValue=true;v=(typeof v=="undefined")?this._$input.val():v.toString();this._curpos=this._$input.cursorPos();var f=this._parseValue(v);v=this._formatValue(f[0],f[1]);if(this.isActive()&&(this._$input.val()!==v)){this._$input.val(v);this._$input.cursorPos(this._curpos);}this._setLabelVisibility();return this;};b.prototype.onsappageup=function(){};b.prototype.onsappageupmodifiers=function(){};b.prototype.onsappagedown=function(){};b.prototype.onsappagedownmodifiers=function(){};b.prototype._fillDateRange=function(){a.prototype._fillDateRange.apply(this,arguments);var E=this.getSecondDateValue();if(E){if(!this._oDateRange.getEndDate()||this._oDateRange.getEndDate().getTime()!==E.getTime()){this._oDateRange.setEndDate(new Date(E.getTime()));}}else{if(this._oDateRange.getEndDate()){this._oDateRange.setEndDate(undefined);}}};b.prototype._selectDate=function(E){var s=this._oCalendar.getSelectedDates();if(s.length>0){var o=s[0].getStartDate();var f=s[0].getEndDate();if(o&&f){var g=this.getDateValue();var h=this.getSecondDateValue();var v;if(!q.sap.equal(o,g)||!q.sap.equal(f,h)){if(q.sap.equal(f,h)){this.setDateValue(o);}else{this.setProperty("dateValue",o,true);this.setSecondDateValue(f);}v=this.getValue();_.call(this,true);if(!D.support.touch&&!q.sap.simulateMobileOnDesktop){this._curpos=v.length;this._$input.cursorPos(this._curpos);}}else if(!this._bValid){v=this._formatValue(o,f);if(v!=this._$input.val()){this._bValid=true;if(this.getDomRef()){this._$input.val(v);}_.call(this,true);}}this._oPopup.close();}}};b.prototype.getAccessibilityInfo=function(){var r=this.getRenderer();var i=a.prototype.getAccessibilityInfo.apply(this,arguments);var v=this.getValue()||"";if(this._bValid){var o=this.getDateValue();if(o){v=this._formatValue(o,this.getSecondDateValue());}}i.description=[v,r.getLabelledByAnnouncement(this),r.getDescribedByAnnouncement(this)].join(" ").trim();return i;};function _(v){this.fireChangeEvent(this.getValue(),{from:this.getDateValue(),to:this.getSecondDateValue(),valid:v});}function c(o,s){if(o&&s&&o.getTime()>s.getTime()){var t=o;o=s;s=t;}if((o&&(o.getTime()<this._oMinDate.getTime()||o.getTime()>this._oMaxDate.getTime()))||(s&&(s.getTime()<this._oMinDate.getTime()||s.getTime()>this._oMaxDate.getTime()))){return[undefined,undefined];}else{return[o,s];}}function d(){var s=this.getDelimiter();if(!s){if(!this._sLocaleDelimiter){var L=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var o=sap.ui.core.LocaleData.getInstance(L);var p=o.getIntervalPattern();var i=p.indexOf("{0}")+3;var I=p.indexOf("{1}");s=p.slice(i,I);if(s.length>1){if(s.slice(0,1)==" "){s=s.slice(1);}if(s.slice(s.length-1,s.length)==" "){s=s.slice(0,s.length-1);}}this._sLocaleDelimiter=s;}else{s=this._sLocaleDelimiter;}}return s;}function e(){var p=(this.getDisplayFormat()||"medium");var f;var C=this.getDisplayFormatType();if(p==this._sUsedDisplayPattern&&C==this._sUsedDisplayCalendarType){f=this._oDisplayFormat;}else{if(this._checkStyle(p)){f=sap.ui.core.format.DateFormat.getInstance({style:p,strictParsing:true,calendarType:C});}else{f=sap.ui.core.format.DateFormat.getInstance({pattern:p,strictParsing:true,calendarType:C});}this._sUsedDisplayPattern=p;this._sUsedDisplayCalendarType=C;this._oDisplayFormat=f;}return f;}return b;},true);
sap.ui.predefine('sap/m/DateRangeSelectionRenderer',['jquery.sap.global','sap/ui/core/Renderer','./DatePickerRenderer'],function(q,R,D){"use strict";var a=R.extend(D);a.writeInnerValue=function(r,c){if(c._bValid){r.writeAttributeEscaped("value",c._formatValue(c.getDateValue(),c.getSecondDateValue()));}else{r.writeAttributeEscaped("value",c.getValue());}};return a;},true);
sap.ui.predefine('sap/m/DateTimeInput',['jquery.sap.global','sap/ui/core/Control','./library','sap/ui/model/type/Date'],function(q,C,l,D){"use strict";var a=C.extend("sap.m.DateTimeInput",{metadata:{library:"sap.m",properties:{value:{type:"string",group:"Data",defaultValue:null,bindable:"bindable"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},enabled:{type:"boolean",group:"Behavior",defaultValue:true},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:sap.ui.core.ValueState.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},showValueStateMessage:{type:"boolean",group:"Misc",defaultValue:true},name:{type:"string",group:"Misc",defaultValue:null},placeholder:{type:"string",group:"Misc",defaultValue:null},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:sap.ui.core.TextAlign.Initial},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},type:{type:"sap.m.DateTimeInputType",group:"Data",defaultValue:sap.m.DateTimeInputType.Date},displayFormat:{type:"string",group:"Appearance",defaultValue:null},valueFormat:{type:"string",group:"Data",defaultValue:null},dateValue:{type:"object",group:"Data",defaultValue:null}},aggregations:{_picker:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{value:{type:"string"},dateValue:{type:"object"},valid:{type:"boolean"}}}}}});!(function(p,$,d){var o=sap.m.getLocaleData();$.extend(p,{_types:{Date:{valueFormat:o.getDatePattern("short"),displayFormat:o.getDatePattern("medium")},Time:{valueFormat:o.getTimePattern("short"),displayFormat:o.getTimePattern("short")},DateTime:{valueFormat:o.getDateTimePattern("short"),displayFormat:o.getDateTimePattern("short")}}});["Time","Date"].forEach(function(t,n){["valueFormat","displayFormat"].forEach(function(f){var T=p._types;T.DateTime[f]=T.DateTime[f].replace("{"+n+"}",T[t][f]);});});}(a.prototype,q,sap.ui.Device));a.prototype.init=function(){this.setType(sap.m.DateTimeInputType.Date);};a.prototype.onBeforeRendering=function(){b.call(this);};a.prototype.getFocusDomRef=function(){var p=_.call(this);return p.getFocusDomRef();};a.prototype.getIdForLabel=function(){var p=_.call(this);return p.getIdForLabel();};a.prototype.setType=function(t){if(t==this.getType()&&_.call(this)){return this;}this.destroyAggregation("_picker");var p;switch(t){case sap.m.DateTimeInputType.DateTime:q.sap.require("sap.m.DateTimePicker");p=new sap.m.DateTimePicker(this.getId()+"-Picker");break;case sap.m.DateTimeInputType.Time:q.sap.require("sap.m.TimePicker");p=new sap.m.TimePicker(this.getId()+"-Picker",{localeId:sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString()});break;default:q.sap.require("sap.m.DatePicker");p=new sap.m.DatePicker(this.getId()+"-Picker");break;}p.setDisplayFormat(this.getDisplayFormat()||this._types[t].displayFormat);p.setValueFormat(this.getValueFormat()||this._types[t].valueFormat);if(this.getDateValue()){p.setDateValue(this.getDateValue());}p.setEnabled(this.getEnabled());p.setEditable(this.getEditable());p.setValueState(this.getValueState());p.setValueStateText(this.getValueStateText());p.setShowValueStateMessage(this.getShowValueStateMessage());p.setName(this.getName());p.setPlaceholder(this.getPlaceholder());p.setTextAlign(this.getTextAlign());p.setTextDirection(this.getTextDirection());p.setWidth("100%");p.attachChange(c,this);var A=this.getAriaLabelledBy();for(var i=0;i<A.length;i++){p.addAriaLabelledBy(A[i]);}this.setAggregation("_picker",p);this.setProperty("type",t);return this;};a.prototype.setWidth=function(w){this.setProperty("width",w);if(this.getDomRef()){w=this.getWidth();this.$().css("width",w);}return this;};a.prototype.setValue=function(v){b.call(this);v=this.validateProperty("value",v);if(v.toLowerCase()=="now"){return this.setDateValue(new Date());}if(v===this.getValue()){return this;}this.setProperty("value",v,true);var p=_.call(this);p.setValue(v);var d=p.getDateValue();this.setProperty("dateValue",d,true);return this;};a.prototype.setDateValue=function(d){if(d&&!(d instanceof Date)){throw new Error("Date must be a JavaScript date object; "+this);}b.call(this);this.setProperty("dateValue",d,true);var p=_.call(this);p.setDateValue(d);var v=p.getValue();this.setProperty("value",v,true);return this;};a.prototype.setDisplayFormat=function(d){this.setProperty("displayFormat",d,true);var p=_.call(this);p.setDisplayFormat(d||this._types[this.getType()].displayFormat);return this;};a.prototype.setValueFormat=function(v){this.setProperty("valueFormat",v,true);var p=_.call(this);p.setValueFormat(v||this._types[this.getType()].ValueFormat);return this;};a.prototype.setEnabled=function(e){this.setProperty("enabled",e,true);var p=_.call(this);p.setEnabled(e);return this;};a.prototype.setEditable=function(e){this.setProperty("editable",e,true);var p=_.call(this);p.setEditable(e);return this;};a.prototype.setValueState=function(v){this.setProperty("valueState",v,true);var p=_.call(this);p.setValueState(v);return this;};a.prototype.setValueStateText=function(v){this.setProperty("valueStateText",v,true);var p=_.call(this);p.setValueStateText(v);return this;};a.prototype.setShowValueStateMessage=function(s){this.setProperty("showValueStateMessage",s,true);var p=_.call(this);p.setShowValueStateMessage(s);return this;};a.prototype.setName=function(n){this.setProperty("name",n,true);var p=_.call(this);p.setName(n);return this;};a.prototype.setPlaceholder=function(p){this.setProperty("placeholder",p,true);var P=_.call(this);P.setPlaceholder(p);return this;};a.prototype.setTextAlign=function(t){this.setProperty("textAlign",t,true);var p=_.call(this);p.setTextAlign(t);return this;};a.prototype.setTextDirection=function(t){this.setProperty("textDirection",t,true);var p=_.call(this);p.setTextDirection(t);return this;};a.prototype.addAriaLabelledBy=function(i){this.addAssociation("ariaLabelledBy",i,true);var p=_.call(this);p.addAriaLabelledBy(i);return this;};a.prototype.removeAriaLabelledBy=function(i){this.removeAssociation("ariaLabelledBy",i,true);var p=_.call(this);p.removeAriaLabelledBy(i);return this;};a.prototype.removeAllAriaLabelledBy=function(){this.removeAssociation("ariaLabelledBy",true);var p=_.call(this);p.removeAllAriaLabelledBy();return this;};a.prototype.getAccessibilityInfo=function(){var p=_.call(this);return p&&p.getAccessibilityInfo?p.getAccessibilityInfo():null;};function _(){return this.getAggregation("_picker");}function b(){var B=this.getBinding("value");if(B&&B.oType&&(B.oType instanceof D)){var p=B.oType.getOutputPattern();var P=_.call(this);if(P.getValueFormat()!=p){P.setValueFormat(p);}if(P.getDisplayFormat()!=p){P.setDisplayFormat(p);}}}function c(e){var v=e.getParameter("value");var d;var V=e.getParameter("valid");this.setProperty("value",v,true);if(V){d=e.oSource.getDateValue();this.setProperty("dateValue",d,true);}this.fireChange({value:v,newValue:v,valid:V,dateValue:d,newDateValue:d});}return a;},true);
sap.ui.predefine('sap/m/DateTimeInputRenderer',['jquery.sap.global','sap/ui/core/Renderer'],function(q,R){"use strict";var D={};D.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapMDTI");var w=c.getWidth();if(w){r.addStyle("width",w);}r.writeStyles();r.writeClasses();r.write(">");var p=c.getAggregation("_picker");if(p){r.renderControl(p);}r.write("</div>");};return D;},true);
sap.ui.predefine('sap/m/DateTimePicker',['jquery.sap.global','./DatePicker','sap/ui/model/type/Date','./library'],function(q,D,a,l){"use strict";var b=D.extend("sap.m.DateTimePicker",{metadata:{library:"sap.m",aggregations:{_popup:{type:"sap.m.ResponsivePopover",multiple:false,visibility:"hidden"}}}});var P=sap.ui.core.Control.extend("DateTimePickerPopup",{metadata:{aggregations:{_switcher:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},calendar:{type:"sap.ui.core.Control",multiple:false},timeSliders:{type:"sap.ui.core.Control",multiple:false}}},renderer:function(r,p){r.write("<div");r.writeControlData(p);r.addClass("sapMDateTimePopupCont");r.addClass("sapMTimePickerDropDown");r.writeClasses();r.write(">");var s=p.getAggregation("_switcher");if(s&&s.getVisible()){r.write("<div");r.addClass("sapMTimePickerSwitch");r.writeClasses();r.write(">");r.renderControl(s);r.write("</div>");}var C=p.getCalendar();if(C){r.renderControl(C);}r.write("<div");r.addClass("sapMTimePickerSep");r.writeClasses();r.write(">");r.write("</div>");var S=p.getTimeSliders();if(S){r.renderControl(S);}r.write("</div>");},init:function(){},onBeforeRendering:function(){var s=this.getAggregation("_switcher");if(sap.ui.Device.system.phone||q('html').hasClass("sapUiMedia-Std-Phone")){if(!s){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");var i=r.getText("DATETIMEPICKER_DATE");var t=r.getText("DATETIMEPICKER_TIME");s=new sap.m.SegmentedButton(this.getId()+"-Switch",{selectedKey:"Cal",items:[new sap.m.SegmentedButtonItem(this.getId()+"-Switch-Cal",{key:"Cal",text:i}),new sap.m.SegmentedButtonItem(this.getId()+"-Switch-Sli",{key:"Sli",text:t})]});s.attachSelect(this._handleSelect,this);this.setAggregation("_switcher",s,true);}else{s.setVisible(true);s.setSelectedKey("Cal");}}else if(s){s.setVisible(false);}},onAfterRendering:function(){if(sap.ui.Device.system.phone||q('html').hasClass("sapUiMedia-Std-Phone")){var s=this.getAggregation("_switcher");var k=s.getSelectedKey();this._switchVisibility(k);if(sap.ui.Device.system.phone){this._adjustTimePickerHeightOnPhone();}}},_adjustTimePickerHeightOnPhone:function(){var s=this.getAggregation("_switcher"),S=s.$().children(0).css("height").replace('px','');this.$().css("height",(document.documentElement.clientHeight-parseInt(S,10))+"px");},_handleSelect:function(E){this._switchVisibility(E.getParameter("key"));},_switchVisibility:function(k){var C=this.getCalendar();var s=this.getTimeSliders();if(!C||!s){return;}if(k=="Cal"){C.$().css("display","");s.$().css("display","none");C.focus();}else{C.$().css("display","none");s.$().css("display","");s.updateSlidersValues();s._onOrientationChanged();s._initFocus();}},switchToTime:function(){var s=this.getAggregation("_switcher");if(s&&s.getVisible()){s.setSelectedKey("Sli");this._switchVisibility("Sli");}},getSpecialDates:function(){return this._oDateTimePicker.getSpecialDates();}});b.prototype.init=function(){D.prototype.init.apply(this,arguments);this._bOnlyCalendar=false;};b.prototype.exit=function(){D.prototype.exit.apply(this,arguments);if(this._oSliders){this._oSliders.destroy();delete this._oSliders;}this._oPopupContent=undefined;};b.prototype.setDisplayFormat=function(s){D.prototype.setDisplayFormat.apply(this,arguments);if(this._oSliders){this._oSliders.setFormat(g.call(this));}return this;};b.prototype._getFormatInstance=function(A,i){var m=q.extend({},A);var s=-1;if(m.style){s=m.style.indexOf("/");}if(i){var o=q.extend({},m);if(s>0){o.style=o.style.substr(0,s);}this._oDisplayFormatDate=sap.ui.core.format.DateFormat.getInstance(o);}return sap.ui.core.format.DateFormat.getDateTimeInstance(m);};b.prototype._checkStyle=function(p){if(D.prototype._checkStyle.apply(this,arguments)){return true;}else if(p.indexOf("/")>0){var s=["short","medium","long","full"];var S=false;for(var i=0;i<s.length;i++){var k=s[i];for(var j=0;j<s.length;j++){var m=s[j];if(p==k+"/"+m){S=true;break;}}if(S){break;}}return S;}return false;};b.prototype._parseValue=function(v,i){var o=D.prototype._parseValue.apply(this,arguments);if(i&&!o){o=this._oDisplayFormatDate.parse(v);if(o){var O=this.getDateValue();if(!O){O=new Date();}o.setHours(O.getHours());o.setMinutes(O.getMinutes());o.setSeconds(O.getSeconds());o.setMilliseconds(O.getMilliseconds());}}return o;};b.prototype._getPlaceholderPattern=function(L,p){var s=p.indexOf("/");if(s>0){return L.getCombinedDateTimePattern(p.substr(0,s),p.substr(s+1));}else{return L.getCombinedDateTimePattern(p,p);}};b.prototype._createPopup=function(){if(!this._oPopup){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");var o=r.getText("TIMEPICKER_SET");var C=r.getText("TIMEPICKER_CANCEL");this._oPopupContent=new P(this.getId()+"-PC");this._oPopupContent._oDateTimePicker=this;this._oPopup=new sap.m.ResponsivePopover(this.getId()+"-RP",{showCloseButton:false,showHeader:false,placement:sap.m.PlacementType.VerticalPreferedBottom,beginButton:new sap.m.Button(this.getId()+"-OK",{text:o,press:q.proxy(_,this)}),endButton:new sap.m.Button(this.getId()+"-Cancel",{text:C,press:q.proxy(c,this)}),content:this._oPopupContent});this._oPopup.addStyleClass("sapMDateTimePopup");var p=this._oPopup.getAggregation("_popup");if(p.setShowArrow){p.setShowArrow(false);}this._oPopup.attachBeforeOpen(d,this);this._oPopup.attachAfterOpen(e,this);this._oPopup.attachAfterClose(f,this);if(sap.ui.Device.system.desktop){this._oPopoverKeydownEventDelegate={onkeydown:function(E){var k=q.sap.KeyCodes,K=E.which||E.keyCode,A=E.altKey;if((A&&(K===k.ARROW_UP||K===k.ARROW_DOWN))||K===k.F4){_.call(this,E);this.focus();E.preventDefault();}}};this._oPopup.addEventDelegate(this._oPopoverKeydownEventDelegate,this);}this.setAggregation("_popup",this._oPopup,true);}};b.prototype._openPopup=function(){if(!this._oPopup){return;}var p=this._oPopup.getAggregation("_popup");p.oPopup.setAutoCloseAreas([this.getDomRef()]);this._oPopup.openBy(this);var s=this._oPopup.getContent()[0]&&this._oPopup.getContent()[0].getTimeSliders();if(s){q.sap.delayedCall(0,s,s.updateSlidersValues);}};b.prototype._createPopupContent=function(){var n=!this._oCalendar;D.prototype._createPopupContent.apply(this,arguments);if(n){this._oPopupContent.setCalendar(this._oCalendar);this._oCalendar.attachSelect(h,this);}if(!this._oSliders){q.sap.require("sap.m.TimePickerSliders");this._oSliders=new sap.m.TimePickerSliders(this.getId()+"-Sliders",{format:g.call(this),invokedBy:this.getId()});this._oPopupContent.setTimeSliders(this._oSliders);}};b.prototype._fillDateRange=function(){var o=this.getDateValue();if(o){o=new Date(o.getTime());}else{o=new Date();}this._oCalendar.focusDate(o);if(!this._oDateRange.getStartDate()||this._oDateRange.getStartDate().getTime()!=o.getTime()){this._oDateRange.setStartDate(o);}this._oSliders.setTimeValues(o);};b.prototype._getSelectedDate=function(){var o=D.prototype._getSelectedDate.apply(this,arguments);if(o){var i=this._oSliders.getTimeValues();var p=this._oSliders.getFormat();if(p.search("h")>=0||p.search("H")>=0){o.setHours(i.getHours());}if(p.search("m")>=0){o.setMinutes(i.getMinutes());}if(p.search("s")>=0){o.setSeconds(i.getSeconds());}if(o.getTime()<this._oMinDate.getTime()){o=new Date(this._oMinDate.getTime());}else if(o.getTime()>this._oMaxDate.getTime()){o=new Date(this._oMaxDate.getTime());}}return o;};b.prototype.getLocaleId=function(){return sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();};b.prototype.getAccessibilityInfo=function(){var i=D.prototype.getAccessibilityInfo.apply(this,arguments);i.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_DATETIMEINPUT");return i;};function _(E){this._selectDate();}function c(E){this.onsaphide(E);}function d(E){}function e(E){this._oCalendar.focus();this._oSliders._onOrientationChanged();}function f(E){}function g(){var s=this.getDisplayFormat();var t;var B=this.getBinding("value");if(B&&B.oType&&(B.oType instanceof a)){s=B.oType.getOutputPattern();}else{s=this.getDisplayFormat();}if(!s){s="medium";}var S=s.indexOf("/");if(S>0&&this._checkStyle(s)){s=s.substr(S+1);}if(s=="short"||s=="medium"||s=="long"||s=="full"){var L=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var o=sap.ui.core.LocaleData.getInstance(L);t=o.getTimePattern(s);}else{t=s;}return t;}function h(E){this._oPopupContent.switchToTime();}return b;},true);
sap.ui.predefine('sap/m/DateTimePickerRenderer',['jquery.sap.global','sap/ui/core/Renderer','./DatePickerRenderer','./InputBaseRenderer'],function(q,R,D,I){"use strict";var a=R.extend(D);a._getIcon=function(){return"sap-icon://date-time";};a.getDescribedByAnnouncement=function(d){var b=I.getDescribedByAnnouncement.apply(this,arguments);return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("DATETIMEPICKER_TYPE")+" "+b;};return a;},true);
sap.ui.predefine('sap/m/Dialog',['jquery.sap.global','./Bar','./InstanceManager','./AssociativeOverflowToolbar','./ToolbarSpacer','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/core/Popup','sap/ui/core/delegate/ScrollEnablement','sap/ui/core/theming/Parameters','sap/ui/core/RenderManager','sap/ui/core/InvisibleText','sap/ui/core/ResizeHandler','sap/ui/Device','sap/ui/base/ManagedObject'],function(q,B,I,A,T,l,C,a,P,S,b,R,c,d,D,M){"use strict";var V=sap.ui.core.ValueState;var f=D.browser.internet_explorer&&(D.browser.version<10);var g=C.extend("sap.m.Dialog",{metadata:{interfaces:["sap.ui.core.PopupInterface"],library:"sap.m",properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},title:{type:"string",group:"Appearance",defaultValue:null},showHeader:{type:"boolean",group:"Appearance",defaultValue:true},type:{type:"sap.m.DialogType",group:"Appearance",defaultValue:sap.m.DialogType.Standard},state:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:V.None},stretchOnPhone:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},stretch:{type:"boolean",group:"Appearance",defaultValue:false},contentWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},contentHeight:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},horizontalScrolling:{type:"boolean",group:"Behavior",defaultValue:true},verticalScrolling:{type:"boolean",group:"Behavior",defaultValue:true},resizable:{type:"boolean",group:"Behavior",defaultValue:false},draggable:{type:"boolean",group:"Behavior",defaultValue:false},escapeHandler:{type:"any",group:"Behavior",defaultValue:null}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},subHeader:{type:"sap.m.IBar",multiple:false},customHeader:{type:"sap.m.IBar",multiple:false},beginButton:{type:"sap.m.Button",multiple:false},endButton:{type:"sap.m.Button",multiple:false},buttons:{type:"sap.m.Button",multiple:true,singularName:"button"},_header:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_title:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_icon:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_toolbar:{type:"sap.m.OverflowToolbar",multiple:false,visibility:"hidden"},_valueState:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}},associations:{leftButton:{type:"sap.m.Button",multiple:false,deprecated:true},rightButton:{type:"sap.m.Button",multiple:false,deprecated:true},initialFocus:{type:"sap.ui.core.Control",multiple:false},ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{beforeOpen:{},afterOpen:{},beforeClose:{parameters:{origin:{type:"sap.m.Button"}}},afterClose:{parameters:{origin:{type:"sap.m.Button"}}}}}});g._bPaddingByDefault=(sap.ui.getCore().getConfiguration().getCompatibilityVersion("sapMDialogWithPadding").compareTo("1.16")<0);g._mStateClasses={};g._mStateClasses[V.None]="";g._mStateClasses[V.Success]="sapMDialogSuccess";g._mStateClasses[V.Warning]="sapMDialogWarning";g._mStateClasses[V.Error]="sapMDialogError";g._mIcons={};g._mIcons[V.Success]=a.getIconURI("message-success");g._mIcons[V.Warning]=a.getIconURI("message-warning");g._mIcons[V.Error]=a.getIconURI("message-error");g.prototype.init=function(){var t=this;this._externalIcon=undefined;this._oManuallySetSize=null;this._oManuallySetPosition=null;this._bRTL=sap.ui.getCore().getConfiguration().getRTL();this._scrollContentList=["NavContainer","Page","ScrollContainer","SplitContainer"];this.oPopup=new P();this.oPopup.setShadow(true);this.oPopup.setNavigationMode("SCOPE");if(q.device.is.iphone&&!this._bMessageType){this.oPopup.setModal(true,"sapMDialogTransparentBlk");}else{this.oPopup.setModal(true,"sapMDialogBlockLayerInit");}this.oPopup.setAnimations(q.proxy(this._openAnimation,this),q.proxy(this._closeAnimation,this));this.oPopup._applyPosition=function(p,F){t._setDimensions();t._adjustScrollingPane();p.at={};if(t._oManuallySetPosition){p.at.left=t._oManuallySetPosition.x;p.at.top=t._oManuallySetPosition.y;}else{p.at.top='50%';if(t._bRTL){p.at.left='auto';}else{p.at.left='50%';}}t._deregisterContentResizeHandler();P.prototype._applyPosition.call(this,p);t._registerContentResizeHandler();};if(g._bPaddingByDefault){this.addStyleClass("sapUiPopupWithPadding");}};g.prototype.onBeforeRendering=function(){if(this._hasSingleScrollableContent()){this.setProperty("verticalScrolling",false);this.setProperty("horizontalScrolling",false);q.sap.log.info("VerticalScrolling and horizontalScrolling in sap.m.Dialog with ID "+this.getId()+" has been disabled because there's scrollable content inside");}else if(!this._oScroller){this._oScroller=new S(this,this.getId()+"-scroll",{horizontal:this.getHorizontalScrolling(),vertical:this.getVerticalScrolling()});}this._createToolbarButtons();if(sap.ui.getCore().getConfiguration().getAccessibility()&&this.getState()!=V.None){var v=new c({text:this.getValueStateString(this.getState())});this.setAggregation("_valueState",v);this.addAriaLabelledBy(v.getId());}};g.prototype.onAfterRendering=function(){this._$scrollPane=this.$("scroll");this._$content=this.$("cont");this._$dialog=this.$();if(this.isOpen()){this._setInitialFocus();}if(this.getType()===sap.m.DialogType.Message||(D.system.phone&&!this.getStretch())){this.$("footer").removeClass("sapContrast sapContrastPlus");}};g.prototype.exit=function(){I.removeDialogInstance(this);this._deregisterContentResizeHandler();this._deregisterResizeHandler();if(this.oPopup){this.oPopup.detachOpened(this._handleOpened,this);this.oPopup.detachClosed(this._handleClosed,this);this.oPopup.destroy();this.oPopup=null;}if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}if(this._header){this._header.destroy();this._header=null;}if(this._headerTitle){this._headerTitle.destroy();this._headerTitle=null;}if(this._iconImage){this._iconImage.destroy();this._iconImage=null;}if(this._toolbarSpacer){this._toolbarSpacer.destroy();this._toolbarSpacer=null;}};g.prototype.open=function(){var p=this.oPopup;p.setInitialFocusId(this.getId());var o=p.getOpenState();switch(o){case sap.ui.core.OpenState.OPEN:case sap.ui.core.OpenState.OPENING:return this;case sap.ui.core.OpenState.CLOSING:this._bOpenAfterClose=true;break;default:}this._oCloseTrigger=null;this.fireBeforeOpen();p.attachOpened(this._handleOpened,this);p.setContent(this);p.open();this._registerResizeHandler();I.addDialogInstance(this);return this;};g.prototype.close=function(){this._bOpenAfterClose=false;this.$().removeClass('sapDialogDisableTransition');this._deregisterResizeHandler();var p=this.oPopup;var e=this.oPopup.getOpenState();if(!(e===sap.ui.core.OpenState.CLOSED||e===sap.ui.core.OpenState.CLOSING)){sap.m.closeKeyboard();this.fireBeforeClose({origin:this._oCloseTrigger});p.attachClosed(this._handleClosed,this);this._bDisableRepositioning=false;this._oManuallySetPosition=null;this._oManuallySetSize=null;p.close();this._deregisterContentResizeHandler();}return this;};g.prototype.isOpen=function(){return this.oPopup&&this.oPopup.isOpen();};g.prototype._handleOpened=function(){this.oPopup.detachOpened(this._handleOpened,this);this._setInitialFocus();this.fireAfterOpen();};g.prototype._handleClosed=function(){if(!this.oPopup){return;}this.oPopup.detachClosed(this._handleClosed,this);if(this.getDomRef()){R.preserveContent(this.getDomRef());this.$().remove();}I.removeDialogInstance(this);this.fireAfterClose({origin:this._oCloseTrigger});if(this._bOpenAfterClose){this._bOpenAfterClose=false;this.open();}};g.prototype.onfocusin=function(e){var s=e.target;if(s.id===this.getId()+"-firstfe"){var L=this.$("footer").lastFocusableDomRef()||this.$("cont").lastFocusableDomRef()||(this.getSubHeader()&&this.getSubHeader().$().firstFocusableDomRef())||(this._getAnyHeader()&&this._getAnyHeader().$().lastFocusableDomRef());if(L){q.sap.focus(L);}}else if(s.id===this.getId()+"-lastfe"){var F=(this._getAnyHeader()&&this._getAnyHeader().$().firstFocusableDomRef())||(this.getSubHeader()&&this.getSubHeader().$().firstFocusableDomRef())||this.$("cont").firstFocusableDomRef()||this.$("footer").firstFocusableDomRef();if(F){q.sap.focus(F);}}};g.prototype._getPromiseWrapper=function(){var t=this;return{reject:function(){t.currentPromise.reject();},resolve:function(){t.currentPromise.resolve();}};};g.prototype.onsapescape=function(e){var E=this.getEscapeHandler(),p={},t=this;if(e.originalEvent&&e.originalEvent._sapui_handledByControl){return;}if(typeof E==='function'){new window.Promise(function(r,i){p.resolve=r;p.reject=i;t.currentPromise=p;E(t._getPromiseWrapper());}).then(function(r){t.close();}).catch(function(){q.sap.log.info("Disallow dialog closing");});}else{this.close();}e.stopPropagation();};g.prototype._openAnimation=function(r,i,o){q.sap.delayedCall(0,this,function(){r.addClass("sapMDialogOpen");});if(f){r.fadeIn(200,o);}else{r.css("display","block");setTimeout(o,210);}};g.prototype._closeAnimation=function(r,i,e){r.removeClass("sapMDialogOpen");if(f){r.fadeOut(200,e);}else{setTimeout(e,210);}};g.prototype._setDimensions=function(){var $=this.$(),s=this.getStretch(),e=this.getStretchOnPhone()&&D.system.phone,m=this._bMessageType,o={};if(!s){if(!this._oManuallySetSize){o.width=this.getContentWidth()||undefined;o.height=this.getContentHeight()||undefined;}else{o.width=this._oManuallySetSize.width;o.height=this._oManuallySetSize.height;}}if(o.width=='auto'){o.width=undefined;}if(o.height=='auto'){o.height=undefined;}if((s&&!m)||(e)){this.$().addClass('sapMDialogStretched');}$.css(o);if(!s&&!this._oManuallySetSize&&!this._bDisableRepositioning){this._applyCustomTranslate();}if(window.navigator.userAgent.toLowerCase().indexOf("chrome")!==-1&&this.getStretch()){$.find('> footer').css({bottom:'0.001px'});}};g.prototype._adjustScrollingPane=function(){if(this._oScroller){this._oScroller.refresh();}};g.prototype._reposition=function(){};g.prototype._repositionAfterOpen=function(){};g.prototype._reapplyPosition=function(){this._adjustScrollingPane();};g.prototype._onResize=function(){var $=this.$(),e=this.$('cont'),s=this.getContentHeight(),i,j=2;if(this._oManuallySetSize){return;}if(!s||s=='auto'){e.css({height:'auto'});i=parseFloat($.height())+j;e.height(Math.round(i));}if(!this.getStretch()&&!this._oManuallySetSize&&!this._bDisableRepositioning){this._applyCustomTranslate();}if(D.browser.chrome){var F=this.$("footer");F.css("height","auto");setTimeout(function(){F.css("height","");},10);}};g.prototype._applyCustomTranslate=function(){var $=this.$(),t,s,i=$.innerWidth(),e=$.innerHeight();if(D.system.desktop&&(i%2!==0||e%2!==0)){if(!this._bRTL){t='-'+Math.floor(i/2)+"px";}else{t=Math.floor(i/2)+"px";}s='-'+Math.floor(e/2)+"px";$.css('transform','translate('+t+','+s+') scale(1)');}else{$.css('transform','');}};g.prototype._createHeader=function(){if(!this._header){this._header=new B(this.getId()+"-header").addStyleClass("sapMDialogTitle");this.setAggregation("_header",this._header,false);}};g.prototype._hasSingleScrollableContent=function(){var e=this.getContent(),i;while(e.length===1&&e[0]instanceof sap.ui.core.mvc.View){e=e[0].getContent();}if(e.length===1){for(i=0;i<this._scrollContentList.length;i++){if(e[0]instanceof sap.m[this._scrollContentList[i]]){return true;}}}return false;};g.prototype._initBlockLayerAnimation=function(){this.oPopup._hideBlockLayer=function(){var $=q("#sap-ui-blocklayer-popup");$.removeClass("sapMDialogTransparentBlk");P.prototype._hideBlockLayer.call(this);};};g.prototype._clearBlockLayerAnimation=function(){if(q.device.is.iphone&&!this._bMessageType){delete this.oPopup._showBlockLayer;this.oPopup._hideBlockLayer=function(){var $=q("#sap-ui-blocklayer-popup");$.removeClass("sapMDialogTransparentBlk");P.prototype._hideBlockLayer.call(this);};}};g.prototype._getFocusId=function(){return this.getInitialFocus()||this._getFirstFocusableContentSubHeader()||this._getFirstFocusableContentElementId()||this._getFirstVisibleButtonId()||this.getId();};g.prototype._getFirstVisibleButtonId=function(){var o=this.getBeginButton(),e=this.getEndButton(),j=this.getButtons(),s="";if(o&&o.getVisible()){s=o.getId();}else if(e&&e.getVisible()){s=e.getId();}else if(j&&j.length>0){for(var i=0;i<j.length;i++){if(j[i].getVisible()){s=j[i].getId();break;}}}return s;};g.prototype._getFirstFocusableContentSubHeader=function(){var $=this.$().find('.sapMDialogSubHeader');var r;var F=$.firstFocusableDomRef();if(F){r=F.id;}return r;};g.prototype._getFirstFocusableContentElementId=function(){var r="";var $=this.$("cont");var F=$.firstFocusableDomRef();if(F){r=F.id;}return r;};g.prototype._setInitialFocus=function(){var F=this._getFocusId();var o=sap.ui.getCore().byId(F);var e;if(o){if(o.getVisible&&!o.getVisible()){this.focus();return;}e=o.getFocusDomRef();}e=e||q.sap.domById(F);if(!e){this.setInitialFocus("");e=sap.ui.getCore().byId(this._getFocusId());}if(!this.getInitialFocus()){this.setAssociation('initialFocus',e?e.id:this.getId(),true);}if(D.system.desktop||(e&&!/input|textarea|select/i.test(e.tagName))){q.sap.focus(e);}else{this.focus();}};g.prototype.getScrollDelegate=function(){return this._oScroller;};g.prototype._composeAggreNameInHeader=function(p){var H;if(p==="Begin"){H="contentLeft";}else if(p==="End"){H="contentRight";}else{H="content"+p;}return H;};g.prototype._isToolbarEmpty=function(){var e=this._oToolbar.getContent().filter(function(i){return i.getMetadata().getName()!=='sap.m.ToolbarSpacer';});return e.length===0;};g.prototype._setButton=function(o,p,s){return this;};g.prototype._getButton=function(p){var s=p.toLowerCase()+"Button",e="_o"+this._firstLetterUpperCase(p)+"Button";if(D.system.phone){return this.getAggregation(s,null,true);}else{return this[e];}};g.prototype._getButtonFromHeader=function(p){if(this._header){var H=this._composeAggreNameInHeader(this._firstLetterUpperCase(p)),e=this._header.getAggregation(H);return e&&e[0];}else{return null;}};g.prototype._firstLetterUpperCase=function(v){return v.charAt(0).toUpperCase()+v.slice(1);};g.prototype._getAnyHeader=function(){var o=this.getCustomHeader();if(o){return o;}else{var s=this.getShowHeader();if(!s){return null;}this._createHeader();return this._header;}};g.prototype._deregisterResizeHandler=function(){if(this._resizeListenerId){d.deregister(this._resizeListenerId);this._resizeListenerId=null;}D.resize.detachHandler(this._onResize,this);};g.prototype._registerResizeHandler=function(){var _=this.$("scroll");this._resizeListenerId=d.register(_.get(0),q.proxy(this._onResize,this));D.resize.attachHandler(this._onResize,this);this._onResize();};g.prototype._deregisterContentResizeHandler=function(){if(this._sContentResizeListenerId){d.deregister(this._sContentResizeListenerId);this._sContentResizeListenerId=null;}};g.prototype._registerContentResizeHandler=function(){if(!this._sContentResizeListenerId){this._sContentResizeListenerId=d.register(this.getDomRef("scrollCont"),q.proxy(this._onResize,this));}this._onResize();};g.prototype._attachHandler=function(o){var t=this;if(!this._oButtonDelegate){this._oButtonDelegate={ontap:function(){t._oCloseTrigger=this;}};}if(o){o.addDelegate(this._oButtonDelegate,true,o);}};g.prototype._createToolbarButtons=function(){var t=this._getToolbar();var e=this.getButtons();var i=this.getBeginButton();var j=this.getEndButton(),k=this,m=[i,j];m.forEach(function(o){if(o&&k._oButtonDelegate){o.removeDelegate(k._oButtonDelegate);}});t.removeAllContent();if(!("_toolbarSpacer"in this)){this._toolbarSpacer=new T();}t.addContent(this._toolbarSpacer);m.forEach(function(o){k._attachHandler(o);});if(e&&e.length){e.forEach(function(n){t.addContent(n);});}else{if(i){t.addContent(i);}if(j){t.addContent(j);}}};g.prototype._getToolbar=function(){if(!this._oToolbar){this._oToolbar=new A(this.getId()+"-footer").addStyleClass("sapMTBNoBorders").applyTagAndContextClassFor("footer");this._oToolbar._isControlsInfoCached=function(){return false;};this.setAggregation("_toolbar",this._oToolbar);}return this._oToolbar;};g.prototype.getValueStateString=function(v){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");switch(v){case(sap.ui.core.ValueState.Success):return r.getText("LIST_ITEM_STATE_SUCCESS");case(sap.ui.core.ValueState.Warning):return r.getText("LIST_ITEM_STATE_WARNING");case(sap.ui.core.ValueState.Error):return r.getText("LIST_ITEM_STATE_ERROR");default:return"";}};g.prototype.setSubHeader=function(o){this.setAggregation("subHeader",o);if(o){o.setVisible=function(i){this.$().toggleClass('sapMDialogWithSubHeader',i);o.setProperty("visible",i);}.bind(this);}return o;};g.prototype.setLeftButton=function(v){if(!(v instanceof sap.m.Button)){v=sap.ui.getCore().byId(v);}this.setBeginButton(v);return this.setAssociation("leftButton",v);};g.prototype.setRightButton=function(v){if(!(v instanceof sap.m.Button)){v=sap.ui.getCore().byId(v);}this.setEndButton(v);return this.setAssociation("rightButton",v);};g.prototype.getLeftButton=function(){var o=this.getBeginButton();return o?o.getId():null;};g.prototype.getRightButton=function(){var e=this.getEndButton();return e?e.getId():null;};g.prototype.getAggregation=function(s,o,p){var e=C.prototype.getAggregation.apply(this,Array.prototype.slice.call(arguments,0,2));if(s==='buttons'&&e.length===0){this.getBeginButton()&&e.push(this.getBeginButton());this.getEndButton()&&e.push(this.getEndButton());}return e;};g.prototype.getAriaLabelledBy=function(){var e=this._getAnyHeader(),i=this.getAssociation("ariaLabelledBy",[]).slice();var s=this.getSubHeader();if(s){i.unshift(s.getId());}if(e){i.unshift(e.getId());}return i;};g.prototype.setTitle=function(t){this.setProperty("title",t,true);if(this._headerTitle){this._headerTitle.setText(t);}else{this._headerTitle=new sap.m.Title(this.getId()+"-title",{text:t,level:"H1"}).addStyleClass("sapMDialogTitle");this._createHeader();this._header.addContentMiddle(this._headerTitle);}return this;};g.prototype.setCustomHeader=function(o){if(o){o.addStyleClass("sapMDialogTitle");}this.setAggregation("customHeader",o);};g.prototype.setState=function(s){var F={},$=this.$(),n;F[s]=true;this.setProperty("state",s,true);for(n in g._mStateClasses){$.toggleClass(g._mStateClasses[n],!!F[n]);}this.setIcon(g._mIcons[s],true);return this;};g.prototype.setIcon=function(i,e){if(!e){this._externalIcon=i;}else{if(this._externalIcon){i=this._externalIcon;}}if(i){if(i!==this.getIcon()){if(this._iconImage){this._iconImage.setSrc(i);}else{this._iconImage=a.createControlByURI({id:this.getId()+"-icon",src:i,useIconTooltip:false},sap.m.Image).addStyleClass("sapMDialogIcon");this._createHeader();this._header.insertAggregation("contentMiddle",this._iconImage,0);}}}else{var s=this.getState();if(!e&&s!==V.None){if(this._iconImage){this._iconImage.setSrc(g._mIcons[s]);}}else{if(this._iconImage){this._iconImage.destroy();this._iconImage=null;}}}this.setProperty("icon",i,true);return this;};g.prototype.setType=function(t){var o=this.getType();if(o===t){return this;}this._bMessageType=(t===sap.m.DialogType.Message);return this.setProperty("type",t,false);};g.prototype.setStretch=function(s){this._bStretchSet=true;return this.setProperty("stretch",s);};g.prototype.setStretchOnPhone=function(s){if(this._bStretchSet){q.sap.log.warning("sap.m.Dialog: stretchOnPhone property is deprecated. Setting stretchOnPhone property is ignored when there's already stretch property set.");return this;}this.setProperty("stretchOnPhone",s);return this.setProperty("stretch",s&&D.system.phone);};g.prototype.setVerticalScrolling=function(v){var o=this.getVerticalScrolling(),H=this._hasSingleScrollableContent();if(H){q.sap.log.warning("sap.m.Dialog: property verticalScrolling automatically reset to false. See documentation.");v=false;}if(o===v){return this;}this.$().toggleClass("sapMDialogVerScrollDisabled",!v);this.setProperty("verticalScrolling",v);if(this._oScroller){this._oScroller.setVertical(v);}return this;};g.prototype.setHorizontalScrolling=function(v){var o=this.getHorizontalScrolling(),H=this._hasSingleScrollableContent();if(H){q.sap.log.warning("sap.m.Dialog: property horizontalScrolling automatically reset to false. See documentation.");v=false;}if(o===v){return this;}this.$().toggleClass("sapMDialogHorScrollDisabled",!v);this.setProperty("horizontalScrolling",v);if(this._oScroller){this._oScroller.setHorizontal(v);}return this;};g.prototype.setInitialFocus=function(i){return this.setAssociation("initialFocus",i,true);};g.prototype.forceInvalidate=C.prototype.invalidate;g.prototype.invalidate=function(o){if(this.isOpen()){this.forceInvalidate(o);}};function h(e){var $=q(e);var o=$.control(0);if(!o||o.getMetadata().getInterfaces().indexOf("sap.m.IBar")>-1){return true;}return $.hasClass('sapMDialogTitle');}if(D.system.desktop){g.prototype.ondblclick=function(e){if(h(e.target)){this._bDisableRepositioning=false;this._oManuallySetPosition=null;this._oManuallySetSize=null;this.oPopup&&this.oPopup._applyPosition(this.oPopup._oLastPosition,true);this._$dialog.removeClass('sapMDialogTouched');}};g.prototype.onmousedown=function(e){if(e.which===3){return;}if(this.getStretch()||(!this.getDraggable()&&!this.getResizable())){return;}var t;var i=this;var $=q(document);var j=q(e.target);var r=j.hasClass('sapMDialogResizeHandler')&&this.getResizable();var m=function(v){t=t?clearTimeout(t):setTimeout(function(){v();},0);};var k=30;var w=window.innerWidth;var n=window.innerHeight;var o={x:e.pageX,y:e.pageY,width:i._$dialog.width(),height:i._$dialog.height(),offset:{x:e.offsetX?e.offsetX:e.originalEvent.layerX,y:e.offsetY?e.offsetY:e.originalEvent.layerY},position:{x:i._$dialog.offset().left,y:i._$dialog.offset().top}};if((h(e.target)&&this.getDraggable())||r){i._bDisableRepositioning=true;i._$dialog.addClass('sapDialogDisableTransition');i._$dialog.addClass('sapMDialogTouched');i._oManuallySetPosition={x:o.position.x,y:o.position.y};i._$dialog.css({left:Math.min(Math.max(0,i._oManuallySetPosition.x),w-k),top:Math.min(Math.max(0,i._oManuallySetPosition.y),n-k),transform:""});}if(h(e.target)&&this.getDraggable()){$.on("mousemove.sapMDialog",function(e){m(function(){i._bDisableRepositioning=true;i._oManuallySetPosition={x:e.pageX-o.offset.x,y:e.pageY-o.offset.y};i._$dialog.css({left:Math.min(Math.max(0,i._oManuallySetPosition.x),w-k),top:Math.min(Math.max(0,i._oManuallySetPosition.y),n-k),transform:""});});});}else if(r){i._$dialog.addClass('sapMDialogResizing');var s={};var p=parseInt(i._$dialog.css('min-width'),10);var u=o.x+o.width-p;i.$('cont').height('');$.on("mousemove.sapMDialog",function(e){m(function(){i._bDisableRepositioning=true;i._oManuallySetSize={width:o.width+e.pageX-o.x,height:o.height+e.pageY-o.y};if(i._bRTL){s.left=Math.min(Math.max(e.pageX,0),u);s.transform="";i._oManuallySetSize.width=o.width+o.x-Math.max(e.pageX,0);}s.width=i._oManuallySetSize.width;s.height=i._oManuallySetSize.height;i._$dialog.css(s);});});}else{return;}$.on("mouseup.sapMDialog",function(){var v=i.$(),x=i.$('cont');$.off("mouseup.sapMDialog, mousemove.sapMDialog");if(r){i._$dialog.removeClass('sapMDialogResizing');x.height(parseInt(v.height(),10)+parseInt(v.css("border-top-width"),10)+parseInt(v.css("border-bottom-width"),10));}});e.preventDefault();e.stopPropagation();};}g.prototype._applyContextualSettings=function(){M.prototype._applyContextualSettings.call(this,M._defaultContextualSettings);};return g;},true);
sap.ui.predefine('sap/m/DialogRenderer',['jquery.sap.global','./BarRenderer'],function(q,B){"use strict";var D={};D.render=function(r,c){var a=c.getId(),t=c.getType(),h=c._getAnyHeader(),s=c.getSubHeader(),m=(t===sap.m.DialogType.Message),l=c.getBeginButton(),R=c.getEndButton(),H=c.getHorizontalScrolling(),v=c.getVerticalScrolling(),S=c.getState(),b=c.getStretch(),d=c.getStretchOnPhone()&&sap.ui.Device.system.phone,e=c.getResizable(),f=c.getDraggable(),V=c.getAggregation("_valueState");if(h){h.applyTagAndContextClassFor("header");}if(s){s.applyTagAndContextClassFor("subheader");}var g=c.getContentWidth()&&c.getContentWidth()!='auto'?' width: '+c.getContentWidth()+';':'';var j=c.getContentHeight()&&c.getContentHeight()!='auto'?' height: '+c.getContentHeight()+';':'';var k="style='"+g+j+"'";r.write('<div '+k);r.writeControlData(c);r.addClass("sapMDialog");r.addClass("sapMDialog-CTX");r.addClass("sapMPopup-CTX");if(c.isOpen()){r.addClass("sapMDialogOpen");}if(window.devicePixelRatio>1){r.addClass("sapMDialogHighPixelDensity");}if(c._bDisableRepositioning){r.addClass("sapMDialogTouched");}if(b||(d)){r.addClass("sapMDialogStretched");}r.addClass(sap.m.Dialog._mStateClasses[S]);var n=!c._oToolbar&&!l&&!R;var o=c._oToolbar&&c._isToolbarEmpty()&&!l&&!R;if(n||o){r.addClass("sapMDialog-NoFooter");}if(!h){r.addClass("sapMDialog-NoHeader");}if(S==="Error"||S==="Warning"){r.writeAccessibilityState(c,{role:"alertdialog"});}else{r.writeAccessibilityState(c,{role:"dialog"});}if(c._forceDisableScrolling){r.addClass("sapMDialogWithScrollCont");}if(s&&s.getVisible()){r.addClass("sapMDialogWithSubHeader");}if(m){r.addClass("sapMMessageDialog");}if(!v){r.addClass("sapMDialogVerScrollDisabled");}if(!H){r.addClass("sapMDialogHorScrollDisabled");}if(sap.ui.Device.system.phone){r.addClass("sapMDialogPhone");}if(f&&!b){r.addClass("sapMDialogDraggable");}if(sap.m._bSizeCompact){r.addClass("sapUiSizeCompact");}r.writeClasses();var T=c.getTooltip_AsString();if(T){r.writeAttributeEscaped("title",T);}r.writeAttribute("tabindex","-1");r.write(">");if(sap.ui.Device.system.desktop){if(e&&!b){r.writeIcon("sap-icon://resize-corner",["sapMDialogResizeHandler"],{"title":""});}r.write('<span id="'+c.getId()+'-firstfe" tabindex="0"/>');}if(h){r.renderControl(h);}if(s){s.addStyleClass("sapMDialogSubHeader");r.renderControl(s);}if(V){r.renderControl(V);}r.write('<section id="'+a+'-cont" class="sapMDialogSection">');r.write('<div id="'+a+'-scroll" class="sapMDialogScroll">');r.write('<div id="'+a+'-scrollCont" class="sapMDialogScrollCont');if(c.getStretch()||j){r.write(' sapMDialogStretchContent');}r.write('">');var C=c.getContent();for(var i=0;i<C.length;i++){r.renderControl(C[i]);}r.write("</div>");r.write("</div>");r.write("</section>");if(!(n||o)){r.renderControl(c._oToolbar);}if(sap.ui.Device.system.desktop){r.write('<span id="'+c.getId()+'-lastfe" tabindex="0"/>');}r.write("</div>");};return D;},true);
sap.ui.predefine('sap/m/DisplayListItem',['jquery.sap.global','./ListItemBase','./library'],function(q,L,l){"use strict";var D=L.extend("sap.m.DisplayListItem",{metadata:{library:"sap.m",properties:{label:{type:"string",group:"Misc",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null},valueTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit}}}});D.prototype.getContentAnnouncement=function(){return this.getLabel()+" "+this.getValue();};return D;},true);
sap.ui.predefine('sap/m/DisplayListItemRenderer',['jquery.sap.global','./ListItemBaseRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var D=R.extend(L);D.renderLIAttributes=function(r,l){r.addClass("sapMDLI");};D.renderLIContent=function(r,l){var i=l.getLabel();if(i){r.write("<label for='"+l.getId()+"-value' class='sapMDLILabel'>");r.writeEscaped(l.getLabel());r.write("</label>");}var a=l.getValue();var v=l.getValueTextDirection();if(a){r.write("<div id='"+l.getId()+"-value' class='sapMDLIValue'");if(v!=sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",v.toLowerCase());}r.write(">");r.writeEscaped(l.getValue());r.write("</div>");}};return D;},true);
sap.ui.predefine('sap/m/DraftIndicator',["sap/ui/core/Control","sap/m/Label"],function(C,L){"use strict";var D=C.extend("sap.m.DraftIndicator",{metadata:{properties:{state:{type:"sap.m.DraftIndicatorState",group:"Behavior",defaultValue:sap.m.DraftIndicatorState.Clear},minDisplayTime:{type:"int",group:"Behavior",defaultValue:1500}},aggregations:{_label:{type:"sap.m.Label",multiple:false,visibility:"hidden"}}}});var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");D._oTEXTS={};D._oTEXTS[sap.m.DraftIndicatorState.Saving]=b.getText("DRAFT_INDICATOR_SAVING_DRAFT");D._oTEXTS[sap.m.DraftIndicatorState.Saved]=b.getText("DRAFT_INDICATOR_DRAFT_SAVED");D._oTEXTS[sap.m.DraftIndicatorState.Clear]="";D.prototype.init=function(){this.aQueue=[];this.iDelayedCallId=null;};D.prototype.setState=function(s){this.setProperty("state",s);this._addToQueue(s);if(s===sap.m.DraftIndicatorState.Saving){this._addToQueue(sap.m.DraftIndicatorState.Clear);}return this;};D.prototype._getLabel=function(){var c=this.getAggregation('_label');if(!c){var c=new sap.m.Label({id:this.getId()+"-label"});this.setAggregation('_label',c,true);c=this.getAggregation('_label');}return c;};D.prototype.showDraftSaving=function(){this._addToQueue(sap.m.DraftIndicatorState.Saving);this._addToQueue(sap.m.DraftIndicatorState.Clear);};D.prototype.showDraftSaved=function(){this._addToQueue(sap.m.DraftIndicatorState.Saved);};D.prototype.clearDraftState=function(){this._addToQueue(sap.m.DraftIndicatorState.Clear);};D.prototype._addToQueue=function(s){this.aQueue.push(s);this._processQueue();};D.prototype._processQueue=function(){if(this.iDelayedCallId){return;}var n=this.aQueue.shift();var t=this.getMinDisplayTime();if(!n){return;}this._applyState(n);if(n===sap.m.DraftIndicatorState.Clear){this._proceed();return;}this.iDelayedCallId=jQuery.sap.delayedCall(t,this,this._proceed);};D.prototype._proceed=function(){this._resetDraftTimer();this._processQueue();};D.prototype._applyState=function(s){this._getLabel().setText(D._oTEXTS[s]);};D.prototype._resetDraftTimer=function(){jQuery.sap.clearDelayedCall(this.iDelayedCallId);this.iDelayedCallId=null;};return D;},true);
sap.ui.predefine('sap/m/DraftIndicatorRenderer',['jquery.sap.global'],function(q){"use strict";var D={};D.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapMDraftIndicator");r.writeClasses();r.write(">");var l=c._getLabel();r.renderControl(l);r.write("</div>");};return D;},true);
sap.ui.predefine('sap/m/FacetFilter',['jquery.sap.global','./NavContainer','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/core/delegate/ItemNavigation'],function(q,N,l,C,I,a){"use strict";var F=C.extend("sap.m.FacetFilter",{metadata:{interfaces:["sap.ui.core.IShrinkable"],library:"sap.m",properties:{showPersonalization:{type:"boolean",group:"Appearance",defaultValue:false},type:{type:"sap.m.FacetFilterType",group:"Appearance",defaultValue:sap.m.FacetFilterType.Simple},liveSearch:{type:"boolean",group:"Behavior",defaultValue:true},showSummaryBar:{type:"boolean",group:"Behavior",defaultValue:false},showReset:{type:"boolean",group:"Behavior",defaultValue:true},showPopoverOKButton:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"lists",aggregations:{lists:{type:"sap.m.FacetFilterList",multiple:true,singularName:"list"},buttons:{type:"sap.m.Button",multiple:true,singularName:"button",visibility:"hidden"},removeFacetIcons:{type:"sap.ui.core.Icon",multiple:true,singularName:"removeFacetIcon",visibility:"hidden"},popover:{type:"sap.m.Popover",multiple:false,visibility:"hidden"},addFacetButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},dialog:{type:"sap.m.Dialog",multiple:false,visibility:"hidden"},summaryBar:{type:"sap.m.Toolbar",multiple:false,visibility:"hidden"},resetButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},arrowLeft:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},arrowRight:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},events:{reset:{},confirm:{}}}});F.SCROLL_STEP=264;F.prototype.setType=function(t){var s=this.getAggregation("summaryBar");if(sap.ui.Device.system.phone){this.setProperty("type",sap.m.FacetFilterType.Light);s.setActive(true);}else{this.setProperty("type",t);s.setActive(t===sap.m.FacetFilterType.Light);}if(t===sap.m.FacetFilterType.Light){if(this.getShowReset()){this._addResetToSummary(s);}else{this._removeResetFromSummary(s);}}return this;};F.prototype.setShowReset=function(v){this.setProperty("showReset",v);var s=this.getAggregation("summaryBar");if(v){if(this.getShowSummaryBar()||this.getType()===sap.m.FacetFilterType.Light){this._addResetToSummary(s);}}else{if(this.getShowSummaryBar()||this.getType()===sap.m.FacetFilterType.Light){this._removeResetFromSummary(s);}}return this;};F.prototype.setShowSummaryBar=function(v){this.setProperty("showSummaryBar",v);if(v){var s=this.getAggregation("summaryBar");if(this.getShowReset()){this._addResetToSummary(s);}else{this._removeResetFromSummary(s);}s.setActive(this.getType()===sap.m.FacetFilterType.Light);}return this;};F.prototype.setLiveSearch=function(v){this.setProperty("liveSearch",v);if(this._displayedList){var L=this._displayedList;var s=sap.ui.getCore().byId(L.getAssociation("search"));s.detachLiveChange(L._handleSearchEvent,L);if(v){s.attachLiveChange(L._handleSearchEvent,L);}}return this;};F.prototype.getLists=function(){var L=this.getAggregation("lists");if(!L){L=[];}if(this._displayedList){L.splice(this._listAggrIndex,0,this._displayedList);}return L;};F.prototype.removeList=function(o){var L=sap.ui.base.ManagedObject.prototype.removeAggregation.call(this,"lists",o);this._removeList(L);return L;};F.prototype.removeAggregation=function(){var L=sap.ui.base.ManagedObject.prototype.removeAggregation.apply(this,arguments);if(arguments[0]==="lists"){this._removeList(L);}return L;};F.prototype.openFilterDialog=function(){var d=this._getFacetDialog();var n=this._getFacetDialogNavContainer();d.addContent(n);this.getLists().forEach(function(L){L._preserveOriginalActiveState();});d.setInitialFocus(n.getPages()[0].getContent()[0].getItems()[0]);d.open();return this;};F.prototype.init=function(){this._pageSize=5;this._addDelegateFlag=false;this._invalidateFlag=false;this._closePopoverFlag=false;this._lastCategoryFocusIndex=0;this._aDomRefs=null;this._previousTarget=null;this._addTarget=null;this._aRows=null;this._bundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");this.data("sap-ui-fastnavgroup","true",true);this._buttons={};this._removeFacetIcons={};this._listAggrIndex=-1;this._displayedList=null;this._lastScrolling=false;this._bPreviousScrollForward=false;this._bPreviousScrollBack=false;this._getAddFacetButton();this._getSummaryBar();this.setAggregation("resetButton",this._createResetButton());if(q.sap.touchEventMode==="ON"&&!sap.ui.Device.system.phone){this._enableTouchSupport();}if(sap.ui.Device.system.phone){this.setType(sap.m.FacetFilterType.Light);}};F.prototype.exit=function(){sap.ui.getCore().detachIntervalTimer(this._checkOverflow,this);if(this.oItemNavigation){this.removeDelegate(this.oItemNavigation);this.oItemNavigation.destroy();}};F.prototype.onBeforeRendering=function(){if(this.getShowSummaryBar()||this.getType()===sap.m.FacetFilterType.Light){var s=this.getAggregation("summaryBar");var t=s.getContent()[0];t.setText(this._getSummaryText());t.setTooltip(this._getSummaryText());}sap.ui.getCore().detachIntervalTimer(this._checkOverflow,this);};F.prototype.onAfterRendering=function(){if(this.getType()!==sap.m.FacetFilterType.Light&&!sap.ui.Device.system.phone){sap.ui.getCore().attachIntervalTimer(this._checkOverflow,this);}this._startItemNavigation();};F.prototype._startItemNavigation=function(){var f=this.getDomRef(),r=f.getElementsByClassName("sapMFFHead"),d=[];if(r.length>0){for(var i=0;i<r[0].childNodes.length;i++){if(r[0].childNodes[i].id.indexOf("ff")<0&&r[0].childNodes[i].id.indexOf("icon")<0&&r[0].childNodes[i].id.indexOf("add")<0){d.push(r[0].childNodes[i]);}if(r[0].childNodes[i].id.indexOf("add")>=0){d.push(r[0].childNodes[i]);}}}if(d!=""){this._aDomRefs=d;}if((!this.oItemNavigation)||this._addDelegateFlag==true){this.oItemNavigation=new a();this.addDelegate(this.oItemNavigation);this._addDelegateFlag=false;}this._aRows=r;for(var i=0;i<this.$().find(":sapTabbable").length;i++){if(this.$().find(":sapTabbable")[i].id.indexOf("add")>=0){this._addTarget=this.$().find(":sapTabbable")[i];break;}}this.oItemNavigation.setRootDomRef(f);this.oItemNavigation.setItemDomRefs(d);this.oItemNavigation.setCycling(false);this.oItemNavigation.setPageSize(this._pageSize);};F.prototype.onsapdelete=function(e){var b,L;if(!this.getShowPersonalization()){return;}b=sap.ui.getCore().byId(e.target.id);if(!b){return;}L=sap.ui.getCore().byId(b.getAssociation("list"));if(!L){return;}if(!L.getShowRemoveFacetIcon()){return;}L.removeSelections(true);L.setSelectedKeys();L.setProperty("active",false,true);this.invalidate();var t=this.$().find(":sapTabbable");q(t[t.length-1]).focus();var n=this.oItemNavigation.getFocusedIndex();q(e.target).blur();this.oItemNavigation.setFocusedIndex(n+1);this.focus();if(this.oItemNavigation.getFocusedIndex()==0){for(var k=0;k<this.$().find(":sapTabbable").length-1;k++){if(t[k].id.indexOf("add")>=0){q(t[k]).focus();}}}};F.prototype.onsaptabnext=function(e){this._previousTarget=e.target;if(e.target.parentNode.className=="sapMFFHead"){for(var i=0;i<this.$().find(":sapTabbable").length;i++){if(this.$().find(":sapTabbable")[i].parentNode.className=="sapMFFResetDiv"){q(this.$().find(":sapTabbable")[i]).focus();e.preventDefault();e.setMarked();return;}}}this._lastCategoryFocusIndex=this.oItemNavigation.getFocusedIndex();if(this._invalidateFlag==true){this.oItemNavigation.setFocusedIndex(-1);this.focus();this._invalidateFlag=false;}if(this._closePopoverFlag==true){this.oItemNavigation.setFocusedIndex(-1);this.focus();this._closePopoverFlag=false;}};F.prototype.onsaptabprevious=function(e){if(e.target.parentNode.className=="sapMFFResetDiv"&&this._previousTarget==null){q(this.$().find(":sapTabbable")[0]).focus();e.preventDefault();e.setMarked();return;}if(e.target.parentNode.className=="sapMFFResetDiv"&&this._previousTarget!=null&&this._previousTarget.id!=e.target.id){q(this._previousTarget).focus();e.preventDefault();e.setMarked();return;}if(e.target.id.indexOf("add")>=0||e.target.parentNode.className=="sapMFFHead"){this._previousTarget=e.target;q(this.$().find(":sapTabbable")[0]).focus();}};F.prototype.onsapend=function(e){if(this._addTarget!=null){q(this._addTarget).focus();e.preventDefault();e.setMarked();}else{q(this._aRows[this._aRows.length-1]).focus();e.preventDefault();e.setMarked();}this._previousTarget=e.target;};F.prototype.onsaphome=function(e){q(this._aRows[0]).focus();e.preventDefault();e.setMarked();this._previousTarget=e.target;};F.prototype.onsappageup=function(e){this._previousTarget=e.target;};F.prototype.onsappagedown=function(e){this._previousTarget=e.target;};F.prototype.onsapincreasemodifiers=function(e){if(e.which==q.sap.KeyCodes.ARROW_RIGHT){this._previousTarget=e.target;var c=this.oItemNavigation.getFocusedIndex()-1;var n=c+this._pageSize;q(e.target).blur();this.oItemNavigation.setFocusedIndex(n);this.focus();}};F.prototype.onsapdecreasemodifiers=function(e){var c=0;if(e.which==q.sap.KeyCodes.ARROW_LEFT){this._previousTarget=e.target;c=this.oItemNavigation.getFocusedIndex()+1;var n=c-this._pageSize;q(e.target).blur();this.oItemNavigation.setFocusedIndex(n);this.focus();}};F.prototype.onsapdownmodifiers=function(e){this._previousTarget=e.target;var c=0;c=this.oItemNavigation.getFocusedIndex()-1;var n=c+this._pageSize;q(e.target).blur();this.oItemNavigation.setFocusedIndex(n);this.focus();};F.prototype.onsapupmodifiers=function(e){this._previousTarget=e.target;var c=0;c=this.oItemNavigation.getFocusedIndex();if(c!=0){c=c+1;}var n=c-this._pageSize;q(e.target).blur();this.oItemNavigation.setFocusedIndex(n);this.focus();};F.prototype.onsapexpand=function(e){this._previousTarget=e.target;var n=this.oItemNavigation.getFocusedIndex()+1;q(e.target).blur();this.oItemNavigation.setFocusedIndex(n);this.focus();};F.prototype.onsapcollapse=function(e){this._previousTarget=e.target;var n=this.oItemNavigation.getFocusedIndex()-1;q(e.target).blur();this.oItemNavigation.setFocusedIndex(n);this.focus();};F.prototype.onsapdown=function(e){this._previousTarget=e.target;if(e.target.parentNode.className=="sapMFFResetDiv"){q(e.target).focus();e.preventDefault();e.setMarked();return;}};F.prototype.onsapup=function(e){this._previousTarget=e.target;if(e.target.parentNode.className=="sapMFFResetDiv"){q(e.target).focus();e.preventDefault();e.setMarked();}};F.prototype.onsapleft=function(e){this._previousTarget=e.target;if(e.target.parentNode.className=="sapMFFResetDiv"){q(e.target).focus();e.preventDefault();e.setMarked();}};F.prototype.onsapright=function(e){this._previousTarget=e.target;if(e.target.parentNode.className=="sapMFFResetDiv"){q(e.target).focus();e.preventDefault();e.setMarked();}};F.prototype.onsapescape=function(e){if(e.target.parentNode.className=="sapMFFResetDiv"){return;}var n=this._lastCategoryFocusIndex;q(e.target).blur();this.oItemNavigation.setFocusedIndex(n);this.focus();};F.prototype._getPopover=function(){var p=this.getAggregation("popover");if(!p){var t=this;p=new sap.m.Popover({placement:sap.m.PlacementType.Bottom,beforeOpen:function(e){if(t._displayedList){t._displayedList._setSearchValue("");}this.setCustomHeader(t._createFilterItemsSearchFieldBar(t._displayedList));var s=this.getSubHeader();if(!s){this.setSubHeader(t._createSelectAllCheckboxBar(t._displayedList));}c(t._displayedList);},afterClose:function(e){t._addDelegateFlag=true;t._closePopoverFlag=true;if(sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version<10){q.sap.delayedCall(100,t,t._handlePopoverAfterClose);}else{t._handlePopoverAfterClose();}},horizontalScrolling:false});this.setAggregation("popover",p,true);p.setContentWidth("30%");if(sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version<10){p.setContentWidth("30%");}p.addStyleClass("sapMFFPop");var c=function(L){if(!L){return;}var i=t._getFacetRemoveIcon(L);if(i){i._bTouchStarted=false;}};}if(this.getShowPopoverOKButton()){this._addOKButtonToPopover(p);}else{p.destroyAggregation("footer");}return p;};F.prototype._handlePopoverAfterClose=function(){var p=this.getAggregation("popover"),L=this._displayedList;if(!p){return;}var i=this._getFacetRemoveIcon(L);if(i&&i._bTouchStarted){return;}this._restoreListFromDisplayContainer(p);this._displayRemoveIcon(false,L);L._fireListCloseEvent();this._fireConfirmEvent();this.destroyAggregation("popover");if(this._oOpenPopoverDeferred){q.sap.delayedCall(0,this,function(){this._oOpenPopoverDeferred.resolve();this._oOpenPopoverDeferred=undefined;});}};F.prototype._fireConfirmEvent=function(){this.fireEvent('confirm');};F.prototype._openPopover=function(p,c){if(!p.isOpen()){var L=sap.ui.getCore().byId(c.getAssociation("list"));L.fireListOpen({});this._moveListToDisplayContainer(L,p);p.openBy(c);if(L.getShowRemoveFacetIcon()){this._displayRemoveIcon(true,L);}if(L.getWordWrap()){p.setContentWidth("30%");}L._applySearch();}return this;};F.prototype._getAddFacetButton=function(){var b=this.getAggregation("addFacetButton");if(!b){var t=this;var b=new sap.m.Button(this.getId()+"-add",{icon:I.getIconURI("add-filter"),type:sap.m.ButtonType.Transparent,tooltip:this._bundle.getText("FACETFILTER_ADDFACET"),press:function(e){t.openFilterDialog();}});this.setAggregation("addFacetButton",b,true);}return b;};F.prototype._getButtonForList=function(L){if(this._buttons[L.getId()]){this._setButtonText(L);return this._buttons[L.getId()];}var t=this;var b=new sap.m.Button({type:sap.m.ButtonType.Transparent,press:function(e){var T=this;var o=function(){var p=t._getPopover();t._openPopover(p,T);};L._preserveOriginalActiveState();if(sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version<10){q.sap.delayedCall(100,this,o);}else{var p=t._getPopover();if(p.isOpen()){q.sap.delayedCall(100,this,function(){if(p.isOpen()){return;}t._oOpenPopoverDeferred=q.Deferred();t._oOpenPopoverDeferred.promise().done(o);});}else{q.sap.delayedCall(100,this,o);}}}});this._buttons[L.getId()]=b;this.addAggregation("buttons",b);b.setAssociation("list",L.getId(),true);this._setButtonText(L);return b;};F.prototype._setButtonText=function(L){var b=this._buttons[L.getId()];if(b){var t="";var s=Object.getOwnPropertyNames(L._oSelectedKeys);var i=s.length;if(i===1){var S=L._oSelectedKeys[s[0]];t=this._bundle.getText("FACETFILTER_ITEM_SELECTION",[L.getTitle(),S]);}else if(i>0&&i===L._getNonGroupItems().length){t=this._bundle.getText("FACETFILTER_ALL_SELECTED",[L.getTitle()]);}else if(i>0){t=this._bundle.getText("FACETFILTER_ITEM_SELECTION",[L.getTitle(),i]);}else{t=L.getTitle();}b.setText(t);b.setTooltip(t);}};F.prototype._getFacetRemoveIcon=function(L){var t=this,i=this._removeFacetIcons[L.getId()];if(!i){i=new sap.ui.core.Icon({src:I.getIconURI("sys-cancel"),tooltip:this._bundle.getText("FACETFILTER_REMOVE"),press:function(){i._bPressed=true;}});i.addDelegate({ontouchstart:function(){i._bTouchStarted=true;i._bPressed=false;},ontouchend:function(){t._displayRemoveIcon(false,L);i._bTouchStarted=false;q.sap.delayedCall(100,this,p);}},true);var p=function(){if(i._bPressed){L.removeSelections(true);L.setSelectedKeys();L.setProperty("active",false,true);}t._handlePopoverAfterClose();};i.setAssociation("list",L.getId(),true);i.addStyleClass("sapMFFLRemoveIcon");this._removeFacetIcons[L.getId()]=i;this.addAggregation("removeFacetIcons",i);this._displayRemoveIcon(false,L);}return i;};F.prototype._displayRemoveIcon=function(d,L){if(this.getShowPersonalization()){var i=this._removeFacetIcons[L.getId()];if(d){i.removeStyleClass("sapMFFLHiddenRemoveIcon");i.addStyleClass("sapMFFLVisibleRemoveIcon");}else{i.removeStyleClass("sapMFFLVisibleRemoveIcon");i.addStyleClass("sapMFFLHiddenRemoveIcon");}}};F.prototype._getFacetDialogNavContainer=function(){var n=new N({autoFocus:false});var f=this._createFacetPage();n.addPage(f);n.setInitialPage(f);var t=this;n.attachAfterNavigate(function(e){var T=e.getParameters()["to"];var o=e.getParameters()['from'];if(o===f){var b=T.getContent(0)[1].getItems()[0];if(b){b.focus();}}if(T===f){o.destroySubHeader();o.destroyContent();t._selectedFacetItem.invalidate();T.invalidate();q.sap.focus(t._selectedFacetItem);t._selectedFacetItem=null;}});return n;};F.prototype._createFacetPage=function(){var f=this._createFacetList();var o=new sap.m.SearchField({width:"100%",tooltip:this._bundle.getText("FACETFILTER_SEARCH"),liveChange:function(e){var b=f.getBinding("items");if(b){var c=new sap.ui.model.Filter("text",sap.ui.model.FilterOperator.Contains,e.getParameters()["newValue"]);b.filter([c]);}}});var p=new sap.m.Page({enableScrolling:true,title:this._bundle.getText("FACETFILTER_TITLE"),subHeader:new sap.m.Bar({contentMiddle:o}),content:[f]});return p;};F.prototype._createFilterItemsPage=function(){var t=this;var p=new sap.m.Page({showNavButton:true,enableScrolling:true,navButtonPress:function(e){var n=e.getSource().getParent();t._navFromFilterItemsPage(n);}});return p;};F.prototype._getFilterItemsPage=function(n){var o=n.getPages()[1];if(o){n.removePage(o);o.destroy();}var p=this._createFilterItemsPage();n.addPage(p);return p;};F.prototype._createFilterItemsSearchFieldBar=function(L){var t=this;var s=true;if(L.getDataType()!=sap.m.FacetFilterListDataType.String){s=false;}var S=new sap.m.SearchField({value:L._getSearchValue(),width:"100%",enabled:s,tooltip:this._bundle.getText("FACETFILTER_SEARCH"),search:function(e){t._displayedList._handleSearchEvent(e);}});if(this.getLiveSearch()){S.attachLiveChange(L._handleSearchEvent,L);}var b=new sap.m.Bar({contentMiddle:S});L.setAssociation("search",S);return b;};F.prototype._getFacetDialog=function(){var d=this.getAggregation("dialog");if(!d){var t=this;d=new sap.m.Dialog({showHeader:false,stretch:sap.ui.Device.system.phone?true:false,afterClose:function(){t._addDelegateFlag=true;t._invalidateFlag=true;var n=this.getContent()[0];var f=n.getPages()[1];if(n.getCurrentPage()===f){var L=t._restoreListFromDisplayContainer(f);L._updateActiveState();L._fireListCloseEvent();}this.destroyAggregation("content",true);t.invalidate();},beginButton:new sap.m.Button({text:this._bundle.getText("FACETFILTER_ACCEPT"),tooltip:this._bundle.getText("FACETFILTER_ACCEPT"),press:function(){t._closeDialog();}}),contentHeight:"500px"});d.addStyleClass("sapMFFDialog");d.onsapentermodifiers=function(e){if(e.shiftKey&&!e.ctrlKey&&!e.altKey){var n=this.getContent()[0];t._navFromFilterItemsPage(n);}};this.setAggregation("dialog",d,true);}return d;};F.prototype._closeDialog=function(){var d=this.getAggregation("dialog");if(d&&d.isOpen()){d.close();this._fireConfirmEvent();}};F.prototype._closePopover=function(){var p=this.getAggregation("popover");if(p&&p.isOpen()){p.close();}};F.prototype._createFacetList=function(){var f=new sap.m.List({mode:sap.m.ListMode.None,items:{path:"/items",template:new sap.m.StandardListItem({title:"{text}",tooltip:"{text}",counter:"{count}",type:sap.m.ListType.Navigation,customData:[new sap.ui.core.CustomData({key:"index",value:"{index}"})]})}});var b=[];for(var i=0;i<this.getLists().length;i++){var L=this.getLists()[i];b.push({text:L.getTitle(),tooltip:L.getTitle(),count:L.getAllCount(),index:i});}var m=new sap.ui.model.json.JSONModel({items:b});var t=this;f.attachUpdateFinished(function(){for(var i=0;i<f.getItems().length;i++){var o=this.getItems()[i];o.detachPress(t._handleFacetListItemPress,t);o.attachPress(t._handleFacetListItemPress,t);}});f.setModel(m);return f;};F.prototype._createSelectAllCheckboxBar=function(L){if(!L.getMultiSelect()){return null;}var s=L.getActive()&&L.getItems().length>0&&Object.getOwnPropertyNames(L._oSelectedKeys).length===L.getItems().length;var c=new sap.m.CheckBox(L.getId()+"-selectAll",{text:this._bundle.getText("FACETFILTER_CHECKBOX_ALL"),tooltip:this._bundle.getText("FACETFILTER_CHECKBOX_ALL"),selected:s,select:function(e){c.setSelected(e.getParameter("selected"));L._handleSelectAllClick(e.getParameter("selected"));}});L.setAssociation("allcheckbox",c);var b=new sap.m.Bar();b.addEventDelegate({ontap:function(e){if(e.srcControl===this){L._handleSelectAllClick(c.getSelected());}}},b);b.addContentLeft(c);b.addStyleClass("sapMFFCheckbar");return b;};F.prototype._handleFacetListItemPress=function(e){this._navToFilterItemsPage(e.getSource());};F.prototype._navToFilterItemsPage=function(f){this._selectedFacetItem=f;var n=this.getAggregation("dialog").getContent()[0];var c=f.getCustomData();var i=c[0].getValue();var o=this.getLists()[i];this._listIndexAgg=this.indexOfAggregation("lists",o);if(this._listIndexAgg==i){var b=this._getFilterItemsPage(n);o.fireListOpen({});this._moveListToDisplayContainer(o,b);b.setSubHeader(this._createFilterItemsSearchFieldBar(o));var d=this._createSelectAllCheckboxBar(o);if(d){b.insertContent(d,0);}b.setTitle(o.getTitle());n.to(b);}};F.prototype._navFromFilterItemsPage=function(n){var f=n.getPages()[1];var L=this._restoreListFromDisplayContainer(f);L._updateActiveState();L._fireListCloseEvent();this._selectedFacetItem.setCounter(L.getAllCount());n.backToTop();};F.prototype._moveListToDisplayContainer=function(L,c){this._listAggrIndex=this.indexOfAggregation("lists",L);sap.ui.base.ManagedObject.prototype.removeAggregation.call(this,"lists",L,true);c.addAggregation("content",L,false);L.setAssociation("facetFilter",this,true);this._displayedList=L;};F.prototype._restoreListFromDisplayContainer=function(c){var L=c.removeAggregation("content",this._displayedList,true);this.insertAggregation("lists",L,this._listAggrIndex,L.getActive());this._listAggrIndex=-1;this._displayedList=null;return L;};F.prototype._getSequencedLists=function(){var m=-1;var s=[];var L=this.getLists();if(L.length>0){for(var i=0;i<L.length;i++){if(L[i].getActive()){if(L[i].getSequence()<-1){L[i].setSequence(-1);}else if(L[i].getSequence()>m){m=L[i].getSequence();}s.push(L[i]);}else if(!L[i].getRetainListSequence()){L[i].setSequence(-1);}}for(var j=0;j<s.length;j++){if(s[j].getSequence()<=-1){m+=1;s[j].setSequence(m);}}if(s.length>1){s.sort(function(b,c){return b.getSequence()-c.getSequence();});}}return s;};F.prototype._getSummaryBar=function(){var s=this.getAggregation("summaryBar");if(!s){var t=new sap.m.Text({maxLines:1});var b=this;s=new sap.m.Toolbar({content:[t],active:this.getType()===sap.m.FacetFilterType.Light?true:false,design:sap.m.ToolbarDesign.Info,press:function(e){b.openFilterDialog();}});this.setAggregation("summaryBar",s);}return s;};F.prototype._createResetButton=function(){var t=this;var b=new sap.m.Button({type:sap.m.ButtonType.Transparent,icon:I.getIconURI("undo"),tooltip:this._bundle.getText("FACETFILTER_RESET"),press:function(e){t._addDelegateFlag=true;t._invalidateFlag=true;t.fireReset();var L=t.getLists();for(var i=0;i<L.length;i++){L[i]._searchValue="";L[i]._applySearch();q.sap.focus(L[i].getItems()[0]);}t.invalidate();}});return b;};F.prototype._addOKButtonToPopover=function(p){var b=p.getFooter();if(!b){var t=this;var b=new sap.m.Button({text:this._bundle.getText("FACETFILTER_ACCEPT"),tooltip:this._bundle.getText("FACETFILTER_ACCEPT"),width:"100%",press:function(){t._closePopover();}});p.setFooter(b);}return b;};F.prototype._getSummaryText=function(){var b=", ";var S=" ";var f="";var c=true;var L=this.getLists();if(L.length>0){for(var i=0;i<L.length;i++){var o=L[i];if(o.getActive()){var d=this._getSelectedItemsText(o);var t="";for(var j=0;j<d.length;j++){t=t+d[j]+b;}if(t){t=t.substring(0,t.lastIndexOf(b)).trim();if(c){f=this._bundle.getText("FACETFILTER_INFOBAR_FILTERED_BY",[o.getTitle(),t]);c=false;}else{f=f+S+this._bundle.getText("FACETFILTER_INFOBAR_AND")+S+this._bundle.getText("FACETFILTER_INFOBAR_AFTER_AND",[o.getTitle(),t]);}}}}}if(!f){f=this._bundle.getText("FACETFILTER_INFOBAR_NO_FILTERS");}return f;};F.prototype._getSelectedItemsText=function(L){var t=L.getSelectedItems().map(function(v){return v.getText();});L._oSelectedKeys&&Object.getOwnPropertyNames(L._oSelectedKeys).forEach(function(v){t.indexOf(L._oSelectedKeys[v])===-1&&t.push(L._oSelectedKeys[v]);});return t;};F.prototype._addResetToSummary=function(s){if(s.getContent().length===1){s.addContent(new sap.m.ToolbarSpacer({width:""}));var b=this._createResetButton();s.addContent(b);b.addStyleClass("sapMFFRefresh");b.addStyleClass("sapMFFBtnHoverable");}};F.prototype._removeResetFromSummary=function(s){if(s.getContent().length===3){var S=s.removeAggregation("content",1);S.destroy();var b=s.removeAggregation("content",1);b.destroy();}};F.prototype._removeList=function(L){if(L){var b=this._buttons[L.getId()];if(b){this.removeAggregation("buttons",b);b.destroy();}var r=this._removeFacetIcons[L.getId()];if(r){this.removeAggregation("removeIcons",r);r.destroy();}delete this._buttons[L.getId()];delete this._removeFacetIcons[L.getId()];}};F.prototype._getScrollingArrow=function(n){var A=null;var p={src:"sap-icon://navigation-"+n+"-arrow"};if(n==="left"){A=this.getAggregation("arrowLeft");if(!A){p.id=this.getId()+"-arrowScrollLeft";A=I.createControlByURI(p);var c=["sapMPointer","sapMFFArrowScroll","sapMFFArrowScrollLeft"];for(var i=0;i<c.length;i++){A.addStyleClass(c[i]);A.setTooltip(this._bundle.getText("FACETFILTER_PREVIOUS"));}this.setAggregation("arrowLeft",A);}}else if(n==="right"){A=this.getAggregation("arrowRight");if(!A){p.id=this.getId()+"-arrowScrollRight";A=I.createControlByURI(p);var b=["sapMPointer","sapMFFArrowScroll","sapMFFArrowScrollRight"];for(var i=0;i<b.length;i++){A.addStyleClass(b[i]);A.setTooltip(this._bundle.getText("FACETFILTER_NEXT"));}this.setAggregation("arrowRight",A);}}else{q.sap.log.error("Scrolling arrow name "+n+" is not valid");}return A;};F.prototype._checkOverflow=function(){var b=this.getDomRef("head"),L=q(b),B=this.$(),s=false,S=false,c=false,i=null,d=null,e=null;if(b){i=b.scrollLeft;d=b.scrollWidth;e=b.clientWidth;if(d>e){if(d-e==1){d=e;}else{c=true;}}B.toggleClass("sapMFFScrolling",c);B.toggleClass("sapMFFNoScrolling",!c);this._lastScrolling=c;if(!this._bRtl){s=i>0;S=(d>e)&&(d>i+e);}else{S=L.scrollLeftRTL()>0;s=L.scrollRightRTL()>0;}if((S!=this._bPreviousScrollForward)||(s!=this._bPreviousScrollBack)){B.toggleClass("sapMFFNoScrollBack",!s);B.toggleClass("sapMFFNoScrollForward",!S);}}};F.prototype.onclick=function(e){var t=e.target.id;if(t){var i=this.getId();e.preventDefault();if(t==i+"-arrowScrollLeft"){this._scroll(-F.SCROLL_STEP,500);}else if(t==i+"-arrowScrollRight"){this._scroll(F.SCROLL_STEP,500);}}};F.prototype._scroll=function(d,D){var o=this.getDomRef("head");var s=o.scrollLeft;if(!sap.ui.Device.browser.internet_explorer&&this._bRtl){d=-d;}var S=s+d;q(o).stop(true,true).animate({scrollLeft:S},D);};F.prototype._enableTouchSupport=function(){var t=this;var T=function(e){e.preventDefault();if(t._iInertiaIntervalId){window.clearInterval(t._iInertiaIntervalId);}t.startScrollX=t.getDomRef("head").scrollLeft;t.startTouchX=e.touches[0].pageX;t._bTouchNotMoved=true;t._lastMoveTime=new Date().getTime();};var f=function(e){var d=e.touches[0].pageX-t.startTouchX;var L=t.getDomRef("head");var o=L.scrollLeft;var n=t.startScrollX-d;L.scrollLeft=n;t._bTouchNotMoved=false;var c=new Date().getTime()-t._lastMoveTime;t._lastMoveTime=new Date().getTime();if(c>0){t._velocity=(n-o)/c;}e.preventDefault();};var b=function(e){if(t._bTouchNotMoved===false){e.preventDefault();var L=t.getDomRef("head");var d=50;var c=Math.abs(t._velocity/10);t._iInertiaIntervalId=window.setInterval(function(){t._velocity=t._velocity*0.80;var g=t._velocity*d;L.scrollLeft=L.scrollLeft+g;if(Math.abs(t._velocity)<c){window.clearInterval(t._iInertiaIntervalId);t._iInertiaIntervalId=undefined;}},d);}else if(t._bTouchNotMoved===true){t.onclick(e);e.preventDefault();}t._bTouchNotMoved=undefined;t._lastMoveTime=undefined;};this.addEventDelegate({ontouchstart:T},this);this.addEventDelegate({ontouchend:b},this);this.addEventDelegate({ontouchmove:f},this);};return F;},true);
sap.ui.predefine('sap/m/FacetFilterItem',['jquery.sap.global','./ListItemBase','./library'],function(q,L,l){"use strict";var F=L.extend("sap.m.FacetFilterItem",{metadata:{library:"sap.m",properties:{key:{type:"string",group:"Data",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},count:{type:"int",group:"Misc",defaultValue:null,deprecated:true}}}});F.prototype.setCount=function(c){this.setProperty("count",c);this.setProperty("counter",c);return this;};F.prototype.setCounter=function(c){this.setProperty("count",c);this.setProperty("counter",c);return this;};F.prototype.init=function(){L.prototype.init.apply(this);this.addStyleClass("sapMFFLI");};return F;},true);
sap.ui.predefine('sap/m/FacetFilterItemRenderer',['jquery.sap.global','./ListItemBaseRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var F=R.extend(L);F.renderLIContent=function(r,c){r.write("<div");if(c.getParent()&&c.getParent().getWordWrap()){r.addClass("sapMFFLITitleWrap");}else{r.addClass("sapMFFLITitle");}r.writeClasses();r.write(">");r.writeEscaped(c.getText());r.write("</div>");};return F;},true);
sap.ui.predefine('sap/m/FacetFilterList',['jquery.sap.global','./List','./library'],function(q,L,l){"use strict";var F=L.extend("sap.m.FacetFilterList",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Appearance",defaultValue:null},wordWrap:{type:"boolean",group:"Appearance",defaultValue:false},multiSelect:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},active:{type:"boolean",group:"Behavior",defaultValue:true},enableCaseInsensitiveSearch:{type:"boolean",group:"Behavior",defaultValue:false,deprecated:false},allCount:{type:"int",group:"Appearance",defaultValue:null},sequence:{type:"int",group:"Behavior",defaultValue:-1},key:{type:"string",group:"Identification",defaultValue:null},showRemoveFacetIcon:{type:"boolean",group:"Misc",defaultValue:true},retainListSequence:{type:"boolean",group:"Misc",defaultValue:false},dataType:{type:"sap.m.FacetFilterListDataType",group:"Misc",defaultValue:sap.m.FacetFilterListDataType.String}},events:{listOpen:{},listClose:{parameters:{selectedItems:{type:"sap.m.FacetFilterItem[]"},allSelected:{type:"boolean"},selectedKeys:{type:"object"}}}}}});F.prototype.setTitle=function(t){this.setProperty("title",t,true);if(this.getParent()&&this.getParent()._setButtonText){this.getParent()._setButtonText(this);}return this;};F.prototype.setMultiSelect=function(v){this.setProperty("multiSelect",v,true);var m=v?sap.m.ListMode.MultiSelect:sap.m.ListMode.SingleSelectMaster;this.setMode(m);return this;};F.prototype.setMode=function(m){if(m===sap.m.ListMode.MultiSelect||m===sap.m.ListMode.SingleSelectMaster){L.prototype.setMode.call(this,m);this.setProperty("multiSelect",m===sap.m.ListMode.MultiSelect?true:false,true);}return this;};F.prototype._applySearch=function(){var s=this._getSearchValue();if(s!=null){this._search(s,true);this._updateSelectAllCheckBox();}};F.prototype.getSelectedItems=function(){var s=[];var c={};var C=sap.m.ListBase.prototype.getSelectedItems.apply(this,arguments);C.forEach(function(i){s.push(new sap.m.FacetFilterItem({text:i.getText(),key:i.getKey(),selected:true}));c[i.getKey()]=true;});var S=this.getSelectedKeys();var a=Object.getOwnPropertyNames(S);if(C.length<a.length){a.forEach(function(k){if(!c[k]){s.push(new sap.m.FacetFilterItem({text:S[k],key:k,selected:true}));}});}return s;};F.prototype.getSelectedItem=function(){var i=sap.m.ListBase.prototype.getSelectedItem.apply(this,arguments);var s=Object.getOwnPropertyNames(this.getSelectedKeys());if(!i&&s.length>0){i=new sap.m.FacetFilterItem({text:this.getSelectedKeys()[s[0]],key:s[0],selected:true});}return i;};F.prototype.removeSelections=function(a){if(this._allowRemoveSelections){a?this.setSelectedKeys():sap.m.ListBase.prototype.removeSelections.call(this,a);}return this;};F.prototype.getSelectedKeys=function(){var r={};var k=this._oSelectedKeys;Object.getOwnPropertyNames(k).forEach(function(a){r[a]=k[a];});return r;};F.prototype.setSelectedKeys=function(k){this._oSelectedKeys={};var K=false;k&&Object.getOwnPropertyNames(k).forEach(function(a){this._addSelectedKey(a,k[a]);K=true;},this);if(K){this.setActive(true);this._selectItemsByKeys();}else{sap.m.ListBase.prototype.removeSelections.call(this);}};F.prototype._getNonGroupItems=function(){var i=[];this.getItems().forEach(function(I){if(I.getMode()!==sap.m.ListMode.None){i.push(I);}});return i;};F.prototype.removeSelectedKey=function(k,t){if(this._removeSelectedKey(k,t)){this._getNonGroupItems().forEach(function(i){var I=i.getKey()||i.getText();k===I&&i.setSelected(false);});}};F.prototype.removeSelectedKeys=function(){this._oSelectedKeys={};sap.m.ListBase.prototype.removeSelections.call(this,true);};F.prototype.removeItem=function(i){var I=sap.m.ListBase.prototype.removeItem.apply(this,arguments);if(!this._filtering){I&&I.getSelected()&&this.removeSelectedKey(I.getKey(),I.getText());return I;}};F.prototype.init=function(){this._firstTime=true;this._saveBindInfo;this._oSelectedKeys={};L.prototype.init.call(this);this.setMode(sap.m.ListMode.MultiSelect);this.setIncludeItemInSelection(true);this.setGrowing(true);this.setRememberSelections(false);this._searchValue=null;this.attachUpdateFinished(function(e){var u=e.getParameter("reason");if(u){u=u.toLowerCase();if(u!==sap.ui.model.ChangeReason.Filter.toLowerCase()){this._selectItemsByKeys();}}else{this._selectItemsByKeys();}});this._allowRemoveSelections=true;this._bOriginalActiveState;};F.prototype._resetItemsBinding=function(){if(this.isBound("items")){this._searchValue=null;this._allowRemoveSelections=false;sap.m.ListBase.prototype._resetItemsBinding.apply(this,arguments);this._allowRemoveSelections=true;}};F.prototype._fireListCloseEvent=function(){var s=this.getSelectedItems();var S=this.getSelectedKeys();var a=s.length===0;this._firstTime=true;this.fireListClose({selectedItems:s,selectedKeys:S,allSelected:a});};F.prototype._updateActiveState=function(){var c=sap.ui.getCore().byId(this.getAssociation("allcheckbox"));if(Object.getOwnPropertyNames(this._oSelectedKeys).length>0||(c&&c.getSelected())){this.setActive(true);}};F.prototype._handleSearchEvent=function(e){var s=e.getParameters()["query"];if(s===undefined){s=e.getParameters()["newValue"];}this._search(s);this._updateSelectAllCheckBox();};F.prototype._search=function(s,f){var b;var n=0;function i(m){return m instanceof sap.ui.model.odata.ODataModel||m instanceof sap.ui.model.odata.v2.ODataModel;}if(f||(s!==this._searchValue)){this._searchValue=s;var B=this.getBinding("items");var o=this.getBindingInfo("items");if(o&&o.binding){b=o.binding.aFilters;if(b.length>0){n=b[0].aFilters.length;if(this._firstTime){this._saveBindInfo=b[0].aFilters[0];this._firstTime=false;}}}if(B){if(s||n>0){var p=this.getBindingInfo("items").template.getBindingInfo("text").parts[0].path;if(p){var u=new sap.ui.model.Filter(p,sap.ui.model.FilterOperator.Contains,s);if(this.getEnableCaseInsensitiveSearch()&&i(B.getModel())){var e="'"+String(s).replace(/'/g,"''")+"'";e=e.toLowerCase();u=new sap.ui.model.Filter("tolower("+p+")",sap.ui.model.FilterOperator.Contains,e);}if(n>1){var a=new sap.ui.model.Filter([u,this._saveBindInfo],true);}else{if(this._saveBindInfo>""&&u.sPath!=this._saveBindInfo.sPath){var a=new sap.ui.model.Filter([u,this._saveBindInfo],true);}else{if(s==""){var a=[];}else{var a=new sap.ui.model.Filter([u],true);}}}B.filter(a,sap.ui.model.FilterType.Control);}}else{B.filter([],sap.ui.model.FilterType.Control);}}else{q.sap.log.warning("No filtering performed","The list must be defined with a binding for search to work",this);}}};F.prototype._getSearchValue=function(){return this._searchValue;};F.prototype._updateSelectAllCheckBox=function(){var i=this._getNonGroupItems(),I=i.length,c,a,s;function b(o){return o.getSelected();}if(this.getMultiSelect()){c=sap.ui.getCore().byId(this.getAssociation("allcheckbox"));a=I>0&&I===i.filter(b).length;s=this.getActive()&&a;c&&c.setSelected(s);}};F.prototype._addSelectedKey=function(k,t){if(!k&&!t){q.sap.log.error("Both sKey and sText are not defined. At least one must be defined.");return;}if(this.getMode()===sap.m.ListMode.SingleSelectMaster){this.removeSelectedKeys();}if(!k){k=t;}this._oSelectedKeys[k]=t||k;};F.prototype._removeSelectedKey=function(k,t){if(!k&&!t){q.sap.log.error("Both sKey and sText are not defined. At least one must be defined.");return false;}if(!k){k=t;}delete this._oSelectedKeys[k];return true;};F.prototype._setSearchValue=function(v){this._searchValue=v;};F.prototype._isItemSelected=function(i){return!!(this._oSelectedKeys[i&&(i.getKey()||i.getText())]);};F.prototype._selectItemsByKeys=function(){this._getNonGroupItems().forEach(function(i){i.setSelected(this._isItemSelected(i));},this);};F.prototype._handleSelectAllClick=function(s){var a;this._getNonGroupItems().forEach(function(i){if(s){this._addSelectedKey(i.getKey(),i.getText());}else{this._removeSelectedKey(i.getKey(),i.getText());}i.setSelected(s,true);},this);a=this._getOriginalActiveState()||s;this.setActive(a);q.sap.delayedCall(0,this,this._updateSelectAllCheckBox);};F.prototype.onItemSelectedChange=function(i,s){var a;if(s){this._addSelectedKey(i.getKey(),i.getText());}else{this._removeSelectedKey(i.getKey(),i.getText());}sap.m.ListBase.prototype.onItemSelectedChange.apply(this,arguments);a=this._getOriginalActiveState()||s||this.getSelectedItems().length>1;this.setActive(a);!this.getDomRef()&&this.getParent()&&this.getParent().getDomRef()&&this.getParent().invalidate();q.sap.delayedCall(0,this,this._updateSelectAllCheckBox);};F.prototype.updateItems=function(r){this._filtering=r===sap.ui.model.ChangeReason.Filter;sap.m.ListBase.prototype.updateItems.apply(this,arguments);this._filtering=false;if(!this.getGrowing()||r===sap.ui.model.ChangeReason.Filter){this._selectItemsByKeys();}};F.prototype._getOriginalActiveState=function(){return this._bOriginalActiveState;};F.prototype._preserveOriginalActiveState=function(){this._bOriginalActiveState=this.getActive();};return F;},true);
sap.ui.predefine('sap/m/FacetFilterListRenderer',['jquery.sap.global','./ListRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var F=R.extend(L);return F;},true);
sap.ui.predefine('sap/m/FacetFilterRenderer',['jquery.sap.global'],function(q){"use strict";var F={};var a={};F.render=function(r,c){switch(c.getType()){case sap.m.FacetFilterType.Simple:F.renderSimpleFlow(r,c);break;case sap.m.FacetFilterType.Light:F.renderSummaryBar(r,c);break;}};F.renderSimpleFlow=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapMFF");if(c.getShowSummaryBar()){r.write(">");F.renderSummaryBar(r,c);}else{if(c._lastScrolling){r.addClass("sapMFFScrolling");}else{r.addClass("sapMFFNoScrolling");}if(c.getShowReset()){r.addClass("sapMFFResetSpacer");}r.writeClasses();r.write(">");if(sap.ui.Device.system.desktop){r.renderControl(c._getScrollingArrow("left"));}r.write("<div");r.writeAttribute("id",c.getId()+"-head");r.addClass("sapMFFHead");r.writeClasses();r.write(">");F.renderFacetFilterListButtons(c,r);if(c.getShowPersonalization()){r.renderControl(c.getAggregation("addFacetButton"));}r.write("</div>");if(sap.ui.Device.system.desktop){r.renderControl(c._getScrollingArrow("right"));}if(c.getShowReset()){r.write("<div");r.addClass("sapMFFResetDiv");r.writeClasses();r.write(">");r.renderControl(c.getAggregation("resetButton"));r.write("</div>");}}r.write("</div>");};F.renderSummaryBar=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapMFF");r.writeClasses();r.write(">");var s=c.getAggregation("summaryBar");s._writeLandmarkInfo=function(r,c){var f=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("FACETFILTER_ARIA_FACET_FILTER");r.writeAccessibilityState(c,{role:"button",labelledby:new sap.ui.core.InvisibleText({text:f}).toStatic().getId()});};r.renderControl(s);r.write("</div>");};F.getAriaAnnouncement=function(k,b){if(a[k]){return a[k];}b=b||"FACETFILTER_"+k.toUpperCase();a[k]=new sap.ui.core.InvisibleText({text:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText(b)}).toStatic().getId();return a[k];};F.getAriaDescribedBy=function(c){var d=[];if(c.getShowPersonalization()){d.push(this.getAriaAnnouncement("ARIA_REMOVE"));}d=d.concat(c._aAriaPositionTextIds);return d.join(" ");};F.getAccessibilityState=function(c){return{describedby:{value:this.getAriaDescribedBy(c),append:true}};};F.renderFacetFilterListButtons=function(c,r){var l=c._getSequencedLists(),L=l.length,b,i,p,A,o=[],n=[],f=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("FACETFILTER_ARIA_FACET_FILTER"),R=this.getAriaAnnouncement("ARIA_REMOVE");for(i=0;i<L;i++){b=c._getButtonForList(l[i]);o=b.removeAllAriaDescribedBy();o.forEach(d);p=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("FACETFILTERLIST_ARIA_POSITION",[(i+1),L]);A=new sap.ui.core.InvisibleText({text:f+" "+p}).toStatic();b.addAriaDescribedBy(A);n.push(A.getId());if(c.getShowPersonalization()){b.addAriaDescribedBy(F.getAriaAnnouncement("ARIA_REMOVE"));}r.renderControl(b);if(c.getShowPersonalization()){r.renderControl(c._getFacetRemoveIcon(l[i]));}}c._aAriaPositionTextIds=n;function d(I){if(R!==I){var e=sap.ui.getCore().byId(I);if(e){e.destroy();}}}};return F;},true);
sap.ui.predefine('sap/m/FeedContent',['jquery.sap.global','./library','sap/ui/core/Control','sap/m/Text'],function(q,l,C,T){"use strict";var F=C.extend("sap.m.FeedContent",{metadata:{library:"sap.m",properties:{"size":{type:"sap.m.Size",group:"Misc",defaultValue:sap.m.Size.Auto},"contentText":{type:"string",group:"Misc",defaultValue:null},"subheader":{type:"string",group:"Misc",defaultValue:null},"value":{type:"string",group:"Misc",defaultValue:null},"valueColor":{type:"sap.m.ValueColor",group:"Misc",defaultValue:null},"truncateValueTo":{type:"int",group:"Misc",defaultValue:4}},defaultAggregation:"_contentTextAgr",aggregations:{"_contentTextAgr":{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{"press":{}}}});F.prototype.init=function(){this._oContentText=new sap.m.Text(this.getId()+"-content-text",{maxLines:2});this._oContentText.cacheLineHeight=false;this.setAggregation("_contentTextAgr",this._oContentText,true);this.setTooltip("{AltText}");};F.prototype.onBeforeRendering=function(){this.$().unbind("mouseenter",this._addTooltip);this.$().unbind("mouseleave",this._removeTooltip);};F.prototype.onAfterRendering=function(){this.$().bind("mouseenter",this._addTooltip.bind(this));this.$().bind("mouseleave",this._removeTooltip.bind(this));};F.prototype.exit=function(){this._oContentText=null;};F.prototype._addTooltip=function(){this.$().attr("title",this.getTooltip_AsString());};F.prototype._removeTooltip=function(){this.$().attr("title",null);};F.prototype.getAltText=function(){var a="";var i=true;if(this.getAggregation("_contentTextAgr").getText()){a+=this.getAggregation("_contentTextAgr").getText();i=false;}if(this.getSubheader()){if(i){a+=""+this.getSubheader();}else{a+="\n"+this.getSubheader();}i=false;}if(this.getValue()){if(i){a+=""+this.getValue();}else{a+="\n"+this.getValue();}}return a;};F.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var s=this.getAltText();if(typeof t==="string"||t instanceof String){s=t.split("{AltText}").join(s).split("((AltText))").join(s);return s;}if(t){return t;}else{return"";}};F.prototype.setContentText=function(t){this._oContentText.setText(t);return this;};F.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus();}this.firePress();};F.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.ENTER||e.which===q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};F.prototype.attachEvent=function(e,d,f,a){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,a);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapMPointer");}return this;};F.prototype.detachEvent=function(e,f,a){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,a);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapMPointer");}return this;};return F;},true);
sap.ui.predefine('sap/m/FeedContentRenderer',[],function(){"use strict";var F={};F.render=function(r,c){var s=c.getSubheader();var v=c.getValue();var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}r.write("<div");r.writeControlData(c);r.writeAttribute("id",c.getId()+"-feed-content");r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",t);r.addClass("sapMFC");if(c.hasListeners("press")){r.writeAttribute("tabindex","0");r.addClass("sapMPointer");}r.writeClasses();r.write(">");if(v){r.write("<div");r.writeAttribute("id",c.getId()+"-value");r.addClass("sapMFCValue");r.addClass(c.getValueColor());r.writeClasses();r.write(">");var C=c.getTruncateValueTo();if(v.length>=C&&(v[C-1]==="."||v[C-1]===",")){r.writeEscaped(v.substring(0,C-1));}else if(v){r.writeEscaped(v.substring(0,C));}else{r.writeEscaped("");}r.write("</div>");}r.write("<div");r.addClass("sapMFCCTxt");r.writeClasses();r.write(">");r.renderControl(c._oContentText);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-subheader");r.addClass("sapMFCSbh");r.writeClasses();r.write(">");r.writeEscaped(s);r.write("</div>");r.write("</div>");};return F;},true);
sap.ui.predefine('sap/m/FeedInput',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/HTML','sap/ui/core/IconPool'],function(q,l,C,H,I){"use strict";var F=C.extend("sap.m.FeedInput",{metadata:{library:"sap.m",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},maxLength:{type:"int",group:"Behavior",defaultValue:0},placeholder:{type:"string",group:"Appearance",defaultValue:"Post something here"},value:{type:"string",group:"Data",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},showIcon:{type:"boolean",group:"Behavior",defaultValue:true},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true},buttonTooltip:{type:"sap.ui.core.TooltipBase",group:"Accessibility",defaultValue:"Submit"},ariaLabelForPicture:{type:"string",group:"Accessibility",defaultValue:null}},events:{post:{parameters:{value:{type:"string"}}}}}});F.prototype.init=function(){var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");this.setProperty("placeholder",b.getText("FEEDINPUT_PLACEHOLDER"),true);this.setProperty("buttonTooltip",b.getText("FEEDINPUT_SUBMIT"),true);};F.prototype.exit=function(){if(this._oTextArea){this._oTextArea.destroy();}if(this._oButton){this._oButton.destroy();}if(this._oImageControl){this._oImageControl.destroy();}};F.prototype.setIconDensityAware=function(i){this.setProperty("iconDensityAware",i,true);if(this._getImageControl()instanceof sap.m.Image){this._getImageControl().setDensityAware(i);}return this;};F.prototype.setMaxLength=function(m){this.setProperty("maxLength",m,true);this._getTextArea().setMaxLength(m);return this;};F.prototype.setValue=function(v){this.setProperty("value",v,true);this._getTextArea().setValue(v);this._enablePostButton();return this;};F.prototype.setPlaceholder=function(v){this.setProperty("placeholder",v,true);this._getTextArea().setPlaceholder(v);return this;};F.prototype.setEnabled=function(e){this.setProperty("enabled",e,true);this._getTextArea().setEnabled(e);this._enablePostButton();return this;};F.prototype.setButtonTooltip=function(b){this.setProperty("buttonTooltip",b,true);this._getPostButton().setTooltip(b);return this;};F.prototype._getTextArea=function(){if(!this._oTextArea){this._oTextArea=new sap.m.TextArea(this.getId()+"-textArea",{rows:1,value:null,maxLength:this.getMaxLength(),placeholder:this.getPlaceholder(),liveChange:q.proxy(function(e){var v=e.getParameter("value");this.setProperty("value",v,true);this._enablePostButton();},this)});this._oTextArea.setParent(this);}return this._oTextArea;};F.prototype._getPostButton=function(){if(!this._oButton){this._oButton=new sap.m.Button(this.getId()+"-button",{enabled:false,type:sap.m.ButtonType.Default,icon:"sap-icon://feeder-arrow",tooltip:this.getButtonTooltip(),press:q.proxy(function(e){this._oTextArea.focus();this.firePost({value:this.getValue()});this.setValue(null);},this)});this._oButton.setParent(this);}return this._oButton;};F.prototype._enablePostButton=function(){var v=this.getProperty("value");var i=this.getProperty("enabled");var p=(i&&!!v&&v.trim().length>0);var b=this._getPostButton();b.setEnabled(p);};F.prototype._getImageControl=function(){var i=this.getIcon()||I.getIconURI("person-placeholder"),s=this.getId()+'-icon',p={src:i,alt:this.getAriaLabelForPicture(),densityAware:this.getIconDensityAware(),decorative:false,useIconTooltip:false},c=['sapMFeedInImage'];this._oImageControl=sap.m.ImageHelper.getImageControl(s,this._oImageControl,this,p,c);return this._oImageControl;};return F;},true);
sap.ui.predefine('sap/m/FeedInputRenderer',['jquery.sap.global'],function(q){"use strict";var F={};F.render=function(r,c){var m=c.getId();r.write("<div");r.writeControlData(c);r.addClass("sapMFeedIn");if(!c.getShowIcon()){r.addClass("sapMFeedInNoIcon");}r.writeClasses();r.write(">");if(!!c.getShowIcon()){this._addImage(r,c,m);}r.write('<div id="'+m+'-container"');r.addClass("sapMFeedInContainer");r.writeClasses();r.write(">");var t=c._getTextArea();r.renderControl(t);r.renderControl(c._getPostButton());r.write("</div>");r.write("</div>");};F._addImage=function(r,c,m){r.write('<figure id="'+m+'-figure" class ="sapMFeedInFigure');if(!!c.getIcon()){r.write('">');}else{r.write(' sapMFeedListItemIsDefaultIcon">');}r.renderControl(c._getImageControl());r.write('</figure>');};return F;},true);
sap.ui.predefine('sap/m/FeedListItem',['jquery.sap.global','./ListItemBase','./library','./FormattedText'],function(q,L,l,F){"use strict";var a=L.extend("sap.m.FeedListItem",{metadata:{library:"sap.m",properties:{icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},activeIcon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},sender:{type:"string",group:"Data",defaultValue:null},text:{type:"string",group:"Data",defaultValue:null},info:{type:"string",group:"Data",defaultValue:null},timestamp:{type:"string",group:"Data",defaultValue:null},senderActive:{type:"boolean",group:"Behavior",defaultValue:true},iconActive:{type:"boolean",group:"Behavior",defaultValue:true},iconDensityAware:{type:"boolean",defaultValue:true},showIcon:{type:"boolean",group:"Behavior",defaultValue:true},maxCharacters:{type:"int",group:"Behavior",defaultValue:null}},defaultAggregation:"_text",aggregations:{"_text":{type:"sap.m.FormattedText",multiple:false,visibility:"hidden"}},events:{senderPress:{parameters:{domRef:{type:"string"},getDomRef:{type:"function"}}},iconPress:{parameters:{domRef:{type:"string"},getDomRef:{type:"function"}}}}}});a._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");a._nMaxCharactersMobile=300;a._nMaxCharactersDesktop=500;a._sTextShowMore=a._oRb.getText("TEXT_SHOW_MORE");a._sTextShowLess=a._oRb.getText("TEXT_SHOW_LESS");a.prototype.init=function(){L.prototype.init.apply(this);this.setAggregation("_text",new F(this.getId()+"-formattedText"),true);};a.prototype.onBeforeRendering=function(){this.getAggregation("_text").setHtmlText(this.getText());this._sFullText=this.getAggregation("_text").getHtmlText();this._sShortText=this._getCollapsedText();};a.prototype.onAfterRendering=function(){if(this._checkTextIsExpandable()){var i="#"+this.getId()+"-realtext",r;do{r=q(i+" *:empty").remove();}while(r.length>0);this._sShortText=q(i).html();}};a.prototype.exit=function(){if(this._oLinkControl){this._oLinkControl.destroy();}if(this._oImageControl){this._oImageControl.destroy();}if(this._oLinkExpandCollapse){this._oLinkExpandCollapse.destroy();}L.prototype.exit.apply(this);};a.prototype.ontap=function(e){if(e.srcControl){if((!this.getIconActive()&&this._oImageControl&&e.srcControl.getId()===this._oImageControl.getId())||(!this.getSenderActive()&&this._oLinkControl&&e.srcControl.getId()===this._oLinkControl.getId())||(!this._oImageControl||(e.srcControl.getId()!==this._oImageControl.getId())&&(!this._oLinkControl||(e.srcControl.getId()!==this._oLinkControl.getId()))&&(!this._oLinkExpandCollapse||(e.srcControl.getId()!==this._oLinkExpandCollapse.getId())))){L.prototype.ontap.apply(this,[e]);}}};a.prototype.onfocusin=function(e){if(this._oImageControl){var $=this.$("icon");if(e.target.id===this.getId()){$.removeAttr("alt");}else{$.attr("alt"," ");}}};a.prototype._getImageControl=function(){var i=this.getIcon();var I=i?i:sap.ui.core.IconPool.getIconURI("person-placeholder");var s=this.getId()+'-icon';var p={src:I,alt:this.getSender(),densityAware:this.getIconDensityAware(),decorative:false,useIconTooltip:false};var c;if(this.getIconActive()){c=['sapMFeedListItemImage'];}else{c=['sapMFeedListItemImageInactive'];}var t=this;this._oImageControl=sap.m.ImageHelper.getImageControl(s,this._oImageControl,this,p,c);if(this.getIconActive()){this._oImageControl.attachPress(function(){t.fireIconPress({domRef:this.getDomRef(),getDomRef:this.getDomRef.bind(this)});});}return this._oImageControl;};a.prototype._getLinkSender=function(w){if(!this._oLinkControl){q.sap.require("sap.m.Link");var t=this;this._oLinkControl=new sap.m.Link({press:function(){t.fireSenderPress({domRef:this.getDomRef(),getDomRef:this.getDomRef.bind(this)});}});this._oLinkControl.setParent(this,null,true);}if(w){this._oLinkControl.setProperty("text",this.getSender()+a._oRb.getText("COLON"),true);}else{this._oLinkControl.setProperty("text",this.getSender(),true);}this._oLinkControl.setProperty("enabled",this.getSenderActive(),true);return this._oLinkControl;};a.prototype._activeHandlingInheritor=function(){var A=this.getActiveIcon();if(this._oImageControl&&A){this._oImageControl.setSrc(A);}};a.prototype._inactiveHandlingInheritor=function(){var s=this.getIcon()?this.getIcon():sap.ui.core.IconPool.getIconURI("person-placeholder");if(this._oImageControl){this._oImageControl.setSrc(s);}};a.prototype._getCollapsedText=function(){this._nMaxCollapsedLength=this.getMaxCharacters();if(this._nMaxCollapsedLength===0){if(sap.ui.Device.system.phone){this._nMaxCollapsedLength=a._nMaxCharactersMobile;}else{this._nMaxCollapsedLength=a._nMaxCharactersDesktop;}}var p=this._convertHtmlToPlainText(this._sFullText);var t=null;if(p&&p.length>this._nMaxCollapsedLength){var c=p.substring(0,this._nMaxCollapsedLength);var n=c.lastIndexOf(" ");if(n>0){c=c.substr(0,n);}if(p.length===this._sFullText.length){t=c;}else{t=this._convertPlainToHtmlText(c);}}return t;};a.prototype._toggleTextExpanded=function(){var $=this.$("realtext");var b=this.$("threeDots");if(this._bTextExpanded){$.html(this._sShortText.replace(/&#xa;/g,"<br>"));b.text(" ... ");this._oLinkExpandCollapse.setText(a._sTextShowMore);this._bTextExpanded=false;}else{$.html(this._sFullText.replace(/&#xa;/g,"<br>"));b.text("  ");this._oLinkExpandCollapse.setText(a._sTextShowLess);this._bTextExpanded=true;}};a.prototype._getLinkExpandCollapse=function(){if(!this._oLinkExpandCollapse){q.sap.require("sap.m.Link");this._oLinkExpandCollapse=new sap.m.Link({text:a._sTextShowMore,press:q.proxy(function(){this._toggleTextExpanded();},this)});this._bTextExpanded=false;this._oLinkExpandCollapse.setParent(this,null,true);}return this._oLinkExpandCollapse;};a.prototype._convertHtmlToPlainText=function(h){var r=/(<([^>]+)>)/ig;return h.replace(r,"");};a.prototype._convertPlainToHtmlText=function(b){var f=this._sFullText;var r=/(<([^>]+)>)/ig;var e=f.split(r);var t="";for(var i=0;i<e.length;i++){if(e[i].length===0){continue;}if(b.length>0&&e[i].indexOf(b.trim())!==-1){e[i]=b;}if(/^<.+>$/.test(e[i])){t=t+e[i];e[i+1]="";continue;}if(b.indexOf(e[i].trim())===-1){continue;}else{b=b.replace(e[i],"");}t=t+e[i];}return t;};a.prototype._checkTextIsExpandable=function(){return this._sShortText!==null;};a.prototype.setType=function(t){if(t===sap.m.ListType.Navigation){this.setProperty("type",sap.m.ListType.Active);}else{this.setProperty("type",t);}return this;};a.prototype.setUnread=function(v){this.setProperty("unread",false);return this;};return a;},true);
sap.ui.predefine('sap/m/FeedListItemRenderer',['jquery.sap.global','./ListItemBaseRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var F=R.extend(L);F.renderLIAttributes=function(r,f){r.addClass("sapMFeedListItemTitleDiv");r.addClass("sapMFeedListShowSeparatorsAll");};F.renderLIContent=function(r,f){var m=f.getId(),i=sap.ui.Device.system.phone;r.write('<div');r.addClass('sapMFeedListItem');r.writeClasses();r.write('>');if(!!f.getShowIcon()){this._writeImageControl(r,f,m);}if(i){r.write('<div class= "sapMFeedListItemHeader sapUiSelectable ');if(!!f.getShowIcon()){r.write('sapMFeedListItemHasFigure ');}if(!!f.getSender()&&!!f.getTimestamp()){r.write('sapMFeedListItemFullHeight');}r.write('" >');if(!!f.getSender()){r.write('<p id="'+m+'-name" class="sapMFeedListItemTextName sapUiSelectable">');r.renderControl(f._getLinkSender(false));r.write('</p>');}if(!!f.getTimestamp()){r.write('<p class="sapMFeedListItemTimestamp sapUiSelectable">');r.writeEscaped(f.getTimestamp());r.write('</p>');}r.write('</div>');r.write('<div class="sapMFeedListItemText sapUiSelectable">');r.write('<span id="'+m+'-realtext" class="sapMFeedListItemText sapUiSelectable">');if(!!f._checkTextIsExpandable()){this._writeCollapsedText(r,f,m);}else{r.write(f._sFullText);r.write('</span>');}r.write('</div>');if(!!f.getInfo()){r.write('<p class="sapMFeedListItemFooter sapUiSelectable">');if(!!f.getInfo()){r.write('<span id="'+m+'-info" class="sapMFeedListItemInfo sapUiSelectable">');r.writeEscaped(f.getInfo());r.write('</span>');}r.write('</p>');}}else{r.write('<div class= "sapMFeedListItemText ');if(!!f.getShowIcon()){r.write('sapMFeedListItemHasFigure');}r.write('" >');r.write('<div id="'+m+'-text" class="sapMFeedListItemTextText sapUiSelectable">');if(!!f.getSender()){r.write('<span id="'+m+'-name" class="sapMFeedListItemTextName sapUiSelectable">');r.renderControl(f._getLinkSender(true));r.write(' ');r.write('</span>');}r.write('<span id="'+m+'-realtext" class="sapMFeedListItemTextString sapUiSelectable">');if(!!f._checkTextIsExpandable()){this._writeCollapsedText(r,f,m);}else{r.write(f._sFullText);r.write('</span>');}r.write('</div>');if(!!f.getInfo()||!!f.getTimestamp()){r.write('<p class="sapMFeedListItemFooter sapUiSelectable">');if(!sap.ui.getCore().getConfiguration().getRTL()){if(!!f.getInfo()){this._writeInfo(r,f,m);if(!!f.getTimestamp()){r.write("<span>&#160&#160&#x00B7&#160&#160</span>");}}if(!!f.getTimestamp()){this._writeTimestamp(r,f,m);}}else{if(!!f.getTimestamp()){this._writeTimestamp(r,f,m);}if(!!f.getInfo()){if(!!f.getTimestamp()){r.write("<span>&#160&#160&#x00B7&#160&#160</span>");}this._writeInfo(r,f,m);}}r.write('</p>');}r.write('</div>');}r.write('</div>');};F._writeImageControl=function(r,f,m){r.write('<figure id="'+m+'-figure"');r.addClass('sapMFeedListItemFigure');if(!f.getIcon()){r.addClass('sapMFeedListItemIsDefaultIcon');}r.writeClasses();r.write('>');r.renderControl(f._getImageControl());r.write('</figure>');};F._writeCollapsedText=function(r,f,m){if(f._bTextExpanded){r.write(f._sFullText);r.write('</span>');r.write('<span id="'+m+'-threeDots" class ="sapMFeedListItemTextString">');r.write("&#32");r.write('</span>');}else{r.write(f._sShortText);r.write('</span>');r.write('<span id="'+m+'-threeDots" class ="sapMFeedListItemTextString">');r.write("&#32&#46&#46&#46&#32");r.write('</span>');}var l=f._getLinkExpandCollapse();l.addStyleClass("sapMFeedListItemLinkExpandCollapse");r.renderControl(l);};F._writeTimestamp=function(r,f,m){r.write('<span id="'+m+'-timestamp" class="sapMFeedListItemTimestampText sapUiSelectable">');r.writeEscaped(f.getTimestamp());r.write('</span>');};F._writeInfo=function(r,f,m){r.write('<span id="'+m+'-info" class="sapMFeedListItemInfoText sapUiSelectable">');r.writeEscaped(f.getInfo());r.write('</span>');};return F;},true);
sap.ui.predefine('sap/m/Fiori20Adapter',['jquery.sap.global','sap/ui/base/Object','sap/ui/base/EventProvider'],function(q,O,E){"use strict";var e=new E(),a,c;var H=O.extend("HeaderAdapter",{constructor:function(h,A){if(!h||!A){q.sap.log.error("Cannot initialize: Invalid arguments.");return;}this._oHeader=h;this._oStyledPage=null;this._oTitleInfo=null;this._oSubTitleInfo=null;this._oBackButton=null;this._oAdaptOptions=A;}});H.prototype.adapt=function(){var s=this._oAdaptOptions.bStylePage,C=this._oAdaptOptions.bCollapseHeader;if(s){this._adaptStyle("sapF2Adapted");}this._adaptTitle();this._adaptBackButton();if(C){this._collapseHeader();}return this.getAdaptedContent();};H.prototype.getAdaptedContent=function(){return{oTitleInfo:this._oTitleInfo,oSubTitleInfo:this._oSubTitleInfo,oBackButton:this._oBackButton,oStyledPage:this._oStyledPage};};H.prototype._adaptTitle=function(){if(!H._isAdaptableHeader(this._oHeader)||this._oAdaptOptions.bMoveTitle!==true){return false;}this._oTitleInfo=this._detectTitle();this._oSubTitleInfo=this._detectSubTitle();var s=!!this._oTitleInfo||!!this._oSubTitleInfo;if(this._oTitleInfo){this._oTitleInfo.oControl.addStyleClass("sapF2AdaptedTitle");}return s;};H.prototype._adaptBackButton=function(){if(!H._isAdaptableHeader(this._oHeader)||this._oAdaptOptions.bHideBackButton!==true){return false;}var B=false;this._oBackButton=this._detectBackButton();if(this._oBackButton){this._oBackButton.addStyleClass("sapF2AdaptedNavigation");B=true;}return B;};H.prototype._adaptStyle=function(C){var p=this._oHeader.getParent();if(p){p.addStyleClass(C,true);this._oStyledPage=p;}};H._isAdaptableHeader=function(h){if(!h||!b(h,"sap/m/Bar")){return false;}var p=h.getParent();return p&&(b(p,"sap/m/Page")||b(p,"sap/uxap/ObjectPageHeader"));};H.prototype._detectTitle=function(){var t;if(H._isAdaptableHeader(this._oHeader)){var m=this._oHeader.getContentMiddle();if(m.length===1&&i(m[0])){var T=m[0];t={id:T.getId(),text:T.getText(),oControl:T,sChangeEventId:"_change"};}}return t;};H.prototype._detectSubTitle=function(p){if(b(p,"sap/uxap/ObjectPageHeader")){var h=p.getHeaderTitle();if(h){return{id:h.getId(),text:h.getObjectTitle(),oControl:h,sChangeEventId:"_titleChange"};}}};H.prototype._detectBackButton=function(){if(H._isAdaptableHeader(this._oHeader)){var B=this._oHeader.getContentLeft();if(B.length>0&&b(B[0],"sap/m/Button")&&(B[0].getVisible()===true)&&(B[0].getType()==="Back"||B[0].getType()==="Up"||B[0].getIcon()==="sap-icon://nav-back")){return B[0];}}};H.prototype._collapseHeader=function(){var t=this._oTitleInfo,B=this._oBackButton;if(H._isAdaptableHeader(this._oHeader)){var f=this._oHeader.getContentLeft();var m=this._oHeader.getContentMiddle();var g=this._oHeader.getContentRight();if((f.length===0||(f.length===1&&B))&&(m.length===0||(m.length===1&&t))&&(g.length===0)){this._adaptStyle("sapF2CollapsedHeader");}}};var F=O.extend("sap.m.Fiori20Adapter",{});F.attachViewChange=function(l,L){e.attachEvent("adaptedViewChange",l,L);};F.detachViewChange=function(l,L){e.detachEvent("adaptedViewChange",l,L);};F.traverse=function(C,A){a={aViewTitles:{},aViewSubTitles:{},aViewBackButtons:{},aChangeListeners:{}};c=[];this._doBFS([{oNode:C,oAdaptOptions:A}]);};F._doBFS=function(Q){var n=Q.shift();if(!n){return;}var N=n.oNode,A=n.oAdaptOptions,s=A.iSearchDepth;A=this._applyRules(A,N);if(!N||!this._isAdaptationRequired(A)||(s<=0)){return;}var I=N.getParent()&&b(N.getParent(),"sap/m/NavContainer");if(I){c.push(N.getId());}var o=this._processNode(N,A);var C=this._getNodeChildren(N),f=q.extend({},A,{iSearchDepth:this._updateSearchDepth(s,N)});if(o){var t=!!o.oTitleInfo,B=!!o.oBackButton,p=!!o.oStyledPage;f=q.extend(f,{bMoveTitle:A.bMoveTitle&&!t,bHideBackButton:A.bHideBackButton&&!B,bStylePage:A.bStylePage&&!p});}C.forEach(function(g){if(g){Q.push({oNode:g,oAdaptOptions:f});}});this._doBFS(Q);if(I){c.pop();if(c.length===0){this._fireViewChange(N.getId(),A);}}};F._processNode=function(C,A){this._attachDefferedAdaptationListeners(C,A);if(H._isAdaptableHeader(C)){return this._adaptHeader(C,A);}if(C.getParent()&&b(C.getParent(),"sap/m/NavContainer")){return this._getCachedAdaptationResult(C.getId());}};F._attachDefferedAdaptationListeners=function(C,A){this._attachAdaptableContentChange(C,A);this._attachNavigablePageChange(C,A);if(b(C,"sap/m/Page")){this._attachModifyAggregation(C,"content",A);}if((A.bLateAdaptation===true)&&b(C,"sap/m/Bar")){this._attachModifyAggregation(C,"contentLeft",A,C);this._attachModifyAggregation(C,"contentMiddle",A,C);this._attachModifyAggregation(C,"contentRight",A,C);}if(b(C,"sap/ui/core/ComponentContainer")){var o=C.getComponentInstance();if(!o&&C.getName()&&!C.getDomRef()){var t=this;var D={onBeforeRendering:function(){C.removeEventDelegate(D);t._doBFS([{oNode:C.getComponentInstance(),oAdaptOptions:A}]);}};C.addEventDelegate(D,this);}}};F._checkHasListener=function(k){return a.aChangeListeners[k];};F._setHasListener=function(k,v){a.aChangeListeners[k]=v;};F._attachAdaptableContentChange=function(C,A){if(!C._getAdaptableContent||!q.isFunction(C._getAdaptableContent)){return;}var k=C.getId()+"_adaptableContentChange";if(this._checkHasListener(k)){return;}var o=this._getCurrentTopViewId();var f=function(g){var h=g.getParameter("adaptableContent");var I=(this._getCurrentTopViewId()===undefined);if(I){c.push(o);this._doBFS([{oNode:h,oAdaptOptions:A}]);c.pop();this._fireViewChange(o,A);}}.bind(this);C.attachEvent("_adaptableContentChange",f);this._setHasListener(k);};F._attachNavigablePageChange=function(C,A){if(!b(C,"sap/m/NavContainer")){return;}var k=C.getId()+"navigate";if(this._checkHasListener(k)){return;}C.attachNavigate(function(o){this._doBFS([{oNode:o.getParameter("to"),oAdaptOptions:A}]);}.bind(this));this._setHasListener(k);};F._attachModifyAggregation=function(C,A,o,f){if(!C._attachModifyAggregation||!q.isFunction(C._attachModifyAggregation)){return;}var k=C.getId()+A;if(this._checkHasListener(k)){return;}var g=this._getCurrentTopViewId();var h=function(j){var t=j.getParameter("type"),l=j.getParameter("object");if((t==="add")||(t==="insert")){var I=(this._getCurrentTopViewId()===undefined);if(I){c.push(g);this._doBFS([{oNode:f?f:l,oAdaptOptions:o}]);c.pop();this._fireViewChange(g,o);}}}.bind(this);C._attachModifyAggregation(A,o,h);this._setHasListener(k,h);};F._getNodeChildren=function(C){if(C._getAdaptableContent&&q.isFunction(C._getAdaptableContent)){var f=[C._getAdaptableContent()];if(b(C,"sap/m/Page")){f=f.concat(C.getContent());}return f;}if(b(C,"sap/m/SplitContainer")){return[].concat(C.getAggregation("_navMaster"),C.getAggregation("_navDetail"));}if(b(C,"sap/uxap/ObjectPageLayout")){return[C.getHeaderTitle()];}if(b(C,"sap/ui/core/ComponentContainer")){return[C.getComponentInstance()];}if(b(C,"sap/ui/core/Component")){return[C.getAggregation("rootControl")];}return C.findAggregatedObjects(false,d);};F._updateSearchDepth=function(s,C){if(b(C,"sap/ui/core/mvc/View")||b(C,"sap/ui/core/Component")||b(C,"sap/ui/core/ComponentContainer")){return s;}return s-1;};F._getCachedAdaptationResult=function(v){return{oTitleInfo:a.aViewTitles[v],oSubTitleInfo:a.aViewSubTitles[v],oBackButton:a.aViewBackButtons[v]};};F._applyRules=function(A,C){var p=C.getParent();if(b(p,"sap/m/SplitContainer")){var I=sap.ui.Device.system.phone,m=A.bMoveTitle,f=A.bHideBackButton;if(m){m=I;}if(f&&!sap.ui.Device.system.phone){f='initialPage';}return q.extend({},A,{bMoveTitle:m,bHideBackButton:f});}if(b(p,"sap/m/NavContainer")){if(A.bHideBackButton==='initialPage'){var g=p._getActualInitialPage()&&(p._getActualInitialPage().getId()===C.getId());return q.extend({},A,{bHideBackButton:g});}}if((A.bMoveTitle===false)||(A.bHideBackButton===false)){return q.extend({},A,{bCollapseHeader:false});}return A;};F._getCurrentTopViewId=function(){if(c&&(c.length>0)){return c[0];}};F._adaptHeader=function(h,A){if(!h||!A){return;}var o=new H(h,A),f=o.adapt();var t=this._getCurrentTopViewId();if(f.oTitleInfo){a.aViewTitles[t]=f.oTitleInfo;this._registerChangeListener(a.aViewTitles,t,A);}if(f.oSubTitleInfo){a.aViewSubTitles[t]=f.oSubTitleInfo;this._registerChangeListener(a.aViewSubTitles,t,A);}if(f.oBackButton){a.aViewBackButtons[t]=f.oBackButton;}return f;};F._registerChangeListener=function(t,v,A){var T=t[v];if(T&&T.oControl&&T.sChangeEventId&&!a.aChangeListeners[T.id]){var C=function(o){var T=t[v];T.text=o.getParameter("newValue");this._fireViewChange(v,A);}.bind(this);T.oControl.attachEvent(T.sChangeEventId,C);a.aChangeListeners[T.id]=C;}};F._fireViewChange=function(v,A){var a=this._getCachedAdaptationResult(v);a.sViewId=v;a.oAdaptOptions=A;e.fireEvent("adaptedViewChange",a);};F._isAdaptationRequired=function(A){for(var o in A){if(A.hasOwnProperty(o)&&((A[o]===true)||(A[o]==="initialPage"))){return true;}}return false;};function i(C){if(!C){return false;}return b(C,"sap/m/Label")||b(C,"sap/m/Text")||b(C,"sap/m/Title");}function b(C,t){var T=sap.ui.require(t);return T&&(C instanceof T);}function d(o){return o&&(o.sParentAggregationName!=="dependents");}return F;},false);
sap.ui.predefine('sap/m/FormattedText',['jquery.sap.global','./library','sap/ui/core/Control','./FormattedTextAnchorGenerator'],function(q,l,C,F){"use strict";var a=C.extend("sap.m.FormattedText",{metadata:{library:"sap.m",properties:{htmlText:{type:"string",group:"Misc",defaultValue:""},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},convertLinksToAnchorTags:{type:"sap.m.LinkConversion",group:"Behavior",defaultValue:sap.m.LinkConversion.None},convertedLinksDefaultTarget:{type:"string",group:"Behavior",defaultValue:"_blank"},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null}}}});var _={};_.ATTRIBS={'style':1,'class':1,'a::href':1,'a::target':1};_.ELEMENTS={'a':{cssClass:'sapMLink'},'abbr':1,'blockquote':1,'br':1,'cite':1,'code':1,'em':1,'h1':{cssClass:'sapMTitle sapMTitleStyleH1'},'h2':{cssClass:'sapMTitle sapMTitleStyleH2'},'h3':{cssClass:'sapMTitle sapMTitleStyleH3'},'h4':{cssClass:'sapMTitle sapMTitleStyleH4'},'h5':{cssClass:'sapMTitle sapMTitleStyleH5'},'h6':{cssClass:'sapMTitle sapMTitleStyleH6'},'p':1,'pre':1,'strong':1,'span':1,'u':1,'dl':1,'dt':1,'dd':1,'ol':1,'ul':1,'li':1};a.prototype.init=function(){};function s(t,c){var w;var d,v,e=t==="a";var f=_.ELEMENTS[t].cssClass||"";for(var i=0;i<c.length;i+=2){d=c[i];v=c[i+1];if(!_.ATTRIBS[d]&&!_.ATTRIBS[t+"::"+d]){w='FormattedText: <'+t+'> with attribute ['+d+'="'+v+'"] is not allowed';q.sap.log.warning(w,this);c[i+1]=null;continue;}if(d=="href"){if(!q.sap.validateUrl(v)){q.sap.log.warning("FormattedText: incorrect href attribute:"+v,this);c[i+1]="#";e=false;}}if(d=="target"){e=false;}if(f&&d.toLowerCase()=="class"){c[i+1]=f+" "+v;f="";}}if(e){c.push("target");c.push("_blank");}if(f){c.push("class");c.push(f);}return c;}function p(t,c){if(_.ELEMENTS[t]){return s(t,c);}else{var w='<'+t+'> is not allowed';q.sap.log.warning(w,this);}}function b(t){return q.sap._sanitizeHTML(t,{tagPolicy:p,uriRewriter:function(u){if(q.sap.validateUrl(u)){return u;}}});}function o(e){var n=window.open();n.opener=null;n.location=e.currentTarget.href;e.preventDefault();}a.prototype.onAfterRendering=function(){this.$().find('a[target="_blank"]').on("click",o);};a.prototype._getDisplayHtml=function(){var t=this.getHtmlText(),A=this.getConvertLinksToAnchorTags();if(A===l.LinkConversion.None){return t;}t=F.generateAnchors(t,A,this.getConvertedLinksDefaultTarget());return b(t);};a.prototype.setHtmlText=function(t){return this.setProperty("htmlText",b(t));};return a;},true);
sap.ui.predefine('sap/m/FormattedTextAnchorGenerator',["jquery.sap.global","sap/ui/base/Metadata"],function(q,M){"use strict";var A=M.createClass("sap.m.FormattedTextAnchorGenerator",{});var L=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;var W=/(www\.[^\s><]+(\b|$))/gim;var c="//";var D=/<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+(?!\/\s\*)>/gim;var E=/<a[^>]*>([^<]+)<\/a>/gim;var d=[D,E];A.generateAnchors=function(t,l,T){if(l===sap.m.LinkConversion.ProtocolOnly){t=A._createAnchors(t,L,T);}if(l===sap.m.LinkConversion.All){t=A._createAnchors(t,L,T);t=A._createAnchors(t,W,T,c);}return t;};A._createPositionObject=function(i,l){return{iStartPos:i,iEndPos:i+l};};A._isNested=function(f,s){return f.iStartPos<s.iStartPos&&f.iEndPos>s.iEndPos;};A._isAllowed=function(b,C){return b.some(function(B){return A._isNested(B,C);});};A._shouldBeProcessed=function(u,C,b){return q.sap.validateUrl(u)&&!A._isAllowed(b,C);};A._scanForEntitiesToSkip=function(r,t){var e=[],C;while((C=r.exec(t))!==null){e.push(A._createPositionObject(C.index,C[0].length));}return e;};A._getEntitiesToSkipWhileSearchingForLinks=function(t){return d.map(function(s){return A._scanForEntitiesToSkip(s,t);}).reduce(function(a,b){return a.concat(b);});};A._createAnchors=function(t,r,T,p){var e=A._getEntitiesToSkipWhileSearchingForLinks(t),C;p=p||'';C=function(P){var o=A._createPositionObject(arguments[3],P.length);if(!A._shouldBeProcessed(P,o,e)){return P;}return"<a href=\""+p+P+"\" target=\""+T+"\">"+P+"</a>";};return t.replace(r,C);};return A;},false);
sap.ui.predefine('sap/m/FormattedTextRenderer',['jquery.sap.global'],function(q){"use strict";var F={};F.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapMFT");r.writeClasses();if(c.getTooltip_AsString()){r.writeAttributeEscaped("title",c.getTooltip_AsString());}r.addStyle("width",c.getWidth()||null);r.addStyle("height",c.getHeight()||null);r.writeStyles();r.write(">");r.write(c._getDisplayHtml());r.write("</div>");};return F;},true);
sap.ui.predefine('sap/m/GrowingEnablement',['jquery.sap.global','sap/ui/base/Object','sap/ui/core/format/NumberFormat'],function(q,B,N){"use strict";var G=B.extend("sap.m.GrowingEnablement",{constructor:function(c){B.apply(this);this._oControl=c;this._oControl.bUseExtendedChangeDetection=true;this._oControl.addDelegate(this);var r=this._oControl.getItems(true).length;this._iRenderedDataItems=r;this._iLimit=r;this._bLoading=false;this._sGroupingPath="";this._bDataRequested=false;this._oContainerDomRef=null;this._iTriggerTimer=0;this._aChunk=[];this._oRM=null;},destroy:function(){if(this._oTrigger){this._oTrigger.destroy();this._oTrigger=null;}if(this._oScrollDelegate){this._oScrollDelegate.setGrowingList(null);this._oScrollDelegate=null;}if(this._oRM){this._oRM.destroy();this._oRM=null;}this._oControl.$("triggerList").remove();this._oControl.bUseExtendedChangeDetection=false;this._oControl.removeDelegate(this);this._oContainerDomRef=null;this._oControl=null;},render:function(r){r.write("<ul");r.addClass("sapMListUl");r.addClass("sapMGrowingList");r.writeAttribute("role","presentation");r.writeAttribute("id",this._oControl.getId()+"-triggerList");r.addStyle("display","none");r.writeClasses();r.writeStyles();r.write(">");r.renderControl(this._getTrigger());r.write("</ul>");},onAfterRendering:function(){var c=this._oControl;if(c.getGrowingScrollToLoad()){var s=sap.m.getScrollDelegate(c);if(s){this._oScrollDelegate=s;s.setGrowingList(this.onScrollToLoad.bind(this),c.getGrowingDirection());}}else if(this._oScrollDelegate){this._oScrollDelegate.setGrowingList(null);this._oScrollDelegate=null;}this._updateTriggerDelayed(false);},setTriggerText:function(t){this._oControl.$("triggerText").text(t);},reset:function(){this._iLimit=0;},shouldReset:function(c){var C=sap.ui.model.ChangeReason;return c==C.Sort||c==C.Filter||c==C.Context;},getInfo:function(){return{total:this._oControl.getMaxItemsCount(),actual:this._iRenderedDataItems};},onScrollToLoad:function(){if(!this._bLoading&&this._oControl.getGrowingDirection()==sap.m.ListGrowingDirection.Upwards){var s=this._oScrollDelegate;this._oScrollPosition={left:s.getScrollLeft(),top:s.getScrollHeight()};}this.requestNewPage();},requestNewPage:function(){if(!this._oControl||this._bLoading){return;}var b=this._oControl.getBinding("items");if(b&&!b.isLengthFinal()||this._iLimit<this._oControl.getMaxItemsCount()){this._iLimit+=this._oControl.getGrowingThreshold();this._updateTriggerDelayed(true);this.updateItems("Growing");}},_onBeforePageLoaded:function(c){this._bLoading=true;this._oControl.onBeforePageLoaded(this.getInfo(),c);},_onAfterPageLoaded:function(c){this._bLoading=false;this._updateTriggerDelayed(false);this._oControl.onAfterPageLoaded(this.getInfo(),c);},_getTrigger:function(){var t=this._oControl.getId()+"-trigger",T=this._oControl.getGrowingTriggerText();T=T||sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("LOAD_MORE_DATA");this._oControl.addNavSection(t);if(this._oTrigger){this.setTriggerText(T);return this._oTrigger;}this._oTrigger=new sap.m.CustomListItem({id:t,busyIndicatorDelay:0,type:sap.m.ListType.Active,content:new sap.ui.core.HTML({content:'<div class="sapMGrowingListTrigger">'+'<div class="sapMSLITitleDiv sapMGrowingListTriggerText">'+'<h1 class="sapMSLITitle" id="'+t+'Text">'+q.sap.encodeHTML(T)+'</h1>'+'</div>'+'<div class="sapMGrowingListDescription sapMSLIDescription" id="'+t+'Info"></div>'+'</div>'})}).setParent(this._oControl,null,true).attachPress(this.requestNewPage,this).addEventDelegate({onsapenter:function(e){this.requestNewPage();e.preventDefault();},onsapspace:function(e){this.requestNewPage();e.preventDefault();},onAfterRendering:function(e){this._oTrigger.$().attr({"tabindex":0,"role":"button","aria-live":"polite"});}},this);this._oTrigger.getList=function(){};return this._oTrigger;},_getListItemInfo:function(){return("[ "+this._iRenderedDataItems+" / "+N.getFloatInstance().format(this._oControl.getMaxItemsCount())+" ]");},_getGroupingPath:function(b){var s=b.aSorters||[];var S=s[0]||{};return(S.fnGroup)?S.sPath||"":"";},_getDomIndex:function(i){if(typeof i!="number"){return i;}if(this._oControl.hasPopin&&this._oControl.hasPopin()){return(i*2);}return i;},_getHasScrollbars:function(){if(!this._oScrollDelegate){return false;}if(this._iRenderedDataItems>=40){return true;}return this._oScrollDelegate.getMaxScrollTop()>this._oControl.$("triggerList").outerHeight();},destroyListItems:function(s){this._oControl.destroyItems(s);this._iRenderedDataItems=0;this._aChunk=[];},addListItem:function(c,b,s){var C=this._oControl,o=b.binding,i=this.createListItem(c,b);if(o.isGrouped()){var I=C.getItems(true),l=I[I.length-1],m=b.model,g=o.getGroup(i.getBindingContext(m));if(l&&l.isGroupHeader()){C.removeAggregation("items",l,true);this._fnAppendGroupItem=this.appendGroupItem.bind(this,g,l,s);l=I[I.length-1];}if(!l||g.key!==o.getGroup(l.getBindingContext(m)).key){var a=(b.groupHeaderFactory)?b.groupHeaderFactory(g):null;if(C.getGrowingDirection()==sap.m.ListGrowingDirection.Upwards){this.applyPendingGroupItem();this._fnAppendGroupItem=this.appendGroupItem.bind(this,g,a,s);}else{this.appendGroupItem(g,a,s);}}}C.addAggregation("items",i,s);if(s){this._aChunk.push(i);}},applyPendingGroupItem:function(){if(this._fnAppendGroupItem){this._fnAppendGroupItem();this._fnAppendGroupItem=undefined;}},appendGroupItem:function(g,o,s){o=this._oControl.addItemGroup(g,o,s);if(s){this._aChunk.push(o);}},createListItem:function(c,b){this._iRenderedDataItems++;var i=b.factory(sap.ui.base.ManagedObjectMetadata.uid("clone"),c);return i.setBindingContext(c,b.model);},updateItemsBindingContext:function(C,m){if(!C.length){return;}var I=this._oControl.getItems(true);for(var i=0,c=0,o;i<I.length;i++){o=I[i];if(!o.isGroupHeader()){o.setBindingContext(C[c++],m);}}},applyChunk:function(I,d){this.applyPendingGroupItem();var l=this._aChunk.length;if(!l){return;}if(this._oControl.getGrowingDirection()==sap.m.ListGrowingDirection.Upwards){this._aChunk.reverse();if(I===true){I=0;}else if(typeof I=="number"){I=this._iRenderedDataItems-l-I;}}d=d||this._oContainerDomRef;this._oRM=this._oRM||sap.ui.getCore().createRenderManager();for(var i=0;i<l;i++){this._oRM.renderControl(this._aChunk[i]);}this._oRM.flush(d,false,this._getDomIndex(I));this._aChunk=[];},addListItems:function(c,b,s){for(var i=0;i<c.length;i++){this.addListItem(c[i],b,s);}},rebuildListItems:function(c,b,s){this.destroyListItems(s);this.addListItems(c,b,s);if(s){var h=this._oContainerDomRef.contains(document.activeElement);this.applyChunk(false);h&&this._oControl.focus();}else{this.applyPendingGroupItem();}},insertListItem:function(c,b,i){var I=this.createListItem(c,b);this._oControl.insertAggregation("items",I,i,true);this._aChunk.push(I);},deleteListItem:function(i){this._oControl.getItems(true)[i].destroy(true);this._iRenderedDataItems--;},refreshItems:function(c){if(!this._bDataRequested){this._bDataRequested=true;this._onBeforePageLoaded(c);}if(!this._iLimit||this.shouldReset(c)||!this._oControl.getItems(true).length){this._iLimit=this._oControl.getGrowingThreshold();}this._oControl.getBinding("items").getContexts(0,this._iLimit);},updateItems:function(c){var C=this._oControl,b=C.getBinding("items"),o=C.getBindingInfo("items"),I=C.getItems(true);if(!this._iLimit||this.shouldReset(c)||!I.length){this._iLimit=C.getGrowingThreshold();}if(this._bDataRequested){this._bDataRequested=false;}else{this._onBeforePageLoaded(c);}var a=b.getContexts(0,this._iLimit)||[];if(a.dataRequested){this._bDataRequested=true;if(a.diff&&!a.diff.length){return;}}this._oContainerDomRef=C.getItemsContainerDomRef();var d=a.diff,f=false,v;if(!a.length){this.destroyListItems();}else if(!this._oContainerDomRef){this.rebuildListItems(a,o);}else if(!d||!I.length&&d.length){this.rebuildListItems(a,o,true);}else if(b.isGrouped()||C.checkGrowingFromScratch()){if(this._sGroupingPath!=this._getGroupingPath(b)){f=true;}else{for(var i=0;i<d.length;i++){var D=d[i],e=a[D.index];if(D.type=="delete"){f=true;break;}else if(D.index!=this._iRenderedDataItems){f=true;break;}else{this.addListItem(e,o,true);v=true;}}}}else{if(this._sGroupingPath){C.removeGroupHeaders(true);}v=-1;var l=-1;for(var i=0;i<d.length;i++){var D=d[i],g=D.index,e=a[g];if(D.type=="delete"){if(v!=-1){this.applyChunk(v);l=-1;v=-1;}this.deleteListItem(g);}else{if(v==-1){v=g;}else if(l>-1&&g!=l+1){this.applyChunk(v);v=g;}this.insertListItem(e,o,g);l=g;}}}if(f){this.rebuildListItems(a,o,true);}else if(this._oContainerDomRef&&d&&d.length){this.updateItemsBindingContext(a,o.model);this.applyChunk(v);}this._oContainerDomRef=null;this._sGroupingPath=this._getGroupingPath(b);if(!this._bDataRequested){this._onAfterPageLoaded(c);}},_updateTriggerDelayed:function(l){if(this._oControl.getGrowingScrollToLoad()){this._iTriggerTimer&&q.sap.clearDelayedCall(this._iTriggerTimer);this._iTriggerTimer=q.sap.delayedCall(0,this,"_updateTrigger",[l]);}else{this._updateTrigger(l);}},_updateTrigger:function(l){var t=this._oTrigger,c=this._oControl;if(!t||!c){return;}var b=c.getBinding("items");if(!b){return;}t.setBusy(l);t.$().toggleClass("sapMGrowingListBusyIndicatorVisible",l);if(l){t.setActive(false);c.$("triggerList").css("display","");}else{var i=c.getItems(true),I=i.length,a=b.getLength()||0,L=b.isLengthFinal(),h=c.getGrowingScrollToLoad();if(!I||!this._iLimit||(L&&this._iLimit>=a)||(h&&this._getHasScrollbars())){c.$("triggerList").css("display","none");if(document.activeElement===t.getDomRef()){c.$().focus();}}else{if(L){c.$("triggerInfo").css("display","block").text(this._getListItemInfo());}t.$().removeClass("sapMGrowingListBusyIndicatorVisible");c.$("triggerList").css("display","");}if(h&&this._oScrollPosition===undefined&&c.getGrowingDirection()==sap.m.ListGrowingDirection.Upwards){this._oScrollPosition={left:0,top:0};}if(I>0&&this._oScrollPosition){var s=this._oScrollDelegate,S=this._oScrollPosition;s.scrollTo(S.left,s.getScrollHeight()-S.top);this._oScrollPosition=null;}}}});return G;},true);
sap.ui.predefine('sap/m/GrowingList',['jquery.sap.global','./List','./library'],function(q,L,l){"use strict";var G=L.extend("sap.m.GrowingList",{metadata:{deprecated:true,library:"sap.m",properties:{threshold:{type:"int",group:"Misc",defaultValue:20},triggerText:{type:"string",group:"Appearance",defaultValue:null},scrollToLoad:{type:"boolean",group:"Behavior",defaultValue:false}}}});G.prototype._isIncompatible=function(){return sap.ui.getCore().getConfiguration().getCompatibilityVersion("sapMGrowingList").compareTo("1.16")>=0;};G.prototype.init=function(){sap.m.ListBase.prototype.init.call(this);if(!this._isIncompatible()){this.setGrowing();}};G.prototype.setGrowing=function(){return sap.m.ListBase.prototype.setGrowing.call(this,true);};!(function(g,o){["Threshold","TriggerText","ScrollToLoad"].forEach(function(p){g["set"+p]=o["setGrowing"+p];g["get"+p]=o["getGrowing"+p];});}(G.prototype,sap.m.ListBase.prototype));return G;},true);
sap.ui.predefine('sap/m/GrowingListRenderer',['jquery.sap.global','./ListRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var G=R.extend(L);G.render=function(r,c){if(c._isIncompatible()){q.sap.log.warning("Does not render sap.m.GrowingList#"+c.getId()+" when compatibility version is 1.16 or higher. Instead use sap.m.List/Table control with growing feature!");}else{L.render.call(this,r,c);}};return G;},true);
sap.ui.predefine('sap/m/HBox',['jquery.sap.global','./FlexBox','./library'],function(q,F,l){"use strict";var H=F.extend("sap.m.HBox",{metadata:{library:"sap.m"}});return H;},true);
sap.ui.predefine('sap/m/HBoxRenderer',['jquery.sap.global','./FlexBoxRenderer'],function(q,F){"use strict";var H={};H.render=function(r,c){F.render.apply(this,[r,c]);};return H;},true);
sap.ui.predefine('sap/m/HeaderContainer',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/Device','sap/ui/core/delegate/ScrollEnablement','sap/ui/core/delegate/ItemNavigation','sap/ui/core/Orientation','sap/ui/base/ManagedObject','sap/ui/core/Icon'],function(q,l,C,D,S,I,O,M,a){"use strict";var H=C.extend("HeaderContainerItemContainer",{metadata:{defaultAggregation:"item",aggregations:{item:{type:"sap.ui.core.Control",multiple:false}}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapMHdrCntrItemCntr");r.addClass("sapMHrdrCntrInner");r.writeClasses();r.write(">");r.renderControl(c.getAggregation("item"));r.write("</div>");}});var b=C.extend("sap.m.HeaderContainer",{metadata:{interfaces:["sap.m.ObjectHeaderContainer"],library:"sap.m",properties:{scrollStep:{type:"int",defaultValue:300,group:"Behavior"},scrollTime:{type:"int",defaultValue:500,group:"Behavior"},showDividers:{type:"boolean",defaultValue:true,group:"Appearance"},orientation:{type:"sap.ui.core.Orientation",defaultValue:O.Horizontal,group:"Appearance"},backgroundDesign:{type:"sap.m.BackgroundDesign",defaultValue:l.BackgroundDesign.Transparent,group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Appearance"},height:{type:"sap.ui.core.CSSSize",group:"Appearance"}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true},_scrollContainer:{type:"sap.m.ScrollContainer",multiple:false,visibility:"hidden"},_prevButton:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_nextButton:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}}});b.prototype.init=function(){this._bRtl=sap.ui.getCore().getConfiguration().getRTL();this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oScrollCntr=new l.ScrollContainer(this.getId()+"-scrl-cntnr",{width:"100%",height:"100%",horizontal:!D.system.desktop});this.setAggregation("_scrollContainer",this._oScrollCntr,true);if(D.system.desktop){this._oArrowPrev=new l.Button({id:this.getId()+"-scrl-prev-button",type:l.ButtonType.Transparent,tooltip:this._oRb.getText("HEADERCONTAINER_BUTTON_PREV_SECTION"),press:function(e){e.cancelBubble();this._scroll(-this.getScrollStep(),this.getScrollTime());}.bind(this)}).addStyleClass("sapMHdrCntrBtn").addStyleClass("sapMHdrCntrLeft");this._oArrowPrev._bExcludeFromTabChain=true;this.setAggregation("_prevButton",this._oArrowPrev,true);this._oArrowNext=new l.Button({id:this.getId()+"-scrl-next-button",type:l.ButtonType.Transparent,tooltip:this._oRb.getText("HEADERCONTAINER_BUTTON_NEXT_SECTION"),press:function(e){e.cancelBubble();this._scroll(this.getScrollStep(),this.getScrollTime());}.bind(this)}).addStyleClass("sapMHdrCntrBtn").addStyleClass("sapMHdrCntrRight");this._oArrowNext._bExcludeFromTabChain=true;this.setAggregation("_nextButton",this._oArrowNext,true);}else if(D.system.phone||D.system.tablet){this._oArrowPrev=new a({id:this.getId()+"-scrl-prev-button"}).addStyleClass("sapMHdrCntrBtn").addStyleClass("sapMHdrCntrLeft");this.setAggregation("_prevButton",this._oArrowPrev,true);this._oArrowNext=new a({id:this.getId()+"-scrl-next-button"}).addStyleClass("sapMHdrCntrBtn").addStyleClass("sapMHdrCntrRight");this.setAggregation("_nextButton",this._oArrowNext,true);}this._oScrollCntr.addDelegate({onAfterRendering:function(){if(D.system.desktop){var f=this._oScrollCntr.getDomRef("scroll");var F=this._oScrollCntr.$("scroll");var d=F.find(".sapMHrdrCntrInner").attr("tabindex","0");if(!this._oItemNavigation){this._oItemNavigation=new I();this.addDelegate(this._oItemNavigation);this._oItemNavigation.attachEvent(I.Events.BorderReached,this._handleBorderReached,this);this._oItemNavigation.attachEvent(I.Events.AfterFocus,this._handleBorderReached,this);this._oItemNavigation.attachEvent(I.Events.BeforeFocus,this._handleBeforeFocus,this);if(D.browser.msie||D.browser.edge){this._oItemNavigation.attachEvent(I.Events.FocusAgain,this._handleFocusAgain,this);}}this._oItemNavigation.setRootDomRef(f);this._oItemNavigation.setItemDomRefs(d);this._oItemNavigation.setTabIndex0();this._oItemNavigation.setCycling(false);}}.bind(this)});};b.prototype.onBeforeRendering=function(){if(!this.getHeight()){q.sap.log.warning("No height provided",this);}if(!this.getWidth()){q.sap.log.warning("No width provided",this);}if(D.system.desktop){this._oArrowPrev.setIcon(this.getOrientation()===O.Horizontal?"sap-icon://slim-arrow-left":"sap-icon://slim-arrow-up");this._oArrowNext.setIcon(this.getOrientation()===O.Horizontal?"sap-icon://slim-arrow-right":"sap-icon://slim-arrow-down");}else if(D.system.phone||D.system.tablet){this._oArrowPrev.setSrc(this.getOrientation()===O.Horizontal?"sap-icon://slim-arrow-left":"sap-icon://slim-arrow-up");this._oArrowNext.setSrc(this.getOrientation()===O.Horizontal?"sap-icon://slim-arrow-right":"sap-icon://slim-arrow-down");}sap.ui.getCore().attachIntervalTimer(this._checkOverflow,this);};b.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();this._oItemNavigation=null;}};b.prototype.onsaptabnext=function(e){var f=this.$().find(":focusable");var t=f.index(e.target);var n=f.eq(t+1).get(0);var F=this._getParentCell(e.target);var T;if(n){T=this._getParentCell(n);}if(F&&T&&F.id!==T.id||n&&n.id===this.getId()+"-after"){var L=f.last().get(0);if(L){this._bIgnoreFocusIn=true;L.focus();}}};b.prototype.onsaptabprevious=function(e){this.$().find(".sapMHdrCntrItemCntr").css("border-color","");var f=this.$().find(":focusable");var t=f.index(e.target);var p=f.eq(t-1).get(0);var F=this._getParentCell(e.target);var T;if(p){T=this._getParentCell(p);}if(!T||F&&F.id!==T.id){var s=this.$().attr("tabindex");this.$().attr("tabindex","0");this.$().focus();if(!s){this.$().removeAttr("tabindex");}else{this.$().attr("tabindex",s);}}};b.prototype.setOrientation=function(v){this.setProperty("orientation",v);if(v===O.Horizontal&&!D.system.desktop){this._oScrollCntr.setHorizontal(true);this._oScrollCntr.setVertical(false);}else if(!D.system.desktop){this._oScrollCntr.setHorizontal(false);this._oScrollCntr.setVertical(true);}return this;};b.prototype.validateAggregation=function(A,o,m){return this._callMethodInManagedObject("validateAggregation",A,o,m);};b.prototype.getAggregation=function(A,o,s){return this._callMethodInManagedObject("getAggregation",A,o,s);};b.prototype.setAggregation=function(A,o,s){return this._callMethodInManagedObject("setAggregation",A,o,s);};b.prototype.indexOfAggregation=function(A,o){return this._callMethodInManagedObject("indexOfAggregation",A,o);};b.prototype.insertAggregation=function(A,o,i,s){return this._callMethodInManagedObject("insertAggregation",A,o,i,s);};b.prototype.addAggregation=function(A,o,s){return this._callMethodInManagedObject("addAggregation",A,o,s);};b.prototype.removeAggregation=function(A,o,s){return this._callMethodInManagedObject("removeAggregation",A,o,s);};b.prototype.removeAllAggregation=function(A,s){return this._callMethodInManagedObject("removeAllAggregation",A,s);};b.prototype.destroyAggregation=function(A,s){return this._callMethodInManagedObject("destroyAggregation",A,s);};b.prototype._setScrollInProcess=function(v){this.bScrollInProcess=v;};b.prototype._scroll=function(d,i){this._setScrollInProcess(true);q.sap.delayedCall(i+300,this,this._setScrollInProcess,[false]);if(this.getOrientation()===O.Horizontal){this._hScroll(d,i);}else{this._vScroll(d,i);}};b.prototype._vScroll=function(d,c){var o=this._oScrollCntr.getDomRef(),s=o.scrollTop,i=o.scrollHeight,e=s+d,f=o.clientHeight,p=parseFloat(this.$("scroll-area").css("padding-top")),r;if(e<=0){r=this._calculateRemainingScrolling(d,c,s);this.$("scroll-area").css("transition","padding "+r+"s");this.$().removeClass("sapMHrdrTopPadding");}else if(e+f+p>=i){r=this._calculateRemainingScrolling(d,c,i-f-s);this.$("scroll-area").css("transition","padding "+r+"s");if(f+d>i&&f!==i){this.$().removeClass("sapMHrdrBottomPadding");this.$().addClass("sapMHrdrTopPadding");}else{this.$().removeClass("sapMHrdrBottomPadding");}}else{this.$("scroll-area").css("transition","padding "+c/1000+"s");}this._oScrollCntr.scrollTo(0,e,c);};b.prototype._hScroll=function(d,c){var o=this._oScrollCntr.getDomRef();var s,i,e,f,p,r;if(!this._bRtl){i=o.scrollLeft;f=o.scrollWidth;e=o.clientWidth;s=i+d;p=parseFloat(this.$("scroll-area").css("padding-left"));if(s<=0){r=this._calculateRemainingScrolling(d,c,i);this.$("scroll-area").css("transition","padding "+r+"s");this.$().removeClass("sapMHrdrLeftPadding");}else if(s+o.clientWidth+p>=f){r=this._calculateRemainingScrolling(d,c,f-e-i);this.$("scroll-area").css("transition","padding "+r+"s");if(e+d>f&&e!==f){this.$().removeClass("sapMHrdrRightPadding");this.$().addClass("sapMHrdrLeftPadding");}else{this.$().removeClass("sapMHrdrRightPadding");}}else{this.$("scroll-area").css("transition","padding "+c/1000+"s");}this._oScrollCntr.scrollTo(s,0,c);}else{s=q(o).scrollRightRTL()+d;this._oScrollCntr.scrollTo((s>0)?s:0,0,c);}};b.prototype._calculateRemainingScrolling=function(d,c,e){return Math.abs(e*c/(1000*d));};b.prototype._checkOverflow=function(){if(this.getOrientation()===O.Horizontal){this._checkHOverflow();}else{this._checkVOverflow();}};b.prototype._checkVOverflow=function(){var B=this._oScrollCntr.getDomRef(),o;if(B){var s=Math.round(B.scrollTop);var c=false;var d=false;var r=B.scrollHeight;var e=B.clientHeight;if(Math.abs(r-e)===1){r=e;}if(s>0){c=true;}if((r>e)&&(s+e<r)){d=true;}o=this._oArrowPrev.$().is(":visible");if(o&&!c){this._oArrowPrev.$().hide();this.$().removeClass("sapMHrdrTopPadding");}if(!o&&c){this._oArrowPrev.$().show();this.$().addClass("sapMHrdrTopPadding");}var f=this._oArrowNext.$().is(":visible");if(f&&!d){this._oArrowNext.$().hide();this.$().removeClass("sapMHrdrBottomPadding");}if(!f&&d){this._oArrowNext.$().show();this.$().addClass("sapMHrdrBottomPadding");}}};b.prototype._checkHOverflow=function(){var B=this._oScrollCntr.getDomRef();if(B){var s=Math.floor(B.scrollLeft);var c=false;var d=false;var r=B.scrollWidth;var e=B.clientWidth;if(Math.abs(r-e)===1){r=e;}if(this._bRtl){var i=q(B).scrollLeftRTL();if(i>((D.browser.internet_explorer||D.browser.edge)?1:0)){d=true;}}else if(s>1){c=true;}if(r-5>e){if(this._bRtl){if(q(B).scrollRightRTL()>1){c=true;}}else if(s+e<r){d=true;}}var o=this._oArrowPrev.$().is(":visible");if(o&&!c){this._oArrowPrev.$().hide();this.$().removeClass("sapMHrdrLeftPadding");}if(!o&&c){this._oArrowPrev.$().show();this.$().addClass("sapMHrdrLeftPadding");}var f=this._oArrowNext.$().is(":visible");if(f&&!d){this._oArrowNext.$().hide();this.$().removeClass("sapMHrdrRightPadding");}if(!f&&d){this._oArrowNext.$().show();this.$().addClass("sapMHrdrRightPadding");}}};b.prototype._handleBorderReached=function(e){if(D.browser.internet_explorer&&this.bScrollInProcess){return;}var i=e.getParameter("index");if(i===0){this._scroll(-this.getScrollStep(),this.getScrollTime());}else if(i===this.getContent().length-1){this._scroll(this.getScrollStep(),this.getScrollTime());}};b.prototype._handleFocusAgain=function(e){e.getParameter("event").preventDefault();};b.prototype._handleBeforeFocus=function(e){var o=e.getParameter("event");if(q(o.target).hasClass("sapMHdrCntrItemCntr")||q(o.target).hasClass("sapMScrollContScroll")||q.sap.PseudoEvents.sapprevious.fnCheck(o)||q.sap.PseudoEvents.sapnext.fnCheck(o)){this.$().find(".sapMHdrCntrItemCntr").css("border-color","");}else{this.$().find(".sapMHdrCntrItemCntr").css("border-color","transparent");}};b.prototype._unWrapHeaderContainerItemContainer=function(w){if(w instanceof H){w=w.getItem();}else if(q.isArray(w)){for(var i=0;i<w.length;i++){if(w[i]instanceof H){w[i]=w[i].getItem();}}}return w;};b._AGGREGATION_FUNCTIONS=["validateAggregation","validateAggregation","getAggregation","setAggregation","indexOfAggregation","removeAggregation"];b._AGGREGATION_FUNCTIONS_FOR_INSERT=["insertAggregation","addAggregation"];b.prototype._callMethodInManagedObject=function(f,A){var c=Array.prototype.slice.call(arguments);if(A==="content"){var o=c[2];c[1]="content";if(o instanceof C){if(q.inArray(f,b._AGGREGATION_FUNCTIONS)>-1&&o.getParent()instanceof H){c[2]=o.getParent();}else if(q.inArray(f,b._AGGREGATION_FUNCTIONS_FOR_INSERT)>-1){c[2]=new H({item:o});}}return this._unWrapHeaderContainerItemContainer(this._oScrollCntr[f].apply(this._oScrollCntr,c.slice(1)));}else{return M.prototype[f].apply(this,c.slice(1));}};b.prototype._getParentCell=function(d){return q(d).parents(".sapMHrdrCntrInner").andSelf(".sapMHrdrCntrInner").get(0);};b.prototype.onfocusin=function(e){if(this._bIgnoreFocusIn){this._bIgnoreFocusIn=false;return;}if(e.target.id===this.getId()+"-after"){this._restoreLastFocused();}};b.prototype._restoreLastFocused=function(){if(!this._oItemNavigation){return;}var n=this._oItemNavigation.getItemDomRefs();var L=this._oItemNavigation.getFocusedIndex();var $=q(n[L]);var r=$.control(0)||{};var t=r.getTabbables?r.getTabbables():$.find(":sapTabbable");t.eq(-1).add($).eq(-1).focus();};return b;});
sap.ui.predefine('sap/m/HeaderContainerRenderer',['jquery.sap.global','sap/ui/core/Orientation'],function(q,O){"use strict";var H={};H.render=function(r,c){var t=c.getTooltip_AsString();var o=c.getOrientation();if(o){o=q.sap.encodeCSS(o);}var b=q.sap.encodeCSS("sapMHdrCntrBG"+c.getBackgroundDesign());r.write("<div");r.writeControlData(c);if(t&&(typeof t==="string")){r.writeAttributeEscaped("title",t);}r.addClass("sapMHdrCntr");r.addClass(o);if(c.getShowDividers()){r.addClass("sapMHrdrCntrDvdrs");}r.writeClasses();if(c.getHeight()){r.addStyle("height",c.getHeight());}else{r.addStyle("height",(c.getOrientation()===O.Horizontal)?"auto":"100%");}if(c.getWidth()){r.addStyle("width",c.getWidth());}else{r.addStyle("width",(c.getOrientation()===O.Horizontal)?"100%":"auto");}r.writeStyles();var d="";var C=c.getContent();for(var i=0;C&&i<C.length;i++){d+=C[i].getId()+" ";}r.writeAttribute("aria-labelledby",d);r.write(">");r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-scroll-area");r.addClass("sapMHdrCntrCntr");r.addClass(o);r.addClass(b);r.writeClasses();r.write(">");r.renderControl(c.getAggregation("_scrollContainer"));r.write("</div>");var B=c.getAggregation("_prevButton");if(B){r.write("<div");r.addClass("sapMHdrCntrBtnCntr");r.addClass("sapMHdrCntrLeft");r.addClass(o);r.writeClasses();r.write(">");r.renderControl(B);r.write("</div>");}B=c.getAggregation("_nextButton");if(B){r.write("<div");r.addClass("sapMHdrCntrBtnCntr");r.addClass("sapMHdrCntrRight");r.addClass(o);r.writeClasses();r.write(">");r.renderControl(B);r.write("</div>");}r.write("<div");r.writeAttribute("id",c.getId()+"-after");r.writeAttribute("tabindex","0");r.write("/>");r.write("</div>");};return H;},true);
sap.ui.predefine('sap/m/IconTabBar',['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var I=C.extend("sap.m.IconTabBar",{metadata:{interfaces:["sap.m.ObjectHeaderContainer"],library:"sap.m",properties:{showSelection:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},expandable:{type:"boolean",group:"Misc",defaultValue:true},expanded:{type:"boolean",group:"Misc",defaultValue:true},selectedKey:{type:"string",group:"Data",defaultValue:null},upperCase:{type:"boolean",group:"Appearance",defaultValue:false},stretchContentHeight:{type:"boolean",group:"Appearance",defaultValue:false},applyContentPadding:{type:"boolean",group:"Appearance",defaultValue:true},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:sap.m.BackgroundDesign.Solid},headerMode:{type:"sap.m.IconTabHeaderMode",group:"Appearance",defaultValue:sap.m.IconTabHeaderMode.Standard},showOverflowSelectList:{type:"boolean",group:"Appearance",defaultValue:false},headerBackgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:sap.m.BackgroundDesign.Solid},enableTabReordering:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{items:{type:"sap.m.IconTab",multiple:true,singularName:"item"},content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},_header:{type:"sap.m.IconTabHeader",multiple:false,visibility:"hidden"}},events:{select:{parameters:{item:{type:"sap.m.IconTabFilter"},key:{type:"string"},selectedItem:{type:"sap.m.IconTabFilter"},selectedKey:{type:"string"}}},expand:{parameters:{expand:{type:"boolean"},collapse:{type:"boolean"}}}}}});I.prototype.clone=function(){var c=C.prototype.clone.apply(this,arguments);var i=this._getIconTabHeader();c.setAggregation("_header",i.clone(),true);return c;};I.prototype.setExpanded=function(e){this.setProperty("expanded",e,true);if(this.$().length){this._toggleExpandCollapse(e);}return this;};I.prototype.setExpandable=function(e){this.setProperty("expandable",e,true);return this;};I.prototype.setHeaderMode=function(m){this.setProperty("headerMode",m,true);this._getIconTabHeader().setMode(m);return this;};I.prototype.setHeaderBackgroundDesign=function(h){this.setProperty("headerBackgroundDesign",h,true);this._getIconTabHeader().setBackgroundDesign(h);return this;};I.prototype.setShowOverflowSelectList=function(v){this.setProperty("showOverflowSelectList",v,true);this._getIconTabHeader().setShowOverflowSelectList(v);return this;};I.prototype.setEnableTabReordering=function(v){this.setProperty("enableTabReordering",v,true);this._getIconTabHeader().setEnableTabReordering(v);return this;};I.prototype._rerenderContent=function(c){var $=this.$("content");if(c&&($.length>0)){var r=sap.ui.getCore().createRenderManager();for(var i=0;i<c.length;i++){r.renderControl(c[i]);}r.flush($[0]);r.destroy();}};I.prototype._toggleExpandCollapse=function(e){var $=this.$("content");var s=this._getIconTabHeader().oSelectedItem;if(e===undefined){e=!this.getExpanded();}if(s){s.$().toggleClass("sapMITBSelected",e);s.$().attr({'aria-expanded':e});if(e){s.$().attr({'aria-selected':e});}else{s.$().removeAttr('aria-selected');}}this._iAnimationCounter=(this._iAnimationCounter===undefined?1:++this._iAnimationCounter);if(e){if(s){if(this.$("content").children().length===0){var S=s.getContent();if(S.length>0){this._rerenderContent(S);}else{this._rerenderContent(this.getContent());}}$.stop(true,true).slideDown('400',q.proxy(this.onTransitionEnded,this,e));this.$("containerContent").toggleClass("sapMITBContentClosed",!e);}}else{this.$("contentArrow").hide();$.stop(true,true).slideUp('400',q.proxy(this.onTransitionEnded,this,e));}if(!e||s){this.setProperty("expanded",e,true);}this.fireExpand({expand:e,collapse:!e});return this;};I.prototype.onTransitionEnded=function(e){var $=this.$("content"),a=this.$("containerContent"),b=this.$("contentArrow");if(this._iAnimationCounter===1){a.toggleClass("sapMITBContentClosed",!e);if(e){b.show();$.css("display","block");}else{b.hide();$.css("display","none");}}this._iAnimationCounter=(this._iAnimationCounter>0?--this._iAnimationCounter:0);return this;};I.prototype._getIconTabHeader=function(){var c=this.getAggregation("_header");if(!c){c=new sap.m.IconTabHeader(this.getId()+"--header",{});this.setAggregation("_header",c,true);}return c;};I.prototype.setShowSelection=function(v){this._getIconTabHeader().setShowSelection(v);return this;};I.prototype.getShowSelection=function(){return this._getIconTabHeader().getShowSelection();};I.prototype.setSelectedKey=function(v){this._getIconTabHeader().setSelectedKey(v);return this;};I.prototype.getSelectedKey=function(){return this._getIconTabHeader().getSelectedKey();};I.prototype.setSelectedItem=function(i,a){return this._getIconTabHeader().setSelectedItem(i,a);};I.prototype._callMethodInManagedObject=function(f,a){var A=Array.prototype.slice.call(arguments),h;if(a==="items"){h=this._getIconTabHeader();return h[f].apply(h,A.slice(1));}else{return sap.ui.base.ManagedObject.prototype[f].apply(this,A.slice(1));}};I.prototype.bindAggregation=function(){var a=Array.prototype.slice.call(arguments);this._callMethodInManagedObject.apply(this,["bindAggregation"].concat(a));return this;};I.prototype.validateAggregation=function(a,o,m){return this._callMethodInManagedObject("validateAggregation",a,o,m);};I.prototype.setAggregation=function(a,o,s){this._callMethodInManagedObject("setAggregation",a,o,s);return this;};I.prototype.getAggregation=function(a,d){return this._callMethodInManagedObject("getAggregation",a,d);};I.prototype.indexOfAggregation=function(a,o){return this._callMethodInManagedObject("indexOfAggregation",a,o);};I.prototype.insertAggregation=function(a,o,i,s){this._callMethodInManagedObject("insertAggregation",a,o,i,s);return this;};I.prototype.addAggregation=function(a,o,s){this._callMethodInManagedObject("addAggregation",a,o,s);return this;};I.prototype.removeAggregation=function(a,o,s){return this._callMethodInManagedObject("removeAggregation",a,o,s);};I.prototype.removeAllAggregation=function(a,s){return this._callMethodInManagedObject("removeAllAggregation",a,s);};I.prototype.destroyAggregation=function(a,s){this._callMethodInManagedObject("destroyAggregation",a,s);return this;};I.prototype.getBinding=function(a){return this._callMethodInManagedObject("getBinding",a);};I.prototype.getBindingInfo=function(a){return this._callMethodInManagedObject("getBindingInfo",a);};I.prototype.getBindingPath=function(a){return this._callMethodInManagedObject("getBindingPath",a);};return I;},true);
sap.ui.predefine('sap/m/IconTabBarRenderer',['jquery.sap.global','sap/ui/core/IconPool'],function(q,I){"use strict";var a={};a._aAllIconColors=['sapMITBFilterCritical','sapMITBFilterPositive','sapMITBFilterNegative','sapMITBFilterDefault'];a.render=function(r,c){var C=c.getContent(),h=c._getIconTabHeader();r.write("<div ");r.writeControlData(c);r.addClass("sapMITB");if(c.getStretchContentHeight()){r.addClass("sapMITBStretch");}if(!c.getApplyContentPadding()){r.addClass("sapMITBNoContentPadding");}r.addClass("sapMITBBackgroundDesign"+c.getBackgroundDesign());r.writeClasses();r.write(">");if(!c._bHideHeader){r.renderControl(h);}r.write("<div id='"+c.getId()+"-containerContent' ");r.addClass("sapMITBContainerContent");if(!c.getExpanded()){r.addClass("sapMITBContentClosed");}r.writeClasses();r.write(">");r.write("<div id='"+c.getId()+"-content' class='sapMITBContent' role='tabpanel' ");if(!c.getExpanded()){r.write("style='display: none'");}r.write(">");if(c.getExpanded()){if(h.oSelectedItem&&h.oSelectedItem.getContent()){var o=h.oSelectedItem.getContent();if(o.length>0){C=o;}}if(C.length>0){for(var i=0;i<C.length;i++){r.renderControl(C[i]);}}}r.write("</div>");r.write("</div>");r.write("</div>");};return a;},true);
sap.ui.predefine('sap/m/IconTabBarSelectList',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/delegate/ItemNavigation'],function(q,l,C,I){"use strict";var a=C.extend("sap.m.IconTabBarSelectList",{metadata:{library:"sap.m",aggregations:{items:{type:"sap.m.IconTabFilter",multiple:true,singularName:"item"}},events:{selectionChange:{parameters:{selectedItem:{type:"sap.m.IconTabFilter"}}}}}});a.prototype.init=function(){this._itemNavigation=new I();this._itemNavigation.setCycling(false);this.addEventDelegate(this._itemNavigation);this._itemNavigation.setPageSize(10);};a.prototype.exit=function(){if(this._itemNavigation){this._itemNavigation.destroy();this._itemNavigation=null;}};a.prototype.onAfterRendering=function(){var b,c=this.getItems(),d=[];for(var i=0;i<c.length;i++){b=c[i];d.push(b.getDomRef());}this._itemNavigation.setRootDomRef(this.getDomRef());this._itemNavigation.setItemDomRefs(d);};a.prototype.setSelectedItem=function(i){if(this._selectedItem){this._deselectItem(this._selectedItem);}if(i){this._selectItem(i);}this._selectedItem=i;};a.prototype.getSelectedItem=function(){return this._selectedItem;};a.prototype._deselectItem=function(i){var $=i.$();if($){$.removeClass('sapMITBSelectItemSelected');$.removeAttr('aria-selected');}};a.prototype._selectItem=function(i){var $=i.$();if($){$.addClass('sapMITBSelectItemSelected');$.attr('aria-selected',true);}};a.prototype.ontap=function(e){var $=q(e.target);if(!$.hasClass('sapMITBSelectItem')){$=$.parent(".sapMITBSelectItem");}var s=sap.ui.getCore().byId($[0].id);if(s&&s.getEnabled()){e.preventDefault();if(s!=this.getSelectedItem()){this._selectItem(s);this.fireSelectionChange({selectedItem:s});}}if(this._iconTabHeader){this._iconTabHeader._closeOverflow();}};a.prototype.onsapenter=a.prototype.ontap;a.prototype.onsapspace=a.prototype.ontap;a.prototype.checkIconOnly=function(b){var c,d=b.length;for(var i=0;i<d;i++){c=b[i];if(c.getText()||c.getCount()){return false;}}return true;};return a;},true);
sap.ui.predefine('sap/m/IconTabBarSelectListRenderer',['jquery.sap.global','sap/ui/core/Renderer'],function(q,R){'use strict';var I={};I.render=function(r,c){var i,a,b=c.getItems(),d=c._iconTabHeader,e=true;if(d){d._checkTextOnly(b);e=d._bTextOnly;c._bIconOnly=c.checkIconOnly(b);}r.write('<ul');r.writeAttribute('role','listbox');r.writeControlData(c);r.addClass('sapMITBSelectList');if(e){r.addClass('sapMITBSelectListTextOnly');}r.writeClasses();r.write('>');for(i=0;i<b.length;i++){a=b[i];a.renderInSelectList(r,c);}r.write('</ul>');};return I;},true);
sap.ui.predefine('sap/m/IconTabFilter',['jquery.sap.global','./library','sap/ui/core/Item','sap/ui/core/Renderer','sap/ui/core/IconPool','sap/ui/core/InvisibleText'],function(q,l,I,R,a,b){"use strict";var c=I.extend("sap.m.IconTabFilter",{metadata:{interfaces:["sap.m.IconTab","sap.ui.core.PopupInterface"],library:"sap.m",properties:{count:{type:"string",group:"Data",defaultValue:''},showAll:{type:"boolean",group:"Misc",defaultValue:false},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:''},iconColor:{type:"sap.ui.core.IconColor",group:"Appearance",defaultValue:sap.ui.core.IconColor.Default},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},design:{type:"sap.m.IconTabFilterDesign",group:"Appearance",defaultValue:sap.m.IconTabFilterDesign.Vertical}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}}});c._aAllIconColors=['sapMITBFilterCritical','sapMITBFilterPositive','sapMITBFilterNegative','sapMITBFilterDefault','sapMITBFilterNeutral'];c.prototype._getImageControl=function(C,p,d){var P={src:this.getIcon(),densityAware:this.getIconDensityAware(),useIconTooltip:false};if(P.src){this._oImageControl=sap.m.ImageHelper.getImageControl(this.getId()+"-icon",this._oImageControl,p,P,C,d);}else if(this._oImageControl){this._oImageControl.destroy();this._oImageControl=null;}return this._oImageControl;};c.prototype.exit=function(e){if(this._oImageControl){this._oImageControl.destroy();}if(I.prototype.exit){I.prototype.exit.call(this,e);}};c.prototype.invalidate=function(){var i=this.getParent(),o;if(i instanceof sap.m.IconTabHeader&&i.getParent()instanceof sap.m.IconTabBar){o=i.getParent();if(o.getParent()instanceof sap.m.ObjectHeader){var O=o.getParent();O.invalidate();}else{o.invalidate();}}};c.prototype.setProperty=function(p,v,s){switch(p){case'text':case'count':case'showAll':case'icon':case'iconColor':case'iconDensityAware':case'design':if(this.getProperty(p)===v){return this;}sap.ui.core.Control.prototype.setProperty.call(this,p,v,true);if(!s){var i=this.getParent();if(i instanceof sap.m.IconTabHeader){i.invalidate();}}break;default:sap.ui.core.Control.prototype.setProperty.apply(this,arguments);break;}return this;};c.prototype._getNonEmptyKey=function(){var k=this.getKey();if(k){return k;}return this.getId();};c.prototype.render=function(r){var t=this;if(!t.getVisible()){return;}var i=this.getParent(),d=i.getParent(),h=d instanceof sap.m.IconTabBar,e=sap.ui.getCore().getLibraryResourceBundle('sap.m'),f='role="tab"',g=t.getId(),j=t.getCount(),k=t.getText(),m=t.getIcon(),n=t.getDesign(),o=t.getIconColor(),p=o==='Positive'||o==='Critical'||o==='Negative',s=n===sap.m.IconTabFilterDesign.Horizontal,u=h&&d.getUpperCase(),v=i._bTextOnly,w=i._bInLine||i.isInlineMode();if(h){f+=' aria-controls="'+d.sId+'-content" ';}if(k.length||j!==''||m){f+='aria-labelledby="';var x=[];if(k.length){x.push(g+'-text');}if(j!==''){x.push(g+'-count');}if(m){x.push(g+'-icon');}if(p){x.push(g+'-iconColor');}f+=x.join(' ');f+='"';}r.write('<div '+f+' ');r.writeElementData(t);r.addClass('sapMITBItem');if(!j){r.addClass('sapMITBItemNoCount');}if(s){r.addClass('sapMITBHorizontal');}else{r.addClass('sapMITBVertical');}if(t.getShowAll()){r.addClass('sapMITBAll');}else{r.addClass('sapMITBFilter');r.addClass('sapMITBFilter'+o);}if(!t.getEnabled()){r.addClass('sapMITBDisabled');r.writeAttribute('aria-disabled',true);}r.writeAttribute('aria-selected',false);var T=t.getTooltip_AsString();if(T){r.writeAttributeEscaped('title',T);}r.writeClasses();r.write('>');if(!w){r.write('<div id="'+g+'-tab" class="sapMITBTab">');if(!t.getShowAll()||!m){if(p){r.write('<div id="'+g+'-iconColor" style="display: none;">'+e.getText('ICONTABBAR_ICONCOLOR_'+o.toUpperCase())+'</div>');}r.renderControl(t._getImageControl(['sapMITBFilterIcon','sapMITBFilter'+o],i,c._aAllIconColors));}if(!t.getShowAll()&&!m&&!v){r.write('<span class="sapMITBFilterNoIcon"> </span>');}if(s&&!t.getShowAll()){r.write('</div>');r.write('<div class="sapMITBHorizontalWrapper">');}r.write('<span id="'+g+'-count" ');r.addClass('sapMITBCount');r.writeClasses();r.write('>');if(j===''&&s){r.write('&nbsp;');}else{r.writeEscaped(j);}r.write('</span>');if(!s){r.write('</div>');}}if(k.length){r.write('<div id="'+g+'-text" ');r.addClass('sapMITBText');if(u){r.addClass('sapMITBTextUpperCase');}if(w){r.writeAttribute('dir','ltr');}r.writeClasses();r.write('>');r.writeEscaped(i._getDisplayText(t));r.write('</div>');}if(!w&&s){r.write('</div>');}r.write('<div class="sapMITBContentArrow"></div>');r.write('</div>');};c.prototype.renderInSelectList=function(r,s){var t=this;if(!t.getVisible()){return;}var i=true,d,e=s._iconTabHeader,f=s.getItems(),g=f.length,h=f.indexOf(t),j=sap.ui.getCore().getLibraryResourceBundle('sap.m');if(e){i=e._bTextOnly;d=s._bIconOnly;}r.write('<li');r.writeElementData(t);r.writeAttribute('tabindex','-1');r.writeAttribute('role','option');r.writeAttribute('aria-posinset',h+1);r.writeAttribute('aria-setsize',g);var k=t.getTooltip_AsString();if(k){r.writeAttributeEscaped('title',k);}if(!t.getEnabled()){r.addClass('sapMITBDisabled');r.writeAttribute('aria-disabled',true);}r.addClass('sapMITBSelectItem');if(s.getSelectedItem()==t){r.addClass('sapMITBSelectItemSelected');r.writeAttribute('aria-selected',true);}var m=t.getIconColor();r.addClass('sapMITBFilter'+m);r.writeClasses();var n=t.getId(),o,p=m=='Positive'||m=='Critical'||m=='Negative';var u=' aria-labelledby="';if(!d){u+=n+'-text ';}if(!i&&t.getIcon()){u+=n+'-icon ';}if(p){o=new b({text:j.getText('ICONTABBAR_ICONCOLOR_'+m.toUpperCase())});u+=o.getId();}u+='"';r.write(u+'>');if(o){r.renderControl(o);}if(!i){this._renderIcon(r);}if(!d){this._renderText(r);}r.write('</li>');};c.prototype._renderIcon=function(r){var i=this.getIcon();if(i){var d=a.getIconInfo(i);var e=['sapMITBSelectItemIcon'];if(d&&!d.suppressMirroring){e.push('sapUiIconMirrorInRTL');}r.writeIcon(i,e,{id:this.getId()+'-icon','aria-hidden':true});}else{r.write('<span class="sapUiIcon"></span>');}};c.prototype._renderText=function(r){var t=this.getText(),d=this.getCount(),i=sap.ui.getCore().getConfiguration().getRTL(),e=this.getTextDirection();r.write('<span');r.writeAttribute('id',this.getId()+'-text');r.writeAttribute('dir','ltr');r.addClass('sapMText');r.addClass('sapMTextNoWrap');r.addClass('sapMITBText');r.writeClasses();if(e!==sap.ui.core.TextDirection.Inherit){r.writeAttribute('dir',e.toLowerCase());}var f=R.getTextAlign(sap.ui.core.TextAlign.Begin,e);if(f){r.addStyle('text-align',f);r.writeStyles();}if(d){if(i){t='('+d+') '+t;}else{t+=' ('+d+')';}}r.write('>');r.writeEscaped(t);r.write('</span>');};return c;},true);
sap.ui.predefine('sap/m/IconTabHeader',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/delegate/ItemNavigation','sap/ui/core/IconPool','sap/ui/core/delegate/ScrollEnablement','./IconTabBarSelectList','./Button','./ResponsivePopover','./IconTabFilter'],function(q,l,C,E,I,a,S,b,B,R,c){"use strict";var d=C.extend("sap.m.IconTabHeader",{metadata:{library:"sap.m",properties:{showSelection:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},selectedKey:{type:"string",group:"Data",defaultValue:null},visible:{type:"boolean",group:"Behavior",defaultValue:true},mode:{type:"sap.m.IconTabHeaderMode",group:"Appearance",defaultValue:sap.m.IconTabHeaderMode.Standard},showOverflowSelectList:{type:"boolean",group:"Appearance",defaultValue:false},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:sap.m.BackgroundDesign.Solid},enableTabReordering:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{items:{type:"sap.m.IconTab",multiple:true,singularName:"item"}},events:{select:{parameters:{item:{type:"sap.m.IconTabFilter"},key:{type:"string"}}}}}});E.apply(d.prototype,[true]);d.ANIMATION_DURATION=sap.ui.getCore().getConfiguration().getAnimation()?200:0;d.SCROLL_STEP=264;d.prototype.init=function(){this._bPreviousScrollForward=false;this._bPreviousScrollBack=false;this._iCurrentScrollLeft=0;this._bRtl=sap.ui.getCore().getConfiguration().getRTL();this.startScrollX=0;this.startTouchX=0;this._scrollable=null;this._aTabKeys=[];this._oItemNavigation=new I().setCycling(false);this._oItemNavigation.attachEvent(I.Events.FocusLeave,this._onItemNavigationFocusLeave,this);this._oItemNavigation.attachEvent(I.Events.AfterFocus,this._onItemNavigationAfterFocus,this);this.addDelegate(this._oItemNavigation);this._oScroller=new S(this,this.getId()+"-head",{horizontal:true,vertical:false,nonTouchScrolling:true});};d.prototype._getSelectList=function(){var t=this;if(!this._oSelectList){this._oSelectList=new b({selectionChange:function(e){var T=e.getParameter('selectedItem');t.setSelectedItem(T._tabFilter);}});this._oSelectList._iconTabHeader=this;}return this._oSelectList;};d.prototype._getOverflowButton=function(){if(!this._oOverflowButton){this._oOverflowButton=new B({id:this.getId()+'-overflow',icon:"sap-icon://overflow",type:sap.m.ButtonType.Transparent,press:this._overflowButtonPress.bind(this)});}return this._oOverflowButton;};d.prototype._overflowButtonPress=function(e){if(!this._oPopover){this._oPopover=new R({showArrow:false,showHeader:false,placement:sap.m.PlacementType.Vertical,offsetX:0,offsetY:0}).addStyleClass('sapMITBPopover');if(sap.ui.Device.system.phone){this._oPopover._oControl.addButton(this._createPopoverCloseButton());}}var s=this._getSelectList();this._setSelectListItems();this._oPopover.removeAllContent();this._oPopover.addContent(s);this._oPopover.setInitialFocus(s.getSelectedItem());this._oPopover.openBy(this._getOverflowButton());};d.prototype._createPopoverCloseButton=function(){var t=this;var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");return new B({text:r.getText("SELECT_CANCEL_BUTTON"),press:function(){t._closeOverflow();}});};d.prototype._closeOverflow=function(){if(!sap.ui.Device.system.desktop){this._oPopover.close();}if(this.oSelectedItem){this.oSelectedItem.$().focus();}};d.prototype._setSelectListItems=function(){if(!this.getShowOverflowSelectList()){return;}var s,t,o=this._getSelectList(),T=this.getTabFilters();o.removeAllItems();for(var i=0;i<T.length;i++){t=T[i];s=t.clone();s._tabFilter=t;o.addItem(s);if(t==this.oSelectedItem){o.setSelectedItem(s);}}};d.prototype._findSelectItem=function(t){var s=this._getSelectList(),e=s.getItems(),o;for(var i=0;i<e.length;i++){o=e[i];if(o._tabFilter==t){return o;}}};d.prototype._onItemNavigationFocusLeave=function(){if(!this.oSelectedItem){return;}var e=this.getItems();var f=-1;var o;for(var i=0;i<e.length;i++){o=e[i];if(o instanceof sap.m.IconTabFilter==false){continue;}f++;if(this.oSelectedItem==o){break;}}this._oItemNavigation.setFocusedIndex(f);};d.prototype._onItemNavigationAfterFocus=function(e){var h=this.getDomRef("head"),i=e.getParameter("index"),$=e.getParameter('event');if($.keyCode===undefined){return;}this._iCurrentScrollLeft=h.scrollLeft;this._checkOverflow();if(i!==null&&i!==undefined){this._scrollIntoView(this.getTabFilters()[i],0);}};d.prototype.getTabFilters=function(){var i=this.getItems();var t=[];i.forEach(function(o){if(o instanceof sap.m.IconTabFilter){t.push(o);}});return t;};d.prototype.exit=function(){if(this._oArrowLeft){this._oArrowLeft.destroy();}if(this._oArrowRight){this._oArrowRight.destroy();}if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(this._aTabKeys){this._aTabKeys=null;}if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}if(this._oOverflowButton){this._oOverflowButton.destroy();this._oOverflowButton=null;}};d.prototype.onBeforeRendering=function(){var e=this.getItems(),s=this.getSelectedKey(),i=0;if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(e.length>0){if(!this.oSelectedItem||s&&s!==this.oSelectedItem._getNonEmptyKey()){if(s){for(;i<e.length;i++){if(!(e[i]instanceof sap.m.IconTabSeparator)&&e[i]._getNonEmptyKey()===s){this.oSelectedItem=e[i];break;}}}if(!this.oSelectedItem){for(i=0;i<e.length;i++){if(!(e[i]instanceof sap.m.IconTabSeparator)&&e[i].getVisible()){this.oSelectedItem=e[i];break;}}}}if(this.oSelectedItem&&!this.oSelectedItem.getVisible()){for(i=0;i<e.length;i++){if(!(e[i]instanceof sap.m.IconTabSeparator)&&e[i].getVisible()){this.oSelectedItem=e[i];break;}}}if(this.oSelectedItem){this.setProperty("selectedKey",this.oSelectedItem._getNonEmptyKey(),true);}}if(this._sResizeListenerNoFlexboxSupportId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerNoFlexboxSupportId);this._sResizeListenerNoFlexboxSupportId=null;}};d.prototype.setSelectedKey=function(k){var e=this.getTabFilters(),i=0;if(e.length>0){k=k||e[0]._getNonEmptyKey();}if(this.$().length){for(;i<e.length;i++){if(e[i]._getNonEmptyKey()===k){this.setSelectedItem(e[i],true);break;}}}this.setProperty("selectedKey",k,true);return this;};d.prototype.setSelectedItem=function(i,A){if(!i||!i.getEnabled()){return this;}if(this.getShowOverflowSelectList()){var s=this._findSelectItem(i);if(s){this._getSelectList().setSelectedItem(s);}}var p=this.getParent();var e=p instanceof sap.m.IconTabBar;var f=false;if(i.getContent().length===0&&this.oSelectedItem&&this.oSelectedItem.getContent().length===0){f=true;}if(this.oSelectedItem&&this.oSelectedItem.getVisible()&&(e&&p.getExpandable()||this.oSelectedItem!==i)){this.oSelectedItem.$().removeClass("sapMITBSelected").attr('aria-selected',false).removeAttr('aria-expanded');}if(i.getVisible()){if(this.oSelectedItem===i){if(!A&&e&&p.getExpandable()){p._toggleExpandCollapse();}}else{if(e){p.$("content").attr('aria-labelledby',i.sId);}this.oSelectedItem=i;this.setProperty("selectedKey",this.oSelectedItem._getNonEmptyKey(),true);if(!e){this.oSelectedItem.$().addClass("sapMITBSelected").attr({'aria-selected':true});}if(e&&(p.getExpandable()||p.getExpanded())){this.oSelectedItem.$().addClass("sapMITBSelected").attr({'aria-selected':true});var o=this.oSelectedItem.getContent();if(o.length>0){p._rerenderContent(o);}else{if(!f){p._rerenderContent(p.getContent());}}if(!A&&p.getExpandable()&&!p.getExpanded()){p._toggleExpandCollapse(true);}}}if(this.oSelectedItem.$().length>0){this._scrollIntoView(i,500);}else{this._scrollAfterRendering=true;}}var g=this.oSelectedItem._getNonEmptyKey();this.oSelectedItem=i;this.setProperty("selectedKey",g,true);if(e){p.setProperty("selectedKey",g,true);}if(!A){if(e){p.fireSelect({selectedItem:this.oSelectedItem,selectedKey:g,item:this.oSelectedItem,key:g});}else{this.fireSelect({selectedItem:this.oSelectedItem,selectedKey:g,item:this.oSelectedItem,key:g});}}return this;};d.prototype._getFirstVisibleItem=function(e){for(var i=0;i<e.length;i++){if(e[i].getVisible()){return e[i];}}return null;};d.prototype._initItemNavigation=function(){var t=this,h=this.getDomRef("head"),i=this.getItems(),T=[],s=-1;i.forEach(function(o){if(o instanceof sap.m.IconTabFilter){var e=t.getFocusDomRef(o);q(e).attr("tabindex","-1");T.push(e);if(o===t.oSelectedItem){s=T.indexOf(e);}}});if(!this._oItemNavigation){this._oItemNavigation=new I();this._oItemNavigation.attachEvent(I.Events.FocusLeave,this._onItemNavigationFocusLeave,this);this._oItemNavigation.attachEvent(I.Events.AfterFocus,this._onItemNavigationAfterFocus,this);this.addDelegate(this._oItemNavigation);}this._oItemNavigation.setRootDomRef(h);this._oItemNavigation.setItemDomRefs(T);this._oItemNavigation.setSelectedIndex(s);};d.prototype.onAfterRendering=function(){if(this._oScroller){this._oScroller.setIconTabBar(this,q.proxy(this._afterIscroll,this),q.proxy(this._scrollPreparation,this));}var p=this.getParent();var i=p instanceof sap.m.IconTabBar;if(this.oSelectedItem&&(!i||i&&p.getExpanded())){this.oSelectedItem.$().addClass("sapMITBSelected").attr({'aria-selected':true});}q.sap.delayedCall(350,this,"_checkOverflow");if(this.oSelectedItem){if(!this._bDoThisOnlyOnce){q.sap.delayedCall(1000,this,"_scrollIntoView",[this.oSelectedItem,0]);this._bDoThisOnlyOnce=true;}else if(this._scrollAfterRendering){this._scrollIntoView(this.oSelectedItem,500);this._scrollAfterRendering=false;}}this._initItemNavigation();if(this.getShowOverflowSelectList()){this.$('overflow').attr('tabindex',-1);}this._sResizeListenerId=sap.ui.core.ResizeHandler.register(this.getDomRef(),q.proxy(this._fnResize,this));if(!q.support.newFlexBoxLayout&&i&&p.getStretchContentHeight()){this._sResizeListenerNoFlexboxSupportId=sap.ui.core.ResizeHandler.register(p.getDomRef(),q.proxy(this._fnResizeNoFlexboxSupport,this));this._fnResizeNoFlexboxSupport();}};d.prototype.destroyItems=function(){this.oSelectedItem=null;this._aTabKeys=[];this.destroyAggregation("items");};d.prototype.addItem=function(i){if(!(i instanceof sap.m.IconTabSeparator)){var k=i.getKey();if(this._aTabKeys.indexOf(k)!==-1){q.sap.log.warning("sap.m.IconTabHeader: duplicate key '"+k+"' inside the IconTabFilter. Please use unique keys.");}this._aTabKeys.push(k);}this.addAggregation("items",i);};d.prototype.insertItem=function(i,e){if(!(i instanceof sap.m.IconTabSeparator)){var k=i.getKey();if(this._aTabKeys.indexOf(k)!==-1){q.sap.log.warning("sap.m.IconTabHeader: duplicate key '"+k+"' inside the IconTabFilter. Please use unique keys.");}this._aTabKeys.push(k);}this.insertAggregation("items",i,e);};d.prototype.removeAllItems=function(){this._aTabKeys=[];this.removeAllAggregation("items");};d.prototype.removeItem=function(i){i=this.removeAggregation("items",i);if(i&&!(i instanceof sap.m.IconTabSeparator)){var k=i.getKey();this._aTabKeys.splice(this._aTabKeys.indexOf(k),1);}return i;};d.prototype.removeAggregation=function(A,o,s){var i=this.getTabFilters();var e=C.prototype.removeAggregation.apply(this,arguments);if(this._oDragContext){return e;}if(e&&e==this.oSelectedItem&&A=='items'){var f=q.inArray(e,i);i=this.getTabFilters();f=Math.max(0,Math.min(f,i.length-1));var g=i[f];if(g){this.setSelectedItem(g,true);}else{var h=this.getParent();if(h instanceof sap.m.IconTabBar&&h.getExpanded()){h.$("content").children().remove();}}}return e;};d.prototype.removeAllAggregation=function(A,s){if(A=='items'){var i=this.getParent();if(i instanceof sap.m.IconTabBar&&i.getExpanded()){i.$("content").children().remove();}}return C.prototype.removeAllAggregation.apply(this,arguments);};d.prototype._getDisplayText=function(i){var t=i.getText();if(this.isInlineMode()){var s=i.getCount();if(s){if(this._bRtl){t='('+s+') '+t;}else{t+=' ('+s+')';}}}return t;};d.prototype.isInlineMode=function(){return this._bTextOnly&&this.getMode()==sap.m.IconTabHeaderMode.Inline;};d.prototype._checkTextOnly=function(e){if(e.length>0){for(var i=0;i<e.length;i++){if(!(e[i]instanceof sap.m.IconTabSeparator)){if(e[i].getIcon()){this._bTextOnly=false;return false;}}}}this._bTextOnly=true;return true;};d.prototype._checkNoText=function(e){if(e.length>0){for(var i=0;i<e.length;i++){if(!(e[i]instanceof sap.m.IconTabSeparator)){if(e[i].getText().length>0){return false;}}}}return true;};d.prototype._checkInLine=function(e){var o;if(e.length>0){for(var i=0;i<e.length;i++){o=e[i];if(!(o instanceof sap.m.IconTabSeparator)){if(o.getIcon()||o.getCount()){this._bInLine=false;return false;}}}}this._bInLine=true;return true;};d.prototype._checkScrolling=function(h){var $=this.$();var s=false;var e=this.getDomRef("scrollContainer");var f=this.getDomRef("head");if(f&&e){if(f.offsetWidth>e.offsetWidth){s=true;}}if(this._scrollable!==s){$.toggleClass("sapMITBScrollable",s);$.toggleClass("sapMITBNotScrollable",!s);this._scrollable=s;}return s;};d.prototype._getScrollingArrow=function(n){var s=a.getIconURI("slim-arrow-"+n);var p={src:s,useIconTooltip:false};var e=this._bTextOnly?"TextOnly":"";var L="sapMITBArrowScrollLeft"+e;var r="sapMITBArrowScrollRight"+e;var f=["sapMITBArrowScroll",L];var g=["sapMITBArrowScroll",r];if(this._bInLine){f.push('sapMITBArrowScrollLeftInLine');g.push('sapMITBArrowScrollRightInLine');}if(n==="left"){if(!this._oArrowLeft){this._oArrowLeft=sap.m.ImageHelper.getImageControl(this.getId()+"-arrowScrollLeft",this._oArrowLeft,this,p,f);}return this._oArrowLeft;}if(n==="right"){if(!this._oArrowRight){this._oArrowRight=sap.m.ImageHelper.getImageControl(this.getId()+"-arrowScrollRight",this._oArrowRight,this,p,g);}return this._oArrowRight;}};d.prototype._checkOverflow=function(){var o=this.getDomRef("head");var $=this.$();if(this._checkScrolling(o)&&o){var s=false;var e=false;var f=this.getDomRef("scrollContainer");var g=this.getDomRef("head");if(this._oScroller.getScrollLeft()>0){s=true;}if((this._oScroller.getScrollLeft()+f.offsetWidth)<g.offsetWidth){e=true;}if((e!=this._bPreviousScrollForward)||(s!=this._bPreviousScrollBack)){this._bPreviousScrollForward=e;this._bPreviousScrollBack=s;$.toggleClass("sapMITBScrollBack",s);$.toggleClass("sapMITBNoScrollBack",!s);$.toggleClass("sapMITBScrollForward",e);$.toggleClass("sapMITBNoScrollForward",!e);}}else{this._bPreviousScrollForward=false;this._bPreviousScrollBack=false;}};d.prototype._handleActivation=function(e){var t=e.target.id,o=e.srcControl,s;if(this._oDragContext&&this._oDragContext.movedTabIndexes.length){return;}if(o instanceof B){return;}var $=q.sap.byId(t);if(q.inArray(this.$("content")[0],$.parents())>-1){}else{if(t){var i=this.getId();e.preventDefault();if(t==i+"-arrowScrollLeft"&&sap.ui.Device.system.desktop){var f=this._oScroller.getScrollLeft()-d.SCROLL_STEP;if(f<0){f=0;}this._scrollPreparation();q.sap.delayedCall(0,this._oScroller,"scrollTo",[f,0,500]);q.sap.delayedCall(500,this,"_afterIscroll");}else if(t==i+"-arrowScrollRight"&&sap.ui.Device.system.desktop){var f=this._oScroller.getScrollLeft()+d.SCROLL_STEP;var g=this.$("scrollContainer").width();var h=this.$("head").width();if(f>(h-g)){f=h-g;}this._scrollPreparation();q.sap.delayedCall(0,this._oScroller,"scrollTo",[f,0,500]);q.sap.delayedCall(500,this,"_afterIscroll");}else{if(o instanceof sap.ui.core.Icon||o instanceof sap.m.Image){s=e.srcControl.getId().replace(/-icon$/,"");o=sap.ui.getCore().byId(s);if(o.getMetadata().isInstanceOf("sap.m.IconTab")&&!(o instanceof sap.m.IconTabSeparator)){this.setSelectedItem(o);}}else if(o.getMetadata().isInstanceOf("sap.m.IconTab")&&!(o instanceof sap.m.IconTabSeparator)){this.setSelectedItem(o);}}}else{if(o.getMetadata().isInstanceOf("sap.m.IconTab")&&!(o instanceof sap.m.IconTabSeparator)){this.setSelectedItem(o);}}}};d.prototype._scrollIntoView=function(i,D){var $=i.$(),s,n,e;if($.length>0){var f=this.$('head');var h=f.innerWidth()-f.width();var g=$.outerWidth(true);var j=$.position().left-h/2;s=this._oScroller.getScrollLeft();e=this.$("scrollContainer").width();n=0;if(j-s<0||j-s>e-g){if(j-s<0){n+=j;}else{n+=j+g-e;}this._scrollPreparation();this._iCurrentScrollLeft=n;q.sap.delayedCall(0,this._oScroller,"scrollTo",[n,0,D]);q.sap.delayedCall(D,this,"_afterIscroll");}}return this;};d.prototype._scroll=function(D,i){this._scrollPreparation();var o=this.getDomRef("head");var s=o.scrollLeft;var e=sap.ui.Device.browser.internet_explorer||sap.ui.Device.browser.edge;if(!e&&this._bRtl){D=-D;}var f=s+D;q(o).stop(true,true).animate({scrollLeft:f},i,q.proxy(this._adjustAndShowArrow,this));this._iCurrentScrollLeft=f;};d.prototype._adjustAndShowArrow=function(){this._$bar&&this._$bar.toggleClass("sapMITBScrolling",false);this._$bar=null;if(sap.ui.Device.system.desktop){this._checkOverflow();}};d.prototype._scrollPreparation=function(){if(!this._$bar){this._$bar=this.$().toggleClass("sapMITBScrolling",true);}};d.prototype._afterIscroll=function(){this._checkOverflow();this._adjustAndShowArrow();};d.prototype._fnResize=function(){this._checkOverflow();};d.prototype._fnResizeNoFlexboxSupport=function(){var $=this.getParent().$("containerContent"),D=$.outerHeight(true)-$.height();$.height(this.getParent().$().height()-$.position().top-D);};d.prototype.onExit=function(){if(this._sResizeListenerNoFlexboxSupportId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerNoFlexboxSupportId);this._sResizeListenerNoFlexboxSupportId=null;}};d.prototype.getFocusDomRef=function(f){var t=f||this.oSelectedItem;if(!t){return null;}return t.getDomRef();};d.prototype.applyFocusInfo=function(f){if(f.focusDomRef){q(f.focusDomRef).focus();}};d.prototype.ontouchstart=function(e){var t=e.targetTouches[0];this._iActiveTouch=t.identifier;this._iTouchStartPageX=t.pageX;this._iTouchDragX=0;var $=q(e.target);if($.hasClass('sapMITBArrowScroll')){e.preventDefault();}if(sap.ui.Device.browser.internet_explorer){if($.hasClass('sapMITBFilterIcon')||$.hasClass('sapMITBCount')||$.hasClass('sapMITBText')||$.hasClass('sapMITBTab')||$.hasClass('sapMITBContentArrow')||$.hasClass('sapMITBSep')||$.hasClass('sapMITBSepIcon')){e.preventDefault();}}};d.prototype.ontouchmove=function(e){if(this._iActiveTouch===undefined){return;}var t=sap.m.touch.find(e.changedTouches,this._iActiveTouch);if(!t||t.pageX===this._iTouchStartPageX){return;}this._iTouchDragX+=Math.abs(this._iTouchStartPageX-t.pageX);this._iTouchStartPageX=t.pageX;};d.prototype.ontouchend=function(e){if(this._iActiveTouch===undefined){return;}if(this._scrollable&&this._iTouchDragX>(sap.ui.Device.system.desktop?5:15)){return;}var M=0;var L=1;var f;if(e.which===f||e.which===M||e.which===L){this._handleActivation(e);}this._iActiveTouch=undefined;};d.prototype.ontouchcancel=d.prototype.ontouchend;d.prototype.onsapselect=function(e){this._handleActivation(e);};d.prototype.onmousedown=function(e){if(!this.getEnableTabReordering()){return;}var i=!!e.originalEvent["touches"];if(i){return;}var $=q(e.target);var f=$.closest(".sapMITBFilter, .sapMITBAll");if(f.length===1){this._onTabMoveStart(f,e);}};d.prototype._onTabMoveStart=function($,e){var i=this._getItemIndex($),f=this.$().find('.sapMITBHead').children(),w=$.outerWidth(true),g=q(document);e.preventDefault();$.zIndex(this.$().zIndex()+10);this._oDragContext={index:q.inArray($[0],f),tabIndex:i,startX:e.pageX,$tab:$,tab:this.getItems()[i],tabWidth:w,tabCenter:$.position().left+w/2,movedTabIndexes:[]};this._oScroller.setHorizontal(false);g.mousemove(q.proxy(this._onTabMove,this));g.mouseup(q.proxy(this._onTabMoved,this));};d.prototype._onTabMove=function(e){var D=this._oDragContext;if(!D){return;}var p=e.pageX,f=p-D.startX,$,x,o,r,g=this.$().find('.sapMITBHead').children(),m=D.movedTabIndexes,h=sap.ui.getCore().getConfiguration().getRTL();D.$tab.css({left:f});for(var i=0;i<g.length;i++){if(i==D.index){continue;}$=q(g[i]);x=$.position().left;o=parseFloat($.css('left'));if(!isNaN(o)){x-=o;}if(i<D.index!=h){r=x+$.outerWidth(true)>D.tabCenter+f;this._onAnimateTab($,D.tabWidth,r,m,i);}else{r=x<D.tabCenter+f;this._onAnimateTab($,-D.tabWidth,r,m,i);}}};d.prototype._onAnimateTab=function($,D,r,m,i){var e=q.inArray(i,m),f=e!=-1;if(r&&!f){$.stop(true,true);$.animate({left:D},d.ANIMATION_DURATION);m.push(i);}else if(!r&&f){$.stop(true,true);$.animate({left:0},d.ANIMATION_DURATION);m.splice(e,1);}};d.prototype._onTabMoved=function(e){var D=this._oDragContext;if(!D){return;}var m=D.movedTabIndexes;if(m.length>0){var $=D.$tab,f=this.$().find('.sapMITBHead').children(),n=m[m.length-1],N=this._getItemIndex(q(f[n]));this.removeAggregation('items',D.tab,true);this.insertAggregation('items',D.tab,N,true);if(n>D.index){$.insertAfter(q(f[n]));}else{$.insertBefore(q(f[n]));}this._initItemNavigation();q.sap.delayedCall(100,this,function(){$.focus();});}this._stopMoving();};d.prototype._stopMoving=function(){var D=this._oDragContext,$=D.$tab,e=this.$().find('.sapMITBHead').children();$.css('z-index','');e.stop(true,true);e.css('left','');this._oDragContext=null;var f=q(document);f.off("mousemove",this._onTabMove);f.off("mouseup",this._onTabMoved);this._oScroller.setHorizontal(true);this._enableTextSelection();};d.prototype._getItemIndex=function($){var s=$.attr('id'),t=this.getItems();for(var i=0;i<t.length;i++){if(t[i].getId()==s){return i;}}return-1;};d.prototype._disableTextSelection=function(e){q(e||document.body).attr("unselectable","on").addClass('sapMITBNoSelection').bind("selectstart",function(o){o.preventDefault();return false;});};d.prototype._enableTextSelection=function(e){q(e||document.body).attr("unselectable","off").removeClass('sapMITBNoSelection').unbind("selectstart");};return d;},true);
sap.ui.predefine('sap/m/IconTabHeaderRenderer',['jquery.sap.global','sap/ui/core/IconPool'],function(q,I){"use strict";var a={};a.render=function(r,c){if(!c.getVisible()){return;}var i=c.getItems(),t=c._checkTextOnly(i),n=c._checkNoText(i),b=c._checkInLine(i)||c.isInlineMode(),s=c.getShowOverflowSelectList(),d,h;var o=c.getParent();var u=o&&o instanceof sap.m.IconTabBar&&o.getUpperCase();r.write("<div role='tablist' ");r.addClass("sapMITH");r.addClass("sapContrastPlus");r.addClass("sapMITHBackgroundDesign"+c.getBackgroundDesign());if(s){r.addClass("sapMITHOverflowList");}if(c._scrollable){r.addClass("sapMITBScrollable");if(c._bPreviousScrollForward){r.addClass("sapMITBScrollForward");}else{r.addClass("sapMITBNoScrollForward");}if(c._bPreviousScrollBack){r.addClass("sapMITBScrollBack");}else{r.addClass("sapMITBNoScrollBack");}}else{r.addClass("sapMITBNotScrollable");}if(u){r.addClass("sapMITBTextUpperCase");}r.writeControlData(c);r.writeClasses();r.write(">");r.renderControl(c._getScrollingArrow("left"));r.write("<div id='"+c.getId()+"-scrollContainer' class='sapMITBScrollContainer'>");r.write("<div id='"+c.getId()+"-head'");r.addClass("sapMITBHead");if(t){r.addClass("sapMITBTextOnly");}if(n){r.addClass("sapMITBNoText");}if(b){r.addClass("sapMITBInLine");}r.writeClasses();r.write(">");q.each(i,function(e,f){f.render(r);if(f instanceof sap.m.IconTabFilter){d=f.getDesign()===sap.m.IconTabFilterDesign.Horizontal;if(d){h=true;}}});r.write("</div>");r.write("</div>");r.renderControl(c._getScrollingArrow("right"));if(s){var O=c._getOverflowButton();if(b){O.addStyleClass('sapMBtnInline');}else if(t){O.addStyleClass('sapMBtnTextOnly');}else if(n||h){O.addStyleClass('sapMBtnNoText');}r.renderControl(O);}r.write("</div>");};return a;},true);
sap.ui.predefine('sap/m/IconTabSeparator',['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var I=E.extend("sap.m.IconTabSeparator",{metadata:{interfaces:["sap.m.IconTab"],library:"sap.m",properties:{icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:''},visible:{type:"boolean",group:"Behavior",defaultValue:true},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true}}}});I.prototype._getImageControl=function(c,p){var P={src:this.getIcon(),densityAware:this.getIconDensityAware(),useIconTooltip:false};this._oImageControl=sap.m.ImageHelper.getImageControl(this.getId()+"-icon",this._oImageControl,p,P,c);return this._oImageControl;};I.prototype.exit=function(e){if(this._oImageControl){this._oImageControl.destroy();}if(sap.ui.core.Item.prototype.exit){sap.ui.core.Item.prototype.exit.call(this,e);}};I.prototype.render=function(r){if(!this.getVisible()){return;}var i=this.getIcon(),a=this.getParent(),b=sap.ui.getCore().getLibraryResourceBundle('sap.m'),c='';if(i){c+='role="img" aria-label="'+b.getText("ICONTABBAR_NEXTSTEP")+'"';}else{c+='role="separator"';}r.write('<div '+c+' ');r.writeElementData(this);r.addClass("sapMITBItem");r.addClass("sapMITBSep");if(!i){r.addClass("sapMITBSepLine");}r.writeClasses();r.write(">");if(i){r.renderControl(this._getImageControl(['sapMITBSepIcon'],a));}r.write("</div>");};I.prototype.renderInSelectList=function(r,s){};return I;},true);
sap.ui.predefine('sap/m/Input',['jquery.sap.global','./Bar','./Dialog','./InputBase','./List','./Popover','sap/ui/core/Item','./ColumnListItem','./StandardListItem','./DisplayListItem','sap/ui/core/ListItem','./Table','./Toolbar','./ToolbarSpacer','./library','sap/ui/core/IconPool','sap/ui/core/InvisibleText'],function(q,B,D,I,L,P,a,C,S,b,c,T,d,e,l,f,g){"use strict";var h=I.extend("sap.m.Input",{metadata:{library:"sap.m",properties:{type:{type:"sap.m.InputType",group:"Data",defaultValue:sap.m.InputType.Text},maxLength:{type:"int",group:"Behavior",defaultValue:0},dateFormat:{type:"string",group:"Misc",defaultValue:'YYYY-MM-dd',deprecated:true},showValueHelp:{type:"boolean",group:"Behavior",defaultValue:false},showSuggestion:{type:"boolean",group:"Behavior",defaultValue:false},valueHelpOnly:{type:"boolean",group:"Behavior",defaultValue:false},filterSuggests:{type:"boolean",group:"Behavior",defaultValue:true},maxSuggestionWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},startSuggestion:{type:"int",group:"Behavior",defaultValue:1},showTableSuggestionValueHelp:{type:"boolean",group:"Behavior",defaultValue:true},description:{type:"string",group:"Misc",defaultValue:null},fieldWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'50%'},valueLiveUpdate:{type:"boolean",group:"Behavior",defaultValue:false},selectedKey:{type:"string",group:"Data",defaultValue:""},textFormatMode:{type:"sap.m.InputTextFormatMode",group:"Misc",defaultValue:sap.m.InputTextFormatMode.Value},textFormatter:{type:"any",group:"Misc",defaultValue:""},suggestionRowValidator:{type:"any",group:"Misc",defaultValue:""},enableSuggestionsHighlighting:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"suggestionItems",aggregations:{suggestionItems:{type:"sap.ui.core.Item",multiple:true,singularName:"suggestionItem"},suggestionColumns:{type:"sap.m.Column",multiple:true,singularName:"suggestionColumn",bindable:"bindable"},suggestionRows:{type:"sap.m.ColumnListItem",multiple:true,singularName:"suggestionRow",bindable:"bindable"}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false},selectedRow:{type:"sap.m.ColumnListItem",multiple:false}},events:{liveChange:{parameters:{value:{type:"string"}}},valueHelpRequest:{parameters:{fromSuggestions:{type:"boolean"}}},suggest:{parameters:{suggestValue:{type:"string"},suggestionColumns:{type:"sap.m.ListBase"}}},suggestionItemSelected:{parameters:{selectedItem:{type:"sap.ui.core.Item"},selectedRow:{type:"sap.m.ColumnListItem"}}},submit:{parameters:{value:{type:"string"}}}}}});f.insertFontFaceStyle();h._wordStartsWithValue=function(t,v){var i;while(t){if(q.sap.startsWithIgnoreCase(t,v)){return true;}i=t.indexOf(' ');if(i==-1){break;}t=t.substring(i+1);}return false;};h._DEFAULTFILTER=function(v,i){if(i instanceof c&&h._wordStartsWithValue(i.getAdditionalText(),v)){return true;}return h._wordStartsWithValue(i.getText(),v);};h._DEFAULTFILTER_TABULAR=function(v,o){var j=o.getCells(),i=0;for(;i<j.length;i++){if(j[i].getText){if(h._wordStartsWithValue(j[i].getText(),v)){return true;}}}return false;};h._DEFAULTRESULT_TABULAR=function(o){var j=o.getCells(),i=0;for(;i<j.length;i++){if(j[i].getText){return j[i].getText();}}return"";};h.prototype.init=function(){I.prototype.init.call(this);this._fnFilter=h._DEFAULTFILTER;this._bUseDialog=sap.ui.Device.system.phone;this._bFullScreen=sap.ui.Device.system.phone;this._iSetCount=0;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(!h._sAriaPopupLabelId){h._sAriaPopupLabelId=new g({text:this._oRb.getText("INPUT_AVALIABLE_VALUES")}).toStatic().getId();}};h.prototype.exit=function(){this._deregisterEvents();this.cancelPendingSuggest();if(this._iRefreshListTimeout){q.sap.clearDelayedCall(this._iRefreshListTimeout);this._iRefreshListTimeout=null;}if(this._oSuggestionPopup){this._oSuggestionPopup.destroy();this._oSuggestionPopup=null;}if(this._oList){this._oList.destroy();this._oList=null;}if(this._oValueHelpIcon){this._oValueHelpIcon.destroy();this._oValueHelpIcon=null;}if(this._oSuggestionTable){this._oSuggestionTable.destroy();this._oSuggestionTable=null;}if(this._oButtonToolbar){this._oButtonToolbar.destroy();this._oButtonToolbar=null;}if(this._oShowMoreButton){this._oShowMoreButton.destroy();this._oShowMoreButton=null;}};h.prototype._resizePopup=function(){var t=this;if(this._oList&&this._oSuggestionPopup){if(this.getMaxSuggestionWidth()){this._oSuggestionPopup.setContentWidth(this.getMaxSuggestionWidth());}else{this._oSuggestionPopup.setContentWidth((this.$().outerWidth())+"px");}setTimeout(function(){if(t._oSuggestionPopup&&t._oSuggestionPopup.isOpen()&&t._oSuggestionPopup.$().outerWidth()<t.$().outerWidth()){t._oSuggestionPopup.setContentWidth((t.$().outerWidth())+"px");}},0);}};h.prototype.onBeforeRendering=function(){I.prototype.onBeforeRendering.call(this);this._deregisterEvents();};h.prototype.onAfterRendering=function(){var t=this;I.prototype.onAfterRendering.call(this);if(!this._bFullScreen){this._resizePopup();this._sPopupResizeHandler=sap.ui.core.ResizeHandler.register(this.getDomRef(),function(){t._resizePopup();});}if(this._bUseDialog&&this.getEditable()){this.$().on("click",q.proxy(function(E){if(this._onclick){this._onclick(E);}if(this.getShowSuggestion()&&this._oSuggestionPopup&&E.target.id!=this.getId()+"-vhi"){this._oSuggestionPopup.open();}},this));}};h.prototype._getDisplayText=function(i){var t=this.getTextFormatter();if(t){return t(i);}var s=i.getText(),k=i.getKey(),j=this.getTextFormatMode();switch(j){case sap.m.InputTextFormatMode.Key:return k;case sap.m.InputTextFormatMode.ValueKey:return s+' ('+k+')';case sap.m.InputTextFormatMode.KeyValue:return'('+k+') '+s;default:return s;}};h.prototype._onValueUpdated=function(n){if(this._bSelectingItem||n===this._sSelectedValue){return;}var k=this.getSelectedKey();if(k===''){return;}this.setProperty("selectedKey",'',true);this.setAssociation("selectedRow",null,true);this.setAssociation("selectedItem",null,true);this.fireSuggestionItemSelected({selectedItem:null,selectedRow:null});};h.prototype.setSelectionItem=function(i,j){if(!i){this.setAssociation("selectedItem",null,true);this.setProperty("selectedKey",'',true);this.setValue('');return;}this._bSelectingItem=true;var k=this._iSetCount,n;this.setAssociation("selectedItem",i,true);this.setProperty("selectedKey",i.getKey(),true);if(j){this.fireSuggestionItemSelected({selectedItem:i});}if(k!==this._iSetCount){n=this.getValue();}else{n=this._getDisplayText(i);}this._sSelectedValue=n;if(this._bUseDialog){this._oPopupInput.setValue(n);this._oPopupInput._doSelect();}else{this._$input.val(this._getInputValue(n));this.onChange();}this._iPopupListSelectedIndex=-1;if(!(this._bUseDialog&&this instanceof sap.m.MultiInput&&this._isMultiLineMode)){this._closeSuggestionPopup();}if(!sap.ui.Device.support.touch){this._doSelect();}this._bSelectingItem=false;};h.prototype.setSelectedItem=function(i){if(typeof i==="string"){i=sap.ui.getCore().byId(i);}if(i!==null&&!(i instanceof a)){return this;}this.setSelectionItem(i);return this;};h.prototype.setSelectedKey=function(k){k=this.validateProperty("selectedKey",k);if(this._hasTabularSuggestions()){this.setProperty("selectedKey",k,true);return this;}if(!k){this.setSelectionItem();return this;}var i=this.getSuggestionItemByKey(k);this.setSelectionItem(i);return this;};h.prototype.getSuggestionItemByKey=function(k){var j=this.getSuggestionItems()||[],o,i;for(i=0;i<j.length;i++){o=j[i];if(o.getKey()===k){return o;}}};h.prototype.setSelectionRow=function(o,i){if(!o){this.setAssociation("selectedRow",null,true);this.setProperty("selectedKey",'',true);this.setValue('');return;}this._bSelectingItem=true;var j,s=this.getSuggestionRowValidator();if(s){j=s(o);if(!(j instanceof a)){j=null;}}var k=this._iSetCount,K="",n;this.setAssociation("selectedRow",o,true);if(j){K=j.getKey();}this.setProperty("selectedKey",K,true);if(i){this.fireSuggestionItemSelected({selectedRow:o});}if(k!==this._iSetCount){n=this.getValue();}else{if(j){n=this._getDisplayText(j);}else{n=this._fnRowResultFilter(o);}}this._sSelectedValue=n;if(this._bUseDialog){this._oPopupInput.setValue(n);this._oPopupInput._doSelect();}else{this._$input.val(this._getInputValue(n));this.onChange();}this._iPopupListSelectedIndex=-1;if(!(this._bUseDialog&&this instanceof sap.m.MultiInput&&this._isMultiLineMode)){this._closeSuggestionPopup();}if(!sap.ui.Device.support.touch){this._doSelect();}this._bSelectingItem=false;};h.prototype.setSelectedRow=function(o){if(typeof o==="string"){o=sap.ui.getCore().byId(o);}if(o!==null&&!(o instanceof C)){return this;}this.setSelectionRow(o);return this;};h.prototype._getValueHelpIcon=function(){var t=this;if(!this._oValueHelpIcon){var u=f.getIconURI("value-help");this._oValueHelpIcon=f.createControlByURI({id:this.getId()+"-vhi",src:u,useIconTooltip:false,noTabStop:true});this._oValueHelpIcon.addStyleClass("sapMInputValHelpInner");this._oValueHelpIcon.attachPress(function(i){if(!t.getValueHelpOnly()){t.fireValueHelpRequest({fromSuggestions:false});}});}return this._oValueHelpIcon;};h.prototype._fireValueHelpRequestForValueHelpOnly=function(){if(this.getEnabled()&&this.getEditable()&&this.getShowValueHelp()&&this.getValueHelpOnly()){this.fireValueHelpRequest({fromSuggestions:false});}};h.prototype.ontap=function(E){I.prototype.ontap.call(this,E);this._fireValueHelpRequestForValueHelpOnly();};h.prototype.setWidth=function(w){return I.prototype.setWidth.call(this,w||"100%");};h.prototype.getWidth=function(){return this.getProperty("width")||"100%";};h.prototype.setFilterFunction=function(F){if(F===null||F===undefined){this._fnFilter=h._DEFAULTFILTER;return this;}this._fnFilter=F;return this;};h.prototype.setRowResultFunction=function(F){if(F===null||F===undefined){this._fnRowResultFilter=h._DEFAULTRESULT_TABULAR;return this;}this._fnRowResultFilter=F;return this;};h.prototype.setShowValueHelp=function(s){this.setProperty("showValueHelp",s);if(s&&!h.prototype._sAriaValueHelpLabelId){h.prototype._sAriaValueHelpLabelId=new g({text:this._oRb.getText("INPUT_VALUEHELP")}).toStatic().getId();}return this;};h.prototype.setValueHelpOnly=function(v){this.setProperty("valueHelpOnly",v);if(v&&!h.prototype._sAriaInputDisabledLabelId){h.prototype._sAriaInputDisabledLabelId=new g({text:this._oRb.getText("INPUT_DISABLED")}).toStatic().getId();}return this;};h.prototype._doSelect=function(s,E){if(sap.ui.Device.support.touch){return;}var o=this._$input[0];if(o){var r=this._$input;o.focus();r.selectText(s?s:0,E?E:r.val().length);}return this;};h.prototype._scrollToItem=function(i){var p=this._oSuggestionPopup,o=this._oList,s,j,k,t,m;if(!(p instanceof P)||!o){return;}s=p.getScrollDelegate();if(!s){return;}var n=o.getItems()[i],r=n&&n.getDomRef();if(!r){return;}j=p.getDomRef("cont").getBoundingClientRect();k=r.getBoundingClientRect();t=j.top-k.top;m=k.bottom-j.bottom;if(t>0){s.scrollTo(s._scrollX,Math.max(s._scrollY-t,0));}else if(m>0){s.scrollTo(s._scrollX,s._scrollY+m);}};h.prototype._isSuggestionItemSelectable=function(i){return i.getVisible()&&(this._hasTabularSuggestions()||i.getType()!==sap.m.ListType.Inactive);};h.prototype._onsaparrowkey=function(E,s,i){if(!this.getEnabled()||!this.getEditable()){return;}if(!this._oSuggestionPopup||!this._oSuggestionPopup.isOpen()){return;}if(s!=="up"&&s!=="down"){return;}E.preventDefault();E.stopPropagation();var F=false,o=this._oList,j=this.getSuggestionItems(),k=o.getItems(),m=this._iPopupListSelectedIndex,n,O=m;if(s==="up"&&m===0){return;}if(s=="down"&&m===k.length-1){return;}var p;if(i>1){if(s=="down"&&m+i>=k.length){s="up";i=1;k[m].setSelected(false);p=m;m=k.length-1;F=true;}else if(s=="up"&&m-i<0){s="down";i=1;k[m].setSelected(false);p=m;m=0;F=true;}}if(m===-1){m=0;if(this._isSuggestionItemSelectable(k[m])){O=m;F=true;}else{s="down";}}if(s==="down"){while(m<k.length-1&&(!F||!this._isSuggestionItemSelectable(k[m]))){k[m].setSelected(false);m=m+i;F=true;i=1;if(p===m){break;}}}else{while(m>0&&(!F||!k[m].getVisible()||!this._isSuggestionItemSelectable(k[m]))){k[m].setSelected(false);m=m-i;F=true;i=1;if(p===m){break;}}}if(!this._isSuggestionItemSelectable(k[m])){if(O>=0){k[O].setSelected(true).updateAccessibilityState();this.$("inner").attr("aria-activedescendant",k[O].getId());}return;}else{k[m].setSelected(true).updateAccessibilityState();this.$("inner").attr("aria-activedescendant",k[m].getId());}if(sap.ui.Device.system.desktop){this._scrollToItem(m);}if(sap.m.ColumnListItem&&k[m]instanceof sap.m.ColumnListItem){n=this._getInputValue(this._fnRowResultFilter(k[m]));}else{var r=(j[0]instanceof c?true:false);if(r){n=this._getInputValue(k[m].getLabel());}else{n=this._getInputValue(k[m].getTitle());}}this._$input.val(n);this._sSelectedSuggViaKeyboard=n;this._doSelect();this._iPopupListSelectedIndex=m;};h.prototype.onsapup=function(E){this._onsaparrowkey(E,"up",1);};h.prototype.onsapdown=function(E){this._onsaparrowkey(E,"down",1);};h.prototype.onsappageup=function(E){this._onsaparrowkey(E,"up",5);};h.prototype.onsappagedown=function(E){this._onsaparrowkey(E,"down",5);};h.prototype.onsaphome=function(E){if(this._oList){this._onsaparrowkey(E,"up",this._oList.getItems().length);}};h.prototype.onsapend=function(E){if(this._oList){this._onsaparrowkey(E,"down",this._oList.getItems().length);}};h.prototype.onsapescape=function(E){var i;if(this._oSuggestionPopup&&this._oSuggestionPopup.isOpen()){E.originalEvent._sapui_handledByControl=true;this._iPopupListSelectedIndex=-1;this._closeSuggestionPopup();if(this._sBeforeSuggest!==undefined){if(this._sBeforeSuggest!==this.getValue()){i=this._lastValue;this.setValue(this._sBeforeSuggest);this._lastValue=i;}this._sBeforeSuggest=undefined;}return;}if(I.prototype.onsapescape){I.prototype.onsapescape.apply(this,arguments);}};h.prototype.onsapenter=function(E){if(I.prototype.onsapenter){I.prototype.onsapenter.apply(this,arguments);}this.cancelPendingSuggest();if(this._oSuggestionPopup&&this._oSuggestionPopup.isOpen()){var s=this._oList.getSelectedItem();if(s){if(this._hasTabularSuggestions()){this.setSelectionRow(s,true);}else{this.setSelectionItem(s._oItem,true);}}else{if(this._iPopupListSelectedIndex>=0){this._fireSuggestionItemSelectedEvent();this._doSelect();this._iPopupListSelectedIndex=-1;}this._closeSuggestionPopup();}}if(this.getEnabled()&&this.getEditable()&&!(this.getValueHelpOnly()&&this.getShowValueHelp())){this.fireSubmit({value:this.getValue()});}};h.prototype.onsapfocusleave=function(E){var p=this._oSuggestionPopup;if(p instanceof P){if(E.relatedControlId&&q.sap.containsOrEquals(p.getDomRef(),sap.ui.getCore().byId(E.relatedControlId).getFocusDomRef())){this._bPopupHasFocus=true;this.focus();}else{if(this._$input.val()===this._sSelectedSuggViaKeyboard){this._sSelectedSuggViaKeyboard=null;}}}var F=sap.ui.getCore().byId(E.relatedControlId);if(!(p&&F&&q.sap.containsOrEquals(p.getDomRef(),F.getFocusDomRef()))){I.prototype.onsapfocusleave.apply(this,arguments);}};h.prototype.onmousedown=function(E){var p=this._oSuggestionPopup;if((p instanceof P)&&p.isOpen()){E.stopPropagation();}};h.prototype._deregisterEvents=function(){if(this._sPopupResizeHandler){sap.ui.core.ResizeHandler.deregister(this._sPopupResizeHandler);this._sPopupResizeHandler=null;}if(this._bUseDialog&&this._oSuggestionPopup){this.$().off("click");}};h.prototype.updateSuggestionItems=function(){this.updateAggregation("suggestionItems");this._bShouldRefreshListItems=true;this._refreshItemsDelayed();return this;};h.prototype.cancelPendingSuggest=function(){if(this._iSuggestDelay){q.sap.clearDelayedCall(this._iSuggestDelay);this._iSuggestDelay=null;}};h.prototype._triggerSuggest=function(v){this.cancelPendingSuggest();this._bShouldRefreshListItems=true;if(!v){v="";}if(v.length>=this.getStartSuggestion()){this._iSuggestDelay=q.sap.delayedCall(300,this,function(){this._bBindingUpdated=false;this.fireSuggest({suggestValue:v});if(!this._bBindingUpdated){this._refreshItemsDelayed();}});}else if(this._bUseDialog){if(this._oList instanceof T){this._oList.addStyleClass("sapMInputSuggestionTableHidden");}else if(this._oList&&this._oList.destroyItems){this._oList.destroyItems();}}else if(this._oSuggestionPopup&&this._oSuggestionPopup.isOpen()){this._iPopupListSelectedIndex=-1;this._closeSuggestionPopup();}};(function(){h.prototype.setShowSuggestion=function(v){this.setProperty("showSuggestion",v,true);this._iPopupListSelectedIndex=-1;if(v){this._lazyInitializeSuggestionPopup(this);}else{m(this);}return this;};h.prototype.setShowTableSuggestionValueHelp=function(v){this.setProperty("showTableSuggestionValueHelp",v,true);if(!this._oSuggestionPopup){return this;}if(v){this._addShowMoreButton();}else{this._removeShowMoreButton();}return this;};h.prototype._getShowMoreButton=function(){var t=this,M=this._oRb;return this._oShowMoreButton||(this._oShowMoreButton=new sap.m.Button({text:M.getText("INPUT_SUGGESTIONS_SHOW_ALL"),press:function(){if(t.getShowTableSuggestionValueHelp()){t.fireValueHelpRequest({fromSuggestions:true});t._iPopupListSelectedIndex=-1;t._closeSuggestionPopup();}}}));};h.prototype._getButtonToolbar=function(){var s=this._getShowMoreButton();return this._oButtonToolbar||(this._oButtonToolbar=new d({content:[new e(),s]}));};h.prototype._addShowMoreButton=function(t){if(!this._oSuggestionPopup||!t&&!this._hasTabularSuggestions()){return;}if(this._oSuggestionPopup instanceof D){var s=this._getShowMoreButton();this._oSuggestionPopup.setEndButton(s);}else{var i=this._getButtonToolbar();this._oSuggestionPopup.setFooter(i);}};h.prototype._removeShowMoreButton=function(){if(!this._oSuggestionPopup||!this._hasTabularSuggestions()){return;}if(this._oSuggestionPopup instanceof D){this._oSuggestionPopup.setEndButton(null);}else{this._oSuggestionPopup.setFooter(null);}};h.prototype.oninput=function(E){I.prototype.oninput.call(this,E);if(E.isMarked("invalid")){return;}var v=this._$input.val();if(this.getValueLiveUpdate()){this.setProperty("value",v,true);this._onValueUpdated(v);}this.fireLiveChange({value:v,newValue:v});if(this.getShowSuggestion()&&!this._bUseDialog){this._triggerSuggest(v);}};h.prototype.getValue=function(){return this.getDomRef("inner")&&this._$input?this._$input.val():this.getProperty("value");};h.prototype._refreshItemsDelayed=function(){q.sap.clearDelayedCall(this._iRefreshListTimeout);this._iRefreshListTimeout=q.sap.delayedCall(0,this,r,[this]);};h.prototype.addSuggestionItem=function(i){this.addAggregation("suggestionItems",i,true);this._bShouldRefreshListItems=true;this._refreshItemsDelayed();k(this);return this;};h.prototype.insertSuggestionItem=function(i,n){this.insertAggregation("suggestionItems",n,i,true);this._bShouldRefreshListItems=true;this._refreshItemsDelayed();k(this);return this;};h.prototype.removeSuggestionItem=function(i){var n=this.removeAggregation("suggestionItems",i,true);this._bShouldRefreshListItems=true;this._refreshItemsDelayed();return n;};h.prototype.removeAllSuggestionItems=function(){var i=this.removeAllAggregation("suggestionItems",true);this._bShouldRefreshListItems=true;this._refreshItemsDelayed();return i;};h.prototype.destroySuggestionItems=function(){this.destroyAggregation("suggestionItems",true);this._bShouldRefreshListItems=true;this._refreshItemsDelayed();return this;};h.prototype.addSuggestionRow=function(i){i.setType(sap.m.ListType.Active);this.addAggregation("suggestionRows",i);this._bShouldRefreshListItems=true;this._refreshItemsDelayed();k(this);return this;};h.prototype.insertSuggestionRow=function(i,n){i.setType(sap.m.ListType.Active);this.insertAggregation("suggestionRows",n,i);this._bShouldRefreshListItems=true;this._refreshItemsDelayed();k(this);return this;};h.prototype.removeSuggestionRow=function(i){var n=this.removeAggregation("suggestionRows",i);this._bShouldRefreshListItems=true;this._refreshItemsDelayed();return n;};h.prototype.removeAllSuggestionRows=function(){var i=this.removeAllAggregation("suggestionRows");this._bShouldRefreshListItems=true;this._refreshItemsDelayed();return i;};h.prototype.destroySuggestionRows=function(){this.destroyAggregation("suggestionRows");this._bShouldRefreshListItems=true;this._refreshItemsDelayed();return this;};h.prototype.bindAggregation=function(){var i=Array.prototype.slice.call(arguments);if(i[0]==="suggestionRows"||i[0]==="suggestionColumns"||i[0]==="suggestionItems"){k(this,i[0]==="suggestionRows"||i[0]==="suggestionColumns");this._bBindingUpdated=true;}this._callMethodInManagedObject.apply(this,["bindAggregation"].concat(i));return this;};h.prototype._lazyInitializeSuggestionPopup=function(){if(!this._oSuggestionPopup){j(this);}};h.prototype._closeSuggestionPopup=function(){if(this._oSuggestionPopup){this._bShouldRefreshListItems=false;this.cancelPendingSuggest();this._oSuggestionPopup.close();this.$("SuggDescr").text("");this.$("inner").removeAttr("aria-haspopup");this.$("inner").removeAttr("aria-activedescendant");}};function j(i){var M=i._oRb;if(i._bUseDialog){i._oPopupInput=new h(i.getId()+"-popup-input",{width:"100%",valueLiveUpdate:true,showValueHelp:i.getShowValueHelp(),valueHelpRequest:function(E){i.fireValueHelpRequest({fromSuggestions:true});i._iPopupListSelectedIndex=-1;i._closeSuggestionPopup();},liveChange:function(E){var v=E.getParameter("newValue");i._$input.val(i._getInputValue(i._oPopupInput.getValue()));i._triggerSuggest(v);i.fireLiveChange({value:v,newValue:v});}}).addStyleClass("sapMInputSuggInDialog");}i._oSuggestionPopup=!i._bUseDialog?(new P(i.getId()+"-popup",{showArrow:false,showHeader:false,placement:sap.m.PlacementType.Vertical,initialFocus:i}).attachAfterClose(function(){if(i._iPopupListSelectedIndex>=0){i._fireSuggestionItemSelectedEvent();}if(i._oList instanceof T){i._oList.removeSelections(true);}else{i._oList.destroyItems();}}).attachBeforeOpen(function(){i._sBeforeSuggest=i.getValue();})):(new D(i.getId()+"-popup",{beginButton:new sap.m.Button(i.getId()+"-popup-closeButton",{text:M.getText("MSGBOX_CLOSE"),press:function(){i._closeSuggestionPopup();}}),stretch:i._bFullScreen,contentHeight:i._bFullScreen?undefined:"20rem",customHeader:new B(i.getId()+"-popup-header",{contentMiddle:i._oPopupInput.addEventDelegate({onsapenter:function(){if(!(sap.m.MultiInput&&i instanceof sap.m.MultiInput)){i._closeSuggestionPopup();}}},this)}),horizontalScrolling:false,initialFocus:i._oPopupInput}).attachBeforeOpen(function(){i._oPopupInput.setPlaceholder(i.getPlaceholder());i._oPopupInput.setMaxLength(i.getMaxLength());}).attachBeforeClose(function(){i._$input.val(i._getInputValue(i._oPopupInput.getValue()));i.onChange();if(i instanceof sap.m.MultiInput&&i._bUseDialog){i._onDialogClose();}}).attachAfterClose(function(){if(i instanceof sap.m.MultiInput&&i._isMultiLineMode){i._showIndicator();}if(i._oList){if(T&&!(i._oList instanceof T)){i._oList.destroyItems();}else{i._oList.removeSelections(true);}}}).attachAfterOpen(function(){var v=i.getValue();i._oPopupInput.setValue(v);i._triggerSuggest(v);r(i);}));i._oSuggestionPopup.addStyleClass("sapMInputSuggestionPopup");i._oSuggestionPopup.addAriaLabelledBy(h._sAriaPopupLabelId);i.addDependent(i._oSuggestionPopup);if(!i._bUseDialog){o(i._oSuggestionPopup,i);}if(i._oList){i._oSuggestionPopup.addContent(i._oList);}if(i.getShowTableSuggestionValueHelp()){i._addShowMoreButton();}}function k(i,t){if(i._oList){return;}if(!i._hasTabularSuggestions()&&!t){i._oList=new L(i.getId()+"-popup-list",{width:"100%",showNoData:false,mode:sap.m.ListMode.SingleSelectMaster,rememberSelections:false,itemPress:function(E){var p=E.getParameter("listItem");i.setSelectionItem(p._oItem,true);}});i._oList.addEventDelegate({onAfterRendering:i._highlightListText.bind(i)});}else{if(i._fnFilter===h._DEFAULTFILTER){i._fnFilter=h._DEFAULTFILTER_TABULAR;}if(!i._fnRowResultFilter){i._fnRowResultFilter=h._DEFAULTRESULT_TABULAR;}i._oList=i._getSuggestionsTable();if(i.getShowTableSuggestionValueHelp()){i._addShowMoreButton(t);}}if(i._oSuggestionPopup){if(i._bUseDialog){i._oSuggestionPopup.addAggregation("content",i._oList,true);var R=i._oSuggestionPopup.$("scrollCont")[0];if(R){var n=sap.ui.getCore().createRenderManager();n.renderControl(i._oList);n.flush(R);n.destroy();}}else{i._oSuggestionPopup.addContent(i._oList);}}}function m(i){if(i._oSuggestionPopup){if(i._oList instanceof T){i._oSuggestionPopup.removeAllContent();i._removeShowMoreButton();}i._oSuggestionPopup.destroy();i._oSuggestionPopup=null;}if(i._oList instanceof L){i._oList.destroy();i._oList=null;}}function o(p,i){p.open=function(){this.openBy(i,false,true);};p.oPopup.setAnimations(function(R,n,O){O();},function(R,n,s){s();});}function r(n){var s=n.getShowSuggestion();var R=n._oRb;n._iPopupListSelectedIndex=-1;if(!s||!n._bShouldRefreshListItems||!n.getDomRef()||(!n._bUseDialog&&!n.$().hasClass("sapMInputFocused"))){return false;}var p,t=n.getSuggestionItems(),u=n.getSuggestionRows(),v=n._$input.val()||"",w=n._oList,F=n.getFilterSuggests(),H=[],x=0,y=n._oSuggestionPopup,z={ontouchstart:function(J){(J.originalEvent||J)._sapui_cancelAutoClose=true;}},A,i;if(n._oList){if(n._oList instanceof T){w.removeSelections(true);}else{w.destroyItems();}}if(v.length<n.getStartSuggestion()){if(!n._bUseDialog){n._iPopupListSelectedIndex=-1;this.cancelPendingSuggest();y.close();}else{if(n._hasTabularSuggestions()&&n._oList){n._oList.addStyleClass("sapMInputSuggestionTableHidden");}}n.$("SuggDescr").text("");n.$("inner").removeAttr("aria-haspopup");n.$("inner").removeAttr("aria-activedescendant");return false;}if(n._hasTabularSuggestions()){if(n._bUseDialog&&n._oList){n._oList.removeStyleClass("sapMInputSuggestionTableHidden");}for(i=0;i<u.length;i++){if(!F||n._fnFilter(v,u[i])){u[i].setVisible(true);H.push(u[i]);}else{u[i].setVisible(false);}}this._oSuggestionTable.invalidate();}else{var E=(t[0]instanceof c?true:false);for(i=0;i<t.length;i++){p=t[i];if(!F||n._fnFilter(v,p)){if(E){A=new b(p.getId()+"-dli");A.setLabel(p.getText());A.setValue(p.getAdditionalText());}else{A=new S(p.getId()+"-sli");A.setTitle(p.getText());}A.setType(p.getEnabled()?sap.m.ListType.Active:sap.m.ListType.Inactive);A._oItem=p;A.addEventDelegate(z);H.push(A);}}}x=H.length;var G="";if(x>0){if(x==1){G=R.getText("INPUT_SUGGESTIONS_ONE_HIT");}else{G=R.getText("INPUT_SUGGESTIONS_MORE_HITS",x);}n.$("inner").attr("aria-haspopup","true");if(!n._hasTabularSuggestions()){for(i=0;i<x;i++){w.addItem(H[i]);}}if(!n._bUseDialog){if(n._sCloseTimer){clearTimeout(n._sCloseTimer);n._sCloseTimer=null;}if(!y.isOpen()&&!n._sOpenTimer&&(this.getValue().length>=this.getStartSuggestion())){n._sOpenTimer=setTimeout(function(){n._resizePopup();n._sOpenTimer=null;y.open();},0);}}}else{G=R.getText("INPUT_SUGGESTIONS_NO_HIT");n.$("inner").removeAttr("aria-haspopup");n.$("inner").removeAttr("aria-activedescendant");if(!n._bUseDialog){if(y.isOpen()){n._sCloseTimer=setTimeout(function(){n._iPopupListSelectedIndex=-1;n.cancelPendingSuggest();y.close();},0);}}else{if(n._hasTabularSuggestions()&&n._oList){n._oList.addStyleClass("sapMInputSuggestionTableHidden");}}}n.$("SuggDescr").text(G);}})();h.prototype._createHighlightedText=function(i){var t=i.innerText,v=this.getValue().toLowerCase(),j=v.length,k=t.toLowerCase(),s,n='';if(!h._wordStartsWithValue(t,v)){return t;}var m=k.indexOf(v);if(m>0){m=k.indexOf(' '+v)+1;}if(m>-1){n+=t.substring(0,m);s=t.substring(m,m+j);n+='<span class="sapMInputHighlight">'+s+'</span>';n+=t.substring(m+j);}else{n=t;}return n;};h.prototype._highlightListText=function(){if(!this.getEnableSuggestionsHighlighting()){return;}var i,j,k=this._oList.$().find('.sapMDLILabel, .sapMSLITitleOnly, .sapMDLIValue');for(i=0;i<k.length;i++){j=k[i];j.innerHTML=this._createHighlightedText(j);}};h.prototype._highlightTableText=function(){if(!this.getEnableSuggestionsHighlighting()){return;}var i,j,k=this._oSuggestionTable.$().find('tbody .sapMLabel');for(i=0;i<k.length;i++){j=k[i];j.innerHTML=this._createHighlightedText(j);}};h.prototype.onfocusin=function(E){I.prototype.onfocusin.apply(this,arguments);this.$().addClass("sapMInputFocused");if(!this._bPopupHasFocus&&!this.getStartSuggestion()&&!this.getValue()){this._triggerSuggest(this.getValue());}this._bPopupHasFocus=undefined;};h.prototype.onsapshow=function(E){if(!this.getEnabled()||!this.getEditable()||!this.getShowValueHelp()){return;}this.fireValueHelpRequest({fromSuggestions:false});E.preventDefault();E.stopPropagation();};h.prototype.onsaphide=h.prototype.onsapshow;h.prototype.onsapselect=function(E){this._fireValueHelpRequestForValueHelpOnly();};h.prototype.onfocusout=function(E){I.prototype.onfocusout.apply(this,arguments);this.$().removeClass("sapMInputFocused");this.closeValueStateMessage(this);};h.prototype._hasTabularSuggestions=function(){return!!(this.getAggregation("suggestionColumns")&&this.getAggregation("suggestionColumns").length);};h.prototype._getSuggestionsTable=function(){var t=this;if(!this._oSuggestionTable){this._oSuggestionTable=new T(this.getId()+"-popup-table",{mode:sap.m.ListMode.SingleSelectMaster,showNoData:false,showSeparators:"All",width:"100%",enableBusyIndicator:false,rememberSelections:false,selectionChange:function(E){var s=E.getParameter("listItem");t.setSelectionRow(s,true);}});this._oSuggestionTable.addEventDelegate({onAfterRendering:this._highlightTableText.bind(this)});if(this._bUseDialog){this._oSuggestionTable.addStyleClass("sapMInputSuggestionTableHidden");}this._oSuggestionTable.updateItems=function(){T.prototype.updateItems.apply(this,arguments);t._refreshItemsDelayed();return this;};}return this._oSuggestionTable;};h.prototype._fireSuggestionItemSelectedEvent=function(){if(this._iPopupListSelectedIndex>=0){var s=this._oList.getItems()[this._iPopupListSelectedIndex];if(s){if(sap.m.ColumnListItem&&s instanceof sap.m.ColumnListItem){this.fireSuggestionItemSelected({selectedRow:s});}else{this.fireSuggestionItemSelected({selectedItem:s._oItem});}}this._iPopupListSelectedIndex=-1;}};h.prototype._callMethodInManagedObject=function(F,A){var i=Array.prototype.slice.call(arguments),s;if(A==="suggestionColumns"){s=this._getSuggestionsTable();return s[F].apply(s,["columns"].concat(i.slice(2)));}else if(A==="suggestionRows"){s=this._getSuggestionsTable();return s[F].apply(s,["items"].concat(i.slice(2)));}else{return sap.ui.core.Control.prototype[F].apply(this,i.slice(1));}};h.prototype.validateAggregation=function(A,o,m){return this._callMethodInManagedObject("validateAggregation",A,o,m);};h.prototype.setAggregation=function(A,o,s){this._callMethodInManagedObject("setAggregation",A,o,s);return this;};h.prototype.getAggregation=function(A,o){return this._callMethodInManagedObject("getAggregation",A,o);};h.prototype.indexOfAggregation=function(A,o){return this._callMethodInManagedObject("indexOfAggregation",A,o);};h.prototype.insertAggregation=function(A,o,i,s){this._callMethodInManagedObject("insertAggregation",A,o,i,s);return this;};h.prototype.addAggregation=function(A,o,s){this._callMethodInManagedObject("addAggregation",A,o,s);return this;};h.prototype.removeAggregation=function(A,o,s){return this._callMethodInManagedObject("removeAggregation",A,o,s);};h.prototype.removeAllAggregation=function(A,s){return this._callMethodInManagedObject("removeAllAggregation",A,s);};h.prototype.destroyAggregation=function(A,s){this._callMethodInManagedObject("destroyAggregation",A,s);return this;};h.prototype.getBinding=function(A){return this._callMethodInManagedObject("getBinding",A);};h.prototype.getBindingInfo=function(A){return this._callMethodInManagedObject("getBindingInfo",A);};h.prototype.getBindingPath=function(A){return this._callMethodInManagedObject("getBindingPath",A);};h.prototype.clone=function(){var i=sap.ui.core.Control.prototype.clone.apply(this,arguments),j;j=this.getBindingInfo("suggestionColumns");if(j){i.bindAggregation("suggestionColumns",q.extend({},j));}else{this.getSuggestionColumns().forEach(function(o){i.addSuggestionColumn(o.clone(),true);});}j=this.getBindingInfo("suggestionRows");if(j){i.bindAggregation("suggestionRows",q.extend({},j));}else{this.getSuggestionRows().forEach(function(r){i.addSuggestionRow(r.clone(),true);});}return i;};h.prototype.setValue=function(v){this._iSetCount++;I.prototype.setValue.call(this,v);this._onValueUpdated(v);return this;};h.prototype.getAccessibilityInfo=function(){var i=I.prototype.getAccessibilityInfo.apply(this,arguments);i.description=((i.description||"")+" "+this.getDescription()).trim();return i;};return h;},true);
sap.ui.predefine('sap/m/InputBase.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},reveal:{changeType:"unhideControl"}},name:{singular:"INPUT_BASE_NAME",plural:"INPUT_BASE_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/InputBase',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','sap/ui/core/Popup','./delegate/ValueStateMessage','sap/ui/core/message/MessageMixin'],function(q,l,C,E,I,P,V,M){"use strict";var a=C.extend("sap.m.InputBase",{metadata:{library:"sap.m",properties:{value:{type:"string",group:"Data",defaultValue:null,bindable:"bindable"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:sap.ui.core.ValueState.None},name:{type:"string",group:"Misc",defaultValue:null},placeholder:{type:"string",group:"Misc",defaultValue:null},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueStateText:{type:"string",group:"Misc",defaultValue:null},showValueStateMessage:{type:"boolean",group:"Misc",defaultValue:true},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:sap.ui.core.TextAlign.Initial},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},required:{type:"boolean",group:"Misc",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{value:{type:"string"}}}},designTime:true}});E.call(a.prototype);I.insertFontFaceStyle();M.call(a.prototype);a.prototype.bShowLabelAsPlaceholder=!sap.ui.Device.support.input.placeholder;a.prototype._getPlaceholder=function(){return this.getPlaceholder();};a.prototype._setLabelVisibility=function(){if(!this.bShowLabelAsPlaceholder){return;}var v=this.$("inner").val();this.$("placeholder").css("display",v?"none":"inline");};a.prototype._getInputValue=function(v){v=(v===undefined)?this.$("inner").val()||"":v.toString();if(this.getMaxLength&&this.getMaxLength()>0){v=v.substring(0,this.getMaxLength());}return v;};a.prototype._getInputElementTagName=function(){if(!this._sInputTagElementName){this._sInputTagElementName=this._$input&&this._$input.get(0)&&this._$input.get(0).tagName;}return this._sInputTagElementName;};a.prototype.init=function(){this._lastValue="";this.bRenderingPhase=false;this.bFocusoutDueRendering=false;this._bIgnoreNextInputEventNonASCII=false;this._oValueStateMessage=new V(this);};a.prototype.onBeforeRendering=function(){if(this._bCheckDomValue&&!this.bRenderingPhase){this._sDomValue=this._getInputValue();}this.bRenderingPhase=true;};a.prototype.onAfterRendering=function(){if(this._bCheckDomValue&&this._sDomValue!==this._getInputValue()){this.$("inner").val(this._sDomValue);}this._bCheckDomValue=false;this._setLabelVisibility();this.bRenderingPhase=false;};a.prototype.exit=function(){if(this._oValueStateMessage){this._oValueStateMessage.destroy();}this._oValueStateMessage=null;};a.prototype.ontouchstart=function(e){e.setMarked();};a.prototype.onfocusin=function(e){this._bIgnoreNextInput=!this.bShowLabelAsPlaceholder&&sap.ui.Device.browser.msie&&sap.ui.Device.browser.version>9&&!!this.getPlaceholder()&&!this._getInputValue()&&this._getInputElementTagName()==="INPUT";this.$().toggleClass("sapMFocus",true);if(this.shouldValueStateMessageBeOpened()){this.openValueStateMessage();}};a.prototype.onfocusout=function(e){this.bFocusoutDueRendering=this.bRenderingPhase;this.$().toggleClass("sapMFocus",false);if(this.bRenderingPhase){return;}this.closeValueStateMessage();};a.prototype.onsapfocusleave=function(e){if(!this.preventChangeOnFocusLeave(e)){this.onChange(e);}};a.prototype.preventChangeOnFocusLeave=function(e){return this.bFocusoutDueRendering;};a.prototype.ontap=function(e){if(this.getEnabled()&&this.getEditable()&&this.bShowLabelAsPlaceholder&&e.target.id===this.getId()+"-placeholder"){this.focus();}};a.prototype.onChange=function(e){if(!this.getEditable()||!this.getEnabled()){return;}var v=this._getInputValue();if(v!==this._lastValue){this.setValue(v);if(e){this._bIgnoreNextInputEventNonASCII=false;}v=this.getValue();this._lastValue=v;this.fireChangeEvent(v);return true;}else{this._bCheckDomValue=false;}};a.prototype.fireChangeEvent=function(v,p){var c=q.extend({value:v,newValue:v},p);this.fireChange(c);};a.prototype.onValueRevertedByEscape=function(v){this.fireEvent("liveChange",{value:v,newValue:v});};a.prototype.onsapenter=function(e){this.onChange(e);};a.prototype.onsapescape=function(e){var v=this._getInputValue();if(v!==this._lastValue){e.setMarked();e.preventDefault();this.updateDomValue(this._lastValue);this.onValueRevertedByEscape(this._lastValue);}};a.prototype.oninput=function(e){if(this._bIgnoreNextInput){this._bIgnoreNextInput=false;e.setMarked("invalid");return;}if(!this.getEditable()){e.setMarked("invalid");return;}if(this._bIgnoreNextInputEventNonASCII&&this.getValue()===this._lastValue){this._bIgnoreNextInputEventNonASCII=false;e.setMarked("invalid");return;}if(document.activeElement!==e.target&&sap.ui.Device.browser.msie&&this.getValue()===this._lastValue){e.setMarked("invalid");return;}this._bCheckDomValue=true;this._setLabelVisibility();};a.prototype.onkeydown=function(e){if(!this.getEditable()&&e.keyCode==q.sap.KeyCodes.BACKSPACE){e.preventDefault();}};a.prototype.oncut=function(e){};a.prototype.selectText=function(s,S){this.$("inner").selectText(s,S);return this;};a.prototype.getSelectedText=function(){return this.$("inner").getSelectedText();};a.prototype.setProperty=function(p,v,s){if(p=="value"){this._bCheckDomValue=false;}return C.prototype.setProperty.apply(this,arguments);};a.prototype.getFocusInfo=function(){var f=C.prototype.getFocusInfo.call(this),F=this.getFocusDomRef();q.extend(f,{cursorPos:0,selectionStart:0,selectionEnd:0});if(F){f.cursorPos=q(F).cursorPos();try{f.selectionStart=F.selectionStart;f.selectionEnd=F.selectionEnd;}catch(e){}}return f;};a.prototype.applyFocusInfo=function(f){C.prototype.applyFocusInfo.call(this,f);this.$("inner").cursorPos(f.cursorPos);this.selectText(f.selectionStart,f.selectionEnd);return this;};a.prototype.bindToInputEvent=function(c){if(this._oInputEventDelegate){this.removeEventDelegate(this._oInputEventDelegate);}this._oInputEventDelegate={oninput:c};return this.addEventDelegate(this._oInputEventDelegate);};a.prototype.updateDomValue=function(v){if(!this.isActive()){return this;}v=this._getInputValue(v);if(this._getInputValue()!==v){this.$("inner").val(v);this._bCheckDomValue=true;}this._setLabelVisibility();return this;};a.prototype.closeValueStateMessage=function(){if(this._oValueStateMessage){this._oValueStateMessage.close();}};a.prototype.getDomRefForValueStateMessage=function(){return this.getFocusDomRef();};a.prototype.iOpenMessagePopupDuration=0;a.prototype.getValueStateMessageId=function(){return this.getId()+"-message";};a.prototype.openValueStateMessage=function(){if(this._oValueStateMessage){this._oValueStateMessage.open();}};a.prototype.updateValueStateClasses=function(v,o){var t=this.$(),i=this.$("inner"),m=sap.ui.core.ValueState;if(o!==m.None){t.removeClass("sapMInputBaseState sapMInputBase"+o);i.removeClass("sapMInputBaseStateInner sapMInputBase"+o+"Inner");}if(v!==m.None){t.addClass("sapMInputBaseState sapMInputBase"+v);i.addClass("sapMInputBaseStateInner sapMInputBase"+v+"Inner");}};a.prototype.shouldValueStateMessageBeOpened=function(){return((this.getValueState()!==sap.ui.core.ValueState.None)&&this.getEditable()&&this.getEnabled()&&this.getShowValueStateMessage());};a.prototype.setValueState=function(v){var o=this.getValueState();this.setProperty("valueState",v,true);v=this.getValueState();if(v===o){return this;}var d=this.getDomRef();if(!d){return this;}var i=this.$("inner"),m=sap.ui.core.ValueState;if(v===m.Error){i.attr("aria-invalid","true");}else{i.removeAttr("aria-invalid");}this.updateValueStateClasses(v,o);if(i[0]===document.activeElement){if(v===m.None){this.closeValueStateMessage();}else if(this.shouldValueStateMessageBeOpened()){this.openValueStateMessage();}}return this;};a.prototype.setValueStateText=function(t){this.setProperty("valueStateText",t,true);this.$("message").text(this.getValueStateText());return this;};a.prototype.setValue=function(v){v=this.validateProperty("value",v);v=this._getInputValue(v);this.updateDomValue(v);if(sap.ui.Device.browser.msie&&sap.ui.Device.browser.version>9&&!/^[\x00-\x7F]*$/.test(v)){this._bIgnoreNextInputEventNonASCII=true;}if(v!==this.getProperty("value")){this._lastValue=v;}this.setProperty("value",v,true);return this;};a.prototype.getFocusDomRef=function(){return this.getDomRef("inner");};a.prototype.getIdForLabel=function(){return this.getId()+"-inner";};a.prototype.setTooltip=function(t){var d=this.getDomRef();this._refreshTooltipBaseDelegate(t);this.setAggregation("tooltip",t,true);if(!d){return this;}var T=this.getTooltip_AsString();if(T){d.setAttribute("title",T);}else{d.removeAttribute("title");}if(sap.ui.getCore().getConfiguration().getAccessibility()){var D=this.getDomRef("describedby"),A=this.getRenderer().getDescribedByAnnouncement(this),s=this.getId()+"-describedby",b="aria-describedby",f=this.getFocusDomRef(),c=f.getAttribute(b);if(!D&&A){D=document.createElement("span");D.id=s;D.setAttribute("aria-hidden","true");D.className="sapUiInvisibleText";if(this.getAriaDescribedBy){f.setAttribute(b,(this.getAriaDescribedBy().join(" ")+" "+s).trim());}else{f.setAttribute(b,s);}d.appendChild(D);}else if(D&&!A){d.removeChild(D);var e=D.id;if(c&&e){f.setAttribute(b,c.replace(e,"").trim());}}if(D){D.textContent=A;}}return this;};a.prototype.getAccessibilityInfo=function(){var r=this.getRenderer();return{role:r.getAriaRole(this),type:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_INPUT"),description:[this.getValue()||"",r.getLabelledByAnnouncement(this),r.getDescribedByAnnouncement(this)].join(" ").trim(),focusable:this.getEnabled(),enabled:this.getEnabled(),editable:this.getEnabled()&&this.getEditable()};};Object.defineProperty(a.prototype,"_$input",{get:function(){return this.$("inner");}});return a;},true);
sap.ui.predefine('sap/m/InputBaseRenderer',['jquery.sap.global','sap/ui/core/Renderer','sap/ui/core/ValueStateSupport'],function(q,R,V){"use strict";var I={};I.render=function(r,c){var v=c.getValueState(),t=c.getTextDirection(),T=R.getTextAlign(c.getTextAlign(),t),a=sap.ui.getCore().getConfiguration().getAccessibility();r.write("<div");r.writeControlData(c);this.addOuterStyles(r,c);this.addControlWidth(r,c);r.writeStyles();r.addClass("sapMInputBase");this.addPaddingClass(r,c);this.addCursorClass(r,c);this.addOuterClasses(r,c);if(!c.getEnabled()){r.addClass("sapMInputBaseDisabled");}if(!c.getEditable()){r.addClass("sapMInputBaseReadonly");}if(v!==sap.ui.core.ValueState.None){this.addValueStateClasses(r,c);}r.writeClasses();this.writeOuterAttributes(r,c);var s=c.getTooltip_AsString();if(s){r.writeAttributeEscaped("title",s);}r.write(">");this.prependInnerContent(r,c);if(c.bShowLabelAsPlaceholder){r.write("<label");r.writeAttribute("id",c.getId()+"-placeholder");if(T){r.addStyle("text-align",T);}this.addPlaceholderClasses(r,c);this.addPlaceholderStyles(r,c);r.writeClasses();r.writeStyles();r.write(">");r.writeEscaped(c._getPlaceholder());r.write("</label>");}this.openInputTag(r,c);this.writeInnerId(r,c);if(c.getName()){r.writeAttributeEscaped("name",c.getName());}if(!c.bShowLabelAsPlaceholder&&c._getPlaceholder()){r.writeAttributeEscaped("placeholder",c._getPlaceholder());}if(c.getMaxLength&&c.getMaxLength()>0){r.writeAttribute("maxlength",c.getMaxLength());}if(!c.getEnabled()){r.writeAttribute("disabled","disabled");r.addClass("sapMInputBaseDisabledInner");}else if(!c.getEditable()){r.writeAttribute("readonly","readonly");r.addClass("sapMInputBaseReadonlyInner");}if(t!=sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",t.toLowerCase());}this.writeInnerValue(r,c);if(a){this.writeAccessibilityState(r,c);}if(sap.ui.Device.browser.mozilla){if(s){r.writeAttributeEscaped("x-moz-errormessage",s);}else{r.writeAttribute("x-moz-errormessage"," ");}}this.writeInnerAttributes(r,c);r.addClass("sapMInputBaseInner");if(v!==sap.ui.core.ValueState.None){this.addValueStateInnerClasses(r,c);}this.addInnerClasses(r,c);r.writeClasses();if(T){r.addStyle("text-align",T);}this.addInnerStyles(r,c);r.writeStyles();r.write(">");this.writeInnerContent(r,c);this.closeInputTag(r,c);if(a){this.renderAriaLabelledBy(r,c);this.renderAriaDescribedBy(r,c);}r.write("</div>");};I.getAriaRole=function(c){return"textbox";};I.getAriaLabelledBy=function(c){if(this.getLabelledByAnnouncement(c)){return c.getId()+"-labelledby";}};I.getLabelledByAnnouncement=function(c){return c._getPlaceholder()||"";};I.renderAriaLabelledBy=function(r,c){var a=this.getLabelledByAnnouncement(c);if(a){r.write("<label");r.writeAttribute("id",c.getId()+"-labelledby");r.writeAttribute("aria-hidden","true");r.addClass("sapUiInvisibleText");r.writeClasses();r.write(">");r.writeEscaped(a.trim());r.write("</label>");}};I.getAriaDescribedBy=function(c){if(this.getDescribedByAnnouncement(c)){return c.getId()+"-describedby";}};I.getDescribedByAnnouncement=function(c){return c.getTooltip_AsString()||"";};I.renderAriaDescribedBy=function(r,c){var a=this.getDescribedByAnnouncement(c);if(a){r.write("<span");r.writeAttribute("id",c.getId()+"-describedby");r.writeAttribute("aria-hidden","true");r.addClass("sapUiInvisibleText");r.writeClasses();r.write(">");r.writeEscaped(a.trim());r.write("</span>");}};I.getAccessibilityState=function(c){var a=this.getAriaLabelledBy(c),A=this.getAriaDescribedBy(c),r=this.getAriaRole(c),m={};if(r){m.role=r;}if(c.getValueState()===sap.ui.core.ValueState.Error){m.invalid=true;}if(a){m.labelledby={value:a.trim(),append:true};}if(A){m.describedby={value:A.trim(),append:true};}return m;};I.writeAccessibilityState=function(r,c){r.writeAccessibilityState(c,this.getAccessibilityState(c));};I.openInputTag=function(r,c){r.write("<input");};I.writeInnerValue=function(r,c){r.writeAttributeEscaped("value",c.getValue());};I.addCursorClass=function(r,c){};I.addPaddingClass=function(r,c){r.addClass("sapMInputBaseWidthPadding");};I.addOuterStyles=function(r,c){};I.addControlWidth=function(r,c){if(c.getWidth()){r.addStyle("width",c.getWidth());}};I.addOuterClasses=function(r,c){};I.writeOuterAttributes=function(r,c){};I.addInnerStyles=function(r,c){};I.addInnerClasses=function(r,c){};I.writeInnerAttributes=function(r,c){};I.prependInnerContent=function(r,c){};I.writeInnerContent=function(r,c){};I.closeInputTag=function(r,c){};I.addPlaceholderStyles=function(r,c){};I.addPlaceholderClasses=function(r,c){r.addClass("sapMInputBasePlaceholder");};I.addValueStateInnerClasses=function(r,c){r.addClass("sapMInputBaseStateInner");r.addClass("sapMInputBase"+c.getValueState()+"Inner");};I.addValueStateClasses=function(r,c){r.addClass("sapMInputBaseState");r.addClass("sapMInputBase"+c.getValueState());};I.writeInnerId=function(r,c){r.writeAttribute("id",c.getId()+"-inner");};return I;},true);
sap.ui.predefine('sap/m/InputListItem.designtime',[],function(){"use strict";return{aggregations:{content:{domRef:":sap-domref"}}};},false);
sap.ui.predefine('sap/m/InputListItem',['jquery.sap.global','./ListItemBase','./library'],function(q,L,l){"use strict";var I=L.extend("sap.m.InputListItem",{metadata:{library:"sap.m",properties:{label:{type:"string",group:"Misc",defaultValue:null},labelTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",bindable:"bindable"}},designTime:true}});I.prototype.getContentAnnouncement=function(){var a=this.getLabel();this.getContent().forEach(function(c){a+=L.getAccessibilityText(c)+" ";});return a;};return I;},true);
sap.ui.predefine('sap/m/InputListItemRenderer',['jquery.sap.global','./ListItemBaseRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var I=R.extend(L);I.renderLIAttributes=function(r,l){r.addClass("sapMILI");};I.renderLIContent=function(r,l){var s=l.getLabel();if(s){var a=l.getId()+"-label",b=l.getLabelTextDirection();r.write('<label id="'+a+'" class="sapMILILabel"');if(b!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",b.toLowerCase());}r.write('>');r.writeEscaped(s);r.write('</label>');}r.write('<div class="sapMILIDiv sapMILI-CTX">');l.getContent().forEach(function(c){if(a&&c.addAriaLabelledBy&&c.getAriaLabelledBy().indexOf(a)==-1){c.addAssociation("ariaLabelledBy",a,true);}r.renderControl(c);});r.write('</div>');};return I;},true);
sap.ui.predefine('sap/m/InputRenderer',['jquery.sap.global','sap/ui/core/Renderer','./InputBaseRenderer'],function(q,R,I){"use strict";var a=R.extend(I);a.addOuterClasses=function(r,c){r.addClass("sapMInput");if(c.getShowValueHelp()&&c.getEnabled()&&c.getEditable()){r.addClass("sapMInputVH");if(c.getValueHelpOnly()){r.addClass("sapMInputVHO");}}if(c.getDescription()){r.addClass("sapMInputDescription");}};a.addOuterStyles=function(r,c){};a.writeInnerAttributes=function(r,c){r.writeAttribute("type",c.getType().toLowerCase());if(c.getType()==sap.m.InputType.Number&&sap.ui.getCore().getConfiguration().getRTL()){r.writeAttribute("dir","ltr");r.addStyle("text-align","right");}if((!c.getEnabled()&&c.getType()=="Password")||(c.getShowSuggestion()&&c._bUseDialog)||(c.getValueHelpOnly()&&c.getEnabled()&&c.getEditable()&&c.getShowValueHelp())){r.writeAttribute("readonly","readonly");}};a.addInnerClasses=function(r,c){};a.addInnerStyles=function(r,c){if(c.getDescription()){r.addStyle("width",c.getFieldWidth()||"50%");}};a.writeInnerContent=function(r,c){var i=c.getId(),d=c.getDescription();if(!d){this.writeValueHelpIcon(r,c);}else{r.write("<span id=\""+c.getId()+"-Descr\">");this.writeValueHelpIcon(r,c);r.writeEscaped(d);r.write("</span>");}if(sap.ui.getCore().getConfiguration().getAccessibility()){if(c.getShowSuggestion()&&c.getEnabled()&&c.getEditable()){r.write("<span id=\""+i+"-SuggDescr\" class=\"sapUiPseudoInvisibleText\" role=\"status\" aria-live=\"polite\"></span>");}}};a.writeValueHelpIcon=function(r,c){if(c.getShowValueHelp()&&c.getEnabled()&&c.getEditable()){r.write('<div class="sapMInputValHelp" tabindex="-1">');r.renderControl(c._getValueHelpIcon());r.write("</div>");}};a.addPlaceholderStyles=function(r,c){if(c.getDescription()){r.addStyle("width",c.getFieldWidth()||"50%");}};a.getAriaLabelledBy=function(c){var b=I.getAriaLabelledBy.call(this,c)||"";if(c.getDescription()){b=b+" "+c.getId()+"-Descr";}return b;};a.getAriaDescribedBy=function(c){var A=I.getAriaDescribedBy.apply(this,arguments);if(c.getShowValueHelp()&&c.getEnabled()&&c.getEditable()){if(A){A=A+" "+c._sAriaValueHelpLabelId;}else{A=c._sAriaValueHelpLabelId;}if(c.getValueHelpOnly()){A=A+" "+c._sAriaInputDisabledLabelId;}}if(c.getShowSuggestion()&&c.getEnabled()&&c.getEditable()){if(A){A=A+" "+c.getId()+"-SuggDescr";}else{A=c.getId()+"-SuggDescr";}}return A;};a.getAriaRole=function(c){return"";};a.getAccessibilityState=function(c){var A=I.getAccessibilityState.apply(this,arguments);if(c.getShowSuggestion()&&c.getEnabled()&&c.getEditable()){A.autocomplete="list";}return A;};return a;},true);
sap.ui.predefine('sap/m/InstanceManager',['jquery.sap.global'],function(q){"use strict";var I={};(function(){var r={},e=[];var p="_POPOVER_",d="_DIALOG_",l="_LIGHTBOX_";I.addInstance=function(c,i){if(!r[c]){r[c]=[];}if(r[c].indexOf(i)===-1){r[c].push(i);}return this;};I.removeInstance=function(c,o){var C=r[c],i;if(!C){q.sap.log.warning("Can't remove control from a non-managed category id: "+c);return null;}i=C.indexOf(o);return(i===-1)?null:C.splice(i,1);};I.getInstancesByCategoryId=function(c){return r[c]||e;};I.isInstanceManaged=function(c,i){var C=r[c];if(!C||!i){return false;}return C.indexOf(i)!==-1;};I.isCategoryEmpty=function(c){var C=r[c];return!C||C.length===0;};I.addPopoverInstance=function(P){if(typeof P.close==="function"){I.addInstance(p,P);}else{q.sap.log.warning("In method addPopoverInstance: the parameter doesn't have a close method and can't be managed.");}return this;};I.addDialogInstance=function(D){if(typeof D.close==="function"){I.addInstance(d,D);}else{q.sap.log.warning("In method addDialogInstance: the parameter doesn't have a close method and can't be managed.");}return this;};I.addLightBoxInstance=function(L){if(typeof L.close==="function"){I.addInstance(l,L);}else{q.sap.log.warning("In method addLightBoxInstance: the parameter doesn't have a close method and can't be managed.");}return this;};I.removePopoverInstance=function(P){return I.removeInstance(p,P);};I.removeDialogInstance=function(D){return I.removeInstance(d,D);};I.removeLightBoxInstance=function(L){return I.removeInstance(l,L);};I.hasOpenPopover=function(){return!I.isCategoryEmpty(p);};I.hasOpenDialog=function(){return!I.isCategoryEmpty(d);};I.hasOpenLightBox=function(){return!I.isCategoryEmpty(l);};I.isDialogOpen=function(D){return I.isInstanceManaged(d,D);};I.isPopoverOpen=function(P){return I.isInstanceManaged(p,P);};I.isLightBoxOpen=function(L){return I.isInstanceManaged(l,L);};I.getOpenPopovers=function(){return I.getInstancesByCategoryId(p);};I.getOpenDialogs=function(){return I.getInstancesByCategoryId(d);};I.getOpenLightBoxes=function(){return I.getInstancesByCategoryId(l);};I.closeAllPopovers=function(){var a=I.getOpenPopovers(),i;for(i=0;i<a.length;i++){a[i].close();}return this;};I.closeAllDialogs=function(c){var D,a=[],b=I.getOpenDialogs(),f,i;for(i=0;i<b.length;i++){f=b[i];if(c){D=new q.Deferred().done();a.push(D);f.attachEvent("afterClose",(function(g){return function(){g.resolve();};}(D)));}f.close();}if(c){q.when.apply(this,a).then(c);}return this;};I.closeAllLightBoxes=function(){var i=I.getOpenLightBoxes(),L=i.length,a;for(a=0;a<L;a+=1){i[a].close();}return this;};}());return I;},true);
sap.ui.predefine('sap/m/Label.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},rename:{changeType:"rename",domRef:function(c){return c.$()[0];}},reveal:{changeType:"unhideControl"}},name:{singular:"LABEL_NAME",plural:"LABEL_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/LightBox',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/Popup','sap/m/Text','sap/m/Button','sap/m/Image','sap/ui/core/ResizeHandler','sap/ui/Device','sap/m/MessagePage','sap/ui/core/Icon','sap/ui/layout/VerticalLayout','./InstanceManager','sap/ui/core/InvisibleText'],function(q,l,C,P,T,B,I,R,D,M,a,V,b,c){'use strict';var L=C.extend('sap.m.LightBox',{metadata:{interfaces:['sap.ui.core.PopupInterface'],library:'sap.m',aggregations:{imageContent:{type:'sap.m.LightBoxItem',multiple:true,bindable:"bindable"},_closeButton:{type:'sap.m.Button',multiple:false,visibility:'hidden'},_errorIcon:{type:'sap.ui.core.Icon',multiple:false,visibility:'hidden'},_errorTitle:{type:'sap.m.Text',multiple:false,visibility:'hidden'},_errorSubtitle:{type:'sap.m.Text',multiple:false,visibility:'hidden'},_verticalLayout:{type:'sap.ui.layout.VerticalLayout',multiple:false,visibility:'hidden'},_invisiblePopupText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}},events:{},defaultAggregation:'imageContent'}});L.prototype.init=function(){this._createPopup();this._width=0;this._height=0;this._isRendering=true;this._resizeListenerId=null;this._$lightBox=null;this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._closeButtonText=this._rb.getText("LIGHTBOX_CLOSE_BUTTON");if(sap.ui.getCore().getConfiguration().getAccessibility()){this.setAggregation("_invisiblePopupText",new c());}};L.prototype.onBeforeRendering=function(){var i=this._getImageContent(),n=i._getNativeImage(),s=i._getImageState();this._createErrorControls();n.src=i.getImageSrc();if(this._resizeListenerId){D.resize.detachHandler(this._onResize);R.deregister(this._resizeListenerId);this._resizeListenerId=null;}switch(s){case sap.m.LightBoxLoadingStates.Loading:this._timeoutId=setTimeout(function(){i._setImageState(sap.m.LightBoxLoadingStates.TimeOutError);},10000);break;case sap.m.LightBoxLoadingStates.Loaded:clearTimeout(this._timeoutId);this._calculateSizes(n);break;case sap.m.LightBoxLoadingStates.Error:clearTimeout(this._timeoutId);break;default:break;}var o=this.getAggregation('_invisiblePopupText');if(i&&o){o.setText(this._rb.getText("LIGHTBOX_ARIA_ENLARGED",i.getTitle()));}this._isRendering=true;};L.prototype.onAfterRendering=function(){this._isRendering=false;this._$lightBox=this.$();if(!this._resizeListenerId){D.resize.attachHandler(this._onResize.bind(this));this._resizeListenerId=R.register(this,this._onResize.bind(this));}};L.prototype.forceInvalidate=C.prototype.invalidate;L.prototype.invalidate=function(o){var i=this._getImageContent();if(this.isOpen()){if(i&&i.getImageSrc()){this.forceInvalidate(o);}else{this.close();}}return this;};L.prototype.exit=function(){if(this._oPopup){this._oPopup.detachOpened(this._fnOpened,this);this._oPopup.detachClosed(this._fnClosed,this);this._oPopup.destroy();this._oPopup=null;}if(this._resizeListenerId){D.resize.detachHandler(this._onResize);R.deregister(this._resizeListenerId);this._resizeListenerId=null;}b.removeLightBoxInstance(this);};L.prototype.open=function(){var i=this._getImageContent();this._oPopup.setContent(this);if(i&&i.getImageSrc()){this._oPopup.open(300,'center center','center center',document.body,null);b.addLightBoxInstance(this);}return this;};L.prototype.isOpen=function(){if(this._oPopup&&this._oPopup.isOpen()){return true;}return false;};L.prototype.close=function(){if(this._resizeListenerId){D.resize.detachHandler(this._onResize);R.deregister(this._resizeListenerId);this._resizeListenerId=null;}this._oPopup.close();b.removeLightBoxInstance(this);return this;};L.prototype._getCloseButton=function(){var e=this.getAggregation('_closeButton');if(!e){e=new B({id:this.getId()+'-closeButton',text:this._closeButtonText,type:sap.m.ButtonType.Transparent,press:function(){this.close();}.bind(this)});this.setAggregation('_closeButton',e,true);}return e;};L.prototype._imageStateChanged=function(n){if((n===sap.m.LightBoxLoadingStates.Loaded||n===sap.m.LightBoxLoadingStates.Error)&&!this._isRendering){this.rerender();}};L.prototype._createPopup=function(){this._oPopup=new P(this,true,true);this._oPopup.attachOpened(this._fnOpened,this);this._oPopup.attachClosed(this._fnClosed,this);};L.prototype._fnOpened=function(){var t=this;q('#sap-ui-blocklayer-popup').on("click",function(){t.close();});};L.prototype._fnClosed=function(){q('#sap-ui-blocklayer-popup').off("click");};L.prototype._createErrorControls=function(){var r=this._rb;var e;var f;if(this._getImageContent()._getImageState()===sap.m.LightBoxLoadingStates.TimeOutError){e=r.getText('LIGHTBOX_IMAGE_TIMED_OUT');f=r.getText('LIGHTBOX_IMAGE_TIMED_OUT_DETAILS');}else{e=r.getText('LIGHTBOX_IMAGE_ERROR');f=r.getText('LIGHTBOX_IMAGE_ERROR_DETAILS');}var g=new T({text:e,textAlign:sap.ui.core.TextAlign.Center}).addStyleClass("sapMLightBoxErrorTitle"),h=new T({text:f,textAlign:sap.ui.core.TextAlign.Center}).addStyleClass("sapMLightBoxErrorSubtitle"),i=new a({src:"sap-icon://picture"}).addStyleClass("sapMLightBoxErrorIcon");this.setAggregation('_errorIcon',i);this.setAggregation('_verticalLayout',new V({content:[i,g,h]}).addStyleClass('sapMLightBoxVerticalLayout'));};L.prototype._onResize=function(){var m=d()/2+'px',t=m,e=m,f='',g='',i=this._getImageContent(),h=this.getDomRef(),j,k,n=d(),o=2;if(i._getImageState()===sap.m.LightBoxLoadingStates.Loaded){this._calculateSizes(i._getNativeImage());j=this._width;k=this._height;this._$lightBox.width(j);this._$lightBox.height(k);}else{j=h.clientWidth;k=h.clientHeight;}if(window.innerWidth>j+n){e='50%';g=Math.round(-j/2);}if(window.innerHeight>k+n){t='50%';f=Math.round(-k/2);}if(sap.ui.getCore().getConfiguration().getTheme()==='sap_hcb'){f-=o;g-=o;}this._$lightBox.css({'top':t,'margin-top':f,'left':e,'margin-left':g});};L.prototype._calculateSizes=function(i){var f=this._calculateFooterHeightInPx(),e=288-f,g=this._getImageContent().getAggregation("_image"),h;this._setImageSize(g,i.naturalWidth,i.naturalHeight);this._calculateAndSetLightBoxSize(g);h=this._pxToNumber(g.getHeight());this.toggleStyleClass('sapMLightBoxMinSize',(h<e));this._isBusy=false;};L.prototype._calculateFooterHeightInPx=function(i){var e=this.$().parents().hasClass('sapUiSizeCompact');var s=this._getImageContent().getSubtitle();var f=2.5;if(!e){f+=0.5;}if(s){f+=1.5;}return f*16;};L.prototype._calculateAndSetLightBoxSize=function(i){var e,f=(20*16),g=(18*16),F=this._calculateFooterHeightInPx();e=this._pxToNumber(i.getHeight());this._width=Math.max(f,this._pxToNumber(i.getWidth()));this._height=Math.max(g,e+F);};L.prototype._setImageSize=function(i,e,f){var g=this._calculateFooterHeightInPx(),h=this._getDimensions(e,f,g);i.setWidth(h.width+'px');i.setHeight(h.height+'px');};L.prototype._getDimensions=function(i,e,f){var g=20*16,h=18*16,$=q(window),w=$.height(),j=$.width(),m=d(),k=Math.max(j-m,g),n=Math.max(w-m,h),s;n-=f;if(e<=n){if(i<=k){}else{e*=k/i;i=k;}}else{if(i<=k){i*=n/e;e=n;}else{s=Math.max(i/k,e/n);i/=s;e/=s;}}return{width:Math.round(i),height:Math.round(e)};};L.prototype._pxToNumber=function(s){return(s.substring(0,(s.length-2)))*1;};L.prototype._getImageContent=function(){var r=this.getAggregation('imageContent');return r&&r[0];};function d(){var s=sap.ui.Device.system;if(s.desktop){return 4*16;}if(s.tablet){return 2*16;}return 0;}return L;},true);
sap.ui.predefine('sap/m/LightBoxItem',['jquery.sap.global','./library','sap/ui/core/Element','./Image','./Text'],function(q,l,E,I,T){"use strict";var L=E.extend("sap.m.LightBoxItem",{metadata:{library:"sap.m",properties:{imageSrc:{type:'sap.ui.core.URI',group:'Appearance',multiple:false,defaultValue:''},alt:{type:'string',group:'Appearance',multiple:false,defaultValue:''},title:{type:'string',group:'Appearance',multiple:false,defaultValue:''},subtitle:{type:'string',group:'Appearance',multiple:false,defaultValue:''}},aggregations:{_image:{type:'sap.m.Image',multiple:false,visibility:'hidden'},_title:{type:'sap.m.Text',multiple:false,visibility:'hidden'},_subtitle:{type:'sap.m.Text',multiple:false,visibility:'hidden'}}}});L.prototype.init=function(){this._createNativeImage();this.setAggregation('_image',new I({decorative:false,densityAware:false}),true);this.setAggregation('_title',new T({wrapping:false}),true);this.setAggregation('_subtitle',new T({wrapping:false}),true);};L.prototype._createNativeImage=function(){var t=this;this._imageState=sap.m.LightBoxLoadingStates.Loading;this._oImage=new window.Image();this._oImage.onload=function(e){if(this.complete&&t._imageState===sap.m.LightBoxLoadingStates.Loading){t._setImageState(sap.m.LightBoxLoadingStates.Loaded);}};this._oImage.onerror=function(e){t._setImageState(sap.m.LightBoxLoadingStates.Error);};};L.prototype.exit=function(){this._oImage=null;};L.prototype._setImageState=function(i){if(i!==this._imageState){this._imageState=i;if(this.getParent()){this.getParent()._imageStateChanged(i);}}};L.prototype._getImageState=function(){return this._imageState;};L.prototype._getNativeImage=function(){return this._oImage;};L.prototype.setImageSrc=function(i){var o=this.getAggregation("_image"),a=this.getParent();if(this.getImageSrc()===i){return this;}this._imageState=sap.m.LightBoxLoadingStates.Loading;if(a&&a._oPopup.getOpenState()===sap.ui.core.OpenState.OPEN){this._oImage.src=i;}this.setProperty("imageSrc",i,false);o.setSrc(i);return this;};L.prototype.setAlt=function(a){var i=this.getAggregation("_image");this.setProperty("alt",a,false);i.setAlt(a);return this;};L.prototype.setTitle=function(t){var o=this.getAggregation("_title");this.setProperty("title",t,false);o.setText(t);return this;};L.prototype.setSubtitle=function(s){var S=this.getAggregation("_subtitle");this.setProperty("subtitle",s,false);S.setText(s);return this;};return L;},true);
sap.ui.predefine('sap/m/LightBoxRenderer',['jquery.sap.global'],function(q){'use strict';var L={};var c='sapMLightBox';var a='sapMLightBoxTwoLines';var b='sapMLightBoxImageContainer';var d='sapMLightBoxImageContainerTwoHeaders';var e='sapMLightBoxError';var f='sapMLightBoxErrorContainer';var g='sapMLightBoxErrorContainerTwoHeaders';var h='sapMLightBoxFooter';var i='sapContrast';var j='sapContrastPlus';var k='sapMLightBoxTitleSection';var l='sapMLightBoxTitle';var m='sapMLightBoxSubtitle';var n='sapMLightBoxFooterTwoLines';L.render=function(r,C){var o=C._getImageContent();var p=o._getImageState();var s=C.getAggregation('_invisiblePopupText');r.write('<div');r.writeControlData(C);r.addClass(c);if(o.getSubtitle()){r.addClass(a);}if(p!==sap.m.LightBoxLoadingStates.Error){r.addStyle('width',C._width+'px');r.addStyle('height',C._height+'px');}else{r.addClass(e);}r.writeAccessibilityState({role:'dialog',labelledby:s&&s.getId()});r.writeClasses();r.writeStyles();r.write('>');r.renderControl(s);if(p===sap.m.LightBoxLoadingStates.Loading){this.renderBusyState(r,C);}else if(p===sap.m.LightBoxLoadingStates.TimeOutError||p===sap.m.LightBoxLoadingStates.Error){this.renderError(r,C);}else{this.renderImage(r,C);}this.renderFooter(r,C,o);r.write('</div>');C._isRendering=false;};L.renderImage=function(r,C){var o=C._getImageContent();if(o.getSubtitle()){r.write('<div class="'+d+'">');}else{r.write('<div class="'+b+'">');}r.renderControl(o.getAggregation('_image'));r.write('</div>');};L.renderError=function(r,C){var o=C._getImageContent(),v=C.getAggregation('_verticalLayout');if(o.getSubtitle()){r.write('<div class="'+g+'">');}else{r.write('<div class="'+f+'">');}r.renderControl(v);r.write('</div>');};L.renderBusyState=function(r,C){r.renderControl(new sap.m.BusyIndicator());};L.renderFooter=function(r,C,I){var t=I.getAggregation("_title"),s=I.getAggregation("_subtitle");r.write('<div');r.addClass(h);r.addClass(i);r.addClass(j);if(I.getSubtitle()){r.addClass(n);}r.writeClasses();r.write('>');r.write('<div class="'+k+'">');if(t){r.renderControl(t.addStyleClass(l));}if(s&&s.getText()){r.renderControl(s.addStyleClass(m));}r.write('</div>');r.renderControl(C._getCloseButton());r.write('</div>');};return L;},true);
sap.ui.predefine('sap/m/ListItemBase.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},reveal:{changeType:"unhideControl"}},name:{singular:"LIST_ITEM_BASE_NAME",plural:"LIST_ITEM_BASE_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/MaskInput',['jquery.sap.global','./InputBase','./MaskInputRule','sap/ui/core/Control'],function(q,I,M,C){"use strict";var a=I.extend("sap.m.MaskInput",{metadata:{library:"sap.m",properties:{placeholderSymbol:{type:"string",group:"Misc",defaultValue:"_"},mask:{type:"string",group:"Misc",defaultValue:null}},aggregations:{rules:{type:"sap.m.MaskInputRule",multiple:true,singularName:"rule"}}}});var E='^';a.prototype.init=function(){I.prototype.init.call(this);this._iCaretTimeoutId=null;this._iUserInputStartPosition=null;this._iMaskLength=null;this._sOldInputValue=null;this._oRules=null;this._oTempValue=null;this._bSkipSetupMaskVariables=null;this._setDefaultRules();};a.prototype.exit=function(){this._iCaretTimeoutId=null;this._iUserInputStartPosition=null;this._iMaskLength=null;this._sOldInputValue=null;this._oRules=null;this._oTempValue=null;this._bSkipSetupMaskVariables=null;};a.prototype.onBeforeRendering=function(){var v=this._validateDependencies();if(v){q.sap.log.warning("Invalid mask input: "+v);}I.prototype.onBeforeRendering.apply(this,arguments);};a.prototype.onAfterRendering=function(){I.prototype.onAfterRendering.apply(this,arguments);};a.prototype.onfocusin=function(e){this._sOldInputValue=this._getInputValue();I.prototype.onfocusin.apply(this,arguments);if(!this._oTempValue.differsFromOriginal()||!this._isValidInput(this._sOldInputValue)){this._applyMask();}this._positionCaret(true);};a.prototype.onfocusout=function(e){this.bFocusoutDueRendering=this.bRenderingPhase;this.$().toggleClass("sapMFocus",false);q(document).off('.sapMIBtouchstart');if(this.bRenderingPhase){return;}this.closeValueStateMessage();this._inputCompletedHandler();};a.prototype.oninput=function(e){I.prototype.oninput.apply(this,arguments);this._applyMask();this._positionCaret(false);};a.prototype.onkeypress=function(e){this._keyPressHandler(e);};a.prototype.onkeydown=function(e){var k=this._parseKeyBoardEvent(e),B=sap.ui.Device.browser,i;i=(k.bBackspace||k.bDelete)&&B.msie&&B.version<10;if(!i){I.prototype.onkeydown.apply(this,arguments);}this._keyDownHandler(e,k);};a.prototype.onsapenter=function(e){};a.prototype.onsapfocusleave=function(e){};a.prototype.setValue=function(v){v=this.validateProperty('value',v);I.prototype.setValue.call(this,v);this._sOldInputValue=v;if(!this._oTempValue){this._setupMaskVariables();}if(this._oTempValue._aInitial.join('')!==v&&v.length){this._applyRules(v);}return this;};a.prototype.addAggregation=function(A,o,s){if(A==="rules"){if(!this._validateRegexAgainstPlaceHolderSymbol(o)){return this;}this._removeRuleWithSymbol(o.getMaskFormatSymbol());C.prototype.addAggregation.apply(this,arguments);if(!this._bSkipSetupMaskVariables){this._setupMaskVariables();}return this;}return C.prototype.addAggregation.apply(this,arguments);};a.prototype.insertAggregation=function(A,o,i,s){if(A==="rules"){if(!this._validateRegexAgainstPlaceHolderSymbol(o)){return this;}this._removeRuleWithSymbol(o.getMaskFormatSymbol());C.prototype.insertAggregation.apply(this,arguments);this._setupMaskVariables();return this;}return C.prototype.insertAggregation.apply(this,arguments);};a.prototype._validateRegexAgainstPlaceHolderSymbol=function(r){if(new RegExp(r.getRegex()).test(this.getPlaceholderSymbol())){q.sap.log.error("Rejecting input mask rule because it includes the currently set placeholder symbol.");return false;}return true;};a.prototype.setPlaceholderSymbol=function(s){var S;if(!/^.$/i.test(s)){q.sap.log.error("Invalid placeholder symbol string given");return this;}S=this.getRules().some(function(r){return new RegExp(r.getRegex()).test(s);});if(S){q.sap.log.error("Rejecting placeholder symbol because it is included as a regex in an existing mask input rule.");}else{this.setProperty("placeholderSymbol",s);this._setupMaskVariables();}return this;};a.prototype.setMask=function(m){if(!m){var e="Setting an empty mask is pointless. Make sure you set it with a non-empty value.";q.sap.log.warning(e);return this;}this.setProperty("mask",m,true);this._setupMaskVariables();return this;};a.prototype._isCharAllowed=function(c,i){return this._oRules.applyCharAt(c,i);};a.prototype._feedReplaceChar=function(c,p,s){return c;};var b=function(c){this._aInitial=c.slice(0);this._aContent=c;};b.prototype.setCharAt=function(c,p){this._aContent[p]=c;};b.prototype.charAt=function(p){return this._aContent[p];};b.prototype.toString=function(){return this._aContent.join('');};b.prototype.differsFromOriginal=function(){return this.differsFrom(this._aInitial);};b.prototype.differsFrom=function(v){var i=0;if(v.length!==this._aContent.length){return true;}for(;i<v.length;i++){if(v[i]!==this._aContent[i]){return true;}}return false;};b.prototype.getSize=function(){return this._aContent.length;};var T=function(r){this._aRules=r;};T.prototype.nextTo=function(c){if(typeof c==="undefined"){c=-1;}do{c++;}while(c<this._aRules.length&&!this._aRules[c]);return c;};T.prototype.previousTo=function(c){do{c--;}while(!this._aRules[c]&&c>0);return c;};T.prototype.hasRuleAt=function(i){return!!this._aRules[i];};T.prototype.applyCharAt=function(c,i){return this._aRules[i].test(c);};a.prototype._setDefaultRules=function(){this._bSkipSetupMaskVariables=true;this.addRule(new sap.m.MaskInputRule({maskFormatSymbol:"a",regex:"[A-Za-z]"}),true);this.addRule(new sap.m.MaskInputRule({maskFormatSymbol:"9",regex:"[0-9]"}),true);this._bSkipSetupMaskVariables=false;};a.prototype._validateDependencies=function(){var p=this.getPlaceholderSymbol(),r=this.getRules(),m=[],e=[];if(!this.getMask()){e.push("Empty mask");}if(r.length){m=[];r.every(function(R){var s=R.getMaskFormatSymbol(),c=s!==p,d;d=!m.some(function(S){return s===S;});m.push(s);if(!c){e.push("Placeholder symbol is the  same as the existing rule's mask format symbol");}if(!d){e.push("Duplicated rule's maskFormatSymbol ["+s+"]");}return c&&d;});}return e.length?e.join(". "):null;};a.prototype._removeRuleWithSymbol=function(s){var S=this._findRuleBySymbol(s,this.getRules());if(S){this.removeAggregation('rules',S.oRule);S.oRule.destroy();}};a.prototype._findRuleBySymbol=function(m,r){var R=null;if(typeof m!=="string"||m.length!==1){q.sap.log.error(m+" is not a valid mask rule symbol");return null;}q.each(r,function(i,o){if(o.getMaskFormatSymbol()===m){R={oRule:o,iIndex:i};return false;}});return R;};a.prototype._getTextSelection=function(){var _=q(this.getFocusDomRef());if(!_&&(_.length===0||_.is(":hidden"))){return;}return{iFrom:_[0].selectionStart,iTo:_[0].selectionEnd,bHasSelection:(_[0].selectionEnd-_[0].selectionStart!==0)};};a.prototype._setCursorPosition=function(p){return q(this.getFocusDomRef()).cursorPos(p);};a.prototype._getCursorPosition=function(){return q(this.getFocusDomRef()).cursorPos();};a.prototype._setupMaskVariables=function(){var r=this.getRules(),m=this.getMask(),s=this._getSkipIndexes(m),c=this._getMaskArray(m,s),p=this.getPlaceholderSymbol(),i=this._buildMaskValueArray(c,p,r,s),t=this._buildRules(c,r,s);this._oTempValue=new b(i);this._iMaskLength=t.length;this._oRules=new T(t);this._iUserInputStartPosition=this._oRules.nextTo();};a.prototype._getMaskArray=function(m,s){var l=Array.isArray(s)?s.length:0,c=(m)?m.split(""):[],i;for(i=0;i<l;i++){c.splice(s[i],1);}return c;};a.prototype._getSkipIndexes=function(m){var l=(m)?m.length:0,i,s=[],p=0,L=false;for(i=0;i<l;i++){if(m[i]===E&&!L){s.push(i-p);L=true;p++;}else{L=false;}}return s;};a.prototype._applyMask=function(){var m=this._getInputValue();if(!this.getEditable()){return;}this._applyAndUpdate(m);};a.prototype._resetTempValue=function(f,t){var i,p=this.getPlaceholderSymbol();if(typeof f==="undefined"||f===null){f=0;t=this._oTempValue.getSize()-1;}for(i=f;i<=t;i++){if(this._oRules.hasRuleAt(i)){this._oTempValue.setCharAt(p,i);}}};a.prototype._applyAndUpdate=function(m){this._applyRules(m);this.updateDomValue(this._oTempValue.toString());};a.prototype._findFirstPlaceholderPosition=function(){return this._oTempValue.toString().indexOf(this.getPlaceholderSymbol());};a.prototype._applyRules=function(i){var c,d=0,m,p=this.getPlaceholderSymbol(),e;for(m=0;m<this._iMaskLength;m++){if(this._oRules.hasRuleAt(m)){this._oTempValue.setCharAt(p,m);e=false;if(i.length){do{c=i.charAt(d);d++;if(this._oRules.applyCharAt(c,m)){this._oTempValue.setCharAt(c,m);e=true;}}while(!e&&(d<i.length));}if(!e){this._resetTempValue(m+1,this._iMaskLength-1);break;}}else{if(this._oTempValue.charAt(m)===i.charAt(d)){d++;}}}};a.prototype._keyPressHandler=function(e){if(!this.getEditable()){return;}var s=this._getTextSelection(),p,c,k=this._parseKeyBoardEvent(e);if(k.bCtrlKey||k.bAltKey||k.bMetaKey||k.bBeforeSpace){return;}if(!k.bEnter&&!k.bShiftLeftOrRightArrow&&!k.bHome&&!k.bEnd&&!(k.bShift&&k.bDelete)&&!(k.bCtrlKey&&k.bInsert)&&!(k.bShift&&k.bInsert)){if(s.bHasSelection){this._resetTempValue(s.iFrom,s.iTo-1);this.updateDomValue(this._oTempValue.toString());this._setCursorPosition(Math.max(this._iUserInputStartPosition,s.iFrom));}p=this._oRules.nextTo(s.iFrom-1);if(p<this._iMaskLength){c=this._feedReplaceChar(k.sChar,p,this._getInputValue());this._feedNextString(c,p);}e.preventDefault();}};a.prototype.oncut=function(e){var s=this._getTextSelection(),m=this._getMinBrowserDelay(),B=s.iFrom,i=s.iTo;I.prototype.oncut(e);if(!s.bHasSelection){return;}i=i-1;this._resetTempValue(B,i);q.sap.delayedCall(m,this,function updateDomAndCursor(v,p,o){this._oTempValue._aContent=o;this.updateDomValue(v);q.sap.delayedCall(m,this,this._setCursorPosition,[p]);},[this._oTempValue.toString(),Math.max(this._iUserInputStartPosition,B),this._oTempValue._aContent.slice(0)]);};a.prototype._keyDownHandler=function(e,k){var d,s,B,i,c,n,k=k||this._parseKeyBoardEvent(e);if(!this.getEditable()){return;}if(!k.bShift&&(k.bArrowRight||k.bArrowLeft)){c=this._getCursorPosition();s=this._getTextSelection();d=this._determineArrowKeyDirection(k,s);if(this._isRtlMode()&&s.bHasSelection){n=this._determineRtlCaretPositionFromSelection(d);}else{n=this._oRules[d](c);}if(this._isWebkitProblematicCase()){n=this._fixWebkitBorderPositions(n,d);}this._setCursorPosition(n);e.preventDefault();}else if(k.bEscape){this._applyAndUpdate(this._sOldInputValue);this._positionCaret(true);e.preventDefault();}else if(k.bEnter){this._inputCompletedHandler(e);}else if((k.bCtrlKey&&k.bInsert)||(k.bShift&&k.bInsert)){I.prototype.onkeydown.apply(this,arguments);}else if((!k.bShift&&k.bDelete)||k.bBackspace){s=this._getTextSelection();B=s.iFrom;i=s.iTo;if(!s.bHasSelection){if(k.bBackspace){B=this._oRules.previousTo(B);}}if(k.bBackspace||(k.bDelete&&s.bHasSelection)){i=i-1;}this._resetTempValue(B,i);this.updateDomValue(this._oTempValue.toString());this._setCursorPosition(Math.max(this._iUserInputStartPosition,B));e.preventDefault();}};a.prototype._feedNextString=function(n,p){var N,A=false,c=n.split(""),s;while(c.length){s=c.splice(0,1)[0];if(this._oRules.applyCharAt(s,p)){A=true;this._oTempValue.setCharAt(s,p);p=this._oRules.nextTo(p);}}if(A){N=p;this.updateDomValue(this._oTempValue.toString());this._setCursorPosition(N);}};a.prototype._inputCompletedHandler=function(){var n=this._getInputValue(),t,v,e,c;if(this._oTempValue.differsFrom(n)){this._applyAndUpdate(n);}t=this._oTempValue.differsFromOriginal();v=t?this._oTempValue.toString():"";e=!this._sOldInputValue;c=!n;if(e&&(c||!t)){this.updateDomValue("");return;}if(this._sOldInputValue!==this._oTempValue.toString()){I.prototype.setValue.call(this,v);this._sOldInputValue=v;if(this.onChange&&!this.onChange({value:v})){this.fireChangeEvent(v);}}};a.prototype._buildMaskValueArray=function(m,p,r,s){return m.map(function(c,i){var n=s.indexOf(i)===-1,R=this._findRuleBySymbol(c,r);return(n&&R)?p:c;},this);};a.prototype._buildRules=function(m,r,s){var t=[],S,l=m.length,i=0;for(;i<l;i++){if(s.indexOf(i)===-1){S=this._findRuleBySymbol(m[i],r);t.push(S?new RegExp(S.oRule.getRegex()):null);}else{t.push(null);}}return t;};a.prototype._parseKeyBoardEvent=function(e){var p=e.which||e.keyCode,k=q.sap.KeyCodes,A=p===k.ARROW_RIGHT,c=p===k.ARROW_LEFT,s=e.shiftKey;return{iCode:p,sChar:String.fromCharCode(p),bCtrlKey:e.ctrlKey,bAltKey:e.altKey,bMetaKey:e.metaKey,bShift:s,bInsert:p===q.sap.KeyCodes.INSERT,bBackspace:p===k.BACKSPACE,bDelete:p===k.DELETE,bEscape:p===k.ESCAPE,bEnter:p===k.ENTER,bIphoneEscape:(sap.ui.Device.system.phone&&sap.ui.Device.os.ios&&p===127),bArrowRight:A,bArrowLeft:c,bHome:p===q.sap.KeyCodes.HOME,bEnd:p===q.sap.KeyCodes.END,bShiftLeftOrRightArrow:s&&(c||A),bBeforeSpace:p<k.SPACE};};a.prototype._positionCaret=function(s){var m=this.getMask(),i=this._getMinBrowserDelay(),e;clearTimeout(this._iCaretTimeoutId);e=this._findFirstPlaceholderPosition();if(e<0){e=m.length;}this._iCaretTimeoutId=q.sap.delayedCall(i,this,function(){if(this.getFocusDomRef()!==document.activeElement){return;}if(s&&(e===(m.length))){this.selectText(0,e);}else{this._setCursorPosition(e);}});};a.prototype._getMinBrowserDelay=function(){return!sap.ui.Device.browser.msie?4:50;};a.prototype._isValidInput=function(s){var l=s.length,i=0,c;for(;i<l;i++){c=s[i];if(this._oRules.hasRuleAt(i)&&(!this._oRules.applyCharAt(c,i)&&c!==this.getPlaceholderSymbol())){return false;}if(!this._oRules.hasRuleAt(i)&&c!==this._oTempValue.charAt(i)){return false;}}return true;};a.prototype._isRtlChar=function(s){var l='A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02B8\u0300-\u0590\u0800-\u1FFF'+'\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF',r='\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC',c=new RegExp('^[^'+l+']*['+r+']');return c.test(s);};a.prototype._fixWebkitBorderPositions=function(c,d){var t=this._oTempValue.toString().length;if(d==='nextTo'){if(c===0||c===t||c===1){c=0;}else if(c===t+1){c=1;}}else{if(c===0||c===t-1){c=t;}else if(c===-1||c===t){c=t-1;}}return c;};a.prototype._containsRtlChars=function(){var t=this._oTempValue.toString(),c=false;for(var i=0;i<t.length;i++){c=this._isRtlChar(t[i]);}return c;};a.prototype._isRtlMode=function(){return sap.ui.getCore().getConfiguration().getRTL()||(this.getTextDirection()===sap.ui.core.TextDirection.RTL);};a.prototype._isWebkitProblematicCase=function(){return(sap.ui.Device.browser.webkit&&this._isRtlMode()&&!this._containsRtlChars());};a.prototype._determineArrowKeyDirection=function(k,s){var d;if(!this._isRtlMode()||!this._containsRtlChars()||s.bHasSelection){if(k.bArrowRight){d='nextTo';}else{d='previousTo';}}else{if(k.bArrowRight){d='previousTo';}else{d='nextTo';}}return d;};a.prototype._determineRtlCaretPositionFromSelection=function(d,w){var n,s=this._getTextSelection();if(w){if(d==='nextTo'){if(!this._containsRtlChars()){n=s.iFrom;}else{n=s.iTo;}}else{if(!this._containsRtlChars()){n=s.iTo;}else{n=s.iFrom;}}}else{if(d==='nextTo'){if(!this._containsRtlChars()){n=s.iTo;}else{n=s.iFrom;}}else{if(!this._containsRtlChars()){n=s.iFrom;}else{n=s.iTo;}}}return n;};return a;},true);
sap.ui.predefine('sap/m/MaskInputRenderer',['sap/ui/core/Renderer','./InputBaseRenderer'],function(R,I){"use strict";var M=R.extend(I);M.getLabelledByAnnouncement=function(c){var m=c.getMask(),p=c.getPlaceholder()||"",t=c.getTooltip_AsString()||"",r,s,a="";if(m&&m.length){r=sap.ui.getCore().getLibraryResourceBundle("sap.m");s=r.getText("MASKINPUT_SCREENREADER_TAG");if(t){t=" "+t+" ";}if(p){p=" "+p+" ";}a=s+p+t;return a;}return I.getLabelledByAnnouncement.apply(this,arguments);};M.getDescribedByAnnouncement=function(c){var m=c.getMask(),s=c.getPlaceholderSymbol(),r,a="";if(m.length&&s){r=sap.ui.getCore().getLibraryResourceBundle("sap.m");a=r.getText("MASKINPUT_SCREENREADER_DESCRIPTION",[s,m]);return jQuery.trim(a);}return I.getDescribedByAnnouncement.apply(this,arguments);};return M;},true);
sap.ui.predefine('sap/m/MaskInputRule',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";var M=E.extend("sap.m.MaskInputRule",{metadata:{library:"sap.m",properties:{maskFormatSymbol:{type:"string",group:"Misc",defaultValue:"*"},regex:{type:"string",group:"Misc",defaultValue:"[a-zA-Z0-9]"}}}});M.prototype.setMaskFormatSymbol=function(n){var i=v.call(this,n);if(i){this.setProperty("maskFormatSymbol",n);}return this;};M.prototype.setRegex=function(n){var i=a.call(this,n);if(i){this.setProperty("regex",n);}return this;};M.prototype.toString=function(){return this.getMaskFormatSymbol()+":"+this.getRegex();};function v(n){if(/^.$/i.test(n)){return true;}q.sap.log.error("The mask format symbol '"+n+"' is not valid");return false;}function a(r){if(/.+/i.test(r)){return true;}q.sap.log.error("The regex value '"+r+"' is not valid");return false;}return M;},true);
sap.ui.predefine('sap/m/Menu',['jquery.sap.global','./library','sap/ui/core/Control','./Button','./Dialog','./NavContainer','./List','./Page','./MenuListItem','sap/ui/unified/Menu','sap/ui/Device','sap/ui/core/EnabledPropagator'],function(q,l,C,B,D,N,L,P,M,U,a,E){"use strict";var b=C.extend("sap.m.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.MenuItem",multiple:true,singularName:"item",bindable:"bindable"},_dialog:{type:"sap.m.Dialog",multiple:false,visibility:"hidden"},_menu:{type:"sap.ui.unified.Menu",multiple:false,visibility:"hidden"}},events:{itemSelected:{parameters:{item:{type:"sap.m.MenuItem"}}},closed:{}}}});E.call(b.prototype);b.UNIFIED_MENU_ITEMS_ID_SUFFIX='-unifiedmenu';b.LIST_ITEMS_ID_SUFFIX='-menuinnerlist';b.prototype.init=function(){if(a.system.phone){this._initDialog();}this._bIsInitialized=false;};b.prototype.exit=function(){if(this._navContainerId){this._navContainerId=null;}if(this._bIsInitialized){this._bIsInitialized=null;}if(this._getMenu()&&this._getMenu().getPopup()){this._getMenu().getPopup().detachClosed(this._menuClosed,this);}};b.prototype.invalidate=function(){};b.prototype.setTitle=function(t){var n=this._getNavContainer();this.setProperty("title",t,true);if(n&&n.getPages().length){n.getPages()[0].setTitle(t);}return this;};b.prototype.openBy=function(o,w){if(a.system.phone){this._openDialog();}else{if(!this._bIsInitialized){this._initAllMenuItems();this._bIsInitialized=true;}var e=sap.ui.core.Popup.Dock;this._getMenu().open(w,o,e.BeginTop,e.BeginBottom,o,"0 -2");}};b.prototype.close=function(){if(sap.ui.Device.system.phone){this._getDialog().close();}else{this._getVisualParent().close();}};b.prototype._initDialog=function(){var d=new D({showHeader:false,stretch:true,content:this._initNavContainer(),buttons:[this._initCloseButton()]});d.addStyleClass("sapMRespMenuDialog");this.setAggregation("_dialog",d,true);};b.prototype._getDialog=function(){return this.getAggregation("_dialog");};b.prototype._openDialog=function(){if(!this._bIsInitialized){this._initAllPages();this._bIsInitialized=true;}this._getNavContainer().to(this._getNavContainer().getPages()[0]);this._getDialog().open();};b.prototype._initAllMenuItems=function(){this._initMenuForItems(this.getItems());};b.prototype._initMenuForItems=function(i,p){var m=new U();m.isCozy=this._isMenuCozy.bind(this,m);m.addStyleClass('sapMMenu');i.forEach(function(I){this._addVisualMenuItemFromItem(I,m);}.bind(this));if(p){p.setSubmenu(m);}else{m.getPopup().attachClosed(this._menuClosed,this);this.setAggregation('_menu',m,true);}m.attachItemSelect(this._handleMenuItemSelect,this);};b.prototype._menuClosed=function(){this.fireClosed();};b.prototype._getMenu=function(){return this.getAggregation("_menu");};b.prototype._initCloseButton=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");return new B({text:r.getText("MENU_CLOSE"),press:f.bind(this)});};function f(){this._getDialog().close();}b.prototype._initNavContainer=function(){var n=new N();this._navContainerId=n.getId();return n;};b.prototype._getNavContainer=function(){return sap.ui.getCore().byId(this._navContainerId);};b.prototype._initAllPages=function(){this._initPageForParent(this);};b.prototype._initPageForParent=function(p){var i=p.getItems(),d=p instanceof sap.m.Menu,s=d?p.getTitle():p.getText(),o=new L({mode:sap.m.ListMode.None}),e=new P({title:s,showNavButton:!d,content:o});if(!d){this._setBackButtonTooltipForPageWithParent(p,e);}e.attachNavButtonPress(function(){this._getNavContainer().back();},this);this._getNavContainer().addPage(e);i.forEach(function(I){this._addListItemFromItem(I,e);},this);this._updateListInset(o);o.attachEvent("itemPress",this._handleListItemPress,this);return e;};b.prototype._handleListItemPress=function(e){var o=e.getParameter("listItem"),m=sap.ui.getCore().byId(o.getMenuItem()),p=m._getVisualChild();if(p){this._getNavContainer().to(p);}else{this._getDialog().close();this.fireItemSelected({item:m});}};b.prototype._setBackButtonTooltipForPageWithParent=function(p,o){var d=p.getParent(),r=sap.ui.getCore().getLibraryResourceBundle("sap.m"),s;s=d instanceof sap.m.Menu?d.getTitle():d.getText();s=r.getText("MENU_PAGE_BACK_BUTTON")+" "+s;o.setNavButtonTooltip(s);};b.prototype._createMenuListItemFromItem=function(i){return new M({id:this._generateListItemId(i.getId()),type:sap.m.ListType.Active,icon:i.getIcon(),title:i.getText(),startsSection:i.getStartsSection(),menuItem:i,tooltip:i.getTooltip()});};b.prototype._createVisualMenuItemFromItem=function(i){return new sap.ui.unified.MenuItem({id:this._generateUnifiedMenuItemId(i.getId()),icon:i.getIcon(),text:i.getText(),startsSection:i.getStartsSection(),tooltip:i.getTooltip(),visible:i.getVisible(),enabled:i.getEnabled()});};b.prototype._addVisualMenuItemFromItem=function(i,m,I){var o=this._createVisualMenuItemFromItem(i);i._setVisualParent(m);i._setVisualControl(o);var e=['aggregationChanged','propertyChanged'];e.forEach(function(s){var d='_on'+s.slice(0,1).toUpperCase()+s.slice(1);i.attachEvent(s,this[d],this);},this);if(i.getItems().length!==0){this._initMenuForItems(i.getItems(),o);i._setVisualChild(i.getItems()[0]._getVisualParent());}if(I===undefined){m.addItem(o);}else{m.insertItem(o,I);}};b.prototype._addListItemFromItem=function(i,p,I){var m=this._createMenuListItemFromItem(i),o=p.getContent()[0];i._setVisualParent(p);i._setVisualControl(m);var e=['aggregationChanged','propertyChanged'];e.forEach(function(s){var d='_on'+s.slice(0,1).toUpperCase()+s.slice(1);i.attachEvent(s,this[d],this);},this);if(i.getItems().length!==0){this._initPageForParent(i);i._setVisualChild(i.getItems()[0]._getVisualParent());}if(I===undefined){o.addItem(m);}else{o.insertItem(m,I);}o.rerender();};b.prototype._addVisualItemFromItem=function(i,o,I){if(!o){return;}if(a.system.phone){this._addListItemFromItem(i,o,I);var d=o.getContent()[0];this._updateListInset(d);}else{this._addVisualMenuItemFromItem(i,o,I);}};b.prototype._updateListInset=function(o){var h=false,I="sapMListIcons",d=o.getItems();for(var i=0;i<d.length;i++){if(d[i].getIcon()){h=true;break;}}if(h){o.addStyleClass(I);}else{o.removeStyleClass(I);}};b.prototype._handleMenuItemSelect=function(e){var u=e.getParameter("item"),m;if(!u){return;}m=this._findMenuItemByUnfdMenuItem(u);if(m&&!m.getItems().length){this.fireItemSelected({item:m});}};b.prototype._generateListItemId=function(m){return m+b.LIST_ITEMS_ID_SUFFIX;};b.prototype._generateUnifiedMenuItemId=function(m){return m+b.UNIFIED_MENU_ITEMS_ID_SUFFIX;};b.prototype._findMenuItemByUnfdMenuItem=function(u){var d=[],o=u,I,e,i;do{d.push(o.getId());o=o.getParent().getParent();}while(o instanceof sap.ui.unified.MenuItem);I=this.getItems();do{e=d.pop();for(i=0;i<I.length;i++){if(I[i]._getVisualControl()===e){if(d.length===0){return I[i];}else{I=I[i].getItems();break;}}}}while(d.length);return null;};b.prototype._isMenuCozy=function(m){if(!m.bCozySupported){return false;}if(m.hasStyleClass("sapUiSizeCozy")){return true;}if(c(m.oOpenerRef)){return true;}return false;};function c(r){if(!r){return false;}r=r.$?r.$():q(r);var $=r.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy");return(!$.hasClass("sapUiSizeCompact")&&!$.hasClass("sapUiSizeCondensed"))||$.hasClass("sapUiSizeCozy");}b.prototype.addAggregation=function(A,o,s){C.prototype.addAggregation.apply(this,arguments);if(A==="items"){this._addVisualItemFromItem(o,this._getVisualParent());}return this;};b.prototype.insertAggregation=function(A,o,i,s){C.prototype.insertAggregation.apply(this,arguments);if(A==="items"){this._addVisualItemFromItem(o,this._getVisualParent(),i);}return this;};b.prototype.removeAggregation=function(A,o,s){var i=C.prototype.removeAggregation.apply(this,arguments);if(A==="items"){this._removeVisualItem(i);}return i;};b.prototype.removeAllAggregation=function(A,s){var I=C.prototype.removeAllAggregation.apply(this,arguments);if(A==="items"){for(var i=0;i<I.length;i++){this._removeVisualItem(I[i]);}}return I;};b.prototype._removeVisualItem=function(i,p){var v=sap.ui.getCore().byId(i._getVisualControl()),m,o;if(v){m=v.getParent();m.removeItem(v);if(a.system.phone){this._removeSubPageForItem(i);if(m.getItems().length===0){o=sap.ui.getCore().byId(i._getVisualParent());this._getNavContainer().removePage(o);o.destroy();if(p){p._setVisualChild(null);sap.ui.getCore().byId(p._getVisualControl()).rerender();}}if(m){m.rerender();}}v.destroy();}};b.prototype.destroyAggregation=function(A,s){if(A==="items"){for(var i=0;i<this.getItems().length;i++){this._removeVisualItem(this.getItems()[i]);}}return C.prototype.destroyAggregation.apply(this,arguments);};b.prototype._removeSubPageForItem=function(I,s){var S;if(!s){for(var i=0;i<I.getItems().length;i++){this._removeSubPageForItem(I.getItems()[i]);}}if(I._getVisualChild()){S=sap.ui.getCore().byId(I._getVisualChild());if(this._getNavContainer()&&S){this._getNavContainer().removePage(S);}!!S&&S.destroy();}};b.prototype._getVisualParent=function(){var n=this._getNavContainer(),m=this._getMenu();if(n&&n.getPages().length){return n.getPages()[0];}else{return m;}};b.prototype._onPropertyChanged=function(e){var p=e.getParameter("propertyKey"),o=e.getParameter("propertyValue");if(a.system.phone){if(p==='text'){p='title';}var s=this._generateListItemId(e.getSource().getId());!!s&&sap.ui.getCore().byId(s).setProperty(p,o);if(this._getDialog().isOpen()){this._getDialog().close();}}else{var u=this._generateUnifiedMenuItemId(e.getSource().getId());!!u&&sap.ui.getCore().byId(u).setProperty(p,o);}};b.prototype._onAggregationChanged=function(e){var A=e.getParameter("aggregationName");switch(A){case'items':this._onItemsAggregationChanged(e);break;}};b.prototype._onItemsAggregationChanged=function(e){var I=e.getSource(),m=e.getParameter("methodName"),d=e.getParameter("methodParams"),g;if(m==="add"||m==="insert"){if(m==="insert"){g=d.index;}this._addOrInsertItem(I,d.item,g);}if(m==="remove"){this._removeVisualItem(d.item,I);}if(m==="removeall"){for(var i=0;i<d.items.length;i++){this._removeVisualItem(d.items[i],I);}}if(m==="destroy"){this._destroyItem(I);}};b.prototype._addOrInsertItem=function(p,n,i){var o;if(p._getVisualChild()){this._addVisualItemFromItem(n,sap.ui.getCore().byId(p._getVisualChild()),i);}else{if(a.system.phone){this._initPageForParent(p);p._setVisualChild(p.getItems()[0]._getVisualParent());o=sap.ui.getCore().byId(p._getVisualControl());o.rerender();}else{this._initMenuForItems(p.getItems(),sap.ui.getCore().byId(p._getVisualControl()));p._setVisualChild(p.getItems()[0]._getVisualParent());}}};b.prototype._destroyItem=function(i){var v=sap.ui.getCore().byId(i._getVisualControl());if(v&&v.setMenuItem){v.setMenuItem(null);}this._removeSubPageForItem(i,true);i._setVisualChild(null);if(v&&v.setMenuItem){v.rerender();v.setMenuItem(i);}};b.prototype.getDomRefId=function(){if(a.system.phone){return this._getDialog().getId();}else{return this._getMenu().getId();}};b.prototype.openAsContextMenu=function(e,o){if(a.system.phone){this._openDialog();}else{if(!this._bIsInitialized){this._initAllMenuItems();this._bIsInitialized=true;}this._getMenu().openAsContextMenu(e,o);}};return b;},true);
sap.ui.predefine('sap/m/MenuButton',['jquery.sap.global','./library','sap/ui/core/Control','./Button','./SplitButton','./Dialog','sap/ui/Device','sap/ui/core/EnabledPropagator'],function(q,l,C,B,S,D,a,E){"use strict";var M=C.extend("sap.m.MenuButton",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.m.ButtonType",group:"Appearance",defaultValue:sap.m.ButtonType.Default},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},buttonMode:{type:"sap.m.MenuButtonMode",group:"Misc",defaultValue:sap.m.MenuButtonMode.Regular},useDefaultActionOnly:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{menu:{type:"sap.m.Menu",multiple:false,singularName:"menu"},_button:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{defaultAction:{}},defaultAggregation:"menu"}});E.call(M.prototype);M.prototype.init=function(){this._initButtonControl();};M.prototype.exit=function(){if(this._sDefaultText){this._sDefaultText=null;}if(this._sDefaultIcon){this._sDefaultIcon=null;}if(this._iInitialWidth){this._iInitialWidth=null;}if(this._lastActionItemId){this._lastActionItemId=null;}if(this.getMenu()){this.getMenu().detachClosed(this._menuClosed,this);}};M.prototype.onBeforeRendering=function(){if(!this._sDefaultText){this._sDefaultText=this.getText();}if(!this._sDefaultIcon){this._sDefaultIcon=this.getIcon();}this._updateButtonControl();this._attachMenuEvents();};M.prototype.onAfterRendering=function(){q.sap.delayedCall(0,this,"_setInitialBtnWidth");this._setAriaHasPopup();};M.prototype._setInitialBtnWidth=function(){if(this._isSplitButton()&&!this._iInitialWidth){this._iInitialWidth=this.$().outerWidth()+1;}};M.prototype._setAriaHasPopup=function(){if(this._isSplitButton()){this._getButtonControl()._getArrowButton().$().attr("aria-haspopup","true");}else{this._getButtonControl().$().attr("aria-haspopup","true");}};M.prototype.setButtonMode=function(m){var t=this.getTooltip();C.prototype.setProperty.call(this,"buttonMode",m,true);this._getButtonControl().destroy();this._initButtonControl();for(var k in this.mProperties){if(this.mProperties.hasOwnProperty(k)&&k!=="buttonMode"&&k!=="useDefaultActionOnly"&&k!=="width"){this._getButtonControl().setProperty(k,this.mProperties[k],true);}}if(t){this._getButtonControl().setTooltip(t);}if(!this._isSplitButton()&&this._sDefaultText){this.setText(this._sDefaultText);}else if(!this.getUseDefaultActionOnly()&&this._getLastSelectedItem()){this.setText(sap.ui.getCore().byId(this._getLastSelectedItem()).getText());}if(!this._isSplitButton()&&this._sDefaultIcon){this.setIcon(this._sDefaultIcon);}else if(!this.getUseDefaultActionOnly()&&this._getLastSelectedItem()){this.setIcon(sap.ui.getCore().byId(this._getLastSelectedItem()).getIcon());}this.invalidate();return this;};M.prototype._initButton=function(){var b=new B({width:"100%"});b.attachPress(this._handleButtonPress,this);return b;};M.prototype._initSplitButton=function(){var b=new S({width:"100%"});b.attachPress(this._handleActionPress,this);b.attachArrowPress(this._handleButtonPress,this);return b;};M.prototype._initButtonControl=function(){var b;if(this._isSplitButton()){b=this._initSplitButton();}else{b=this._initButton();}this.setAggregation("_button",b,true);};M.prototype._updateButtonControl=function(){this._getButtonControl().setText(this.getText());};M.prototype._getButtonControl=function(){return this.getAggregation("_button");};M.prototype._handleButtonPress=function(w){var m=this.getMenu();if(!m){return;}if(!m.getTitle()){m.setTitle(this.getText());}m.openBy(this,w);this._writeAriaAttributes();if(this._isSplitButton()&&!a.system.phone){this._getButtonControl().setArrowState(true);}};M.prototype._handleActionPress=function(){var L=this._getLastSelectedItem(),o;if(!this.getUseDefaultActionOnly()&&L){o=sap.ui.getCore().byId(L);this.getMenu().fireItemSelected({item:o});}else{this.fireDefaultAction();}};M.prototype._menuClosed=function(){if(this._isSplitButton()){this._getButtonControl().setArrowState(false);}};M.prototype._menuItemSelected=function(e){var m=e.getParameter("item");if(!this._isSplitButton()||this.getUseDefaultActionOnly()||!m){return;}this._lastActionItemId=m.getId();!!this._sDefaultText&&this.setText(m.getText());!!this._sDefaultIcon&&this.setIcon(m.getIcon());};M.prototype._getLastSelectedItem=function(){return this._lastActionItemId;};M.prototype._attachMenuEvents=function(){if(this.getMenu()){this.getMenu().attachClosed(this._menuClosed,this);this.getMenu().attachItemSelected(this._menuItemSelected,this);}};M.prototype._isSplitButton=function(){return this.getButtonMode()===sap.m.MenuButtonMode.Split;};M.prototype.setProperty=function(p,v,s){function i(t){var T=[sap.m.ButtonType.Up,sap.m.ButtonType.Back,sap.m.ButtonType.Unstyled];return T.indexOf(t)!==-1;}if(p==="type"&&i(v)){return this;}if(p==='text'){this._sDefaultText=v;}switch(p){case'activeIcon':case'iconDensityAware':case'textDirection':this._getButtonControl().setProperty(p,v);break;}return C.prototype.setProperty.apply(this,arguments);};M.prototype.setTooltip=function(t){this._getButtonControl().setTooltip(t);return C.prototype.setTooltip.apply(this,arguments);};M.prototype.setText=function(v){B.prototype.setProperty.call(this,'text',v);this._getButtonControl().setText(v);return this;};M.prototype.setType=function(v){B.prototype.setProperty.call(this,'type',v);this._getButtonControl().setType(v);return this;};M.prototype.setIcon=function(v){B.prototype.setProperty.call(this,'icon',v);this._getButtonControl().setIcon(v);return this;};M.prototype.getFocusDomRef=function(){return this._getButtonControl().getDomRef();};M.prototype.onsapup=function(e){this.openMenuByKeyboard();};M.prototype.onsapdown=function(e){this.openMenuByKeyboard();};M.prototype.onsapupmodifiers=function(e){this.openMenuByKeyboard();};M.prototype.onsapdownmodifiers=function(e){this.openMenuByKeyboard();};M.prototype.onsapshow=function(e){this.openMenuByKeyboard();!!e&&e.preventDefault();};M.prototype.openMenuByKeyboard=function(){if(!this._isSplitButton()){this._handleButtonPress(true);}};M.prototype._writeAriaAttributes=function(){if(this.getMenu()){this.$().attr("aria-controls",this.getMenu().getDomRefId());}};return M;},true);
sap.ui.predefine('sap/m/MenuButtonRenderer',['jquery.sap.global'],function(q){"use strict";var M={};M.CSS_CLASS="sapMMenuBtn";M.render=function(r,m){var w=m.getWidth();r.write("<div");r.writeControlData(m);this.writeAriaAttributes(r,m);r.addClass(M.CSS_CLASS);r.addClass(M.CSS_CLASS+m.getButtonMode());r.writeClasses();if(w!=""||w.toLowerCase()==="auto"){r.addStyle("width",w);}else if(m._isSplitButton()&&m._iInitialWidth){r.addStyle("width",m._iInitialWidth+"px");}r.writeStyles();r.write(">");r.renderControl(m._getButtonControl());r.write("</div>");};M.writeAriaAttributes=function(r,m){r.writeAttribute("aria-haspopup","true");};return M;},true);
sap.ui.predefine('sap/m/MenuItem',['jquery.sap.global','./library','sap/ui/core/Item'],function(q,l,I){"use strict";var M=I.extend("sap.m.MenuItem",{metadata:{library:"sap.m",properties:{icon:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.MenuItem",multiple:true,singularName:"item",bindable:"bindable"}},events:{press:{},propertyChanged:{parameters:{propertyKey:{type:"string"},propertyValue:{type:"any"}}},aggregationChanged:{parameters:{aggregationName:{type:"String"},methodName:{type:"String"},methodParams:{type:"Object"}}}}}});M.prototype.exit=function(){if(this._sVisualChild){this._sVisualChild=null;}if(this._sVisualParent){this._sVisualParent=null;}if(this._sVisualControl){this._sVisualControl=null;}};M.prototype.setProperty=function(p,P){I.prototype.setProperty.apply(this,arguments);this.fireEvent("propertyChanged",{propertyKey:p,propertyValue:P});};M.prototype.addAggregation=function(a,o,s){I.prototype.addAggregation.apply(this,arguments);this.fireEvent("aggregationChanged",{aggregationName:a,methodName:"add",methodParams:{item:o}});return this;};M.prototype.insertAggregation=function(a,o,i,s){I.prototype.insertAggregation.apply(this,arguments);this.fireEvent("aggregationChanged",{aggregationName:a,methodName:"insert",methodParams:{item:o,index:i}});return this;};M.prototype.removeAggregation=function(a,o,s){var O=I.prototype.removeAggregation.apply(this,arguments);this.fireEvent("aggregationChanged",{aggregationName:a,methodName:"remove",methodParams:{item:O}});return O;};M.prototype.removeAllAggregation=function(a,s){var o=I.prototype.removeAllAggregation.apply(this,arguments);this.fireEvent("aggregationChanged",{aggregationName:a,methodName:"removeall",methodParams:{items:o}});return o;};M.prototype.destroyAggregation=function(a,s){this.fireEvent("aggregationChanged",{aggregationName:a,methodName:"destroy"});return I.prototype.destroyAggregation.apply(this,arguments);};M.prototype._setVisualChild=function(c){this._setInternalRef(c,"_sVisualChild");};M.prototype._setVisualParent=function(c){this._setInternalRef(c,"_sVisualParent");};M.prototype._setVisualControl=function(c){this._setInternalRef(c,"_sVisualControl");};M.prototype._setInternalRef=function(c,i){if(!c||typeof c==="string"){this[i]=c;}else if(c.getId){this[i]=c.getId();}};M.prototype._getVisualChild=function(){return this._sVisualChild;};M.prototype._getVisualParent=function(){return this._sVisualParent;};M.prototype._getVisualControl=function(){return this._sVisualControl;};return M;},true);
sap.ui.predefine('sap/m/MenuListItem',['jquery.sap.global','./ListItemBase','./library','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool'],function(q,L,l,E,I){"use strict";var M=L.extend("sap.m.MenuListItem",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},titleTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},associations:{menuItem:{type:"sap.m.MenuItem",multiple:false}}}});M.prototype.exit=function(){if(this._image){this._image.destroy();}if(this._imageRightArrow){this._imageRightArrow.destroy();}L.prototype.exit.apply(this,arguments);};M.prototype._getImage=function(i,s,S,b){var o=this._image;if(o){o.setSrc(S);if(o instanceof sap.m.Image){o.setDensityAware(b);}}else{o=I.createControlByURI({id:i,src:S,densityAware:b,useIconTooltip:false},sap.m.Image).setParent(this,null,true);}if(o instanceof sap.m.Image){o.addStyleClass(s,true);}else{o.addStyleClass(s+"Icon",true);}this._image=o;return this._image;};M.prototype._getIconArrowRight=function(){if(!this._imageRightArrow){this._imageRightArrow=I.createControlByURI({id:this.getId()+"-arrowRight",src:"sap-icon://slim-arrow-right",useIconTooltip:false},sap.m.Image).setParent(this,null,true);this._imageRightArrow.addStyleClass("sapMMenuLIArrowRightIcon",true);}return this._imageRightArrow;};M.prototype._hasSubItems=function(){return!!(this.getMenuItem()&&sap.ui.getCore().byId(this.getMenuItem()).getItems().length);};return M;},false);
sap.ui.predefine('sap/m/MenuListItemRenderer',['jquery.sap.global','./ListItemBaseRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var M=R.extend(L);M.openItemTag=function(r,l){if(l.getStartsSection()){r.write("<li ");r.write("role=\"separator\" ");r.write("class=\"sapUiMnuDiv\"><div class=\"sapUiMnuDivL\"></div><hr><div class=\"sapUiMnuDivR\"></div></li>");}L.openItemTag(r,l);};M.renderLIAttributes=function(r,l){r.addClass("sapMSLI");if(l.getIcon()){r.addClass("sapMSLIIcon");}if(l.getType()==sap.m.ListType.Detail||l.getType()==sap.m.ListType.DetailAndActive){r.addClass("sapMSLIDetail");}if(l._hasSubItems()){r.addClass("sapMMenuLIHasChildren");}};M.renderLIContent=function(r,l){var t=l.getTitleTextDirection();if(l.getIcon()){r.renderControl(l._getImage((l.getId()+"-img"),"sapMMenuLIImgThumb",l.getIcon(),l.getIconDensityAware()));}r.write("<div");r.addClass("sapMSLIDiv");r.addClass("sapMSLITitleDiv");r.writeClasses();r.write(">");if(l._bNoFlex){r.write('<div class="sapMLIBNoFlex">');}r.write("<div");r.addClass("sapMSLITitleOnly");r.writeClasses();if(t!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",t.toLowerCase());}r.write(">");r.writeEscaped(l.getTitle());r.write("</div>");if(l._bNoFlex){r.write('</div>');}r.write("</div>");if(l._hasSubItems()){r.renderControl(l._getIconArrowRight());}};return M;},true);
sap.ui.predefine('sap/m/MessageBox',['jquery.sap.global','./Button','./Dialog','./Text','./FormattedText','./Link','./VBox','sap/ui/core/IconPool'],function(q,B,D,T,F,L,V,I){"use strict";var M={};M.Action={OK:"OK",CANCEL:"CANCEL",YES:"YES",NO:"NO",ABORT:"ABORT",RETRY:"RETRY",IGNORE:"IGNORE",CLOSE:"CLOSE",DELETE:"DELETE"};M.Icon={NONE:undefined,INFORMATION:"INFORMATION",WARNING:"WARNING",ERROR:"ERROR",SUCCESS:"SUCCESS",QUESTION:"QUESTION"};(function(){var A=M.Action,a=M.Icon,c={"INFORMATION":"sapMMessageBoxInfo","WARNING":"sapMMessageBoxWarning","ERROR":"sapMMessageBoxError","SUCCESS":"sapMMessageBoxSuccess","QUESTION":"sapMMessageBoxQuestion","STANDARD":"sapMMessageBoxStandard"},m={"INFORMATION":I.getIconURI("message-information"),"WARNING":I.getIconURI("message-warning"),"ERROR":I.getIconURI("message-error"),"SUCCESS":I.getIconURI("message-success"),"QUESTION":I.getIconURI("question-mark")};var _=function(){if(M._rb!==sap.ui.getCore().getLibraryResourceBundle("sap.m")){M._rb=sap.ui.getCore().getLibraryResourceBundle("sap.m");}};M.show=function(v,o){var d,b,e,r=null,t=this,f=[],i,s,g,h,C,j,k,l={id:sap.ui.core.ElementMetadata.uid("mbox"),initialFocus:null,textDirection:sap.ui.core.TextDirection.Inherit,verticalScrolling:true,horizontalScrolling:true,details:"",contentWidth:null};_();if(typeof o==="string"||arguments.length>2){s=arguments[1];g=arguments[2];h=arguments[3];C=arguments[4];j=arguments[5];k=arguments[6];o={icon:s,title:g,actions:h,onClose:C,id:j,styleClass:k};}if(o&&o.hasOwnProperty("details")){l.icon=sap.m.MessageBox.Icon.INFORMATION;l.actions=[A.OK,A.CANCEL];o=q.extend({},l,o);}o=q.extend({},l,o);if(typeof o.actions!=="undefined"&&!q.isArray(o.actions)){o.actions=[o.actions];}if(!o.actions||o.actions.length===0){o.actions=[A.OK];}function n(y){var z;if(M.Action.hasOwnProperty(y)){z=t._rb.getText("MSGBOX_"+y);}var E=new B({id:sap.ui.core.ElementMetadata.uid("mbox-btn-"),text:z||y,press:function(){r=y;d.close();}});return E;}for(i=0;i<o.actions.length;i++){f.push(n(o.actions[i]));}function p(o,b){if(typeof o.details=='object'){o.details="<pre>"+JSON.stringify(o.details,null,'\t').replace(/{/gi,"\\{")+"</pre>";}var y=new F({htmlText:o.details}).setVisible(false);var S=new L({text:t._rb.getText("MSGBOX_LINK_TITLE"),press:function(){y.setVisible(true);this.setVisible(false);d._setInitialFocus();}});S.addStyleClass("sapMMessageBoxLinkText");y.addStyleClass("sapMMessageBoxDetails");return new V({items:[b,S,y]});}function u(){if(typeof o.onClose==="function"){o.onClose(r);}d.detachAfterClose(u);d.destroy();}function w(){var i=0;var y=null;if(o.initialFocus){if(o.initialFocus instanceof sap.ui.core.Control){y=o.initialFocus;}if(typeof o.initialFocus==="string"){for(i=0;i<f.length;i++){if(M.Action.hasOwnProperty(o.initialFocus)){if(t._rb.getText("MSGBOX_"+o.initialFocus).toLowerCase()===f[i].getText().toLowerCase()){y=f[i];break;}}else{if(o.initialFocus.toLowerCase()===f[i].getText().toLowerCase()){y=f[i];break;}}}}}return y;}if(typeof(v)==="string"){e=new T({textDirection:o.textDirection}).setText(v).addStyleClass("sapMMsgBoxText");b=e;}else if(v instanceof sap.ui.core.Control){e=v.addStyleClass("sapMMsgBoxText");}if(o&&o.hasOwnProperty("details")&&o.details!==""){e=p(o,e);}function x(){if(sap.ui.getCore().getConfiguration().getAccessibility()){d.$().attr("role","alertdialog");}}d=new D({id:o.id,type:sap.m.DialogType.Message,title:o.title,content:e,icon:m[o.icon],initialFocus:w(),verticalScrolling:o.verticalScrolling,horizontalScrolling:o.horizontalScrolling,afterOpen:x,afterClose:u,buttons:f,ariaLabelledBy:b?b.getId():undefined,contentWidth:o.contentWidth});if(c[o.icon]){d.addStyleClass(c[o.icon]);}else{d.addStyleClass(c.STANDARD);}if(o.styleClass){d.addStyleClass(o.styleClass);}d.open();};M.alert=function(v,o){_();var d={icon:a.NONE,title:this._rb.getText("MSGBOX_TITLE_ALERT"),actions:A.OK,id:sap.ui.core.ElementMetadata.uid("alert"),initialFocus:null},C,t,s,S;if(typeof o==="function"||arguments.length>2){C=arguments[1];t=arguments[2];s=arguments[3];S=arguments[4];o={onClose:C,title:t,id:s,styleClass:S};}o=q.extend({},d,o);return M.show(v,o);};M.confirm=function(v,o){_();var d={icon:a.QUESTION,title:this._rb.getText("MSGBOX_TITLE_CONFIRM"),actions:[A.OK,A.CANCEL],id:sap.ui.core.ElementMetadata.uid("confirm"),initialFocus:null},C,t,s,S;if(typeof o==="function"||arguments.length>2){C=arguments[1];t=arguments[2];s=arguments[3];S=arguments[4];o={onClose:C,title:t,id:s,styleClass:S};}o=q.extend({},d,o);return M.show(v,o);};M.error=function(v,o){_();var d={icon:a.ERROR,title:this._rb.getText("MSGBOX_TITLE_ERROR"),actions:[A.CLOSE],id:sap.ui.core.ElementMetadata.uid("error"),initialFocus:null};o=q.extend({},d,o);return M.show(v,o);};M.information=function(v,o){_();var d={icon:a.INFORMATION,title:this._rb.getText("MSGBOX_TITLE_INFO"),actions:[A.OK],id:sap.ui.core.ElementMetadata.uid("info"),initialFocus:null};o=q.extend({},d,o);return M.show(v,o);};M.warning=function(v,o){_();var d={icon:a.WARNING,title:this._rb.getText("MSGBOX_TITLE_WARNING"),actions:[A.OK],id:sap.ui.core.ElementMetadata.uid("warning"),initialFocus:null};o=q.extend({},d,o);return M.show(v,o);};M.success=function(v,o){_();var d={icon:a.SUCCESS,title:this._rb.getText("MSGBOX_TITLE_SUCCESS"),actions:[A.OK],id:sap.ui.core.ElementMetadata.uid("success"),initialFocus:null};o=q.extend({},d,o);return M.show(v,o);};}());return M;},true);
sap.ui.predefine('sap/m/MessagePage',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool'],function(q,l,C,I){"use strict";var M=C.extend("sap.m.MessagePage",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:"No matching items found."},description:{type:"string",group:"Misc",defaultValue:"Check the filter settings."},title:{type:"string",group:"Misc",defaultValue:null},showHeader:{type:"boolean",group:"Appearance",defaultValue:true},showNavButton:{type:"boolean",group:"Appearance",defaultValue:false},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:"sap-icon://documents"},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit}},aggregations:{customText:{type:"sap.m.Link",multiple:false},customDescription:{type:"sap.m.Link",multiple:false},_page:{type:"sap.m.Page",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{navButtonPress:{}}}});M.prototype.init=function(){var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");this.setAggregation("_page",new sap.m.Page({id:this.getId()+"-page",showHeader:this.getShowHeader(),navButtonPress:q.proxy(function(){this.fireNavButtonPress();},this)}));this.setProperty("text",b.getText("MESSAGE_PAGE_TEXT"),true);this.setProperty("description",b.getText("MESSAGE_PAGE_DESCRIPTION"),true);};M.prototype.onBeforeRendering=function(){if(!(this._oText&&this._oDescription)){this._addPageContent();}};M.prototype.exit=function(){var p=this.getAggregation("_page");if(p){p.destroy();p=null;}if(this._oText){this._oText=null;}if(this._oDescription){this._oDescription=null;}if(this._oIconControl){this._oIconControl=null;}};M.prototype.setTitle=function(t){this.setProperty("title",t,true);this.getAggregation("_page").setTitle(t);return this;};M.prototype.setText=function(t){this.setProperty("text",t,true);this._oText&&this._oText.setText(t);return this;};M.prototype.setDescription=function(d){this.setProperty("description",d,true);this._oDescription&&this._oDescription.setText(d);return this;};M.prototype.setShowHeader=function(s){this.setProperty("showHeader",s,true);this.getAggregation("_page").setShowHeader(s);return this;};M.prototype.setShowNavButton=function(s){this.setProperty("showNavButton",s,true);this.getAggregation("_page").setShowNavButton(s);return this;};M.prototype.setTextDirection=function(t){this.setProperty("textDirection",t,true);this._oText&&this._oText.setTextDirection(t);this._oDescription&&this._oDescription.setTextDirection(t);return this;};M.prototype.setIcon=function(i){var o=this.getIcon();this.setProperty("icon",i,true);if(this._oIconControl){if(o!==i&&I.isIconURI(o)!=I.isIconURI(i)){var p=this.getAggregation("_page");p.removeContent(this._oIconControl);this._oIconControl.destroy();p.insertContent(this._getIconControl(),0);}else{this._oIconControl.setSrc(i);}}return this;};M.prototype._addPageContent=function(){var p=this.getAggregation("_page");if(this.getAggregation("customText")){this._oText=this.getAggregation("customText");}else{this._oText=new sap.m.Text({id:this.getId()+"-customText",text:this.getText(),textAlign:sap.ui.core.TextAlign.Center,textDirection:this.getTextDirection()});}if(this.getAggregation("customDescription")){this._oDescription=this.getAggregation("customDescription");}else{this._oDescription=new sap.m.Text({id:this.getId()+"-customDescription",text:this.getDescription(),textAlign:sap.ui.core.TextAlign.Center,textDirection:this.getTextDirection()});}p.addContent(this._getIconControl());p.addContent(this._oText.addStyleClass("sapMMessagePageMainText"));p.addContent(this._oDescription.addStyleClass("sapMMessagePageDescription"));};M.prototype._getIconControl=function(){this._oIconControl=I.createControlByURI({id:this.getId()+"-pageIcon",src:this.getIcon(),height:"8rem",useIconTooltip:true,decorative:false},sap.m.Image).addStyleClass("sapMMessagePageIcon");return this._oIconControl;};M.prototype._getAnyHeader=function(){return this._getInternalHeader();};M.prototype._getInternalHeader=function(){return this.getAggregation("_page").getAggregation("_internalHeader");};return M;},true);
sap.ui.predefine('sap/m/MessagePageRenderer',['jquery.sap.global'],function(q){"use strict";var M={};M.render=function(r,m){r.write("<div");r.writeControlData(m);r.addClass("sapMMessagePage");r.writeClasses();r.write(">");r.renderControl(m.getAggregation("_page"));r.write("</div>");};return M;},true);
sap.ui.predefine('sap/m/MessagePopover',["jquery.sap.global","./ResponsivePopover","./Button","./Toolbar","./ToolbarSpacer","./Bar","./List","./StandardListItem","./ListType","./library","sap/ui/core/Control","./PlacementType","sap/ui/core/IconPool","sap/ui/core/HTML","./Text","sap/ui/core/Icon","./SegmentedButton","./Page","./NavContainer","./semantic/SemanticPage","./Link","./Popover","./MessagePopoverItem","jquery.sap.dom"],function(q,R,B,T,a,b,L,S,c,l,C,P,I,H,d,e,f,g,N,h,j,k,M){"use strict";var m=C.extend("sap.m.MessagePopover",{metadata:{library:"sap.m",properties:{asyncDescriptionHandler:{type:"any",group:"Behavior",defaultValue:null},asyncURLHandler:{type:"any",group:"Behavior",defaultValue:null},placement:{type:"sap.m.VerticalPlacementType",group:"Behavior",defaultValue:"Vertical"},initiallyExpanded:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.MessagePopoverItem",multiple:true,singularName:"item"},headerButton:{type:"sap.m.Button",multiple:false}},events:{afterOpen:{parameters:{openBy:{type:"sap.ui.core.Control"}}},afterClose:{parameters:{openBy:{type:"sap.ui.core.Control"}}},beforeOpen:{parameters:{openBy:{type:"sap.ui.core.Control"}}},beforeClose:{parameters:{openBy:{type:"sap.ui.core.Control"}}},itemSelect:{parameters:{item:{type:"sap.m.MessagePopoverItem"},messageTypeFilter:{type:"sap.ui.core.MessageType"}}},listSelect:{parameters:{messageTypeFilter:{type:"sap.ui.core.MessageType"}}},longtextLoaded:{},urlValidated:{}}}});var n="sapMMsgPopover",o={back:I.getIconURI("nav-back"),close:I.getIconURI("decline"),information:I.getIconURI("message-information"),warning:I.getIconURI("message-warning"),error:I.getIconURI("message-error"),success:I.getIconURI("message-success")},p=["all","error","warning","success","information"],A=["asyncDescriptionHandler","asyncURLHandler"],D={asyncDescriptionHandler:function(i){var s=i.item.getLongtextUrl();if(s){q.ajax({type:"GET",url:s,success:function(r){i.item.setDescription(r);i.promise.resolve();},error:function(){var E="A request has failed for long text data. URL: "+s;q.sap.log.error(E);i.promise.reject(E);}});}}};m.setDefaultHandlers=function(i){A.forEach(function(F){if(i.hasOwnProperty(F)){D[F]=i[F];}});};m.prototype.init=function(){var t=this;var i;this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oPopover=new R(this.getId()+"-messagePopover",{showHeader:false,contentWidth:"440px",placement:this.getPlacement(),showCloseButton:false,modal:false,afterOpen:function(E){t.fireAfterOpen({openBy:E.getParameter("openBy")});},afterClose:function(E){t._navContainer.backToTop();t.fireAfterClose({openBy:E.getParameter("openBy")});},beforeOpen:function(E){t.fireBeforeOpen({openBy:E.getParameter("openBy")});},beforeClose:function(E){t.fireBeforeClose({openBy:E.getParameter("openBy")});}}).addStyleClass(n);this._createNavigationPages();this._createLists();i=this._oPopover.getAggregation("_popup");i.oPopup.setAutoClose(false);i.addEventDelegate({onBeforeRendering:this.onBeforeRenderingPopover,onkeypress:this._onkeypress},this);if(sap.ui.Device.system.phone){this._oPopover.setBeginButton(new B({text:this._oResourceBundle.getText("MESSAGEPOPOVER_CLOSE"),press:this.close.bind(this)}));}A.forEach(function(F){if(D.hasOwnProperty(F)){t.setProperty(F,D[F]);}});};m.prototype.exit=function(){this._oResourceBundle=null;this._oListHeader=null;this._oDetailsHeader=null;this._oSegmentedButton=null;this._oBackButton=null;this._navContainer=null;this._listPage=null;this._detailsPage=null;this._sCurrentList=null;if(this._oLists){this._destroyLists();}if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}};m.prototype.onBeforeRenderingPopover=function(){var i=this.getHeaderButton();if(i){this._oListHeader.insertContent(i,2);}if(!this.getBindingInfo("items")&&!this.getItems().length){this._makeAutomaticBinding();}if(this._bItemsChanged){this._clearLists();this._fillLists(this.getItems());this._clearSegmentedButton();this._fillSegmentedButton();this._bItemsChanged=false;}this._setInitialFocus();};m.prototype._makeAutomaticBinding=function(){this.setModel(sap.ui.getCore().getMessageManager().getMessageModel(),"message");this.bindAggregation("items",{path:"message>/",template:new M({type:"{message>type}",title:"{message>message}",description:"{message>description}",longtextUrl:"{message>longtextUrl}"})});};m.prototype._onkeypress=function(E){if(E.shiftKey&&E.keyCode==q.sap.KeyCodes.ENTER){this._fnHandleBackPress();}};m.prototype._getListHeader=function(){return this._oListHeader||this._createListHeader();};m.prototype._getDetailsHeader=function(){return this._oDetailsHeader||this._createDetailsHeader();};m.prototype._createListHeader=function(){var s=this._oResourceBundle.getText("MESSAGEPOPOVER_CLOSE");var i=this.getId()+"-CloseBtnDescr";var r=new H(i,{content:"<span id=\""+i+"\" style=\"display: none;\">"+s+"</span>"});var t=this._oResourceBundle.getText("MESSAGEPOPOVER_ARIA_HEADING");var u=this.getId()+"-HeadingDescr";var v=new H(u,{content:"<span id=\""+u+"\" style=\"display: none;\" role=\"heading\">"+t+"</span>"});this._oPopover.addAssociation("ariaLabelledBy",u,true);var w=new B({icon:o["close"],visible:!sap.ui.Device.system.phone,ariaLabelledBy:r,tooltip:s,press:this.close.bind(this)}).addStyleClass(n+"CloseBtn");this._oSegmentedButton=new f(this.getId()+"-segmented",{}).addStyleClass("sapMSegmentedButtonNoAutoWidth");this._oListHeader=new T({content:[this._oSegmentedButton,new a(),w,r,v]});return this._oListHeader;};m.prototype._createDetailsHeader=function(){var s=this._oResourceBundle.getText("MESSAGEPOPOVER_CLOSE");var i=this.getId()+"-CloseBtnDetDescr";var r=new H(i,{content:"<span id=\""+i+"\" style=\"display: none;\">"+s+"</span>"});var t=this._oResourceBundle.getText("MESSAGEPOPOVER_ARIA_BACK_BUTTON_TOOLTIP");var u=this._oResourceBundle.getText("MESSAGEPOPOVER_ARIA_BACK_BUTTON");var v=this.getId()+"-BackBtnDetDescr";var w=new H(v,{content:"<span id=\""+v+"\" style=\"display: none;\">"+u+"</span>"});var x=new B({icon:o["close"],visible:!sap.ui.Device.system.phone,ariaLabelledBy:r,tooltip:s,press:this.close.bind(this)}).addStyleClass(n+"CloseBtn");this._oBackButton=new B({icon:o["back"],press:this._fnHandleBackPress.bind(this),ariaLabelledBy:w,tooltip:t}).addStyleClass(n+"BackBtn");this._oDetailsHeader=new T({content:[this._oBackButton,new a(),x,r,w]});return this._oDetailsHeader;};m.prototype._createNavigationPages=function(){this._listPage=new g(this.getId()+"listPage",{customHeader:this._getListHeader()});this._detailsPage=new g(this.getId()+"-detailsPage",{customHeader:this._getDetailsHeader()});this._detailsPage.addEventDelegate({onclick:function(E){var t=E.target;if(t.nodeName.toUpperCase()==="A"&&(t.className.indexOf("sapMMsgPopoverItemDisabledLink")!==-1||t.className.indexOf("sapMMsgPopoverItemPendingLink")!==-1)){E.preventDefault();}}});this._navContainer=new N(this.getId()+"-navContainer",{initialPage:this.getId()+"listPage",pages:[this._listPage,this._detailsPage],navigate:this._navigate.bind(this),afterNavigate:this._afterNavigate.bind(this)});this._oPopover.addContent(this._navContainer);return this;};m.prototype._createLists=function(){this._oLists={};p.forEach(function(s){this._oLists[s]=new L({itemPress:this._fnHandleItemPress.bind(this),visible:false});this._listPage.addAggregation("content",this._oLists[s],true);},this);return this;};m.prototype._clearLists=function(){p.forEach(function(s){if(this._oLists[s]){this._oLists[s].destroyAggregation("items",true);}},this);return this;};m.prototype._destroyLists=function(){p.forEach(function(s){this._oLists[s]=null;},this);this._oLists=null;};m.prototype._fillLists=function(i){i.forEach(function(r){var s=this._mapItemToListItem(r),t=this._mapItemToListItem(r);this._oLists["all"].addAggregation("items",s,true);this._oLists[r.getType().toLowerCase()].addAggregation("items",t,true);},this);};m.prototype._mapItemToListItem=function(i){if(!i){return null;}var t=i.getType(),r=this._getItemType(i),s=new S({title:i.getTitle(),description:i.getSubtitle(),counter:i.getCounter(),icon:this._mapIcon(t),infoState:this._mapInfoState(t),info:"\r",type:r}).addStyleClass(n+"Item").addStyleClass(n+"Item"+t);if(r!==c.Navigation){s.addEventDelegate({onAfterRendering:function(){var u=this.getDomRef().querySelector(".sapMSLITitleDiv > div");if(u.offsetWidth<u.scrollWidth){this.setType(c.Navigation);}}},s);}s._oMessagePopoverItem=i;return s;};m.prototype._mapInfoState=function(t){if(!t){return null;}var i=sap.ui.core.MessageType,V=sap.ui.core.ValueState;switch(t){case i.Warning:return V.Warning;case i.Error:return V.Error;case i.Success:return V.Success;case i.Information:case i.None:return V.None;default:q.sap.log.warning("The provided MessageType is not mapped to a specific ValueState",t);return null;}};m.prototype._mapIcon=function(i){if(!i){return null;}return o[i.toLowerCase()];};m.prototype._getItemType=function(i){return(i.getDescription()||i.getMarkupDescription()||i.getLongtextUrl())?c.Navigation:c.Inactive;};m.prototype._clearSegmentedButton=function(){if(this._oSegmentedButton){this._oSegmentedButton.destroyAggregation("buttons",true);}return this;};m.prototype._fillSegmentedButton=function(){var t=this;var i=function(s){return function(){t._fnFilterList(s);};};p.forEach(function(s){var r=this._oLists[s],u=r.getItems().length,v;if(u>0){v=new B(this.getId()+"-"+s,{text:s=="all"?this._oResourceBundle.getText("MESSAGEPOPOVER_ALL"):u,icon:o[s],press:i(s)}).addStyleClass(n+"Btn"+s.charAt(0).toUpperCase()+s.slice(1));this._oSegmentedButton.addButton(v,true);}},this);return this;};m.prototype._setIcon=function(i,r){this._previousIconTypeClass=n+"DescIcon"+i.getType();this._oMessageIcon=new e({src:r.getIcon()}).addStyleClass(n+"DescIcon").addStyleClass(this._previousIconTypeClass);this._detailsPage.addContent(this._oMessageIcon);};m.prototype._setTitle=function(i){this._oMessageTitleText=new d(this.getId()+"MessageTitleText",{text:i.getTitle()}).addStyleClass("sapMMsgPopoverTitleText");this._detailsPage.addAggregation("content",this._oMessageTitleText);};m.prototype._setDescription=function(i){var r=i.getLink();this._oLastSelectedItem=i;if(i.getMarkupDescription()){this._oMessageDescriptionText=new H(this.getId()+"MarkupDescription",{content:"<div class='sapMMsgPopoverDescriptionText'>"+i.getDescription()+"</div>"});}else{this._oMessageDescriptionText=new d(this.getId()+"MessageDescriptionText",{text:i.getDescription()}).addStyleClass("sapMMsgPopoverDescriptionText");}this._detailsPage.addContent(this._oMessageDescriptionText);if(r){this._detailsPage.addContent(r);r.addStyleClass("sapMMsgPopoverDescriptionLink");}};m.prototype._iNextValidationTaskId=0;m.prototype._validateURL=function(u){if(q.sap.validateUrl(u)){return u;}q.sap.log.warning("You have entered invalid URL");return"";};m.prototype._queueValidation=function(i){var r=this.getAsyncURLHandler();var v=++this._iNextValidationTaskId;var s={};var t=new window.Promise(function(u,w){s.resolve=u;s.reject=w;var x={url:i,id:v,promise:s};r(x);});t.id=v;return t;};m.prototype._getTagPolicy=function(){var t=this,i;var r=html.makeTagPolicy(this._validateURL());return function customTagPolicy(s,u){var v,w=false;if(s.toUpperCase()==="A"){for(i=0;i<u.length;){if(u[i]==="href"){w=true;v=u[i+1];u.splice(0,2);continue;}i+=2;}}u=r(s,u);if(w&&typeof t.getAsyncURLHandler()==="function"){u=u||[];var x=false;for(i=0;i<u.length;i+=2){if(u[i]==="class"){u[i+1]+="sapMMsgPopoverItemDisabledLink sapMMsgPopoverItemPendingLink";x=true;break;}}var y=u.indexOf("id");if(y>-1){u.splice(y+1,1);u.splice(y,1);}if(!x){u.unshift("sapMMsgPopoverItemDisabledLink sapMMsgPopoverItemPendingLink");u.unshift("class");}var V=t._queueValidation(v);u.push("href");u.push(v);u.push("target");u.push("_blank");u.push("id");u.push("sap-ui-"+t.getId()+"-link-under-validation-"+V.id);V.then(function(z){var $=q.sap.byId("sap-ui-"+t.getId()+"-link-under-validation-"+z.id);if(z.allowed){q.sap.log.info("Allow link "+v);}else{q.sap.log.info("Disallow link "+v);}$.removeClass("sapMMsgPopoverItemPendingLink");$.toggleClass("sapMMsgPopoverItemDisabledLink",!z.allowed);t.fireUrlValidated();}).catch(function(){q.sap.log.warning("Async URL validation could not be performed.");});}return u;};};m.prototype._sanitizeDescription=function(i){q.sap.require("jquery.sap.encoder");q.sap.require("sap.ui.thirdparty.caja-html-sanitizer");var s=i.getDescription();if(i.getMarkupDescription()){var t=this._getTagPolicy();s=html.sanitizeWithPolicy(s,t);}i.setDescription(s);this._setDescription(i);};m.prototype._fnHandleItemPress=function(E){var i=E.getParameter("listItem"),r=i._oMessagePopoverItem,s=this._detailsPage.getContent()||[];var t=this.getAsyncDescriptionHandler();var u=function(y){this._setTitle(r);this._sanitizeDescription(r);this._setIcon(r,i);this.fireLongtextLoaded();if(!y){this._navContainer.to(this._detailsPage);}}.bind(this);this._previousIconTypeClass=this._previousIconTypeClass||"";this.fireItemSelect({item:r,messageTypeFilter:this._getCurrentMessageTypeFilter()});s.forEach(function(y){if(y instanceof j){this._oLastSelectedItem.setLink(y);y.removeAllAriaLabelledBy();}else{y.destroy();}},this);if(typeof t==="function"&&!!r.getLongtextUrl()){r.setMarkupDescription(true);var v={};var w=new window.Promise(function(y,z){v.resolve=y;v.reject=z;});var x=function(){this._detailsPage.setBusy(false);u(true);}.bind(this);w.then(function(){x();}).catch(function(){q.sap.log.warning("Async description loading could not be performed.");x();});this._navContainer.to(this._detailsPage);this._detailsPage.setBusy(true);t({promise:v,item:r});}else{u();}this._listPage.$().attr("aria-hidden","true");};m.prototype._fnHandleBackPress=function(){this._listPage.$().removeAttr("aria-hidden");this._navContainer.back();};m.prototype._fnFilterList=function(s){p.forEach(function(i){if(i!=s&&this._oLists[i].getVisible()){this._oLists[i].setVisible(false);}},this);this._sCurrentList=s;this._oLists[s].setVisible(true);this._expandMsgPopover();this.fireListSelect({messageTypeFilter:this._getCurrentMessageTypeFilter()});};m.prototype._getCurrentMessageTypeFilter=function(){return this._sCurrentList=="all"?"":this._sCurrentList;};m.prototype._navigate=function(){if(this._isListPage()){this._oRestoreFocus=q(document.activeElement);}};m.prototype._afterNavigate=function(){q.sap.delayedCall(0,this,this._restoreFocus);};m.prototype._isListPage=function(){return(this._navContainer.getCurrentPage()==this._listPage);};m.prototype._setInitialFocus=function(){if(this._isListPage()){this._oPopover.setInitialFocus(this._oLists[this._sCurrentList]);}};m.prototype._restoreFocus=function(){if(this._isListPage()){var r=this._oRestoreFocus&&this._oRestoreFocus.control(0);if(r){r.focus();}}else{this._oBackButton.focus();}};m.prototype._restoreExpansionDefaults=function(){if(this.getInitiallyExpanded()){this._fnFilterList("all");this._oSegmentedButton.setSelectedButton(null);}else{this._collapseMsgPopover();}};m.prototype._expandMsgPopover=function(){var s=this._oPopover.getContentWidth();if(this.getInitiallyExpanded()){s=this._oPopover.$("cont").css("height")||s;}this._oPopover.setContentHeight(s).removeStyleClass(n+"-init");};m.prototype._collapseMsgPopover=function(){p.forEach(function(s){this._oLists[s].setVisible(false);},this);this._oPopover.addStyleClass(n+"-init").setContentHeight("auto");this._oSegmentedButton.setSelectedButton("none");};m.prototype.openBy=function(i){var r=this._oPopover.getAggregation("_popup"),s=i.getParent();if(r instanceof k){if((s instanceof T||s instanceof b||s instanceof h)){r.setShowArrow(false);r.setResizable(true);}else{r.setShowArrow(true);}}if(this._oPopover){this._restoreExpansionDefaults();this._oPopover.openBy(i);}return this;};m.prototype.close=function(){if(this._oPopover){this._oPopover.close();}return this;};m.prototype.isOpen=function(){return this._oPopover.isOpen();};m.prototype.toggle=function(i){if(this.isOpen()){this.close();}else{this.openBy(i);}return this;};m.prototype.setPlacement=function(s){this.setProperty("placement",s,true);this._oPopover.setPlacement(s);return this;};m.prototype.getDomRef=function(s){return this._oPopover&&this._oPopover.getAggregation("_popup").getDomRef(s);};["addStyleClass","removeStyleClass","toggleStyleClass","hasStyleClass","getBusyIndicatorDelay","setBusyIndicatorDelay","getVisible","setVisible","getBusy","setBusy"].forEach(function(s){m.prototype[s]=function(){if(this._oPopover&&this._oPopover[s]){var i=this._oPopover;var r=i[s].apply(i,arguments);return r===i?this:r;}};});["setModel","bindAggregation","setAggregation","insertAggregation","addAggregation","removeAggregation","removeAllAggregation","destroyAggregation"].forEach(function(F){m.prototype["_"+F+"Old"]=m.prototype[F];m.prototype[F]=function(){var r=m.prototype["_"+F+"Old"].apply(this,arguments);this._bItemsChanged=true;if(this._oPopover){this._oPopover.invalidate();}if(["removeAggregation","removeAllAggregation"].indexOf(F)!==-1){return r;}return this;};});return m;},true);
sap.ui.predefine('sap/m/MessagePopoverItem',["jquery.sap.global","./library","sap/ui/core/Item"],function(q,l,I){"use strict";var M=I.extend("sap.m.MessagePopoverItem",{metadata:{library:"sap.m",properties:{type:{type:"sap.ui.core.MessageType",group:"Appearance",defaultValue:sap.ui.core.MessageType.Error},title:{type:"string",group:"Appearance",defaultValue:""},subtitle:{type:"string",group:"Misc",defaultValue:null},description:{type:"string",group:"Appearance",defaultValue:""},markupDescription:{type:"boolean",group:"Appearance",defaultValue:false},longtextUrl:{type:"sap.ui.core.URI",group:"Behavior",defaultValue:null},counter:{type:"int",group:"Misc",defaultValue:null}},defaultAggregation:"link",aggregations:{link:{type:"sap.m.Link",multiple:false,singularName:"link"}}}});M.prototype.setProperty=function(p,v,s){var P=this.getParent(),t=this.getType().toLowerCase(),a=["description","type"],u=function(n,i){if(i._oMessagePopoverItem.getId()===this.getId()&&i.getMetadata().getProperty(n)){i.setProperty(n,v);}};if(a.indexOf(p)===-1&&P&&("_bItemsChanged"in P)&&!P._bItemsChanged){P._oLists&&P._oLists.all&&P._oLists.all.getItems&&P._oLists.all.getItems().forEach(u.bind(this,p));P._oLists&&P._oLists[t]&&P._oLists[t].getItems&&P._oLists[t].getItems().forEach(u.bind(this,p));}return I.prototype.setProperty.apply(this,arguments);};M.prototype.setDescription=function(d){if(typeof d==='undefined'){d='';}if(this.getMarkupDescription()){d=q.sap._sanitizeHTML(d);}this.setProperty("description",d,true);return this;};M.prototype.setType=function(t){if(t===sap.ui.core.MessageType.None){t=sap.ui.core.MessageType.Information;q.sap.log.warning("The provided None type is handled and rendered as Information type");}return this.setProperty("type",t,true);};return M;},true);
sap.ui.predefine('sap/m/MessagePopoverRenderer',["jquery.sap.global"],function(q){"use strict";var M={};M.render=function(r,c){};return M;},true);
sap.ui.predefine('sap/m/MessageStrip',["jquery.sap.global","./library","sap/ui/core/Control","./MessageStripUtilities","./Text","./Link"],function(q,l,C,M,T,L){"use strict";var a=C.extend("sap.m.MessageStrip",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Appearance",defaultValue:""},type:{type:"sap.ui.core.MessageType",group:"Appearance",defaultValue:sap.ui.core.MessageType.Information},customIcon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},showIcon:{type:"boolean",group:"Appearance",defaultValue:false},showCloseButton:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"link",aggregations:{link:{type:"sap.m.Link",multiple:false,singularName:"link"},_text:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{close:{}}}});a.prototype.init=function(){this.data("sap-ui-fastnavgroup","true",true);this.setAggregation("_text",new T());};a.prototype.setText=function(t){this.getAggregation("_text").setText(t);return this.setProperty("text",t,true);};a.prototype.setType=function(t){if(t===sap.ui.core.MessageType.None){q.sap.log.warning(M.MESSAGES.TYPE_NOT_SUPPORTED);t=sap.ui.core.MessageType.Information;}return this.setProperty("type",t);};a.prototype.setAggregation=function(n,c,s){if(n==="link"&&c instanceof L){c.addAriaLabelledBy(this.getId());}C.prototype.setAggregation.call(this,n,c,s);return this;};a.prototype.ontap=M.handleMSCloseButtonInteraction;a.prototype.onsapenter=M.handleMSCloseButtonInteraction;a.prototype.onsapspace=M.handleMSCloseButtonInteraction;a.prototype.ontouchmove=function(e){e.setMarked();};a.prototype.close=function(){var c=function(){this.fireClose();this.setVisible(false);}.bind(this);if(!sap.ui.getCore().getConfiguration().getAnimation()){c();return;}if(sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version<10){M.closeTransitionWithJavascript.call(this,c);}else{M.closeTransitionWithCSS.call(this,c);}};return a;},true);
sap.ui.predefine('sap/m/MessageStripRenderer',["./MessageStripUtilities"],function(M){"use strict";var a={};a.render=function(r,c){this.startMessageStrip(r,c);this.renderAriaTypeText(r,c);if(c.getShowIcon()){this.renderIcon(r,c);}this.renderTextAndLink(r,c);if(c.getShowCloseButton()){this.renderCloseButton(r);}this.endMessageStrip(r);};a.startMessageStrip=function(r,c){r.write("<div");r.addClass(M.CLASSES.ROOT);r.addClass(M.CLASSES.ROOT+c.getType());r.writeControlData(c);r.writeClasses();r.writeAttribute(M.ATTRIBUTES.CLOSABLE,c.getShowCloseButton());r.writeAccessibilityState(c,M.getAccessibilityState.call(c));r.write(">");};a.renderAriaTypeText=function(r,c){r.write("<span class='sapUiPseudoInvisibleText'>");r.write(M.getAriaTypeText.call(c));r.write("</span>");};a.renderIcon=function(r,c){r.write("<div class='"+M.CLASSES.ICON+"'>");r.writeIcon(M.getIconURI.call(c),null,{"title":null});r.write("</div>");};a.renderTextAndLink=function(r,c){r.write("<div class='"+M.CLASSES.MESSAGE+"'>");r.renderControl(c.getAggregation("_text"));r.renderControl(c.getLink());r.write("</div>");};a.renderCloseButton=function(r){r.write("<button");r.writeAttribute("class",M.CLASSES.CLOSE_BUTTON);r.writeAttribute("aria-label",M.RESOURCE_BUNDLE.getText("CLOSE"));r.write("></button>");};a.endMessageStrip=function(r){r.write("</div>");};return a;},true);
sap.ui.predefine('sap/m/MessageStripUtilities',function(){"use strict";var M={};M.MESSAGES={TYPE_NOT_SUPPORTED:"Value 'sap.ui.core.MessageType.None' for property 'type' is not supported."+"Defaulting to 'sap.ui.core.MessageType.Information'"};M.CLASSES={ROOT:"sapMMsgStrip",ICON:"sapMMsgStripIcon",MESSAGE:"sapMMsgStripMessage",CLOSE_BUTTON:"sapMMsgStripCloseButton",CLOSING_TRANSITION:"sapMMsgStripClosing"};M.ATTRIBUTES={CLOSABLE:"data-sap-ui-ms-closable"};M.RESOURCE_BUNDLE=sap.ui.getCore().getLibraryResourceBundle("sap.ui.core");M.getIconURI=function(){var t=this.getType(),c=this.getCustomIcon(),i="sap-icon://message-"+t.toLowerCase();return c||i;};M.getAriaTypeText=function(){var b="MESSAGE_STRIP_"+this.getType().toUpperCase(),a=M.RESOURCE_BUNDLE.getText(b);if(this.getShowCloseButton()){a+=" "+M.RESOURCE_BUNDLE.getText("MESSAGE_STRIP_CLOSABLE");}return a;};M.handleMSCloseButtonInteraction=function(e){if(M.isMSCloseButtonPressed(e.target)){this.close();}};M.isMSCloseButtonPressed=function(t){return t.className.indexOf(M.CLASSES.CLOSE_BUTTON)!==-1||t.parentNode.className.indexOf(M.CLASSES.CLOSE_BUTTON)!==-1;};M.closeTransitionWithJavascript=function(c){this.$().animate({opacity:0},{duration:200,complete:c});};M.closeTransitionWithCSS=function(c){this.$().addClass(M.CLASSES.CLOSING_TRANSITION).one("webkitTransitionEnd transitionend",c);};M.getAccessibilityState=function(){return{role:"note",live:"assertive",labelledby:this.getId()};};return M;});
sap.ui.predefine('sap/m/MessageToast',['jquery.sap.global','./InstanceManager','sap/ui/core/Popup'],function(q,I,P){"use strict";var M={};var O="0 -64",C="sapMMessageToast",E="sapUiSelectable",B="sapContrast",a="sapContrastPlus";M._mSettings={duration:3000,width:"15em",my:"center bottom",at:"center bottom",of:document.defaultView,offset:"0 0",collision:"fit fit",onClose:null,animationTimingFunction:"ease",animationDuration:1000,autoClose:true,closeOnBrowserNavigation:true};M._aPopups=[];M._iOpenedPopups=0;M._bBoundedEvents=false;M._validateSettings=function(s){this._isFiniteInteger(s.duration);this._validateWidth(s.width);this._validateDockPosition(s.my);this._validateDockPosition(s.at);this._validateOf(s.of);this._validateOffset(s.offset);this._validateCollision(s.collision);this._validateOnClose(s.onClose);this._validateAutoClose(s.autoClose);this._validateAnimationTimingFunction(s.animationTimingFunction);this._isFiniteInteger(s.animationDuration);};M._isFiniteInteger=function(N){if(typeof N!=="number"||!isFinite(N)||!(Math.floor(N)===N)||N<=0){q.sap.log.error('"iNumber" needs to be a finite positive nonzero integer on '+this+"._isFiniteInteger");}};M._validateWidth=function(w){if(!sap.ui.core.CSSSize.isValid(w)){q.sap.log.error(w+' is not of type '+'"sap.ui.core.CSSSize" for property "width" on '+this+"._validateWidth");}};M._validateDockPosition=function(d){if(!sap.ui.core.Dock.isValid(d)){q.sap.log.error('"'+d+'"'+' is not of type '+'"sap.ui.core.Popup.Dock" on '+this+"._validateDockPosition");}};M._validateOf=function(e){if(!(e instanceof q)&&!(e&&e.nodeType===1)&&!(e instanceof sap.ui.core.Control)&&e!==window){q.sap.log.error('"of" needs to be an instance of sap.ui.core.Control or an Element or a jQuery object or the window on '+this+"._validateOf");}};M._validateOffset=function(o){if(typeof o!=="string"){q.sap.log.error(o+' is of type '+typeof o+', expected "string" for property "offset" on '+this+"._validateOffset");}};M._validateCollision=function(s){var r=/^(fit|flip|none|flipfit|flipflip|flip flip|flip fit|fitflip|fitfit|fit fit|fit flip)$/i;if(!r.test(s)){q.sap.log.error('"collision" needs to be a single value “fit”, “flip”, or “none”, or a pair for horizontal and vertical e.g. "fit flip”, "fit none", "flipfit" on '+this+"._validateOffset");}};M._validateOnClose=function(f){if(typeof f!=="function"&&f!==null){q.sap.log.error('"onClose" should be a function or null on '+this+"._validateOnClose");}};M._validateAutoClose=function(b){if(typeof b!=="boolean"){q.sap.log.error('"autoClose" should be a boolean on '+this+"._validateAutoClose");}};M._validateAnimationTimingFunction=function(t){var r=/^(ease|linear|ease-in|ease-out|ease-in-out)$/i;if(!r.test(t)){q.sap.log.error('"animationTimingFunction" should be a string, expected values: '+"ease, linear, ease-in, ease-out, ease-in-out on "+this+"._validateAnimationTimingFunction");}};function h(o){for(var p=["my","at","of","offset"],i=0;i<p.length;i++){if(o[p[i]]!==undefined){return false;}}return true;}function c(s){var m=document.createElement("div");m.className=C+" "+E+" "+B+" "+a;if(sap.ui.getCore().getConfiguration().getAccessibility()){m.setAttribute("role","alert");m.setAttribute("aria-label"," ");}m.style.width=s.width;m.appendChild(document.createTextNode(s.message));return m;}function n(o){if(o){if(h(o)){o.offset=O;}if(o.of&&o.of.nodeType===9){o.of=document.defaultView;}}else{o={offset:O};}return o;}M._handleResizeEvent=function(){if(sap.ui.Device.system.phone||sap.ui.Device.system.tablet){this._resetPosition(this._aPopups);}q.sap.delayedCall(0,this,"_applyPositions",[this._aPopups]);};M._handleMouseDownEvent=function(e){var i=e.target.hasAttribute("class")&&e.target.getAttribute("class").indexOf(C)!==-1;if(i||e.isMarked("delayedMouseEvent")){return;}this._aPopups.forEach(function(p){p&&p.__bAutoClose&&p.close();});};M._resetPosition=function(p){for(var i=0,m;i<p.length;i++){m=p[i]&&p[i].getContent();if(m){m.style.visibility="hidden";m.style.left=0;}}};M._applyPositions=function(p){for(var i=0,o,m;i<p.length;i++){o=p[i];if(o){m=o._oPosition;if(sap.ui.Device.system.phone||sap.ui.Device.system.tablet){q.sap.delayedCall(0,this,"_applyPosition",[o,m]);}else{o.setPosition(m.my,m.at,m.of,m.offset);}}}};M._applyPosition=function(p,m){var m=m||p._oPosition,o=p.getContent();p.setPosition(m.my,m.at,m.of,m.offset);o.style.visibility="visible";};M._setCloseAnimation=function(m,d,f,s){var b="opacity "+s.animationTimingFunction+" "+s.animationDuration+"ms",t="webkitTransitionEnd."+C+" transitionend."+C;if(sap.ui.getCore().getConfiguration().getAnimation()&&s.animationDuration>0){m[0].style.webkitTransition=b;m[0].style.transition=b;m[0].style.opacity=0;m.on(t,function handleMTTransitionEnd(){m.off(t);f();});}else{f();}};M.show=function(m,o){var t=this,s=q.extend({},this._mSettings,{message:m}),p=new P(),i,b,d="mousedown."+C+" touchstart."+C,e,f;o=n(o);q.extend(s,o);this._validateSettings(s);b=c(s);i=this._aPopups.push(p)-1;p.setContent(b);p.setPosition(s.my,s.at,s.of,s.offset,s.collision);if(q.support.cssTransitions){p.setAnimations(function fnMessageToastOpen($,D,k){k();},function fnMessageToastClose($,D,k){t._setCloseAnimation($,D,k,s);});}p.setShadow(false);p.__bAutoClose=s.autoClose;if(s.closeOnBrowserNavigation){I.addPopoverInstance(p);}if(!this._bBoundedEvents){q(window).on("resize."+C,this._handleResizeEvent.bind(this));q(document).on(d,this._handleMouseDownEvent.bind(this));this._bBoundedEvents=true;}p.open();this._iOpenedPopups++;function g(){I.removePopoverInstance(t._aPopups[i]);q(t._aPopups[i].getContent()).remove();t._aPopups[i].detachClosed(g);t._aPopups[i].destroy();t._aPopups[i]=null;t._iOpenedPopups--;if(t._iOpenedPopups===0){t._aPopups=[];q(window).off("resize."+C);q(document).off(d);t._bBoundedEvents=false;}if(typeof s.onClose==="function"){s.onClose.call(t);}}p.attachClosed(g);e=q.sap.delayedCall(s.duration,p,"close");function j(){q.sap.clearDelayedCall(e);e=null;function k(){f=q.sap.delayedCall(s.duration,p,"close");p.getContent().removeEventListener("mouseleave",k);}p.getContent().addEventListener("mouseleave",k);q.sap.clearDelayedCall(f);f=null;}p.getContent().addEventListener("touchstart",j);p.getContent().addEventListener("mouseover",j);if(sap.ui.Device.system.desktop){p.getContent().addEventListener("mouseleave",function(){e=q.sap.delayedCall(s.duration,p,"close");});}};M.toString=function(){return"sap.m.MessageToast";};return M;},true);
sap.ui.predefine('sap/m/MultiComboBox',['jquery.sap.global','./Bar','./InputBase','./ComboBoxTextField','./ComboBoxBase','./Dialog','./MultiInput','./Input','./ToggleButton','./List','./MultiComboBoxRenderer','./Popover','./library','sap/ui/core/EnabledPropagator','sap/ui/core/InvisibleText','sap/ui/core/IconPool','jquery.sap.xml'],function(q,B,I,C,a,D,M,b,T,L,c,P,l,E,d,e){"use strict";var f=a.extend("sap.m.MultiComboBox",{metadata:{library:"sap.m",properties:{selectedKeys:{type:"string[]",group:"Data",defaultValue:[]}},associations:{selectedItems:{type:"sap.ui.core.Item",multiple:true,singularName:"selectedItem"}},events:{selectionChange:{parameters:{changedItem:{type:"sap.ui.core.Item"},selected:{type:"boolean"}}},selectionFinish:{parameters:{selectedItems:{type:"sap.ui.core.Item[]"}}}}}});e.insertFontFaceStyle();E.apply(f.prototype,[true]);f.prototype.onsapend=function(o){sap.m.Tokenizer.prototype.onsapend.apply(this._oTokenizer,arguments);};f.prototype.onsaphome=function(o){sap.m.Tokenizer.prototype.onsaphome.apply(this._oTokenizer,arguments);};f.prototype.onsapdown=function(o){if(!this.getEnabled()||!this.getEditable()){return;}o.setMarked();o.preventDefault();var i=this.getSelectableItems();var g=i[0];if(g&&this.isOpen()){this.getListItem(g).focus();return;}if(this._oTokenizer.getSelectedTokens().length){return;}this._oTraversalItem=this._getNextTraversalItem();if(this._oTraversalItem){this.updateDomValue(this._oTraversalItem.getText());this.selectText(0,this.getValue().length);}};f.prototype.onsapup=function(o){if(!this.getEnabled()||!this.getEditable()){return;}o.setMarked();o.preventDefault();if(this._oTokenizer.getSelectedTokens().length){return;}this._oTraversalItem=this._getPreviousTraversalItem();if(this._oTraversalItem){this.updateDomValue(this._oTraversalItem.getText());this.selectText(0,this.getValue().length);}};f.prototype._selectItemByKey=function(o){var v,p,g,i,h,j=this.isOpen();if(!this.getEnabled()||!this.getEditable()){return;}if(o){o.setMarked();}v=this._getUnselectedItems(j?"":this.getValue());for(i=0;i<v.length;i++){if(v[i].getText().toUpperCase()===this.getValue().toUpperCase()){g=v[i];h=true;break;}}if(h){p={item:g,id:g.getId(),key:g.getKey(),fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true,listItemUpdated:false};this._bPreventValueRemove=false;if(this.getValue()===""||q.sap.startsWithIgnoreCase(g.getText(),this.getValue())){if(this.getListItem(g).isSelected()){this.setValue('');}else{this.setSelection(p);}}}else{this._bPreventValueRemove=true;this._showWrongValueVisualEffect();}if(o){this.close();}};f.prototype.onsapenter=function(o){I.prototype.onsapenter.apply(this,arguments);this._selectItemByKey(o);};f.prototype.onsaptabnext=function(o){var i=this.getValue();if(i){var s=this._getUnselectedItemsStartingText(i);if(s.length===1){this._selectItemByKey(o);}else{this._showWrongValueVisualEffect();this.setValue(null);}}};f.prototype.onsapfocusleave=function(o){var p=this.getAggregation("picker");var g=sap.ui.getCore().byId(o.relatedControlId);var F=g&&g.getFocusDomRef();if(!p||!p.getFocusDomRef()||!F||!q.contains(p.getFocusDomRef(),F)){this.setValue(null);}if(p&&F){if(q.sap.equal(p.getFocusDomRef(),F)){this.focus();}}};f.prototype.onfocusin=function(o){this.getEditable()&&this.addStyleClass("sapMMultiComboBoxFocus");if(o.target===this.getOpenArea()){this.focus();}if(!this.isOpen()&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage();}};f.prototype._handleItemTap=function(o){if(o.target.childElementCount===0||o.target.childElementCount===2){this._bCheckBoxClicked=false;if(this.isOpen()&&!this._isListInSuggestMode()){this.close();}}};f.prototype._handleItemPress=function(o){if(this.isOpen()&&this._isListInSuggestMode()&&this.getPicker().oPopup.getOpenState()!==sap.ui.core.OpenState.CLOSING){this.clearFilter();var i=this._getLastSelectedItem();if(i){this.getListItem(i).focus();}}};f.prototype._handleSelectionLiveChange=function(o){var g=o.getParameter("listItem");var i=o.getParameter("selected");var n=this._getItemByListItem(g);if(g.getType()==="Inactive"){return;}if(!n){return;}var p={item:n,id:n.getId(),key:n.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:true};if(i){this.fireChangeEvent(n.getText());this.setSelection(p);}else{this.fireChangeEvent(n.getText());this.removeSelection(p);}if(this._bCheckBoxClicked){this.setValue(this._sOldValue);if(this.isOpen()&&this.getPicker().oPopup.getOpenState()!==sap.ui.core.OpenState.CLOSING){g.focus();}}else{this._bCheckBoxClicked=true;this.setValue("");this.close();}};f.prototype.onkeydown=function(o){a.prototype.onkeydown.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return;}this._bIsPasteEvent=(o.ctrlKey||o.metaKey)&&(o.which===q.sap.KeyCodes.V);if(this.getValue().length===0&&(o.ctrlKey||o.metaKey)&&(o.which===q.sap.KeyCodes.A)&&this._hasTokens()){this._oTokenizer.focus();this._oTokenizer.selectAllTokens(true);o.preventDefault();}if(this.isPickerDialog()){this._sOldValue=this.getPickerTextField().getValue();this._iOldCursorPos=q(this.getFocusDomRef()).cursorPos();}};f.prototype.oninput=function(o){a.prototype.oninput.apply(this,arguments);var i=o.srcControl;if(!this.getEnabled()||!this.getEditable()){return;}if(this._bIsPasteEvent){i.updateDomValue(this._sOldValue||"");return;}if(!this._bCompositionStart&&!this._bCompositionEnd){this._handleInputValidation(o,false);}};f.prototype.filterItems=function(i,v){i.forEach(function(o){var m=q.sap.startsWithIgnoreCase(o.getText(),v);if(v===""){m=true;if(!this.bOpenedByKeyboardOrButton){return;}}var g=this.getListItem(o);if(g){g.setVisible(m);}},this);};f.prototype.onkeyup=function(o){if(!this.getEnabled()||!this.getEditable()){return;}this._sOldValue=this.getValue();this._iOldCursorPos=q(this.getFocusDomRef()).cursorPos();};f.prototype._showWrongValueVisualEffect=function(){var o=this.getValueState();if(o===sap.ui.core.ValueState.Error){return;}if(this.isPickerDialog()){this.getPickerTextField().setValueState(sap.ui.core.ValueState.Error);q.sap.delayedCall(1000,this.getPickerTextField(),"setValueState",[o]);}else{this.setValueState(sap.ui.core.ValueState.Error);q.sap.delayedCall(1000,this,"setValueState",[o]);}};f.prototype.createPicker=function(p){var o=this.getAggregation("picker");if(o){return o;}o=this["create"+p]();this.setAggregation("picker",o,true);var r=this.getRenderer(),g=r.CSS_CLASS_MULTICOMBOBOX;o.setHorizontalScrolling(false).addStyleClass(r.CSS_CLASS_COMBOBOXBASE+"Picker").addStyleClass(g+"Picker").addStyleClass(g+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this).addContent(this.getList());return o;};f.prototype.createPickerTextField=function(){return new b();};f.prototype.onBeforeRendering=function(){a.prototype.onBeforeRendering.apply(this,arguments);var i=this.getItems();var o=this.getList();if(o){this._synchronizeSelectedItemAndKey(i);o.destroyItems();this._clearTokenizer();this._fillList(i);if(o.getItemNavigation()){this._iFocusedIndex=o.getItemNavigation().getFocusedIndex();}this.setEditable(this.getEditable());}};f.prototype.onBeforeRenderingPicker=function(){var o=this["_onBeforeRendering"+this.getPickerType()];if(o){o.call(this);}};f.prototype.onAfterRenderingPicker=function(){var o=this["_onAfterRendering"+this.getPickerType()];if(o){o.call(this);}};f.prototype.onBeforeOpen=function(){var p=this["_onBeforeOpen"+this.getPickerType()];this.addStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Pressed");this._resetCurrentItem();this.addContent();this._aInitiallySelectedItems=this.getSelectedItems();if(p){p.call(this);}};f.prototype.onAfterOpen=function(){this.closeValueStateMessage();};f.prototype.onBeforeClose=function(){a.prototype.onBeforeClose.apply(this,arguments);};f.prototype.onAfterClose=function(){this.removeStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Pressed");this.clearFilter();!this._bPreventValueRemove&&this.setValue("");this._sOldValue="";if(this.isPickerDialog()){this.getPickerTextField().setValue("");this._getFilterSelectedButton().setPressed(false);}this.fireSelectionFinish({selectedItems:this.getSelectedItems()});};f.prototype._onBeforeOpenDialog=function(){};f.prototype._onBeforeOpenPopover=function(){var p=this.getPicker(),o=this.getDomRef(),w;if(o&&p){w=(o.offsetWidth/parseFloat(sap.m.BaseFontSize))+"rem";p.setContentMinWidth(w);}};f.prototype._decoratePopover=function(p){var t=this;p.open=function(){return this.openBy(t);};};f.prototype.createPopover=function(){var p=new P({showArrow:false,placement:sap.m.PlacementType.Vertical,offsetX:0,offsetY:0,initialFocus:this,bounce:false,ariaLabelledBy:this.getPickerInvisibleTextId()||undefined});this._decoratePopover(p);return p;};f.prototype.createDialog=function(){var o=a.prototype.createDialog.apply(this,arguments),s=this._createFilterSelectedButton();o.getSubHeader().addContent(s);return o;};f.prototype._createFilterSelectedButton=function(){var i=e.getIconURI("multiselect-all"),r=this.getRenderer(),t=this;return new T({icon:i,press:t._filterSelectedItems.bind(this)}).addStyleClass(r.CSS_CLASS_MULTICOMBOBOX+"ToggleButton");};f.prototype._getFilterSelectedButton=function(){return this.getPicker().getSubHeader().getContent()[1];};f.prototype._filterSelectedItems=function(o){var g=o.oSource,h,m,v=this.getPickerTextField().getValue(),p=g.getPressed(),V=this.getVisibleItems(),i=this.getItems(),s=this.getSelectedItems();if(p){V.forEach(function(j){m=s.indexOf(j)>-1?true:false;h=this.getListItem(j);if(h){h.setVisible(m);}},this);}else{this.filterItems(i,v);}};f.prototype.revertSelection=function(){this.setSelectedItems(this._aInitiallySelectedItems);};f.prototype.createList=function(){var r=this.getRenderer();this._oList=new L({width:"100%",mode:sap.m.ListMode.MultiSelect,includeItemInSelection:true,rememberSelections:false}).addStyleClass(r.CSS_CLASS_COMBOBOXBASE+"List").addStyleClass(r.CSS_CLASS_MULTICOMBOBOX+"List").attachBrowserEvent("tap",this._handleItemTap,this).attachSelectionChange(this._handleSelectionLiveChange,this).attachItemPress(this._handleItemPress,this);this._oList.addEventDelegate({onAfterRendering:this.onAfterRenderingList},this);};f.prototype.setSelection=function(o){if(o.item&&this.isItemSelected(o.item)){return;}if(!o.item){return;}this.addAssociation("selectedItems",o.item,o.suppressInvalidate);var s=this.getKeys(this.getSelectedItems());this.setProperty("selectedKeys",s,o.suppressInvalidate);if(!o.listItemUpdated&&this.getListItem(o.item)){this.getList().setSelectedItem(this.getListItem(o.item),true);}var t=new sap.m.Token({key:o.key});t.setText(o.item.getText());t.setTooltip(o.item.getText());o.item.data(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Token",t);this._oTokenizer.addToken(t);this.$().toggleClass("sapMMultiComboBoxHasToken",this._hasTokens());this.setValue('');if(o.fireChangeEvent){this.fireSelectionChange({changedItem:o.item,selected:true});}if(o.fireFinishEvent){if(!this.isOpen()){this.fireSelectionFinish({selectedItems:this.getSelectedItems()});}}};f.prototype.removeSelection=function(o){if(o.item&&!this.isItemSelected(o.item)){return;}if(!o.item){return;}this.removeAssociation("selectedItems",o.item,o.suppressInvalidate);var s=this.getKeys(this.getSelectedItems());this.setProperty("selectedKeys",s,o.suppressInvalidate);if(!o.listItemUpdated&&this.getListItem(o.item)){this.getList().setSelectedItem(this.getListItem(o.item),false);}if(!o.tokenUpdated){var t=this._getTokenByItem(o.item);o.item.data(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Token",null);this._oTokenizer.removeToken(t);}this.$().toggleClass("sapMMultiComboBoxHasToken",this._hasTokens());if(o.fireChangeEvent){this.fireSelectionChange({changedItem:o.item,selected:false});}if(o.fireFinishEvent){if(!this.isOpen()){this.fireSelectionFinish({selectedItems:this.getSelectedItems()});}}};f.prototype._synchronizeSelectedItemAndKey=function(g){if(!g.length){q.sap.log.info("Info: _synchronizeSelectedItemAndKey() the MultiComboBox control does not contain any item on ",this);return;}var s=this.getSelectedKeys()||this._aCustomerKeys;var k=this.getKeys(this.getSelectedItems());if(s.length){for(var i=0,K=null,o=null,h=null,j=s.length;i<j;i++){K=s[i];if(k.indexOf(K)>-1){if(this._aCustomerKeys.length&&(h=this._aCustomerKeys.indexOf(K))>-1){this._aCustomerKeys.splice(h,1);}continue;}o=this.getItemByKey(""+K);if(o){if(this._aCustomerKeys.length&&(h=this._aCustomerKeys.indexOf(K))>-1){this._aCustomerKeys.splice(h,1);}this.setSelection({item:o,id:o.getId(),key:o.getKey(),fireChangeEvent:false,suppressInvalidate:true,listItemUpdated:false});}}return;}};f.prototype._getTokenByItem=function(i){return i?i.data(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Token"):null;};f.prototype.updateItems=function(r){var k,i,K=this.getSelectedKeys();var u=a.prototype.updateItems.apply(this,arguments);i=this.getSelectedItems();k=(i.length===K.length)&&i.every(function(o){return o&&o.getKey&&K.indexOf(o.getKey())>-1;});if(!k){i=K.map(this.getItemByKey,this);this.setSelectedItems(i);}return u;};f.prototype._getSelectedItemsOf=function(g){for(var i=0,h=g.length,s=[];i<h;i++){if(this.getListItem(g[i]).isSelected()){s.push(g[i]);}}return s;};f.prototype._getLastSelectedItem=function(){var t=this._oTokenizer.getTokens();var o=t.length?t[t.length-1]:null;if(!o){return null;}return this._getItemByToken(o);};f.prototype._getOrderedSelectedItems=function(){var g=[];for(var i=0,t=this._oTokenizer.getTokens(),h=t.length;i<h;i++){g[i]=this._getItemByToken(t[i]);}return g;};f.prototype._getFocusedListItem=function(){if(!document.activeElement){return null;}var F=sap.ui.getCore().byId(document.activeElement.id);if(this.getList()&&q.sap.containsOrEquals(this.getList().getFocusDomRef(),F.getFocusDomRef())){return F;}return null;};f.prototype._getFocusedItem=function(){var o=this._getFocusedListItem();return this._getItemByListItem(o);};f.prototype._isRangeSelectionSet=function(o){var $=o.getDomRef();return $.indexOf(this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"ItemRangeSelection")>-1?true:false;};f.prototype._hasTokens=function(){return this._oTokenizer.getTokens().length>0;};f.prototype._getCurrentItem=function(){if(!this._oCurrentItem){return this._getFocusedItem();}return this._oCurrentItem;};f.prototype._setCurrentItem=function(i){this._oCurrentItem=i;};f.prototype._resetCurrentItem=function(){this._oCurrentItem=null;};f.prototype._decorateListItem=function(o){o.addDelegate({onkeyup:function(g){var i=null;if(g.which==q.sap.KeyCodes.SPACE&&this.isOpen()&&this._isListInSuggestMode()){this.open();i=this._getLastSelectedItem();if(i){this.getListItem(i).focus();}return;}},onkeydown:function(g){var i=null,h=null;if(g.shiftKey&&g.which==q.sap.KeyCodes.ARROW_DOWN){h=this._getCurrentItem();i=this._getNextVisibleItemOf(h);}if(g.shiftKey&&g.which==q.sap.KeyCodes.ARROW_UP){h=this._getCurrentItem();i=this._getPreviousVisibleItemOf(h);}if(g.shiftKey&&g.which===q.sap.KeyCodes.SPACE){h=this._getCurrentItem();this._selectPreviousItemsOf(h);}if(i&&i!==h){if(this.getListItem(h).isSelected()){this.setSelection({item:i,id:i.getId(),key:i.getKey(),fireChangeEvent:true,suppressInvalidate:true});this._setCurrentItem(i);}else{this.removeSelection({item:i,id:i.getId(),key:i.getKey(),fireChangeEvent:true,suppressInvalidate:true});this._setCurrentItem(i);}return;}this._resetCurrentItem();if((g.ctrlKey||g.metaKey)&&g.which==q.sap.KeyCodes.A){g.setMarked();g.preventDefault();var v=this.getSelectableItems();var s=this._getSelectedItemsOf(v);if(s.length!==v.length){v.forEach(function(i){this.setSelection({item:i,id:i.getId(),key:i.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false});},this);}else{v.forEach(function(i){this.removeSelection({item:i,id:i.getId(),key:i.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false});},this);}}}},true,this);o.addEventDelegate({onsapbackspace:function(g){g.preventDefault();},onsapshow:function(g){g.setMarked();if(g.keyCode===q.sap.KeyCodes.F4){g.preventDefault();}if(this.isOpen()){this.close();return;}if(this.hasContent()){this.open();}},onsaphide:function(g){this.onsapshow(g);},onsapenter:function(g){g.setMarked();this.close();},onsaphome:function(g){g.setMarked();g.preventDefault();var v=this.getSelectableItems();var i=v[0];this.getListItem(i).focus();},onsapend:function(g){g.setMarked();g.preventDefault();var v=this.getSelectableItems();var i=v[v.length-1];this.getListItem(i).focus();},onsapup:function(g){g.setMarked();g.preventDefault();var v=this.getSelectableItems();var i=v[0];var h=q(document.activeElement).control()[0];if(h===this.getListItem(i)){this.focus();g.stopPropagation(true);}},onfocusin:function(g){this.addStyleClass(this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"Focused");},onfocusout:function(g){this.removeStyleClass(this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"Focused");},onsapfocusleave:function(g){var p=this.getAggregation("picker");var h=sap.ui.getCore().byId(g.relatedControlId);if(p&&h&&q.sap.equal(p.getFocusDomRef(),h.getFocusDomRef())){if(g.srcControl){g.srcControl.focus();}}}},this);if(sap.ui.Device.support.touch){o.addEventDelegate({ontouchstart:function(g){g.setMark("cancelAutoClose");}});}};f.prototype._createTokenizer=function(){var t=new sap.m.Tokenizer({tokens:[]}).attachTokenChange(this._handleTokenChange,this);t.setParent(this);t.addEventDelegate({onAfterRendering:this._onAfterRenderingTokenizer},this);return t;};f.prototype._handleTokenChange=function(o){var t=o.getParameter("type");var g=o.getParameter("token");var i=null;if(t!==sap.m.Tokenizer.TokenChangeType.Removed&&t!==sap.m.Tokenizer.TokenChangeType.Added){return;}if(t===sap.m.Tokenizer.TokenChangeType.Removed){i=(g&&this._getItemByToken(g));if(i&&this.isItemSelected(i)){this.removeSelection({item:i,id:i.getId(),key:i.getKey(),tokenUpdated:true,fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true});!this.isPickerDialog()&&this.focus();this.fireChangeEvent("");}}};f.prototype.onAfterRenderingList=function(){var o=this.getList();if(this._iFocusedIndex!=null&&o.getItems().length>this._iFocusedIndex){o.getItems()[this._iFocusedIndex].focus();this._iFocusedIndex=null;}};f.prototype.onAfterRendering=function(){a.prototype.onAfterRendering.apply(this,arguments);var p=this.getPicker();var o=q(this.getDomRef());var g=o.find(this.getRenderer().DOT_CSS_CLASS_MULTICOMBOBOX+"Border");p._oOpenBy=g[0];};f.prototype.onfocusout=function(o){this.removeStyleClass("sapMMultiComboBoxFocus");a.prototype.onfocusout.apply(this,arguments);};f.prototype.onpaste=function(o){var O;if(window.clipboardData){O=window.clipboardData.getData("Text");}else{O=o.originalEvent.clipboardData.getData('text/plain');}var s=this._oTokenizer._parseString(O);if(s&&s.length>0){this.getSelectableItems().forEach(function(i){if(q.inArray(i.getText(),s)>-1){this.setSelection({item:i,id:i.getId(),key:i.getKey(),fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true,listItemUpdated:false});}},this);}};f.prototype.onsapbackspace=function(o){if(!this.getEnabled()||!this.getEditable()){o.preventDefault();return;}if(this.getCursorPosition()>0||this.getValue().length>0){return;}sap.m.Tokenizer.prototype.onsapbackspace.apply(this._oTokenizer,arguments);o.preventDefault();};f.prototype.onsapdelete=function(o){if(!this.getEnabled()||!this.getEditable()){return;}if(this.getValue()&&!this._isCompleteTextSelected()){return;}sap.m.Tokenizer.prototype.onsapdelete.apply(this._oTokenizer,arguments);};f.prototype.onsapnext=function(o){if(o.isMarked()){return;}var F=q(document.activeElement).control()[0];if(!F){return;}if(F===this._oTokenizer||this._oTokenizer.$().find(F.$()).length>0&&this.getEditable()){this.focus();}};f.prototype.onsapprevious=function(o){if(this.getCursorPosition()===0&&!this._isCompleteTextSelected()){if(o.srcControl===this){sap.m.Tokenizer.prototype.onsapprevious.apply(this._oTokenizer,arguments);}}};f.prototype.getOpenArea=function(){if(this.isPickerDialog()){return this.getDomRef();}else{return a.prototype.getOpenArea.apply(this,arguments);}};f.prototype._getItemsStartingText=function(t,i){var g=[],s=i?this.getEnabledItems():this.getSelectableItems();s.forEach(function(o){if(q.sap.startsWithIgnoreCase(o.getText(),t)){g.push(o);}},this);return g;};f.prototype._getUnselectedItemsStartingText=function(t){var i=[];this._getUnselectedItems().forEach(function(o){if(q.sap.startsWithIgnoreCase(o.getText(),t)){i.push(o);}},this);return i;};f.prototype.getCursorPosition=function(){return this._$input.cursorPos();};f.prototype._isCompleteTextSelected=function(){if(!this.getValue().length){return false;}var i=this._$input[0];if(i.selectionStart!==0||i.selectionEnd!==this.getValue().length){return false;}return true;};f.prototype._selectPreviousItemsOf=function(i){var g;do{g=true;var p=this._getPreviousVisibleItemOf(i);if(p){var o=this.getListItem(p);if(o){g=this.getListItem(p).getSelected();}}this.setSelection({item:i,id:i.getId(),key:i.getKey(),fireChangeEvent:true,suppressInvalidate:true});i=p;}while(!g);};f.prototype._getNextVisibleItemOf=function(i){var g=this.getSelectableItems();var h=g.indexOf(i)+1;if(h<=0||h>g.length-1){return null;}return g[h];};f.prototype._getPreviousVisibleItemOf=function(i){var g=this.getSelectableItems();var h=g.indexOf(i)-1;if(h<0){return null;}return g[h];};f.prototype._getNextUnselectedItemOf=function(i){var g=this._getUnselectedItems();var h=g.indexOf(i)+1;if(h<=0||h>g.length-1){return null;}return g[h];};f.prototype._getPreviousUnselectedItemOf=function(i){var g=this._getUnselectedItems();var h=g.indexOf(i)-1;if(h<0){return null;}return g[h];};f.prototype._getNextTraversalItem=function(){var i=this._getItemsStartingText(this.getValue());var s=this._getUnselectedItems();if(i.indexOf(this._oTraversalItem)>-1&&this._oTraversalItem.getText()===this.getValue()){return this._getNextUnselectedItemOf(this._oTraversalItem);}if(i.length&&i[0].getText()===this.getValue()){return this._getNextUnselectedItemOf(i[0]);}return i.length?i[0]:s[0];};f.prototype._getPreviousTraversalItem=function(){var i=this._getItemsStartingText(this.getValue());if(i.indexOf(this._oTraversalItem)>-1&&this._oTraversalItem.getText()===this.getValue()){return this._getPreviousUnselectedItemOf(this._oTraversalItem);}if(i.length&&i[i.length-1].getText()===this.getValue()){return this._getPreviousUnselectedItemOf(i[i.length-1]);}if(i.length){return i[i.length-1];}else{var s=this._getUnselectedItems();if(s.length>0){return s[s.length-1];}else{return null;}}};f.prototype.findFirstEnabledItem=function(g){g=g||this.getItems();for(var i=0;i<g.length;i++){if(g[i].getEnabled()){return g[i];}}return null;};f.prototype.getVisibleItems=function(){for(var i=0,o,g=this.getItems(),v=[];i<g.length;i++){o=this.getListItem(g[i]);if(o&&o.getVisible()){v.push(g[i]);}}return v;};f.prototype.findLastEnabledItem=function(i){i=i||this.getItems();return this.findFirstEnabledItem(i.reverse());};f.prototype.setSelectedItems=function(i){this.removeAllSelectedItems();if(!i||!i.length){return this;}if(!q.isArray(i)){q.sap.log.warning("Warning: setSelectedItems() has to be an array of sap.ui.core.Item instances or of valid sap.ui.core.Item IDs",this);return this;}i.forEach(function(o){if(!(o instanceof sap.ui.core.Item)&&(typeof o!=="string")){q.sap.log.warning("Warning: setSelectedItems() has to be an array of sap.ui.core.Item instances or of valid sap.ui.core.Item IDs",this);return;}if(typeof o==="string"){o=sap.ui.getCore().byId(o);}this.setSelection({item:o?o:null,id:o?o.getId():"",key:o?o.getKey():"",suppressInvalidate:true});},this);return this;};f.prototype.addSelectedItem=function(i){if(!i){return this;}if(typeof i==="string"){i=sap.ui.getCore().byId(i);}this.setSelection({item:i?i:null,id:i?i.getId():"",key:i?i.getKey():"",fireChangeEvent:false,suppressInvalidate:true});return this;};f.prototype.removeSelectedItem=function(i){if(!i){return null;}if(typeof i==="string"){i=sap.ui.getCore().byId(i);}if(!this.isItemSelected(i)){return null;}this.removeSelection({item:i,id:i.getId(),key:i.getKey(),fireChangeEvent:false,suppressInvalidate:true});return i;};f.prototype.removeAllSelectedItems=function(){var i=[];var g=this.getAssociation("selectedItems",[]);g.forEach(function(o){var h=this.removeSelectedItem(o);if(h){i.push(h.getId());}},this);return i;};f.prototype.removeSelectedKeys=function(k){var i=[],g;if(!k||!k.length||!q.isArray(k)){return i;}var o;k.forEach(function(K){o=this.getItemByKey(K);if(o){this.removeSelection({item:o?o:null,id:o?o.getId():"",key:o?o.getKey():"",fireChangeEvent:false,suppressInvalidate:true});i.push(o);}if(this._aCustomerKeys.length&&(g=this._aCustomerKeys.indexOf(K))>-1){this._aCustomerKeys.splice(g,1);}},this);return i;};f.prototype.setSelectedKeys=function(k){this.removeAllSelectedItems();this._aCustomerKeys=[];this.addSelectedKeys(k);return this;};f.prototype.addSelectedKeys=function(k){k=this.validateProperty("selectedKeys",k);k.forEach(function(K){var i=this.getItemByKey(K);if(i){this.addSelectedItem(i);}else if(K!=null){this._aCustomerKeys.push(K);}},this);return this;};f.prototype.getSelectedKeys=function(){var i=this.getSelectedItems()||[],k=[];i.forEach(function(o){k.push(o.getKey());},this);if(this._aCustomerKeys.length){k=k.concat(this._aCustomerKeys);}return k;};f.prototype._getUnselectedItems=function(){return q(this.getSelectableItems()).not(this.getSelectedItems()).get();};f.prototype.getSelectedItems=function(){var i=[],g=this.getAssociation("selectedItems")||[];g.forEach(function(s){var o=sap.ui.getCore().byId(s);if(o){i.push(o);}},this);return i;};f.prototype.getSelectableItems=function(){return this.getEnabledItems(this.getVisibleItems());};f.prototype.getWidth=function(){return this.getProperty("width")||"100%";};f.prototype.setEditable=function(g){a.prototype.setEditable.apply(this,arguments);this._oTokenizer.setEditable(g);return this;};f.prototype.clearFilter=function(){this.getItems().forEach(function(i){this.getListItem(i).setVisible(i.getEnabled()&&this.getSelectable(i));},this);};f.prototype._isListInSuggestMode=function(){return this.getList().getItems().some(function(o){return!o.getVisible()&&this._getItemByListItem(o).getEnabled();},this);};f.prototype._mapItemToListItem=function(i){if(!i){return null;}var s=this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"Item";var g=(this.isItemSelected(i))?s+"Selected":"";var o=new sap.m.StandardListItem({type:sap.m.ListType.Active,visible:i.getEnabled()}).addStyleClass(s+" "+g);o.setTooltip(i.getTooltip());i.data(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"ListItem",o);o.setTitle(i.getText());if(g){var t=new sap.m.Token({key:i.getKey()});t.setText(i.getText());t.setTooltip(i.getText());i.data(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Token",t);this._oTokenizer.addToken(t);}this.setSelectable(i,i.getEnabled());this._decorateListItem(o);return o;};f.prototype._findMappedItem=function(o,g){for(var i=0,g=g||this.getItems(),h=g.length;i<h;i++){if(this.getListItem(g[i])===o){return g[i];}}return null;};f.prototype.setSelectable=function(i,s){if(this.indexOfItem(i)<0){return;}i._bSelectable=s;var o=this.getListItem(i);if(o){o.setVisible(s);}var t=this._getTokenByItem(i);if(t){t.setVisible(s);}};f.prototype.getSelectable=function(i){return i._bSelectable;};f.prototype._fillList=function(g){if(!g){return null;}if(!this._oListItemEnterEventDelegate){this._oListItemEnterEventDelegate={onsapenter:function(j){if(j.srcControl.isSelected()){j.setMarked();}}};}for(var i=0,o,h=g.length;i<h;i++){o=this._mapItemToListItem(g[i]);o.removeEventDelegate(this._oListItemEnterEventDelegate);o.addDelegate(this._oListItemEnterEventDelegate,true,this,true);this.getList().addAggregation("items",o,true);if(this.isItemSelected(g[i])){this.getList().setSelectedItem(o,true);}}};f.prototype._handleInputValidation=function(o,g){var v=o.target.value,i,V,h,r,u;var j=g?q(o.target).control(0):o.srcControl;i=this._getItemsStartingText(v,true);V=!!i.length;if(!V&&v!==""){u=g?this._sComposition:(this._sOldValue||"");j.updateDomValue(u);if(this._iOldCursorPos){q(j.getFocusDomRef()).cursorPos(this._iOldCursorPos);}this._showWrongValueVisualEffect();return;}h=this.getEnabledItems();r=this._sOldInput&&this._sOldInput.length>v.length;if(r&&(this.isPickerDialog()&&this._getFilterSelectedButton().getPressed())){h=this.getSelectedItems();}else if(r){h=this.getItems();}this.filterItems(h,v);if((!this.getValue()||!V)&&!this.bOpenedByKeyboardOrButton&&!this.isPickerDialog()){this.close();}else{this.open();}this._sOldInput=v;};f.prototype.init=function(){C.prototype.init.apply(this,arguments);this.createList();this.bItemsUpdated=false;this._bCheckBoxClicked=true;this._bPreventValueRemove=false;this.setPickerType(sap.ui.Device.system.phone?"Dialog":"Popover");this._oTokenizer=this._createTokenizer();this._aCustomerKeys=[];this._aInitiallySelectedItems=[];this._bCompositionStart=false;this._bCompositionEnd=false;this._sComposition="";this.attachBrowserEvent("compositionstart",function(){this._bCompositionStart=true;this._bCompositionEnd=false;},this);this.attachBrowserEvent("compositionend",function(o){this._bCompositionStart=false;this._bCompositionEnd=true;this._handleInputValidation(o,true);this._bCompositionEnd=false;this._sComposition=o.target.value;},this);};f.prototype.clearSelection=function(){this.removeAllSelectedItems();};f.prototype.addItem=function(i){this.addAggregation("items",i);if(i){i.attachEvent("_change",this.onItemChange,this);}if(this.getList()){this.getList().addItem(this._mapItemToListItem(i));}return this;};f.prototype.insertItem=function(i,g){this.insertAggregation("items",i,g,true);if(i){i.attachEvent("_change",this.onItemChange,this);}if(this.getList()){this.getList().insertItem(this._mapItemToListItem(i),g);}return this;};f.prototype.getEnabledItems=function(i){i=i||this.getItems();return i.filter(function(o){return o.getEnabled();});};f.prototype.getItemByKey=function(k){return this.findItem("key",k);};f.prototype.removeItem=function(i){i=this.removeAggregation("items",i);if(this.getList()){this.getList().removeItem(i&&this.getListItem(i));}this.removeSelection({item:i,id:i?i.getId():"",key:i?i.getKey():"",fireChangeEvent:false,suppressInvalidate:true,listItemUpdated:true});return i;};f.prototype.isItemSelected=function(i){return this.getSelectedItems().indexOf(i)>-1;};f.prototype.findItem=function(p,v){var m="get"+p.charAt(0).toUpperCase()+p.slice(1);for(var i=0,g=this.getItems();i<g.length;i++){if(g[i][m]()===v){return g[i];}}return null;};f.prototype._clearTokenizer=function(){this._oTokenizer.destroyAggregation("tokens",true);};f.prototype.getList=function(){return this._oList;};f.prototype.exit=function(){a.prototype.exit.apply(this,arguments);if(this.getList()){this.getList().destroy();this._oList=null;}if(this._oTokenizer){this._oTokenizer.destroy();this._oTokenizer=null;}};f.prototype.destroyItems=function(){this.destroyAggregation("items");if(this.getList()){this.getList().destroyItems();}this._oTokenizer.destroyTokens();return this;};f.prototype.removeAllItems=function(){var i=this.removeAllAggregation("items");this.removeAllSelectedItems();if(this.getList()){this.getList().removeAllItems();}return i;};f.prototype._getItemByListItem=function(o){return this._getItemBy(o,"ListItem");};f.prototype._getItemByToken=function(t){return this._getItemBy(t,"Token");};f.prototype._getItemBy=function(o,s){s=this.getRenderer().CSS_CLASS_COMBOBOXBASE+s;for(var i=0,g=this.getItems(),h=g.length;i<h;i++){if(g[i].data(s)===o){return g[i];}}return null;};f.prototype.getListItem=function(i){return i?i.data(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"ListItem"):null;};f.prototype.getAccessibilityInfo=function(){var t=this.getSelectedItems().map(function(o){return o.getText();}).join(" ");var i=a.prototype.getAccessibilityInfo.apply(this,arguments);i.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_MULTICOMBO");i.description=((i.description||"")+" "+t).trim();return i;};return f;},true);
sap.ui.predefine('sap/m/MultiComboBoxRenderer',['jquery.sap.global','./ComboBoxBaseRenderer','sap/ui/core/Renderer','sap/ui/core/ValueStateSupport'],function(q,C,R,V){"use strict";var M=R.extend(sap.m.ComboBoxBaseRenderer);M.CSS_CLASS_MULTICOMBOBOX="sapMMultiComboBox";M.DOT_CSS_CLASS_MULTICOMBOBOX=".sapMMultiComboBox";M.addOuterClasses=function(r,c){sap.m.ComboBoxBaseRenderer.addOuterClasses.apply(this,arguments);r.addClass(M.CSS_CLASS_MULTICOMBOBOX);if(c._hasTokens()){r.addClass("sapMMultiComboBoxHasToken");}};M.addInnerClasses=function(r,c){C.addInnerClasses.apply(this,arguments);r.addClass(M.CSS_CLASS_MULTICOMBOBOX+"InputInner");};M.addButtonClasses=function(r,c){C.addButtonClasses.apply(this,arguments);r.addClass(M.CSS_CLASS_MULTICOMBOBOX+"Arrow");};M.openInputTag=function(r,c){r.write('<div class="sapMMultiComboBoxBorder"');r.writeAttribute("id",c.getId()+"-border");r.write(">");r.renderControl(c._oTokenizer);r.write("<div class=\"sapMMultiComboBoxInputContainer\">");C.openInputTag.call(this,r,c);};M.closeInputTag=function(r,c){C.closeInputTag.call(this,r,c);r.write("</div>");r.write("</div>");};return M;},true);
sap.ui.predefine('sap/m/MultiInput',['jquery.sap.global','./Input','./Tokenizer','./Token','./library','sap/ui/Device','sap/ui/core/InvisibleText'],function(q,I,T,a,l,D,b){"use strict";var M=I.extend("sap.m.MultiInput",{metadata:{library:"sap.m",properties:{enableMultiLineMode:{type:"boolean",group:"Behavior",defaultValue:false},maxTokens:{type:"int",group:"Behavior"}},aggregations:{tokens:{type:"sap.m.Token",multiple:true,singularName:"token"},tokenizer:{type:"sap.m.Tokenizer",multiple:false,visibility:"hidden"},_tokensInfo:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}},events:{tokenChange:{parameters:{type:{type:"string"},token:{type:"sap.m.Token"},tokens:{type:"sap.m.Token[]"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}},tokenUpdate:{type:{type:"string"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}}}});var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");M.prototype.init=function(){I.prototype.init.call(this);this._bIsValidating=false;this._tokenizer=new T();this.setAggregation("tokenizer",this._tokenizer);this._tokenizer.attachTokenChange(this._onTokenChange,this);this._tokenizer.attachTokenUpdate(this._onTokenUpdate,this);this.setShowValueHelp(true);this.setShowSuggestion(true);this.attachSuggestionItemSelected(this._onSuggestionItemSelected,this);this.attachLiveChange(this._onLiveChange,this);if(sap.ui.getCore().getConfiguration().getAccessibility()){var A=new b({text:r.getText("MULTIINPUT_ARIA_CONTAIN_TOKEN")});this.setAggregation("_tokensInfo",A);}};M.prototype._onTokenChange=function(c){var t=this.getTokens(),L=t.length;this.fireTokenChange(c.getParameters());this.invalidate();if(this._bUseDialog&&this._tokenizer.getParent()instanceof sap.m.Dialog){this._showAllTokens();return;}var f=q.sap.containsOrEquals(this.getDomRef(),document.activeElement);if(c.getParameter("type")==="tokensChanged"&&c.getParameter("removedTokens").length>0&&f){this.focus();}if(c.getParameter("type")==="added"&&L>1&&this.getEditable()&&this._isMultiLineMode&&!this.$("border").hasClass("sapMMultiInputMultiModeBorder")){this._showIndicator();}if(c.getParameter("type")==="removed"&&this._isMultiLineMode){if(L<2){this._removeIndicator();}}};M.prototype._onTokenUpdate=function(c){this.fireTokenUpdate(c.getParameters());this.invalidate();};M.prototype._onSuggestionItemSelected=function(e){var i=null,t=null,c=this,o=this._tokenizer.getTokens().length;if(this.getMaxTokens()&&o>=this.getMaxTokens()){return;}if(this._hasTabularSuggestions()){i=e.getParameter("selectedRow");}else{i=e.getParameter("selectedItem");if(i){t=new a({text:i.getText(),key:i.getKey()});}}if(i){var d=this.getValue();this._tokenizer._addValidateToken({text:d,token:t,suggestionObject:i,validationCallback:function(v){if(v){c.setValue("");}}});}if(this._bUseDialog&&this._tokenizer.getParent()instanceof sap.m.Dialog){var n=this._tokenizer.getTokens().length;if(o<n){this.setValue("");}if(this._tokenizer.getVisible()===false){this._tokenizer.setVisible(true);}if(this._oList instanceof sap.m.Table){this._oList.addStyleClass("sapMInputSuggestionTableHidden");}else{this._oList.destroyItems();}var s=this._oSuggestionPopup.getScrollDelegate();if(s){s.scrollTo(0,0,0);}this._oPopupInput.focus();}};M.prototype._onLiveChange=function(e){this._tokenizer._removeSelectedTokens();if(this._bUseDialog&&this._isMultiLineMode){var v=e.getParameter("newValue");if(this._oSuggestionPopup&&this._oSuggestionPopup.getContent().length>1&&v.length>0){this._tokenizer.setVisible(false);}else{this._tokenizer.setVisible(true);}}};M.prototype._showIndicator=function(){var t=this.getTokens(),i=t.length;this._tokenizer.setVisible(true);if(i>1){if(this.$().find(".sapMMultiInputIndicator").length!==0){this._removeIndicator();}var s="<span class=\"sapMMultiInputIndicator\">"+r.getText("MULTIINPUT_SHOW_MORE_TOKENS",i-1)+"</span>";this.$().find(".sapMMultiInputInputContainer").prepend(s);this._setValueInvisible();this._bShowIndicator=true;}};M.prototype._setValueInvisible=function(){this.$("inner").css("opacity","0");};M.prototype._setValueVisible=function(){this.$("inner").css("opacity","1");};M.prototype._showAllTokens=function(){this._tokenizer.setVisible(true);this._removeIndicator();};M.prototype._removeIndicator=function(){this.$().find(".sapMMultiInputIndicator").remove();this._bShowIndicator=false;};M.prototype.setEnableMultiLineMode=function(m){this.setProperty("enableMultiLineMode",m,true);if(m){this.$().addClass("sapMMultiInputMultiLine");}else{this.$().removeClass("sapMMultiInputMultiLine");}this.closeMultiLine();var t=this;if(this._bUseDialog){m=true;}if(m){if(this.getEditable()){this._showIndicator();}this._isMultiLineMode=true;if(this.getDomRef()){setTimeout(function(){t._tokenizer.scrollToEnd();},0);}}else{this._isMultiLineMode=false;this._showAllTokens();this._setValueVisible();if(this.getDomRef()){setTimeout(function(){t._tokenizer.scrollToEnd();},0);}}return this;};M.prototype._openMultiLineOnPhone=function(){var t=this;if(!this.getEditable()){return;}this._oSuggestionPopup.open();this._oSuggestionPopup.insertContent(this._tokenizer,0);this._tokenizer.setReverseTokens(true);var v=this._oPopupInput.getValue();if(this._oSuggestionPopup&&this._oSuggestionPopup.getContent().length>1&&v.length>0){this._tokenizer.setVisible(false);}else{this._tokenizer.setVisible(true);}this._tokenizer._oScroller.setHorizontal(false);this._tokenizer.addStyleClass("sapMTokenizerMultiLine");if(this._oSuggestionTable.getItems().length===0){this._oPopupInput.onsapenter=function(e){t._validateCurrentText();t._setValueInvisible();};}};M.prototype._openMultiLineOnDesktop=function(){var t=this;this._setValueVisible();this.$("border").addClass("sapMMultiInputMultiModeBorder");if(this._$input){this._$input.parents('.sapMMultiInputBorder').addClass("sapMMultiInputMultiModeInputContainer");}this.$().find(".sapMInputValHelp").attr("tabindex","-1");var p=this.getParent();this._originalOverflow=null;if(p&&p.$&&p.$().css("overflow")==="hidden"){this._originalOverflow=p.$().css("overflow");p.$().css("overflow","visible");}var P;if(this.$().closest('.sapUiVlt').length!==0){P=this.$().closest('.sapUiVlt');}else if(this.$().parent('[class*="sapUiRespGridSpan"]').length!==0){P=this.$().parent('[class*="sapUiRespGridSpan"]');}else if(this.$().parents(".sapUiRFLContainer").length!==0){P=this.$().parents(".sapUiRFLContainer");}if(P&&P.length>0&&P.css("overflow")==="hidden"){P.css("overflow","visible");}setTimeout(function(){t._showAllTokens();t._tokenizer.scrollToStart();},0);};M.prototype.openMultiLine=function(){var t=this.getTokens();if(!this.getEditable()){return;}if(this.getEnableMultiLineMode()&&t.length>0&&!D.system.phone){this._openMultiLineOnDesktop();}};M.prototype.closeMultiLine=function(){if(!this.getEditable()){return;}if(this._bUseDialog){this._oSuggestionPopup.close();this._tokenizer.setVisible(true);}else{this.$("border").removeClass("sapMMultiInputMultiModeBorder");if(this._$input){this._$input.parents('.sapMMultiInputBorder').removeClass("sapMMultiInputMultiModeInputContainer");}this.$().find(".sapMInputValHelp").removeAttr("tabindex");if(this._originalOverflow){var p=this.getParent();p.$().css("overflow",this._originalOverflow);}}};M.prototype.getScrollDelegate=function(){return this._tokenizer._oScroller;};M.prototype.onBeforeRendering=function(){var t=this.getAggregation("tokenizer"),i=this.getTokens().length,o,m="";if(t){t.toggleStyleClass("sapMTokenizerEmpty",t.getTokens().length===0);}if(sap.ui.getCore().getConfiguration().getAccessibility()){o=this.getAggregation("_tokensInfo");switch(i){case 0:m=r.getText("MULTIINPUT_ARIA_CONTAIN_TOKEN");break;case 1:m=r.getText("MULTIINPUT_ARIA_CONTAIN_ONE_TOKEN");break;default:m=r.getText("MULTIINPUT_ARIA_CONTAIN_SEVERAL_TOKENS",i);break;}o.setText(m);}I.prototype.onBeforeRendering.apply(this,arguments);};M.prototype.onAfterRendering=function(){this._tokenizer._doScrollToEnd();I.prototype.onAfterRendering.apply(this,arguments);};M.prototype.addValidator=function(v){this._tokenizer.addValidator(v);};M.prototype.removeValidator=function(v){this._tokenizer.removeValidator(v);};M.prototype.removeAllValidators=function(){this._tokenizer.removeAllValidators();};M.prototype.onsapnext=function(e){if(e.isMarked()){return;}var f=q(document.activeElement).control()[0];if(!f){return;}if(this._tokenizer===f||this._tokenizer.$().find(f.$()).length>0){this._scrollAndFocus();}};M.prototype.onsapbackspace=function(e){if(this.getCursorPosition()>0||!this.getEditable()||this.getValue().length>0){return;}T.prototype.onsapbackspace.apply(this._tokenizer,arguments);e.preventDefault();e.stopPropagation();};M.prototype.onsapdelete=function(e){if(!this.getEditable()){return;}if(this.getValue()&&!this._completeTextIsSelected()){return;}T.prototype.onsapdelete.apply(this._tokenizer,arguments);};M.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.TAB){T._changeAllTokensSelection(false);}if((e.ctrlKey||e.metaKey)&&e.which===q.sap.KeyCodes.A){if(this._tokenizer.getTokens().length>0){this._tokenizer.focus();this._tokenizer._changeAllTokensSelection(true);e.preventDefault();}}if((e.ctrlKey||e.metaKey)&&(e.which===q.sap.KeyCodes.C||e.which===q.sap.KeyCodes.INSERT)){this._tokenizer._copy();}if(((e.ctrlKey||e.metaKey)&&e.which===q.sap.KeyCodes.X)||(e.shiftKey&&e.which===q.sap.KeyCodes.DELETE)){if(this.getEditable()){this._tokenizer._cut();}else{this._tokenizer._copy();}}};M.prototype.onpaste=function(e){var o,i,v=[],A=[];if(this.getValueHelpOnly()){return;}if(window.clipboardData){o=window.clipboardData.getData("Text");}else{o=e.originalEvent.clipboardData.getData('text/plain');}var s=this._tokenizer._parseString(o);setTimeout(function(){if(s){if(this.fireEvent("_validateOnPaste",{texts:s},true)){var c="";for(i=0;i<s.length;i++){if(s[i]){var t=this._convertTextToToken(s[i]);if(t){v.push(t);}else{c=s[i];}}}this.updateDomValue(c);for(i=0;i<v.length;i++){if(this._tokenizer._addUniqueToken(v[i])){A.push(v[i]);}}if(A.length>0){this.fireTokenUpdate({addedTokens:A,removedTokens:[],type:T.TokenUpdateType.Added});}}this.cancelPendingSuggest();}}.bind(this),0);};M.prototype._convertTextToToken=function(t){var c=null,i=null,d=null,o=this._tokenizer.getTokens().length;if(!this.getEditable()){return null;}t=t.trim();if(!t){return null;}if(this._getIsSuggestionPopupOpen()){if(this._hasTabularSuggestions()){i=this._oSuggestionTable._oSelectedItem;}else{i=this._getSuggestionItem(t);}}if(i&&i.getText&&i.getKey){d=new a({text:i.getText(),key:i.getKey()});}var e=this;c=this._tokenizer._validateToken({text:t,token:d,suggestionObject:i,validationCallback:function(v){e._bIsValidating=false;if(v){e.setValue("");if(e._bUseDialog&&e._isMultiLineMode&&e._oSuggestionTable.getItems().length===0){var n=e._tokenizer.getTokens().length;if(o<n){e._oPopupInput.setValue("");}if(e._tokenizer.getVisible()===false){e._tokenizer.setVisible(true);}e._setAllTokenVisible();}}}});return c;};M.prototype.onsapprevious=function(e){if(this._getIsSuggestionPopupOpen()){return;}if(this.getCursorPosition()===0){if(e.srcControl===this){T.prototype.onsapprevious.apply(this._tokenizer,arguments);e.preventDefault();}}};M.prototype._scrollAndFocus=function(){this._tokenizer.scrollToEnd();this.$().find("input").focus();};M.prototype.onsaphome=function(e){if(this._tokenizer._checkFocus()){T.prototype.onsaphome.apply(this._tokenizer,arguments);}};M.prototype.onsapend=function(e){if(this._tokenizer._checkFocus()){T.prototype.onsapend.apply(this._tokenizer,arguments);e.preventDefault();}};M.prototype.onsapenter=function(e){var v=true;if(this._oSuggestionPopup&&this._oSuggestionPopup.isOpen()){if(this._hasTabularSuggestions()){v=!this._oSuggestionTable.getSelectedItem();}else{v=!this._oList.getSelectedItem();}}if(v){this._validateCurrentText();}if(I.prototype.onsapenter){I.prototype.onsapenter.apply(this,arguments);}this.focus();};M.prototype._checkFocus=function(){return this.getDomRef()&&q.sap.containsOrEquals(this.getDomRef(),document.activeElement);};M.prototype.onsapfocusleave=function(e){var p=this._oSuggestionPopup,n=false,N=false,c=this._checkFocus(),R;if(p instanceof sap.m.Popover){if(e.relatedControlId){R=sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef();n=q.sap.containsOrEquals(p.getFocusDomRef(),R);N=q.sap.containsOrEquals(this._tokenizer.getFocusDomRef(),R);}}if(!N&&!n&&!this._isMultiLineMode){this._tokenizer.scrollToEnd();}I.prototype.onsapfocusleave.apply(this,arguments);if(this._bIsValidating){return;}if(!this._bUseDialog&&!n&&e.relatedControlId!==this.getId()&&e.relatedControlId!==this._tokenizer.getId()&&!N&&!(this._isMultiLineMode&&this._bShowIndicator)){this._validateCurrentText(true);}if(!this._bUseDialog&&this._isMultiLineMode&&!this._bShowIndicator&&this.getEditable()){if(c||n){return;}this.closeMultiLine();this._showIndicator();}T.prototype.onsapfocusleave.apply(this._tokenizer,arguments);if(!this._bUseDialog&&this._isMultiLineMode&&this._bShowIndicator){var $=this.$().find(".sapMMultiInputBorder");$.scrollTop(0);}};M.prototype._onDialogClose=function(){this._validateCurrentText();this._tokenizer._oScroller.setHorizontal(true);this._tokenizer.removeStyleClass("sapMTokenizerMultiLine");this.setAggregation("tokenizer",this._tokenizer);this._tokenizer.setReverseTokens(false);this._tokenizer.invalidate();};M.prototype.ontap=function(e){if(document.activeElement===this._$input[0]){this._tokenizer.selectAllTokens(false);}I.prototype.ontap.apply(this,arguments);};M.prototype._onclick=function(e){if(this._bUseDialog){this._openMultiLineOnPhone();}};M.prototype.onfocusin=function(e){if(this.getEditable()&&this.getEnableMultiLineMode()){this.openMultiLine();}if(e.target===this.getFocusDomRef()){I.prototype.onfocusin.apply(this,arguments);}};M.prototype.onsapescape=function(e){this._tokenizer.selectAllTokens(false);this.selectText(0,0);I.prototype.onsapescape.apply(this,arguments);};M.prototype._validateCurrentText=function(e){var o=this._tokenizer.getTokens().length;var t=this.getValue();if(!t||!this.getEditable()){return;}t=t.trim();if(!t){return;}var i=null;if(e||this._getIsSuggestionPopupOpen()){if(this._hasTabularSuggestions()){i=this._oSuggestionTable._oSelectedItem;}else{i=this._getSuggestionItem(t,e);}}var c=null;if(i&&i.getText&&i.getKey){c=new a({text:i.getText(),key:i.getKey()});}var d=this;if(!this.getMaxTokens()||this.getTokens().length<this.getMaxTokens()){this._bIsValidating=true;this._tokenizer._addValidateToken({text:t,token:c,suggestionObject:i,validationCallback:function(v){d._bIsValidating=false;if(v){d.setValue("");if(d._bUseDialog&&d._isMultiLineMode&&d._oSuggestionTable.getItems().length===0){var n=d._tokenizer.getTokens().length;if(o<n){d._oPopupInput.setValue("");}if(d._tokenizer.getVisible()===false){d._tokenizer.setVisible(true);}}}}});}};M.prototype.getCursorPosition=function(){return this._$input.cursorPos();};M.prototype._completeTextIsSelected=function(){var i=this._$input[0];if(i.selectionStart!==0){return false;}if(i.selectionEnd!==this.getValue().length){return false;}return true;};M.prototype._getIsSuggestionPopupOpen=function(){return this._oSuggestionPopup&&this._oSuggestionPopup.isOpen();};M.prototype.setEditable=function(e){e=this.validateProperty("editable",e);if(e===this.getEditable()){return this;}if(e&&(this.getEnableMultiLineMode()||this._bUseDialog)&&this.getTokens().length>1){this._bShowIndicator=true;}else{this._bShowIndicator=false;}if(I.prototype.setEditable){I.prototype.setEditable.apply(this,arguments);}this._tokenizer.setEditable(e);return this;};M.prototype._findItem=function(t,c,e,g){if(!t){return;}if(!(c&&c.length)){return;}t=t.toLowerCase();var d=c.length;for(var i=0;i<d;i++){var f=c[i];var h=g(f);if(!h){continue;}h=h.toLowerCase();if(h===t){return f;}if(!e&&h.indexOf(t)===0){return f;}}};M.prototype._getSuggestionItem=function(t,e){var c=null;var d=null;if(this._hasTabularSuggestions()){c=this.getSuggestionRows();d=this._findItem(t,c,e,function(R){var f=R.getCells();var g=null;if(f){var i;for(i=0;i<f.length;i++){if(f[i].getText){g=f[i].getText();break;}}}return g;});}else{c=this.getSuggestionItems();d=this._findItem(t,c,e,function(d){return d.getText();});}return d;};M.prototype.addToken=function(t){this._tokenizer.addToken(t);return this;};M.prototype.removeToken=function(t){return this._tokenizer.removeToken(t);};M.prototype.removeAllTokens=function(){return this._tokenizer.removeAllTokens();};M.prototype.getTokens=function(){return this._tokenizer.getTokens();};M.prototype.insertToken=function(t,i){this._tokenizer.insertToken(t,i);return this;};M.prototype.indexOfToken=function(t){return this._tokenizer.indexOfToken(t);};M.prototype.destroyTokens=function(){this._tokenizer.destroyTokens();return this;};M.prototype.updateTokens=function(){this.destroyTokens();this.updateAggregation("tokens");};M.prototype.getAggregation=function(A,d){var t;if(A==="tokens"){t=this.getTokens();if(t.length===0){t=d||null;}return t;}else{return I.prototype.getAggregation.apply(this,arguments);}};M.prototype.clone=function(){var c,t;this._tokenizer.detachTokenChange(this._onTokenChange,this);this.detachSuggestionItemSelected(this._onSuggestionItemSelected,this);this.detachLiveChange(this._onLiveChange,this);c=I.prototype.clone.apply(this,arguments);t=this._tokenizer.clone();c._tokenizer=t;c.setAggregation("tokenizer",t,true);this._tokenizer.attachTokenChange(this._onTokenChange,this);this.attachSuggestionItemSelected(this._onSuggestionItemSelected,this);this.attachLiveChange(this._onLiveChange,this);return c;};M.prototype.getPopupAnchorDomRef=function(){return this.getDomRef("border");};M.prototype.setTokens=function(t){var v,V=[],i;if(Array.isArray(t)){for(i=0;i<t.length;i++){v=this.validateAggregation("tokens",t[i],true);V.push(v);}this._tokenizer.setTokens(V);}else{throw new Error("\""+t+"\" is of type "+typeof t+", expected array for aggregation tokens of "+this);}return this;};M.TokenChangeType={Added:"added",Removed:"removed",RemovedAll:"removedAll",TokensChanged:"tokensChanged"};M.WaitForAsyncValidation="sap.m.Tokenizer.WaitForAsyncValidation";M.prototype.getDomRefForValueStateMessage=M.prototype.getPopupAnchorDomRef;M.prototype.getAccessibilityInfo=function(){var t=this.getTokens().map(function(o){return o.getText();}).join(" ");var i=I.prototype.getAccessibilityInfo.apply(this,arguments);i.type=r.getText("ACC_CTR_TYPE_MULTIINPUT");i.description=((i.description||"")+" "+t).trim();return i;};return M;},true);
sap.ui.predefine('sap/m/MultiInputRenderer',['jquery.sap.global','./InputRenderer','sap/ui/core/Renderer'],function(q,I,R){"use strict";var M=R.extend(I);M.addOuterClasses=function(r,c){I.addOuterClasses.call(this,r,c);r.addClass("sapMMultiInput");if(c.getEnableMultiLineMode()){r.addClass("sapMMultiInputMultiLine");}if(c.getTokens().length>0){r.addClass("sapMMultiInputNoPlaceholder");}};M.getAriaDescribedBy=function(c){var a=I.getAriaDescribedBy.apply(this,arguments),i=c.getAggregation("_tokensInfo").getId();if(a){a=a+" "+i;}else{a=i;}return a;};M.renderAriaDescribedBy=function(r,c){I.renderAriaDescribedBy.call(this,r,c);r.renderControl(c.getAggregation("_tokensInfo"));};M.openInputTag=function(r,c){r.write('<div id="'+c.getId()+'-border"');r.addClass('sapMMultiInputBorder');if(c.getTokens().length>0){r.addClass("sapMMultiInputNarrowBorder");}if(c.getEnableMultiLineMode()||c._bUseDialog){c._isMultiLineMode=true;if(c.getEditable()){c._showIndicator();}else{c._showAllTokens();}}r.writeClasses();r.write('>');M._renderTokens(r,c);M._renderInput(r,c);};M._renderTokens=function(r,c){r.renderControl(c.getAggregation("tokenizer"));};M._renderInput=function(r,c){r.write("<div class=\"sapMMultiInputInputContainer\">");if(c._isMultiLineMode&&c._bShowIndicator===true){var t=c.getTokens().length;r.write("<span class=\"sapMMultiInputIndicator\">");if(t>1){var m=sap.ui.getCore().getLibraryResourceBundle("sap.m");r.write(m.getText("MULTIINPUT_SHOW_MORE_TOKENS",t-1));}r.write("</span>");}I.openInputTag.call(this,r,c);};M.writeInnerContent=function(r,c){};M.closeInputTag=function(r,c){I.closeInputTag.call(this,r,c);r.write("</div>");I.writeValueHelpIcon(r,c);r.write("</div>");r.write("<div class=\"sapMMultiInputShadowDiv\"></div>");};M.addInnerStyles=function(r,c){if(c._isMultiLineMode&&c._bShowIndicator===true&&c.getTokens().length>1){r.addStyle("opacity",0);}};M.addControlWidth=function(r,c){if(!c.getWidth()||c.getWidth()==="auto"){r.addStyle("width","100%");}else{I.addControlWidth.call(this,r,c);}};return M;},true);
sap.ui.predefine('sap/m/NewsContent',['jquery.sap.global','./library','sap/ui/core/Control','sap/m/Text'],function(q,l,C,T){"use strict";var N=C.extend("sap.m.NewsContent",{metadata:{library:"sap.m",properties:{"size":{type:"sap.m.Size",group:"Misc",defaultValue:sap.m.Size.Auto},"contentText":{type:"string",group:"Misc",defaultValue:null},"subheader":{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"_contentText",aggregations:{"_contentText":{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{"press":{}}}});N.prototype.init=function(){this._oContentText=new T(this.getId()+"-content-text",{maxLines:2});this._oContentText.cacheLineHeight=false;this.setAggregation("_contentText",this._oContentText,true);this.setTooltip("{AltText}");};N.prototype.onBeforeRendering=function(){this._setPointerOnContentText();this.$().unbind("mouseenter",this._addTooltip);this.$().unbind("mouseleave",this._removeTooltip);};N.prototype.onAfterRendering=function(){this.$().bind("mouseenter",this._addTooltip.bind(this));this.$().bind("mouseleave",this._removeTooltip.bind(this));};N.prototype._addTooltip=function(){this.$().attr("title",this.getTooltip_AsString());};N.prototype._removeTooltip=function(){this.$().attr("title",null);};N.prototype._setPointerOnContentText=function(){var t=this.getAggregation("_contentText");if(t&&this.hasListeners("press")){t.addStyleClass("sapMPointer");}else if(t&&t.hasStyleClass("sapMPointer")){t.removeStyleClass("sapMPointer");}};N.prototype.getAltText=function(){var a="";var i=true;if(this.getAggregation("_contentText").getText()){a+=this.getAggregation("_contentText").getText();i=false;}if(this.getSubheader()){if(i){a+=""+this.getSubheader();}else{a+="\n"+this.getSubheader();}}return a;};N.prototype.getTooltip_AsString=function(){var t=this.getTooltip();var s=this.getAltText();if(typeof t==="string"||t instanceof String){s=t.split("{AltText}").join(s).split("((AltText))").join(s);return s;}if(t){return t;}else{return"";}};N.prototype.setContentText=function(t){this._oContentText.setText(t);return this;};N.prototype.ontap=function(e){if(sap.ui.Device.browser.internet_explorer){this.$().focus();}this.firePress();};N.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.ENTER||e.which===q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};N.prototype.attachEvent=function(e,d,f,a){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,a);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapMPointer");this._setPointerOnContentText();}return this;};N.prototype.detachEvent=function(e,f,a){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,a);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapMPointer");this._setPointerOnContentText();}return this;};return N;},true);
sap.ui.predefine('sap/m/NewsContentRenderer',[],function(){"use strict";var N={};N.render=function(r,c){var s=c.getSubheader();var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}r.write("<div");r.writeControlData(c);r.writeAttribute("id",c.getId()+"-news-content");r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",t);r.addClass("sapMNwC");if(c.hasListeners("press")){r.addClass("sapMPointer");r.writeAttribute("tabindex","0");}r.writeClasses();r.write(">");r.write("<div");r.addClass("sapMNwCCTxt");r.writeClasses();r.write(">");r.renderControl(c._oContentText);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-subheader");r.addClass("sapMNwCSbh");r.writeClasses();r.write(">");r.writeEscaped(s);r.write("</div>");r.write("</div>");};return N;},true);
sap.ui.predefine('sap/m/NotificationListBase',['jquery.sap.global','./library','sap/ui/core/Control','./ListItemBase','./Text','./Image','./OverflowToolbar','sap/ui/core/Icon'],function(q,l,C,L,T,I,O,a){'use strict';var N=L.extend('sap.m.NotificationListBase',{metadata:{library:'sap.m',properties:{priority:{type:'sap.ui.core.Priority',group:'Appearance',defaultValue:sap.ui.core.Priority.None},title:{type:'string',group:'Appearance',defaultValue:''},datetime:{type:'string',group:'Appearance',defaultValue:''},showButtons:{type:'boolean',group:'Behavior',defaultValue:true},showCloseButton:{type:'boolean',group:'Behavior',defaultValue:true},authorName:{type:'string',group:'Appearance',defaultValue:''},authorPicture:{type:'sap.ui.core.URI',multiple:false}},aggregations:{buttons:{type:'sap.m.Button',multiple:true},_headerTitle:{type:'sap.m.Text',multiple:false,visibility:"hidden"},_dateTime:{type:'sap.m.Text',multiple:false,visibility:'hidden'},_authorName:{type:'sap.m.Text',multiple:false,visibility:"hidden"},_authorImage:{type:'sap.ui.core.Control',multiple:false,visibility:"hidden"},_overflowToolbar:{type:'sap.m.OverflowToolbar',multiple:false,visibility:"hidden"},_closeButton:{type:'sap.m.Button',multiple:false,visibility:"hidden"},_collapseButton:{type:'sap.m.Button',multiple:false,visibility:"hidden"}},events:{close:{}}}});N.prototype.init=function(){this.setAggregation('_overflowToolbar',new O());};N.prototype.setTitle=function(t){var r=this.setProperty('title',t);this._getHeaderTitle().setText(t);return r;};N.prototype.setDatetime=function(d){var r=this.setProperty('datetime',d);this._getDateTimeText().setText(d);return r;};N.prototype.setAuthorName=function(b){var r=this.setProperty('authorName',b);this._getAuthorName().setText(b);return r;};N.prototype.clone=function(){var c=C.prototype.clone.apply(this,arguments);var o=this.getAggregation('_overflowToolbar');c.setAggregation("_overflowToolbar",o.clone(),true);return c;};N.prototype.close=function(){var p=this.getParent();this.fireClose();if(p&&p instanceof sap.ui.core.Element){var d={onAfterRendering:function(){p.getDomRef().focus();p.removeEventDelegate(d);}};p.addEventDelegate(d);}};N.prototype.bindAggregation=function(b,c){if(b=='buttons'){this.getAggregation('_overflowToolbar').bindAggregation('content',c);return this;}else{return sap.ui.core.Control.prototype.bindAggregation.call(this,b,c);}};N.prototype.validateAggregation=function(b,o,m){if(b=='buttons'){this.getAggregation('_overflowToolbar').validateAggregation('content',o,m);return this;}else{return sap.ui.core.Control.prototype.validateAggregation.call(this,b,o,m);}};N.prototype.setAggregation=function(b,o,s){if(b=='buttons'){this.getAggregation('_overflowToolbar').setAggregation('content',o,s);return this;}else{return sap.ui.core.Control.prototype.setAggregation.call(this,b,o,s);}};N.prototype.getAggregation=function(b,d){if(b=='buttons'){var t=this.getAggregation('_overflowToolbar');return t.getContent().filter(function(c){return c instanceof sap.m.Button;});}else{return sap.ui.core.Control.prototype.getAggregation.call(this,b,d);}};N.prototype.indexOfAggregation=function(b,o){if(b=='buttons'){return this.getAggregation('_overflowToolbar').indexOfAggregation('content',o);}else{return sap.ui.core.Control.prototype.indexOfAggregation.call(this,b,o);}};N.prototype.insertAggregation=function(b,o,c,s){if(b=='buttons'){this.getAggregation('_overflowToolbar').insertAggregation('content',o,c,s);return this;}else{return sap.ui.core.Control.prototype.insertAggregation.call(this,o,c,s);}};N.prototype.addAggregation=function(b,o,s){if(b=='buttons'){var t=this.getAggregation('_overflowToolbar');return t.addAggregation('content',o,s);}else{return sap.ui.core.Control.prototype.addAggregation.call(this,b,o,s);}};N.prototype.removeAggregation=function(b,o,s){if(b=='buttons'){return this.getAggregation('_overflowToolbar').removeAggregation('content',o,s);}else{return sap.ui.core.Control.prototype.removeAggregation.call(this,b,o,s);}};N.prototype.removeAllAggregation=function(b,s){if(b=='buttons'){return this.getAggregation('_overflowToolbar').removeAllAggregation('content',s);}else{return sap.ui.core.Control.prototype.removeAllAggregation.call(this,b,s);}};N.prototype.destroyAggregation=function(b,s){if(b=='buttons'){return this.getAggregation('_overflowToolbar').destroyAggregation('content',s);}else{return sap.ui.core.Control.prototype.destroyAggregation.call(this,b,s);}};N.prototype.getBinding=function(b){if(b=='buttons'){return this.getAggregation('_overflowToolbar').getBinding('content');}else{return sap.ui.core.Control.prototype.getBinding.call(this,b);}};N.prototype.getBindingInfo=function(b){if(b=='buttons'){return this.getAggregation('_overflowToolbar').getBindingInfo('content');}else{return sap.ui.core.Control.prototype.getBindingInfo.call(this,b);}};N.prototype.getBindingPath=function(b){if(b=='buttons'){return this.getAggregation('_overflowToolbar').getBindingPath('content');}else{return sap.ui.core.Control.prototype.getBindingPath.call(this,b);}};N.prototype._getHeaderTitle=function(){var t=this.getAggregation("_headerTitle");if(!t){t=new T({id:this.getId()+'-title',text:this.getTitle(),maxLines:2});this.setAggregation("_headerTitle",t,true);}return t;};N.prototype._getDateTimeText=function(){var d=this.getAggregation('_dateTime');if(!d){d=new sap.m.Text({id:this.getId()+'-datetime',text:this.getDatetime()}).addStyleClass('sapMNLI-Datetime');this.setAggregation('_dateTime',d,true);}return d;};N.prototype._getAuthorName=function(){var b=this.getAggregation('_authorName');if(!b){b=new T({text:this.getAuthorName()}).addStyleClass('sapMNLI-Text');this.setAggregation('_authorName',b,true);}return b;};N.prototype._getAuthorImage=function(){var b=this.getAggregation('_authorImage');if(!b){var c=this.getAuthorPicture();var d=this.getAuthorName();if(i(c)){b=new a({src:c,alt:d});}else{b=new I({src:c,alt:d});}this.setAggregation('_authorImage',b,true);}return b;};N.prototype._getToolbar=function(){var t=this.getAggregation("_overflowToolbar");if(!t){t=new O();this.setAggregation("_overflowToolbar",t,true);}return t;};function i(s){if(!s){return false;}var r=window.URI.parse(s);return(r.protocol&&r.protocol=='sap-icon');}return N;},true);
sap.ui.predefine('sap/m/NotificationListGroup',['jquery.sap.global','./library','sap/ui/core/Control','./NotificationListBase','sap/ui/core/InvisibleText','./ListItemBase'],function(q,l,C,N,I,L){'use strict';var a=N.extend('sap.m.NotificationListGroup',{metadata:{library:'sap.m',properties:{collapsed:{type:'boolean',group:'Behavior',defaultValue:false},autoPriority:{type:'boolean',group:'Behavior',defaultValue:true},showEmptyGroup:{type:'boolean',group:'Behavior',defaultValue:false},enableCollapseButtonWhenEmpty:{type:'boolean',group:'Behavior',defaultValue:false}},defaultAggregation:'items',aggregations:{items:{type:'sap.m.NotificationListItem',multiple:true,singularName:'item'},_ariaDetailsText:{type:'sap.ui.core.InvisibleText',multiple:false,visibility:'hidden'}},events:{onCollapse:{parameters:{collapsed:{type:'boolean'}}}}}});a.prototype.init=function(){sap.m.NotificationListBase.prototype.init.call(this);var r=sap.ui.getCore().getLibraryResourceBundle('sap.m');this._closeText=r.getText('NOTIFICATION_LIST_BASE_CLOSE');var _=new sap.m.Button(this.getId()+'-closeButton',{type:sap.m.ButtonType.Transparent,icon:sap.ui.core.IconPool.getIconURI('decline'),tooltip:this._closeText,press:function(){this.close();}.bind(this)});this.setAggregation('_closeButton',_,true);var b=new sap.m.Button({type:sap.m.ButtonType.Transparent,press:function(){this.setCollapsed(!this.getCollapsed());}.bind(this)});this.setAggregation('_collapseButton',b,true);this._maxNumberReached=false;this._ariaLabbeledByIds='';this.setAggregation('_ariaDetailsText',new I());this._resourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.m');};a.prototype.setCollapsed=function(b){this._toggleCollapsed();this.setProperty('collapsed',b,true);this.fireOnCollapse({collapsed:b});return this;};a.prototype.getPriority=function(){if(!this.getAutoPriority()){return this.getProperty('priority');}var n=this.getAggregation('items');var p=sap.ui.core.Priority.None;if(n){n.forEach(function(i){p=c(p,i.getPriority());});}else{p=this.getProperty('priority');}return p;};a.prototype.getUnread=function(){var n=this.getItems();if(n.length){return n.some(function(i){return i.getUnread();});}return this.getProperty('unread');};a.prototype.onBeforeRendering=function(){var n=this.getItems();var b=n.length;var d=this.getAggregation('_collapseButton');this._maxNumberOfNotifications=sap.ui.Device.system.desktop?400:100;d.setEnabled(this._getCollapseButtonEnabled(),true);this._maxNumberReached=b>this._maxNumberOfNotifications;n.forEach(function(i){i.addEventDelegate({onfocusin:this._notificationFocusHandler},this);i.addEventDelegate({onkeydown:this._notificationNavigationHandler},this);}.bind(this));this._updateAccessibilityInfo();this._updateCollapseButtonText(this.getCollapsed());this._maxNumberOfNotificationsTitle=this._resourceBundle.getText('NOTIFICATION_LIST_GROUP_MAX_NOTIFICATIONS_TITLE',b-this._maxNumberOfNotifications);this._maxNumberOfNotificationsBody=this._resourceBundle.getText('NOTIFICATION_LIST_GROUP_MAX_NOTIFICATIONS_BODY');};a.prototype.clone=function(){return N.prototype.clone.apply(this,arguments);};a.prototype._getHeaderTitle=function(){var t=sap.m.NotificationListBase.prototype._getHeaderTitle.call(this);t.addStyleClass('sapMNLG-Title');if(this.getUnread()){t.addStyleClass('sapMNLGTitleUnread');}return t;};a.prototype._getDateTimeText=function(){var d=sap.m.NotificationListBase.prototype._getDateTimeText.call(this);d.setTextAlign('End');return d;};a.prototype._toggleCollapsed=function(){var n=!this.getCollapsed();this._updateCollapseButtonText(n);this.$().toggleClass('sapMNLG-Collapsed',n);this.$().toggleClass('sapMNLG-NoNotifications',this._getVisibleItemsCount()<=0);};a.prototype._getVisibleItemsCount=function(){var i=this.getItems();var r=0;i.forEach(function(b){if(b.getVisible()){r+=1;}});return r;};a.prototype._getCollapseButtonEnabled=function(){if(this._getVisibleItemsCount()>0){return true;}return this.getEnableCollapseButtonWhenEmpty();};a.prototype._notificationFocusHandler=function(e){L.prototype.onfocusin.call(this,e);var t=e.srcControl;if(t.getMetadata().getName()!='sap.m.NotificationListItem'){return;}var n=t.getParent();var g=n.indexOfItem(t);var b=t.getDomRef();b.setAttribute('aria-posinset',g+1);b.setAttribute('aria-setsize',n.getItems().length);};a.prototype._notificationNavigationHandler=function(e){L.prototype.onkeydown.call(this,e);var t=e.srcControl;if(t.getMetadata().getName()!='sap.m.NotificationListItem'){return;}var n=t.getParent();var g=n.indexOfItem(t);switch(e.which){case q.sap.KeyCodes.ARROW_UP:if(g==0){return;}var p=g-1;n.getItems()[p].focus();break;case q.sap.KeyCodes.ARROW_DOWN:var b=g+1;if(b==n.getItems().length){return;}n.getItems()[b].focus();break;default:return;}};a.prototype._updateAccessibilityInfo=function(){var b=this.getAuthorName();var i=this._resourceBundle.getText('NOTIFICATION_LIST_ITEM_DATETIME_PRIORITY',[this.getDatetime(),this.getPriority()]);var u=this.getUnread()?this._resourceBundle.getText('NOTIFICATION_LIST_GROUP_UNREAD'):this._resourceBundle.getText('NOTIFICATION_LIST_GROUP_READ');var d='';var e=this.getAggregation('_ariaDetailsText');if(b){d+=this._resourceBundle.getText('NOTIFICATION_LIST_ITEM_CREATED_BY')+' '+b+' ';}d+=i+' '+u;e.setText(d);this._ariaLabbeledByIds=this._getHeaderTitle().getId()+' '+e.getId();};a.prototype._updateCollapseButtonText=function(b){var d=b?this._resourceBundle.getText('NOTIFICATION_LIST_GROUP_EXPAND'):this._resourceBundle.getText('NOTIFICATION_LIST_GROUP_COLLAPSE');this.getAggregation('_collapseButton').setText(d,true);};function c(f,s){if(f==s){return f;}if((f=='None')){return s;}if((f=='Low')&&(s!='None')){return s;}if((f=='Medium')&&(s!='None'&&s!='Low')){return s;}return f;}return a;},true);
sap.ui.predefine('sap/m/NotificationListGroupRenderer',[],function(){'use strict';var N={};var c='sapMNLG';var a='sapMNLB';var b='sapMLIB';var d='sapMNLB-AuthorPicture';var e='sapMNLB-Header';var f='sapMNLG-Header';var g='sapMNLG-Body';var h='sapMNLB-SubHeader';var i='sapMNLG-SubHeader';var j='sapMNLB-CloseButton';var k='sapMNLB-Priority';var l='sapMNLG-Details';var m='sapMNLB-Bullet';var n='sapMNLG-Description';var o='sapMNLG-Collapsed';var p='sapMNLGNoHdrFooter';var q='sapMNLG-MaxNotifications';var r='sapMNLG-NoNotifications';N.render=function(R,C){if(C.getVisible()){var v=C._getVisibleItemsCount();var _=C.getShowEmptyGroup()||(v>0);R.write('<li');R.addClass(c);R.addClass(a);R.addClass(b);if(!_){R.addClass(p);}if(C.getCollapsed()){R.addClass(o);}if(v==0){R.addClass(r);}R.writeClasses();R.writeControlData(C);R.writeAttribute('tabindex','0');R.writeAccessibilityState(C,{labelledby:C._ariaLabbeledByIds});R.write('>');if(_){this.renderHeader(R,C);this.renderSubHeader(R,C);this.renderBody(R,C);}R.write('</li>');}else{this.renderInvisibleItem(R,C);}};N.renderHeader=function(R,C){R.write('<div');R.addClass(e);R.addClass(f);R.writeClasses();R.write('>');this.renderInvisibleInfoText(R,C);this.renderPriorityArea(R,C);this.renderCloseButton(R,C);this.renderTitle(R,C);this.renderDetails(R,C);R.write('</div>');};N.renderTitle=function(R,C){R.renderControl(C._getHeaderTitle());};N.renderCloseButton=function(R,C){if(C.getShowCloseButton()){R.renderControl(C.getAggregation('_closeButton').addStyleClass(j));}};N.renderAuthorPicture=function(R,C){if(!C.getAuthorPicture()){return;}R.write('<div');R.addClass(d);R.writeClasses();R.write('>');R.renderControl(C._getAuthorImage());R.write('</div>');};N.renderDetails=function(R,C){R.write('<div class="'+l+'">');this.renderAuthorPicture(R,C);R.write('<div class="'+n+'">');this.renderAuthorName(R,C);if(C.getAuthorName()!=""&&C.getDatetime()!=""){R.write('<span class="'+m+'">&#x00B7</span>');}this.renderDatetime(R,C);R.write('</div></div>');};N.renderInvisibleInfoText=function(R,C){R.renderControl(C.getAggregation('_ariaDetailsText'));};N.renderAuthorName=function(R,C){R.renderControl(C._getAuthorName());};N.renderSubHeader=function(R,C){var s=C.getButtons();R.write('<div');R.addClass(i);R.addClass(h);R.writeClasses();R.write('>');this.renderPriorityArea(R,C);this.renderCollapseGroupButton(R,C);if(s&&s.length&&C.getShowButtons()){R.renderControl(C.getAggregation('_overflowToolbar'));}R.write('</div>');};N.renderPriorityArea=function(R,C){R.write('<div');var s='';var t=C.getPriority();switch(t){case(sap.ui.core.Priority.Low):s='sapMNLB-Low';break;case(sap.ui.core.Priority.Medium):s='sapMNLB-Medium';break;case(sap.ui.core.Priority.High):s='sapMNLB-High';break;default:s='sapMNLB-None';break;}R.addClass(k);R.addClass(s);R.writeClasses();R.write('>');R.write('</div>');};N.renderCollapseGroupButton=function(R,C){R.renderControl(C.getAggregation('_collapseButton'));};N.renderInvisibleItem=function(R,C){R.write("<li");R.writeInvisiblePlaceholderData(C);R.write(">");R.write("</li>");};N.renderBody=function(R,C){R.write('<ul class='+g+'>');this.renderNotifications(R,C);if(C._maxNumberReached){this.renderMaxNumberReachedMessage(R,C);}R.write('</ul>');};N.renderDatetime=function(R,C){R.renderControl(C._getDateTimeText());};N.renderNotifications=function(R,C){var s=C.getItems();var t=s.length;if(t){for(var u=0;u<C._maxNumberOfNotifications;u++){R.renderControl(s[u]);}}};N.renderMaxNumberReachedMessage=function(R,C){var s='<span>'+C._maxNumberOfNotificationsTitle+'</span> <br>'+C._maxNumberOfNotificationsBody;R.write('<div');R.addClass(q);R.writeClasses();R.write('>');R.write(s);R.write('</div>');};return N;},true);
sap.ui.predefine('sap/m/NotificationListItem',['jquery.sap.global','./library','sap/ui/core/Control','./NotificationListBase','sap/ui/core/InvisibleText'],function(q,l,C,N,I){'use strict';var a=N.extend('sap.m.NotificationListItem',{metadata:{library:'sap.m',properties:{description:{type:'string',group:'Appearance',defaultValue:''},truncate:{type:'boolean',group:'Appearance',defaultValue:true},hideShowMoreButton:{type:'boolean',group:'Appearance',defaultValue:false}},aggregations:{processingMessage:{type:'sap.m.MessageStrip',multiple:false},_bodyText:{type:'sap.m.Text',multiple:false,visibility:"hidden"}}}});a.prototype.init=function(){sap.m.NotificationListBase.prototype.init.call(this);var r=sap.ui.getCore().getLibraryResourceBundle('sap.m');this._expandText=r.getText('NOTIFICATION_LIST_ITEM_SHOW_MORE');this._collapseText=r.getText('NOTIFICATION_LIST_ITEM_SHOW_LESS');this._closeText=r.getText('NOTIFICATION_LIST_BASE_CLOSE');this.setType('Active');var _=new sap.m.Button(this.getId()+'-closeButton',{type:sap.m.ButtonType.Transparent,icon:sap.ui.core.IconPool.getIconURI('decline'),tooltip:this._closeText,press:function(){this.close();}.bind(this)});this.setAggregation("_closeButton",_,true);var b=new sap.m.Button({type:sap.m.ButtonType.Transparent,text:this.getTruncate()?this._expandText:this._collapseText,id:this.getId()+'-expandCollapseButton',press:function(){this._deregisterResize();this.setProperty("truncate",!this.getTruncate(),true);b.setText(this.getTruncate()?this._expandText:this._collapseText);this.$().find('.sapMNLI-Header').toggleClass('sapMNLI-TitleWrapper--is-expanded');this.$().find('.sapMNLI-TextWrapper').toggleClass('sapMNLI-TextWrapper--is-expanded',this.getDescription());this._registerResize();}.bind(this)});this.setAggregation("_collapseButton",b,true);this._ariaDetailsText=new I({id:this.getId()+'-info'}).toStatic();};a.prototype.setDescription=function(d){var r=this.setProperty('description',d);this._getDescriptionText().setText(d);return r;};a.prototype.setDatetime=function(d){var r=sap.m.NotificationListBase.prototype.setDatetime.call(this,d);this._updateAriaAdditionalInfo();return r;};a.prototype.setUnread=function(u){var r=this.setProperty('unread',u,true);var t=this.getAggregation('_headerTitle');if(t){t.toggleStyleClass('sapMNLI-Unread',this.getUnread());}return r;};a.prototype.setPriority=function(p,s){var r=this.setProperty('priority',p,s);this._updateAriaAdditionalInfo();return r;};a.prototype.setAuthorPicture=function(b,s){var r=this.setProperty('authorPicture',b,s);this._getAuthorImage().setSrc(b);return r;};a.prototype.clone=function(){return N.prototype.clone.apply(this,arguments);};a.prototype.onBeforeRendering=function(){this._deregisterResize();};a.prototype.onAfterRendering=function(){this._registerResize();};a.prototype.exit=function(){this._deregisterResize();if(this._ariaDetailsText){this._ariaDetailsText.destroy();this._ariaDetailsText=null;}};a.prototype._getDescriptionText=function(){var b=this.getAggregation('_bodyText');if(!b){b=new sap.m.Text({id:this.getId()+'-body',text:this.getDescription(),maxLines:2}).addStyleClass('sapMNLI-Text');this.setAggregation("_bodyText",b,true);}return b;};a.prototype._activeHandling=function(){this.$().toggleClass("sapMNLIActive",this._active);};a.prototype._updateAriaAdditionalInfo=function(){var r=sap.ui.getCore().getLibraryResourceBundle('sap.m');var b=this.getUnread()?r.getText('NOTIFICATION_LIST_ITEM_UNREAD'):r.getText('NOTIFICATION_LIST_ITEM_READ');var d=r.getText('NOTIFICATION_LIST_ITEM_DATETIME_PRIORITY',[this.getDatetime(),this.getPriority()]);var c=this.getAuthorName();var e=b+' ';if(c){e+=r.getText('NOTIFICATION_LIST_ITEM_CREATED_BY')+' '+this.getAuthorName()+' ';}e+=d;this._ariaDetailsText.setText(e);};a.prototype._canTruncate=function(){var t=this.getDomRef('title').offsetHeight;var b=this.getDomRef('title').parentElement.offsetHeight;var c;var d;if(this._getDescriptionText().getText()){c=this.getDomRef("body").offsetHeight;d=this.getDomRef("body").parentElement.offsetHeight;}return c>d||t>b;};a.prototype._showHideTruncateButton=function(){var n=this.getDomRef();if(this._canTruncate()&&(!this.getHideShowMoreButton())){this.getDomRef('expandCollapseButton').classList.remove('sapMNLI-CollapseButtonHide');if(this.getTruncate()){this.getAggregation('_collapseButton').setText(this._expandText);n.querySelector('.sapMNLI-Header').classList.remove('sapMNLI-TitleWrapper--is-expanded');if(this.getDescription()){n.querySelector('.sapMNLI-TextWrapper').classList.remove('sapMNLI-TextWrapper--is-expanded');}}else{this.getAggregation('_collapseButton').setText(this._collapseText);this.$().find('.sapMNLI-TextWrapper').toggleClass('sapMNLI-TextWrapper--is-expanded',this.getDescription());n.querySelector('.sapMNLI-Header').classList.add('sapMNLI-TitleWrapper--is-expanded');}}else{this.getDomRef('expandCollapseButton').classList.add('sapMNLI-CollapseButtonHide');}if(this.getDescription()){n.querySelector('.sapMNLI-TextWrapper').classList.remove('sapMNLI-TextWrapper--initial-overwrite');}if(this.getTitle()){n.querySelector('.sapMNLI-Header').classList.remove('sapMNLI-TitleWrapper--initial-overwrite');}};a.prototype._deregisterResize=function(){if(this._sNotificationResizeHandler){sap.ui.core.ResizeHandler.deregister(this._sNotificationResizeHandler);this._sNotificationResizeHandler=null;}};a.prototype._registerResize=function(){var t=this;var n=this.getDomRef();if(!n){return;}t._resizeNotification();this._sNotificationResizeHandler=sap.ui.core.ResizeHandler.register(n,function(){t._resizeNotification();});};a.prototype._resizeNotification=function(){var n=this.getDomRef();var c=sap.ui.getCore();if(n.offsetWidth>=640){n.classList.add('sapMNLI-LSize');}else{n.classList.remove('sapMNLI-LSize');}if(this._getDescriptionText().getText()){n.querySelector('.sapMNLI-TextWrapper').classList.remove('sapMNLI-TextWrapper--is-expanded');n.querySelector('.sapMNLI-TextWrapper').classList.add('sapMNLI-TextWrapper--initial-overwrite');}n.querySelector('.sapMNLI-Header').classList.remove('sapMNLI-TitleWrapper--is-expanded');n.querySelector('.sapMNLI-Header').classList.add('sapMNLI-TitleWrapper--initial-overwrite');if(c.isThemeApplied()){this._showHideTruncateButton();}else{c.attachThemeChanged(this._showHideTruncateButton,this);}};return a;},true);
sap.ui.predefine('sap/m/NotificationListItemRenderer',[],function(){'use strict';var N={};var c='sapMNLI';var a='sapMNLB';var b='sapMNLI-TextWrapper';var d='sapMLIB';var e='sapMNLB-AuthorPicture';var f='sapMNLB-Priority';var g='sapMNLB-Header';var h='sapMNLI-Header';var i='sapMNLI-Body';var j='sapMNLI-Description';var k='sapMNLI-Details';var l='sapMNLB-Bullet';var m='sapMNLB-Footer';var n='sapMNLI-Footer';var o='sapMNLI-No-Footer';var p='sapMNLB-CloseButton';var q='sapMNLI-CollapseButton';var r='sapMNLI-TitleWrapper--initial-overwrite';var s='sapMNLI-TextWrapper--initial-overwrite';N.render=function(R,C){if(C.getVisible()){var u=C.getId();var v=(u+'-title')+' '+(u+'-body')+' '+(u+'-info');R.write('<li');R.addClass(c);R.addClass(a);R.addClass(d);R.writeControlData(C);R.writeAttribute('tabindex','0');R.writeAccessibilityState(C,{role:"listitem",labelledby:v});R.writeClasses();R.write('>');this.renderPriorityArea(R,C);this.renderMessageStrip(R,C);this.renderHeader(R,C);this.renderBody(R,C);this.renderFooter(R,C);R.write('</li>');}else{this.renderInvisibleItem(R,C);}};N.renderPriorityArea=function(R,C){R.write('<div');var u='';switch(C.getPriority()){case(sap.ui.core.Priority.Low):u='sapMNLB-Low';break;case(sap.ui.core.Priority.Medium):u='sapMNLB-Medium';break;case(sap.ui.core.Priority.High):u='sapMNLB-High';break;default:u='sapMNLB-None';break;}R.addClass(f);R.addClass(u);R.writeClasses();R.write('>');R.write('</div>');};N.renderMessageStrip=function(R,C){R.renderControl(C.getProcessingMessage());};N.renderAuthorPicture=function(R,C){if(!C.getAuthorPicture()){return;}R.write('<div');R.addClass(e);R.writeClasses();R.write('>');R.renderControl(C._getAuthorImage());R.write('</div>');};N.renderCloseButton=function(R,C){if(C.getShowCloseButton()){R.renderControl(C.getAggregation('_closeButton').addStyleClass(p));}};N.renderCollapseButton=function(R,C){R.renderControl(C.getAggregation('_collapseButton').addStyleClass(q));};N.renderHeader=function(R,C){R.write('<div');R.addClass(g);R.addClass(h);R.addClass(r);if(t(C)){R.addClass(o);}R.writeClasses();R.write('>');this.renderCloseButton(R,C);this.renderTitle(R,C);R.write('</div>');};N.renderTitle=function(R,C){R.renderControl(C._getHeaderTitle());};N.renderBody=function(R,C){if(!C._getDescriptionText().getText()&&!C.getAuthorName()&&!C.getDatetime()&&!C.getAuthorPicture()){return;}R.write('<div');R.addClass(i);if(t(C)){R.addClass(o);}R.writeClasses();R.write('>');this.renderAuthorPicture(R,C);R.write('<div class='+j+'>');this.renderDescription(R,C);this.renderDetails(R,C);R.write('</div>');this.renderAriaText(R,C);R.write('</div>');};N.renderDescription=function(R,C){if(!C._getDescriptionText().getText()){return;}R.write('<div');R.addClass(b);R.addClass(s);R.writeClasses();R.write('>');R.renderControl(C._getDescriptionText());R.write('</div>');};N.renderDetails=function(R,C){if(!C.getAuthorName()&&!C.getDatetime()){return;}R.write('<div class="'+k+'">');this.renderAuthorName(R,C);if(C.getAuthorName()){R.write('<span class="'+l+'">&#x00B7</span>');}this.renderDatetime(R,C);R.write('</div>');};N.renderDatetime=function(R,C){R.renderControl(C._getDateTimeText());};N.renderAuthorName=function(R,C){R.renderControl(C._getAuthorName());};N.renderAriaText=function(R,C){R.renderControl(C._ariaDetailsText);};N.renderFooter=function(R,C){var B=C.getButtons();R.write('<div');R.addClass(n);R.addClass(m);R.writeClasses();R.write('>');this.renderCollapseButton(R,C);if(B&&B.length&&C.getShowButtons()){R.renderControl(C.getAggregation('_overflowToolbar'));}R.write('</div>');};N.renderInvisibleItem=function(R,C){R.write("<li");R.writeInvisiblePlaceholderData(C);R.write(">");R.write("</li>");};function t(C){return C.getHideShowMoreButton()&&(!C.getShowButtons()||!C.getButtons());}return N;},true);
sap.ui.predefine('sap/m/ObjectAttribute',['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var O=C.extend("sap.m.ObjectAttribute",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},active:{type:"boolean",group:"Misc",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit}},aggregations:{customContent:{type:"sap.ui.core.Control",multiple:false},_textControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{press:{parameters:{domRef:{type:"string"}}}}}});O.MAX_LINES={SINGLE_LINE:1,MULTI_LINE:2};O.prototype.init=function(){this.setAggregation('_textControl',new sap.m.Text());};O.prototype._getUpdatedTextControl=function(){var a=this.getAggregation('customContent')||this.getAggregation('_textControl'),t=this.getTitle(),T=this.getAggregation('customContent')?this.getAggregation('customContent').getText():this.getText(),s=this.getTextDirection(),p=this.getParent(),P=sap.ui.getCore().getConfiguration().getRTL(),m=O.MAX_LINES.MULTI_LINE,w=true,o='';if(s===sap.ui.core.TextDirection.LTR&&P){o='\u200e';}if(s===sap.ui.core.TextDirection.RTL&&!P){o='\u200f';}T=o+T+o;if(t){T=t+": "+T;}a.setProperty('text',T,true);if(p instanceof sap.m.ObjectListItem){w=false;m=O.MAX_LINES.SINGLE_LINE;}this._setControlWrapping(a,w,m);return a;};O.prototype._setControlWrapping=function(a,w,m){if(a instanceof sap.m.Link){a.setProperty('wrapping',w,true);}if(a instanceof sap.m.Text){a.setProperty('maxLines',m,true);}};O.prototype.ontap=function(e){if(this._isSimulatedLink()&&(e.target.id!=this.getId())){this.firePress({domRef:this.getDomRef()});}};O.prototype.onsapenter=function(e){if(this._isSimulatedLink()){this.firePress({domRef:this.getDomRef()});e.setMarked();}};O.prototype.onsapspace=function(e){this.onsapenter(e);};O.prototype._isEmpty=function(){if(this.getAggregation('customContent')&&!(this.getAggregation('customContent')instanceof sap.m.Link||this.getAggregation('customContent')instanceof sap.m.Text)){q.sap.log.warning("Only sap.m.Link or sap.m.Text are allowed in \"sap.m.ObjectAttribute.customContent\" aggregation");return true;}return!(this.getText().trim()||this.getTitle().trim());};O.prototype.ontouchstart=function(e){if(this._isSimulatedLink()){e.originalEvent._sapui_handledByControl=true;}};O.prototype.getPopupAnchorDomRef=function(){return this.getDomRef("text");};O.prototype._isSimulatedLink=function(){return this.getActive()&&!this.getAggregation('customContent');};return O;},true);
sap.ui.predefine('sap/m/ObjectAttributeRenderer',['jquery.sap.global'],function(q){"use strict";var O={};O.render=function(r,o){var p=o.getParent(),t=o.getTooltip_AsString();if(o._isEmpty()){return;}r.write("<div");r.writeControlData(o);r.addClass("sapMObjectAttributeDiv");if(o._isSimulatedLink()){r.addClass("sapMObjectAttributeActive");r.writeAttribute("tabindex","0");}r.writeClasses();if(t){r.writeAttributeEscaped("title",t);}if(o.getActive()&&!o.getAggregation("customContent")){r.writeAccessibilityState(o,{role:"link"});}r.write(">");if(p&&(p instanceof sap.m.ObjectHeader)){this.renderTitleInObjectHeader(r,o);this.renderTextInObjectHeader(r,o);}else{r.renderControl(o._getUpdatedTextControl());}r.write("</div>");};O.renderTitleInObjectHeader=function(r,o){if(!o.getProperty("title")){return;}r.write("<span id=\""+o.getId()+"-title\"");r.addClass("sapMObjectAttributeTitle");r.writeClasses();r.write(">");r.writeEscaped(o.getProperty("title"));r.write("</span>");r.write("<span id=\""+o.getId()+"-colon\"");r.addClass("sapMObjectAttributeColon");r.writeClasses();r.write(">");r.write(":&nbsp;");r.write("</span>");};O.renderTextInObjectHeader=function(r,o){var t=o.getTextDirection(),a=o.getAggregation("customContent");r.write("<span id=\""+o.getId()+"-text\"");r.addClass("sapMObjectAttributeText");if(t&&t!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",t.toLowerCase());}r.writeClasses();r.write(">");if(a){if(!o.getParent().getResponsive()){o._setControlWrapping(a,true,sap.m.ObjectAttribute.MAX_LINES.MULTI_LINE);}else{o._setControlWrapping(a,false,sap.m.ObjectAttribute.MAX_LINES.SINGLE_LINE);}r.renderControl(a);}else{r.writeEscaped(o.getProperty("text"));}r.write("</span>");};return O;},true);
sap.ui.predefine('sap/m/ObjectHeader',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool'],function(q,l,C,I){"use strict";var O=C.extend("sap.m.ObjectHeader",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null},number:{type:"string",group:"Misc",defaultValue:null},numberUnit:{type:"string",group:"Misc",defaultValue:null},intro:{type:"string",group:"Misc",defaultValue:null},introActive:{type:"boolean",group:"Misc",defaultValue:null},titleActive:{type:"boolean",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconActive:{type:"boolean",group:"Misc",defaultValue:null},iconAlt:{type:"string",group:"Accessibility",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},markFavorite:{type:"boolean",group:"Misc",defaultValue:false,deprecated:true},markFlagged:{type:"boolean",group:"Misc",defaultValue:false,deprecated:true},showMarkers:{type:"boolean",group:"Misc",defaultValue:false,deprecated:true},showTitleSelector:{type:"boolean",group:"Misc",defaultValue:false},numberState:{type:"sap.ui.core.ValueState",group:"Misc",defaultValue:sap.ui.core.ValueState.None},condensed:{type:"boolean",group:"Appearance",defaultValue:false},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance"},responsive:{type:"boolean",group:"Behavior",defaultValue:false},fullScreenOptimized:{type:"boolean",group:"Appearance",defaultValue:false},titleHref:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},titleTarget:{type:"string",group:"Behavior",defaultValue:null},introHref:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},introTarget:{type:"string",group:"Behavior",defaultValue:null},titleTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},introTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},numberTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},titleSelectorTooltip:{type:"string",group:"Misc",defaultValue:"Options"},titleLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:sap.ui.core.TitleLevel.H1}},defaultAggregation:"attributes",aggregations:{attributes:{type:"sap.m.ObjectAttribute",multiple:true,singularName:"attribute"},firstStatus:{type:"sap.m.ObjectStatus",multiple:false,deprecated:true},secondStatus:{type:"sap.m.ObjectStatus",multiple:false,deprecated:true},statuses:{type:"sap.ui.core.Control",multiple:true,singularName:"status"},_objectNumber:{type:"sap.m.ObjectNumber",multiple:false,visibility:"hidden"},additionalNumbers:{type:"sap.m.ObjectNumber",multiple:true,singularName:"additionalNumber"},headerContainer:{type:"sap.m.ObjectHeaderContainer",multiple:false},markers:{type:"sap.m.ObjectMarker",multiple:true,singularName:"marker"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{titlePress:{parameters:{domRef:{type:"object"}}},introPress:{parameters:{domRef:{type:"object"}}},iconPress:{parameters:{domRef:{type:"object"}}},titleSelectorPress:{parameters:{domRef:{type:"object"}}}}}});O.prototype.init=function(){var L=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oTitleArrowIcon=I.createControlByURI({id:this.getId()+"-titleArrow",src:I.getIconURI("arrow-down"),decorative:false,visible:false,tooltip:L.getText("OH_SELECT_ARROW_TOOLTIP"),size:"1.375rem",press:function(e){}});this._fNumberWidth=undefined;this._titleText=new sap.m.Text(this.getId()+"-titleText");this._titleText.setMaxLines(3);};O.prototype.insertAttribute=function(a,i){var r=this.insertAggregation("attributes",a,i);this._registerControlListener(a);return r;};O.prototype.addAttribute=function(a){var r=this.addAggregation("attributes",a);this._registerControlListener(a);return r;};O.prototype.removeAttribute=function(a){var r=this.removeAggregation("attributes",a);this._deregisterControlListener(r);return r;};O.prototype.removeAllAttributes=function(){var a=this.removeAllAggregation("attributes");a.forEach(this._deregisterControlListener,this);return a;};O.prototype.destroyAttributes=function(){var a=this.getAggregation("attributes");if(a!==null){a.forEach(this._deregisterControlListener,this);}return this.destroyAggregation("attributes");};O.prototype.insertStatus=function(s,i){var r=this.insertAggregation("statuses",s,i);this._registerControlListener(s);return r;};O.prototype.addStatus=function(s){var r=this.addAggregation("statuses",s);this._registerControlListener(s);return r;};O.prototype.removeStatus=function(s){var r=this.removeAggregation("statuses",s);this._deregisterControlListener(r);return r;};O.prototype.removeAllStatuses=function(){var s=this.removeAllAggregation("statuses");s.forEach(this._deregisterControlListener,this);return s;};O.prototype.destroyStatuses=function(){var s=this.getAggregation("statuses");if(s!==null){s.forEach(this._deregisterControlListener,this);}return this.destroyAggregation("statuses");};O.prototype._registerControlListener=function(c){if(c){c.attachEvent("_change",this.invalidate,this);}};O.prototype._deregisterControlListener=function(c){if(c){c.detachEvent("_change",this.invalidate,this);}};O.prototype.setCondensed=function(c){this.setProperty("condensed",c);if(this.getCondensed()){this._oTitleArrowIcon.setSize("1rem");}else{this._oTitleArrowIcon.setSize("1.375rem");}return this;};O.prototype.setNumber=function(n){this.setProperty("number",n);this._getObjectNumber().setNumber(n);return this;};O.prototype.setNumberUnit=function(u){this.setProperty("numberUnit",u);this._getObjectNumber().setUnit(u);return this;};O.prototype.setNumberState=function(s){this.setProperty("numberState",s,true);this._getObjectNumber().setState(s);return this;};O.prototype.setTitleSelectorTooltip=function(t){this.setProperty("titleSelectorTooltip",t,false);this._oTitleArrowIcon.setTooltip(t);return this;};O.prototype.setMarkFavorite=function(m){return this._setOldMarkers(sap.m.ObjectMarkerType.Favorite,m);};O.prototype.setMarkFlagged=function(m){return this._setOldMarkers(sap.m.ObjectMarkerType.Flagged,m);};O.prototype.setShowMarkers=function(m){var M,a=this.getMarkers(),i;this.setProperty("showMarkers",m,false);for(i=0;i<a.length;i++){M=a[i].getType();if((M===sap.m.ObjectMarkerType.Flagged&&this.getMarkFlagged())||(M===sap.m.ObjectMarkerType.Favorite&&this.getMarkFavorite())){a[i].setVisible(m);}}return this;};O.prototype._setOldMarkers=function(m,M){var a=this.getMarkers(),h=false,i,o={Flagged:"-flag",Favorite:"-favorite"};this.setProperty("mark"+m,M,false);if(!this.getShowMarkers()){M=false;}for(i=0;i<a.length;i++){if(a[i].getType()===m){h=true;a[i].setVisible(M);break;}}if(!h){this.insertAggregation("markers",new sap.m.ObjectMarker({id:this.getId()+o[m],type:m,visible:M}));}return this;};O.prototype._getVisibleMarkers=function(){var a=this.getMarkers(),v=[],i;for(i=0;i<a.length;i++){if(a[i].getVisible()){v.push(a[i]);}}return v;};O.prototype._getObjectNumber=function(){var c=this.getAggregation("_objectNumber");if(!c){c=new sap.m.ObjectNumber(this.getId()+"-number",{emphasized:false});this.setAggregation("_objectNumber",c,true);}return c;};O.prototype.getFocusDomRef=function(){if(this.getResponsive()){return this.$("txt");}else{return this.$("title");}};O.prototype.ontap=function(e){var s=e.target.id;if(this.getIntroActive()&&s===this.getId()+"-intro"){if(!this.getIntroHref()){this.fireIntroPress({domRef:q.sap.domById(s)});}}else if(!this.getResponsive()&&this.getTitleActive()&&(s===this.getId()+"-title"||q(e.target).parent().attr('id')===this.getId()+"-title"||s===this.getId()+"-titleText-inner")){if(!this.getTitleHref()){e.preventDefault();s=this.getId()+"-title";this.fireTitlePress({domRef:q.sap.domById(s)});}}else if(this.getResponsive()&&this.getTitleActive()&&(s===this.getId()+"-txt"||q(e.target).parent().attr('id')===this.getId()+"-txt")){if(!this.getTitleHref()){e.preventDefault();s=this.getId()+"-txt";this.fireTitlePress({domRef:q.sap.domById(s)});}}else if(this.getIconActive()&&(s===this.getId()+"-img"||s===this.getId()+"-icon")){this.fireIconPress({domRef:q.sap.domById(s)});}else if(s===this.getId()+"-titleArrow"){this.fireTitleSelectorPress({domRef:q.sap.domById(s)});}};O.prototype._handleSpaceOrEnter=function(e){var s=e.target.id;e.setMarked();if(!this.getResponsive()&&this.getTitleActive()&&(s===this.getId()+"-title"||q(e.target).parent().attr('id')===this.getId()+"-title"||s===this.getId()+"-titleText-inner")){if(e.type==="sapspace"){e.preventDefault();}s=this.getId()+"-title";if(!this.getTitleHref()){e.preventDefault();this.fireTitlePress({domRef:q.sap.domById(s)});}else{if(e.type==="sapspace"){this._linkClick(e,s);}}}else if(this.getResponsive()&&this.getTitleActive()&&(s===this.getId()+"-txt"||q(e.target).parent().attr('id')===this.getId()+"-txt")){if(e.type==="sapspace"){e.preventDefault();}s=this.getId()+"-txt";if(!this.getTitleHref()){e.preventDefault();this.fireTitlePress({domRef:q.sap.domById(s)});}else{if(e.type==="sapspace"){this._linkClick(e,s);}}}else if(this.getIntroActive()&&s===this.getId()+"-intro"){if(e.type==="sapspace"){e.preventDefault();}if(!this.getIntroHref()){this.fireIntroPress({domRef:q.sap.domById(s)});}}else if(this.getIconActive()&&q(e.target).hasClass('sapMOHIcon')){if(e.type==="sapspace"){e.preventDefault();}var i=q.sap.domById(this.getId()+"-icon");if(!i){i=q.sap.domById(this.getId()+"-img");}this.fireIconPress({domRef:i});}else if(s===this.getId()+"-titleArrow"){if(e.type==="sapspace"){e.preventDefault();}this.fireTitleSelectorPress({domRef:q.sap.domById(s)});}};O.prototype.onsapspace=O.prototype._handleSpaceOrEnter;O.prototype.onsapenter=O.prototype._handleSpaceOrEnter;O.prototype._linkClick=function(e,s){e.setMarked();var c=document.createEvent('MouseEvents');c.initEvent('click',false,true);q.sap.domById(s).dispatchEvent(c);};O.prototype._onOrientationChange=function(){var i=this.getId();if(sap.ui.Device.system.tablet&&this.getFullScreenOptimized()&&(this._hasAttributes()||this._hasStatus())){this._rerenderStates();}if(sap.ui.Device.system.phone){if(sap.ui.Device.orientation.portrait){if(this.getTitle().length>50){this._rerenderTitle(50);}if(this.getIcon()){q.sap.byId(i+"-titlediv").removeClass("sapMOHRTitleIcon");q.sap.byId(i+"-titleIcon").addClass("sapMOHRHideIcon");}}else{if(sap.ui.Device.orientation.landscape){if(this.getTitle().length>80){this._rerenderTitle(80);}if(this.getIcon()){q.sap.byId(i+"-titlediv").addClass("sapMOHRTitleIcon");q.sap.byId(i+"-titleIcon").removeClass("sapMOHRHideIcon");}}}this._adjustNumberDiv();}this._adjustIntroDiv();};O.prototype._rerenderTitle=function(n){var r=sap.ui.getCore().createRenderManager();this.getRenderer()._rerenderTitle(r,this,n);r.destroy();};O.prototype._rerenderStates=function(){var r=sap.ui.getCore().createRenderManager();this.getRenderer()._rerenderResponsiveStates(r,this);r.destroy();};O.prototype.exit=function(){if(!sap.ui.Device.system.phone){this._detachMediaContainerWidthChange(this._rerenderOHR,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);}if(sap.ui.Device.system.tablet||sap.ui.Device.system.phone){sap.ui.Device.orientation.detachHandler(this._onOrientationChange,this);}if(this._oImageControl){this._oImageControl.destroy();this._oImageControl=undefined;}if(this._oTitleArrowIcon){this._oTitleArrowIcon.destroy();this._oTitleArrowIcon=undefined;}if(this._titleText){this._titleText.destroy();this._titleText=undefined;}if(this._introText){this._introText.destroy();this._introText=undefined;}};O.prototype._getImageControl=function(){var i=this.getId()+"-img";var s="2.5rem";var p=q.extend({src:this.getIcon(),alt:this.getIconAlt(),useIconTooltip:false,densityAware:this.getIconDensityAware()},I.isIconURI(this.getIcon())?{size:s}:{});this._oImageControl=sap.m.ImageHelper.getImageControl(i,this._oImageControl,this,p);return this._oImageControl;};O.prototype.onBeforeRendering=function(){if(sap.ui.Device.system.tablet||sap.ui.Device.system.phone){sap.ui.Device.orientation.detachHandler(this._onOrientationChange,this);}if(!sap.ui.Device.system.phone){this._detachMediaContainerWidthChange(this._rerenderOHR,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);}if(this._introText){this._introText.destroy();this._introText=undefined;}};O.prototype.onAfterRendering=function(){var o=this.getAggregation("_objectNumber");var p=sap.ui.getCore().getConfiguration().getRTL();var $=this.$("titleArrow");$.attr("role","button");if(this.getResponsive()){this._adjustIntroDiv();if(o&&o.getNumber()){if(sap.ui.Device.system.desktop&&q('html').hasClass("sapUiMedia-Std-Desktop")&&this.getFullScreenOptimized()&&this._iCountVisAttrStat>=1&&this._iCountVisAttrStat<=3){o.setTextAlign(p?sap.ui.core.TextAlign.Right:sap.ui.core.TextAlign.Left);}else{o.setTextAlign(p?sap.ui.core.TextAlign.Left:sap.ui.core.TextAlign.Right);}}this._adjustNumberDiv();if(sap.ui.Device.system.tablet||sap.ui.Device.system.phone){sap.ui.Device.orientation.attachHandler(this._onOrientationChange,this);}if(!sap.ui.Device.system.phone){this._attachMediaContainerWidthChange(this._rerenderOHR,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);}}else{var t=p?sap.ui.core.TextAlign.Left:sap.ui.core.TextAlign.Right;if(o&&o.getNumber()){o.setTextAlign(t);}if(this.getAdditionalNumbers()){this._setTextAlignANum(t);}}};O.prototype._rerenderOHR=function(){this.invalidate();};O.prototype._adjustNumberDiv=function(){var i=this.getId();var o=this.getAggregation("_objectNumber");var p=sap.ui.getCore().getConfiguration().getRTL();if(o&&o.getNumber()){var $=q.sap.byId(i+"-number");var a=q.sap.byId(i+"-titlediv");if(this._isMediaSize("Phone")){if($.hasClass("sapMObjectNumberBelowTitle")){o.setTextAlign(p?sap.ui.core.TextAlign.Left:sap.ui.core.TextAlign.Right);$.removeClass("sapMObjectNumberBelowTitle");a.removeClass("sapMOHRTitleDivFull");}var n=$.parent().width()*0.4;if($.outerWidth()>n){o.setTextAlign(p?sap.ui.core.TextAlign.Right:sap.ui.core.TextAlign.Left);$.addClass("sapMObjectNumberBelowTitle");a.addClass("sapMOHRTitleDivFull");}}}};O.prototype._adjustIntroDiv=function(){var i=this.getId();var $=q.sap.byId(i+"-txt");var a=q.sap.byId(i+"-titleArrow");var b=q.sap.byId(i+"-intro");if(b.parent().hasClass("sapMOHRIntroMargin")){b.parent().removeClass("sapMOHRIntroMargin");}if(a.height()!==null&&($.height()<a.height())){b.parent().addClass("sapMOHRIntroMargin");}};O._escapeId=function(i){return i?"#"+i.replace(/(:|\.)/g,'\\$1'):"";};O.prototype._hasBottomContent=function(){return(this._hasAttributes()||this._hasStatus()||this.getShowMarkers());};O.prototype._hasIcon=function(){return!!this.getIcon().trim();};O.prototype._hasAttributes=function(){var a=this.getAttributes();if(a&&a.length>0){for(var i=0;i<a.length;i++){if(!a[i]._isEmpty()){return true;}}}return false;};O.prototype._hasStatus=function(){var h=((this.getFirstStatus()&&!this.getFirstStatus()._isEmpty())||(this.getSecondStatus()&&!this.getSecondStatus()._isEmpty()));if(!h&&this.getStatuses()&&this.getStatuses().length>0){var s=this.getStatuses();for(var i=0;i<s.length;i++){if(s[i]instanceof sap.m.ObjectStatus&&!s[i]._isEmpty()){h=true;break;}else if(s[i]instanceof sap.m.ProgressIndicator){h=true;break;}}}return h;};O.prototype._getDefaultBackgroundDesign=function(){if(this.getCondensed()){return sap.m.BackgroundDesign.Solid;}else{if(this.getResponsive()){return sap.m.BackgroundDesign.Translucent;}else{return sap.m.BackgroundDesign.Transparent;}}};O.prototype._getBackground=function(){if(this.getBackgroundDesign()===undefined){return this._getDefaultBackgroundDesign();}else{return this.getBackgroundDesign();}};O.prototype._setTextAlignANum=function(t){var n=this.getAdditionalNumbers();for(var i=0;i<n.length;i++){n[i].setTextAlign(t);}};O.prototype._isMediaSize=function(r){return this._getCurrentMediaContainerRange(sap.ui.Device.media.RANGESETS.SAP_STANDARD).name===r;};return O;},true);
sap.ui.predefine('sap/m/ObjectHeaderRenderer',['jquery.sap.global','sap/ui/core/IconPool'],function(q,I){"use strict";var O={};O._isEmptyObject=function(o){if(!o){return true;}if((!o._isEmpty||!o._isEmpty())&&(!o.getVisible||o.getVisible())){return false;}return true;};O._isEmptyArray=function(a){if(a){for(var i=0;i<a.length;i++){if(!O._isEmptyObject(a[i])){return false;}}}return true;};O._isEmptyRow=function(l,r){return O._isEmptyObject(l)&&O._isEmptyArray(r);};O._renderObjects=function(r,o,a){for(var i=0;i<o.length;i++){if(o[i]instanceof sap.ui.core.Control){this._renderChildControl(r,a,o[i]);}}};O._computeChildControlsToBeRendered=function(o){o.__controlsToBeRendered={};var c=o.getAttributes();for(var i=0;i<c.length;i++){o.__controlsToBeRendered[c[i].getId()]=c[i];}c=o.getStatuses();for(var i=0;i<c.length;i++){o.__controlsToBeRendered[c[i].getId()]=c[i];}var C=o.getFirstStatus();if(C){o.__controlsToBeRendered[C.getId()]=C;}C=o.getSecondStatus();if(C){o.__controlsToBeRendered[C.getId()]=C;}C=o.getAggregation("_objectNumber");if(C){o.__controlsToBeRendered[C.getId()]=C;}};O._cleanupNotRenderedChildControls=function(r,o){for(var i in o.__controlsToBeRendered){r.cleanupControlWithoutRendering(o.__controlsToBeRendered[i]);}delete o.__controlsToBeRendered;};O._getMarkers=function(o){return o._getVisibleMarkers();};O._renderIntro=function(r,o,i,s){if(o.getIntroActive()){o._introText=new sap.m.Link(o.getId()+"-intro");o._introText.setText(o.getIntro());o._introText.setHref(o.getIntroHref());o._introText.setTarget(o.getIntroTarget());o._introText.press=o.introPress;}else{o._introText=new sap.m.Text(o.getId()+"-intro");o._introText.setText(o.getIntro());o._introText.setMaxLines(3);}o._introText.setTextDirection(o.getIntroTextDirection());r.write("<div");r.addClass(i);if(o.getIntroActive()){r.addClass(s);}r.writeClasses();r.write(">");this._renderChildControl(r,o,o._introText);r.write("</div>");};O._renderAttribute=function(r,o,a,f){r.write("<div");r.addClass("sapMOHAttr");r.writeClasses();if(f){r.addStyle("width","100%");r.writeStyles();}r.write(">");this._renderChildControl(r,o,a);r.write("</div>");};O._getVisibleStatuses=function(o){var v=[];if(o.getFirstStatus()&&o.getFirstStatus().getVisible()){v.push([o.getFirstStatus()]);}if(o.getSecondStatus()&&o.getSecondStatus().getVisible()){v.push([o.getSecondStatus()]);}if(o.getStatuses()){var s=o.getStatuses();for(var i=0;i<s.length;i++){if(!s[i].getVisible||s[i].getVisible()){if(s[i]instanceof sap.m.ObjectStatus||s[i]instanceof sap.m.ProgressIndicator){v.push([s[i]]);}else{q.sap.log.warning("Only sap.m.ObjectStatus or sap.m.ProgressIndicator are allowed in \"sap.m.ObjectHeader.statuses\" aggregation."+" Current object is "+s[i].constructor.getMetadata().getName()+" with id \""+s[i].getId()+"\"");}}}}return v;};O._getVisibleAttribsAndStatuses=function(o){var r=[],a=o.getAttributes(),v=[];for(var j=0;j<a.length;j++){if(a[j].getVisible()){v.push(a[j]);}}var V=this._getVisibleStatuses(o);r[0]=v;r[1]=V;return r;};O._renderRow=function(r,o,l,R){if(O._isEmptyRow(l,R)){return;}r.write("<div");r.addClass("sapMOHAttrRow");r.writeClasses();r.write(">");if(!O._isEmptyObject(l)){this._renderAttribute(r,o,l,O._isEmptyArray(R));}else if(O._isEmptyObject(l)&&!O._isEmptyArray(R)){if(R[0]instanceof sap.m.ProgressIndicator){r.write("<div");r.addClass("sapMOHAttr");r.writeClasses();r.write(">");r.write("</div>");}}if(!O._isEmptyArray(R)){r.write("<div");if(R[0]instanceof sap.m.ProgressIndicator){r.addClass("sapMOHStatusFixedWidth");}else if(R[0]instanceof sap.m.ObjectMarker){r.addClass("sapMOHStatusFixedWidth");r.addClass("sapMObjStatusMarker");}else{r.addClass("sapMOHStatus");}r.writeClasses();r.write(">");O._renderObjects(r,R,o);r.write("</div>");}r.write("</div>");};O._renderAttributesAndStatuses=function(r,o){var a=o.getAttributes();var v=[];for(var j=0;j<a.length;j++){if(a[j].getVisible()){v.push(a[j]);}}var A=v.length;var m=[];var M=O._getMarkers(o);if(!o.getResponsive()&&!O._isEmptyArray(M)){m.push(M);}var V=this._getVisibleStatuses(o);m=m.concat(V);var i=m.length;var n=A>i?A:i;if(!o.getResponsive()){for(var c=0;c<n;c++){this._renderRow(r,o,v[c],m[c]);}}};O._renderNumber=function(r,o){var n=o.getAdditionalNumbers();if(!o.getNumber()&&(n&&!n.length)){return;}r.write("<div");r.writeAttribute("id",o.getId()+"-numberdiv");r.addClass("sapMOHNumberDiv");r.writeClasses();r.write(">");var a=o.getAggregation("_objectNumber");if(a&&a.getNumber()){a.setTextDirection(o.getNumberTextDirection());this._renderChildControl(r,o,a);}r.write("</div>");if(!o.getCondensed()){this._renderAdditionalNumbers(r,o);}};O._renderAdditionalNumbers=function(r,o){var n=o.getAdditionalNumbers();if(n&&!n.length){return;}if(n.length===1){r.write("<div");r.addClass("additionalOHNumberSeparatorDiv");r.writeClasses();r.write("></div>");}for(var i=0;i<n.length;i++){r.write("<div");r.writeAttribute("id",o.getId()+"-additionalNumber"+i);r.addClass("sapMOHNumberDiv additionalOHNumberDiv");if(n.length===1){r.addClass("sapMOHOnlyANumber");}r.writeClasses();r.write(">");n[i].setTextDirection(o.getNumberTextDirection());this._renderChildControl(r,o,n[i]);r.write("</div>");}};O._renderTitle=function(r,o){o._oTitleArrowIcon.setVisible(o.getShowTitleSelector());if(o.getShowTitleSelector()&&o._oTitleArrowIcon.getVisible()){r.write("<div");r.addClass("sapMOHTitleAndArrow");r.writeClasses();r.write(">");}if(o.getTitle()){var t=(o.getTitleLevel()===sap.ui.core.TitleLevel.Auto)?sap.ui.core.TitleLevel.H1:o.getTitleLevel();o._titleText.setText(o.getTitle());o._titleText.setTextDirection(o.getTitleTextDirection());if(o.getTitleActive()){r.write("<a");if(o.getTitleHref()){r.writeAttributeEscaped("href",o.getTitleHref());if(o.getTitleTarget()){r.writeAttributeEscaped("target",o.getTitleTarget());}}else{r.writeAttribute("href","#");}r.writeAccessibilityState({role:"link",haspopup:!o.getTitleHref()});}else{r.write("<span");}r.writeAttribute("id",o.getId()+"-title");r.addClass("sapMOHTitle");if(o.getTitleActive()){r.writeAttribute("tabindex","0");r.addClass("sapMOHTitleActive");}if(o.getShowTitleSelector()){r.addClass("sapMOHTitleFollowArrow");}r.writeClasses();r.write(">");r.write("<"+t+">");this._renderChildControl(r,o,o._titleText);r.write("</"+t+">");if(o.getTitleActive()){r.write("</a>");}else{r.write("</span>");}}if(o.getShowTitleSelector()){r.write("<span");r.addClass("sapMOHTitleArrow");r.writeClasses();r.write(">");this._renderChildControl(r,o,o._oTitleArrowIcon);r.write("</span>");}if(o.getShowTitleSelector()&&o._oTitleArrowIcon.getVisible()){r.write("</div>");}};O._renderFullTitle=function(r,o){var n=o.getAdditionalNumbers();if(!o.getNumber()&&(n&&!n.length)){r.addClass("sapMOHTitleDivFull");}};O._renderFullOH=function(r,o){var l=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(o.getIntro()){this._renderIntro(r,o,"sapMOHIntro","sapMOHIntroActive");}r.write("<div");r.addClass("sapMOHTopRow");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",o.getId()+"-titlediv");r.addClass("sapMOHTitleDiv");if(o._hasIcon()){r.addClass("sapMOHTitleIcon");}this._renderFullTitle(r,o);r.writeClasses();r.write(">");if(o._hasIcon()){r.write("<div");r.addClass("sapMOHIcon");if(o.getIconActive()){r.writeAttribute("tabindex","0");r.addClass("sapMPointer");r.writeAccessibilityState({role:"link",haspopup:true,label:l.getText("OH_ARIA_ICON")});}r.writeClasses();r.write(">");this._renderChildControl(r,o,o._getImageControl());r.write("</div>");}this._renderTitle(r,o);r.write("</div>");this._renderNumber(r,o);r.write("<div class=\"sapMOHDivider\"></div>");r.write("</div>");if(o._hasBottomContent()){r.write("<div");r.addClass("sapMOHBottomRow");r.writeClasses();r.write(">");this._renderAttributesAndStatuses(r,o);r.write("<div class=\"sapMOHDivider\"></div>");r.write("</div>");}};O._renderCondensedOH=function(r,o){r.write("<div");r.writeAttribute("id",o.getId()+"-titlediv");r.addClass("sapMOHTitleDiv");this._renderFullTitle(r,o);r.writeClasses();r.write(">");this._renderTitle(r,o);r.write("</div>");this._renderNumber(r,o);var f=o.getAttributes()[0];if(f&&!f._isEmpty()){this._renderAttribute(r,o,f);}};O.render=function(r,o){if(o.getResponsive()){this._renderResponsive(r,o);return;}this._computeChildControlsToBeRendered(o);var c=o.getCondensed();r.write("<div");r.writeControlData(o);r.addClass("sapMOH");if(o._getBackground()!==sap.m.BackgroundDesign.Transparent){r.addClass("sapContrastPlus");}if(c){r.addClass("sapMOHC");}r.addClass("sapMOHBg"+o._getBackground());r.writeClasses();var t=o.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}r.writeAccessibilityState({role:"region",labelledby:{value:o.getId()+"-titleText-inner",append:true}});r.write(">");if(c){this._renderCondensedOH(r,o);}else{this._renderFullOH(r,o);}r.write("<div class=\"sapMOHLastDivider\"></div>");r.write("</div>");this._cleanupNotRenderedChildControls(r,o);};O._renderChildControl=function(r,o,c){r.renderControl(c);if(!o.getResponsive()&&o.__controlsToBeRendered){o.__controlsToBeRendered[c.getId()]=undefined;}};O._renderResponsive=function(r,o){var s=this._hasResponsiveStates(o),t=this._hasResponsiveTabs(o),h=o.getHeaderContainer();r.write("<div");r.addClass("sapMOHROuter");r.writeClasses();r.writeAccessibilityState({role:"region",labelledby:{value:o.getId()+"-txt",append:true}});r.writeControlData(o);r.write(">");r.write("<div");r.addClass("sapMOHR");if(o._getBackground()!==sap.m.BackgroundDesign.Transparent){r.addClass("sapContrastPlus");}if(t){r.addClass("sapMOHRNoBorder");}r.addClass("sapMOHRBg"+o._getBackground());r.writeClasses();r.write(">");r.write("<div");if(sap.ui.Device.system.desktop&&o._isMediaSize("Desktop")&&o.getFullScreenOptimized()&&o._iCountVisAttrStat>=1&&o._iCountVisAttrStat<=3){r.addClass("sapMOHRStatesOneOrThree");}r.writeClasses();r.write(">");this._renderResponsiveTitleBlock(r,o);if(s){this._renderResponsiveStates(r,o);}r.write("</div>");if(t){this._renderResponsiveTabs(r,o);}r.write("</div>");if(h&&h instanceof sap.m.IconTabBar){this._renderChildControl(r,o,h);}r.write("</div>");if(!o.getTitle()){if(!o.getBinding("title")){q.sap.log.warning("The title shouldn't be empty!");}}};O._renderResponsiveTitleBlock=function(r,c){var l=sap.ui.getCore().getLibraryResourceBundle("sap.m");r.write("<div");r.writeAttribute("id",c.getId()+"-titlenumdiv");r.addClass("sapMOHRTitleNumberDiv");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-titlediv");r.addClass("sapMOHRTitleDiv");if(c._hasIcon()){if(sap.ui.Device.system.phone||c._isMediaSize("Phone")){if(sap.ui.Device.orientation.landscape||(c._isMediaSize("Phone")&&!sap.ui.Device.system.phone)){r.addClass("sapMOHRTitleIcon");}}else{r.addClass("sapMOHRTitleIcon");}}if(!c.getNumber()){r.addClass("sapMOHRTitleDivFull");}r.writeClasses();r.write(">");this._renderResponsiveTitle(r,c);if(c._hasIcon()){r.write("<div");r.writeAttribute("id",c.getId()+"-titleIcon");r.addClass("sapMOHRIcon");if((sap.ui.Device.system.phone&&sap.ui.Device.orientation.portrait)){r.addClass("sapMOHRHideIcon");}if(c.getIconActive()){r.addClass("sapMPointer");r.writeAttribute("tabindex","0");r.writeAccessibilityState({role:"link",haspopup:true,label:l.getText("OH_ARIA_ICON")});}r.writeClasses();r.write(">");this._renderChildControl(r,c,c._getImageControl());r.write("</div>");}r.write("</div>");this._renderResponsiveNumber(r,c);r.write("</div>");};O._renderResponsiveStates=function(r,c){r.write("<div");r.writeAttribute("id",c.getId()+"-states");r.addClass("sapMOHRStates");r.writeClasses();r.write(">");this._renderResponsiveRow(r,c);r.write("</div>");};O._renderResponsiveRow=function(r,o){var v=[];v=this._getVisibleAttribsAndStatuses(o);var V=v[0].concat(v[1]),c=v[0].length,C=V.length,R=1,s='';if(C===0){return;}if(sap.ui.Device.system.desktop){if(!o.getFullScreenOptimized()){if(C>=1&&C<=4){R=2;s='sapMOHRTwoCols';}if(C>=5){R=3;s='sapMOHRThreeCols';}}else{if(C>=1&&C<=3){R=1;s='sapMOHROneCols';}if(C>=4){R=4;s='sapMOHRFourCols';}}}if(sap.ui.Device.system.tablet||(sap.ui.Device.system.desktop&&o._isMediaSize("Tablet"))){if(!o.getFullScreenOptimized()||(sap.ui.Device.orientation.portrait&&o.getFullScreenOptimized())){R=2;s='sapMOHRTwoCols';}else{if(o.getFullScreenOptimized()&&(sap.ui.Device.orientation.landscape||(sap.ui.Device.system.desktop&&o._isMediaSize("Tablet")))){if(C>=1&&C<=2){R=2;s='sapMOHRTwoCols';}if(C>=3){R=3;s='sapMOHRThreeCols';}}}}if(sap.ui.Device.system.phone||(sap.ui.Device.system.desktop&&o._isMediaSize("Phone"))){R=1;s='sapMOHROneCols';}this._renderResponsiveStatesColumn(r,o,R,V,c,s);};O._renderResponsiveStatesColumn=function(r,o,R,v,c,C){var a=Math.floor(v.length/R);var b=v.length%R;var d=0;var e=1;for(var i=0;i<v.length;i++){if(d==0){r.write("<div");r.addClass("sapMOHRStatesCont"+e);r.addClass(C);r.writeClasses();r.write(">");}if(i<c){this._renderResponsiveAttribute(r,o,v[i]);}else{this._renderResponsiveStatus(r,o,v[i]);}d++;if((d==a&&e>b)||(d==(a+1)&&e<=b)||i==v.length-1){r.write("</div>");d=0;e++;}}};O._renderResponsiveAttribute=function(r,o,a){r.write("<div");r.addClass("sapMOHRAttr");r.writeClasses();r.write(">");this._renderChildControl(r,o,a);r.write("</div>");};O._renderResponsiveStatus=function(r,o,s){r.write("<div");r.addClass("sapMOHRStatus");r.writeClasses();r.write(">");this._renderChildControl(r,o,s[0]);r.write("</div>");};O._renderResponsiveMarkers=function(r,c){var m=[],t=c.getTitleTextDirection(),p=sap.ui.getCore().getConfiguration().getRTL();m=c._getVisibleMarkers();r.write("<span");r.addClass("sapMObjStatusMarker");if((t===sap.ui.core.TextDirection.LTR&&p)||(t===sap.ui.core.TextDirection.RTL&&!p)){r.addClass("sapMObjStatusMarkerOpposite");}r.writeClasses();r.writeAttribute("id",c.getId()+"-markers");r.write(">");for(var i=0;i<m.length;i++){this._renderChildControl(r,c,m[i]);}r.write("</span>");};O._renderResponsiveNumber=function(r,c){var o=c.getAggregation("_objectNumber");if(o&&o.getNumber()){o.setTextDirection(c.getNumberTextDirection());this._renderChildControl(r,c,o);}};O._hasResponsiveStates=function(c){var a=c.getAttributes(),v=[];if(!(c._hasAttributes()||c._hasStatus())){c._iCountVisAttrStat=0;return false;}for(var j=0;j<a.length;j++){if(a[j].getVisible()){v.push(a[j]);}}var V=this._getVisibleStatuses(c);c._iCountVisAttrStat=v.length+V.length;return!!(v.length+V.length);};O._hasResponsiveTabs=function(c){var h=c.getHeaderContainer(),i;if(h){if(h instanceof sap.m.IconTabBar){i=h._getIconTabHeader();if(i.getVisible()){c._iCountVisTabs=i.getItems().length;return!!i.getItems().length;}}else if(h.getMetadata().getName()==="sap.m.HeaderContainer"){return!!h.getContent().length;}else if(h.getMetadata().getName()==="sap.suite.ui.commons.HeaderContainer"){return!!h.getItems().length;}}return false;};O._renderResponsiveTabs=function(r,c){var h=c.getHeaderContainer(),i;r.write("<div class=\"sapMOHRTabs"+(h instanceof sap.m.IconTabBar?" sapMOHRTabsITB":"")+"\">");if(h){if(h instanceof sap.m.IconTabBar){i=h._getIconTabHeader();this._renderChildControl(r,c,i);h._bHideHeader=true;}else if(h.getMetadata().getName()==="sap.m.HeaderContainer"||h.getMetadata().getName()==="sap.suite.ui.commons.HeaderContainer"){this._renderChildControl(r,c,h);}else{q.sap.log.warning("The control "+h+" is not supported for aggregation \"headerContainer\"");}}r.write("</div>");};O._renderResponsiveTitle=function(r,o){var n;o._oTitleArrowIcon.setVisible(o.getShowTitleSelector());r.write("<div");r.writeAttribute("id",o.getId()+"-title");r.addClass("sapMOHRTitle");if(o.getTitle().length&&o.getTitleActive()){r.addClass("sapMOHRTitleActive");}if(o.getShowTitleSelector()){r.addClass("sapMOHRTitleFollowArrow");}r.writeClasses();r.write(">");if((sap.ui.Device.system.phone&&sap.ui.Device.orientation.portrait)){n=50;}else{n=80;}r.write("<span");r.writeAttribute("id",o.getId()+"-title-arrow");r.write(">");this._renderResponsiveTitleAndArrow(r,o,n);r.write("</span>");if(o.getIntro()){this._renderIntro(r,o,"sapMOHRIntro","sapMOHRIntroActive");}r.write("</div>");};O._rerenderTitle=function(r,o,n){var i=o.getId();this._renderResponsiveTitleAndArrow(r,o,n);r.flush(q.sap.byId(i+"-title-arrow"));};O._renderResponsiveTitleAndArrow=function(r,o,n){var s,e='',t=o.getTitleTextDirection();var m=!!o._getVisibleMarkers().length;var T=(o.getTitleLevel()===sap.ui.core.TitleLevel.Auto)?sap.ui.core.TitleLevel.H1:o.getTitleLevel();r.write("<"+T+">");r.write("<span");r.addClass("sapMOHRTitleTextContainer");r.writeClasses();if(t!=sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",t.toLowerCase());}r.write(">");if(o.getTitle().length&&o.getTitleActive()){r.write("<a");if(o.getTitleHref()){r.writeAttributeEscaped("href",o.getTitleHref());if(o.getTitleTarget()){r.writeAttributeEscaped("target",o.getTitleTarget());}}else{r.writeAttribute("href","#");}r.writeAttribute("tabindex","0");r.writeAccessibilityState({role:"link",haspopup:!o.getTitleHref()});}else{r.write("<span");}r.writeAttribute("id",o.getId()+"-txt");r.addClass("sapMOHRTitleText");r.writeClasses();r.write(">");r.write("<span");r.addClass("sapMOHRTitleTextWrappable");r.writeClasses();r.write(">");if(o.getTitle().length>n){s=o.getTitle().substr(0,n).trim();e='...';}else{s=o.getTitle();}if(m){var a=s.substr(s.lastIndexOf(" ")+1);var b=s.substr(0,s.lastIndexOf(" ")+1);if(a.length===1){a=s;b='';}r.writeEscaped(b);r.write("</span>");r.writeEscaped(a);r.write(e);if(o.getTitleActive()){r.write("</a>");}else{r.write("</span>");}this._renderResponsiveMarkers(r,o);r.write("</span>");}else{if(!e){r.writeEscaped(s);}else{r.writeEscaped(s+e);}if(o.getTitleActive()){r.write("</span></a></span>");}else{r.write("</span></span></span>");}}if(o.getShowTitleSelector()){r.write("<span");r.addClass("sapMOHRTitleArrow");r.writeClasses();r.write(">");this._renderChildControl(r,o,o._oTitleArrowIcon);r.write("</span>");}r.write("</"+T+">");};O._rerenderResponsiveStates=function(r,o){var i=o.getId(),v=this._getVisibleAttribsAndStatuses(o),V=v[0].concat(v[1]),c=v[0].length,C=V.length,R=1,s='';if(C===0){return;}if(sap.ui.Device.orientation.portrait){R=2;s='sapMOHRTwoCols';}else{if(C>=1&&C<=2){R=2;s='sapMOHRTwoCols';}if(C>=3){R=3;s='sapMOHRThreeCols';}}this._renderResponsiveStatesColumn(r,o,R,V,c,s);r.flush(q.sap.byId(i+"-states")[0]);};return O;},true);
sap.ui.predefine('sap/m/ObjectIdentifier',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/core/InvisibleText'],function(q,l,C,I,a){"use strict";var O=C.extend("sap.m.ObjectIdentifier",{metadata:{library:"sap.m",designTime:true,properties:{title:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},badgeNotes:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},badgePeople:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},badgeAttachments:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},visible:{type:"boolean",group:"Appearance",defaultValue:true},titleActive:{type:"boolean",group:"Misc",defaultValue:false},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit}},aggregations:{_titleControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_textControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{titlePress:{parameters:{domRef:{type:"object"}}}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});O.prototype.init=function(){var L=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(sap.ui.getCore().getConfiguration().getAccessibility()){O.OI_ARIA_ROLE=L.getText("OI_ARIA_ROLE");this._createAriaInfoTextControl();}};O.prototype.exit=function(){if(this._attachmentsIcon){this._attachmentsIcon.destroy();this._attachmentsIcon=null;}if(this._peopleIcon){this._peopleIcon.destroy();this._peopleIcon=null;}if(this._notesIcon){this._notesIcon.destroy();this._notesIcon=null;}if(this._oAriaCustomRole){this._oAriaCustomRole.destroy();this._oAriaCustomRole=null;}};O.prototype._getAttachmentsIcon=function(){if(!this._attachmentsIcon){this._attachmentsIcon=this._getIcon(I.getIconURI("attachment"),this.getId()+"-attachments");}return this._attachmentsIcon;};O.prototype._getPeopleIcon=function(){if(!this._peopleIcon){this._peopleIcon=this._getIcon(I.getIconURI("group"),this.getId()+"-people");}return this._peopleIcon;};O.prototype._getNotesIcon=function(){if(!this._notesIcon){this._notesIcon=this._getIcon(I.getIconURI("notes"),this.getId()+"-notes");}return this._notesIcon;};O.prototype._getIcon=function(u,i){var s=sap.ui.Device.system.phone?"1em":"1em";var o;o=this._icon||I.createControlByURI({src:u,id:i+"-icon",size:s,useIconTooltip:false},sap.m.Image);o.setSrc(u);return o;};O.prototype._getTitleControl=function(){var t=this.getAggregation("_titleControl"),i;if(!t){if(this.getProperty("titleActive")){t=new sap.m.Link({text:this.getProperty("title"),ariaLabelledBy:this._oAriaCustomRole});}else{t=new sap.m.Text({text:this.getProperty("title")});}this.setAggregation("_titleControl",t);}else{i=this.getProperty("titleActive");if(i&&t instanceof sap.m.Text){this.destroyAggregation("_titleControl",true);t=new sap.m.Link({text:this.getProperty("title"),ariaLabelledBy:this._oAriaCustomRole});this.setAggregation("_titleControl",t);}else if(!i&&t instanceof sap.m.Link){this.destroyAggregation("_titleControl",true);t=new sap.m.Text({text:this.getProperty("title")});this.setAggregation("_titleControl",t);}}t.setVisible(!!this.getTitle());return t;};O.prototype._getTextControl=function(){var t=this.getAggregation("_textControl");if(!t){t=new sap.m.Text({text:this.getProperty("text")});this.setAggregation("_textControl",t,true);}t.setTextDirection(this.getTextDirection());t.setVisible(!!this.getText());return t;};O.prototype._rerenderTitle=function(){var t=this._getTitleControl();t.setProperty("text",this.getProperty("title"),true);var r=sap.ui.getCore().createRenderManager();r.renderControl(t);r.flush(this.$("title")[0]);r.destroy();};O.prototype.setTitle=function(t){var T=this._getTitleControl();T.setProperty("text",t,false);T.setVisible(!!t);this.setProperty("title",t,true);this.$("text").toggleClass("sapMObjectIdentifierTextBellow",!!this.getProperty("text")&&!!this.getProperty("title"));return this;};O.prototype.setText=function(t){this.setProperty("text",t,true);var T=this._getTextControl();T.setProperty("text",t,false);this.$("text").toggleClass("sapMObjectIdentifierTextBellow",!!this.getProperty("text")&&!!this.getProperty("title"));return this;};O.prototype.setTitleActive=function(v){var p=this.getProperty("titleActive");if(p!=v){this.setProperty("titleActive",v,true);if(this.$("title").children().length>0){this._rerenderTitle();}}return this;};O.prototype._handlePress=function(e){var c=e.target;if(this.getTitleActive()&&this.$("title")[0].firstChild==c){this.fireTitlePress({domRef:c});e.setMarked();}};O.prototype.onsapenter=function(e){O.prototype._handlePress.apply(this,arguments);};O.prototype.onsapspace=function(e){O.prototype._handlePress.apply(this,arguments);};O.prototype.ontap=function(e){O.prototype._handlePress.apply(this,arguments);};O.prototype._createAriaInfoTextControl=function(){if(!this._oAriaCustomRole){this._oAriaCustomRole=new a(this.getId()+"-oIHiddenText",{text:O.OI_ARIA_ROLE});}return this._oAriaCustomRole;};return O;},true);
sap.ui.predefine('sap/m/ObjectIdentifierRenderer',['jquery.sap.global'],function(q){"use strict";var O={};O.render=function(r,o){var t;if(!o.getVisible()){return;}r.write("<div");r.writeControlData(o);r.writeAccessibilityState(o);r.addClass("sapMObjectIdentifier");r.writeClasses();t=o.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}r.write(">");r.write("<div");r.addClass("sapMObjectIdentifierTopRow");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapMObjectIdentifierIcons");r.writeClasses();r.write(">");if(o.getBadgeAttachments()){r.write("<span");r.addClass("sapMObjectIdentifierIconSpan");r.writeClasses();r.write(">");r.renderControl(o._getAttachmentsIcon());r.write("</span>");}if(o.getBadgeNotes()){r.write("<span");r.addClass("sapMObjectIdentifierIconSpan");r.writeClasses();r.write(">");r.renderControl(o._getNotesIcon());r.write("</span>");}if(o.getBadgePeople()){r.write("<span");r.addClass("sapMObjectIdentifierIconSpan");r.writeClasses();r.write(">");r.renderControl(o._getPeopleIcon());r.write("</span>");}r.write("</div>");r.write("<div id='"+o.getId()+"-title'");r.addClass("sapMObjectIdentifierTitle");r.writeClasses();r.write(">");r.renderControl(o._getTitleControl());r.renderControl(o._oAriaCustomRole);r.write("</div>");r.write("</div>");r.write("<div id='"+o.getId()+"-text'");r.addClass("sapMObjectIdentifierText");if(!!o.getProperty("text")&&!!o.getProperty("title")){r.addClass("sapMObjectIdentifierTextBellow");}r.writeClasses();r.write(">");r.renderControl(o._getTextControl());r.write("</div>");r.write("</div>");};return O;},true);
sap.ui.predefine('sap/m/ObjectListItem.designtime',[],function(){"use strict";return{aggregations:{firstStatus:{domRef:":sap-domref .sapMObjLStatus1DivEmpty"},secondStatus:{domRef:":sap-domref .sapMObjLStatus2DivEmpty"},attributes:{domRef:":sap-domref .sapMObjLAttrDivEmpty"}}};},false);
sap.ui.predefine('sap/m/ObjectListItem',['jquery.sap.global','./ListItemBase','./library','sap/ui/core/IconPool'],function(q,L,l,I){"use strict";var O=L.extend("sap.m.ObjectListItem",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null},number:{type:"string",group:"Misc",defaultValue:null},numberUnit:{type:"string",group:"Misc",defaultValue:null},intro:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},markFavorite:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},markFlagged:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},showMarkers:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},numberState:{type:"sap.ui.core.ValueState",group:"Misc",defaultValue:sap.ui.core.ValueState.None},titleTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},introTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},numberTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},markLocked:{type:"boolean",group:"Misc",defaultValue:false,deprecated:true}},defaultAggregation:"attributes",aggregations:{attributes:{type:"sap.m.ObjectAttribute",multiple:true,singularName:"attribute"},firstStatus:{type:"sap.m.ObjectStatus",multiple:false},secondStatus:{type:"sap.m.ObjectStatus",multiple:false},markers:{type:"sap.m.ObjectMarker",multiple:true,singularName:"marker"}},designTime:true}});O.prototype.exit=function(e){if(this._oImageControl){this._oImageControl.destroy();}if(this._oTitleText){this._oTitleText.destroy();this._oTitleText=undefined;}L.prototype.exit.apply(this);};O.prototype._hasAttributes=function(){var a=this.getAttributes();if(a.length>0){for(var i=0;i<a.length;i++){if(!a[i]._isEmpty()){return true;}}}return false;};O.prototype._hasStatus=function(){return((this.getFirstStatus()&&!this.getFirstStatus()._isEmpty())||(this.getSecondStatus()&&!this.getSecondStatus()._isEmpty()));};O.prototype._hasBottomContent=function(){return(this._hasAttributes()||this._hasStatus()||this.getShowMarkers()||this.getMarkLocked()||this._getVisibleMarkers().length>0);};O.prototype._getVisibleAttributes=function(){var a=this.getAttributes();var v=[];for(var i=0;i<a.length;i++){if(a[i].getVisible()){v.push(a[i]);}}return v;};O.prototype._getVisibleMarkers=function(){var a=this.getMarkers();var v=[];for(var i=0;i<a.length;i++){if(a[i].getVisible()){v.push(a[i]);}}return v;};O.prototype._getImageControl=function(){var i=this.getId()+'-img';var s="2.5rem";var p;if(I.isIconURI(this.getIcon())){p={src:this.getIcon(),height:s,width:s,size:s,useIconTooltip:false,densityAware:this.getIconDensityAware()};}else{p={src:this.getIcon(),useIconTooltip:false,densityAware:this.getIconDensityAware()};}var c=['sapMObjLIcon'];this._oImageControl=sap.m.ImageHelper.getImageControl(i,this._oImageControl,this,p,c);return this._oImageControl;};O.prototype._activeHandlingInheritor=function(){var a=this.getActiveIcon();if(!!this._oImageControl&&!!a){this._oImageControl.setSrc(a);}};O.prototype._inactiveHandlingInheritor=function(){var s=this.getIcon();if(!!this._oImageControl){this._oImageControl.setSrc(s);}};O.prototype.setMarkFavorite=function(m){return this._setOldMarkers(sap.m.ObjectMarkerType.Favorite,m);};O.prototype.setMarkFlagged=function(m){return this._setOldMarkers(sap.m.ObjectMarkerType.Flagged,m);};O.prototype.setMarkLocked=function(m){return this._setOldMarkers(sap.m.ObjectMarkerType.Locked,m);};O.prototype.setShowMarkers=function(m){var M;var a=this.getMarkers();this.setProperty("showMarkers",m,false);for(var i=0;i<a.length;i++){M=a[i].getType();if((M===sap.m.ObjectMarkerType.Flagged&&this.getMarkFlagged())||(M===sap.m.ObjectMarkerType.Favorite&&this.getMarkFavorite())||(M===sap.m.ObjectMarkerType.Locked&&this.getMarkLocked())){a[i].setVisible(m);}}return this;};O.prototype._setOldMarkers=function(m,M){var a=this.getMarkers();var h=false;var o={Flagged:"-flag",Favorite:"-favorite",Locked:"-lock"};this.setProperty("mark"+m,M,false);if(!this.getShowMarkers()){M=false;}for(var i=0;i<a.length;i++){if(a[i].getType()===m){h=true;a[i].setVisible(M);break;}}if(!h){this.insertAggregation("markers",new sap.m.ObjectMarker({id:this.getId()+o[m],type:m,visible:M}));}return this;};O.prototype._getTitleText=function(){if(!this._oTitleText){this._oTitleText=new sap.m.Text(this.getId()+"-titleText",{maxLines:2});this._oTitleText.setParent(this,null,true);}return this._oTitleText;};return O;},true);
sap.ui.predefine('sap/m/ObjectListItemRenderer',['jquery.sap.global','./ListItemBaseRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var O=R.extend(L);O.renderAttributeStatus=function(r,l,a,s){if(!a&&!s||(a&&a._isEmpty()&&s&&s._isEmpty())){return;}r.write("<div");r.addClass("sapMObjLAttrRow");r.writeClasses();r.write(">");if(a&&!a._isEmpty()){r.write("<div");r.addClass("sapMObjLAttrDiv");if(s&&(!s._isEmpty())){if(s instanceof Array){r.addClass("sapMObjAttrWithMarker");}}r.writeClasses();if(!s||s._isEmpty()){r.addStyle("width","100%");r.writeStyles();}r.write(">");r.renderControl(a);r.write("</div>");}if(s&&!s._isEmpty()){r.write("<div");r.addClass("sapMObjLStatusDiv");if(s instanceof Array&&s.length>0){r.addClass("sapMObjStatusMarker");}r.writeClasses();if(!a||a._isEmpty()){r.addStyle("width","100%");r.writeStyles();}r.write(">");if(s instanceof Array){while(s.length>0){r.renderControl(s.shift());}}else{r.renderControl(s);}r.write("</div>");}r.write("</div>");};O.renderLIAttributes=function(r,l){r.addClass("sapMObjLItem");r.addClass("sapMObjLListModeDiv");};O.renderLIContent=function(r,l){var t=l.getTitleTextDirection(),i=l.getIntroTextDirection(),n=l.getNumberTextDirection();if(l.getIntro()){r.write("<div");r.addClass("sapMObjLIntro");r.writeClasses();r.writeAttribute("id",l.getId()+"-intro");r.write(">");r.write("<span");if(i!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",i.toLowerCase());}r.write(">");r.writeEscaped(l.getIntro());r.write("</span>");r.write("</div>");}r.write("<div");r.addClass("sapMObjLTopRow");r.writeClasses();r.write(">");if(!!l.getIcon()){r.write("<div");r.addClass("sapMObjLIconDiv");r.writeClasses();r.write(">");r.renderControl(l._getImageControl());r.write("</div>");}r.write("<div");r.addClass("sapMObjLNumberDiv");r.writeClasses();r.write(">");if(l.getNumber()){r.write("<div");r.writeAttribute("id",l.getId()+"-number");r.addClass("sapMObjLNumber");r.addClass("sapMObjLNumberState"+l.getNumberState());r.writeClasses();if(n!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",n.toLowerCase());}r.write(">");r.writeEscaped(l.getNumber());r.write("</div>");if(l.getNumberUnit()){r.write("<div");r.writeAttribute("id",l.getId()+"-numberUnit");r.addClass("sapMObjLNumberUnit");r.addClass("sapMObjLNumberState"+l.getNumberState());r.writeClasses();r.write(">");r.writeEscaped(l.getNumberUnit());r.write("</div>");}}r.write("</div>");r.write("<div");r.addStyle("display","-webkit-box");r.addStyle("overflow","hidden");r.writeStyles();r.write(">");var T=l._getTitleText();if(T){T.setTextDirection(t);T.setText(l.getTitle());T.addStyleClass("sapMObjLTitle");r.renderControl(T);}r.write("</div>");r.write("</div>");if(!(sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version<10)){r.write("<div style=\"clear: both;\"></div>");}if(l._hasBottomContent()){r.write("<div");r.addClass("sapMObjLBottomRow");r.writeClasses();r.write(">");var a=l._getVisibleAttributes();var s=[];var m=l._getVisibleMarkers();m._isEmpty=function(){return!(m.length);};if(!m._isEmpty()){s.push(m);}s.push(l.getFirstStatus());s.push(l.getSecondStatus());while(a.length>0){this.renderAttributeStatus(r,l,a.shift(),s.shift());}while(s.length>0){this.renderAttributeStatus(r,l,null,s.shift());}r.write("</div>");}};O.getAriaLabelledBy=function(l){var a=[];if(l.getIntro()){a.push(l.getId()+"-intro");}if(l.getTitle()){a.push(l.getId()+"-titleText");}if(l.getNumber()){a.push(l.getId()+"-number");}if(l.getNumberUnit()){a.push(l.getId()+"-numberUnit");}if(l.getAttributes()){l.getAttributes().forEach(function(b){a.push(b.getId());});}if(l.getFirstStatus()){a.push(l.getFirstStatus().getId());}if(l.getSecondStatus()){a.push(l.getSecondStatus().getId());}if(l.getMarkers()){l.getMarkers().forEach(function(m){a.push(m.getId()+"-text");});}return a.join(" ");};return O;},true);
sap.ui.predefine('sap/m/ObjectMarker',['jquery.sap.global',"sap/ui/core/Control",'sap/ui/core/Renderer'],function(q,C,R){"use strict";var O=C.extend("sap.m.ObjectMarker",{metadata:{library:"sap.m",properties:{type:{type:"sap.m.ObjectMarkerType",group:"Misc"},visibility:{type:"sap.m.ObjectMarkerVisibility",group:"Misc"},additionalInfo:{type:"string",group:"Misc",defaultValue:""}},aggregations:{_innerControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{press:{type:{type:"sap.m.ObjectMarkerType"}}}}});var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");O.M_PREDEFINED_TYPES={Flagged:{icon:{src:"sap-icon://flag",visibility:{small:true,large:true}},text:{value:r.getText("OM_FLAG"),visibility:{small:false,large:false}}},Favorite:{icon:{src:"sap-icon://favorite",visibility:{small:true,large:true}},text:{value:r.getText("OM_FAVORITE"),visibility:{small:false,large:false}}},Draft:{icon:{src:"sap-icon://request",visibility:{small:false,large:false}},text:{value:r.getText("OM_DRAFT"),visibility:{small:true,large:true}}},Locked:{icon:{src:"sap-icon://private",visibility:{small:true,large:true}},text:{value:r.getText("OM_LOCKED"),visibility:{small:false,large:true}}},Unsaved:{icon:{src:"sap-icon://user-edit",visibility:{small:true,large:true}},text:{value:r.getText("OM_UNSAVED"),visibility:{small:false,large:true}}},LockedBy:{icon:{src:"sap-icon://private",visibility:{small:true,large:true}},text:{value:r.getText("OM_LOCKED_BY"),visibility:{small:false,large:true}}},UnsavedBy:{icon:{src:"sap-icon://user-edit",visibility:{small:true,large:true}},text:{value:r.getText("OM_UNSAVED_BY"),visibility:{small:false,large:true}}}};O.prototype.init=function(){sap.ui.Device.media.initRangeSet("DeviceSet",[600],"px",["small","large"]);};O.prototype.onAfterRendering=function(){this._attachMediaContainerWidthChange(this._handleMediaChange,this,"DeviceSet");};O.prototype.onBeforeRendering=function(){this._cleanup();this._adjustControl();};O.prototype.exit=function(){this._cleanup();};O.prototype.attachPress=function(){var i=this._getInnerControl();Array.prototype.unshift.apply(arguments,["press"]);C.prototype.attachEvent.apply(this,arguments);if(this.hasListeners("press")&&i&&i instanceof b){i.destroy();this.setAggregation("_innerControl",this._createCustomLink(),true);this._adjustControl();}return this;};O.prototype.detachPress=function(){var i=this._getInnerControl();Array.prototype.unshift.apply(arguments,["press"]);C.prototype.detachEvent.apply(this,arguments);if(!this.hasListeners("press")&&i&&i instanceof d){i.destroy();this.setAggregation("_innerControl",this._createCustomText(),true);this._adjustControl();}return this;};O.prototype._cleanup=function(){this._detachMediaContainerWidthChange(this._handleMediaChange,this,"DeviceSet");};O.prototype._handleMediaChange=function(){this._adjustControl();};O.prototype._adjustControl=function(){var t=O.M_PREDEFINED_TYPES[this.getType()],i=this._getInnerControl(),A=this.getAdditionalInfo(),T=this.getType(),s;if(!i){return false;}if(t){s=this._getMarkerText(t,T,A);}if(this._isIconVisible()){i.setIcon(t.icon.src);this.addStyleClass("sapMObjectMarkerIcon");}else{i.setIcon(null);this.removeStyleClass("sapMObjectMarkerIcon");}if(this._isTextVisible()){i.setTooltip(null);i.setText(s);this.addStyleClass("sapMObjectMarkerText");}else{if(i.getIcon()){i.setTooltip(s);}i.setText(null);this.removeStyleClass("sapMObjectMarkerText");}return true;};O.prototype._getMarkerText=function(t,T,A){switch(T){case"LockedBy":return(A==="")?r.getText('OM_LOCKED_BY_ANOTHER_USER'):r.getText('OM_LOCKED_BY',[A]);case"UnsavedBy":return(A==="")?r.getText('OM_UNSAVED_BY_ANOTHER_USER'):r.getText('OM_UNSAVED_BY',[A]);default:return(A==="")?t.text.value:t.text.value+" "+A;}};O.prototype._isIconVisible=function(){var t=O.M_PREDEFINED_TYPES[this.getType()],v=this.getVisibility(),D=this._getDeviceType(),T=t&&t.icon.visibility[D]||false;return v===sap.m.ObjectMarkerVisibility.IconOnly||v===sap.m.ObjectMarkerVisibility.IconAndText||(v!==sap.m.ObjectMarkerVisibility.TextOnly&&T);};O.prototype._isTextVisible=function(){var t=O.M_PREDEFINED_TYPES[this.getType()],v=this.getVisibility(),D=this._getDeviceType(),T=t&&t.text.visibility[D]||false;return v===sap.m.ObjectMarkerVisibility.TextOnly||v===sap.m.ObjectMarkerVisibility.IconAndText||(v!==sap.m.ObjectMarkerVisibility.IconOnly&&T);};O.prototype._getDeviceType=function(){return this._getCurrentMediaContainerRange("DeviceSet").name.toLowerCase();};O.prototype._getInnerControl=function(){var i=this.getAggregation("_innerControl");if(!i&&this.getType()){i=this._createInnerControl();this.setAggregation("_innerControl",i,true);this._adjustControl();}return i;};O.prototype._createInnerControl=function(){if(this.hasListeners("press")){return this._createCustomLink();}else{return this._createCustomText();}};O.prototype._createCustomLink=function(){var o=new d(this.getId()+"-link",{wrapping:true});o.attachPress(function(e){this.firePress({type:this.getType()});},this);return o;};O.prototype._createCustomText=function(){return new b(this.getId()+"-text",{textAlign:sap.ui.core.TextAlign.Initial});};var a=R.extend(sap.m.TextRenderer);a.renderText=function(o,e){o.renderControl(e._getIconAggregation());sap.m.TextRenderer.renderText(o,e);};var b=sap.m.Text.extend("CustomText",{metadata:{properties:{icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null}},aggregations:{_iconControl:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}}},renderer:a});b.prototype.setIcon=function(i){var I=this._getIconAggregation();this.setProperty("icon",i,false);I.setSrc(i);};b.prototype._getIconAggregation=function(){var i=this.getAggregation("_iconControl");if(!i){i=new sap.ui.core.Icon();this.setAggregation("_iconControl",i);}return i;};b.prototype.setText=function(t){this.setProperty("text",t,true);};var c=R.extend(sap.m.LinkRenderer);c.renderText=function(o,e){o.renderControl(e._getIconAggregation());sap.m.LinkRenderer.renderText(o,e);};var d=sap.m.Link.extend("CustomLink",{metadata:{properties:{icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null}},aggregations:{_iconControl:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}}},renderer:c});d.prototype.setIcon=function(i){var I=this._getIconAggregation();this.setProperty("icon",i,false);I.setSrc(i);};d.prototype._getIconAggregation=function(){var i=this.getAggregation("_iconControl");if(!i){i=new sap.ui.core.Icon();this.setAggregation("_iconControl",i);}return i;};d.prototype.setText=function(t){this.setProperty("text",t,true);};return O;},true);
sap.ui.predefine('sap/m/ObjectMarkerRenderer',['jquery.sap.global','sap/ui/core/Renderer'],function(q,R){"use strict";var O={};O.render=function(r,c){r.write("<span ");r.writeControlData(c);r.addClass("sapMObjectMarker");if(c._isIconVisible()){r.addClass("sapMObjectMarkerIcon");}if(c._isTextVisible()){r.addClass("sapMObjectMarkerText");}r.writeClasses();r.write(">");r.renderControl(c._getInnerControl());r.write("</span>");};return O;},true);
sap.ui.predefine('sap/m/ObjectNumber',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/Renderer'],function(q,l,C,R){"use strict";var O=C.extend("sap.m.ObjectNumber",{metadata:{library:"sap.m",properties:{number:{type:"string",group:"Misc",defaultValue:null},numberUnit:{type:"string",group:"Misc",defaultValue:null,deprecated:true},emphasized:{type:"boolean",group:"Appearance",defaultValue:true},state:{type:"sap.ui.core.ValueState",group:"Misc",defaultValue:sap.ui.core.ValueState.None},unit:{type:"string",group:"Misc",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:sap.ui.core.TextAlign.Begin}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}}}});O.prototype._sCSSPrefixObjNumberStatus='sapMObjectNumberStatus';O.prototype.setState=function(s){this.$().removeClass(this._sCSSPrefixObjNumberStatus+this.getState());this.setProperty("state",s,true);this.$().addClass(this._sCSSPrefixObjNumberStatus+this.getState());return this;};O.prototype.setTextAlign=function(a){var A=R.getTextAlign(a,this.getTextDirection());this.setProperty("textAlign",a,true);A=A||a;this.$().css("text-align",a);return this;};return O;},true);
sap.ui.predefine('sap/m/ObjectNumberRenderer',['jquery.sap.global','sap/ui/core/Renderer'],function(q,R){"use strict";var O={};O.render=function(r,o){var t=o.getTooltip_AsString(),T=o.getTextDirection(),s=o.getTextAlign();r.write("<div");r.writeControlData(o);r.addClass("sapMObjectNumber");r.addClass(o._sCSSPrefixObjNumberStatus+o.getState());if(o.getEmphasized()){r.addClass("sapMObjectNumberEmph");}if(t){r.writeAttributeEscaped("title",t);}if(T!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",T.toLowerCase());}s=R.getTextAlign(s,T);if(s){r.addStyle("text-align",s);}r.writeClasses();r.writeStyles();if(o.getState()!==sap.ui.core.ValueState.None){r.writeAccessibilityState({labelledby:o.getId()+"-state"});}r.write(">");this.renderText(r,o);r.write("  ");this.renderUnit(r,o);this.renderHiddenARIAElement(r,o);r.write("</div>");};O.renderText=function(r,o){r.write("<span");r.addClass("sapMObjectNumberText");r.writeClasses();r.write(">");r.writeEscaped(o.getNumber());r.write("</span>");};O.renderUnit=function(r,o){var u=o.getUnit()||o.getNumberUnit();r.write("<span");r.addClass("sapMObjectNumberUnit");r.writeClasses();r.write(">");r.writeEscaped(u);r.write("</span>");};O.renderHiddenARIAElement=function(r,o){var a="",b=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(o.getState()==sap.ui.core.ValueState.None){return;}r.write("<span id='"+o.getId()+"-state' class='sapUiInvisibleText' aria-hidden='true'>");switch(o.getState()){case sap.ui.core.ValueState.Error:a=b.getText("OBJECTNUMBER_ARIA_VALUE_STATE_ERROR");break;case sap.ui.core.ValueState.Warning:a=b.getText("OBJECTNUMBER_ARIA_VALUE_STATE_WARNING");break;case sap.ui.core.ValueState.Success:a=b.getText("OBJECTNUMBER_ARIA_VALUE_STATE_SUCCESS");break;}r.write(a);r.write("</span>");};return O;},true);
sap.ui.predefine('sap/m/ObjectStatus',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/core/ValueStateSupport'],function(q,l,C,I,V){"use strict";var O=C.extend("sap.m.ObjectStatus",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},state:{type:"sap.ui.core.ValueState",group:"Misc",defaultValue:sap.ui.core.ValueState.None},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}}}});O.prototype.exit=function(){if(this._oImageControl){this._oImageControl.destroy();this._oImageControl=null;}};O.prototype._getImageControl=function(){var i=this.getId()+'-icon';var p={src:this.getIcon(),densityAware:this.getIconDensityAware(),useIconTooltip:false};this._oImageControl=sap.m.ImageHelper.getImageControl(i,this._oImageControl,this,p);return this._oImageControl;};O.prototype.setTitle=function(t){var T=this.$().children(".sapMObjStatusTitle"),s=!!T.length&&!!this.validateProperty("title",t).trim();this.setProperty("title",t,s);if(s){T.text(this.getTitle()+":");}return this;};O.prototype.setText=function(t){var T=this.$().children(".sapMObjStatusText"),s=!!T.length&&!!this.validateProperty("text",t).trim();this.setProperty("text",t,s);if(s){T.text(this.getText());}return this;};O.prototype._isEmpty=function(){return!(this.getText().trim()||this.getIcon().trim()||this.getTitle().trim());};O.prototype.getAccessibilityInfo=function(){var s=this.getState()!=sap.ui.core.ValueState.None?V.getAdditionalText(this.getState()):"";return{description:((this.getTitle()||"")+" "+(this.getText()||"")+" "+s).trim()};};return O;},true);
sap.ui.predefine('sap/m/ObjectStatusRenderer',['jquery.sap.global','sap/ui/core/ValueStateSupport'],function(q,V){"use strict";var O={};O.render=function(r,o){if(!o._isEmpty()){var s=o.getState();var t=o.getTextDirection();var T=t;r.write("<div");r.writeControlData(o);var a=o.getTooltip_AsString();if(a){r.writeAttributeEscaped("title",a);}r.addClass("sapMObjStatus");r.addClass("sapMObjStatus"+s);r.writeClasses();if(s!=sap.ui.core.ValueState.None){r.writeAccessibilityState(o,{describedby:{value:o.getId()+"sapSRH",append:true}});}r.write(">");if(o.getTitle()){var p=sap.ui.getCore().getConfiguration().getRTL();if(T===sap.ui.core.TextDirection.Inherit){T=p?sap.ui.core.TextDirection.RTL:sap.ui.core.TextDirection.LTR;}r.write("<span");r.writeAttributeEscaped("id",o.getId()+"-title");r.addClass("sapMObjStatusTitle");if(T){r.writeAttribute("dir",T.toLowerCase());}r.writeClasses();r.write(">");r.writeEscaped(o.getTitle()+":");r.write("</span>");}if(o.getIcon()){r.write("<span");r.writeAttributeEscaped("id",o.getId()+"-icon");r.addClass("sapMObjStatusIcon");r.writeClasses();r.write(">");r.renderControl(o._getImageControl());r.write("</span>");}if(o.getText()){r.write("<span");r.writeAttributeEscaped("id",o.getId()+"-text");r.addClass("sapMObjStatusText");if(t&&t!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",t.toLowerCase());}r.writeClasses();r.write(">");r.writeEscaped(o.getText());r.write("</span>");}if(s!=sap.ui.core.ValueState.None){r.write("<span");r.writeAttributeEscaped("id",o.getId()+"sapSRH");r.addClass("sapUiInvisibleText");r.writeClasses();r.writeAccessibilityState({hidden:false});r.write(">");r.writeEscaped(V.getAdditionalText(s));r.write("</span>");}r.write("</div>");}};return O;},true);
sap.ui.predefine('sap/m/OverflowToolbar',["jquery.sap.global","./library","sap/m/ToggleButton","sap/ui/core/InvisibleText","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/m/OverflowToolbarLayoutData","sap/m/OverflowToolbarAssociativePopover","sap/m/OverflowToolbarAssociativePopoverControls","sap/m/OverflowToolbarPriority","sap/ui/core/IconPool","sap/m/SearchField"],function(q,l,T,I,a,b,O,c,d,e,f,S){"use strict";var g=a.extend("sap.m.OverflowToolbar",{metadata:{aggregations:{_overflowButton:{type:"sap.m.ToggleButton",multiple:false,visibility:"hidden"},_popover:{type:"sap.m.Popover",multiple:false,visibility:"hidden"}}}});g.prototype._callToolbarMethod=function(F,A){return a.prototype[F].apply(this,A);};g.prototype.init=function(){this._callToolbarMethod("init",arguments);this._iPreviousToolbarWidth=null;this._bOverflowButtonNeeded=false;this._bNestedInAPopover=null;this._bListenForControlPropertyChanges=false;this._bControlsInfoCached=false;this._bSkipOptimization=false;if(!g._sAriaOverflowButtonLabelId){var C=sap.ui.getCore().getLibraryResourceBundle("sap.ui.core");g._sAriaOverflowButtonLabelId=new I({text:C.getText("Icon.overflow")}).toStatic().getId();}this._aControlSizes={};};g.prototype.exit=function(){var p=this.getAggregation("_popover");if(p){p.destroy();}};g.prototype.onAfterRendering=function(){if(this._bControlWasFocused){this._getOverflowButton().focus();this._bControlWasFocused=false;}if(this._bOverflowButtonWasFocused&&!this._getOverflowButtonNeeded()){this.$().lastFocusableDomRef().focus();this._bOverflowButtonWasFocused=false;}this._getOverflowButton().$().attr("aria-haspopup","true");this._doLayout();};g.prototype._doLayout=function(){var w=this.$().width();this._bListenForControlPropertyChanges=false;this._deregisterToolbarResize();this._polyfillFlexboxSupport();if(w>0){if(!this._isControlsInfoCached()){this._cacheControlsInfo();}if(this._iPreviousToolbarWidth!==w){this._iPreviousToolbarWidth=w;this._setControlsOverflowAndShrinking(w);this.fireEvent("_controlWidthChanged");}}this._registerToolbarResize();this._bListenForControlPropertyChanges=true;};g.prototype._polyfillFlexboxSupport=function(){if(a.hasNewFlexBoxSupport){return;}var t=this.$();var D=t[0]||{};t.removeClass("sapMTBOverflow");var o=D.scrollWidth>D.clientWidth;o&&t.addClass("sapMTBOverflow");};g.prototype._cacheControlsInfo=function(){var p,C,A;this._aMovableControls=[];this._aToolbarOnlyControls=[];this._aActionSheetOnlyControls=[];this._iContentSize=0;this.getContent().forEach(function(o){p=g._getControlPriority(o);C=p!==e.NeverOverflow;A=p===e.AlwaysOverflow;var i=g._getOptimalControlWidth(o,this._aControlSizes[o.getId()]);this._aControlSizes[o.getId()]=i;if(d.supportsControl(o)&&A){this._aActionSheetOnlyControls.push(o);}else{this._iContentSize+=i;if(d.supportsControl(o)&&C){this._aMovableControls.push(o);}else{this._aToolbarOnlyControls.push(o);}}},this);if(sap.ui.Device.system.phone){this._iContentSize-=1;}this._bControlsInfoCached=true;};g.prototype._isControlsInfoCached=function(){return this._bControlsInfoCached;};g.prototype._setControlsOverflowAndShrinking=function(t){var C=this._iContentSize,B=[],s,i,A,F=function(o){o.forEach(function(p){this._moveButtonToActionSheet(p);},this);},h=function(H){if(typeof H==="undefined"||this._getPopover()._getContentIdsHash()!==H){this.invalidate();if(this._getControlsIds().indexOf(sap.ui.getCore().getCurrentFocusedControlId())!==-1){this._bControlWasFocused=true;}if(sap.ui.getCore().getCurrentFocusedControlId()===this._getOverflowButton().getId()){this._bOverflowButtonWasFocused=true;}}},j=function(C){if(!this._getOverflowButtonNeeded()){C+=this._getOverflowButtonSize();this._setOverflowButtonNeeded(true);}return C;},k=function(M){var G={},o=[];M.forEach(function(p){var r=g._getControlGroup(p),P=g._oPriorityOrder,u,v,w;if(r){u=g._getControlPriority(p);v=this._getControlIndex(p);G[r]=G[r]||[];w=G[r];w.push(p);if(!w._priority||P[w._priority]<P[u]){w._priority=u;}if(!w._index||w._index<v){w._index=v;}}else{o.push(p);}},this);Object.keys(G).forEach(function(p){o.push(G[p]);});return o;},E=function(M){if(M.length){M.forEach(n,this);}else{n.call(this,M);}if(C<=t){return true;}},m=function(v,o){var p=g._oPriorityOrder,r=g._getControlPriority(v),u=g._getControlPriority(o),P=p[r]-p[u];if(P!==0){return P;}else{return this._getControlIndex(o)-this._getControlIndex(v);}},n=function(o){B.unshift(o);C-=this._aControlSizes[o.getId()];};if(this._bSkipOptimization){this._bSkipOptimization=false;}else{s=this._getPopover()._getContentIdsHash();}this._resetToolbar();if(this._aActionSheetOnlyControls.length){for(i=this._aActionSheetOnlyControls.length-1;i>=0;i--){if(this._aActionSheetOnlyControls[i].getVisible()){B.unshift(this._aActionSheetOnlyControls[i]);}}if(B.length>0){C=j.call(this,C);}}if(C<=t){F.call(this,B);h.call(this,s);return;}if(this._aMovableControls.length){C=j.call(this,C);A=k.call(this,this._aMovableControls);A.sort(m.bind(this));A.some(E,this);}F.call(this,B);if(C>t){this._checkContents();}h.call(this,s);};g.prototype._resetToolbar=function(){this._getPopover().close();this._getPopover()._getAllContent().forEach(function(B){this._restoreButtonInToolbar(B);},this);this._setOverflowButtonNeeded(false);this.getContent().forEach(function(C){C.removeStyleClass(a.shrinkClass);});};g.prototype._moveButtonToActionSheet=function(B){this._getPopover().addAssociatedContent(B);};g.prototype._restoreButtonInToolbar=function(B){if(typeof B==="object"){B=B.getId();}this._getPopover().removeAssociatedContent(B);};g.prototype._resetAndInvalidateToolbar=function(h){this._resetToolbar();this._bControlsInfoCached=false;this._bNestedInAPopover=null;this._iPreviousToolbarWidth=null;if(h){this._bSkipOptimization=true;}if(this.$().length){this.invalidate();}};g.prototype._getVisibleContent=function(){var t=this.getContent(),A=this._getPopover()._getAllContent();return t.filter(function(C){return A.indexOf(C)===-1;});};g.prototype._getVisibleAndNonOverflowContent=function(){return this._getVisibleContent().filter(function(C){return C.getVisible();});};g.prototype._getOverflowButton=function(){var o;if(!this.getAggregation("_overflowButton")){o=new T({id:this.getId()+"-overflowButton",icon:f.getIconURI("overflow"),press:this._overflowButtonPressed.bind(this),ariaLabelledBy:this._sAriaOverflowButtonLabelId,type:sap.m.ButtonType.Transparent});this.setAggregation("_overflowButton",o,true);}return this.getAggregation("_overflowButton");};g.prototype._overflowButtonPressed=function(E){var p=this._getPopover(),B=this._getBestActionSheetPlacement();if(p.getPlacement()!==B){p.setPlacement(B);}if(p.isOpen()){p.close();}else{p.openBy(E.getSource());}};g.prototype._getPopover=function(){var p;if(!this.getAggregation("_popover")){p=new c(this.getId()+"-popover",{showHeader:false,showArrow:false,modal:false,horizontalScrolling:sap.ui.Device.system.phone?false:true,contentWidth:sap.ui.Device.system.phone?"100%":"auto",offsetY:this._detireminePopoverVerticalOffset()});p._adaptPositionParams=function(){c.prototype._adaptPositionParams.call(this);this._myPositions=["end top","begin center","end bottom","end center"];this._atPositions=["end bottom","end center","end top","begin center"];};if(sap.ui.Device.system.phone){p.attachBeforeOpen(this._shiftPopupShadow,this);}p.attachAfterClose(this._popOverClosedHandler,this);this.setAggregation("_popover",p,true);}return this.getAggregation("_popover");};g.prototype._shiftPopupShadow=function(){var p=this._getPopover(),P=p.getCurrentPosition();if(P===sap.m.PlacementType.Bottom){p.addStyleClass("sapMOTAPopoverNoShadowTop");p.removeStyleClass("sapMOTAPopoverNoShadowBottom");}else if(P===sap.m.PlacementType.Top){p.addStyleClass("sapMOTAPopoverNoShadowBottom");p.removeStyleClass("sapMOTAPopoverNoShadowTop");}};g.prototype._popOverClosedHandler=function(){var w=sap.ui.Device.os.windows_phone||sap.ui.Device.browser.edge&&sap.ui.Device.browser.mobile;this._getOverflowButton().setPressed(false);this._getOverflowButton().$().focus();if(this._isNestedInsideAPopup()||w){return;}this._getOverflowButton().setEnabled(false);q.sap.delayedCall(0,this,function(){this._getOverflowButton().setEnabled(true);q.sap.delayedCall(0,this,function(){this._getOverflowButton().$().focus();});});};g.prototype._isNestedInsideAPopup=function(){var s;if(this._bNestedInAPopover!==null){return this._bNestedInAPopover;}s=function(C){if(!C){return false;}if(C.getMetadata().isInstanceOf("sap.ui.core.PopupInterface")){return true;}return s(C.getParent());};this._bNestedInAPopover=s(this);return this._bNestedInAPopover;};g.prototype._getOverflowButtonNeeded=function(){return this._bOverflowButtonNeeded;};g.prototype._setOverflowButtonNeeded=function(v){if(this._bOverflowButtonNeeded!==v){this._bOverflowButtonNeeded=v;}return this;};g.prototype.onLayoutDataChange=function(){this._resetAndInvalidateToolbar(true);};g.prototype.addContent=function(C){this._registerControlListener(C);this._preProcessControl(C);this._resetAndInvalidateToolbar(false);return this._callToolbarMethod("addContent",arguments);};g.prototype.insertContent=function(C,i){this._registerControlListener(C);this._preProcessControl(C);this._resetAndInvalidateToolbar(false);return this._callToolbarMethod("insertContent",arguments);};g.prototype.removeContent=function(C){var v=this._callToolbarMethod("removeContent",arguments);if(v){this._getPopover().removeAssociatedContent(v.getId());}this._resetAndInvalidateToolbar(false);this._postProcessControl(v);this._deregisterControlListener(v);return v;};g.prototype.removeAllContent=function(){var C=this._callToolbarMethod("removeAllContent",arguments);C.forEach(function(o){this._deregisterControlListener(o);this._postProcessControl(o);},this);this._resetAndInvalidateToolbar(false);return C;};g.prototype.destroyContent=function(){this._resetAndInvalidateToolbar(false);q.sap.delayedCall(0,this,function(){this._resetAndInvalidateToolbar(false);});return this._callToolbarMethod("destroyContent",arguments);};g.prototype._registerControlListener=function(C){if(C){C.attachEvent("_change",this._onContentPropertyChangedOverflowToolbar,this);}};g.prototype._deregisterControlListener=function(C){if(C){C.detachEvent("_change",this._onContentPropertyChangedOverflowToolbar,this);}};g.prototype._onContentPropertyChangedOverflowToolbar=function(E){if(!this._bListenForControlPropertyChanges){return;}var s=E.getSource();var C=d.getControlConfig(s);var p=E.getParameter("name");if(typeof C!=="undefined"&&C.noInvalidationProps.indexOf(p)!==-1){return;}this._resetAndInvalidateToolbar(true);};g.prototype._getOverflowButtonSize=function(){var B=parseInt(sap.m.BaseFontSize,10),C=this.$().parents().hasClass('sapUiSizeCompact')?2.5:3;return parseInt(B*C,10);};g.prototype._getBestActionSheetPlacement=function(){var h=this.getHTMLTag();if(h==="Footer"){return sap.m.PlacementType.Top;}else if(h==="Header"){return sap.m.PlacementType.Bottom;}return sap.m.PlacementType.Vertical;};g.prototype._getControlsIds=function(){return this.getContent().map(function(i){return i.getId();});};g.prototype._preProcessControl=function(C){if(!(C instanceof S)){return;}if(C.getSelectOnFocus()){C.setProperty("selectOnFocus",false,true);C._origSelectOnFocus=true;}};g.prototype._postProcessControl=function(C){if(!(C instanceof S)){return;}if(typeof C._origSelectOnFocus!=="undefined"){C.setProperty("selectOnFocus",C._origSelectOnFocus,true);delete C._origSelectOnFocus;}};g.prototype._getControlIndex=function(C){return C.length?C._index:this.indexOfContent(C);};g._getOptimalControlWidth=function(C,o){var i;if(C instanceof b){i=parseInt(C.$().css('min-width'),10)||0+C.$().outerWidth(true)-C.$().outerWidth();}else{i=C.getVisible()?C.$().outerWidth(true):0;}if(i===null){i=typeof o!=="undefined"?o:0;}return i;};g._getControlPriority=function(C){if(C.length){return C._priority;}var L=C.getLayoutData&&C.getLayoutData();if(L&&L instanceof O){if(L.getMoveToOverflow()===false){return e.NeverOverflow;}if(L.getStayInOverflow()===true){return e.AlwaysOverflow;}return L.getPriority();}return e.High;};g._getControlGroup=function(C){var L=C.getLayoutData();if(L instanceof O){return L.getGroup();}};g._oPriorityOrder=(function(){var p={};p[e.Disappear]=1;p[e.Low]=2;p[e.High]=3;return p;})();g.prototype._detireminePopoverVerticalOffset=function(){return this.$().parents().hasClass('sapUiSizeCompact')?2:3;};g.prototype.onThemeChanged=function(){this._resetAndInvalidateToolbar();};g.prototype.closeOverflow=function(){this._getPopover().close();};return g;},true);
sap.ui.predefine('sap/m/OverflowToolbarAssociativePopover',['./Popover','./PopoverRenderer','./OverflowToolbarAssociativePopoverControls','./OverflowToolbarLayoutData'],function(P,a,O,b){"use strict";var c=P.extend("sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopover",{metadata:{associations:{associatedContent:{type:"sap.ui.core.Control",multiple:true}}},renderer:a.render});c.prototype.init=function(){P.prototype.init.apply(this,arguments);this.oControlsManager=new O();};c.prototype.onBeforeRendering=function(){P.prototype.onBeforeRendering.apply(this,arguments);this.addStyleClass("sapMOTAPopover");var h=this._getAllContent().some(function(o){return o.hasStyleClass("sapMOTAPButtonWithIcon");});if(h){this.addStyleClass("sapMOTAPButtonsWithIcons");}else{this.removeStyleClass("sapMOTAPButtonsWithIcons");}};c.prototype.addAssociatedContent=function(o){this.addAssociation("associatedContent",o,true);this._preProcessControl(o);return this;};c.prototype.removeAssociatedContent=function(o){var r=this.removeAssociation("associatedContent",o,true),d;if(r){d=sap.ui.getCore().byId(r);if(d){this._postProcessControl(d);}}return r;};c.prototype._preProcessControl=function(o){var s=O.getControlClass(o),d=O.getControlConfig(o),A,p;d.listenForEvents.forEach(function(e){A="attach"+C(e);o[A](this._closeOnInteraction.bind(this,o));},this);p="_preProcess"+s.split(".").map(C).join("");if(typeof this.oControlsManager[p]==="function"){this.oControlsManager[p](o);}var l=o.getLayoutData();if(l instanceof b&&l.getPriority()===sap.m.OverflowToolbarPriority.Disappear){o.addStyleClass("sapMOTAPHidden");}return this;};c.prototype._postProcessControl=function(o){var s=O.getControlClass(o),d=O.getControlConfig(o),D,p;d.listenForEvents.forEach(function(e){D="detach"+C(e);o[D](this._closeOnInteraction,this);},this);p="_postProcess"+s.split(".").map(C).join("");if(typeof this.oControlsManager[p]==="function"){this.oControlsManager[p](o);}o.removeStyleClass("sapMOTAPHidden");o.$().remove();return this;};c.prototype._closeOnInteraction=function(o){var l=o.getLayoutData();if(!l||!(l instanceof b)||l.getCloseOverflowOnInteraction()){this.close();}};c.prototype._getContentIdsHash=function(){return this._getAllContent().join(".");};c.prototype._recalculateMargins=function(s,p){if(s!==sap.m.PlacementType.Top){return P.prototype._recalculateMargins.apply(this,arguments);}p._fMarginBottom=p._fDocumentHeight-p._$parent.offset().top+this._arrowOffset+p._fOffsetY;};c.prototype._getAllContent=function(){var A=this.getAssociatedContent().map(function(i){return sap.ui.getCore().byId(i);});if(this.getPlacement()===sap.m.PlacementType.Top){A.reverse();}return this.getContent().concat(A);};c.prototype.getCurrentPosition=function(){if(!this._oCalcedPos){this._calcPlacement();}return this._oCalcedPos;};function C(n){return n.substring(0,1).toUpperCase()+n.substring(1);}return c;},false);
sap.ui.predefine('sap/m/OverflowToolbarAssociativePopoverControls',['jquery.sap.global','sap/ui/base/Metadata','./OverflowToolbarButton','./ToggleButton','./Button'],function(q,M,O,T,B){"use strict";var a=M.createClass("sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopoverControls",{constructor:function(){this._mControlsCache={};}});a.prototype._preProcessSapMButton=function(c){var b=c.getType();this._mControlsCache[c.getId()]={buttonType:b};if(b===sap.m.ButtonType.Default){c.setProperty("type",sap.m.ButtonType.Transparent,true);}if(c.getIcon()){c.addStyleClass("sapMOTAPButtonWithIcon");}else{c.addStyleClass("sapMOTAPButtonNoIcon");}c.attachEvent("_change",this._onSapMButtonUpdated,this);};a.prototype._postProcessSapMButton=function(c){var p=this._mControlsCache[c.getId()];if(c.getType()!==p.buttonType){c.setProperty("type",p.buttonType,true);}c.removeStyleClass("sapMOTAPButtonNoIcon");c.removeStyleClass("sapMOTAPButtonWithIcon");c.detachEvent("_change",this._onSapMButtonUpdated,this);};a.prototype._onSapMButtonUpdated=function(e){var p=e.getParameter("name"),b=e.getSource(),s=b.getId();if(typeof this._mControlsCache[s]==="undefined"){return;}if(p==="type"){this._mControlsCache[s]["buttonType"]=b.getType();}};a.prototype._preProcessSapMOverflowToolbarButton=function(c){this._preProcessSapMButton(c);c._bInOverflow=true;};a.prototype._postProcessSapMOverflowToolbarButton=function(c){delete c._bInOverflow;this._postProcessSapMButton(c);};a.prototype._preProcessSapMToggleButton=function(c){this._preProcessSapMButton(c);};a.prototype._postProcessSapMToggleButton=function(c){this._postProcessSapMButton(c);};a.prototype._preProcessSapMSegmentedButton=function(c){c._toSelectMode();};a.prototype._postProcessSapMSegmentedButton=function(c){c._toNormalMode();};a.prototype._preProcessSapMSelect=function(c){this._mControlsCache[c.getId()]={selectType:c.getType()};if(c.getType()!==sap.m.SelectType.Default){c.setProperty("type",sap.m.SelectType.Default,true);}};a.prototype._postProcessSapMSelect=function(c){var p=this._mControlsCache[c.getId()];if(c.getType()!==p.selectType){c.setProperty("type",p.selectType,true);}};a._mSupportedControls={"sap.m.Button":{canOverflow:true,listenForEvents:["press"],noInvalidationProps:["enabled","type"]},"sap.m.OverflowToolbarButton":{canOverflow:true,listenForEvents:["press"],noInvalidationProps:["enabled","type"]},"sap.m.CheckBox":{canOverflow:true,listenForEvents:["select"],noInvalidationProps:["enabled","selected"]},"sap.m.ToggleButton":{canOverflow:true,listenForEvents:["press"],noInvalidationProps:["enabled","pressed"]},"sap.m.Select":{canOverflow:true,listenForEvents:["change"],noInvalidationProps:["enabled","selectedItemId","selectedKey"]},"sap.m.ComboBox":{canOverflow:true,listenForEvents:[],noInvalidationProps:["enabled","value","selectedItemId","selectedKey"]},"sap.m.SearchField":{canOverflow:true,listenForEvents:["search"],noInvalidationProps:["enabled","value","selectOnFocus"]},"sap.m.SegmentedButton":{canOverflow:true,listenForEvents:["select"],noInvalidationProps:["enabled","selectedKey"]},"sap.m.Input":{canOverflow:true,listenForEvents:[],noInvalidationProps:["enabled","value"]},"sap.m.DateTimeInput":{canOverflow:true,listenForEvents:["change"],noInvalidationProps:["enabled","value","dateValue"]},"sap.m.DatePicker":{canOverflow:true,listenForEvents:["change"],noInvalidationProps:["enabled","value","dateValue","displayFormat","valueFormat","displayFormatType","secondaryCalendarType","minDate","maxDate"]},"sap.m.DateTimePicker":{canOverflow:true,listenForEvents:["change"],noInvalidationProps:["enabled","value","dateValue","displayFormat","valueFormat","displayFormatType","secondaryCalendarType","minDate","maxDate"]},"sap.m.TimePicker":{canOverflow:true,listenForEvents:["change"],noInvalidationProps:["enabled","value","dateValue","displayFormat","valueFormat"]},"sap.m.RadioButton":{canOverflow:false,listenForEvents:[],noInvalidationProps:["enabled","selected"]},"sap.m.Slider":{canOverflow:false,listenForEvents:[],noInvalidationProps:["enabled","value"]},"sap.ui.comp.smartfield.SmartField":{canOverflow:true,listenForEvents:["change"],noInvalidationProps:["enabled","value","valueState","showValueHelp","contextEditable","clientSideMandatoryCheck","mandatory","name","placeholder","showSuggestion","tooltipLabel"]},"sap.ui.comp.smartfield.SmartLabel":{canOverflow:true,listenForEvents:[],noInvalidationProps:["enabled"]}};a.getControlConfig=function(c){var C=a.getControlClass(c);return a._mSupportedControls[C];};a.supportsControl=function(c){var C=a.getControlClass(c);var o=a._mSupportedControls[C];return typeof o!=="undefined"&&o.canOverflow;};a.getControlClass=function(c){if(c instanceof O){return"sap.m.OverflowToolbarButton";}else if(c instanceof T){return"sap.m.ToggleButton";}else if(c instanceof B){return"sap.m.Button";}return c.getMetadata().getName();};return a;},false);
sap.ui.predefine('sap/m/OverflowToolbarButton',['sap/m/Button','sap/m/ButtonRenderer'],function(B,a){"use strict";var O=B.extend("sap.m.OverflowToolbarButton",{renderer:a.render});O.prototype._getText=function(){if(this._bInOverflow){return B.prototype._getText.call(this);}return"";};return O;},true);
sap.ui.predefine('sap/m/OverflowToolbarLayoutData',['sap/m/ToolbarLayoutData','sap/m/OverflowToolbarPriority'],function(T,O){"use strict";var a=T.extend("sap.m.OverflowToolbarLayoutData",{metadata:{properties:{moveToOverflow:{type:"boolean",defaultValue:true,deprecated:true},stayInOverflow:{type:"boolean",defaultValue:false,deprecated:true},priority:{type:"sap.m.OverflowToolbarPriority",group:"Behavior",defaultValue:sap.m.OverflowToolbarPriority.High},group:{type:"int",group:"Behavior",defaultValue:0},closeOverflowOnInteraction:{type:"boolean",group:"Behavior",defaultValue:true}}}});a.prototype.invalidate=function(){var c=this.getPriority(),i=c===O.AlwaysOverflow||c===O.NeverOverflow;if(this.getGroup()&&i){jQuery.sap.log.error("It is not allowed to set AlwaysOverflow or NeverOverflow to a group items.");}return T.prototype.invalidate.call(this);};return a;},true);
sap.ui.predefine('sap/m/OverflowToolbarRenderer',['sap/ui/core/Renderer','./ToolbarRenderer'],function(R,T){"use strict";var O=R.extend(T);O.renderBarContent=function(r,t){t._getVisibleContent().forEach(function(c){sap.m.BarInPageEnabler.addChildClassTo(c,t);r.renderControl(c);});if(t._getOverflowButtonNeeded()){O.renderOverflowButton(r,t);}};O.renderOverflowButton=function(r,t){var o=t._getOverflowButton();sap.m.BarInPageEnabler.addChildClassTo(o,t);r.renderControl(o);};return O;},true);
sap.ui.predefine('sap/m/Page.designtime',[],function(){"use strict";return{actions:{rename:function(p){if(p.getCustomHeader()){return;}return{changeType:"rename",domRef:function(c){return c.$("title-inner")[0];}};}},aggregations:{headerContent:{domRef:":sap-domref > .sapMPageHeader > .sapMBarRight"},subHeader:{domRef:":sap-domref > .sapMPageSubHeader"},customHeader:{domRef:":sap-domref > .sapMPageHeader"},content:{domRef:":sap-domref > section",actions:{move:"moveControls"}},footer:{domRef:":sap-domref > .sapMPageFooter"},landmarkInfo:{ignore:true}},name:{singular:"PAGE_NAME",plural:"PAGE_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/PagingButton',['jquery.sap.global','./Button','sap/ui/core/Control','sap/ui/core/IconPool'],function(q,B,C,I){"use strict";var P=C.extend("sap.m.PagingButton",{metadata:{library:"sap.m",properties:{count:{type:"int",group:"Data",defaultValue:1},position:{type:"int",group:"Data",defaultValue:1},nextButtonTooltip:{type:"string",group:"Appearance",defaultValue:""},previousButtonTooltip:{type:"string",group:"Appearance",defaultValue:""}},aggregations:{previousButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},nextButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{positionChange:{parameters:{newPosition:{type:"int"},oldPosition:{type:"int"}}}}}});var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");P.prototype.init=function(){this._attachPressEvents();};P.prototype.onBeforeRendering=function(){this._enforceValidPosition(this.getPosition());this._updateButtonState();};P.prototype._getNextButton=function(){if(!this.getAggregation("nextButton")){this.setAggregation("nextButton",new sap.m.Button({tooltip:this.getNextButtonTooltip()||r.getText("PAGINGBUTTON_NEXT"),icon:I.getIconURI("slim-arrow-down"),enabled:false,id:this.getId()+"-nextButton"}));}return this.getAggregation("nextButton");};P.prototype._getPreviousButton=function(){if(!this.getAggregation("previousButton")){this.setAggregation("previousButton",new sap.m.Button({tooltip:this.getPreviousButtonTooltip()||r.getText("PAGINGBUTTON_PREVIOUS"),icon:I.getIconURI("slim-arrow-up"),enabled:false,id:this.getId()+"-previousButton"}));}return this.getAggregation("previousButton");};P.prototype._attachPressEvents=function(){this._getPreviousButton().attachPress(this._handlePositionChange.bind(this,false));this._getNextButton().attachPress(this._handlePositionChange.bind(this,true));};P.prototype._handlePositionChange=function(i){var o=this.getPosition(),n=i?o+1:o-1;this.setPosition(n);this.firePositionChange({newPosition:n,oldPosition:o});this._updateButtonState();return this;};P.prototype._updateButtonState=function(){var t=this.getCount(),c=this.getPosition();this._getPreviousButton().setEnabled(c>1);this._getNextButton().setEnabled(c<t);return this;};P.prototype.setPosition=function(p){return this._validateProperty("position",p);};P.prototype.setCount=function(c){return this._validateProperty("count",c);};P.prototype.setPreviousButtonTooltip=function(t){this._getPreviousButton().setTooltip(t);return this.setProperty("previousButtonTooltip",t,true);};P.prototype.setNextButtonTooltip=function(t){this._getNextButton().setTooltip(t);return this.setProperty("nextButtonTooltip",t,true);};P.prototype._validateProperty=function(p,v){if(v<1){q.sap.log.warning("Property '"+p+"' must be greater or equal to 1",this);return this;}return this.setProperty(p,v);};P.prototype._enforceValidPosition=function(p){var c=this.getCount();if(p>c){q.sap.log.warning("Property position must be less or equal to the total count");this.setPosition(c);}return this;};return P;},true);
sap.ui.predefine('sap/m/PagingButtonRenderer',['jquery.sap.global'],function(q){"use strict";var P={};P.render=function(r,c){var n=c._getNextButton(),p=c._getPreviousButton();r.write("<div");r.writeControlData(c);r.addClass("sapMPagingButton");r.writeClasses();r.write(">");r.renderControl(p);r.renderControl(n);r.write("</div>");};return P;},true);
sap.ui.predefine('sap/m/Panel.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},rename:function(p){if(p.getHeaderToolbar()){return;}return{changeType:"rename",domRef:".sapMPanelHdr"};},reveal:{changeType:"unhideControl"}},aggregations:{headerToolbar:{domRef:":sap-domref > .sapMPanelHeaderTB, :sap-domref > .sapMPanelWrappingDivTb .sapMPanelHeaderTB, :sap-domref > .sapUiDtEmptyHeader"},infoToolbar:{domRef:":sap-domref > .sapMPanelInfoTB, :sap-domref > .sapUiDtEmptyInfoToolbar"},content:{domRef:".sapMPanelContent",show:function(){this.setExpanded(true);},actions:{move:"moveControls"}}},name:{singular:"PANEL_NAME",plural:"PANEL_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/Panel',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool'],function(q,l,C,I){"use strict";var P=C.extend("sap.m.Panel",{metadata:{library:"sap.m",properties:{headerText:{type:"string",group:"Data",defaultValue:""},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"auto"},expandable:{type:"boolean",group:"Appearance",defaultValue:false},expanded:{type:"boolean",group:"Appearance",defaultValue:false},expandAnimation:{type:"boolean",group:"Behavior",defaultValue:true},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:sap.m.BackgroundDesign.Translucent},accessibleRole:{type:"sap.m.PanelAccessibleRole",group:"Accessibility",defaultValue:sap.m.PanelAccessibleRole.Form}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},headerToolbar:{type:"sap.m.Toolbar",multiple:false},infoToolbar:{type:"sap.m.Toolbar",multiple:false}},events:{expand:{parameters:{expand:{type:"boolean"}}}},designTime:true}});P.prototype.init=function(){this.data("sap-ui-fastnavgroup","true",true);};P.prototype.setWidth=function(w){this.setProperty("width",w,true);var d=this.getDomRef();if(d){d.style.width=w;}return this;};P.prototype.setHeight=function(h){this.setProperty("height",h,true);var d=this.getDomRef();if(d){d.style.height=h;if(parseFloat(h)!=0){d.querySelector(".sapMPanelContent").style.height=h;}this._setContentHeight();}return this;};P.prototype.onThemeChanged=function(){this._setContentHeight();};P.prototype.setExpandable=function(e){this.setProperty("expandable",e,false);if(e&&!this.oIconCollapsed){this.oIconCollapsed=this._createIcon();}return this;};P.prototype.setExpanded=function(e){if(e===this.getExpanded()){return this;}this.setProperty("expanded",e,true);if(!this.getExpandable()){return this;}this._getIcon().$().attr("aria-expanded",this.getExpanded());this._toggleExpandCollapse();this._toggleCssClasses();this.fireExpand({expand:e});return this;};P.prototype.setAccessibleRole=function(r){if(r===this.getAccessibleRole()){return this;}this.setProperty("accessibleRole",r,true);if(sap.ui.getCore().getConfiguration().getAccessibility()){this.$().attr("role",this.getAccessibleRole().toLowerCase());}return this;};P.prototype.onBeforeRendering=function(){this._updateIconAriaLabelledBy();};P.prototype.onAfterRendering=function(){var $=this.$(),a;this._setContentHeight();if(this.getExpandable()){a=this.oIconCollapsed.$();if(this.getExpanded()){a.attr("aria-expanded","true");}else{$.children(".sapMPanelExpandablePart").hide();a.attr("aria-expanded","false");}}};P.prototype.exit=function(){if(this.oIconCollapsed){this.oIconCollapsed.destroy();this.oIconCollapsed=null;}};P.prototype._createIcon=function(){var t=this,c=I.getIconURI("navigation-right-arrow");return I.createControlByURI({id:t.getId()+"-CollapsedImg",src:c,decorative:false,useIconTooltip:false,press:function(){t.setExpanded(!t.getExpanded());}}).addStyleClass("sapMPanelExpandableIcon");};P.prototype._getIcon=function(){return this.oIconCollapsed;};P.prototype._setContentHeight=function(){var a,t=this.getDomRef(),p=t&&t.querySelector(".sapMPanelContent");if(this.getHeight()==="auto"||!p){return;}a=t.clientHeight-p.offsetTop;p.style.height=a+'px';};P.prototype._toggleExpandCollapse=function(){var o={};if(!this.getExpandAnimation()){o.duration=0;}this.$().children(".sapMPanelExpandablePart").slideToggle(o);};P.prototype._toggleCssClasses=function(){var $=this.$();$.children(".sapMPanelWrappingDiv").toggleClass("sapMPanelWrappingDivExpanded");$.children(".sapMPanelWrappingDivTb").toggleClass("sapMPanelWrappingDivTbExpanded");$.find(".sapMPanelExpandableIcon").first().toggleClass("sapMPanelExpandableIconExpanded");};P.prototype._updateIconAriaLabelledBy=function(){var L,a;if(!this.oIconCollapsed){return;}L=this._getLabellingElementId();a=this.oIconCollapsed.getAriaLabelledBy();if(a.indexOf(L)===-1){this.oIconCollapsed.removeAllAssociation("ariaLabelledBy");this.oIconCollapsed.addAriaLabelledBy(L);}};P.prototype._getLabellingElementId=function(){var h=this.getHeaderToolbar(),i;if(h){i=h.getTitleId();}else{i=this.getId()+"-header";}return i;};return P;},true);
sap.ui.predefine('sap/m/PanelRenderer',['jquery.sap.global'],function(q){"use strict";var P={};P.render=function(r,c){this.startPanel(r,c);this.renderHeader(r,c);this.renderContent(r,c);this.endPanel(r);};P.startPanel=function(r,c){r.write("<section");r.writeControlData(c);r.addClass("sapMPanel");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.writeAccessibilityState(c,{role:c.getAccessibleRole().toLowerCase(),labelledby:c._getLabellingElementId()});r.write(">");};P.renderHeader=function(r,c){var i=c.getExpandable(),I=c.getExpanded(),h=c.getHeaderToolbar(),H;if(i){r.write("<header");if(h){H="sapMPanelWrappingDivTb";}else{H="sapMPanelWrappingDiv";}r.addClass(H);if(I){r.addClass(H+"Expanded");}r.writeClasses();r.write(">");var o=c._getIcon();if(I){o.addStyleClass("sapMPanelExpandableIconExpanded");}else{o.removeStyleClass("sapMPanelExpandableIconExpanded");}r.renderControl(o);}var s=c.getHeaderText();if(h){h.setDesign(sap.m.ToolbarDesign.Transparent,true);h.addStyleClass("sapMPanelHeaderTB");r.renderControl(h);}else if(s||i){r.write("<h1");r.addClass("sapMPanelHdr");r.writeClasses();r.writeAttribute("id",c.getId()+"-header");r.write(">");r.writeEscaped(s);r.write("</h1>");}if(i){r.write("</header>");}var a=c.getInfoToolbar();if(a){if(i){a.addStyleClass("sapMPanelExpandablePart");}a.setDesign(sap.m.ToolbarDesign.Info,true);a.addStyleClass("sapMPanelInfoTB");r.renderControl(a);}};P.renderContent=function(r,c){this.startContent(r,c);this.renderChildren(r,c.getContent());this.endContent(r);};P.startContent=function(r,c){r.write("<div");r.addClass("sapMPanelContent");r.addClass("sapMPanelBG"+c.getBackgroundDesign());if(c.getExpandable()){r.addClass("sapMPanelExpandablePart");}r.writeClasses();r.write(">");};P.renderChildren=function(r,c){c.forEach(r.renderControl);};P.endContent=function(r){r.write("</div>");};P.endPanel=function(r){r.write("</section>");};return P;},true);
sap.ui.predefine('sap/m/PlanningCalendar',['jquery.sap.global','sap/ui/core/Control','sap/ui/core/LocaleData','./PlanningCalendarRow','./library','sap/ui/unified/library','sap/ui/unified/calendar/CalendarUtils','sap/ui/unified/CalendarDateInterval','sap/ui/unified/CalendarWeekInterval','sap/ui/unified/CalendarOneMonthInterval'],function(q,C,L,P,l,u,a,b,c,d){"use strict";var e=C.extend("sap.m.PlanningCalendar",{metadata:{library:"sap.m",properties:{startDate:{type:"object",group:"Data"},viewKey:{type:"string",group:"Appearance",defaultValue:sap.ui.unified.CalendarIntervalType.Hour},singleSelection:{type:"boolean",group:"Misc",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},showIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},showEmptyIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},showRowHeaders:{type:"boolean",group:"Appearance",defaultValue:true},noDataText:{type:"string",group:"Misc",defaultValue:null},appointmentsReducedHeight:{type:"boolean",group:"Appearance",defaultValue:false},appointmentsVisualization:{type:"sap.ui.unified.CalendarAppointmentVisualization",group:"Appearance",defaultValue:sap.ui.unified.CalendarAppointmentVisualization.Standard},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null}},aggregations:{rows:{type:"sap.m.PlanningCalendarRow",multiple:true,singularName:"row"},views:{type:"sap.m.PlanningCalendarView",multiple:true,singularName:"view"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},toolbarContent:{type:"sap.ui.core.Control",multiple:true,singularName:"toolbarContent"},table:{type:"sap.m.Table",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{appointmentSelect:{parameters:{appointment:{type:"sap.ui.unified.CalendarAppointment"},appointments:{type:"sap.ui.unified.CalendarAppointment[]"},multiSelect:{type:"boolean"}}},intervalSelect:{parameters:{startDate:{type:"object"},endDate:{type:"object"},subInterval:{type:"boolean"},row:{type:"sap.m.PlanningCalendarRow"}}},rowSelectionChange:{parameters:{rows:{type:"sap.m.PlanningCalendarRow[]"}}},startDateChange:{},viewChange:{},rowHeaderClick:{row:{type:"sap.m.PlanningCalendarRow"}}}}});var I=["_oTimeInterval","_oDateInterval","_oMonthInterval","_oWeekInterval","_oOneMonthInterval"],f={};f[sap.ui.unified.CalendarIntervalType.Day]={sInstanceName:"_oDateInterval",sIdSuffix:"-DateInt",oClass:b};f[sap.ui.unified.CalendarIntervalType.Week]={sInstanceName:"_oWeekInterval",sIdSuffix:"-WeekInt",oClass:c};f[sap.ui.unified.CalendarIntervalType.OneMonth]={sInstanceName:"_oOneMonthInterval",sIdSuffix:"-OneMonthInt",oClass:d};var g=sap.ui.core.Control.extend("CalendarHeader",{metadata:{aggregations:{"toolbar":{type:"sap.m.Toolbar",multiple:false},"allCheckBox":{type:"sap.m.CheckBox",multiple:false}}},renderer:function(R,H){R.write("<div");R.writeControlData(H);R.addClass("sapMPlanCalHead");R.writeClasses();R.write(">");var T=H.getToolbar();if(T){R.renderControl(T);}var i=H.getAllCheckBox();if(i){R.renderControl(i);}R.write("</div>");}});e.prototype.init=function(){this._iBreakPointTablet=sap.ui.Device.media._predefinedRangeSets[sap.ui.Device.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=sap.ui.Device.media._predefinedRangeSets[sap.ui.Device.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=sap.ui.Device.media._predefinedRangeSets[sap.ui.Device.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];if(sap.ui.Device.system.phone||q('html').hasClass("sapUiMedia-Std-Phone")){this._iSize=0;this._iSizeScreen=0;}else if(sap.ui.Device.system.tablet||q('html').hasClass("sapUiMedia-Std-Tablet")){this._iSize=1;this._iSizeScreen=1;}else{this._iSize=2;this._iSizeScreen=2;}this._oRB=sap.ui.getCore().getLibraryResourceBundle("sap.m");var i=this.getId();this._oIntervalTypeSelect=new sap.m.Select(i+"-IntType",{maxWidth:"15rem",ariaLabelledBy:i+"-SelDescr"});this._oIntervalTypeSelect.attachEvent("change",_,this);this._oTodayButton=new sap.m.Button(i+"-Today",{text:this._oRB.getText("PLANNINGCALENDAR_TODAY"),type:sap.m.ButtonType.Transparent});this._oTodayButton.attachEvent("press",h,this);this._oHeaderToolbar=new sap.m.Toolbar(i+"-HeaderToolbar",{design:sap.m.ToolbarDesign.Transparent,content:[this._oIntervalTypeSelect,this._oTodayButton]});this._oCalendarHeader=new g(i+"-CalHead",{toolbar:this._oHeaderToolbar});this._oInfoToolbar=new sap.m.Toolbar(i+"-InfoToolbar",{height:"auto",design:sap.m.ToolbarDesign.Transparent,content:[this._oCalendarHeader,this._oTimeInterval]});var T=new sap.m.Table(i+"-Table",{infoToolbar:this._oInfoToolbar,mode:sap.m.ListMode.SingleSelectMaster,columns:[new sap.m.Column({styleClass:"sapMPlanCalRowHead"}),new sap.m.Column({width:"80%",styleClass:"sapMPlanCalAppRow",minScreenWidth:sap.m.ScreenSize.Desktop,demandPopin:true})],ariaLabelledBy:i+"-Descr"});T.attachEvent("selectionChange",s,this);T.addDelegate({onBeforeRendering:function(){if(this._rowHeaderClickEvent){this._rowHeaderClickEvent.off();}},onAfterRendering:function(){this._rowHeaderClickEvent=T.$().find(".sapMPlanCalRowHead > div.sapMLIB").click(function(j){var R=q(j.currentTarget).control(0),G=sap.ui.getCore().byId(R.getAssociation("parentRow"));this.fireRowHeaderClick({row:G});}.bind(this));}},false,this);this.setAggregation("table",T,true);this.setStartDate(new Date());this._resizeProxy=q.proxy(p,this);};e.prototype.exit=function(){if(this._sResizeListener){sap.ui.core.ResizeHandler.deregister(this._sResizeListener);this._sResizeListener=undefined;}if(this._sUpdateCurrentTime){q.sap.clearDelayedCall(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined;}var T=this.getAggregation("table");T.removeAllItems();I.forEach(function(j){if(this[j]){this[j]._oPlanningCalendar=undefined;this[j].destroy();this[j]=undefined;}},this);if(this._aViews){for(var i=0;i<this._aViews.length;i++){this._aViews[i].destroy();}}if(this._oSelectAllCheckBox){this._oSelectAllCheckBox.destroy();}if(this.getToolbarContent().length==0&&this._oToolbar){this._oToolbar.destroy();this._oToolbar=undefined;}if(this._rowHeaderClickEvent){this._rowHeaderClickEvent.off();this._rowHeaderClickEvent=null;}};e.prototype.onBeforeRendering=function(){this._bBeforeRendering=true;if((!this._oTimeInterval&&!this._oDateInterval&&!this._oMonthInterval&&!this._oWeekInterval&&!this._oOneMonthInterval)||this._bCheckView){this.setViewKey(this.getViewKey());this._bCheckView=undefined;}x.call(this);if(this._sUpdateCurrentTime){q.sap.clearDelayedCall(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined;}this._updateTodayButtonState();this._bBeforeRendering=undefined;};e.prototype._updateTodayButtonState=function(){if((this.getViewKey()===sap.ui.unified.CalendarIntervalType.Week||this.getViewKey()===sap.ui.unified.CalendarIntervalType.OneMonth)&&this._oTodayButton){this._oTodayButton.setEnabled(!this._dateMatchesVisibleRange(new Date(),this.getViewKey()));}else{this._oTodayButton.setEnabled(true);}};e.prototype._dateMatchesVisibleRange=function(i,V){var j=this._getView(V,!this._bBeforeRendering),G=this._getIntervals(j),U=a._createUniversalUTCDate(i),H=a._createUniversalUTCDate(this.getStartDate()),J=a._createUniversalUTCDate(this.getStartDate());J.setUTCDate(J.getUTCDate()+G);return U.getTime()>=H&&U.getTime()<J;};e.prototype.onAfterRendering=function(i){i.size={width:this.getDomRef().offsetWidth};p.call(this,i,true);if(!this._sResizeListener){this._sResizeListener=sap.ui.core.ResizeHandler.register(this,this._resizeProxy);}this._updateCurrentTimeVisualization(false);};e.prototype.setStartDate=function(S){var j,G;if(!S){S=new Date();}if(!(S instanceof Date)){throw new Error("Date must be a JavaScript date object; "+this);}if(this.getViewKey()===sap.ui.unified.CalendarIntervalType.Week){j=a.getFirstDateOfWeek(a._createUniversalUTCDate(S,undefined,true));S.setTime(a._createLocalDate(j,true).getTime());}if(this.getViewKey()===sap.ui.unified.CalendarIntervalType.OneMonth){G=a.getFirstDateOfMonth(a._createUniversalUTCDate(S,undefined,true));S.setTime(a._createLocalDate(G,true).getTime());}if(q.sap.equal(S,this.getStartDate())){this._updateTodayButtonState();return this;}var Y=S.getFullYear();if(Y<1||Y>9999){throw new Error("Date must not be in valid range (between 0001-01-01 and 9999-12-31); "+this);}var M=this.getMinDate();if(M&&M.getTime()>S.getTime()){q.sap.log.warning("StartDate < minDate -> StartDate set to minDate",this);S=new Date(M.getTime());}else{var H=this.getMaxDate();if(H&&H.getTime()<S.getTime()){q.sap.log.warning("StartDate > maxDate -> StartDate set to minDate",this);if(M){S=new Date(M.getTime());}else{S=new Date(1,0,1);S.setFullYear(1);}}}this.setProperty("startDate",S,true);I.forEach(function(K){if(this[K]){this[K].setStartDate(new Date(S.getTime()));}},this);var R=this.getRows();for(var i=0;i<R.length;i++){var J=R[i];J.getCalendarRow().setStartDate(new Date(S.getTime()));}if(this.getViewKey()===sap.ui.unified.CalendarIntervalType.Week||this.getViewKey()===sap.ui.unified.CalendarIntervalType.OneMonth){this._updateTodayButtonState();}if(this.getDomRef()){this._updateCurrentTimeVisualization(false);}return this;};e.prototype.setMinDate=function(i){if(q.sap.equal(i,this.getMinDate())){return this;}var M=this.getMaxDate();if(i){if(!(i instanceof Date)){throw new Error("Date must be a JavaScript date object; "+this);}var Y=i.getFullYear();if(Y<1||Y>9999){throw new Error("Date must not be in valid range (between 0001-01-01 and 9999-12-31); "+this);}this.setProperty("minDate",i,true);this._bNoStartDateChange=true;I.forEach(function(j){if(this[j]){this[j].setMinDate(new Date(i.getTime()));}},this);if(M&&M.getTime()<i.getTime()){q.sap.log.warning("minDate > maxDate -> maxDate set to end of the month",this);M=new Date(i.getTime());M.setMonth(M.getMonth()+1,0);M.setHours(23);M.setMinutes(59);M.setSeconds(59);M.setMilliseconds(0);this.setMaxDate(M);}this._bNoStartDateChange=undefined;var S=this.getStartDate();if(S&&S.getTime()<i.getTime()){q.sap.log.warning("StartDate < minDate -> StartDate set to minDate",this);S=new Date(i.getTime());this.setStartDate(S);}}else{this.setProperty("minDate",undefined,true);I.forEach(function(j){if(this[j]){this[j].setMinDate();}},this);}var T=new Date();if(i&&T.getTime()<i.getTime()){this._oTodayButton.setVisible(false);}else if(!M||T.getTime()<M.getTime()){this._oTodayButton.setVisible(true);}return this;};e.prototype.setMaxDate=function(i){if(q.sap.equal(i,this.getMaxDate())){return this;}var M=this.getMinDate();if(i){if(!(i instanceof Date)){throw new Error("Date must be a JavaScript date object; "+this);}var Y=i.getFullYear();if(Y<1||Y>9999){throw new Error("Date must not be in valid range (between 0001-01-01 and 9999-12-31); "+this);}this.setProperty("maxDate",i,true);this._bNoStartDateChange=true;I.forEach(function(j){if(this[j]){this[j].setMaxDate(new Date(i.getTime()));}},this);if(M&&M.getTime()>i.getTime()){q.sap.log.warning("maxDate < minDate -> maxDate set to begin of the month",this);M=new Date(i.getTime());M.setUTCDate(1);M.setHours(0);M.setMinutes(0);M.setSeconds(0);M.setMilliseconds(0);this.setMinDate(M);}this._bNoStartDateChange=undefined;var S=this.getStartDate();if(S&&S.getTime()>i.getTime()){q.sap.log.warning("StartDate > maxDate -> StartDate set to minDate",this);if(M){S=new Date(M.getTime());}else{S=new Date(1,0,1);S.setFullYear(1);}this.setStartDate(S);}}else{this.setProperty("maxDate",undefined,true);I.forEach(function(j){if(this[j]){this[j].setMaxDate();}},this);}var T=new Date();if(i&&T.getTime()>i.getTime()){this._oTodayButton.setVisible(false);}else if(!M||T.getTime()>M.getTime()){this._oTodayButton.setVisible(true);}return this;};e.prototype.setViewKey=function(K){var j,O,G;this.setProperty("viewKey",K,true);this._oIntervalTypeSelect.setSelectedKey(K);if(this._oInfoToolbar.getContent().length>1){this._oInfoToolbar.removeContent(1);}if(K===sap.ui.unified.CalendarIntervalType.Week||K===sap.ui.unified.CalendarIntervalType.OneMonth){O=this.getStartDate();this.setStartDate(new Date(O.getTime()));if(O.getTime()!==this.getStartDate().getTime()){this.fireStartDateChange();}}else{this._updateTodayButtonState();}var S=this.getStartDate();var M=this.getMinDate();var H=this.getMaxDate();var V=this._getView(K,!this._bBeforeRendering);if(!V){this._bCheckView=true;this.invalidate();}else{var J=V.getIntervalType();var N=this._getIntervals(V);this._bCheckView=false;switch(J){case sap.ui.unified.CalendarIntervalType.Hour:if(!this._oTimeInterval){this._oTimeInterval=new sap.ui.unified.CalendarTimeInterval(this.getId()+"-TimeInt",{startDate:new Date(S.getTime()),items:N,pickerPopup:true});this._oTimeInterval.attachEvent("startDateChange",k,this);this._oTimeInterval.attachEvent("select",m,this);this._oTimeInterval._oPlanningCalendar=this;this._oTimeInterval.getSpecialDates=function(){return this._oPlanningCalendar.getSpecialDates();};if(M){this._oTimeInterval.setMinDate(new Date(M.getTime()));}if(H){this._oTimeInterval.setMaxDate(new Date(H.getTime()));}}else if(this._oTimeInterval.getItems()!=N){this._oTimeInterval.setItems(N);}this._oInfoToolbar.addContent(this._oTimeInterval);break;case sap.ui.unified.CalendarIntervalType.Day:case sap.ui.unified.CalendarIntervalType.Week:case sap.ui.unified.CalendarIntervalType.OneMonth:G=f[J];j=this[G.sInstanceName];if(!j){j=new G.oClass(this.getId()+G.sIdSuffix,{startDate:new Date(S.getTime()),days:N,showDayNamesLine:false,pickerPopup:true});j.attachEvent("startDateChange",k,this);j.attachEvent("select",m,this);j._oPlanningCalendar=this;j.getSpecialDates=function(){return this._oPlanningCalendar.getSpecialDates();};if(M){j.setMinDate(new Date(M.getTime()));}if(H){j.setMaxDate(new Date(H.getTime()));}}else if(j.getDays()!==N){j.setDays(N);}this._oInfoToolbar.addContent(j);this[G.sInstanceName]=j;break;case sap.ui.unified.CalendarIntervalType.Month:if(!this._oMonthInterval){this._oMonthInterval=new sap.ui.unified.CalendarMonthInterval(this.getId()+"-MonthInt",{startDate:new Date(S.getTime()),months:N,pickerPopup:true});this._oMonthInterval.attachEvent("startDateChange",k,this);this._oMonthInterval.attachEvent("select",m,this);this._oMonthInterval._oPlanningCalendar=this;this._oMonthInterval.getSpecialDates=function(){return this._oPlanningCalendar.getSpecialDates();};if(M){this._oMonthInterval.setMinDate(new Date(M.getTime()));}if(H){this._oMonthInterval.setMaxDate(new Date(H.getTime()));}}else if(this._oMonthInterval.setMonths()!=N){this._oMonthInterval.setMonths(N);}this._oInfoToolbar.addContent(this._oMonthInterval);break;default:throw new Error("Unknown IntervalType: "+J+"; "+this);}var R=this.getRows();for(var i=0;i<R.length;i++){var Q=R[i];var T=Q.getCalendarRow();T.setIntervalType(J);T.setIntervals(N);T.setShowSubIntervals(V.getShowSubIntervals());}if(this.getDomRef()){this._updateCurrentTimeVisualization(false);}}return this;};e.prototype.setShowIntervalHeaders=function(S){this.setProperty("showIntervalHeaders",S,true);var R=this.getRows();for(var i=0;i<R.length;i++){var j=R[i];j.getCalendarRow().setShowIntervalHeaders(S);}return this;};e.prototype.setShowEmptyIntervalHeaders=function(S){this.setProperty("showEmptyIntervalHeaders",S,true);var R=this.getRows();for(var i=0;i<R.length;i++){var j=R[i];j.getCalendarRow().setShowEmptyIntervalHeaders(S);}return this;};e.prototype.setAppointmentsReducedHeight=function(j){this.setProperty("appointmentsReducedHeight",j,true);var R=this.getRows();for(var i=0;i<R.length;i++){var G=R[i];G.getCalendarRow().setAppointmentsReducedHeight(j);}return this;};e.prototype.setAppointmentsVisualization=function(j){this.setProperty("appointmentsVisualization",j,true);var R=this.getRows();for(var i=0;i<R.length;i++){var G=R[i];G.getCalendarRow().setAppointmentsVisualization(j);}return this;};e.prototype.setShowRowHeaders=function(S){this.setProperty("showRowHeaders",S,true);var T=this.getAggregation("table");T.getColumns()[0].setVisible(S);this.$().toggleClass("sapMPlanCalNoHead",!S);B.call(this);E.call(this);return this;};e.prototype.addRow=function(R){this.addAggregation("rows",R,true);R.attachEvent("_change",D,this);var T=this.getAggregation("table");T.addItem(R.getColumnListItem());var i=R.getCalendarRow();i.setStartDate(this.getStartDate());i.setShowIntervalHeaders(this.getShowIntervalHeaders());i.setShowEmptyIntervalHeaders(this.getShowEmptyIntervalHeaders());i.setAppointmentsReducedHeight(this.getAppointmentsReducedHeight());i.setLegend(this.getLegend());i.setAppointmentsVisualization(this.getAppointmentsVisualization());i.attachEvent("select",r,this);i.attachEvent("startDateChange",k,this);i.attachEvent("leaveRow",z,this);i.attachEvent("intervalSelect",n,this);A.call(this);if(F.call(this)){var K=this.getViewKey();var V=this._getView(K);var j=V.getIntervalType();var G=this._getIntervals(V);i.setIntervalType(j);i.setIntervals(G);i.setShowSubIntervals(V.getShowSubIntervals());}E.call(this);return this;};e.prototype.insertRow=function(R,i){this.insertAggregation("rows",R,i);R.attachEvent("_change",D,this);var T=this.getAggregation("table");T.insertItem(R.getColumnListItem(),i,true);var j=R.getCalendarRow();j.setStartDate(this.getStartDate());j.setShowIntervalHeaders(this.getShowIntervalHeaders());j.setShowEmptyIntervalHeaders(this.getShowEmptyIntervalHeaders());j.setAppointmentsReducedHeight(this.getAppointmentsReducedHeight());j.setLegend(this.getLegend());j.setAppointmentsVisualization(this.getAppointmentsVisualization());j.attachEvent("select",r,this);j.attachEvent("startDateChange",k,this);j.attachEvent("leaveRow",z,this);j.attachEvent("intervalSelect",n,this);A.call(this);if(F.call(this)){var K=this.getViewKey();var V=this._getView(K);var G=V.getIntervalType();var H=this._getIntervals(V);j.setIntervalType(G);j.setIntervals(H);j.setShowSubIntervals(V.getShowSubIntervals());}E.call(this);return this;};e.prototype.removeRow=function(O){var R=this.removeAggregation("rows",O,true);R.detachEvent("_change",D,this);var T=this.getAggregation("table");T.removeItem(R.getColumnListItem(),true);var i=R.getCalendarRow();i.detachEvent("select",r,this);i.detachEvent("startDateChange",k,this);i.detachEvent("leaveRow",z,this);i.detachEvent("intervalSelect",n,this);A.call(this);E.call(this);return R;};e.prototype.removeAllRows=function(){var R=this.removeAllAggregation("rows",true);var T=this.getAggregation("table");T.removeAllItems(true);for(var i=0;i<R.length;i++){var j=R[i];j.detachEvent("_change",D,this);var G=j.getCalendarRow();G.detachEvent("select",r,this);G.detachEvent("startDateChange",k,this);G.detachEvent("leaveRow",z,this);G.detachEvent("intervalSelect",n,this);}A.call(this);E.call(this);return R;};e.prototype.destroyRows=function(){var i=this.destroyAggregation("rows",true);var T=this.getAggregation("table");T.destroyItems(true);A.call(this);E.call(this);return i;};e.prototype.addToolbarContent=function(i){this.addAggregation("toolbarContent",i,true);t.call(this);return this;};e.prototype.insertToolbarContent=function(i,j){this.insertAggregation("toolbarContent",i,j);t.call(this);return this;};e.prototype.removeToolbarContent=function(O){var R=this.removeAggregation("toolbarContent",O,true);t.call(this);return R;};e.prototype.removeAllToolbarContent=function(){var R=this.removeAllAggregation("toolbarContent",true);t.call(this);return R;};e.prototype.destroyToolbarContent=function(){var i=this.destroyAggregation("toolbarContent",true);t.call(this);return i;};e.prototype.indexOfContent=function(i){return this.indexOfToolbarContent(i);};e.prototype.setSingleSelection=function(S){this.setProperty("singleSelection",S,true);B.call(this);E.call(this);if(S){this.selectAllRows(false);}else{A.call(this);}this.$().toggleClass("sapMPlanCalMultiSel",!S);return this;};e.prototype.setNoDataText=function(N){this.setProperty("noDataText",N,true);var T=this.getAggregation("table");T.setNoDataText(N);return this;};e.prototype.setLegend=function(j){this.setAssociation("legend",j,true);var R=this.getRows();for(var i=0;i<R.length;i++){var G=R[i];G.getCalendarRow().setLegend(j);}return this;};e.prototype.addAriaLabelledBy=function(i){this.addAssociation("ariaLabelledBy",i,true);var T=this.getAggregation("table");T.addAriaLabelledBy(i);return this;};e.prototype.removeAriaLabelledBy=function(O){this.removeAssociation("ariaLabelledBy",O,true);var T=this.getAggregation("table");T.removeAriaLabelledBy(O);return this;};e.prototype.removeAllAriaLabelledBy=function(){this.removeAllAssociation("ariaLabelledBy",true);var T=this.getAggregation("table");T.removeAllAriaLabelledBy();T.addAriaLabelledBy(this.getId()+"-Descr");return this;};e.prototype.invalidate=function(O){if(this._bDateRangeChanged||(O&&O instanceof sap.ui.unified.DateRange)){if(this.getDomRef()){var K=this.getViewKey();var V=this._getView(K);var i=V.getIntervalType();switch(i){case sap.ui.unified.CalendarIntervalType.Hour:if(this._oTimeInterval){this._oTimeInterval.invalidate(arguments);}break;case sap.ui.unified.CalendarIntervalType.Day:if(this._oDateInterval){this._oDateInterval.invalidate(arguments);}break;case sap.ui.unified.CalendarIntervalType.Month:if(this._oMonthInterval){this._oMonthInterval.invalidate(arguments);}break;case sap.ui.unified.CalendarIntervalType.OneMonth:if(this._oOneMonthInterval){this._oOneMonthInterval.invalidate(arguments);}break;case sap.ui.unified.CalendarIntervalType.Week:if(this._oWeekInterval){this._oWeekInterval.invalidate(arguments);}break;default:throw new Error("Unknown IntervalType: "+i+"; "+this);}}this._bDateRangeChanged=undefined;}else{if(O&&O instanceof sap.m.PlanningCalendarView){this._bCheckView=true;}C.prototype.invalidate.apply(this,arguments);}};e.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var R=this.removeAllAggregation("specialDates");return R;};e.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var i=this.destroyAggregation("specialDates");return i;};e.prototype.removeAllViews=function(){this._bCheckView=true;var R=this.removeAllAggregation("views");return R;};e.prototype.destroyViews=function(){this._bCheckView=true;var i=this.destroyAggregation("views");return i;};e.prototype.getSelectedRows=function(){return this.getRows().filter(function(R){return R.getSelected();});};e.prototype.selectAllRows=function(S){var R=this.getRows();if(!(S&&this.getSingleSelection())){for(var i=0;i<R.length;i++){var j=R[i];j.setSelected(S);}if(this._oSelectAllCheckBox){this._oSelectAllCheckBox.setSelected(S);}}return this;};e.prototype.onsaphomemodifiers=function(i){if((i.metaKey||i.ctrlKey)&&!i.altKey&&!i.shiftKey){var R=this.getRows();var j=R[0];var N=new q.Event("saphome");N._bPlanningCalendar=true;j.getCalendarRow().onsaphome(N);i.preventDefault();i.stopPropagation();}};e.prototype.onsapendmodifiers=function(i){if((i.metaKey||i.ctrlKey)&&!i.altKey&&!i.shiftKey){var R=this.getRows();var j=R[R.length-1];var N=new q.Event("sapend");N._bPlanningCalendar=true;j.getCalendarRow().onsapend(N);i.preventDefault();i.stopPropagation();}};e.prototype._getIntervals=function(V){var i=0;switch(this._iSize){case 0:i=V.getIntervalsS();break;case 1:i=V.getIntervalsM();break;default:i=V.getIntervalsL();break;}return i;};e.prototype._getView=function(K,N){var V=w.call(this);var j;for(var i=0;i<V.length;i++){j=V[i];if(j.getKey()!=K){j=undefined;}else{break;}}if(!j&&!N){throw new Error("PlanningCalendarView with key "+K+"not assigned "+this);}return j;};e.prototype._updateCurrentTimeVisualization=function(U){if(this._sUpdateCurrentTime){q.sap.clearDelayedCall(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined;}if(U){var R=this.getRows();for(var i=0;i<R.length;i++){var j=R[i];j.getCalendarRow().updateCurrentTimeVisualization();}}var N=new Date();var S=this.getStartDate();var K=this.getViewKey();var V=this._getView(K);var G=V.getIntervalType();var H=this._getIntervals(V);var T=0;var J=0;var M=0;switch(G){case sap.ui.unified.CalendarIntervalType.Hour:T=60000;J=S.getTime()-3600000;M=S.getTime()+H*3600000;break;case sap.ui.unified.CalendarIntervalType.Day:case sap.ui.unified.CalendarIntervalType.Week:case sap.ui.unified.CalendarIntervalType.OneMonth:T=1800000;J=S.getTime()-3600000;M=S.getTime()+H*86400000;break;default:T=-1;break;}if(N.getTime()<=M&&N.getTime()>=J&&T>0){this._sUpdateCurrentTime=q.sap.delayedCall(T,this,'_updateCurrentTimeVisualization',[true]);}};function _(i){this.setViewKey(i.getParameter("selectedItem").getKey());this.fireViewChange();}function h(i){var j=new Date(),S,V=this.getViewKey();if(V===sap.ui.unified.CalendarIntervalType.Week){S=this.getStartDate();j.setHours(S.getHours());j.setMinutes(S.getMinutes());j.setSeconds(S.getSeconds());}this.setStartDate(j);this.fireStartDateChange();}function k(i){var S;if(this._bNoStartDateChange){return;}S=i.oSource.getStartDate();this.setStartDate(new Date(S.getTime()));this.fireStartDateChange();}function m(i){var S=i.oSource.getSelectedDates();var j=new Date(S[0].getStartDate());S[0].setStartDate();var G=a._createUniversalUTCDate(j,undefined,true);var K=this.getViewKey();var V=this._getView(K);var H=V.getIntervalType();switch(H){case sap.ui.unified.CalendarIntervalType.Hour:G.setUTCHours(G.getUTCHours()+1);break;case sap.ui.unified.CalendarIntervalType.Day:case sap.ui.unified.CalendarIntervalType.Week:G.setUTCDate(G.getUTCDate()+1);break;case sap.ui.unified.CalendarIntervalType.OneMonth:if(o.call(this,j)){this._oOneMonthInterval._handleNext();return;}G.setUTCDate(G.getUTCDate()+1);break;case sap.ui.unified.CalendarIntervalType.Month:G.setUTCMonth(G.getUTCMonth()+1);break;default:throw new Error("Unknown IntervalType: "+H+"; "+this);}G.setUTCMilliseconds(G.getUTCMilliseconds()-1);G=a._createLocalDate(G,true);this.fireIntervalSelect({startDate:j,endDate:G,subInterval:false,row:undefined});}function n(i){var S=i.getParameter("startDate");var K=this.getViewKey();var V=this._getView(K);var j=V.getIntervalType();if(j===sap.ui.unified.CalendarIntervalType.OneMonth&&o.call(this,S)){this._oOneMonthInterval._handleNext();return;}var G=i.getParameter("endDate");var H=i.getParameter("subInterval");var R=i.oSource._oPlanningCalendarRow;this.fireIntervalSelect({startDate:S,endDate:G,subInterval:H,row:R});}function o(i){return i.getMonth()>this.getStartDate().getMonth()||i.getFullYear()>this.getStartDate().getFullYear();}function p(j,N){if(j.size.width<=0){return;}var R=this.getRows();var G;var i=0;var O=this._iSize;v.call(this,j.size.width);if(O!=this._iSize){var K=this.getViewKey();var V=this._getView(K);var H=V.getIntervalType();var J=this._getIntervals(V);for(i=0;i<R.length;i++){G=R[i];var M=G.getCalendarRow();if(J!=M.getIntervals()){M.setIntervals(J);}else{M.handleResize();}}switch(H){case sap.ui.unified.CalendarIntervalType.Hour:if(this._oTimeInterval&&this._oTimeInterval.getItems()!=J){this._oTimeInterval.setItems(J);}break;case sap.ui.unified.CalendarIntervalType.Day:if(this._oDateInterval&&this._oDateInterval.getDays()!=J){this._oDateInterval.setDays(J);}break;case sap.ui.unified.CalendarIntervalType.Month:if(this._oMonthInterval&&this._oMonthInterval.getMonths()!=J){this._oMonthInterval.setMonths(J);}break;case sap.ui.unified.CalendarIntervalType.Week:if(this._oWeekInterval&&this._oWeekInterval.getDays()!=J){this._oWeekInterval.setDays(J);}break;case sap.ui.unified.CalendarIntervalType.OneMonth:if(this._oOneMonthInterval&&this._oOneMonthInterval.getDays()!=J){this._oOneMonthInterval.setDays(J);}break;default:throw new Error("Unknown IntervalType: "+H+"; "+this);}B.call(this);}else if(!N){for(i=0;i<R.length;i++){G=R[i];G.getCalendarRow().handleResize();}}}function r(G){var H=G.getParameter("appointment");var M=G.getParameter("multiSelect");var J=G.getParameter("appointments");if(!M){var R=this.getRows();for(var i=0;i<R.length;i++){var K=R[i];var N=K.getCalendarRow();if(G.oSource!=N){var O=K.getAppointments();for(var j=0;j<O.length;j++){var Q=O[j];Q.setSelected(false);}}}}this.fireAppointmentSelect({appointment:H,appointments:J,multiSelect:M});}function s(j){var G=[];var R=this.getRows();for(var i=0;i<R.length;i++){var H=R[i];var J=H.getColumnListItem();var S=J.getSelected();if(H.getSelected()!=S){H.setProperty("selected",S,true);G.push(H);}}if(!this.getSingleSelection()){A.call(this);}if(G.length>0){this.fireRowSelectionChange({rows:G});}}function t(){var T=this.getAggregation("table");if(this.getToolbarContent().length>0){if(!this._oToolbar){this._oToolbar=new sap.m.OverflowToolbar(this.getId()+"-Toolbar",{design:sap.m.ToolbarDesign.Transpaent});this._oToolbar._oPlanningCalendar=this;this._oToolbar.getContent=function(){return this._oPlanningCalendar.getToolbarContent();};}if(!T.getHeaderToolbar()){T.setHeaderToolbar(this._oToolbar);}}else if(T.getHeaderToolbar()){T.setHeaderToolbar();}this._oToolbar.invalidate();}function v(W){if(W<this._iBreakPointTablet){this._iSize=0;}else if(W<this._iBreakPointDesktop){this._iSize=1;}else{this._iSize=2;}if(q('html').hasClass("sapUiMedia-Std-Phone")){this._iSizeScreen=0;}else if(q('html').hasClass("sapUiMedia-Std-Tablet")){this._iSizeScreen=1;}else{this._iSizeScreen=2;}}function w(){var V=this.getViews();if(V.length==0){if(!this._aViews){this._aViews=[];var i=new sap.m.PlanningCalendarView(this.getId()+"-HourView",{key:sap.ui.unified.CalendarIntervalType.Hour,intervalType:sap.ui.unified.CalendarIntervalType.Hour,description:this._oRB.getText("PLANNINGCALENDAR_HOURS"),intervalsS:6,intervalsM:6,intervalsL:12});this._aViews.push(i);var j=new sap.m.PlanningCalendarView(this.getId()+"-DayView",{key:sap.ui.unified.CalendarIntervalType.Day,intervalType:sap.ui.unified.CalendarIntervalType.Day,description:this._oRB.getText("PLANNINGCALENDAR_DAYS"),intervalsS:7,intervalsM:7,intervalsL:14});this._aViews.push(j);var G=new sap.m.PlanningCalendarView(this.getId()+"-MonthView",{key:sap.ui.unified.CalendarIntervalType.Month,intervalType:sap.ui.unified.CalendarIntervalType.Month,description:this._oRB.getText("PLANNINGCALENDAR_MONTHS"),intervalsS:3,intervalsM:6,intervalsL:12});this._aViews.push(G);var H=new sap.m.PlanningCalendarView(this.getId()+"-WeekView",{key:sap.ui.unified.CalendarIntervalType.Week,intervalType:sap.ui.unified.CalendarIntervalType.Week,description:this._oRB.getText("PLANNINGCALENDAR_WEEK"),intervalsS:7,intervalsM:7,intervalsL:7});this._aViews.push(H);var J=new sap.m.PlanningCalendarView(this.getId()+"-OneMonthView",{key:sap.ui.unified.CalendarIntervalType.OneMonth,intervalType:sap.ui.unified.CalendarIntervalType.OneMonth,description:this._oRB.getText("PLANNINGCALENDAR_ONE_MONTH"),intervalsS:31,intervalsM:31,intervalsL:31});this._aViews.push(J);}V=this._aViews;}return V;}function x(){var V=w.call(this);var j=this._oIntervalTypeSelect.getItems();var i=0;var G;if(V.length<j.length){for(i=V.length;i<j.length;i++){G=j[i];this._oIntervalTypeSelect.removeItem(G);G.destroy();}}for(i=0;i<V.length;i++){var H=V[i];G=j[i];if(G){if(G.getKey()!=H.getKey()||G.getText()!=H.getDescription()){G.setKey(H.getKey());G.setText(H.getDescription());G.setTooltip(H.getTooltip());}}else{G=new sap.ui.core.Item(this.getId()+"-"+i,{key:H.getKey(),text:H.getDescription(),tooltip:H.getTooltip()});this._oIntervalTypeSelect.addItem(G);}}this._oIntervalTypeSelect.setVisible(!(V.length===1));}function y(i){var j=i.getParameter("selected");var R=this.getRows();if(j){R=this.getRows().filter(function(G){return!G.getSelected();});}this.selectAllRows(j);this.fireRowSelectionChange({rows:R});}function z(j){var G=j.oSource;var T=j.getParameter("type");var R=this.getRows();var H;var N;var J;var K;var i=0;var M=0;var O;for(i=0;i<R.length;i++){H=R[i];if(H.getCalendarRow()==G){M=i;break;}}switch(T){case"sapup":J=G.getFocusedAppointment();K=J.getStartDate();if(M>0){M--;}N=R[M];N.getCalendarRow().focusNearestAppointment(K);break;case"sapdown":J=G.getFocusedAppointment();K=J.getStartDate();if(M<R.length-1){M++;}N=R[M];N.getCalendarRow().focusNearestAppointment(K);break;case"saphome":if(M>0){N=R[0];O=new q.Event(T);O._bPlanningCalendar=true;N.getCalendarRow().onsaphome(O);}break;case"sapend":if(M<R.length-1){N=R[R.length-1];O=new q.Event(T);O._bPlanningCalendar=true;N.getCalendarRow().onsapend(O);}break;default:break;}}function A(){if(this._oSelectAllCheckBox){var R=this.getRows();var S=this.getSelectedRows();if(R.length==S.length&&S.length>0){this._oSelectAllCheckBox.setSelected(true);}else{this._oSelectAllCheckBox.setSelected(false);}}}function B(){if(this.getSingleSelection()){if(this._oCalendarHeader.getAllCheckBox()){this._oCalendarHeader.setAllCheckBox();}else if(this._oInfoToolbar.getContent().length>2){this._oInfoToolbar.removeContent(this._oSelectAllCheckBox);}}else{if(!this._oSelectAllCheckBox){this._oSelectAllCheckBox=new sap.m.CheckBox(this.getId()+"-All",{text:this._oRB.getText("COLUMNSPANEL_SELECT_ALL")});this._oSelectAllCheckBox.attachEvent("select",y,this);}if(this._iSizeScreen<2||!this.getShowRowHeaders()){var i=this._oInfoToolbar.indexOfContent(this._oSelectAllCheckBox);if(this._iSizeScreen<2){if(i<this._oInfoToolbar.getContent().length-1){this._oInfoToolbar.addContent(this._oSelectAllCheckBox);}}else if(i<0||i>1){if(i>1){this._oInfoToolbar.removeContent(this._oSelectAllCheckBox);}this._oInfoToolbar.insertContent(this._oSelectAllCheckBox,1);}}else{this._oCalendarHeader.setAllCheckBox(this._oSelectAllCheckBox);}}}function D(i){if(i.getParameter("name")=="selected"){A.call(this);}}function E(){var T=this.getAggregation("table");var M=T.getMode();var i;if(this.getSingleSelection()){if(!this.getShowRowHeaders()&&this.getRows().length==1){i=sap.m.ListMode.None;}else{i=sap.m.ListMode.SingleSelectMaster;}}else{i=sap.m.ListMode.MultiSelect;}if(M!=i){T.setMode(i);}}function F(){return this._oTimeInterval||this._oDateInterval||this._oMonthInterval||this._oWeekInterval||this._oOneMonthInterval;}return e;},true);
sap.ui.predefine('sap/m/PlanningCalendarRenderer',['jquery.sap.global'],function(q){"use strict";var P={};P.render=function(r,p){var i=p.getId();var t=p.getTooltip_AsString();r.write("<div");r.writeControlData(p);r.addClass("sapMPlanCal");if(!p.getSingleSelection()){r.addClass("sapMPlanCalMultiSel");}if(!p.getShowRowHeaders()){r.addClass("sapMPlanCalNoHead");}if(t){r.writeAttributeEscaped('title',t);}var w=p.getWidth();if(w){r.addStyle("width",w);}var h=p.getHeight();if(h){r.addStyle("height",h);}r.writeAccessibilityState(p);r.writeClasses();r.writeStyles();r.write(">");var T=p.getAggregation("table");r.renderControl(T);var a=p._oRB.getText("PLANNINGCALENDAR");r.write("<span id=\""+i+"-Descr\" class=\"sapUiInvisibleText\">"+a+"</span>");a=p._oRB.getText("PLANNINGCALENDAR_VIEW");r.write("<span id=\""+i+"-SelDescr\" class=\"sapUiInvisibleText\">"+a+"</span>");r.write("</div>");};return P;},true);
sap.ui.predefine('sap/m/PlanningCalendarRow',['jquery.sap.global','sap/ui/core/Element','./StandardListItem','./StandardListItemRenderer','sap/ui/core/Renderer','./library','sap/ui/unified/library'],function(q,E,S,a,R,l,u){"use strict";var P=E.extend("sap.m.PlanningCalendarRow",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Data"},text:{type:"string",group:"Data"},icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},nonWorkingDays:{type:"int[]",group:"Misc",defaultValue:null},nonWorkingHours:{type:"int[]",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Data",defaultValue:false},key:{type:"string",group:"Data",defaultValue:null}},aggregations:{appointments:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"appointment"},intervalHeaders:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"intervalHeader"}}}});var C=S.extend("CalenderRowHeader",{metadata:{associations:{parentRow:{type:"sap.m.PlanningCalendarRow",multiple:false}}},setParentRow:function(i){this.setAssociation("parentRow",i,true);if(!i){this._oRow=undefined;}else if(typeof i=="string"){this._oRow=sap.ui.getCore().byId(i);}else{this._oRow=i;}return this;},renderer:R.extend(a)});CalenderRowHeaderRenderer.openItemTag=function(r,L){r.write("<div");};CalenderRowHeaderRenderer.closeItemTag=function(r,L){r.write("</div>");};CalenderRowHeaderRenderer.renderTabIndex=function(r,L){};P.prototype.init=function(){var i=this.getId();var c=new C(i+"-Head",{parentRow:this});var o=new sap.ui.unified.CalendarRow(i+"-CalRow",{checkResize:false,updateCurrentTime:false,ariaLabelledBy:i+"-Head"});o._oPlanningCalendarRow=this;o.getAppointments=function(){if(this._oPlanningCalendarRow){return this._oPlanningCalendarRow.getAppointments();}else{return[];}};o.getIntervalHeaders=function(){if(this._oPlanningCalendarRow){return this._oPlanningCalendarRow.getIntervalHeaders();}else{return[];}};this._oColumnListItem=new sap.m.ColumnListItem(this.getId()+"-CLI",{cells:[c,o]});};P.prototype.exit=function(){this._oColumnListItem.destroy();this._oColumnListItem=undefined;};P.prototype.setTooltip=function(t){this.setAggregation("tooltip",t,true);this._oColumnListItem.getCells()[0].setTooltip(t);return this;};P.prototype.setTitle=function(t){this.setProperty("title",t,true);this._oColumnListItem.getCells()[0].setTitle(t);return this;};P.prototype.setText=function(t){this.setProperty("text",t,true);this._oColumnListItem.getCells()[0].setDescription(t);if(t){this._oColumnListItem.getCells()[1].addStyleClass("sapMPlanCalRowLarge");}else{this._oColumnListItem.getCells()[1].removeStyleClass("sapMPlanCalRowLarge");}return this;};P.prototype.setIcon=function(i){this.setProperty("icon",i,true);this._oColumnListItem.getCells()[0].setIcon(i);return this;};P.prototype.setNonWorkingDays=function(n){this.setProperty("nonWorkingDays",n,true);this.getCalendarRow().setNonWorkingDays(n);return this;};P.prototype.setNonWorkingHours=function(n){this.setProperty("nonWorkingHours",n,true);this.getCalendarRow().setNonWorkingHours(n);return this;};P.prototype.invalidate=function(o){if(!o||!(o instanceof sap.ui.unified.CalendarAppointment)){E.prototype.invalidate.apply(this,arguments);}else if(this._oColumnListItem){this.getCalendarRow().invalidate(o);}};P.prototype.removeAppointment=function(o){var r=this.removeAggregation("appointments",o,true);this.getCalendarRow().invalidate();return r;};P.prototype.removeAllAppointments=function(){var r=this.removeAllAggregation("appointments",true);this.getCalendarRow().invalidate();return r;};P.prototype.destroyAppointments=function(){var d=this.destroyAggregation("appointments",true);this.getCalendarRow().invalidate();return d;};P.prototype.removeIntervalHeader=function(o){var r=this.removeAggregation("intervalHeaders",o,true);this.getCalendarRow().invalidate();return r;};P.prototype.removeAllIntervalHeaders=function(){var r=this.removeAllAggregation("intervalHeaders",true);this.getCalendarRow().invalidate();return r;};P.prototype.destroyIntervalHeaders=function(){var d=this.destroyAggregation("intervalHeaders",true);this.getCalendarRow().invalidate();return d;};P.prototype.setSelected=function(s){this.setProperty("selected",s,true);this._oColumnListItem.setSelected(s);return this;};P.prototype.getColumnListItem=function(){return this._oColumnListItem;};P.prototype.getCalendarRow=function(){return this._oColumnListItem.getCells()[1];};P.prototype.applyFocusInfo=function(f){this.getCalendarRow().applyFocusInfo(f);return this;};return P;},true);
sap.ui.predefine('sap/m/PlanningCalendarView',['jquery.sap.global','sap/ui/core/Element','./StandardListItem','./StandardListItemRenderer','sap/ui/core/Renderer','./library','sap/ui/unified/library'],function(q,E,S,a,R,l,u){"use strict";var P=E.extend("sap.m.PlanningCalendarView",{metadata:{library:"sap.m",properties:{key:{type:"string",group:"Data",defaultValue:null},intervalType:{type:"sap.ui.unified.CalendarIntervalType",group:"Appearance",defaultValue:sap.ui.unified.CalendarIntervalType.Hour},description:{type:"string",group:"Data"},intervalsS:{type:"int",group:"Appearance",defaultValue:6},intervalsM:{type:"int",group:"Appearance",defaultValue:8},intervalsL:{type:"int",group:"Appearance",defaultValue:12},showSubIntervals:{type:"boolean",group:"Appearance",defaultValue:false}}}});return P;},true);
sap.ui.predefine('sap/m/Popover',['jquery.sap.global','./Bar','./Button','./InstanceManager','./library','sap/ui/core/Control','sap/ui/core/Popup','sap/ui/core/delegate/ScrollEnablement','sap/ui/core/theming/Parameters','sap/ui/Device','sap/ui/base/ManagedObject'],function(q,B,a,I,l,C,P,S,b,D,M){"use strict";var c=C.extend("sap.m.Popover",{metadata:{interfaces:["sap.ui.core.PopupInterface"],library:"sap.m",properties:{placement:{type:"sap.m.PlacementType",group:"Behavior",defaultValue:sap.m.PlacementType.Right},showHeader:{type:"boolean",group:"Appearance",defaultValue:true},title:{type:"string",group:"Appearance",defaultValue:null},modal:{type:"boolean",group:"Behavior",defaultValue:false},offsetX:{type:"int",group:"Appearance",defaultValue:0},offsetY:{type:"int",group:"Appearance",defaultValue:0},showArrow:{type:"boolean",group:"Appearance",defaultValue:true},contentWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},contentMinWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:""},contentHeight:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enableScrolling:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},verticalScrolling:{type:"boolean",group:"Misc",defaultValue:true},horizontalScrolling:{type:"boolean",group:"Misc",defaultValue:true},bounce:{type:"boolean",group:"Behavior",defaultValue:null},resizable:{type:"boolean",group:"Dimension",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},customHeader:{type:"sap.ui.core.Control",multiple:false},subHeader:{type:"sap.ui.core.Control",multiple:false},footer:{type:"sap.ui.core.Control",multiple:false},_internalHeader:{type:"sap.m.Bar",multiple:false,visibility:"hidden"},beginButton:{type:"sap.ui.core.Control",multiple:false},endButton:{type:"sap.ui.core.Control",multiple:false}},associations:{leftButton:{type:"sap.m.Button",multiple:false,deprecated:true},rightButton:{type:"sap.m.Button",multiple:false,deprecated:true},initialFocus:{type:"sap.ui.core.Control",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}},events:{afterOpen:{parameters:{openBy:{type:"sap.ui.core.Control"}}},afterClose:{parameters:{openBy:{type:"sap.ui.core.Control"}}},beforeOpen:{parameters:{openBy:{type:"sap.ui.core.Control"}}},beforeClose:{parameters:{openBy:{type:"sap.ui.core.Control"}}}}}});c._bIE9=(D.browser.internet_explorer&&D.browser.version<10);c._bIOS7=D.os.ios&&D.os.version>=7&&D.os.version<8&&D.browser.name==="sf";c.prototype.init=function(){this._arrowOffsetThreshold=4;this._marginTopInit=false;this._marginTop=48;this._marginLeft=10;this._marginRight=10;this._marginBottom=10;this._$window=q(window);this._initialWindowDimensions={width:this._$window.width(),height:this._$window.height()};this.oPopup=new P();this.oPopup.setShadow(true);this.oPopup.setAutoClose(true);this.oPopup.setAnimations(q.proxy(this._openAnimation,this),q.proxy(this._closeAnimation,this));this._placements=[sap.m.PlacementType.Top,sap.m.PlacementType.Right,sap.m.PlacementType.Bottom,sap.m.PlacementType.Left,sap.m.PlacementType.Vertical,sap.m.PlacementType.Horizontal,sap.m.PlacementType.Auto,sap.m.PlacementType.VerticalPreferedTop,sap.m.PlacementType.VerticalPreferedBottom,sap.m.PlacementType.HorizontalPreferedLeft,sap.m.PlacementType.HorizontalPreferedRight,sap.m.PlacementType.VerticalPreferredTop,sap.m.PlacementType.VerticalPreferredBottom,sap.m.PlacementType.HorizontalPreferredLeft,sap.m.PlacementType.HorizontalPreferredRight,sap.m.PlacementType.PreferredRightOrFlip,sap.m.PlacementType.PreferredLeftOrFlip,sap.m.PlacementType.PreferredTopOrFlip,sap.m.PlacementType.PreferredBottomOrFlip];this._myPositions=["center bottom","begin center","center top","end center"];this._atPositions=["center top","end center","center bottom","begin center"];this._offsets=["0 -18","18 0","0 18","-18 0"];this._arrowOffset=18;this._followOfTolerance=32;this._scrollContentList=[sap.m.NavContainer,sap.m.Page,sap.m.ScrollContainer];this._fnAdjustPositionAndArrow=q.proxy(this._adjustPositionAndArrow,this);this._fnOrientationChange=q.proxy(this._onOrientationChange,this);this._fnFollowOf=q.proxy(function(i){var L=i.lastOfRect,r=i.currentOfRect;if(!D.system.desktop||(Math.abs(L.top-r.top)<=this._followOfTolerance&&Math.abs(L.left-r.left)<=this._followOfTolerance)||(Math.abs(L.top+L.height-r.top-r.height)<=this._followOfTolerance&&Math.abs(L.left+L.width-r.left-r.width)<=this._followOfTolerance)){this.oPopup._applyPosition(this.oPopup._oLastPosition,true);}else{this.close();}},this);this.setFollowOf(true);this._oRestoreFocusDelegate={onBeforeRendering:function(){var A=q(document.activeElement),o=A.control(0);this._sFocusControlId=o&&o.getId();},onAfterRendering:function(){if(this._sFocusControlId&&!q.sap.containsOrEquals(this.getDomRef(),document.activeElement)){sap.ui.getCore().byId(this._sFocusControlId).focus();}}};var t=this;this.oPopup._applyPosition=function(p,f){var e=this.getOpenState(),o;if(e===sap.ui.core.OpenState.CLOSING||e===sap.ui.core.OpenState.CLOSED){return;}if(f){t._storeScrollPosition();}t._clearCSSStyles();var i=q.inArray(t.getPlacement(),t._placements);if(i>3&&!t._bPosCalced){t._calcPlacement();return;}t._bPosCalced=false;if(t._oOpenBy instanceof sap.ui.core.Element){p.of=t._getOpenByDomRef();}if(!p.of){q.sap.log.warning("sap.m.Popover: in function applyPosition, the openBy element doesn't have any DOM output. "+t);return;}if(!q.sap.containsOrEquals(document.documentElement,p.of)&&p.of.id){o=q.sap.byId(p.of.id);if(o){p.of=o;}else{q.sap.log.warning("sap.m.Popover: in function applyPosition, the openBy element's DOM is already detached from DOM tree and can't be found again by the same id. "+t);return;}}var r=q(p.of).rect();if(f&&t._$window.height()==t._initialWindowDimensions.height&&(r.top+r.height<=0||r.top>=t._$window.height()||r.left+r.width<=0||r.left>=t._$window.width())){t.close();return;}var s=t.getDomRef("scroll");if(!D.system.desktop){q(window).scrollLeft(0);}t._deregisterContentResizeHandler();P.prototype._applyPosition.call(this,p);t._fnAdjustPositionAndArrow();t._restoreScrollPosition();t._registerContentResizeHandler(s);};this.oPopup.close=function(d){var e=typeof d==="boolean";if(d!==true&&(this.touchEnabled||!this._isFocusInsidePopup())&&this.isOpen()){t.fireBeforeClose({openBy:t._oOpenBy});}t._deregisterContentResizeHandler();P.prototype.close.apply(this,e?[]:arguments);t.removeDelegate(t._oRestoreFocusDelegate);};};c.prototype.onBeforeRendering=function(){var n,p;if(!this._bVScrollingEnabled&&!this._bHScrollingEnabled&&this._hasSingleScrollableContent()){this._forceDisableScrolling=true;q.sap.log.info("VerticalScrolling and horizontalScrolling in sap.m.Popover with ID "+this.getId()+" has been disabled because there's scrollable content inside");}else{this._forceDisableScrolling=false;}if(!this._forceDisableScrolling){if(!this._oScroller){this._oScroller=new S(this,this.getId()+"-scroll",{horizontal:this.getHorizontalScrolling(),vertical:this.getVerticalScrolling()});}}if(this._bContentChanged){this._bContentChanged=false;n=this._getSingleNavContent();p=this._getSinglePageContent();if(n&&!this.getModal()&&!D.support.touch&&!q.sap.simulateMobileOnDesktop){n.attachEvent("afterNavigate",function(e){q.sap.focus(this.getDomRef());},this);}if(n||p){p=p||n.getCurrentPage();if(p&&p._getAnyHeader){this.addStyleClass("sapMPopoverWithHeaderCont");}if(n){n.attachEvent("navigate",function(e){var o=e.getParameter("to");if(o instanceof sap.m.Page){this.$().toggleClass("sapMPopoverWithHeaderCont",!!o._getAnyHeader());}},this);}}}};c.prototype.onAfterRendering=function(){var $,d,e;if(!this._marginTopInit&&this.getShowArrow()){this._marginTop=2;if(this._oOpenBy){$=q(this._getOpenByDomRef());if(!($.closest("header.sapMIBar").length>0)){d=$.closest(".sapMPage");if(d.length>0){e=d.children("header.sapMIBar");if(e.length>0){this._marginTop+=e.outerHeight();}}}this._marginTopInit=true;}}};c.prototype.exit=function(){this._deregisterContentResizeHandler();D.resize.detachHandler(this._fnOrientationChange);I.removePopoverInstance(this);this.removeDelegate(this._oRestoreFocusDelegate);this._oRestoreFocusDelegate=null;if(this.oPopup){this.oPopup.detachClosed(this._handleClosed,this);this.oPopup.destroy();this.oPopup=null;}if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}if(this._internalHeader){this._internalHeader.destroy();this._internalHeader=null;}if(this._headerTitle){this._headerTitle.destroy();this._headerTitle=null;}};c.prototype.openBy=function(o,s){var p=this.oPopup,e=this.oPopup.getOpenState(),f=this._getInitialFocusId(),d,i,F,g;d=(o.getDomRef&&o.getDomRef())||o;g=q(d).closest(".sapUiSizeCompact");F=b.get("sapMPopoverForceCompactArrowOffset")==="true";this._bSizeCompact=sap.m._bSizeCompact||!!g.length||this.hasStyleClass("sapUiSizeCompact");this._bUseCompactArrow=this._bSizeCompact||F;this._adaptPositionParams();if(e===sap.ui.core.OpenState.OPEN||e===sap.ui.core.OpenState.OPENING){if(this._oOpenBy===o){return this;}else{var h=function(){p.detachClosed(h,this);this.openBy(o);};p.attachClosed(h,this);this.close();return this;}}if(!o){return this;}if(D.support.touch){D.resize.attachHandler(this._fnOrientationChange);}if(!this._oOpenBy||o!==this._oOpenBy){this._oOpenBy=o;}this.fireBeforeOpen({openBy:this._oOpenBy});p.attachOpened(this._handleOpened,this);p.attachClosed(this._handleClosed,this);p.setInitialFocusId(f);i=q.inArray(this.getPlacement(),this._placements);if(i>-1){d=this._getOpenByDomRef();if(!d){q.sap.log.error("sap.m.Popover id = "+this.getId()+": is opened by a control which isn't rendered yet.");return this;}p.setAutoCloseAreas([sap.ui.getCore().byId(d.id)||d]);p.setContent(this);if(i<=3){p.setPosition(this._myPositions[i],this._atPositions[i],d,this._calcOffset(this._offsets[i]),"fit");}else{p._oPosition.of=d;}var t=this;var j=function(){if(p.getOpenState()===sap.ui.core.OpenState.CLOSING){if(t._sOpenTimeout){clearTimeout(t._sOpenTimeout);t._sOpenTimeout=null;}t._sOpenTimeout=setTimeout(j,150);}else{t._oPreviousFocus=P.getCurrentFocusInfo();p.open();t.addDelegate(t._oRestoreFocusDelegate,t);if(!s){I.addPopoverInstance(t);}}};j();}else{q.sap.log.error(this.getPlacement()+"is not a valid value! It can only be top, right, bottom or left");}return this;};c.prototype.close=function(){var e=this.oPopup.getOpenState(),s;if(e===sap.ui.core.OpenState.CLOSED||e===sap.ui.core.OpenState.CLOSING){return this;}this.fireBeforeClose({openBy:this._oOpenBy});this.oPopup.close(true);if(this._oPreviousFocus){s=(this._oPreviousFocus.sFocusId===sap.ui.getCore().getCurrentFocusedControlId())||(this._oPreviousFocus.sFocusId===document.activeElement.id);if(!s){P.applyFocusInfo(this._oPreviousFocus);this._oPreviousFocus=null;}}return this;};c.prototype.isOpen=function(){return this.oPopup&&this.oPopup.isOpen();};c.prototype.setFollowOf=function(v){if(v){this.oPopup.setFollowOf(this._fnFollowOf);}else{this.oPopup.setFollowOf(false);}return this;};c.prototype._clearCSSStyles=function(){var s=this.getDomRef().style,$=this.$("cont"),d=$.children(".sapMPopoverScroll"),o=$[0].style,e=d[0].style,f=this.getContentWidth(),g=this.getContentHeight(),h=this.$("arrow"),w,W;if(f.indexOf("%")>0){w=this._$window.width();f=sap.m.PopupHelper.calcPercentageSize(f,w);}if(g.indexOf("%")>0){W=this._$window.height();g=sap.m.PopupHelper.calcPercentageSize(g,W);}o.width=f||"";o.height=g||"";o.maxWidth="";o.maxHeight="";s.left="";s.right="";s.top="";s.bottom="";s.width="";s.height="";e.width="";e.display="";h.removeClass("sapMPopoverArrRight sapMPopoverArrLeft sapMPopoverArrDown sapMPopoverArrUp sapMPopoverCrossArr sapMPopoverFooterAlignArr sapMPopoverHeaderAlignArr sapContrast sapContrastPlus");h.css({left:"",top:""});};c.prototype._onOrientationChange=function(){var e=this.oPopup.getOpenState();if(!(e===sap.ui.core.OpenState.OPEN||e===sap.ui.core.OpenState.OPENING)){return;}this.oPopup._applyPosition(this.oPopup._oLastPosition,true);};c.prototype._handleOpened=function(){var t=this;this.oPopup.detachOpened(this._handleOpened,this);if(!D.support.touch){setTimeout(function(){D.resize.attachHandler(t._fnOrientationChange);},0);}var f=this._getInitialFocusId(),o=sap.ui.getCore().byId(f);q.sap.focus(o?o.getFocusDomRef():q.sap.domById(f));this.fireAfterOpen({openBy:this._oOpenBy});};c.prototype._handleClosed=function(){this.oPopup.detachClosed(this._handleClosed,this);D.resize.detachHandler(this._fnOrientationChange);I.removePopoverInstance(this);if(!this.oPopup._bModal&&!D.system.desktop&&document.activeElement&&!q(document.activeElement).is(":visible")){document.activeElement.blur();}this.fireAfterClose({openBy:this._oOpenBy});};c.prototype.onfocusin=function(e){var s=e.target,$=this.$();if(s.id===this.getId()+"-firstfe"){var L=$.lastFocusableDomRef();q.sap.focus(L);}else if(s.id===this.getId()+"-lastfe"){var f=$.firstFocusableDomRef();q.sap.focus(f);}};c.prototype.onkeydown=function(e){var k=q.sap.KeyCodes,K=e.which||e.keyCode,A=e.altKey;if(K===k.ESCAPE||(A&&K===k.F4)){if(e.originalEvent&&e.originalEvent._sapui_handledByControl){return;}this.close();e.stopPropagation();e.preventDefault();}};c.prototype.onmousedown=function(E){var m={width:400,height:128};var r=sap.ui.getCore().getConfiguration().getRTL();if(!E.target.classList.contains("sapMPopoverResizeHandle")){return;}var $=q(document);var d=this.$();var t=this;d.addClass('sapMPopoverResizing');E.preventDefault();E.stopPropagation();var i={x:E.pageX,y:E.pageY,width:d.width(),height:d.height()};$.on("mousemove.sapMPopover",function(e){var w,h;if(r){w=i.width+i.x-e.pageX;h=i.height+(i.y-e.pageY);}else{w=i.width+e.pageX-i.x;h=i.height+(i.y-e.pageY);}t.setContentWidth(Math.max(w,m.width)+'px');t.setContentHeight(Math.max(h,m.height)+'px');});$.on("mouseup.sapMPopover",function(){d.removeClass("sapMPopoverResizing");$.off("mouseup.sapMPopover, mousemove.sapMPopover");});};c.prototype._hasSingleNavContent=function(){return!!this._getSingleNavContent();};c.prototype._getSingleNavContent=function(){var d=this._getAllContent();while(d.length===1&&d[0]instanceof sap.ui.core.mvc.View){d=d[0].getContent();}if(d.length===1&&d[0]instanceof sap.m.NavContainer){return d[0];}else{return null;}};c.prototype._getSinglePageContent=function(){var d=this._getAllContent();while(d.length===1&&d[0]instanceof sap.ui.core.mvc.View){d=d[0].getContent();}if(d.length===1&&d[0]instanceof sap.m.Page){return d[0];}else{return null;}};c.prototype._hasSinglePageContent=function(){var d=this._getAllContent();while(d.length===1&&d[0]instanceof sap.ui.core.mvc.View){d=d[0].getContent();}if(d.length===1&&d[0]instanceof sap.m.Page){return true;}else{return false;}};c.prototype._hasSingleScrollableContent=function(){var d=this._getAllContent(),i;while(d.length===1&&d[0]instanceof sap.ui.core.mvc.View){d=d[0].getContent();}if(d.length===1){for(i=0;i<this._scrollContentList.length;i++){if(d[0]instanceof this._scrollContentList[i]){return true;}}return false;}else{return false;}};c.prototype._getOffsetX=function(){var f=this.getPlacement(),F=0;if(this._bHorizontalFlip){var p=this._getOpenByDomRef();var h=p!==undefined;var i=h?p.getBoundingClientRect().width:0;F=f===sap.m.PlacementType.PreferredRightOrFlip?Math.abs(i):-Math.abs(i);}var r=sap.ui.getCore().getConfiguration().getRTL();var o=F*(r?-1:1)+this.getOffsetX()*(r?-1:1);return o;};c.prototype._getOffsetY=function(){var f=this.getPlacement(),F=0;if(this._bVerticalFlip){var p=this._getOpenByDomRef();var h=p!==undefined;var i=h?p.getBoundingClientRect().height:0;F=f==="PreferredTopOrFlip"?-Math.abs(i):Math.abs(i);}return F+this.getOffsetY();};c.prototype._calcOffset=function(o){var O=this._getOffsetX(),i=this._getOffsetY();var p=o.split(" ");var o=(parseInt(p[0],10)+O)+" "+(parseInt(p[1],10)+i);return o;};c.prototype._calcPlacement=function(){var p=this.getPlacement();var o=this._getOpenByDomRef();switch(p){case sap.m.PlacementType.Auto:this._calcAuto();break;case sap.m.PlacementType.Vertical:case sap.m.PlacementType.VerticalPreferedTop:case sap.m.PlacementType.VerticalPreferredTop:case sap.m.PlacementType.VerticalPreferedBottom:case sap.m.PlacementType.VerticalPreferredBottom:case sap.m.PlacementType.PreferredTopOrFlip:case sap.m.PlacementType.PreferredBottomOrFlip:this._calcVertical();break;case sap.m.PlacementType.Horizontal:case sap.m.PlacementType.HorizontalPreferedLeft:case sap.m.PlacementType.HorizontalPreferredLeft:case sap.m.PlacementType.HorizontalPreferedRight:case sap.m.PlacementType.HorizontalPreferredRight:case sap.m.PlacementType.PreferredRightOrFlip:case sap.m.PlacementType.PreferredLeftOrFlip:this._calcHorizontal();break;}this._bPosCalced=true;var i=q.inArray(this._oCalcedPos,this._placements);this.oPopup.setPosition(this._myPositions[i],this._atPositions[i],o,this._calcOffset(this._offsets[i]),"fit");};c.prototype._getDocHeight=function(){var d=document.body,h=document.documentElement;return Math.max(d.scrollHeight,d.offsetHeight,h.clientHeight,h.scrollHeight,h.offsetHeight);};c.prototype._calcVertical=function(){var $=q(this._getOpenByDomRef());var h=$[0]!==undefined;var p=this.getPlacement()===sap.m.PlacementType.VerticalPreferedTop||this.getPlacement()===sap.m.PlacementType.VerticalPreferredTop;var d=this.getPlacement()===sap.m.PlacementType.VerticalPreferedBottom||this.getPlacement()===sap.m.PlacementType.VerticalPreferredBottom;var e=this.getPlacement()===sap.m.PlacementType.PreferredTopOrFlip;var f=this.getPlacement()===sap.m.PlacementType.PreferredBottomOrFlip;var i=h?$[0].getBoundingClientRect().top:0;var g=h?$[0].getBoundingClientRect().height:0;var o=this._getOffsetY();var t=i-this._marginTop+o;var j=this.$().outerHeight();var k=this._getDocHeight()-($.offset().top+g+this._marginBottom+o);if(p&&t>j+this._arrowOffset){this._bVerticalFlip=false;this._oCalcedPos=sap.m.PlacementType.Top;}else if(e){if(t>j+this._arrowOffset){this._bVerticalFlip=false;this._oCalcedPos=sap.m.PlacementType.Top;}else{this._bVerticalFlip=true;this._oCalcedPos=sap.m.PlacementType.Bottom;}}else if(d&&k>j+this._arrowOffset){this._oCalcedPos=sap.m.PlacementType.Bottom;this._bVerticalFlip=false;}else if(f){if(k>j+this._arrowOffset){this._bVerticalFlip=false;this._oCalcedPos=sap.m.PlacementType.Bottom;}else{this._bVerticalFlip=true;this._oCalcedPos=sap.m.PlacementType.Top;}}else if(t>k){this._oCalcedPos=sap.m.PlacementType.Top;}else{this._oCalcedPos=sap.m.PlacementType.Bottom;}};c.prototype._calcHorizontal=function(){var $=q(this._getOpenByDomRef());var h=$[0]!==undefined;var p=this.getPlacement()===sap.m.PlacementType.HorizontalPreferedLeft||this.getPlacement()===sap.m.PlacementType.HorizontalPreferredLeft;var d=this.getPlacement()===sap.m.PlacementType.HorizontalPreferedRight||this.getPlacement()===sap.m.PlacementType.HorizontalPreferredRight;var i=h?$[0].getBoundingClientRect().left:0;var e=h?$[0].getBoundingClientRect().width:0;var o=this._getOffsetX();var L=i-this._marginLeft+o;var f=i+e;var r=this._$window.width()-f-this._marginRight-o;var g=this.$().outerWidth();var j=this.getPlacement()===sap.m.PlacementType.PreferredLeftOrFlip;var k=this.getPlacement()===sap.m.PlacementType.PreferredRightOrFlip;var R=sap.ui.getCore().getConfiguration().getRTL();if(p&&L>g+this._arrowOffset){this._bHorizontalFlip=false;this._oCalcedPos=R?sap.m.PlacementType.Right:sap.m.PlacementType.Left;}else if(j){if(L>g+this._arrowOffset){this._bHorizontalFlip=false;this._oCalcedPos=R?sap.m.PlacementType.Right:sap.m.PlacementType.Left;}else{this._bHorizontalFlip=true;this._oCalcedPos=R?sap.m.PlacementType.Left:sap.m.PlacementType.Right;}}else if(d&&r>g+this._arrowOffset){this._bHorizontalFlip=false;this._oCalcedPos=R?sap.m.PlacementType.Left:sap.m.PlacementType.Right;}else if(k){if(r>g+this._arrowOffset){this._bHorizontalFlip=false;this._oCalcedPos=R?sap.m.PlacementType.Left:sap.m.PlacementType.Right;}else{this._bHorizontalFlip=true;this._oCalcedPos=R?sap.m.PlacementType.Right:sap.m.PlacementType.Left;}}else if(L>r){this._oCalcedPos=R?sap.m.PlacementType.Right:sap.m.PlacementType.Left;}else{this._oCalcedPos=R?sap.m.PlacementType.Left:sap.m.PlacementType.Right;}};c.prototype._calcAuto=function(){if(this._$window.width()>this._$window.height()){if(this._checkHorizontal()){this._calcHorizontal();}else if(this._checkVertical()){this._calcVertical();}else{this._calcBestPos();}}else{if(this._checkVertical()){this._calcVertical();}else if(this._checkHorizontal()){this._calcHorizontal();}else{this._calcBestPos();}}};c.prototype._checkHorizontal=function(){var $=q(this._getOpenByDomRef());var h=$[0]!==undefined;var p=h?$[0].getBoundingClientRect().left:0;var i=h?$[0].getBoundingClientRect().width:0;var o=this._getOffsetX();var L=p-this._marginLeft+o;var d=p+i;var r=this._$window.width()-d-this._marginRight-o;var e=this.$();var w=e.outerWidth()+this._arrowOffset;if((w<=L)||(w<=r)){return true;}};c.prototype._checkVertical=function(){var $=q(this._getOpenByDomRef());var h=$[0]!==undefined;var p=h?$[0].getBoundingClientRect().top:0;var i=h?$[0].getBoundingClientRect().height:0;var o=this._getOffsetY();var t=p-this._marginTop+o;var d=this._getDocHeight()-$.offset().top-i-this._marginBottom-o;var e=this.$();var H=e.outerHeight()+this._arrowOffset;if((H<=t)||(H<=d)){return true;}};c.prototype._calcBestPos=function(){var $=this.$();var h=$.outerHeight();var w=$.outerWidth();var r=sap.ui.getCore().getConfiguration().getRTL();var d=q(this._getOpenByDomRef());var H=d[0]!==undefined;var p=H?d[0].getBoundingClientRect().left:0;var i=H?d[0].getBoundingClientRect().top:0;var e=H?d[0].getBoundingClientRect().width:0;var f=H?d[0].getBoundingClientRect().height:0;var o=this._getOffsetX();var O=this._getOffsetY();var t=i-this._marginTop+O;var g=this._getDocHeight()-d.offset().top-f-this._marginBottom-O;var L=p-this._marginLeft+o;var j=p+e;var R=this._$window.width()-j-this._marginRight-o;var k=h*w;var A;var m;if((this._$window.height()-this._marginTop-this._marginBottom)>=h){A=h;}else{A=this._$window.height()-this._marginTop-this._marginBottom;}if((this._$window.width()-this._marginLeft-this._marginRight)>=w){m=w;}else{m=this._$window.width()-this._marginLeft-this._marginRight;}var n=(A*(L))/k;var s=(A*(R))/k;var T=(m*(t))/k;var u=(m*(g))/k;var v=Math.max(n,s);var x=Math.max(T,u);if(v>x){if(v===n){this._oCalcedPos=r?sap.m.PlacementType.Right:sap.m.PlacementType.Left;}else if(v===s){this._oCalcedPos=r?sap.m.PlacementType.Left:sap.m.PlacementType.Right;}}else if(x>v){if(x===T){this._oCalcedPos=sap.m.PlacementType.Top;}else if(x===u){this._oCalcedPos=sap.m.PlacementType.Bottom;}}else if(x===v){if(this._$window.height()>this._$window.width()){if(x===T){this._oCalcedPos=sap.m.PlacementType.Top;}else if(x===u){this._oCalcedPos=sap.m.PlacementType.Bottom;}}else{if(v===n){this._oCalcedPos=r?sap.m.PlacementType.Right:sap.m.PlacementType.Left;}else if(v===s){this._oCalcedPos=r?sap.m.PlacementType.Left:sap.m.PlacementType.Right;}}}};c.outerWidth=function(e,i){if(typeof window.SVGElement!=="undefined"&&e instanceof window.SVGElement){return e.getBoundingClientRect().width;}return q(e).outerWidth(!!i);};c.outerHeight=function(e,i){if(typeof window.SVGElement!=="undefined"&&e instanceof window.SVGElement){return e.getBoundingClientRect().height;}return q(e).outerHeight(!!i);};c.prototype._getPositionParams=function($,d,e,f){var o=window.getComputedStyle($[0]),g=window.getComputedStyle(e[0]),p={};p._$popover=$;p._$parent=q(this._getOpenByDomRef());p._$arrow=d;p._$content=e;p._$scrollArea=f;p._$header=$.children(".sapMPopoverHeader");p._$subHeader=$.children(".sapMPopoverSubHeader");p._$footer=$.children(".sapMPopoverFooter");p._fWindowTop=this._$window.scrollTop();p._fWindowRight=this._$window.width();p._fWindowBottom=(c._bIOS7&&D.orientation.landscape&&window.innerHeight)?window.innerHeight:this._$window.height();p._fWindowLeft=this._$window.scrollLeft();p._fDocumentWidth=p._fWindowLeft+p._fWindowRight;p._fDocumentHeight=p._fWindowTop+p._fWindowBottom;p._fArrowHeight=d.outerHeight(true);p._fWidth=c.outerWidth($[0]);p._fHeight=c.outerHeight($[0]);p._fHeaderHeight=p._$header.length>0?p._$header.outerHeight(true):0;p._fSubHeaderHeight=p._$subHeader.length>0?p._$subHeader.outerHeight(true):0;p._fFooterHeight=p._$footer.length>0?p._$footer.outerHeight(true):0;p._fOffset=$.offset();p._fOffsetX=this._getOffsetX();p._fOffsetY=this._getOffsetY();p._fMarginTop=p._fWindowTop+this._marginTop;p._fMarginRight=this._marginRight;p._fMarginBottom=this._marginBottom;p._fMarginLeft=p._fWindowLeft+this._marginLeft;p._fPopoverBorderTop=parseFloat(o.borderTopWidth);p._fPopoverBorderRight=parseFloat(o.borderRightWidth);p._fPopoverBorderBottom=parseFloat(o.borderBottomWidth);p._fPopoverBorderLeft=parseFloat(o.borderLeftWidth);p._fContentMarginTop=parseFloat(g.marginTop);p._fContentMarginBottom=parseFloat(g.marginBottom);return p;};c.prototype._recalculateMargins=function(s,p){var r=sap.ui.getCore().getConfiguration().getRTL();switch(s){case sap.m.PlacementType.Left:if(r){p._fMarginLeft=p._$parent.offset().left+c.outerWidth(p._$parent[0],false)+this._arrowOffset-p._fOffsetX;}else{p._fMarginRight=p._fDocumentWidth-p._$parent.offset().left+this._arrowOffset-p._fOffsetX;}break;case sap.m.PlacementType.Right:if(r){p._fMarginRight=p._fDocumentWidth-c.outerWidth(p._$parent[0],false)-p._$parent.offset().left+this._arrowOffset;}else{p._fMarginLeft=p._$parent.offset().left+c.outerWidth(p._$parent[0],false)+this._arrowOffset+p._fOffsetX;}break;case sap.m.PlacementType.Top:p._fMarginBottom=p._fDocumentHeight-p._$parent.offset().top+this._arrowOffset-p._fOffsetY;break;case sap.m.PlacementType.Bottom:p._fMarginTop=p._$parent.offset().top+c.outerHeight(p._$parent[0],false)+this._arrowOffset+p._fOffsetY;break;}};c.prototype._getPopoverPositionCss=function(p){var L,r,t,i,d=p._fDocumentWidth-p._fOffset.left-p._fWidth,e=p._fDocumentHeight-p._fOffset.top-p._fHeight,E=(p._fDocumentWidth-p._fMarginRight-p._fMarginLeft)<p._fWidth,f=(p._fDocumentHeight-p._fMarginTop-p._fMarginBottom)<p._fHeight,o=p._fOffset.left<p._fMarginLeft,O=d<p._fMarginRight,g=p._fOffset.top<p._fMarginTop,h=e<p._fMarginBottom,R=sap.ui.getCore().getConfiguration().getRTL();if(E){L=p._fMarginLeft;r=p._fMarginRight;}else{if(o){L=p._fMarginLeft;if(R){r="";}}else if(O){r=p._fMarginRight;L="";}}if(f){t=p._fMarginTop;i=p._fMarginBottom;}else{if(g){t=p._fMarginTop;}else if(h){i=p._fMarginBottom;t="";}}var m={top:t,bottom:i-p._fWindowTop,left:L,right:typeof r==="number"?r-p._fWindowLeft:r};return m;};c.prototype._getContentDimensionsCss=function(p){var o={},A=p._$content.height(),m=this._getMaxContentWidth(p),i=this._getMaxContentHeight(p);i=Math.max(i,0);o["max-width"]=m+"px";if(this.getContentHeight()||(A>i)){o["height"]=Math.min(i,A)+"px";}else{o["height"]="";o["max-height"]=i+"px";}return o;};c.prototype._getMaxContentWidth=function(p){return p._fDocumentWidth-p._fMarginLeft-p._fMarginRight-p._fPopoverBorderLeft-p._fPopoverBorderRight;};c.prototype._getMaxContentHeight=function(p){return p._fDocumentHeight-p._fMarginTop-p._fMarginBottom-p._fHeaderHeight-p._fSubHeaderHeight-p._fFooterHeight-p._fContentMarginTop-p._fContentMarginBottom-p._fPopoverBorderTop-p._fPopoverBorderBottom;};c.prototype._isHorizontalScrollbarNeeded=function(p){return this.getHorizontalScrolling()&&(p._$scrollArea.outerWidth(true)<=p._$content.width());};c.prototype._getArrowOffsetCss=function(s,p){var i,r=sap.ui.getCore().getConfiguration().getRTL();p._fWidth=p._$popover.outerWidth();p._fHeight=p._$popover.outerHeight();if(s===sap.m.PlacementType.Left||s===sap.m.PlacementType.Right){i=p._$parent.offset().top-p._$popover.offset().top-p._fPopoverBorderTop+p._fOffsetY+0.5*(c.outerHeight(p._$parent[0],false)-p._$arrow.outerHeight(false));i=Math.max(i,this._arrowOffsetThreshold);i=Math.min(i,p._fHeight-this._arrowOffsetThreshold-p._$arrow.outerHeight());return{"top":i};}else if(s===sap.m.PlacementType.Top||s===sap.m.PlacementType.Bottom){if(r){i=p._$popover.offset().left+c.outerWidth(p._$popover[0],false)-(p._$parent.offset().left+c.outerWidth(p._$parent[0],false))+p._fPopoverBorderRight+p._fOffsetX+0.5*(c.outerWidth(p._$parent[0],false)-p._$arrow.outerWidth(false));i=Math.max(i,this._arrowOffsetThreshold);i=Math.min(i,p._fWidth-this._arrowOffsetThreshold-p._$arrow.outerWidth(false));return{"right":i};}else{i=p._$parent.offset().left-p._$popover.offset().left-p._fPopoverBorderLeft+p._fOffsetX+0.5*(c.outerWidth(p._$parent[0],false)-p._$arrow.outerWidth(false));i=Math.max(i,this._arrowOffsetThreshold);i=Math.min(i,p._fWidth-this._arrowOffsetThreshold-p._$arrow.outerWidth(false));return{"left":i};}}};c.prototype._getArrowPositionCssClass=function(s){switch(s){case sap.m.PlacementType.Left:return"sapMPopoverArrRight";case sap.m.PlacementType.Right:return"sapMPopoverArrLeft";case sap.m.PlacementType.Top:return"sapMPopoverArrDown";case sap.m.PlacementType.Bottom:return"sapMPopoverArrUp";}};c.prototype._getArrowStyleCssClass=function(p){var A=p._$arrow.position(),f=p._$footer.position(),n=this._getSingleNavContent(),o=this._getSinglePageContent(),i=0;if(n||o){o=o||n.getCurrentPage();if(o){i=o._getAnyHeader().$().outerHeight();}}if((A.top+p._fArrowHeight)<(p._fHeaderHeight+p._fSubHeaderHeight)||((A.top+p._fArrowHeight)<i)){return"sapMPopoverHeaderAlignArr";}else if((A.top<(p._fHeaderHeight+p._fSubHeaderHeight))||(A.top<i)||(p._$footer.length&&((A.top+p._fArrowHeight)>f.top)&&(A.top<f.top))){return"sapMPopoverCrossArr";}else if(p._$footer.length&&(A.top>f.top)){return"sapMPopoverFooterAlignArr";}};c.prototype._getCalculatedPlacement=function(){return this._oCalcedPos||this.getPlacement();};c.prototype._adjustPositionAndArrow=function(){var e=this.oPopup.getOpenState();if(!(e===sap.ui.core.OpenState.OPEN||e===sap.ui.core.OpenState.OPENING)){return;}var $=this.$(),d=this.$("arrow"),f=this.$("cont"),g=this.$("scroll"),s=this._getCalculatedPlacement(),p=this._getPositionParams($,d,f,g);this._recalculateMargins(s,p);var o=this._getPopoverPositionCss(p),h=this._getContentDimensionsCss(p),H=this._isHorizontalScrollbarNeeded(p);$.css(o);f.css(h);if(H){g.css("display","block");}if(this.getShowArrow()){var A=this._getArrowOffsetCss(s,p),i=this._getArrowPositionCssClass(s),j,u;d.removeAttr("style");d.css(A);d.addClass(i);if(s===sap.m.PlacementType.Top&&p._$footer&&p._$footer.size()){u=true;}if(s===sap.m.PlacementType.Left||s===sap.m.PlacementType.Right){j=this._getArrowStyleCssClass(p);if(j){d.addClass(j);if(j==="sapMPopoverFooterAlignArr"){u=true;}}}if(u){d.addClass("sapContrast sapContrastPlus");}$.css("overflow","visible");}this._afterAdjustPositionAndArrowHook();};c.prototype._adaptPositionParams=function(){if(this.getShowArrow()){this._marginLeft=10;this._marginRight=10;this._marginBottom=10;this._arrowOffset=18;this._offsets=["0 -18","18 0","0 18","-18 0"];if(this._bUseCompactArrow){this._arrowOffset=9;this._offsets=["0 -9","9 0","0 9","-9 0"];}this._myPositions=["center bottom","begin center","center top","end center"];this._atPositions=["center top","end center","center bottom","begin center"];}else{this._marginTop=0;this._marginLeft=0;this._marginRight=0;this._marginBottom=0;this._arrowOffset=0;this._offsets=["0 0","0 0","0 0","0 0"];this._myPositions=["begin bottom","begin center","begin top","end center"];this._atPositions=["begin top","end center","begin bottom","begin center"];}};c.prototype._afterAdjustPositionAndArrowHook=function(){};c.prototype._isPopupElement=function(d){var p=this._getOpenByDomRef();return!!(q(d).closest(sap.ui.getCore().getStaticAreaRef()).length)||!!(q(d).closest(p).length);};c.prototype._getAnyHeader=function(){if(this.getCustomHeader()){return this.getCustomHeader();}else{if(this.getShowHeader()){this._createInternalHeader();return this._internalHeader;}}};c.prototype._createInternalHeader=function(){if(!this._internalHeader){var t=this;this._internalHeader=new B(this.getId()+"-intHeader");this.setAggregation("_internalHeader",this._internalHeader);this._internalHeader.addEventDelegate({onAfterRendering:function(){t._restoreFocus();}});return true;}else{return false;}};c.prototype._openAnimation=function(r,R,o){var t=this;if(c._bIE9){o();}else{var O=false,T=function(){if(O||!t.oPopup||t.oPopup.getOpenState()!==sap.ui.core.OpenState.OPENING){return;}r.unbind("webkitTransitionEnd transitionend");o();O=true;};setTimeout(function(){r.addClass("sapMPopoverTransparent");r.css("display","block");setTimeout(function(){r.bind("webkitTransitionEnd transitionend",T);r.removeClass("sapMPopoverTransparent");setTimeout(function(){T();},300);},D.browser.firefox?50:0);},0);}};c.prototype._closeAnimation=function(r,R,f){if(c._bIE9){f();}else{var d=false,t=function(){if(d){return;}r.unbind("webkitTransitionEnd transitionend");setTimeout(function(){f();d=true;r.removeClass("sapMPopoverTransparent");},0);};r.bind("webkitTransitionEnd transitionend",t).addClass("sapMPopoverTransparent");setTimeout(function(){t();},300);}};c.prototype._getInitialFocusId=function(){return this.getInitialFocus()||this._getFirstVisibleButtonId()||this._getFirstFocusableContentElementId()||this.getId();};c.prototype._getFirstVisibleButtonId=function(){var o=this.getBeginButton(),e=this.getEndButton(),s="";if(o&&o.getVisible()){s=o.getId();}else if(e&&e.getVisible()){s=e.getId();}return s;};c.prototype._getFirstFocusableContentElementId=function(){var r="";var $=this.$("cont");var f=$.firstFocusableDomRef();if(f){r=f.id;}return r;};c.prototype._restoreFocus=function(){if(this.isOpen()){var f=this._getInitialFocusId(),o=sap.ui.getCore().byId(f);q.sap.focus(o?o.getFocusDomRef():q.sap.domById(f));}};c.prototype._registerContentResizeHandler=function(s){if(!this._sResizeListenerId){this._sResizeListenerId=sap.ui.core.ResizeHandler.register(s||this.getDomRef("scroll"),this._fnOrientationChange);}};c.prototype._deregisterContentResizeHandler=function(){if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}};c.prototype._storeScrollPosition=function(){var $=this.$("cont");if($.length>0){this._oScrollPosDesktop={x:$.scrollLeft(),y:$.scrollTop()};}};c.prototype._restoreScrollPosition=function(){if(!this._oScrollPosDesktop){return;}var $=this.$("cont");if($.length>0){$.scrollLeft(this._oScrollPosDesktop.x).scrollTop(this._oScrollPosDesktop.y);this._oScrollPosDesktop=null;}};c.prototype._repositionOffset=function(){var e=this.oPopup.getOpenState(),L,p;if(!(e===sap.ui.core.OpenState.OPEN)){return this;}L=this.oPopup._oLastPosition;p=q.inArray(this.getPlacement(),this._placements);if(p===-1){return this;}if(p<4){L.offset=this._calcOffset(this._offsets[p]);this.oPopup._applyPosition(L);}else{this._calcPlacement();}return this;};c.prototype._getOpenByDomRef=function(){if(!this._oOpenBy){return null;}if(this._oOpenBy instanceof sap.ui.core.Element){return(this._oOpenBy.getPopupAnchorDomRef&&this._oOpenBy.getPopupAnchorDomRef())||this._oOpenBy.getFocusDomRef();}else{return this._oOpenBy;}};c.prototype._getAccessibilityOptions=function(){var A,m={};m.role="dialog";if(this.getShowHeader()&&this._getAnyHeader()){A=Array.prototype.concat(this._getAnyHeader().getId(),this.getAssociation("ariaLabelledBy",[]));m.labelledby=A.join(' ');}return m;};c.prototype.setPlacement=function(p){this.setProperty("placement",p,true);this._bVerticalFlip=false;this._bHorizontalFlip=false;var i=q.inArray(p,this._placements);if(i<=3){this._oCalcedPos=p;}return this;};c.prototype.setTitle=function(t){this.setProperty("title",t,true);if(this._headerTitle){this._headerTitle.setText(t);}else{this._headerTitle=new sap.m.Title(this.getId()+"-title",{text:this.getTitle(),level:"H1"});this._createInternalHeader();this._internalHeader.addContentMiddle(this._headerTitle);}return this;};c.prototype.setBeginButton=function(o){var O=this.getBeginButton();if(O===o){return this;}this._createInternalHeader();this._beginButton=o;if(o){if(O){this._internalHeader.removeAggregation("contentLeft",O,true);}this._internalHeader.addAggregation("contentLeft",o);}else{this._internalHeader.removeContentLeft(O);}return this;};c.prototype.setEndButton=function(o){var O=this.getEndButton();if(O===o){return this;}this._createInternalHeader();this._endButton=o;if(o){if(O){this._internalHeader.removeAggregation("contentRight",O,true);}this._internalHeader.insertAggregation("contentRight",o,1,true);this._internalHeader.invalidate();}else{this._internalHeader.removeContentRight(O);}return this;};c.prototype.setLeftButton=function(v){if(!(v instanceof a)){v=sap.ui.getCore().byId(v);}this.setBeginButton(v);return this.setAssociation("leftButton",v);};c.prototype.setRightButton=function(v){if(!(v instanceof a)){v=sap.ui.getCore().byId(v);}this.setEndButton(v);return this.setAssociation("rightButton",v);};c.prototype.setShowHeader=function(v){if(v===this.getShowHeader()||this.getCustomHeader()){return this;}if(v){if(this._internalHeader){this._internalHeader.$().show();}}else{if(this._internalHeader){this._internalHeader.$().hide();}}this.setProperty("showHeader",v,true);return this;};c.prototype.setModal=function(m,s){if(m===this.getModal()){return this;}this.oPopup.setModal(m,q.trim("sapMPopoverBLayer "+s||""));this.setProperty("modal",m,true);return this;};c.prototype.setOffsetX=function(v){this.setProperty("offsetX",v,true);return this._repositionOffset();};c.prototype.setOffsetY=function(v){this.setProperty("offsetY",v,true);return this._repositionOffset();};c.prototype.setEnableScrolling=function(v){this.setHorizontalScrolling(v);this.setVerticalScrolling(v);var o=this.getEnableScrolling();if(o===v){return this;}this.setProperty("enableScrolling",v,true);return this;};c.prototype.setVerticalScrolling=function(v){this._bVScrollingEnabled=v;var o=this.getVerticalScrolling();if(o===v){return this;}this.$().toggleClass("sapMPopoverVerScrollDisabled",!v);this.setProperty("verticalScrolling",v,true);if(this._oScroller){this._oScroller.setVertical(v);}return this;};c.prototype.setHorizontalScrolling=function(v){this._bHScrollingEnabled=v;var o=this.getHorizontalScrolling();if(o===v){return this;}this.$().toggleClass("sapMPopoverHorScrollDisabled",!v);this.setProperty("horizontalScrolling",v,true);if(this._oScroller){this._oScroller.setHorizontal(v);}return this;};c.prototype.setResizable=function(v){if(!D.system.desktop){v=false;}return this.setProperty("resizable",v,true);};c.prototype.getScrollDelegate=function(){return this._oScroller;};c.prototype.setAggregation=function(A,o,s){if(A==="beginButton"||A==="endButton"){var f="set"+A.charAt(0).toUpperCase()+A.slice(1);return this[f](o);}else{return C.prototype.setAggregation.apply(this,arguments);}};c.prototype.getAggregation=function(A,d){if(A==="beginButton"||A==="endButton"){var s=this["_"+A];return s||d||null;}else{return C.prototype.getAggregation.apply(this,arguments);}};c.prototype.destroyAggregation=function(A,s){var o=q(document.activeElement).control(0);if(A==="beginButton"||A==="endButton"){var d=this["_"+A];if(d){d.destroy();this["_"+A]=null;}}else{C.prototype.destroyAggregation.apply(this,arguments);}o&&o.getDomRef()?o.focus():this.focus();return this;};c.prototype.invalidate=function(o){if(this.isOpen()){C.prototype.invalidate.apply(this,arguments);}return this;};c.prototype.addAggregation=function(A,o,s){if(A==="content"){this._bContentChanged=true;}C.prototype.addAggregation.apply(this,arguments);};c.prototype._getAllContent=function(){return this.getContent();};c.prototype._applyContextualSettings=function(){M.prototype._applyContextualSettings.call(this,M._defaultContextualSettings);};return c;},true);
sap.ui.predefine('sap/m/PopoverRenderer',['jquery.sap.global'],function(q){"use strict";var P={};P.render=function(r,c){var C;r.write("<div");r.writeControlData(c);C=this.generateRootClasses(c);C.forEach(function(s,i){r.addClass(s);});r.writeClasses();var t=c.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}r.writeAttribute("tabindex","-1");r.writeAccessibilityState(c,c._getAccessibilityOptions());r.write(">");if(c.getResizable()){r.writeIcon("sap-icon://resize-corner",["sapMPopoverResizeHandle"],{"title":""});}this.renderContent(r,c);r.write("</div>");};P.isButtonFooter=function(f){if(f instanceof sap.m.Bar){var c=f.getContentLeft(),C=f.getContentRight(),a=f.getContentMiddle(),l=(!c||c.length===0),r=(!C||C.length===0),m=false;if(a&&a.length===2){if((a[0]instanceof sap.m.Button)&&(a[1]instanceof sap.m.Button)){m=true;}}return l&&r&&m;}else{return false;}};P.renderContent=function(r,c){var h,I=c.getId(),i=0,a=c._getAllContent(),f=c.getFooter(),s=c.getSubHeader(),C=c.getContentWidth(),b=c.getContentMinWidth(),d=c.getContentHeight(),F="sapMPopoverFooter ";if(c.getShowHeader()){h=c._getAnyHeader();}if(sap.ui.Device.system.desktop){r.write("<span class='sapMPopoverHiddenFocusable' id='"+c.getId()+"-firstfe' tabindex='0'></span>");}if(h){if(h.applyTagAndContextClassFor){h.applyTagAndContextClassFor("header");}h.addStyleClass("sapMPopoverHeader");r.renderControl(h);}if(s){if(s.applyTagAndContextClassFor){s.applyTagAndContextClassFor("subheader");}s.addStyleClass("sapMPopoverSubHeader");r.renderControl(s);}r.write("<div");r.writeAttribute("id",I+"-cont");if(C){r.addStyle("width",C);}if(b){r.addStyle("min-width",b);}if(d){r.addStyle("height",d);}r.writeStyles();r.addClass("sapMPopoverCont");r.writeClasses();if(sap.ui.getCore().getConfiguration().getAccessibility()){r.writeAttribute("role","application");}r.write(">");r.write('<div class="sapMPopoverScroll"');r.writeAttribute("id",c.getId()+"-scroll");if(!c.getHorizontalScrolling()){r.addStyle(sap.ui.getCore().getConfiguration().getRTL()?"margin-left":"margin-right",q.sap.scrollbarSize().width+"px");}r.writeStyles();r.write(">");for(i=0;i<a.length;i++){r.renderControl(a[i]);}r.write("</div>");r.write("</div>");if(f){if(f.applyTagAndContextClassFor){f.applyTagAndContextClassFor("footer");f.addStyleClass("sapMTBNoBorders");}if(this.isButtonFooter(f)){F+="sapMPopoverSpecialFooter";}r.renderControl(f.addStyleClass(F));}if(c.getShowArrow()){r.write("<span");r.writeAttribute("id",I+"-arrow");r.addClass("sapMPopoverArr");r.writeClasses();r.write("></span>");}if(sap.ui.Device.system.desktop){r.write("<span class='sapMPopoverHiddenFocusable' id='"+c.getId()+"-lastfe' tabindex='0'></span>");}};P.generateRootClasses=function(c){var C=["sapMPopover"],s=c.getSubHeader(),f=c.getFooter(),v=c.getVerticalScrolling()&&!c._forceDisableScrolling,h=c.getHorizontalScrolling()&&!c._forceDisableScrolling,H;if(c.getShowHeader()){H=c._getAnyHeader();}if(H){C.push("sapMPopoverWithBar");}else{C.push("sapMPopoverWithoutBar");}if(s){C.push("sapMPopoverWithSubHeader");}else{C.push("sapMPopoverWithoutSubHeader");}if(c._hasSingleNavContent()){C.push("sapMPopoverNav");}if(c._hasSinglePageContent()){C.push("sapMPopoverPage");}if(f){C.push("sapMPopoverWithFooter");}else{C.push("sapMPopoverWithoutFooter");}if(c.getPlacement()===sap.m.PlacementType.Top){C.push("sapMPopoverPlacedTop");}if(!v){C.push("sapMPopoverVerScrollDisabled");}if(!h){C.push("sapMPopoverHorScrollDisabled");}C.push("sapMPopup-CTX");if(c._bSizeCompact){C.push("sapUiSizeCompact");}return C.concat(c.aCustomStyleClasses);};P.rerenderContentOnly=function(c){var p=c.$(),o=c.getDomRef(),C,r;if(!o){return;}p.removeClass();C=this.generateRootClasses(c);p.addClass(C.join(" "));r=sap.ui.getCore().createRenderManager();this.renderContent(r,c);r.flush(o,true);r.destroy();c._onOrientationChange();};return P;},true);
sap.ui.predefine('sap/m/ProgressIndicator',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/ValueStateSupport'],function(q,l,C,V){"use strict";var P=C.extend("sap.m.ProgressIndicator",{metadata:{library:"sap.m",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},state:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:sap.ui.core.ValueState.None},displayValue:{type:"string",group:"Appearance",defaultValue:null},percentValue:{type:"float",group:"Data",defaultValue:0},showValue:{type:"boolean",group:"Appearance",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit}}}});var u=sap.ui.getCore().getConfiguration().getAnimation();P.prototype.setPercentValue=function(p){var t=this,$,f,a=this.$(),A;if(!i(p)){p=0;q.sap.log.warning(this+": percentValue ("+p+") is not correct! Setting the default percentValue:0.");f=this.getPercentValue()-p;}if(this.getPercentValue()!==p){this.setProperty("percentValue",p,true);if(!a.length){return this;}["sapMPIValueMax","sapMPIValueMin","sapMPIValueNormal","sapMPIValueGreaterHalf"].forEach(function(c){a.removeClass(c);});a.addClass(this._getCSSClassByPercentValue(p));a.addClass("sapMPIAnimate").attr("aria-valuenow",p).attr("aria-valuetext",this._getAriaValueText({fPercent:p}));A=u?Math.abs(f)*20:0;$=this.$("bar");$.animate({"flex-basis":p+"%"},A,"linear",function(){t._setText.apply(t);t.$().removeClass("sapMPIAnimate");});}return this;};P.prototype._setText=function(){this.$().toggleClass("sapMPIValueGreaterHalf",this.getPercentValue()>50);return this;};P.prototype.setDisplayValue=function(d){this.setProperty("displayValue",d,true);var $=this.$("textLeft");var a=this.$("textRight");$.text(d);a.text(d);this.$().attr("aria-valuetext",this._getAriaValueText({sText:d}));return this;};P.prototype._getCSSClassByPercentValue=function(p){if(p===100){return"sapMPIValueMax sapMPIValueGreaterHalf";}if(p===0){return"sapMPIValueMin";}if(p<=50){return"sapMPIValueNormal";}return"sapMPIValueNormal sapMPIValueGreaterHalf";};P.prototype._getAriaValueText=function(p){p.sText=p.sText||this.getDisplayValue();p.fPercent=p.fPercent||this.getPercentValue();p.sStateText=p.sStateText||this._getStateText();var a=p.sText||p.fPercent+"%";if(p.sStateText){a+=" "+p.sStateText;}return a;};P.prototype._getStateText=function(){return V.getAdditionalText(this.getState());};P.prototype.getAccessibilityInfo=function(){var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");return{role:"progressbar",type:b.getText("ACC_CTR_TYPE_PROGRESS"),description:b.getText("ACC_CTR_STATE_PROGRESS",[this.getPercentValue()]),focusable:this.getEnabled(),enabled:this.getEnabled()};};function i(v){return(typeof(v)==='number')&&!isNaN(v)&&v>=0&&v<=100;}return P;},true);
sap.ui.predefine('sap/m/ProgressIndicatorRenderer',['jquery.sap.global'],function(q){"use strict";var P={};P.render=function(r,c){var p=c.getPercentValue(),w=c.getWidth(),h=c.getHeight(),s=c._getCSSClassByPercentValue(p),t=c.getDisplayValue(),S=c.getShowValue(),a=c.getState(),T=c.getTextDirection().toLowerCase(),C=c.getId();r.write("<div");r.writeControlData(c);r.addClass("sapMPI");r.addClass(s);r.addStyle("width",w);if(h){r.addStyle("height",h);}if(c.getEnabled()){r.writeAttribute('tabIndex','-1');}else{r.addClass("sapMPIBarDisabled");}r.writeClasses();r.writeStyles();r.writeAccessibilityState(c,{role:"progressbar",valuemin:0,valuenow:p,valuemax:100,valuetext:c._getAriaValueText({sText:t,fPercent:p})});if(c.getTooltip_AsString()){r.writeAttributeEscaped("title",c.getTooltip_AsString());}r.write(">");r.write("<div");r.addClass("sapMPIBar");switch(a){case sap.ui.core.ValueState.Warning:r.addClass("sapMPIBarCritical");break;case sap.ui.core.ValueState.Error:r.addClass("sapMPIBarNegative");break;case sap.ui.core.ValueState.Success:r.addClass("sapMPIBarPositive");break;default:r.addClass("sapMPIBarNeutral");break;}r.writeClasses();r.writeAttribute("id",C+"-bar");r.writeAttribute("style","flex-basis:"+p+"%");r.write(">");P._renderDisplayText(r,T,"Left",C);if(S){r.writeEscaped(t);}r.write("</span>");r.write("</div>");r.write("<div");r.addClass("sapMPIBarRemaining");r.writeAttribute("id",C+"-remainingBar");r.writeClasses();r.write(">");P._renderDisplayText(r,T,"Right",C);if(S){r.writeEscaped(t);}r.write("</span>");r.write("</div>");r.write("</div>");};P._renderDisplayText=function(r,t,T,c){r.write("<span class='sapMPIText sapMPIText"+T+"' id='"+c+"-text"+T+"'");if(t!=="inherit"){r.writeAttribute("dir",t);}r.write('>');};return P;},true);
sap.ui.predefine('sap/m/PullToRefresh',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/theming/Parameters'],function(q,l,C,P){"use strict";var a=C.extend("sap.m.PullToRefresh",{metadata:{library:"sap.m",properties:{description:{type:"string",group:"Misc",defaultValue:null},showIcon:{type:"boolean",group:"Appearance",defaultValue:false},customIcon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true}},events:{refresh:{}}}});a.prototype.init=function(){this._bTouchMode=sap.ui.Device.support.touch&&!sap.ui.Device.system.combi||q.sap.simulateMobileOnDesktop;this._iState=0;this.oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");};a.prototype._loadBI=function(){if(this.getVisible()&&!this._oBusyIndicator){q.sap.require("sap.m.BusyIndicator");this._oBusyIndicator=new sap.m.BusyIndicator({size:"1.7rem",design:"auto"});this._oBusyIndicator.setParent(this);}};a.prototype.onBeforeRendering=function(){this._loadBI();if(this._bTouchMode){q(window).off("resize.sapMP2R",this.calculateTopTrigger);var p=this.getParent();this._oScroller=p&&p.getScrollDelegate?p.getScrollDelegate():null;if(this._oScroller){this._oScroller.setBounce(true);this._oScroller.setPullDown(this.getVisible()?this:null);}}};a.prototype.calculateTopTrigger=function(){this._iTopTrigger=1;if(this._oDomRef&&this._oDomRef.parentNode&&this._oDomRef.parentNode.parentNode&&this._oDomRef.parentNode.parentNode.offsetHeight<this._oDomRef.offsetHeight*1.5){this._iTopTrigger=this.getDomRef("T").offsetTop;}};a.prototype.onAfterRendering=function(){this._oDomRef=this.getDomRef();if(this._bTouchMode){if(this._oScroller){this._oScroller.refresh();}if(this.getVisible()&&this._oScroller&&this._oScroller._bIScroll){q(window).on("resize.sapMP2R",q.proxy(this.calculateTopTrigger,this));this.calculateTopTrigger();}}};a.prototype.exit=function(){if(this._bTouchMode&&this._oScroller&&this._oScroller._bIScroll){q(window).off("resize.sapMP2R",this.calculateTopTrigger);}if(this._oScroller){this._oScroller.setPullDown(null);this._oScroller=null;}if(this._oCustomImage){this._oCustomImage.destroy();this._oCustomImage=null;}if(this._oBusyIndicator){this._oBusyIndicator.destroy();this._oBusyIndicator=null;}};a.prototype.doScrollMove=function(){if(!this._oScroller){return;}var d=this._oDomRef;var _=this._oScroller._scroller;if(_.y>-this._iTopTrigger&&this._iState<1){this.setState(1);_.minScrollY=0;}else if(_.y<-this._iTopTrigger&&this._iState==1){this.setState(0);_.minScrollY=-d.offsetHeight;}};a.prototype.doPull=function(p){if(this._bTouchMode&&this._iState<2){this.setState(p>=-1?1:0);}};a.prototype.doRefresh=function(){this.setState(0);};a.prototype.doScrollEnd=function(){if(this._iState==1){this.setState(2);this.fireRefresh();}};a.prototype.setState=function(s){if(this._iState==s){return;}this._iState=s;if(!this._oDomRef){return;}var $=this.$();var b=$.find(".sapMPullDownText");switch(s){case 0:$.toggleClass("sapMFlip",false).toggleClass("sapMLoading",false);b.html(this.oRb.getText(this._bTouchMode?"PULL2REFRESH_PULLDOWN":"PULL2REFRESH_REFRESH"));$.removeAttr("aria-live");$.find(".sapMPullDownInfo").html(q.sap.encodeHTML(this.getDescription()));break;case 1:$.toggleClass("sapMFlip",true);b.html(this.oRb.getText("PULL2REFRESH_RELEASE"));$.removeAttr("aria-live");break;case 2:$.toggleClass("sapMFlip",false).toggleClass("sapMLoading",true);this._oBusyIndicator.setVisible(true);b.html(this.oRb.getText("PULL2REFRESH_LOADING"));$.attr("aria-live","assertive");$.find(".sapMPullDownInfo").html(this._bTouchMode?this.oRb.getText("PULL2REFRESH_LOADING_LONG"):"");break;}};a.prototype.setDescription=function(d){if(this._oDomRef){this.$().find(".sapMPullDownInfo").html(q.sap.encodeHTML(d));}return this.setProperty("description",d,true);};a.prototype.getCustomIconImage=function(){var p={src:this.getCustomIcon(),densityAware:this.getIconDensityAware(),useIconTooltip:false};var c=['sapMPullDownCIImg'];this._oCustomImage=sap.m.ImageHelper.getImageControl(null,this._oCustomImage,this,p,c);return this._oCustomImage;};a.prototype.onclick=function(){if(!this._bTouchMode){this.setState(2);this.fireRefresh();}};a.prototype.onkeydown=function(e){if(e.which==q.sap.KeyCodes.F5){this.onclick();e.stopPropagation();e.preventDefault();}};a.prototype.onsapenter=function(e){if(this._iState<1){this.setState(2);this.fireRefresh();}};a.prototype.onsapspace=function(e){e.preventDefault();if(this._iState<1){this.setState(2);this.fireRefresh();}};a.prototype.hide=function(){this.setState(0);if(this._oScroller){this._oScroller.refresh();}};a.prototype.setVisible=function(v){if(this.getVisible()==v){return this;}if(this._oDomRef&&this._oScroller&&this._oScroller._oControl){this._oScroller._oControl.invalidate();}return this.setProperty("visible",v);};return a;},true);
sap.ui.predefine('sap/m/PullToRefreshRenderer',['jquery.sap.global','sap/ui/core/IconPool'],function(q,I){"use strict";I.insertFontFaceStyle();var P={};P.render=function(r,c){var s=c.getShowIcon();var C=c.getCustomIcon();var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);r.addClass("sapMPullDown");if(!c._bTouchMode){r.addClass("sapMPullDownNontouch");}else{r.addClass("sapMPullDownTouch");}if(s&&!C){r.addClass("sapMPullDownLogo");}r.writeClasses();if(t){r.writeAttributeEscaped("title",t);}r.write(" tabindex=\"0\"");r.write(" role='button' aria-controls='"+c.getParent().sId+"-cont'>");if(s&&C){var o=c.getCustomIconImage();if(o){r.write("<div class=\"sapMPullDownCI\">");r.renderControl(o);r.write("</div>");}}r.write("<span class=\"sapMPullDownIcon\"></span>");r.write("<span class=\"sapMPullDownBusy\">");r.renderControl(c._oBusyIndicator);r.write("</span>");r.write("<span id="+c.getId()+"-T class=\"sapMPullDownText\">");r.writeEscaped(c.oRb.getText(c._bTouchMode?"PULL2REFRESH_PULLDOWN":"PULL2REFRESH_REFRESH"));r.write("</span>");r.write("<span id="+c.getId()+"-I class=\"sapMPullDownInfo\">");r.writeEscaped(c.getDescription());r.write("</span>");r.write("</div>");};return P;},true);
sap.ui.predefine('sap/m/QuickViewCardRenderer',['jquery.sap.global'],function(q){"use strict";var Q={};Q.render=function(r,o){var c=o.getNavContainer();r.write("<div");r.addClass("sapMQuickViewCard");if(!o.getShowVerticalScrollBar()){r.addClass("sapMQuickViewCardNoScroll");}r.writeControlData(o);r.writeClasses();r.write(">");r.renderControl(c);r.write("</div>");};return Q;},true);
sap.ui.predefine('sap/m/QuickViewGroup',['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var G=E.extend("sap.m.QuickViewGroup",{metadata:{library:"sap.m",properties:{visible:{type:"boolean",group:"Appearance",defaultValue:true},heading:{type:"string",group:"Misc",defaultValue:""}},defaultAggregation:"elements",aggregations:{elements:{type:"sap.m.QuickViewGroupElement",multiple:true,singularName:"element",bindable:"bindable"}}}});["setModel","bindAggregation","setAggregation","insertAggregation","addAggregation","removeAggregation","removeAllAggregation","destroyAggregation"].forEach(function(f){G.prototype["_"+f+"Old"]=G.prototype[f];G.prototype[f]=function(){var r=G.prototype["_"+f+"Old"].apply(this,arguments);var p=this.getParent();if(p){p._updatePage();}if(["removeAggregation","removeAllAggregation"].indexOf(f)!==-1){return r;}return this;};});G.prototype.setProperty=function(){E.prototype.setProperty.apply(this,arguments);var p=this.getParent();if(p){p._updatePage();}};return G;},true);
sap.ui.predefine('sap/m/QuickViewPageRenderer',['jquery.sap.global'],function(q){"use strict";var Q={};Q.render=function(r,o){var p=o.getPageContent();r.write("<div");r.addClass("sapMQuickViewPage");r.writeControlData(o);r.writeClasses();r.write(">");if(p.header){r.renderControl(p.header);}r.renderControl(p.form);r.write("</div>");};return Q;},true);
sap.ui.predefine('sap/m/QuickViewRenderer',['jquery.sap.global'],function(q){"use strict";var Q={};Q.render=function(r,c){};return Q;},true);
sap.ui.predefine('sap/m/RadioButton.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},rename:{changeType:"rename",domRef:function(c){return c.$().find(".sapMRbBLabel")[0];}},reveal:{changeType:"unhideControl"}},name:{singular:"RADIOBUTTON_NAME",plural:"RADIOBUTTON_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/RadioButton',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','./RadioButtonGroup'],function(q,l,C,E,R){"use strict";var a=C.extend("sap.m.RadioButton",{metadata:{library:"sap.m",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},selected:{type:"boolean",group:"Data",defaultValue:false},groupName:{type:"string",group:"Behavior",defaultValue:'sapMRbDefaultGroup'},text:{type:"string",group:"Appearance",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:''},useEntireWidth:{type:"boolean",group:"Appearance",defaultValue:false},activeHandling:{type:"boolean",group:"Appearance",defaultValue:true},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:sap.ui.core.ValueState.None},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:sap.ui.core.TextAlign.Begin}},events:{select:{parameters:{selected:{type:"boolean"}}}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designTime:true}});E.call(a.prototype);a.prototype._groupNames={};var K={HOME:"first",END:"last",NEXT:"next",PREV:"prev"};a.prototype.ontap=function(e){if(!this.getEnabled()||!this.getEditable()){return;}var p=this.getParent();if(p instanceof R&&(!p.getEnabled()||!p.getEditable())){return;}e&&e.setMarked();this.applyFocusInfo();if(!this.getSelected()){this.setSelected(true);var t=this;setTimeout(function(){t.fireSelect({selected:true});},0);}};a.prototype.ontouchstart=function(e){e.originalEvent._sapui_handledByControl=true;if(this.getEnabled()&&this.getActiveHandling()){this.$().toggleClass("sapMRbBTouched",true);}};a.prototype.ontouchend=function(e){this.$().toggleClass("sapMRbBTouched",false);};a.prototype.onsapnext=function(e){this._keyboardHandler(K.NEXT,true);e.setMarked();return this;};a.prototype.onsapnextmodifiers=function(e){this._keyboardHandler(K.NEXT,!e.ctrlKey);e.setMarked();return this;};a.prototype.onsapprevious=function(e){this._keyboardHandler(K.PREV,true);e.setMarked();return this;};a.prototype.onsappreviousmodifiers=function(e){this._keyboardHandler(K.PREV,!e.ctrlKey);e.setMarked();return this;};a.prototype.onsaphome=function(e){this._keyboardHandler(K.HOME,true);e.setMarked();return this;};a.prototype.onsaphomemodifiers=function(e){this._keyboardHandler(K.HOME,!e.ctrlKey);e.setMarked();return this;};a.prototype.onsapend=function(e){this._keyboardHandler(K.END,true);e.setMarked();return this;};a.prototype.onsapendmodifiers=function(e){this._keyboardHandler(K.END,!e.ctrlKey);e.setMarked();return this;};a.prototype._keyboardHandler=function(p,s){if(this.getParent()instanceof sap.m.RadioButtonGroup){return;}var n=this._getNextFocusItem(p);n.focus();s&&n.setSelected(true);};a.prototype._getNextFocusItem=function(n){var v=this._groupNames[this.getGroupName()].filter(function(r){return(r.getDomRef()&&r.getEnabled());});var b=v.indexOf(this),i=b,V=v.length;switch(n){case K.NEXT:i=b===V-1?b:b+1;break;case K.PREV:i=b===0?0:i-1;break;case K.HOME:i=0;break;case K.END:i=V-1;break;}return v[i]||this;};a.prototype.onsapselect=function(e){e.preventDefault();this.ontap(e);};a.prototype.setEnabled=function(e){this.setProperty("enabled",e,false);return this;};a.prototype.setSelected=function(s){var c,S=this.getSelected(),g=this.getGroupName(),b=this._groupNames[g],L=b&&b.length;this.setProperty("selected",s,true);this._changeGroupName(this.getGroupName());if(!!s&&g&&g!==""){for(var i=0;i<L;i++){c=b[i];if(c instanceof a&&c!==this&&c.getSelected()){c.fireSelect({selected:false});c.setSelected(false);}}}if((S!==!!s)&&this.getDomRef()){this.$().toggleClass("sapMRbSel",s);if(s){this.getDomRef().setAttribute("aria-checked","true");this.getDomRef("RB").checked=true;this.getDomRef("RB").setAttribute("checked","checked");}else{this.getDomRef().removeAttribute("aria-checked");this.getDomRef("RB").checked=false;this.getDomRef("RB").removeAttribute("checked");}}return this;};a.prototype.setText=function(t){this.setProperty("text",t,true);if(this._oLabel){this._oLabel.setText(this.getText());}else{this._createLabel("text",this.getText());}this.addStyleClass("sapMRbHasLabel");return this;};a.prototype._setWidth=function(u){if(!u){this._setLableWidth();}else{this._setLableWidth("auto");}};a.prototype._setLableWidth=function(w){w=w||this.getWidth();if(this._oLabel){this._oLabel.setWidth(w);}else{this._createLabel("width",w);}};a.prototype.setTextDirection=function(d){this.setProperty("textDirection",d,true);if(this._oLabel){this._oLabel.setTextDirection(this.getTextDirection());}else{this._createLabel("textDirection",this.getTextDirection());}return this;};a.prototype.setGroupName=function(g){this._changeGroupName(g,this.getGroupName());return this.setProperty("groupName",g,true);};a.prototype.onBeforeRendering=function(){this._setWidth(this.getUseEntireWidth());return this._changeGroupName(this.getGroupName());};a.prototype.exit=function(){var g=this.getGroupName(),c=this._groupNames[g],G=c&&c.indexOf(this);this._iTabIndex=null;if(this._oLabel){this._oLabel.destroy();}if(G>=-1){c.splice(G,1);}};a.prototype._createLabel=function(p,v){this._oLabel=new sap.m.Label(this.getId()+"-label").addStyleClass("sapMRbBLabel").setParent(this,null,true);this._oLabel.setProperty(p,v,false);};a.prototype.setTabIndex=function(t){var f=this.getFocusDomRef();this._iTabIndex=t;if(f){f.setAttribute("tabindex",t);}return this;};a.prototype.setTextAlign=function(A){this.setProperty("textAlign",A,true);if(this._oLabel){this._oLabel.setTextAlign(this.getTextAlign());}else{this._createLabel("textAlign",this.getTextAlign());}return this;};a.prototype._changeGroupName=function(n,o){var N=this._groupNames[n],O=this._groupNames[o];if(O&&O.indexOf(this)!==-1){O.splice(O.indexOf(this),1);}if(!N){N=this._groupNames[n]=[];}if(N.indexOf(this)===-1){N.push(this);}};return a;},true);
sap.ui.predefine('sap/m/RadioButtonGroup',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/delegate/ItemNavigation'],function(q,l,C,I){"use strict";var R=C.extend("sap.m.RadioButtonGroup",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},columns:{type:"int",group:"Appearance",defaultValue:1},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:sap.ui.core.ValueState.None},selectedIndex:{type:"int",group:"Data",defaultValue:0},enabled:{type:"boolean",group:"Behavior",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit}},defaultAggregation:"buttons",aggregations:{buttons:{type:"sap.m.RadioButton",multiple:true,singularName:"button",bindable:"bindable"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{select:{parameters:{selectedIndex:{type:"int"}}}}}});R.prototype.exit=function(){this.destroyButtons();if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}};R.prototype.onBeforeRendering=function(){if(this.getSelectedIndex()>this.getButtons().length){q.sap.log.warning("Invalid index, set to 0");this.setSelectedIndex(0);}};R.prototype.onAfterRendering=function(){this._initItemNavigation();var v;if(this.getVisible()){v=this.aRBs.filter(function(b){return b.getVisible();});}else{v=[];}for(var i=0;i<v.length;i++){var r=v[i].getDomRef();r.setAttribute("aria-posinset",i+1);r.setAttribute("aria-setsize",v.length);}};R.prototype._initItemNavigation=function(){var d=[];var h=false;var r=this.getEnabled();for(var i=0;i<this.aRBs.length;i++){d.push(this.aRBs[i].getDomRef());h=h||this.aRBs[i].getEnabled();}if(!h||!r){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}return;}if(!this._oItemNavigation){this._oItemNavigation=new I();this._oItemNavigation.attachEvent(I.Events.AfterFocus,this._handleAfterFocus,this);this.addDelegate(this._oItemNavigation);}this._oItemNavigation.setRootDomRef(this.getDomRef());this._oItemNavigation.setItemDomRefs(d);this._oItemNavigation.setCycling(true);this._oItemNavigation.setColumns(this.getColumns());this._oItemNavigation.setSelectedIndex(this.getSelectedIndex());this._oItemNavigation.setFocusedIndex(this.getSelectedIndex());};R.prototype.setSelectedIndex=function(s){var i=this.getSelectedIndex();var h=document.activeElement&&document.activeElement.parentNode&&document.activeElement.parentNode.parentNode===this.getDomRef();var a=!!(this.aRBs&&this.aRBs[s]);if(s<-1){q.sap.log.warning("Invalid index, will not be changed");return this;}this.setProperty("selectedIndex",s,true);if(!isNaN(i)&&this.aRBs&&this.aRBs[i]){this.aRBs[i].setSelected(false);}if(this.aRBs&&this.aRBs[s]){this.aRBs[s].setSelected(true);}if(this._oItemNavigation){this._oItemNavigation.setSelectedIndex(s);this._oItemNavigation.setFocusedIndex(s);}if(a&&h){this.aRBs[s].getDomRef().focus();}return this;};R.prototype.setSelectedButton=function(s){var b=this.getButtons();if(s){if(b){for(var i=0;i<b.length;i++){if(s.getId()==b[i].getId()){this.setSelectedIndex(i);break;}}}}else{this.setSelectedIndex(-1);}return this;};R.prototype.getSelectedButton=function(){return this.getButtons()[this.getSelectedIndex()];};R.prototype.addButton=function(b){if(!this._bUpdateButtons&&this.getSelectedIndex()===undefined){this.setSelectedIndex(0);}if(!this.aRBs){this.aRBs=[];}var i=this.aRBs.length;this.aRBs[i]=this._createRadioButton(b,i);this.addAggregation("buttons",this.aRBs[i]);return this;};R.prototype.insertButton=function(b,a){if(!this.aRBs){this.aRBs=[];}var L=this.aRBs.length;if(!this._bUpdateButtons){if(this.getSelectedIndex()===undefined||L==0){this.setSelectedIndex(0);}else if(this.getSelectedIndex()>=a){this.setProperty("selectedIndex",this.getSelectedIndex()+1,true);}}if(a>=L){this.aRBs[a]=this._createRadioButton(b,a);}else{for(var i=(L);i>a;i--){this.aRBs[i]=this.aRBs[i-1];if((i-1)==a){this.aRBs[i-1]=this._createRadioButton(b,a);}}}this.insertAggregation("buttons",b,a);return this;};R.prototype._createRadioButton=function(b,i){if(this.iIDCount==undefined){this.iIDCount=0;}else{this.iIDCount++;}b.setValueState(this.getValueState());b.setGroupName(this.getId());if(i==this.getSelectedIndex()){b.setSelected(true);}b.attachEvent("select",this._handleRBSelect,this);return b;};R.prototype.removeButton=function(e){var i=e;if(typeof(e)=="string"){e=sap.ui.getCore().byId(e);}if(typeof(e)=="object"){i=this.indexOfButton(e);}var b=this.removeAggregation("buttons",i);if(!this.aRBs){this.aRBs=[];}if(!this.aRBs[i]){return null;}this.aRBs[i].destroy();this.aRBs.splice(i,1);if(!this._bUpdateButtons){if(this.aRBs.length==0){this.setSelectedIndex(-1);}else if(this.getSelectedIndex()==i){this.setSelectedIndex(0);}else{if(this.getSelectedIndex()>i){this.setProperty("selectedIndex",this.getSelectedIndex()-1,true);}}}return b;};R.prototype.removeAllButtons=function(){var b=this.removeAllAggregation("buttons");if(!this._bUpdateButtons){this.setSelectedIndex(-1);}if(this.aRBs){while(this.aRBs.length>0){this.aRBs[0].destroy();this.aRBs.splice(0,1);}return b;}else{return null;}};R.prototype.destroyButtons=function(){this.destroyAggregation("buttons");if(!this._bUpdateButtons){this.setSelectedIndex(-1);}if(this.aRBs){while(this.aRBs.length>0){this.aRBs[0].destroy();this.aRBs.splice(0,1);}}return this;};R.prototype.updateButtons=function(){this._bUpdateButtons=true;this.updateAggregation("buttons");this._bUpdateButtons=undefined;};R.prototype.clone=function(){var b=this.getButtons();var i=0;for(i=0;i<b.length;i++){b[i].detachEvent("select",this._handleRBSelect,this);}var c=C.prototype.clone.apply(this,arguments);for(i=0;i<b.length;i++){b[i].attachEvent("select",this._handleRBSelect,this);}return c;};R.prototype._handleRBSelect=function(c){for(var i=0;i<this.aRBs.length;i++){if(this.aRBs[i].getId()==c.getParameter("id")&&c.getParameter("selected")){this.setSelectedIndex(i);this.fireSelect({selectedIndex:i});break;}}};R.prototype.setValueState=function(v){this.setProperty("valueState",v,false);if(this.aRBs){for(var i=0;i<this.aRBs.length;i++){this.aRBs[i].setValueState(v);}}return this;};R.prototype._handleAfterFocus=function(c){var i=c.getParameter("index");var e=c.getParameter("event");if(e.keyCode===undefined){return;}if(i!=this.getSelectedIndex()&&!(e.ctrlKey||e.metaKey)&&this.aRBs[i].getEditable()&&this.aRBs[i].getEnabled()&&this.getEditable()&&this.getEnabled()){this.setSelectedIndex(i);this.fireSelect({selectedIndex:i});}};return R;},true);
sap.ui.predefine('sap/m/RadioButtonGroupRenderer',[],function(){"use strict";var R={};R.render=function(r,o){var a=r;if(!o.aRBs){return;}var v=o.aRBs.filter(function(b){return b.getVisible();});var C=o.getColumns();var s=o.getTextDirection();var g=sap.ui.getCore().getConfiguration().getRTL();a.write("<div");a.writeControlData(o);a.addClass("sapMRbG");if(!o.getEditable()){a.addClass("sapMRbGRo");}if(C>1){if(C==v.length){a.addClass("sapMRbG1Row");}else{a.addClass("sapMRbGTab");}}if(o.getWidth()&&o.getWidth()!=""){a.addStyle("width",o.getWidth());}if(o.getTooltip_AsString()){a.writeAttributeEscaped("title",o.getTooltip_AsString());}if(!g&&s!=sap.ui.core.TextDirection.Inherit){a.writeAttribute("dir",s.toLowerCase());}a.writeAccessibilityState(o,{role:"radiogroup"});a.writeClasses();a.writeStyles();a.write(">");for(var c=0;c<C;c++){if(C>1&&C!=v.length){a.write("<div");a.addClass("sapMRbGCol");a.writeClasses();a.write(">");}for(var i=c;i<v.length;i=i+C){a.renderControl(v[i]);}if(C>1&&C!=v.length){a.write("</div>");}}if(C>1&&C!=v.length){a.write('<div class="sapMRbGDummy"> </div>');}a.write("</div>");};return R;},true);
sap.ui.predefine('sap/m/RadioButtonRenderer',['jquery.sap.global','sap/ui/core/ValueStateSupport'],function(q,V){"use strict";var R={};R.render=function(r,o){var i=o.getId();var e=o.getEnabled();var E=o.getEditable();var b=!e||!E;var I=sap.ui.core.ValueState.Error==o.getValueState();var a=sap.ui.core.ValueState.Warning==o.getValueState();var u=o.getUseEntireWidth();r.addClass("sapMRb");r.write("<div");r.writeControlData(o);if(u){r.addStyle("width",o.getWidth());r.writeStyles();}var t=V.enrichTooltip(o,o.getTooltip_AsString());if(t){r.writeAttributeEscaped("title",t);}r.writeAccessibilityState(o,{role:"radio",selected:null,checked:o.getSelected()===true?true:undefined,disabled:!o.getEditable()?true:undefined,labelledby:{value:i+"-label",append:true},describedby:{value:(t?i+"-Descr":undefined),append:true}});if(o.getSelected()){r.addClass("sapMRbSel");}if(!e){r.addClass("sapMRbDis");}if(!E){r.addClass("sapMRbRo");}if(I){r.addClass("sapMRbErr");}if(a){r.addClass("sapMRbWarn");}r.writeClasses();if(e){r.writeAttribute("tabindex",o.hasOwnProperty("_iTabIndex")?o._iTabIndex:0);}r.write(">");r.write("<div class='sapMRbB'");r.write(">");r.write("<div");r.addClass("sapMRbBOut");r.writeAttribute("id",i+"-Button");if(!b&&sap.ui.Device.system.desktop){r.addClass("sapMRbHoverable");}r.writeClasses();r.write(">");r.write("<div");r.addClass("sapMRbBInn");r.writeClasses();r.write(">");r.write("<input type='radio' tabindex='-1'");r.writeAttribute("id",i+"-RB");r.writeAttributeEscaped("name",o.getGroupName());if(o.getSelected()){r.writeAttribute("checked","checked");}if(b){r.writeAttribute("readonly","readonly");r.writeAttribute("disabled","disabled");}r.write(" />");r.write("</div></div>");r.write("</div>");r.renderControl(o._oLabel);if(t&&sap.ui.getCore().getConfiguration().getAccessibility()){r.write("<span id=\""+i+"-Descr\" style=\"display: none;\">");r.writeEscaped(t);r.write("</span>");}r.write("</div>");};return R;},true);
sap.ui.predefine('sap/m/RangeSlider',["jquery.sap.global","./Slider","./Input","sap/ui/core/InvisibleText"],function(q,S,I,a){"use strict";var R=S.extend("sap.m.RangeSlider",{metadata:{library:"sap.m",properties:{value2:{type:"float",group:"Data",defaultValue:100},range:{type:"float[]",group:"Data",defaultValue:[0,100]}}}});var _={RANGE_MOVEMENT_THRESHOLD:32,CHARACTER_WIDTH_PX:8,INPUT_STATE_NONE:"None",INPUT_STATE_ERROR:"Error"};R.prototype.init=function(){var s,e;S.prototype.init.call(this,arguments);this._bRTL=sap.ui.getCore().getConfiguration().getRTL();this._aInitialFocusRange=this.getRange();this._iLongestRangeTextWidth=0;this._fTooltipHalfWidthPercent=0;this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.m');this._ariaUpdateDelay=[];s=new a({text:this._oResourceBundle.getText("RANGE_SLIDER_LEFT_HANDLE")});e=new a({text:this._oResourceBundle.getText("RANGE_SLIDER_RIGHT_HANDLE")});this._mHandleTooltip={start:{handle:null,tooltip:null,label:s},end:{handle:null,tooltip:null,label:e}};};R.prototype.exit=function(){this._oResourceBundle=null;this._aInitialFocusRange=null;if(this._oRangeLabel){this._oRangeLabel.destroy();}this._oRangeLabel=null;if(this.getInputsAsTooltips()){if(this._mHandleTooltip.start.tooltip){this._mHandleTooltip.start.tooltip.destroy();}if(this._mHandleTooltip.end.tooltip){this._mHandleTooltip.end.tooltip.destroy();}}if(this._mHandleTooltip.start.label){this._mHandleTooltip.start.label.destroy();}if(this._mHandleTooltip.end.label){this._mHandleTooltip.end.label.destroy();}this._mHandleTooltip.start.handle=null;this._mHandleTooltip.start.tooltip=null;this._mHandleTooltip.start.label=null;this._mHandleTooltip.end.handle=null;this._mHandleTooltip.end.tooltip=null;this._mHandleTooltip.end.label=null;this._ariaUpdateDelay=null;this._iDecimalPrecision=null;};R.prototype.onBeforeRendering=function(){var A=[Math.abs(this.getMin()),Math.abs(this.getMax())],r=A[0]>A[1]?0:1,i=!!this.getInputsAsTooltips();if(!this._oRangeLabel){this._oRangeLabel=new a({text:this._oResourceBundle.getText("RANGE_SLIDER_RANGE_HANDLE")});}this._validateProperties();this._iLongestRangeTextWidth=((A[r].toString()).length+this.getDecimalPrecisionOfNumber(this.getStep())+1)*_.CHARACTER_WIDTH_PX;if(!this._mHandleTooltip.start.tooltip){this._mHandleTooltip.start.tooltip=i?this._createInputField("LeftTooltip",this._mHandleTooltip.start.label):null;}if(!this._mHandleTooltip.end.tooltip){this._mHandleTooltip.end.tooltip=i?this._createInputField("RightTooltip",this._mHandleTooltip.end.label):null;}this._iDecimalPrecision=this.getDecimalPrecisionOfNumber(this.getStep());if(this.getEnableTickmarks()&&!this.getAggregation("scale")){this.setAggregation("scale",new sap.m.ResponsiveScale());}};R.prototype.onAfterRendering=function(){S.prototype.onAfterRendering.apply(this,arguments);var r=this.getRange(),m=this.getMin(),M=this.getMax(),b=r.reduce(function(c,v){return c||v<m||v>M;});this._mHandleTooltip.start.handle=this.getDomRef("handle1");this._mHandleTooltip.end.handle=this.getDomRef("handle2");if(!this.getInputsAsTooltips()){this._mHandleTooltip.start.tooltip=this.$("LeftTooltip");this._mHandleTooltip.end.tooltip=this.$("RightTooltip");}this._recalculateStyles();if(b){q.sap.log.warning("Warning: "+"Property wrong range: ["+r+"] not in the range: ["+m+","+M+"]",this);}this.$("TooltipsContainer").css("min-width",(this._fTooltipHalfWidthPercent*4)+"%");this._updateHandle(this._mHandleTooltip.start.handle,r[0]);this._updateHandle(this._mHandleTooltip.end.handle,r[1]);};R.prototype._recalculateRange=function(){var h,s,e,p,b=this._bRTL?"right":"left";h=[parseFloat(this._mHandleTooltip.start.handle.style[b]),parseFloat(this._mHandleTooltip.end.handle.style[b])];s=Math.min.apply(Math,h)+"%";e=(100-Math.max.apply(Math,h))+"%";p=this.getDomRef("progress");if(this._bRTL){p.style.left=e;p.style.right=s;}else{p.style.left=s;p.style.right=e;}};R.prototype.getClosestHandleDomRef=function(e){var h=this._mHandleTooltip.start.handle,H=this._mHandleTooltip.end.handle,p=Math.abs(e.pageX-h.offsetLeft-this._fSliderPaddingLeft-this._fSliderOffsetLeft),c=Math.abs(e.clientX-H.offsetLeft-this._fSliderPaddingLeft-this._fSliderOffsetLeft);return p>c?H:h;};R.prototype._getIndexOfHandle=function(h){if(h&&h.getAttribute&&h.getAttribute("data-range-val")==="start"){return 0;}else if(h&&h.getAttribute&&h.getAttribute("data-range-val")==="end"){return 1;}else{return-1;}};R.prototype._updateHandle=function(h,v){var t=(this._mHandleTooltip.start.handle===h)?this._mHandleTooltip.start.tooltip:this._mHandleTooltip.end.tooltip,r=this.getRange(),i=this._getIndexOfHandle(h),p=this._getPercentOfValue(v);r[i]=v;this._updateRangePropertyDependencies(r);this._updateHandleDom(h,r,i,v,p);this._updateTooltipContent(t,v);this._adjustTooltipsContainer(p);this._recalculateRange();};R.prototype._updateHandleDom=function(h,r,i,v,p){var m,c=this.getRenderer().CSS_CLASS,f=this.getDomRef("input");if(!!this.getName()){f.setAttribute(h.getAttribute("data-range-val"),r[i]);f.setAttribute("value",this.getValue());}if(this._bRTL){h.style.right=p+"%";}else{h.style.left=p+"%";}if(this.getShowHandleTooltip()){h.title=v;}m=r[0]===r[1];this.$("handle1").toggleClass(c+"HandleOverlap",m);this.$("handle2").toggleClass(c+"HandleOverlap",m);q.sap.clearDelayedCall(this._ariaUpdateDelay[i]);this._ariaUpdateDelay[i]=q.sap.delayedCall(100,this,"_updateHandleAria",[h,v]);};R.prototype._updateHandleAria=function(h,v){var r=this.getRange(),p=this.getDomRef("progress");this._updateHandlesAriaLabels();h.setAttribute("aria-valuenow",v);if(p){p.setAttribute("aria-valuenow",r.join("-"));p.setAttribute("aria-valuetext",this._oResourceBundle.getText('RANGE_SLIDER_RANGE_ANNOUNCEMENT',r));}};R.prototype._updateHandlesAriaLabels=function(){var r=this.getRange(),t=this._mHandleTooltip.start.label;if((r[0]>r[1]&&!this._mHandleTooltip.bAriaHandlesSwapped)||(r[0]<r[1]&&this._mHandleTooltip.bAriaHandlesSwapped)){this._mHandleTooltip.start.label=this._mHandleTooltip.end.label;this._mHandleTooltip.end.label=t;if(this._mHandleTooltip.start.handle){this._mHandleTooltip.start.handle.setAttribute("aria-labelledby",this._mHandleTooltip.start.label.getId());}if(this._mHandleTooltip.end.handle){this._mHandleTooltip.end.handle.setAttribute("aria-labelledby",this._mHandleTooltip.end.label.getId());}this._mHandleTooltip.bAriaHandlesSwapped=!this._mHandleTooltip.bAriaHandlesSwapped;}};R.prototype._updateTooltipContent=function(t,n){var i=this.getInputsAsTooltips(),N=this.toFixed(n,this._iDecimalPrecision);if(!i){t.text(N);}else if(i&&t.getValue()!==N){t.setValueState(_.INPUT_STATE_NONE);t.setValue(N);t.$("inner").attr("value",N);}};R.prototype._swapTooltips=function(r){var t=this._mHandleTooltip.start.tooltip;if((r[0]>=r[1]&&!this._mHandleTooltip.bTooltipsSwapped)||(r[0]<=r[1]&&this._mHandleTooltip.bTooltipsSwapped)){this._mHandleTooltip.start.tooltip=this._mHandleTooltip.end.tooltip;this._mHandleTooltip.end.tooltip=t;this._updateTooltipContent(this._mHandleTooltip.start.tooltip,r[0]);this._updateTooltipContent(this._mHandleTooltip.end.tooltip,r[1]);if(this.getInputsAsTooltips()){this._mHandleTooltip.start.handle.setAttribute("aria-controls",this._mHandleTooltip.start.tooltip.getId());this._mHandleTooltip.end.handle.setAttribute("aria-controls",this._mHandleTooltip.end.tooltip.getId());}this._mHandleTooltip.bTooltipsSwapped=!this._mHandleTooltip.bTooltipsSwapped;}};R.prototype._adjustTooltipsContainer=function(){var t=this.getDomRef("TooltipsContainer"),A=this._bRTL?"right":"left",s=this._bRTL?"left":"right",r=this.getRange(),f=this._getPercentOfValue(r[0]>r[1]?r[1]:r[0]),e=this._getPercentOfValue(r[0]>r[1]?r[0]:r[1]);if(f<=this._fTooltipHalfWidthPercent){t.style[A]=0+"%";}else if(f>=(100-3*this._fTooltipHalfWidthPercent)){t.style[A]=(100-4*this._fTooltipHalfWidthPercent)+"%";}else{t.style[A]=f-this._fTooltipHalfWidthPercent+"%";}if(e>=(100-this._fTooltipHalfWidthPercent)){t.style[s]=0+"%";}else{t.style[s]=(100-e-this._fTooltipHalfWidthPercent)+"%";}this._swapTooltips(r);};R.prototype._handleInputChange=function(i,e){var h,A,t=this._mHandleTooltip.bTooltipsSwapped,n=Number(e.getParameter("value"));if(isNaN(n)||n<this.getMin()||n>this.getMax()){i.setValueState(_.INPUT_STATE_ERROR);return;}n=this._adjustRangeValue(n);i.setValueState(_.INPUT_STATE_NONE);h=this._mHandleTooltip.start.tooltip===i?this._mHandleTooltip.start.handle:this._mHandleTooltip.end.handle;this._updateHandle(h,n);if(t!==this._mHandleTooltip.bTooltipsSwapped){A=this._mHandleTooltip.start.tooltip!==i?this._mHandleTooltip.start.tooltip:this._mHandleTooltip.end.tooltip;A.focus();}this._fireChangeAndLiveChange({range:this.getRange()});};R.prototype._updateDOMAfterSetters=function(v,r,h){var p,H;if(this.getDomRef()){p=this._getPercentOfValue(v);H=h===1?this._mHandleTooltip.end:this._mHandleTooltip.start;this._updateHandleDom(H.handle,r,h,v,p);this._updateTooltipContent(H.tooltip,v);return true;}return false;};R.prototype.setRange=function(r){r=r.map(this._adjustRangeValue,this);this._updateRangePropertyDependencies(r);if(this._updateDOMAfterSetters(r[0],r,0)&&this._updateDOMAfterSetters(r[1],r,1)){this._recalculateRange();}return this;};R.prototype.setValue=function(v){var r=this.getRange();v=this._adjustRangeValue(v);r[0]=v;this._updateRangePropertyDependencies(r);if(this._updateDOMAfterSetters(r[0],r,0)){this._recalculateRange();}return this;};R.prototype.setValue2=function(v){var r=this.getRange();v=this._adjustRangeValue(v);r[1]=v;this._updateRangePropertyDependencies(r);if(this._updateDOMAfterSetters(r[1],r,1)){this._recalculateRange();}return this;};R.prototype._updateRangePropertyDependencies=function(r){var b=Array.isArray(r)?r.slice():[];if(this.getProperty("value")!==b[0]){this.setProperty("value",b[0],true);}if(this.getProperty("value2")!==b[1]){this.setProperty("value2",b[1],true);}this.setProperty("range",b,true);};R.prototype._calculateHandlePosition=function(v){var m=this.getMax(),M=this.getMin(),n;n=((v-this._fSliderPaddingLeft-this._fSliderOffsetLeft)/this._fSliderWidth)*(m-M)+M;if(this._bRTL){n=this._convertValueToRtlMode(n);}return this._adjustRangeValue(n);};R.prototype._adjustRangeValue=function(v){var m=this.getMax(),M=this.getMin(),s=this.getStep(),f;f=Math.abs((v-M)%s);if(f!==0){v=f*2>=s?v+s-f:v-f;}if(v<M){v=M;}else if(v>m){v=m;}return v;};R.prototype.ontouchstart=function(e){var t=e.targetTouches[0],C=this.getRenderer().CSS_CLASS,E="."+C,v,h,r,H,f,F;if(!this.getEnabled()){return;}e.setMarked();this._recalculateStyles();if(["number","text"].indexOf(e.target.type)>-1){return;}v=this._calculateHandlePosition(t.pageX);r=this.getRange();h=[this._mHandleTooltip.start.handle,this._mHandleTooltip.end.handle];H=this._getIndexOfHandle(e.target);f=h.reduce(function(A,o){return Math.abs(A-o.offsetLeft);},0);if(v<Math.min.apply(Math,r)||v>Math.max.apply(Math,r)||f<=_.RANGE_MOVEMENT_THRESHOLD){h=[this.getClosestHandleDomRef(t)];this._updateHandle(h[0],v);}else if(H!==-1){h=[this.getDomRef(H===0?"handle1":"handle2")];}q(document).on("touchend"+E+" touchcancel"+E+" mouseup"+E,this._ontouchend.bind(this,h)).on("touchmove"+E+(e.originalEvent.type!=="touchstart"?" mousemove"+E:""),this._ontouchmove.bind(this,v,this.getRange(),h));h.map(function(o){if(o.className.indexOf(C+"HandlePressed")===-1){o.className+=" "+C+"HandlePressed";}});F=h.length===1?h[0]:this.getDomRef("progress");q.sap.delayedCall(0,F,"focus");};R.prototype._ontouchmove=function(f,b,h,e){var o,r,c,d,p=e.targetTouches?e.targetTouches[0].pageX:e.pageX,m=this.getMax(),M=this.getMin(),g=[],j=[];e.preventDefault();e.setMarked();if(e.isMarked("delayedMouseEvent")||!this.getEnabled()||e.button){return;}o=this._calculateHandlePosition(p)-f;for(var i=0;i<b.length;i++){g[i]=b[i]+o;}j=this._getNormalizedRange(this.getRange(),b,h);r=g.every(function(v,k){return v===j[k];});c=g.every(function(v,k){return(v>M&&v<m);});d=j.indexOf(M)>-1||j.indexOf(m)>-1;if(!r){if((h.length===1)||c||!d){h.map(function(H){this._updateHandle(H,b[this._getIndexOfHandle(H)]+o);},this);}this._adjustTooltipsContainer();j=this._getNormalizedRange(this.getRange(),b,h);}this.setRange(j);};R.prototype._getNormalizedRange=function(r,b,h){var m=this.getMax(),M=this.getMin(),s=Math.abs(b[0]-b[1]),c=[],i,o;for(i=0;i<r.length;i++){c[i]=(r[i]<M?M:r[i]);c[i]=(r[i]>m?m:r[i]);if(h.length===2){o=Math.abs(i-1);c[o]=(c[i]<=M?c[i]+s:c[o]);c[o]=(c[i]>=m?c[i]-s:c[o]);}}return c;};R.prototype._ontouchend=function(h,e){var n=this.getRange(),c=this.getRenderer().CSS_CLASS;e.setMarked();h&&h.map(function(H){H.className=H.className.replace(new RegExp(" ?"+c+"HandlePressed","gi"),"");});q(document).off("."+c);this._recalculateRange();if(this._aInitialFocusRange[0]!==n[0]||this._aInitialFocusRange[1]!==n[1]){this._aInitialFocusRange=Array.prototype.slice.call(n);this.fireChange({range:n});}this._updateTooltipContent(this._mHandleTooltip.start.tooltip,n[0]);this._updateTooltipContent(this._mHandleTooltip.end.tooltip,n[1]);};R.prototype.onfocusin=function(e){var c=this.getRenderer().CSS_CLASS;this.$("TooltipsContainer").addClass(c+"HandleTooltipsShow");if(!this._hasFocus()){this._aInitialFocusRange=this.getRange();}};R.prototype._updateSliderValues=function(o,h){var r=this.getRange(),m=this.getMax(),M=this.getMin(),f=Math.max.apply(null,r),b=Math.min.apply(null,r),i=this._getIndexOfHandle(h),O=o<0?-1:1,H=i>-1?[h]:[this._mHandleTooltip.start.handle,this._mHandleTooltip.end.handle];if(H.length===1){b=f=r[i];}if(f+o>m){o=O*(Math.abs(m)-Math.abs(f));}else if(b+o<M){o=O*(Math.abs(b)-Math.abs(M));}H.map(function(c){this._updateHandle(c,r[this._getIndexOfHandle(c)]+o);},this);};R.prototype.onsapincrease=function(e){if(["number","text"].indexOf(e.target.type)>-1){return;}e.preventDefault();e.setMarked();if(this.getEnabled()){this._updateSliderValues(this.getStep(),e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};R.prototype.onsapplus=R.prototype.onsapincrease;R.prototype.onsapincreasemodifiers=function(e){if(["number","text"].indexOf(e.target.type)>-1){return;}e.preventDefault();e.setMarked();if(this.getEnabled()){this._updateSliderValues(this._getLongStep(),e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};R.prototype.onsappageup=R.prototype.onsapincreasemodifiers;R.prototype.onsapdecrease=function(e){if(["number","text"].indexOf(e.target.type)>-1){return;}e.preventDefault();e.setMarked();if(this.getEnabled()){this._updateSliderValues(-1*this.getStep(),e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};R.prototype.onsapminus=R.prototype.onsapdecrease;R.prototype.onsapdecreasemodifiers=function(e){if(["number","text"].indexOf(e.target.type)>-1){return;}e.preventDefault();e.setMarked();if(this.getEnabled()){this._updateSliderValues(-1*this._getLongStep(),e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};R.prototype.onsappagedown=R.prototype.onsapdecreasemodifiers;R.prototype.onsaphome=function(e){var h=0,d=0;if(["number","text"].indexOf(e.target.type)>-1){return;}e.setMarked();e.preventDefault();if(this.getEnabled()){h=this._getIndexOfHandle(e.target);d=this.getRange()[h]-this.getMin();this._updateSliderValues(d,e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};R.prototype.onsapend=function(e){if(["number","text"].indexOf(e.target.type)>-1){return;}e.setMarked();e.preventDefault();if(this.getEnabled()){this._updateSliderValues(this.getMax(),e.target);this._fireChangeAndLiveChange({range:this.getRange()});}};R.prototype.onsapescape=function(){this.setRange(this._aInitialFocusRange);this._fireChangeAndLiveChange({range:this.getRange()});};return R;},true);
sap.ui.predefine('sap/m/RangeSliderRenderer',["sap/ui/core/Renderer","./SliderRenderer"],function(R,S){"use strict";var a=R.extend(S);a.renderHandles=function(r,c){this.renderHandle(r,c,{id:c.getId()+"-handle1",position:"start"});this.renderHandle(r,c,{id:c.getId()+"-handle2",position:"end"});this.renderTooltips(r,c);r.renderControl(c._mHandleTooltip.start.label);r.renderControl(c._mHandleTooltip.end.label);r.renderControl(c._oRangeLabel);};a.renderTooltips=function(r,c){r.write("<div");r.writeAttribute("id",c.getId()+"-TooltipsContainer");r.addClass(S.CSS_CLASS+"TooltipContainer");r.addStyle("left","0%");r.addStyle("right","0%");r.addStyle("min-width","0%");r.writeClasses();r.writeStyles();r.write(">");this.renderTooltip(r,c,c.getInputsAsTooltips(),"Left");this.renderTooltip(r,c,c.getInputsAsTooltips(),"Right");r.write("</div>");};a.renderTooltip=function(r,c,i,p){if(i){if(p==="Left"){r.renderControl(c._mHandleTooltip.start.tooltip);}else{r.renderControl(c._mHandleTooltip.end.tooltip);}}else{r.write("<span");r.addClass(S.CSS_CLASS+"HandleTooltip");r.addStyle("width",c._iLongestRangeTextWidth+"px");r.writeAttribute("id",c.getId()+"-"+p+"Tooltip");r.writeClasses();r.writeStyles();r.write(">");r.write("</span>");}};a.renderHandle=function(r,c,o){var v,b=c.getRange(),e=c.getEnabled(),d=sap.ui.getCore().getConfiguration().getRTL();r.write("<span");if(o&&(o.id!==undefined)){r.writeAttributeEscaped("id",o.id);}if(o&&(o.position!==undefined)){v=b[o.position==="start"?0:1];r.writeAttribute("data-range-val",o.position);r.writeAttribute("aria-labelledby",c._mHandleTooltip[o.position].label.getId());if(c.getInputsAsTooltips()){r.writeAttribute("aria-controls",c._mHandleTooltip[o.position].tooltip.getId());}}if(c.getShowHandleTooltip()){this.writeHandleTooltip(r,c);}r.addClass(S.CSS_CLASS+"Handle");if(o&&(o.id!==undefined)&&o.id===(c.getId()+"-handle1")){r.addStyle(d?"right":"left",b[0]);}if(o&&(o.id!==undefined)&&o.id===(c.getId()+"-handle2")){r.addStyle(d?"right":"left",b[1]);}this.writeAccessibilityState(r,c,v);r.writeClasses();r.writeStyles();if(e){r.writeAttribute("tabindex","0");}r.write("></span>");};a.writeAccessibilityState=function(r,s,v){r.writeAccessibilityState(s,{role:"slider",orientation:"horizontal",valuemin:s.toFixed(s.getMin()),valuemax:s.toFixed(s.getMax()),valuenow:v});};a.renderStartLabel=function(r,c){r.write("<div");r.addClass(S.CSS_CLASS+"RangeLabel");r.writeClasses();r.write(">");r.write(c.getMin());r.write("</div>");};a.renderEndLabel=function(r,c){r.write("<div");r.addClass(S.CSS_CLASS+"RangeLabel");r.writeClasses();r.write(">");r.write(c.getMax());r.write("</div>");};a.renderLabels=function(r,c){r.write("<div");r.addClass();r.addClass(S.CSS_CLASS+"Labels");r.writeClasses();r.write(">");this.renderStartLabel(r,c);this.renderEndLabel(r,c);r.write("</div>");};a.renderProgressIndicator=function(r,s){var b=s.getRange();r.write("<div");r.writeAttribute("id",s.getId()+"-progress");if(s.getEnabled()){r.writeAttribute("tabindex","0");}this.addProgressIndicatorClass(r,s);r.addStyle("width",s._sProgressValue);r.writeClasses();r.writeStyles();r.writeAccessibilityState(s,{role:"slider",orientation:"horizontal",valuemin:s.toFixed(s.getMin()),valuemax:s.toFixed(s.getMax()),valuenow:b.join("-"),valuetext:s._oResourceBundle.getText('RANGE_SLIDER_RANGE_ANNOUNCEMENT',b),labelledby:s._oRangeLabel.getId()});r.write('></div>');};return a;},true);
sap.ui.predefine('sap/m/RatingIndicator.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},reveal:{changeType:"unhideControl"}},name:{singular:"RATINGINDICATOR_NAME",plural:"RATINGINDICATOR_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/RatingIndicator',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/core/theming/Parameters'],function(q,l,C,I,P){"use strict";var R=C.extend("sap.m.RatingIndicator",{metadata:{library:"sap.m",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},maxValue:{type:"int",group:"Behavior",defaultValue:5},value:{type:"float",group:"Behavior",defaultValue:0,bindable:"bindable"},iconSize:{type:"sap.ui.core.CSSSize",group:"Behavior",defaultValue:null},iconSelected:{type:"sap.ui.core.URI",group:"Behavior",defaultValue:null},iconUnselected:{type:"sap.ui.core.URI",group:"Behavior",defaultValue:null},iconHovered:{type:"sap.ui.core.URI",group:"Behavior",defaultValue:null},visualMode:{type:"sap.m.RatingIndicatorVisualMode",group:"Behavior",defaultValue:sap.m.RatingIndicatorVisualMode.Half}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{value:{type:"int"}}},liveChange:{parameters:{value:{type:"float"}}}},designTime:true}});R.prototype.init=function(){this.allowTextSelection(false);this._iIconCounter=0;this._fHoverValue=0;this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.m');};R.prototype.setValue=function(v){v=this.validateProperty("value",v);if(v<0){return this;}if(isNaN(v)){q.sap.log.warning('Ignored new rating value "'+v+'" because it is NAN');}else if(this.$().length&&(v>this.getMaxValue())){q.sap.log.warning('Ignored new rating value "'+v+'" because it is out  of range (0-'+this.getMaxValue()+')');}else{v=this._roundValueToVisualMode(v);this.setProperty("value",v,true);this._fHoverValue=v;if(this.$().length){this._updateUI(v);}}return this;};R.prototype.setIconSize=function(i){if(this.$().length){this._iPxIconSize=this._toPx(i)||16;}this.setProperty("iconSize",i,false);return this;};R.prototype.onThemeChanged=function(e){this.invalidate();};R.prototype.onBeforeRendering=function(){var v=this.getValue(),m=this.getMaxValue();if(v>m){this.setValue(m);q.sap.log.warning("Set value to maxValue because value is > maxValue ("+v+" > "+m+").");}else if(v<0){this.setValue(0);q.sap.log.warning("Set value to 0 because value is < 0 ("+v+" < 0).");}this._iPxIconSize=this._toPx(this.getIconSize())||16;this._iPxPaddingSize=this._toPx(P.get("sapUiRIIconPadding"+this._getIconSizeLabel(this._iPxIconSize)))||2;};R.prototype.onAfterRendering=function(){this._updateAriaValues();};R.prototype.exit=function(){this._iIconCounter=null;this._fStartValue=null;this._iPxIconSize=null;this._iPxPaddingSize=null;this._fHoverValue=null;this._oResourceBundle=null;};R.prototype._checkCondensedMode=function(r){return q('html').hasClass('sapUiSizeCondensed');};R.prototype._getIconSizeLabel=function(p){switch(true){case(p>=32):return"L";case(this._iPxIconSize>=22):return"M";case(this._iPxIconSize>=16):return"S";case(this._iPxIconSize>=12):return"XS";default:return"M";}};R.prototype._toPx=function(c){var s=Math.round(c),a;if(isNaN(s)){if(RegExp("^(auto|0)$|^[+-]?[0-9].?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)$").test(c)){a=q('<div style="display: none; width: '+c+'; margin: 0; padding:0; height: auto; line-height: 1; font-size: 1; border:0; overflow: hidden">&nbsp;</div>').appendTo(sap.ui.getCore().getStaticAreaRef());s=a.width();a.remove();}else{return false;}}return Math.round(s);};R.prototype._updateUI=function(v,h){var s=this.$("sel"),u=this.$("unsel-wrapper"),H=this.$("hov"),i=this._iPxIconSize,f=this._iPxPaddingSize,a="px",S=this.getMaxValue(),b=v*i+(Math.round(v)-1)*f,w=S*(i+f)-f;this._fHoverValue=v;if(b<0){b=0;}this._updateAriaValues(v);u.width((w-b)+a);if(h){H.width(b+a);s.hide();H.show();}else{s.width(b+a);H.hide();s.show();}q.sap.log.debug("Updated rating UI with value "+v+" and hover mode "+h);};R.prototype._updateAriaValues=function(n){var $=this.$();var v;if(n===undefined){v=this.getValue();}else{v=n;}var m=this.getMaxValue();$.attr("aria-valuenow",v);$.attr("aria-valuemax",m);var V=this._oResourceBundle.getText("RATING_VALUEARIATEXT",[v,m]);$.attr("aria-valuetext",V);};R.prototype._calculateSelectedValue=function(e){var s=-1.0,p=0.0,c=this.$(),f=(c.innerWidth()-c.width())/2,E,r=sap.ui.getCore().getConfiguration().getRTL();if(e.targetTouches){E=e.targetTouches[0];}else{E=e;}if(!E||!E.pageX){E=e;if((!E||!E.pageX)&&e.changedTouches){E=e.changedTouches[0];}}if(!E.pageX){return parseFloat(s);}if(E.pageX<c.offset().left){s=0;}else if((E.pageX-c.offset().left)>c.innerWidth()-f){s=this.getMaxValue();}else{p=(E.pageX-c.offset().left-f)/c.width();s=p*this.getMaxValue();}if(r){s=this.getMaxValue()-s;}return this._roundValueToVisualMode(s,true);};R.prototype._roundValueToVisualMode=function(v,i){if(i){if(v<0.25){v=0;}else if(v<this.getMaxValue()-0.25){v+=0.25;}v=Math.round(v);}else{if(this.getVisualMode()===sap.m.RatingIndicatorVisualMode.Full){v=Math.round(v);}else if(this.getVisualMode()===sap.m.RatingIndicatorVisualMode.Half){v=Math.round(v*2)/2;}}return parseFloat(v);};R.prototype._getIncreasedValue=function(){var m=this.getMaxValue(),v=this.getValue()+this._getValueChangeStep();if(v>m){v=m;}return v;};R.prototype._getDecreasedValue=function(){var v=this.getValue()-this._getValueChangeStep();if(v<0){v=0;}return v;};R.prototype._getValueChangeStep=function(){var v=this.getVisualMode(),s;switch(v){case sap.m.RatingIndicatorVisualMode.Full:s=1;break;case sap.m.RatingIndicatorVisualMode.Half:if(this.getValue()%1===0.5){s=0.5;}else{s=1;}break;default:q.sap.log.warning("VisualMode not supported",v);}return s;};R.prototype.ontouchstart=function(e){if(e.which==2||e.which==3||!this.getEnabled()){return;}e.setMarked();if(!this._touchEndProxy){this._touchEndProxy=q.proxy(this._ontouchend,this);}if(!this._touchMoveProxy){this._touchMoveProxy=q.proxy(this._ontouchmove,this);}q(document).on("touchend.sapMRI touchcancel.sapMRI mouseup.sapMRI",this._touchEndProxy);q(document).on("touchmove.sapMRI mousemove.sapMRI",this._touchMoveProxy);this._fStartValue=this.getValue();var v=this._calculateSelectedValue(e);if(v>=0&&v<=this.getMaxValue()){this._updateUI(v,true);if(this._fStartValue!==v){this.fireLiveChange({value:v});}}};R.prototype._ontouchmove=function(e){if(e.isMarked("delayedMouseEvent")){return;}e.preventDefault();if(this.getEnabled()){var v=this._calculateSelectedValue(e);if(v>=0&&v<=this.getMaxValue()){this._updateUI(v,true);if(this._fStartValue!==v){this.fireLiveChange({value:v});}}}};R.prototype._ontouchend=function(e){if(e.isMarked("delayedMouseEvent")){return;}if(this.getEnabled()){var v=this._calculateSelectedValue(e);if(this.getValue()===1&&v===1){v=0;}this.setProperty("value",v,true);this._updateUI(v,false);if(this._fStartValue!==v){this.fireLiveChange({value:v});this.fireChange({value:v});}q(document).off("touchend.sapMRI touchcancel.sapMRI mouseup.sapMRI",this._touchEndProxy);q(document).off("touchmove.sapMRI mousemove.sapMRI",this._touchMoveProxy);delete this._fStartValue;}};R.prototype.ontouchcancel=R.prototype.ontouchend;R.prototype.onsapincrease=function(e){var v=this._getIncreasedValue();this._handleKeyboardValueChange(e,v);};R.prototype.onsapdecrease=function(e){var v=this._getDecreasedValue();this._handleKeyboardValueChange(e,v);};R.prototype.onsaphome=function(e){var v=0;this._handleKeyboardValueChange(e,v);};R.prototype.onsapend=function(e){var v=this.getMaxValue();this._handleKeyboardValueChange(e,v);};R.prototype.onsapselect=function(e){var v;if(this.getValue()===this.getMaxValue()){v=0;}else{v=this._getIncreasedValue();}this._handleKeyboardValueChange(e,v);};R.prototype.onkeyup=function(e){var m=this.getMaxValue();if(!this.getEnabled()){return false;}switch(e.which){case q.sap.KeyCodes.DIGIT_0:case q.sap.KeyCodes.NUMPAD_0:this.setValue(0);break;case q.sap.KeyCodes.DIGIT_1:case q.sap.KeyCodes.NUMPAD_1:this.setValue(1);break;case q.sap.KeyCodes.DIGIT_2:case q.sap.KeyCodes.NUMPAD_2:this.setValue(Math.min(2,m));break;case q.sap.KeyCodes.DIGIT_3:case q.sap.KeyCodes.NUMPAD_3:this.setValue(Math.min(3,m));break;case q.sap.KeyCodes.DIGIT_4:case q.sap.KeyCodes.NUMPAD_4:this.setValue(Math.min(4,m));break;case q.sap.KeyCodes.DIGIT_5:case q.sap.KeyCodes.NUMPAD_5:this.setValue(Math.min(5,m));break;case q.sap.KeyCodes.DIGIT_6:case q.sap.KeyCodes.NUMPAD_6:this.setValue(Math.min(6,m));break;case q.sap.KeyCodes.DIGIT_7:case q.sap.KeyCodes.NUMPAD_7:this.setValue(Math.min(7,m));break;case q.sap.KeyCodes.DIGIT_8:case q.sap.KeyCodes.NUMPAD_8:this.setValue(Math.min(8,m));break;case q.sap.KeyCodes.DIGIT_9:case q.sap.KeyCodes.NUMPAD_9:this.setValue(Math.min(9,m));break;}};R.prototype._handleKeyboardValueChange=function(e,v){if(!this.getEnabled()){return;}if(v!==this.getValue()){this.setValue(v);this.fireLiveChange({value:v});this.fireChange({value:v});}if(e){e.preventDefault();e.stopPropagation();}};R.prototype.getAccessibilityInfo=function(){var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");return{role:"slider",type:b.getText("ACC_CTR_TYPE_RATING"),description:b.getText("ACC_CTR_STATE_RATING",[this.getValue(),this.getMaxValue()]),focusable:this.getEnabled(),enabled:this.getEnabled()};};return R;},true);
sap.ui.predefine('sap/m/RatingIndicatorRenderer',['jquery.sap.global','sap/ui/core/IconPool'],function(q,I){"use strict";var R={},s='px';R.render=function(r,c){var t=this;this.initSharedState(c);this.renderControlContainer(r,c,function(){t.renderAriaLabel(r,c);t.renderSelectedItems(r,c);t.renderUnselectedItems(r,c);t.renderHoverItems(r,c);t.renderSelectorDiv(r,c);});};R.renderControlContainer=function(r,c,i){r.write("<div");r.writeControlData(c);r.addStyle("width",this._iWidth+"px");r.addStyle("height",this._iHeight+"px");c.getEnabled()?r.writeAttribute("tabindex","0"):r.writeAttribute("tabindex","-1");c.getEnabled()?r.addClass("sapMPointer"):r.addClass("sapMRIDisabled");r.addClass("sapMRI");r.addClass("sapUiRatingIndicator"+c._getIconSizeLabel(this._fIconSize));r.writeStyles();r.writeClasses();this.writeTooltip(r,c);this.writeAccessibility(r,c);r.write(">");i();r.write("</div>");};R.initSharedState=function(c){var r=c._roundValueToVisualMode(c.getValue()),i=c._iPxIconSize,f=c._iPxPaddingSize,S=r*i+(Math.round(r)-1)*f;if(S<0){S=0;}this._bUseGradient=sap.ui.Device.browser.chrome||sap.ui.Device.browser.safari;this._sLabelID=c.getId()+"-ariaLabel";this._iSymbolCount=c.getMaxValue();this._iWidth=this._iSymbolCount*(i+f)-f;this._iHeight=i;this._iSelectedWidth=S;this._fIconSize=i;};R.writeTooltip=function(r,c){var t=c.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}};R.writeAccessibility=function(r,c){r.writeAccessibilityState(c,{"role":"slider","orientation":"horizontal","valuemin":0,"disabled":!c.getEnabled(),"labelledby":{value:this._sLabelID,append:true}});};R.renderAriaLabel=function(r,c){r.write("<label id='"+this._sLabelID+"' class='sapMRIAriaLabel' aria-hidden='true'>"+c._oResourceBundle.getText("RATING_ARIA_NAME")+"</label>");};R.renderSelectedItems=function(r,c){r.write("<div class='sapMRISel");if(this._bUseGradient){r.write(" sapMRIGrd");}r.write("'");r.writeAttribute("id",c.getId()+"-sel");r.writeAttribute("style","width: "+this._iSelectedWidth+s);r.write(">");for(var i=0;i<this._iSymbolCount;i++){this.renderIcon("SELECTED",r,c);}r.write("</div>");};R.renderUnselectedItems=function(r,c){r.write("<div class='sapMRIUnselWrapper'");r.writeAttribute("id",c.getId()+"-unsel-wrapper");r.writeAttribute("style","width: "+(this._iWidth-this._iSelectedWidth)+s);r.write(">");r.write("<div class='sapMRIUnsel");if(this._bUseGradient&&c.getEnabled()){r.write(" sapMRIGrd");}r.write("' id='"+c.getId()+"-unsel'>");for(var i=0;i<this._iSymbolCount;i++){this.renderIcon("UNSELECTED",r,c);}r.write("</div>");r.write("</div>");};R.renderHoverItems=function(r,c){if(c.getEnabled()){r.write("<div class='sapMRIHov' id='"+c.getId()+"-hov'>");for(var i=0;i<this._iSymbolCount;i++){this.renderIcon("HOVERED",r,c);}r.write("</div>");}};R.renderSelectorDiv=function(r,c){r.write("<div class='sapMRISelector' id='"+c.getId()+"-selector'>");r.write("</div>");};R.renderIcon=function(i,r,c){var a=this.getIconURI(i,c),t=this.getIconTag(a),b=sap.ui.core.IconPool.isIconURI(a),d=this._fIconSize+s;r.write("<"+t+" ");r.write("class='sapUiIcon "+this.getIconClass(i)+"' ");var e="";e+="width:"+d+";";e+="height:"+d+";";e+="line-height:"+d+";";e+="font-size:"+d+";";r.writeAttribute("style",e);if(!b){r.writeAttributeEscaped("src",a);}r.write(">");if(b){r.writeEscaped(I.getIconInfo(a).content);}r.write("</"+t+">");};R.getIconClass=function(i){switch(i){case"SELECTED":return"sapMRIIconSel";case"UNSELECTED":return"sapMRIIconUnsel";case"HOVERED":return"sapMRIIconHov";}};R.getIconURI=function(S,c){if(sap.ui.getCore().getConfiguration().getTheme()==="sap_hcb"){if(S=="UNSELECTED"&&c.getEnabled()){return I.getIconURI("unfavorite");}return I.getIconURI('favorite');}switch(S){case"SELECTED":return c.getIconSelected()||I.getIconURI("favorite");case"UNSELECTED":return c.getIconUnselected()||I.getIconURI("favorite");case"HOVERED":return c.getIconHovered()||I.getIconURI("favorite");}};R.getIconTag=function(i){if(sap.ui.core.IconPool.isIconURI(i)){return"span";}return"img";};return R;},true);
sap.ui.predefine('sap/m/ResponsivePopover',['jquery.sap.global','./Dialog','./Popover','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/base/ManagedObject'],function(q,D,P,l,C,I,M){"use strict";var R=C.extend("sap.m.ResponsivePopover",{metadata:{library:"sap.m",properties:{placement:{type:"sap.m.PlacementType",group:"Misc",defaultValue:sap.m.PlacementType.Right},showHeader:{type:"boolean",group:"Misc",defaultValue:true},title:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},modal:{type:"boolean",group:"Misc",defaultValue:null},offsetX:{type:"int",group:"Misc",defaultValue:null},offsetY:{type:"int",group:"Misc",defaultValue:null},showArrow:{type:"boolean",group:"Appearance",defaultValue:true},contentWidth:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},contentHeight:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},horizontalScrolling:{type:"boolean",group:"Misc",defaultValue:true},verticalScrolling:{type:"boolean",group:"Misc",defaultValue:true},showCloseButton:{type:"boolean",group:"Misc",defaultValue:true},resizable:{type:"boolean",group:"Dimension",defaultValue:false}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},customHeader:{type:"sap.m.IBar",multiple:false},subHeader:{type:"sap.m.IBar",multiple:false},beginButton:{type:"sap.m.Button",multiple:false},endButton:{type:"sap.m.Button",multiple:false},_popup:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{initialFocus:{type:"sap.ui.core.Control",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}},events:{beforeOpen:{parameters:{openBy:{type:"sap.ui.core.Control"}}},afterOpen:{parameters:{openBy:{type:"sap.ui.core.Control"}}},beforeClose:{parameters:{openBy:{type:"sap.ui.core.Control"},origin:{type:"sap.m.Button"}}},afterClose:{parameters:{openBy:{type:"sap.ui.core.Control"},origin:{type:"sap.m.Button"}}}}}});R.prototype.init=function(){var t=this;this._bAppendedToUIArea=false;var s={resizable:t.getResizable(),beforeOpen:function(e){t.fireBeforeOpen({openBy:e.getParameter('openBy')});},afterOpen:function(e){t.fireAfterOpen({openBy:e.getParameter('openBy')});},beforeClose:function(e){t.fireBeforeClose({openBy:e.getParameter('openBy'),origin:e.getParameter('origin')});},afterClose:function(e){t.fireAfterClose({openBy:e.getParameter('openBy'),origin:e.getParameter('origin')});}};if(sap.ui.Device.system.phone){this._aNotSupportedProperties=["placement","modal","offsetX","offsetY","showCloseButton"];s.stretch=true;s.type=sap.m.DialogType.Standard;this._oControl=new D(this.getId()+"-dialog",s);}else{this._aNotSupportedProperties=["icon","showCloseButton"];this._oControl=new P(this.getId()+"-popover",s);}this.setAggregation("_popup",this._oControl);this._oControl.addStyleClass("sapMResponsivePopover");this._oDelegate={onBeforeRendering:function(){var S=this.getShowCloseButton(),h=this._oControl._getAnyHeader(),n,p,r;if(!S||!sap.ui.Device.system.phone){this._removeCloseButton(h);return;}if(!this._bContentChanged){return;}this._bContentChanged=false;if(h){this._insertCloseButton(h);}else{n=this._getSingleNavContent();if(!n){return;}p=n.getCurrentPage();r=this._getRealPage(p);if(r&&(h=r._getAnyHeader())){this._insertCloseButton(h);}n.attachEvent("navigate",this._fnOnNavigate,this);}}};this._oPageDelegate={onAfterShow:function(){var r=t._getRealPage(this),h;if(r&&(h=r._getAnyHeader())){t._insertCloseButton(h);}}};this._fnOnNavigate=function(e){var p=e.getParameter("to");if(p){p.addEventDelegate(this._oPageDelegate,p);}};this._oControl.addEventDelegate(this._oDelegate,this);this._oControl._removeChild=function(c,a,S){var p,i;if((a==="content")&&(c instanceof sap.m.NavContainer)){p=c.getPages();for(i=0;i<p.length;i++){p[i].removeEventDelegate(t._oPageDelegate);}c.detachEvent("navigate",t._fnOnNavigate,t);}C.prototype._removeChild.apply(this,arguments);};};R.prototype.openBy=function(p){if(!this._bAppendedToUIArea&&!this.getParent()){var s=sap.ui.getCore().getStaticAreaRef();s=sap.ui.getCore().getUIArea(s);s.addContent(this,true);this._bAppendedToUIArea=true;}if(sap.ui.Device.system.phone){return this._oControl.open();}else{return this._oControl.openBy(p);}};R.prototype.exit=function(){if(this._oCloseButton){this._oCloseButton.destroy();this._oCloseButton=null;}if(this._oControl){this._oControl.removeEventDelegate(this._oDelegate);this._oControl.destroy();this._oControl=null;}};R.prototype._getCloseButton=function(){if(!this._oCloseButton){var t=this;this._oCloseButton=new sap.m.Button(this.getId()+"-closeButton",{icon:I.getIconURI("decline"),press:function(){t._oControl._oCloseTrigger=this;t.close();}});}return this._oCloseButton;};R.prototype.addContent=function(c){this._bContentChanged=true;this.addAggregation("content",c);};R.prototype.clone=function(){var c=C.prototype.clone.apply(this,arguments),a=this.getAggregation('_popup').getContent();for(var i=0;i<a.length;i++){c.addContent(a[i].clone());}return c;};R.prototype._getSingleNavContent=function(){var c=this.getContent();while(c.length===1&&c[0]instanceof sap.ui.core.mvc.View){c=c[0].getContent();}if(c.length===1&&c[0]instanceof sap.m.NavContainer){return c[0];}else{return null;}};R.prototype._getRealPage=function(p){var r=p,c;while(r){if(r instanceof sap.m.Page){return r;}if(r instanceof sap.ui.core.mvc.View){c=r.getContent();if(c.length===1){r=c[0];continue;}}r=null;}return r;};R.prototype._insertCloseButton=function(h){var c=this._getCloseButton(),i;if(h){i=h.getAggregation("contentRight",[]).length;h.insertAggregation("contentRight",c,i);}};R.prototype._removeCloseButton=function(h){var c=this._getCloseButton();if(h){h.removeAggregation("contentRight",c);}};R.prototype._firstLetterUpperCase=function(v){return v.charAt(0).toUpperCase()+v.slice(1);};R.prototype._lastIndexOfUpperCaseLetter=function(v){var i,c;for(i=v.length-1;i>=0;i--){c=v.charAt(i);if(c===c.toUpperCase()){return i;}}return-1;};R.prototype._oldSetProperty=R.prototype.setProperty;R.prototype.setProperty=function(p,v,s){this._oldSetProperty(p,v,true);var S="set"+this._firstLetterUpperCase(p);if(q.inArray(p,this._aNotSupportedProperties)===-1&&S in this._oControl){this._oControl[S](v);}return this;};R.prototype._oldSetModel=R.prototype.setModel;R.prototype.setModel=function(m,n){this._oControl.setModel(m,n);return this._oldSetModel(m,n);};R.prototype._createButtonFooter=function(){if(this._oFooter){return this._oFooter;}this._oFooter=new sap.m.Toolbar(this.getId()+"-footer",{content:[new sap.m.ToolbarSpacer()]});return this._oFooter;};R.prototype._setButton=function(p,b){if(this._oControl instanceof P){var g="get"+this._firstLetterUpperCase(p)+"Button",o=this[g](),f=this._createButtonFooter(),s="_o"+this._firstLetterUpperCase(p)+"Button",i=(p.toLowerCase()==="begin"?0:1),O=(p.toLowerCase()==="begin"?"getEndButton":"getBeginButton");if(o){f.removeContent(o);}if(b){if(!f.getParent()){this._oControl.setFooter(f);}f.insertContent(b,i+1);}else{var a=this[O]();if(!a){f.destroy();this._oFooter=null;}}this[s]=b;return this;}else{var A=p.toLowerCase()+"Button";return this.setAggregation(A,b);}};R.prototype._getButton=function(p){if(this._oControl instanceof P){var s="_o"+this._firstLetterUpperCase(p)+"Button";return this[s];}else{var g="get"+this._firstLetterUpperCase(p)+"Button";return this._oControl[g]();}};R.prototype.setBeginButton=function(b){if(b){b.setType(sap.m.ButtonType.Transparent);}this._oControl.setBeginButton(b);return this._setButton("begin",b);};R.prototype.setEndButton=function(b){if(b){b.setType(sap.m.ButtonType.Transparent);}this._oControl.setEndButton(b);return this._setButton("end",b);};R.prototype.setShowCloseButton=function(s){var h=this._oControl._getAnyHeader();if(s){this._insertCloseButton(h);}else{this._removeCloseButton(h);}this.setProperty("showCloseButton",s,true);return this;};R.prototype.getBeginButton=function(){return this._getButton("begin");};R.prototype.getEndButton=function(){return this._getButton("end");};["bindAggregation","validateAggregation","setAggregation","getAggregation","indexOfAggregation","insertAggregation","addAggregation","removeAggregation","removeAllAggregation","destroyAggregation","setAssociation","getAssociation","addAssociation","removeAssociation","removeAllAssociation"].forEach(function(n){R.prototype[n]=function(){var L=this._lastIndexOfUpperCaseLetter(n),m,r;if(q.type(arguments[0])==="string"){if(L!==-1){m=n.substring(0,L)+this._firstLetterUpperCase(arguments[0]);if(this._oControl&&this._oControl[m]){r=this._oControl[m].apply(this._oControl,Array.prototype.slice.call(arguments,1));return r===this._oControl?this:r;}else{return C.prototype[n].apply(this,arguments);}}}r=this._oControl[n].apply(this._oControl,arguments);return r===this._oControl?this:r;};});["invalidate","close","isOpen","addStyleClass","removeStyleClass","toggleStyleClass","hasStyleClass","getDomRef","setBusy","getBusy","setBusyIndicatorDelay","getBusyIndicatorDelay"].forEach(function(n){R.prototype[n]=function(){if(this._oControl&&this._oControl[n]){var r=this._oControl[n].apply(this._oControl,arguments);return r===this._oControl?this:r;}};});R.prototype._applyContextualSettings=function(){M.prototype._applyContextualSettings.call(this,M._defaultContextualSettings);};return R;},true);
sap.ui.predefine('sap/m/ResponsivePopoverRenderer',['jquery.sap.global'],function(q){"use strict";var R={};R.render=function(r,c){};return R;},true);
sap.ui.predefine('sap/m/ResponsiveScale',['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var S=E.extend("sap.m.ResponsiveScale",{metadata:{interfaces:["sap.m.IScale"],library:"sap.m",properties:{tickmarksBetweenLabels:{type:"int",group:"Appearance",defaultValue:0}}}});S.prototype.calcNumTickmarks=function(s,f,t){var m=Math.floor(s/f);m=t&&(m>t)?this._runStepsOptimization(t,m):m;return Math.floor(m);};S.prototype._runStepsOptimization=function(t,m){var s=m/t;while((t>1)&&(s%1!==0)){t--;s=m/t;}return t;};S.prototype.calcTickmarksDistance=function(t,s,e,f){var a=Math.abs(s-e),m=Math.floor(a/f),i=Math.ceil(m/t);return s+(i*f);};S.prototype.getHiddenTickmarksLabels=function(s,t,o,L){var j,c,h=new Array(t),i=Math.ceil(1/(o/L)),C=function(p){return p<<1;};if(i===1){return h;}i--;i|=i>>1;i|=i>>2;i|=i>>4;i|=i>>8;i|=i>>16;i++;i=i>>1;j=C(i);while(i){c=i;while(c<((t/2)+j)){h[c]=true;h[t-c-1]=true;c+=j;}i=i>>1;j=C(i);}return h;};return S;},true);
sap.ui.predefine('sap/m/ScrollContainer.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},reveal:{changeType:"unhideControl"}},aggregations:{content:{domRef:":sap-domref",actions:{move:"moveControls"}}},name:{singular:"SCROLL_CONTAINER_CONTROL_NAME",plural:"SCROLL_CONTAINER_CONTROL_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/SearchField',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','sap/ui/core/InvisibleText','./Suggest'],function(q,l,C,E,I,a,S){"use strict";var b=C.extend("sap.m.SearchField",{metadata:{library:"sap.m",properties:{value:{type:"string",group:"Data",defaultValue:null,bindable:"bindable"},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},visible:{type:"boolean",group:"Appearance",defaultValue:true},maxLength:{type:"int",group:"Behavior",defaultValue:0},placeholder:{type:"string",group:"Misc",defaultValue:null},showMagnifier:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},showRefreshButton:{type:"boolean",group:"Behavior",defaultValue:false},refreshButtonTooltip:{type:"string",group:"Misc",defaultValue:null},showSearchButton:{type:"boolean",group:"Behavior",defaultValue:true},enableSuggestions:{type:"boolean",group:"Behavior",defaultValue:false},selectOnFocus:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},defaultAggregation:"suggestionItems",aggregations:{suggestionItems:{type:"sap.m.SuggestionItem",multiple:true,singularName:"suggestionItem"}},events:{search:{parameters:{query:{type:"string"},suggestionItem:{type:"sap.m.SuggestionItem"},refreshButtonPressed:{type:"boolean"},clearButtonPressed:{type:"boolean"}}},liveChange:{parameters:{newValue:{type:"string"}}},suggest:{parameters:{suggestValue:{type:"string"}}}}}});E.call(b.prototype);I.insertFontFaceStyle();b.prototype.init=function(){this._inputEvent=sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version<10?"keyup":"input";var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");this.setProperty("placeholder",r.getText("FACETFILTER_SEARCH"),true);this._sAriaF5Label=new sap.ui.core.InvisibleText({text:r.getText("SEARCHFIELD_ARIA_F5")}).toStatic();};b.prototype.getFocusDomRef=function(){return this._inputElement;};b.prototype.getFocusInfo=function(){var f=C.prototype.getFocusInfo.call(this),i=this.getDomRef("I");if(i){q.extend(f,{cursorPos:q(i).cursorPos()});}return f;};b.prototype.applyFocusInfo=function(f){C.prototype.applyFocusInfo.call(this,f);if("cursorPos"in f){this.$("I").cursorPos(f.cursorPos);}return this;};b.prototype.getWidth=function(){return this.getProperty("width")||"100%";};b.prototype._hasPlacehoder=(function(){return"placeholder"in document.createElement("input");}());b.prototype.onBeforeRendering=function(){if(this._inputElement){this.$().find(".sapMSFB").off();this.$().off();q(this._inputElement).off();this._inputElement=null;}};b.prototype.onAfterRendering=function(){this._inputElement=this.getDomRef("I");this._resetElement=this.getDomRef("reset");q(this._inputElement).on(this._inputEvent,this.onInput.bind(this)).on("search",this.onSearch.bind(this)).on("focus",this.onFocus.bind(this)).on("blur",this.onBlur.bind(this));if(sap.ui.Device.system.desktop||sap.ui.Device.system.combi){this.$().on("touchstart mousedown",this.onButtonPress.bind(this));if(sap.ui.Device.browser.firefox){this.$().find(".sapMSFB").on("mouseup mouseout",function(f){q(f.target).removeClass("sapMSFBA");});}}else if(window.PointerEvent){q(this._resetElement).on("touchstart",function(){this._active=document.activeElement;}.bind(this));}};b.prototype.clear=function(O){var v=O&&O.value||"";if(!this._inputElement||this.getValue()===v){return;}this.setValue(v);u(this);this.fireLiveChange({newValue:v});this.fireSearch({query:v,refreshButtonPressed:false,clearButtonPressed:!!(O&&O.clearButton)});};b.prototype.exit=function(){if(this._oSuggest){this._oSuggest.destroy(true);this._oSuggest=null;}if(this._sAriaF5Label){this._sAriaF5Label.destroy();this._sAriaF5Label=null;}};b.prototype.onButtonPress=function(f){if(f.originalEvent.button===2){return;}if(document.activeElement===this._inputElement&&f.target!==this._inputElement){f.preventDefault();}if(sap.ui.Device.browser.firefox){var g=q(f.target);if(g.hasClass("sapMSFB")){g.addClass("sapMSFBA");}}};b.prototype.ontouchend=function(f){if(f.originalEvent.button===2){return;}var g=f.target;if(g.id==this.getId()+"-reset"){c(this);this._bSuggestionSuppressed=true;var h=!this.getValue();this.clear({clearButton:true});var i=document.activeElement;if((sap.ui.Device.system.desktop||h||/(INPUT|TEXTAREA)/i.test(i.tagName)||i===this._resetElement&&this._active===this._inputElement)&&(i!==this._inputElement)){this._inputElement.focus();}}else if(g.id==this.getId()+"-search"){c(this);if(sap.ui.Device.system.desktop&&!this.getShowRefreshButton()&&(document.activeElement!==this._inputElement)){this._inputElement.focus();}this.fireSearch({query:this.getValue(),refreshButtonPressed:!!(this.getShowRefreshButton()&&!this.$().hasClass("sapMFocus")),clearButtonPressed:false});}else{this.onmouseup(f);}};b.prototype.onmouseup=function(f){if(this.getEnabled()&&f.target.tagName=="FORM"){this._inputElement.focus();}};b.prototype.onSearch=function(f){var v=this._inputElement.value;this.setValue(v);this.fireSearch({query:v,refreshButtonPressed:false,clearButtonPressed:false});if(!sap.ui.Device.system.desktop){this._blur();}};b.prototype._blur=function(){var t=this;window.setTimeout(function(){if(t._inputElement){t._inputElement.blur();}},13);};b.prototype.onChange=function(f){this.setValue(this._inputElement.value);};b.prototype.onInput=function(f){var v=this._inputElement.value;if(v!=this.getValue()){this.setValue(v);this.fireLiveChange({newValue:v});if(this.getEnableSuggestions()){this.fireSuggest({suggestValue:v});u(this);}}};b.prototype.onkeydown=function(f){var v;if(f.which===q.sap.KeyCodes.F5||f.which===q.sap.KeyCodes.ENTER){this.$("search").toggleClass("sapMSFBA",true);f.stopPropagation();f.preventDefault();}if(f.which===q.sap.KeyCodes.ESCAPE){if(d(this)){c(this);f.setMarked();}else{v=this.getValue();if(v===this._sOriginalValue){this._sOriginalValue="";}this.clear({value:this._sOriginalValue});if(v!==this.getValue()){f.setMarked();}}f.preventDefault();}};b.prototype.onkeyup=function(f){var g;var h;if(f.which===q.sap.KeyCodes.F5||f.which===q.sap.KeyCodes.ENTER){this.$("search").toggleClass("sapMSFBA",false);if(d(this)){c(this);if((g=this._oSuggest.getSelected())>=0){h=this.getSuggestionItems()[g];this.setValue(h.getSuggestionText());}}this.fireSearch({query:this.getValue(),suggestionItem:h,refreshButtonPressed:this.getShowRefreshButton()&&f.which===q.sap.KeyCodes.F5,clearButtonPressed:false});}};b.prototype.onFocus=function(f){if(sap.ui.Device.browser.internet_explorer&&!document.hasFocus()){return;}this.$().toggleClass("sapMFocus",true);if(this.getShowRefreshButton()){this.$("search").removeAttr("title");}this._sOriginalValue=this.getValue();if(this.getEnableSuggestions()){if(!this._bSuggestionSuppressed){this.fireSuggest({suggestValue:this.getValue()});}else{this._bSuggestionSuppressed=false;}}};b.prototype.onBlur=function(f){var t;this.$().toggleClass("sapMFocus",false);if(this._bSuggestionSuppressed){this._bSuggestionSuppressed=false;}if(this.getShowRefreshButton()){t=this.getRefreshButtonTooltip();if(t){this.$("search").attr("title",t);}}};b.prototype.setValue=function(v){v=v||"";if(this._inputElement){if(this._inputElement.value!==v){this._inputElement.value=v;}var $=this.$();if($.hasClass("sapMSFVal")==!v){$.toggleClass("sapMSFVal",!!v);}}this.setProperty("value",v,true);return this;};b.prototype.onsapshow=function(f){if(this.getEnableSuggestions()){if(d(this)){c(this);}else{this.fireSuggest({suggestValue:this.getValue()});}}};b.prototype.onsaphide=function(f){this.suggest(false);};function s(f,g,i,r){var h;if(d(f)){h=f._oSuggest.setSelected(i,r);if(h>=0){f.setValue(f.getSuggestionItems()[h].getSuggestionText());}g.preventDefault();}}b.prototype.onsapdown=function(f){s(this,f,1,true);};b.prototype.onsapup=function(f){s(this,f,-1,true);};b.prototype.onsaphome=function(f){s(this,f,0,false);};b.prototype.onsapend=function(f){s(this,f,-1,false);};b.prototype.onsappagedown=function(f){s(this,f,10,true);};b.prototype.onsappageup=function(f){s(this,f,-10,true);};b.prototype.getPopupAnchorDomRef=function(){return this.getDomRef("F");};function c(f){f._oSuggest&&f._oSuggest.close();}function o(f){if(f.getEnableSuggestions()){if(!f._oSuggest){f._oSuggest=new S(f);}f._oSuggest.open();}}function d(f){return f._oSuggest&&f._oSuggest.isOpen();}b.prototype.suggest=function(f){if(this.getEnableSuggestions()){f=f===undefined||!!f;if(f&&(this.getSuggestionItems().length||sap.ui.Device.system.phone)){o(this);}else{c(this);}}return this;};function u(f){f._oSuggest&&f._oSuggest.update();}var e="suggestionItems";b.prototype.insertSuggestionItem=function(O,i,f){u(this);return C.prototype.insertAggregation.call(this,e,O,i,true);};b.prototype.addSuggestionItem=function(O,f){u(this);return C.prototype.addAggregation.call(this,e,O,true);};b.prototype.removeSuggestionItem=function(O,f){u(this);return C.prototype.removeAggregation.call(this,e,O,true);};b.prototype.removeAllSuggestionItems=function(f){u(this);return C.prototype.removeAllAggregation.call(this,e,true);};return b;},true);
sap.ui.predefine('sap/m/SearchFieldRenderer',['jquery.sap.global'],function(q){"use strict";var S={};S.render=function(r,s){if(!s.getVisible()){return;}var p=s.getPlaceholder(),v=s.getValue(),w=s.getProperty("width"),i=s.getId(),b=s.getShowRefreshButton(),a=s.getShowSearchButton(),A={};r.write("<div");r.writeControlData(s);if(w){r.writeAttribute("style","width:"+w+";");}r.addClass("sapMSF");if(v){r.addClass("sapMSFVal");}if(!s.getEnabled()){r.addClass("sapMSFDisabled");}r.writeClasses();var t=s.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}r.write(">");r.write('<form');r.writeAttribute("id",i+"-F");r.addClass('sapMSFF');if(!a){r.addClass("sapMSFNS");}else if(b){r.addClass('sapMSFReload');}r.writeClasses();r.write('>');if(!s._hasPlacehoder&&p){r.write("<label ");r.writeAttribute("id",i+"-P");r.writeAttribute("for",i+"-I");r.addClass("sapMSFPlaceholder");r.writeClasses();r.write(">");r.writeEscaped(p);r.write("</label>");}r.write('<input');r.writeAttribute("type","search");r.writeAttribute("autocomplete","off");if(sap.ui.Device.browser.safari){r.writeAttribute("autocorrect","off");}r.writeAttribute("id",s.getId()+"-I");r.addClass("sapMSFI");if(sap.ui.Device.os.android&&sap.ui.Device.os.version>=4&&sap.ui.Device.os.version<4.1){r.addClass("sapMSFIA4");}r.writeClasses();if(s.getEnableSuggestions()&&sap.ui.Device.system.phone){r.writeAttribute("readonly","readonly");}if(!s.getEnabled()){r.writeAttribute("disabled","disabled");}if(p){r.writeAttributeEscaped("placeholder",p);}if(s.getMaxLength()){r.writeAttribute("maxLength",s.getMaxLength());}if(v){r.writeAttributeEscaped("value",v);}if(s.getEnabled()&&b&&s._sAriaF5Label){A.describedby={value:s._sAriaF5Label.getId(),append:true};}r.writeAccessibilityState(s,A);r.write(">");if(s.getEnabled()){r.write("<div");r.writeAttribute("id",s.getId()+"-reset");r.addClass("sapMSFR");r.addClass("sapMSFB");if(sap.ui.Device.browser.firefox){r.addClass("sapMSFBF");}if(!a){r.addClass("sapMSFNS");}r.writeClasses();r.write("></div>");if(a){r.write("<div");r.writeAttribute("id",s.getId()+"-search");r.addClass("sapMSFS");r.addClass("sapMSFB");if(sap.ui.Device.browser.firefox){r.addClass("sapMSFBF");}r.writeClasses();if(s.getRefreshButtonTooltip()){r.writeAttributeEscaped("title",s.getRefreshButtonTooltip());}r.write("></div>");}}r.write("</form>");r.write("</div>");};return S;},true);
sap.ui.predefine('sap/m/SegmentedButton',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/delegate/ItemNavigation','sap/ui/core/ResizeHandler'],function(q,l,C,E,I,R){"use strict";var S=C.extend("sap.m.SegmentedButton",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},selectedKey:{type:"string",group:"Data",defaultValue:"",bindable:"bindable"}},defaultAggregation:"buttons",aggregations:{buttons:{type:"sap.m.Button",multiple:true,singularName:"button"},items:{type:"sap.m.SegmentedButtonItem",multiple:true,singularName:"item",bindable:"bindable"},_select:{type:"sap.m.Select",multiple:false,visibility:"hidden"}},associations:{selectedButton:{type:"sap.m.Button",multiple:false},ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{select:{parameters:{button:{type:"sap.m.Button"},id:{type:"string"},key:{type:"string"}}}}}});E.call(S.prototype);S.prototype.init=function(){this._aWidths=[];this._oItemNavigation=new I();this._oItemNavigation.setCycling(false);this.addDelegate(this._oItemNavigation);this.removeButton=function(b){S.prototype.removeButton.call(this,b);this.setSelectedButton(this.getButtons()[0]);};};S.prototype.onBeforeRendering=function(){var b=this._getVisibleButtons();this._bCustomButtonWidth=b.some(function(B){return B.getWidth();});if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}this.setSelectedKey(this.getProperty("selectedKey"));if(!this.getSelectedButton()){this._selectDefaultButton();}};S.prototype.onAfterRendering=function(){var b=this._getVisibleButtons(),p;if(!this._sResizeListenerId){p=this.getDomRef().parentNode;if(p){this._sResizeListenerId=R.register(p,this._handleContainerResize.bind(this));}}this._setItemNavigation();this._aWidths=this._getRenderedButtonWidths(b);this._updateWidth();};S.prototype._handleContainerResize=function(){var b=this._getVisibleButtons();this._clearAutoWidthAppliedToControl();this._aWidths=this._getRenderedButtonWidths(b);this._updateWidth();};S.prototype._clearAutoWidthAppliedToControl=function(){var b=this._getVisibleButtons(),B=b.length,o,i=0;if(!this.getWidth()){this.$().css("width","");}while(i<B){o=b[i];if(!o.getWidth()){o.$().css("width","");}i++;}};S.prototype._getRenderedButtonWidths=function(b){return b.map(function(B){return B.$().outerWidth();});};S.prototype._getButtonWidth=function(b){var B=b.length,w,n=0,s=0,a=0,p,P,i=0;if(this._bCustomButtonWidth){while(i<B){w=b[i].getWidth();if(w){if(w.indexOf("%")!==-1){s+=parseInt(w.slice(0,-1),10);}else{a+=parseInt(w.slice(0,-2),10);}}else{n++;}i++;}if(n===0){return false;}p=(100-s)/n;P=(a/n);if(p<0){p=0;}if(P<0){P=0;}if(P>0){return"calc("+p+"% - "+P+"px)";}else{return p+"%";}}else{return(100/B)+"%";}};S.prototype._updateWidth=function(){if(this.$().length===0||this.hasStyleClass("sapMSegmentedButtonNoAutoWidth")){return;}var c=this.getWidth(),b=this._getVisibleButtons(),B=b.length,m=(this._aWidths.length>0)?Math.max.apply(Math,this._aWidths):0,a=(100/B),p=this.$().parent().innerWidth(),w=this._getButtonWidth(b),o,i;if(!c){if((m*B)>p){this.$().css("width","100%");}else if(m>0){this.$().width((m*B)+1);}i=0;while(i<B){o=b[i];o.$().css("width",o.getWidth()?o.getWidth():w);i++;}}else if(c&&!this._bCustomButtonWidth){i=0;while(i<B){b[i].$().css("width",a+"%");i++;}}};S.prototype.exit=function(){if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}this._bCustomButtonWidth=null;this._aWidths=null;};S.prototype._setItemNavigation=function(){var b,d=this.getDomRef();if(d){this._oItemNavigation.setRootDomRef(d);b=this.$().find(".sapMSegBBtn:not(.sapMSegBBtnDis)");this._oItemNavigation.setItemDomRefs(b);this._focusSelectedButton();}};S.prototype.createButton=function(t,u,e,T){var b=new sap.m.Button();if(t!==null){b.setText(t);}if(u!==null){b.setIcon(u);}if(e||e===undefined){b.setEnabled(true);}else{b.setEnabled(false);}if(T){b.setTextDirection(T);}this.addButton(b);return b;};S.prototype._createButtonFromItem=function(i){var b=new sap.m.Button(i.getId()+"-button",{text:i.getText(),icon:i.getIcon(),enabled:i.getEnabled(),textDirection:i.getTextDirection(),width:i.getWidth(),tooltip:i.getTooltip(),visible:i.getVisible(),press:function(){i.firePress();}});i.oButton=b;this.addButton(b);};(function(){S.prototype.addButton=function(b){if(b){p(b,this);this.addAggregation('buttons',b);this._syncSelect();return this;}};S.prototype.insertButton=function(b,i){if(b){p(b,this);this.insertAggregation('buttons',b,i);this._syncSelect();return this;}};function p(b,P){b.attachPress(function(e){P._buttonPressed(e);});b.attachEvent("_change",P._syncSelect,P);b.attachEvent("_change",P._forwardChangeEvent,P);var o=sap.m.Button.prototype.setEnabled;b.setEnabled=function(e){b.$().toggleClass("sapMSegBBtnDis",!e).toggleClass("sapMFocusable",e);o.apply(b,arguments);};b.setVisible=function(v){sap.m.Button.prototype.setVisible.apply(this,arguments);P.invalidate();};}})();S.prototype.updateItems=function(r){var b=this.getButtons(),a,u,i;if(r!==undefined){this.updateAggregation("items");}a=this.getAggregation("items");if(a&&b.length!==0){for(i=0;i<b.length;i++){this.removeButton(b[i]);b[i].destroy();b[i]=null;}u=true;}a=a||[];for(i=0;i<a.length;i++){this._createButtonFromItem(a[i]);}if(u){this._updateWidth();}};S.prototype.getSelectedKey=function(){var b=this.getButtons(),a=this.getItems(),s=this.getSelectedButton(),i=0;if(a.length>0){for(;i<b.length;i++){if(b[i]&&b[i].getId()===s){this.setProperty("selectedKey",a[i].getKey(),true);return a[i].getKey();}}}return"";};S.prototype.setSelectedKey=function(k){var b=this.getButtons(),a=this.getItems(),i=0;if(b.length===0&&a.length>0){this.updateItems();b=this.getButtons();}if(a.length>0&&b.length>0){for(;i<a.length;i++){if(a[i]&&a[i].getKey()===k){this.setSelectedButton(b[i]);break;}}}this.setProperty("selectedKey",k,true);return this;};S.prototype.removeButton=function(b){var r=this.removeAggregation("buttons",b);if(r){delete r.setEnabled;r.detachEvent("_change",this._syncSelect,this);r.detachEvent("_change",this._forwardChangeEvent,this);this._syncSelect();}};S.prototype.removeAllButtons=function(){var b=this.getButtons();if(b){for(var i=0;i<b.length;i++){var B=b[i];if(B){delete B.setEnabled;this.removeAggregation("buttons",B);B.detachEvent("_change",this._syncSelect,this);B.detachEvent("_change",this._forwardChangeEvent,this);}}this._syncSelect();}};S.prototype._buttonPressed=function(e){var b=e.getSource();if(this.getSelectedButton()!==b.getId()){this.getButtons().forEach(function(B){B.$().removeClass("sapMSegBBtnSel");B.$().attr("aria-checked",false);});b.$().addClass("sapMSegBBtnSel");b.$().attr("aria-checked",true);this.setAssociation('selectedButton',b,true);this.setProperty("selectedKey",this.getSelectedKey(),true);this.fireSelect({button:b,id:b.getId(),key:this.getSelectedKey()});}};S.prototype._selectDefaultButton=function(){var b=this._getVisibleButtons();if(b.length>0){this.setAssociation('selectedButton',b[0],true);}};S.prototype.setSelectedButton=function(b){var s=this.getSelectedButton(),o;this.setAssociation("selectedButton",b,true);if(s!==this.getSelectedButton()){if(this.$().length){if(!this.getSelectedButton()){this._selectDefaultButton();}o=sap.ui.getCore().byId(this.getSelectedButton());this.getButtons().forEach(function(B){B.$().removeClass("sapMSegBBtnSel");B.$().attr("aria-checked",false);});if(o){o.$().addClass("sapMSegBBtnSel");o.$().attr("aria-checked",true);}this._focusSelectedButton();}}this._syncSelect();return this;};S.prototype._focusSelectedButton=function(){var b=this.getButtons(),s=this.getSelectedButton(),i=0;for(;i<b.length;i++){if(b[i]&&b[i].getId()===s){this._oItemNavigation.setFocusedIndex(i);break;}}};S.prototype.onsappagedown=function(e){this._oItemNavigation.onsapend(e);};S.prototype.onsappageup=function(e){this._oItemNavigation.onsaphome(e);};S.prototype._lazyLoadSelectForm=function(){var s=this.getAggregation("_select");if(!s){s=new sap.m.Select(this.getId()+"-select");s.attachChange(this._selectChangeHandler,this);s.addStyleClass("sapMSegBSelectWrapper");this.setAggregation("_select",s,true);}};S.prototype._selectChangeHandler=function(e){var s=e.getParameter("selectedItem"),n=parseInt(s.getKey(),10),b=this.getButtons()[n],B=b.getId();b.firePress();this.setSelectedButton(B);this.fireSelect({button:b,id:B,key:n});};S.prototype._forwardChangeEvent=function(){this.fireEvent("_change");};S.prototype._syncSelect=function(){var k=0,s=0,b,o=this.getAggregation("_select");if(!o){return;}o.destroyItems();this._getVisibleButtons().forEach(function(B){b=B.getText();o.addItem(new sap.ui.core.Item({key:k.toString(),text:b?b:B.getTooltip_AsString(),enabled:B.getEnabled()}));if(B.getId()===this.getSelectedButton()){s=k;}k++;},this);o.setSelectedKey(s.toString());};S.prototype._toSelectMode=function(){this._bInOverflow=true;this.addStyleClass("sapMSegBSelectWrapper");this._lazyLoadSelectForm();this._syncSelect();};S.prototype._toNormalMode=function(){delete this._bInOverflow;this.removeStyleClass("sapMSegBSelectWrapper");this.getAggregation("_select").removeAllItems();this.destroyAggregation("_select");};S.prototype._overwriteImageOnload=function(i){var t=this;if(i.onload===sap.m.Image.prototype.onload){i.onload=function(){if(sap.m.Image.prototype.onload){sap.m.Image.prototype.onload.apply(this,arguments);}window.setTimeout(function(){t._updateWidth();},20);};}};S.prototype._getIconAriaLabel=function(i){var o=sap.ui.core.IconPool.getIconInfo(i.getSrc()),r="";if(o&&o.name){r=o.name;}return r;};S.prototype._getVisibleButtons=function(){return this.getButtons().filter(function(b){return b.getVisible();});};return S;},true);
sap.ui.predefine('sap/m/SegmentedButtonItem',['jquery.sap.global','./library','sap/ui/core/Item'],function(q,l,I){"use strict";var S=I.extend("sap.m.SegmentedButtonItem",{metadata:{library:"sap.m",properties:{icon:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null}},events:{press:{}}}});S.prototype.setText=function(v){this.setProperty("text",v,true);if(this.oButton){this.oButton.setText(this.getText());}return this;};S.prototype.setIcon=function(v){this.setProperty("icon",v,true);if(this.oButton){this.oButton.setIcon(this.getIcon());}return this;};S.prototype.setEnabled=function(v){this.setProperty("enabled",v,true);if(this.oButton){this.oButton.setEnabled(this.getEnabled());}return this;};S.prototype.setTextDirection=function(v){this.setProperty("textDirection",v,true);if(this.oButton){this.oButton.setTextDirection(this.getTextDirection());}return this;};S.prototype.setVisible=function(v){this.setProperty("visible",v,true);if(this.oButton){this.oButton.setVisible(v);}return this;};S.prototype.setWidth=function(v){this.setProperty("width",v,true);if(this.oButton){this.oButton.setWidth(this.getWidth());}return this;};S.prototype.setTooltip=function(v){this.setAggregation("tooltip",v,true);if(this.oButton){this.oButton.setTooltip(v);}return this;};return S;},true);
sap.ui.predefine('sap/m/SegmentedButtonRenderer',['jquery.sap.global'],function(q){"use strict";var S={};S.render=function(r,c){var b=c.getButtons(),s=c.getSelectedButton(),B,t,a,d;if(c._bInOverflow){r.write("<div");r.writeControlData(c);r.writeClasses();r.write(">");r.renderControl(c.getAggregation("_select"));r.write("</div>");return;}r.write("<ul");if(S._addAllIconsClass(b)){r.addClass("sapMSegBIcons");}r.addClass("sapMSegB");r.writeClasses();if(c.getWidth()&&c.getWidth()!==''){r.addStyle('width',c.getWidth());}r.writeStyles();r.writeControlData(c);t=c.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}r.writeAccessibilityState(c,{role:"radiogroup"});r.write(">");for(var i=0;i<b.length;i++){B=b[i];r.write("<li");if(B.getVisible()){var e=B.getText(),o=B.getIcon(),I="",f;if(o){f=B._getImage((B.getId()+"-img"),o);if(f instanceof sap.m.Image){c._overwriteImageOnload(f);}else if(!B.getTooltip()){I=c._getIconAriaLabel(f);}}r.writeControlData(B);r.writeAttribute("aria-posinset",i+1);r.writeAttribute("aria-setsize",b.length);r.addClass("sapMSegBBtn");if(B.aCustomStyleClasses!==undefined&&B.aCustomStyleClasses instanceof Array){for(var j=0;j<B.aCustomStyleClasses.length;j++){r.addClass(B.aCustomStyleClasses[j]);}}if(B.getEnabled()){r.addClass("sapMSegBBtnFocusable");}else{r.addClass("sapMSegBBtnDis");}if(s===B.getId()){r.addClass("sapMSegBBtnSel");}if(o&&e!==''){r.addClass("sapMSegBBtnMixed");}r.writeClasses();a=B.getWidth();if(a){r.addStyle('width',a);r.writeStyles();}t=B.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}r.writeAttribute("tabindex",B.getEnabled()?"0":"-1");d=B.getTextDirection();if(d!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",d.toLowerCase());}r.writeAccessibilityState(B,{role:"radio",checked:s===B.getId()});if(f&&I!==""){if(e!==""){I+=" "+e;}else{r.writeAttributeEscaped("title",I);}r.writeAttributeEscaped("aria-label",I);}r.write('>');if(o&&f){r.renderControl(f);}if(e!==''){r.writeEscaped(e,false);}}else{r.writeInvisiblePlaceholderData(B);r.write('>');}r.write("</li>");}r.write("</ul>");};S._addAllIconsClass=function(b){for(var i=0;i<b.length;i++){if(!b[i].getIcon()){return false;}}return true;};return S;},true);
sap.ui.predefine('sap/m/Select.designtime',[],function(){"use strict";return{aggregations:{items:{domRef:":sap-domref"}}};},false);
sap.ui.predefine('sap/m/Select',['jquery.sap.global','./Dialog','./Popover','./SelectList','./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','./Button','./delegate/ValueStateMessage','sap/ui/core/message/MessageMixin'],function(q,D,P,S,l,C,E,I,B,V,M){"use strict";var a=C.extend("sap.m.Select",{metadata:{library:"sap.m",properties:{name:{type:"string",group:"Misc",defaultValue:""},enabled:{type:"boolean",group:"Behavior",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},selectedKey:{type:"string",group:"Data",defaultValue:""},selectedItemId:{type:"string",group:"Misc",defaultValue:""},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},type:{type:"sap.m.SelectType",group:"Appearance",defaultValue:sap.m.SelectType.Default},autoAdjustWidth:{type:"boolean",group:"Appearance",defaultValue:false},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:sap.ui.core.TextAlign.Initial},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:sap.ui.core.ValueState.None},valueStateText:{type:"string",group:"Misc",defaultValue:""},showSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false},forceSelection:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable"},picker:{type:"sap.ui.core.PopupInterface",multiple:false,visibility:"hidden"}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}}},designTime:true}});I.insertFontFaceStyle();E.apply(a.prototype,[true]);M.call(a.prototype);function h(i){if(i){this.setSelection(i);this.setValue(i.getText());this.scrollToItem(i);}}a.prototype._handleFocusout=function(){this._bFocusoutDueRendering=this.bRenderingPhase;if(this._bFocusoutDueRendering){this._bProcessChange=false;return;}if(this._bProcessChange){this._checkSelectionChange();this._bProcessChange=false;}else{this._bProcessChange=true;}};a.prototype._checkSelectionChange=function(){var i=this.getSelectedItem();if(this._oSelectionOnFocus!==i){this.fireChange({selectedItem:i});}};a.prototype._getSelectedItemText=function(i){i=i||this.getSelectedItem();if(!i){i=this.getDefaultSelectedItem();}if(i){return i.getText();}return"";};a.prototype._callMethodInControl=function(f,A){var L=this.getList();if(A[0]==="items"){if(L){return S.prototype[f].apply(L,A);}}else{return C.prototype[f].apply(this,A);}};a.prototype.findFirstEnabledItem=function(i){var L=this.getList();return L?L.findFirstEnabledItem(i):null;};a.prototype.findLastEnabledItem=function(i){var L=this.getList();return L?L.findLastEnabledItem(i):null;};a.prototype.setSelectedIndex=function(i,_){var o;_=_||this.getItems();i=(i>_.length-1)?_.length-1:Math.max(0,i);o=_[i];if(o){this.setSelection(o);}};a.prototype.scrollToItem=function(i){var p=this.getPicker(),o=p.getDomRef("cont"),b=i&&i.getDomRef();if(!p||!o||!b){return;}var c=o.scrollTop,d=b.offsetTop,e=o.clientHeight,f=b.offsetHeight;if(c>d){o.scrollTop=d;}else if((d+f)>(c+e)){o.scrollTop=Math.ceil(d+f-e);}};a.prototype.setValue=function(v){this.$("label").text(v);};a.prototype._isShadowListRequired=function(){if(this.getAutoAdjustWidth()){return false;}else if(this.getWidth()==="auto"){return true;}return false;};a.prototype._handleAriaActiveDescendant=function(i){var d=this.getDomRef(),o=i&&i.getDomRef(),A="aria-activedescendant";if(!d){return;}if(o&&this.isOpen()){d.setAttribute(A,i.getId());}else{d.removeAttribute(A);}};a.prototype.getList=function(){if(this.bIsDestroyed){return null;}return this._oList;};a.prototype.updateItems=function(r){S.prototype.updateItems.apply(this,arguments);this._oSelectionOnFocus=this.getSelectedItem();};a.prototype.refreshItems=function(){S.prototype.refreshItems.apply(this,arguments);};a.prototype.onBeforeOpen=function(c){var p=this["_onBeforeOpen"+this.getPickerType()],b=this.getRenderer().CSS_CLASS;this.addStyleClass(b+"Pressed");this.addStyleClass(b+"Expanded");this.closeValueStateMessage();this.addContent();p&&p.call(this);};a.prototype.onAfterOpen=function(c){var d=this.getFocusDomRef(),i=null;if(!d){return;}i=this.getSelectedItem();d.setAttribute("aria-expanded","true");d.setAttribute("aria-owns",this.getList().getId());if(i){d.setAttribute("aria-activedescendant",i.getId());this.scrollToItem(i);}};a.prototype.onBeforeClose=function(c){var d=this.getFocusDomRef(),b=this.getRenderer().CSS_CLASS;if(d){d.removeAttribute("aria-owns");d.removeAttribute("aria-activedescendant");if(this.shouldValueStateMessageBeOpened()&&(document.activeElement===d)){this.openValueStateMessage();}}this.removeStyleClass(b+"Pressed");this.removeStyleClass(b+"Expanded");};a.prototype.onAfterClose=function(c){var d=this.getFocusDomRef();if(d){d.setAttribute("aria-expanded","false");}};a.prototype.getPicker=function(){if(this.bIsDestroyed){return null;}return this.createPicker(this.getPickerType());};a.prototype.setPickerType=function(p){this._sPickerType=p;};a.prototype.getPickerType=function(){return this._sPickerType;};a.prototype._createPopover=function(){var t=this;var p=new P({showArrow:false,showHeader:false,placement:sap.m.PlacementType.VerticalPreferredBottom,offsetX:0,offsetY:0,initialFocus:this,bounce:false});p.addEventDelegate({ontouchstart:function(e){var o=this.getDomRef("cont");if((e.target===o)||(e.srcControl instanceof sap.ui.core.Item)){t._bProcessChange=false;}}},p);this._decoratePopover(p);return p;};a.prototype._decoratePopover=function(p){var t=this;p.open=function(){return this.openBy(t);};};a.prototype._onBeforeRenderingPopover=function(){var p=this.getPicker(),w=(this.$().outerWidth()/parseFloat(sap.m.BaseFontSize))+"rem";if(p){p.setContentMinWidth(w);}};a.prototype._createDialog=function(){var t=this;return new D({stretch:true,showHeader:false,buttons:[this.createPickerCloseButton()],beforeOpen:function(){t.updatePickerHeaderTitle();}});};a.prototype.createPickerCloseButton=function(){var t=this;var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");return new B({text:r.getText("SELECT_CANCEL_BUTTON"),press:function(){t.close();}});};a.prototype.updatePickerHeaderTitle=function(){var p=this.getPicker();if(!p){return;}var L=this.getLabels();if(L.length){var o=L[0];if(o&&(typeof o.getText==="function")){p.setShowHeader(true);p.setTitle(o.getText());}}else{p.setShowHeader(false);}};a.prototype._onBeforeOpenDialog=function(){};a.prototype.init=function(){this.setPickerType(sap.ui.Device.system.phone?"Dialog":"Popover");this.createPicker(this.getPickerType());this._oSelectionOnFocus=null;this.bRenderingPhase=false;this._bFocusoutDueRendering=false;this._bProcessChange=false;this.sTypedChars="";this.iTypingTimeoutID=-1;this._oValueStateMessage=new V(this);};a.prototype.onBeforeRendering=function(){this.bRenderingPhase=true;if(sap.ui.Device.browser.firefox&&(this.getFocusDomRef()===document.activeElement)){this._handleFocusout();}this.synchronizeSelection();};a.prototype.onAfterRendering=function(){this.bRenderingPhase=false;};a.prototype.exit=function(){var v=this.getValueStateMessage();this._oSelectionOnFocus=null;if(v){this.closeValueStateMessage();v.destroy();}this._oValueStateMessage=null;};a.prototype.ontouchstart=function(e){e.setMarked();if(this.getEnabled()&&this.isOpenArea(e.target)){this.addStyleClass(this.getRenderer().CSS_CLASS+"Pressed");}};a.prototype.ontouchend=function(e){e.setMarked();if(this.getEnabled()&&!this.isOpen()&&this.isOpenArea(e.target)){this.removeStyleClass(this.getRenderer().CSS_CLASS+"Pressed");}};a.prototype.ontap=function(e){var b=this.getRenderer().CSS_CLASS;e.setMarked();if(!this.getEnabled()){return;}if(this.isOpenArea(e.target)){if(this.isOpen()){this.close();this.removeStyleClass(b+"Pressed");return;}this.open();}if(this.isOpen()){this.addStyleClass(b+"Pressed");}};a.prototype.onSelectionChange=function(c){var i=c.getParameter("selectedItem");this.close();this.setSelection(i);this.fireChange({selectedItem:i});this.setValue(this._getSelectedItemText());};a.prototype.onkeypress=function(e){if(!this.getEnabled()){return;}e.setMarked();var t=String.fromCharCode(e.which),s=this.getSelectedItem(),T=t,i=null;this.sTypedChars+=t;if((s&&q.sap.startsWithIgnoreCase(s.getText(),this.sTypedChars))||((this.sTypedChars.length===1)||((this.sTypedChars.length>1)&&(this.sTypedChars.charAt(0)!==this.sTypedChars.charAt(1))))){T=this.sTypedChars;}i=this.searchNextItemByText(T);clearTimeout(this.iTypingTimeoutID);this.iTypingTimeoutID=setTimeout(function(){this.sTypedChars="";this.iTypingTimeoutID=-1;}.bind(this),1000);h.call(this,i);};a.prototype.onsapshow=function(e){if(!this.getEnabled()){return;}e.setMarked();if(e.which===q.sap.KeyCodes.F4){e.preventDefault();}this.toggleOpenState();};a.prototype.onsaphide=a.prototype.onsapshow;a.prototype.onsapescape=function(e){if(!this.getEnabled()){return;}if(this.isOpen()){e.setMarked();this.close();this._checkSelectionChange();}};a.prototype.onsapenter=function(e){if(!this.getEnabled()){return;}e.setMarked();this.close();this._checkSelectionChange();};a.prototype.onsapspace=function(e){if(!this.getEnabled()){return;}e.setMarked();e.preventDefault();if(this.isOpen()){this._checkSelectionChange();}this.toggleOpenState();};a.prototype.onsapdown=function(e){if(!this.getEnabled()){return;}e.setMarked();e.preventDefault();var n,s=this.getSelectableItems();n=s[s.indexOf(this.getSelectedItem())+1];h.call(this,n);};a.prototype.onsapup=function(e){if(!this.getEnabled()){return;}e.setMarked();e.preventDefault();var p,s=this.getSelectableItems();p=s[s.indexOf(this.getSelectedItem())-1];h.call(this,p);};a.prototype.onsaphome=function(e){if(!this.getEnabled()){return;}e.setMarked();e.preventDefault();var f=this.getSelectableItems()[0];h.call(this,f);};a.prototype.onsapend=function(e){if(!this.getEnabled()){return;}e.setMarked();e.preventDefault();var L=this.findLastEnabledItem(this.getSelectableItems());h.call(this,L);};a.prototype.onsappagedown=function(e){if(!this.getEnabled()){return;}e.setMarked();e.preventDefault();var s=this.getSelectableItems(),o=this.getSelectedItem();this.setSelectedIndex(s.indexOf(o)+10,s);o=this.getSelectedItem();if(o){this.setValue(o.getText());}this.scrollToItem(o);};a.prototype.onsappageup=function(e){if(!this.getEnabled()){return;}e.setMarked();e.preventDefault();var s=this.getSelectableItems(),o=this.getSelectedItem();this.setSelectedIndex(s.indexOf(o)-10,s);o=this.getSelectedItem();if(o){this.setValue(o.getText());}this.scrollToItem(o);};a.prototype.onfocusin=function(e){if(!this._bFocusoutDueRendering&&!this._bProcessChange){this._oSelectionOnFocus=this.getSelectedItem();}this._bProcessChange=true;setTimeout(function(){if(!this.isOpen()&&this.shouldValueStateMessageBeOpened()&&(document.activeElement===this.getFocusDomRef())){this.openValueStateMessage();}}.bind(this),100);if(e.target!==this.getFocusDomRef()){this.focus();}};a.prototype.onfocusout=function(e){this._handleFocusout();if(this.bRenderingPhase){return;}this.closeValueStateMessage();};a.prototype.onsapfocusleave=function(e){var p=this.getAggregation("picker");if(!e.relatedControlId||!p){return;}var c=sap.ui.getCore().byId(e.relatedControlId),f=c&&c.getFocusDomRef();if(sap.ui.Device.system.desktop&&q.sap.containsOrEquals(p.getFocusDomRef(),f)){this.focus();}};a.prototype.setSelection=function(i){var L=this.getList(),k;if(L){L.setSelection(i);}this.setAssociation("selectedItem",i,true);this.setProperty("selectedItemId",(i instanceof sap.ui.core.Item)?i.getId():i,true);if(typeof i==="string"){i=sap.ui.getCore().byId(i);}k=i?i.getKey():"";this.setProperty("selectedKey",k,true);this._handleAriaActiveDescendant(i);};a.prototype.isSelectionSynchronized=function(){var i=this.getSelectedItem();return this.getSelectedKey()===(i&&i.getKey());};a.prototype.synchronizeSelection=function(){S.prototype.synchronizeSelection.apply(this,arguments);};a.prototype.addContent=function(p){};a.prototype.createPicker=function(p){var o=this.getAggregation("picker"),b=this.getRenderer().CSS_CLASS;if(o){return o;}o=this["_create"+p]();this.setAggregation("picker",o,true);o.setHorizontalScrolling(false).addStyleClass(b+"Picker").addStyleClass(b+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this).addContent(this.createList());return o;};a.prototype.searchNextItemByText=function(t){var b=this.getItems(),s=this.getSelectedIndex(),c=b.splice(s+1,b.length-s),d=b.splice(0,b.length-1);b=c.concat(d);for(var i=0,o;i<b.length;i++){o=b[i];if(o.getEnabled()&&!(o instanceof sap.ui.core.SeparatorItem)&&q.sap.startsWithIgnoreCase(o.getText(),t)){return o;}}return null;};a.prototype.createList=function(){var L=sap.m.SelectListKeyboardNavigationMode,k=sap.ui.Device.system.phone?L.Delimited:L.None;this._oList=new S({width:"100%",keyboardNavigationMode:k}).addStyleClass(this.getRenderer().CSS_CLASS+"List-CTX").addEventDelegate({ontap:function(e){this.close();}},this).attachSelectionChange(this.onSelectionChange,this);return this._oList;};a.prototype.hasContent=function(){return this.getItems().length>0;};a.prototype.onBeforeRenderingPicker=function(){var o=this["_onBeforeRendering"+this.getPickerType()];o&&o.call(this);};a.prototype.onAfterRenderingPicker=function(){var o=this["_onAfterRendering"+this.getPickerType()];o&&o.call(this);};a.prototype.open=function(){var p=this.getPicker();if(p){p.open();}return this;};a.prototype.toggleOpenState=function(){if(this.isOpen()){this.close();}else{this.open();}return this;};a.prototype.getVisibleItems=function(){var L=this.getList();return L?L.getVisibleItems():[];};a.prototype.isItemSelected=function(i){return i&&(i.getId()===this.getAssociation("selectedItem"));};a.prototype.getSelectedIndex=function(){var s=this.getSelectedItem();return s?this.indexOfItem(this.getSelectedItem()):-1;};a.prototype.getDefaultSelectedItem=function(i){return this.getForceSelection()?this.findFirstEnabledItem():null;};a.prototype.getSelectableItems=function(){var L=this.getList();return L?L.getSelectableItems():[];};a.prototype.getOpenArea=function(){return this.getDomRef();};a.prototype.isOpenArea=function(d){var o=this.getOpenArea();return o&&o.contains(d);};a.prototype.findItem=function(p,v){var L=this.getList();return L?L.findItem(p,v):null;};a.prototype.clearSelection=function(){this.setSelection(null);};a.prototype.onItemChange=function(c){var s=this.getAssociation("selectedItem"),n=c.getParameter("newValue"),p=c.getParameter("name");if(s===c.getParameter("id")){switch(p){case"text":this.setValue(n);break;case"key":if(!this.isBound("selectedKey")){this.setSelectedKey(n);}break;}}};a.prototype.fireChange=function(p){this._oSelectionOnFocus=p.selectedItem;return this.fireEvent("change",p);};a.prototype.addAggregation=function(A,o,s){this._callMethodInControl("addAggregation",arguments);if(A==="items"&&!s&&!this.isInvalidateSuppressed()){this.invalidate(o);}return this;};a.prototype.getAggregation=function(){return this._callMethodInControl("getAggregation",arguments);};a.prototype.setAssociation=function(A,i,s){var L=this.getList();if(L&&(A==="selectedItem")){S.prototype.setAssociation.apply(L,arguments);}return C.prototype.setAssociation.apply(this,arguments);};a.prototype.indexOfAggregation=function(){return this._callMethodInControl("indexOfAggregation",arguments);};a.prototype.insertAggregation=function(){this._callMethodInControl("insertAggregation",arguments);return this;};a.prototype.removeAggregation=function(){return this._callMethodInControl("removeAggregation",arguments);};a.prototype.removeAllAggregation=function(){return this._callMethodInControl("removeAllAggregation",arguments);};a.prototype.destroyAggregation=function(A,s){this._callMethodInControl("destroyAggregation",arguments);if(!s&&!this.isInvalidateSuppressed()){this.invalidate();}return this;};a.prototype.setProperty=function(p,v,s){var L=this.getList();if((p==="selectedKey")||(p==="selectedItemId")){L&&S.prototype.setProperty.apply(L,arguments);}return C.prototype.setProperty.apply(this,arguments);};a.prototype.removeAllAssociation=function(A,s){var L=this.getList();if(L&&(A==="selectedItem")){S.prototype.removeAllAssociation.apply(L,arguments);}return C.prototype.removeAllAssociation.apply(this,arguments);};a.prototype.clone=function(){var s=C.prototype.clone.apply(this,arguments),L=this.getList(),o=this.getSelectedItem(),b=this.getSelectedKey();if(!this.isBound("items")&&L){for(var i=0,c=L.getItems();i<c.length;i++){s.addItem(c[i].clone());}}if(!this.isBound("selectedKey")&&!s.isSelectionSynchronized()){if(o&&(b==="")){s.setSelectedIndex(this.indexOfItem(o));}else{s.setSelectedKey(b);}}return s;};a.prototype.updateValueStateClasses=function(v,o){var t=this.$(),L=this.$("label"),A=this.$("arrow"),m=sap.ui.core.ValueState,b=this.getRenderer().CSS_CLASS;if(o!==m.None){t.removeClass(b+"State");t.removeClass(b+o);L.removeClass(b+"LabelState");L.removeClass(b+"Label"+o);A.removeClass(b+"ArrowState");}if(v!==m.None){t.addClass(b+"State");t.addClass(b+v);L.addClass(b+"LabelState");L.addClass(b+"Label"+v);A.addClass(b+"ArrowState");}};a.prototype.getLabels=function(){var L=this.getAriaLabelledBy().map(function(s){return sap.ui.getCore().byId(s);});var o=sap.ui.require("sap/ui/core/LabelEnablement");if(o){L=L.concat(o.getReferencingLabels(this).map(function(s){return sap.ui.getCore().byId(s);}));}return L;};a.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef();};a.prototype.getValueStateMessageId=function(){return this.getId()+"-message";};a.prototype.getValueStateMessage=function(){return this._oValueStateMessage;};a.prototype.openValueStateMessage=function(){var v=this.getValueStateMessage();if(v){v.open();}};a.prototype.closeValueStateMessage=function(){var v=this.getValueStateMessage();if(v){v.close();}};a.prototype.shouldValueStateMessageBeOpened=function(){return((this.getValueState()!==sap.ui.core.ValueState.None)&&this.getEnabled());};a.prototype.setShowSecondaryValues=function(A){var s=!this._isShadowListRequired();this.setProperty("showSecondaryValues",A,s);var L=this.getList();if(L){L.setShowSecondaryValues(A);}return this;};a.prototype.addItem=function(i){this.addAggregation("items",i);if(i){i.attachEvent("_change",this.onItemChange,this);}return this;};a.prototype.insertItem=function(i,b){this.insertAggregation("items",i,b);if(i){i.attachEvent("_change",this.onItemChange,this);}return this;};a.prototype.findAggregatedObjects=function(){var L=this.getList();if(L){return S.prototype.findAggregatedObjects.apply(L,arguments);}return[];};a.prototype.getItems=function(){var L=this.getList();return L?L.getItems():[];};a.prototype.setSelectedItem=function(i){if(typeof i==="string"){this.setAssociation("selectedItem",i,true);i=sap.ui.getCore().byId(i);}if(!(i instanceof sap.ui.core.Item)&&i!==null){return this;}if(!i){i=this.getDefaultSelectedItem();}this.setSelection(i);this.setValue(this._getSelectedItemText(i));return this;};a.prototype.setSelectedItemId=function(i){i=this.validateProperty("selectedItemId",i);if(!i){i=this.getDefaultSelectedItem();}this.setSelection(i);this.setValue(this._getSelectedItemText());return this;};a.prototype.setSelectedKey=function(k){k=this.validateProperty("selectedKey",k);var d=(k==="");if(!this.getForceSelection()&&d){this.setSelection(null);this.setValue("");return this;}var i=this.getItemByKey(k);if(i||d){if(!i&&d){i=this.getDefaultSelectedItem();}this.setSelection(i);this.setValue(this._getSelectedItemText(i));return this;}return this.setProperty("selectedKey",k);};a.prototype.setValueState=function(v){var o=this.getValueState();this.setProperty("valueState",v,true);v=this.getValueState();if(v===o){return this;}var d=this.getDomRefForValueState();if(!d){return this;}var m=sap.ui.core.ValueState;if(v===m.Error){d.setAttribute("aria-invalid",true);}else{d.removeAttribute("aria-invalid");}this.updateValueStateClasses(v,o);return this;};a.prototype.getItemAt=function(i){return this.getItems()[+i]||null;};a.prototype.getSelectedItem=function(){var s=this.getAssociation("selectedItem");return(s===null)?null:sap.ui.getCore().byId(s)||null;};a.prototype.getFirstItem=function(){return this.getItems()[0]||null;};a.prototype.getLastItem=function(){var i=this.getItems();return i[i.length-1]||null;};a.prototype.getEnabledItems=function(i){var L=this.getList();return L?L.getEnabledItems(i):[];};a.prototype.getItemByKey=function(k){var L=this.getList();return L?L.getItemByKey(k):null;};a.prototype.removeItem=function(i){var L=this.getList(),o;i=L?L.removeItem(i):null;if(this.getItems().length===0){this.clearSelection();}else if(this.isItemSelected(i)){o=this.findFirstEnabledItem();if(o){this.setSelection(o);}}this.setValue(this._getSelectedItemText());if(i){i.detachEvent("_change",this.onItemChange,this);}return i;};a.prototype.removeAllItems=function(){var L=this.getList(),b=L?L.removeAllItems():[];this.setValue("");if(this._isShadowListRequired()){this.$().children(".sapMSelectListItemBase").remove();}for(var i=0;i<b.length;i++){b[i].detachEvent("_change",this.onItemChange,this);}return b;};a.prototype.destroyItems=function(){var L=this.getList();if(L){L.destroyItems();}this.setValue("");if(this._isShadowListRequired()){this.$().children(".sapMSelectListItemBase").remove();}return this;};a.prototype.isOpen=function(){var p=this.getAggregation("picker");return!!(p&&p.isOpen());};a.prototype.close=function(){var p=this.getAggregation("picker");if(p){p.close();}return this;};a.prototype.getDomRefForValueState=function(){return this.getDomRef();};a.prototype.getAccessibilityInfo=function(){var i={role:this.getRenderer().getAriaRole(this),focusable:this.getEnabled(),enabled:this.getEnabled()};if(this.getType()==="IconOnly"){var d=this.getTooltip_AsString();if(!d){var o=I.getIconInfo(this.getIcon());d=o&&o.text?o.text:"";}i.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_BUTTON");i.description=d;}else if(this.getType()==="Default"){i.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_COMBO");i.description=this._getSelectedItemText();}return i;};return a;},true);
sap.ui.predefine('sap/m/SelectDialog',['jquery.sap.global','./Button','./Dialog','./List','./SearchField','./library','sap/ui/core/Control'],function(q,B,D,L,S,l,C){"use strict";var a=C.extend("sap.m.SelectDialog",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Appearance",defaultValue:null},noDataText:{type:"string",group:"Appearance",defaultValue:null},multiSelect:{type:"boolean",group:"Dimension",defaultValue:false},growingThreshold:{type:"int",group:"Misc",defaultValue:null},contentWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},rememberSelections:{type:"boolean",group:"Behavior",defaultValue:false},contentHeight:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.ListItemBase",multiple:true,singularName:"item"},_dialog:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{confirm:{parameters:{selectedItem:{type:"sap.m.StandardListItem"},selectedItems:{type:"sap.m.StandardListItem[]"},selectedContexts:{type:"string"}}},search:{parameters:{value:{type:"string"},itemsBinding:{type:"any"}}},liveChange:{parameters:{value:{type:"string"},itemsBinding:{type:"any"}}},cancel:{}}}});a.prototype.init=function(){var t=this,i=0,r=null,d=null;r=function(){t._oSelectedItem=t._oList.getSelectedItem();t._aSelectedItems=t._oList.getSelectedItems();t._oDialog.detachAfterClose(r);t._fireConfirmAndUpdateSelection();};this._bAppendedToUIArea=false;this._bInitBusy=false;this._bFirstRender=true;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oList=new L(this.getId()+"-list",{growing:true,growingScrollToLoad:true,mode:sap.m.ListMode.SingleSelectMaster,infoToolbar:new sap.m.Toolbar({visible:false,active:false,content:[new sap.m.Label({text:this._oRb.getText("TABLESELECTDIALOG_SELECTEDITEMS",[0])})]}),selectionChange:function(e){if(t._oDialog){if(!t.getMultiSelect()){t._oDialog.attachAfterClose(r);t._oDialog.close();}else{t._updateSelectionIndicator();}}}});this._oList.getInfoToolbar().addEventDelegate({onAfterRendering:function(){t._oList.getInfoToolbar().$().attr('aria-live','polite');}});this._list=this._oList;this._oList.attachUpdateStarted(this._updateStarted,this);this._oList.attachUpdateFinished(this._updateFinished,this);this._oBusyIndicator=new sap.m.BusyIndicator(this.getId()+"-busyIndicator").addStyleClass("sapMSelectDialogBusyIndicator",true);this._oSearchField=new S(this.getId()+"-searchField",{width:"100%",liveChange:function(e){var v=e.getSource().getValue(),b=(v?300:0);clearTimeout(i);if(b){i=setTimeout(function(){t._executeSearch(v,"liveChange");},b);}else{t._executeSearch(v,"liveChange");}},search:function(e){t._executeSearch(e.getSource().getValue(),"search");}});this._searchField=this._oSearchField;this._oSubHeader=new sap.m.Bar(this.getId()+"-subHeader",{contentMiddle:[this._oSearchField]});this._oDialog=new D(this.getId()+"-dialog",{title:this.getTitle(),stretch:sap.ui.Device.system.phone,contentHeight:"2000px",subHeader:this._oSubHeader,content:[this._oBusyIndicator,this._oList],leftButton:this._getCancelButton(),initialFocus:(sap.ui.Device.system.desktop?this._oSearchField:null)}).addStyleClass("sapMSelectDialog",true);this._dialog=this._oDialog;this.setAggregation("_dialog",this._oDialog);d=this._oDialog.onsapescape;this._oDialog.onsapescape=function(e){if(d){d.call(t._oDialog,e);}t._onCancel();};this._oDialog._iVMargin=8*(parseInt(sap.ui.core.theming.Parameters.get("sapUiFontSize"),10)||16);this._sSearchFieldValue="";this._bFirstRequest=true;this._bLiveChange=false;this._iListUpdateRequested=0;};a.prototype.setBusy=function(){this._oDialog.setBusy.apply(this._oDialog,arguments);return this;};a.prototype.getBusy=function(){return this._oDialog.getBusy.apply(this._oDialog,arguments);};a.prototype.exit=function(){this._oList=null;this._oSearchField=null;this._oSubHeader=null;this._oBusyIndicator=null;this._sSearchFieldValue=null;this._iListUpdateRequested=0;this._bFirstRequest=false;this._bInitBusy=false;this._bFirstRender=false;this._bFirstRequest=false;if(this._bAppendedToUIArea){var s=sap.ui.getCore().getStaticAreaRef();s=sap.ui.getCore().getUIArea(s);s.removeContent(this,true);}if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}if(this._oOkButton){this._oOkButton.destroy();this._oOkButton=null;}this._oSelectedItem=null;this._aSelectedItems=null;this._list=null;this._searchField=null;this._dialog=null;};a.prototype.onAfterRendering=function(){if(this._bInitBusy&&this._bFirstRender){this._setBusy(true);this._bInitBusy=false;}return this;};a.prototype.invalidate=function(){if(this._oDialog&&(!arguments[0]||arguments[0]&&arguments[0].getId()!==this.getId()+"-dialog")){this._oDialog.invalidate(arguments);}else{C.prototype.invalidate.apply(this,arguments);}return this;};a.prototype.open=function(s){if((!this.getParent()||!this.getUIArea())&&!this._bAppendedToUIArea){var o=sap.ui.getCore().getStaticAreaRef();o=sap.ui.getCore().getUIArea(o);o.addContent(this,true);this._bAppendedToUIArea=true;}this._bFirstRequest=true;this._oSearchField.setValue(s);this._oDialog.open();if(this._bInitBusy){this._setBusy(true);}this._updateSelectionIndicator();this._aInitiallySelectedContextPaths=this._oList.getSelectedContextPaths();return this;};a.prototype.setGrowingThreshold=function(v){this._oList.setGrowingThreshold(v);this.setProperty("growingThreshold",v,true);return this;};a.prototype.setMultiSelect=function(m){this.setProperty("multiSelect",m,true);if(m){this._oList.setMode(sap.m.ListMode.MultiSelect);this._oList.setIncludeItemInSelection(true);this._oDialog.setEndButton(this._getCancelButton());this._oDialog.setBeginButton(this._getOkButton());}else{this._oList.setMode(sap.m.ListMode.SingleSelectMaster);this._oDialog.setBeginButton(this._getCancelButton());}return this;};a.prototype.setTitle=function(t){this._oDialog.setTitle(t);this.setProperty("title",t,true);return this;};a.prototype.setNoDataText=function(n){this._oList.setNoDataText(n);return this;};a.prototype.getNoDataText=function(){return this._oList.getNoDataText();};a.prototype.getContentWidth=function(){return this._oDialog.getContentWidth();};a.prototype.setContentWidth=function(w){this._oDialog.setContentWidth(w);return this;};a.prototype.getContentHeight=function(){return this._oDialog.getContentHeight();};a.prototype.setContentHeight=function(h){this._oDialog.setContentHeight(h);return this;};a.prototype.addStyleClass=function(){this._oDialog.addStyleClass.apply(this._oDialog,arguments);return this;};a.prototype.removeStyleClass=function(){this._oDialog.removeStyleClass.apply(this._oDialog,arguments);return this;};a.prototype.toggleStyleClass=function(){this._oDialog.toggleStyleClass.apply(this._oDialog,arguments);return this;};a.prototype.hasStyleClass=function(){return this._oDialog.hasStyleClass.apply(this._oDialog,arguments);};a.prototype.getDomRef=function(){if(this._oDialog){return this._oDialog.getDomRef.apply(this._oDialog,arguments);}else{return null;}};a.prototype._setModel=a.prototype.setModel;a.prototype.setModel=function(m,M){var A=Array.prototype.slice.call(arguments);this._setBusy(false);this._bInitBusy=false;this._iListUpdateRequested+=1;this._oList.setModel(m,M);a.prototype._setModel.apply(this,A);this._updateSelectionIndicator();return this;};a.prototype._callMethodInManagedObject=function(f,A){var b=Array.prototype.slice.call(arguments);if(A==="items"){return this._oList[f].apply(this._oList,b.slice(1));}else{return sap.ui.base.ManagedObject.prototype[f].apply(this,b.slice(1));}};a.prototype.bindAggregation=function(){var b=Array.prototype.slice.call(arguments);this._callMethodInManagedObject.apply(this,["bindAggregation"].concat(b));return this;};a.prototype.validateAggregation=function(A,o,m){return this._callMethodInManagedObject("validateAggregation",A,o,m);};a.prototype.setAggregation=function(A,o,s){this._callMethodInManagedObject("setAggregation",A,o,s);return this;};a.prototype.getAggregation=function(A,d){return this._callMethodInManagedObject("getAggregation",A,d);};a.prototype.indexOfAggregation=function(A,o){return this._callMethodInManagedObject("indexOfAggregation",A,o);};a.prototype.insertAggregation=function(A,o,i,s){this._callMethodInManagedObject("insertAggregation",A,o,i,s);return this;};a.prototype.addAggregation=function(A,o,s){this._callMethodInManagedObject("addAggregation",A,o,s);return this;};a.prototype.removeAggregation=function(A,o,s){return this._callMethodInManagedObject("removeAggregation",A,o,s);};a.prototype.removeAllAggregation=function(A,s){return this._callMethodInManagedObject("removeAllAggregation",A,s);};a.prototype.destroyAggregation=function(A,s){this._callMethodInManagedObject("destroyAggregation",A,s);return this;};a.prototype.getBinding=function(A){return this._callMethodInManagedObject("getBinding",A);};a.prototype.getBindingInfo=function(A){return this._callMethodInManagedObject("getBindingInfo",A);};a.prototype.getBindingPath=function(A){return this._callMethodInManagedObject("getBindingPath",A);};a.prototype.getBindingContext=function(m){return this._oList&&this._oList.getBindingContext(m);};a.prototype._setBindingContext=a.prototype.setBindingContext;a.prototype.setBindingContext=function(c,m){var b=Array.prototype.slice.call(arguments);this._oList.setBindingContext(c,m);a.prototype._setBindingContext.apply(this,b);return this;};a.prototype._executeSearch=function(v,e){var o=this._oList,b=(o?o.getBinding("items"):undefined),s=(this._sSearchFieldValue!==v);if(e==="liveChange"){this._bLiveChange=true;}if(this._oDialog.isOpen()&&((s&&e==="liveChange")||e==="search")){this._sSearchFieldValue=v;if(b){this._iListUpdateRequested+=1;if(e==="search"){this.fireSearch({value:v,itemsBinding:b});}else if(e==="liveChange"){this.fireLiveChange({value:v,itemsBinding:b});}}else{if(e==="search"){this.fireSearch({value:v});}else if(e==="liveChange"){this.fireLiveChange({value:v});}}}return this;};a.prototype._setBusy=function(b){if(this._iListUpdateRequested){if(b){this._oList.addStyleClass('sapMSelectDialogListHide');this._oBusyIndicator.$().css('display','inline-block');}else{this._oList.removeStyleClass('sapMSelectDialogListHide');this._oBusyIndicator.$().css('display','none');}}};a.prototype._updateStarted=function(e){if(this.getModel()&&this.getModel()instanceof sap.ui.model.odata.ODataModel){if(this._oDialog.isOpen()&&this._iListUpdateRequested){this._setBusy(true);}else{this._bInitBusy=true;}}};a.prototype._updateFinished=function(e){this._updateSelectionIndicator();if(this.getModel()&&this.getModel()instanceof sap.ui.model.odata.ODataModel){this._setBusy(false);this._bInitBusy=false;}if(sap.ui.Device.system.desktop){if(this._oList.getItems()[0]){this._oDialog.setInitialFocus(this._oList.getItems()[0]);}else{this._oDialog.setInitialFocus(this._oSearchField);}if(this._bFirstRequest&&!this._bLiveChange){var f=this._oList.getItems()[0];if(!f){f=this._oSearchField;}if(f.getFocusDomRef()){f.getFocusDomRef().focus();}}}this._bFirstRequest=false;this._iListUpdateRequested=0;};a.prototype._getOkButton=function(){var t=this,o=null;o=function(){t._oSelectedItem=t._oList.getSelectedItem();t._aSelectedItems=t._oList.getSelectedItems();t._oDialog.detachAfterClose(o);t._fireConfirmAndUpdateSelection();};if(!this._oOkButton){this._oOkButton=new B(this.getId()+"-ok",{text:this._oRb.getText("MSGBOX_OK"),press:function(){t._oDialog.attachAfterClose(o);t._oDialog.close();}});}return this._oOkButton;};a.prototype._getCancelButton=function(){var t=this;if(!this._oCancelButton){this._oCancelButton=new B(this.getId()+"-cancel",{text:this._oRb.getText("MSGBOX_CANCEL"),press:function(e){t._onCancel();}});}return this._oCancelButton;};a.prototype._onCancel=function(e){var t=this,A=null;A=function(){t._oSelectedItem=null;t._aSelectedItems=[];t._sSearchFieldValue=null;t._oDialog.detachAfterClose(A);t._resetSelection();t.fireCancel();};this._oDialog.attachAfterClose(A);this._oDialog.close();};a.prototype._updateSelectionIndicator=function(){var s=this._oList.getSelectedContexts(true).length,i=this._oList.getInfoToolbar();i.setVisible(!!s&&this.getMultiSelect());i.getContent()[0].setText(this._oRb.getText("TABLESELECTDIALOG_SELECTEDITEMS",[s]));};a.prototype._fireConfirmAndUpdateSelection=function(){this.fireConfirm({selectedItem:this._oSelectedItem,selectedItems:this._aSelectedItems,selectedContexts:this._oList.getSelectedContexts(true)});this._updateSelection();};a.prototype._updateSelection=function(){if(!this.getRememberSelections()&&!this.bIsDestroyed){this._oList.removeSelections(true);delete this._oSelectedItem;delete this._aSelectedItems;}};a.prototype._resetSelection=function(){if(!this.bIsDestroyed){this._oList.removeSelections(true);this._oList.setSelectedContextPaths(this._aInitiallySelectedContextPaths);this._oList.getItems().forEach(function(i){var p=i.getBindingContextPath();if(p&&this._aInitiallySelectedContextPaths.indexOf(p)>-1){i.setSelected(true);}},this);}};return a;},true);
sap.ui.predefine('sap/m/SelectDialogRenderer',['jquery.sap.global'],function(q){"use strict";var S={};S.render=function(r,c){};return S;},true);
sap.ui.predefine('sap/m/SelectList',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/delegate/ItemNavigation'],function(q,l,C,I){"use strict";var S=C.extend("sap.m.SelectList",{metadata:{library:"sap.m",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},selectedKey:{type:"string",group:"Data",defaultValue:""},selectedItemId:{type:"string",group:"Misc",defaultValue:""},showSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false},keyboardNavigationMode:{type:"sap.m.SelectListKeyboardNavigationMode",group:"Behavior",defaultValue:sap.m.SelectListKeyboardNavigationMode.Delimited}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable"}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{selectionChange:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}},itemPress:{parameters:{item:{type:"sap.ui.core.Item"}}}}}});S.prototype._setSelectedIndex=function(i,_){var o;_=_||this.getItems();i=(i>_.length-1)?_.length-1:Math.max(0,i);o=_[i];if(o){this.setSelection(o);}};S.prototype.updateItems=function(r){this.bItemsUpdated=false;this.destroyItems();this.updateAggregation("items");this.bItemsUpdated=true;this.synchronizeSelection({forceSelection:false});setTimeout(this.synchronizeSelection.bind(this),0);};S.prototype.refreshItems=function(){this.bItemsUpdated=false;this.refreshAggregation("items");};S.prototype._activateItem=function(i){if(i instanceof sap.ui.core.Item&&i&&i.getEnabled()){this.fireItemPress({item:i});if(this.getSelectedItem()!==i){this.setSelection(i);this.fireSelectionChange({selectedItem:i});}}};S.prototype._queryEnabledItemsDomRefs=function(d){var a="."+this.getRenderer().CSS_CLASS+"ItemBase";d=d||this.getDomRef();return d?Array.prototype.slice.call(d.querySelectorAll(a+":not("+a+"Disabled)")):[];};S.prototype._handleARIAActivedescendant=function(){var a=q(document.activeElement).control(0),d=this.getDomRef();if(a&&d){d.setAttribute("aria-activedescendant",a.getId());}};S.prototype.init=function(){this._iStartTimeout=0;this._iActiveTouchId=0;this._fStartX=0;this._fStartY=0;this._oItemNavigation=null;this._$ItemPressed=null;};S.prototype.onBeforeRendering=function(){this.synchronizeSelection();};S.prototype.onAfterRendering=function(){if(this.getKeyboardNavigationMode()===sap.m.SelectListKeyboardNavigationMode.None){this.destroyItemNavigation();}else{this.createItemNavigation();}};S.prototype.exit=function(){this.destroyItemNavigation();this._$ItemPressed=null;};S.prototype.ontouchstart=function(e){if(sap.m.touch.countContained(e.touches,this.getId())>1||!this.getEnabled()){return;}e.setMarked();var t=e.targetTouches[0];this._iActiveTouchId=t.identifier;this._fStartX=t.pageX;this._fStartY=t.pageY;this._iStartTimeout=setTimeout(function(){var i=e.srcControl.$();if(i){i.addClass(this.getRenderer().CSS_CLASS+"ItemBasePressed");this._$ItemPressed=i;}}.bind(this),100);};S.prototype.ontouchmove=function(e){var t=null;if(!this.getEnabled()){return;}t=sap.m.touch.find(e.changedTouches,this._iActiveTouchId);if(t&&((Math.abs(t.pageX-this._fStartX)>10)||(Math.abs(t.pageY-this._fStartY)>10))){clearTimeout(this._iStartTimeout);if(this._$ItemPressed){this._$ItemPressed.removeClass(this.getRenderer().CSS_CLASS+"ItemBasePressed");this._$ItemPressed=null;}}};S.prototype.ontouchend=function(e){var t=null;if(!this.getEnabled()){return;}e.setMarked();t=sap.m.touch.find(e.changedTouches,this._iActiveTouchId);if(t){setTimeout(function(){if(this._$ItemPressed){this._$ItemPressed.removeClass(this.getRenderer().CSS_CLASS+"ItemBasePressed");this._$ItemPressed=null;}this._iStartTimeout=null;}.bind(this),100);}};S.prototype.ontouchcancel=S.prototype.ontouchend;S.prototype.ontap=function(e){if(this.getEnabled()){e.setMarked();this._activateItem(e.srcControl);}};S.prototype.onsapselect=function(e){if(this.getEnabled()){e.setMarked();e.preventDefault();this._activateItem(e.srcControl);}};S.prototype.onAfterFocus=function(c){this._handleARIAActivedescendant();};S.prototype.findFirstEnabledItem=function(a){a=a||this.getItems();for(var i=0;i<a.length;i++){if(a[i].getEnabled()){return a[i];}}return null;};S.prototype.setSelection=function(i){var s=this.getSelectedItem(),a=this.getRenderer().CSS_CLASS;this.setAssociation("selectedItem",i,true);this.setProperty("selectedItemId",(i instanceof sap.ui.core.Item)?i.getId():i,true);if(typeof i==="string"){i=sap.ui.getCore().byId(i);}this.setProperty("selectedKey",i?i.getKey():"",true);if(s){s.$().removeClass(a+"ItemBaseSelected").attr("aria-selected","false");}s=this.getSelectedItem();if(s){s.$().addClass(a+"ItemBaseSelected").attr("aria-selected","true");}};S.prototype.synchronizeSelection=function(o){if(this.isSelectionSynchronized()){return;}var f=true;if(o){f=!!o.forceSelection;}var k=this.getSelectedKey(),i=this.getItemByKey(""+k);if(i&&(k!=="")){this.setAssociation("selectedItem",i,true);this.setProperty("selectedItemId",i.getId(),true);}else if(f&&this.getDefaultSelectedItem()&&(!this.isBound("items")||this.bItemsUpdated)){this.setSelection(this.getDefaultSelectedItem());}};S.prototype.isSelectionSynchronized=function(){var i=this.getSelectedItem();return this.getSelectedKey()===(i&&i.getKey());};S.prototype.findLastEnabledItem=function(i){i=i||this.getItems();return this.findFirstEnabledItem(i.reverse());};S.prototype.getVisibleItems=function(){for(var i=0,o,a=this.getItems(),v=[];i<a.length;i++){o=a[i];if(o.bVisible||(o.bVisible===undefined)){v.push(o);}}return v;};S.prototype.getSelectableItems=function(){return this.getEnabledItems(this.getVisibleItems());};S.prototype.findItem=function(p,v){var m="get"+p.charAt(0).toUpperCase()+p.slice(1);for(var i=0,a=this.getItems();i<a.length;i++){if(a[i][m]()===v){return a[i];}}return null;};S.prototype.getItemByText=function(t){return this.findItem("text",t);};S.prototype.isItemSelected=function(i){return i&&(i.getId()===this.getAssociation("selectedItem"));};S.prototype.getDefaultSelectedItem=function(i){return null;};S.prototype.clearSelection=function(){this.setSelection(null);};S.prototype.createItemNavigation=function(){var d;if(!this._oItemNavigation){this._oItemNavigation=new I(null,null,!this.getEnabled());this._oItemNavigation.attachEvent(I.Events.AfterFocus,this.onAfterFocus,this);this.addEventDelegate(this._oItemNavigation);}d=this.getDomRef();this._oItemNavigation.setRootDomRef(d);this._oItemNavigation.setItemDomRefs(this._queryEnabledItemsDomRefs(d));this._oItemNavigation.setCycling(false);this._oItemNavigation.setSelectedIndex(this.indexOfItem(this.getSelectedItem()));this._oItemNavigation.setPageSize(10);};S.prototype.destroyItemNavigation=function(){if(this._oItemNavigation){this.removeEventDelegate(this._oItemNavigation);this._oItemNavigation.destroy();this._oItemNavigation=null;}};S.prototype.getItemNavigation=function(){return this._oItemNavigation;};S.prototype.setSelectedItem=function(i){if(typeof i==="string"){this.setAssociation("selectedItem",i,true);i=sap.ui.getCore().byId(i);}if(!(i instanceof sap.ui.core.Item)&&i!==null){return this;}if(!i){i=this.getDefaultSelectedItem();}this.setSelection(i);return this;};S.prototype.setSelectedItemId=function(i){i=this.validateProperty("selectedItemId",i);this.setSelection(i);return this;};S.prototype.setSelectedKey=function(k){k=this.validateProperty("selectedKey",k);var i=this.getItemByKey(k);if(i||(k==="")){if(!i&&k===""){i=this.getDefaultSelectedItem();}this.setSelection(i);return this;}return this.setProperty("selectedKey",k);};S.prototype.getSelectedItem=function(){var s=this.getAssociation("selectedItem");return(s===null)?null:sap.ui.getCore().byId(s)||null;};S.prototype.getItemAt=function(i){return this.getItems()[+i]||null;};S.prototype.getFirstItem=function(){return this.getItems()[0]||null;};S.prototype.getLastItem=function(){var i=this.getItems();return i[i.length-1]||null;};S.prototype.getEnabledItems=function(i){i=i||this.getItems();return i.filter(function(o){return o.getEnabled();});};S.prototype.getItemByKey=function(k){return this.findItem("key",k);};S.prototype.removeItem=function(i){i=this.removeAggregation("items",i);if(this.getItems().length===0){this.clearSelection();}else if(this.isItemSelected(i)){this.setSelection(this.getDefaultSelectedItem());}return i;};S.prototype.removeAllItems=function(){var i=this.removeAllAggregation("items",true);this.$().children("li").remove();return i;};S.prototype.destroyItems=function(){this.destroyAggregation("items",true);return this;};S.prototype.setNoDataText=q.noop;return S;},true);
sap.ui.predefine('sap/m/SelectListRenderer',['jquery.sap.global'],function(q){"use strict";var S={};S.CSS_CLASS="sapMSelectList";S.render=function(r,l){var C=S.CSS_CLASS;r.write("<ul");r.writeControlData(l);r.addClass(C);if(l.getShowSecondaryValues()){r.addClass(C+"TableLayout");}if(!l.getEnabled()){r.addClass(C+"Disabled");}r.addStyle("width",l.getWidth());r.addStyle("max-width",l.getMaxWidth());r.writeStyles();r.writeClasses();this.writeAccessibilityState(r,l);r.write(">");this.renderItems(r,l);r.write("</ul>");};S.renderItems=function(r,l){var s=l.getItems().length,o=l.getSelectedItem();for(var i=0,I=l.getItems();i<I.length;i++){this.renderItem(r,l,I[i],{selected:o===I[i],setsize:s,posinset:i+1});}};S.renderItem=function(r,l,i,s){if(!(i instanceof sap.ui.core.Element)){return;}var e=i.getEnabled(),o=l.getSelectedItem(),C=S.CSS_CLASS,t=i.getTooltip_AsString(),b=l.getShowSecondaryValues();r.write("<li");r.writeElementData(i);if(i instanceof sap.ui.core.SeparatorItem){r.addClass(C+"SeparatorItem");if(b){r.addClass(C+"Row");}}else{r.addClass(C+"ItemBase");if(b){r.addClass(C+"Row");}else{r.addClass(C+"Item");}if(i.bVisible===false){r.addClass(C+"ItemBaseInvisible");}if(!e){r.addClass(C+"ItemBaseDisabled");}if(e&&sap.ui.Device.system.desktop){r.addClass(C+"ItemBaseHoverable");}if(i===o){r.addClass(C+"ItemBaseSelected");}if(e){r.writeAttribute("tabindex","0");}}r.writeClasses();if(t){r.writeAttributeEscaped("title",t);}this.writeItemAccessibilityState.apply(this,arguments);r.write(">");if(b){r.write("<span");r.addClass(C+"Cell");r.addClass(C+"FirstCell");r.writeClasses();r.write(">");r.writeEscaped(i.getText());r.write("</span>");r.write("<span");r.addClass(C+"Cell");r.addClass(C+"LastCell");r.writeClasses();r.write(">");if(typeof i.getAdditionalText==="function"){r.writeEscaped(i.getAdditionalText());}r.write("</span>");}else{r.writeEscaped(i.getText());}r.write("</li>");};S.writeAccessibilityState=function(r,l){r.writeAccessibilityState({role:"listbox"});};S.writeItemAccessibilityState=function(r,l,i,s){var R=(i instanceof sap.ui.core.SeparatorItem)?"separator":"option";r.writeAccessibilityState(i,{role:R,selected:s.selected,setsize:s.setsize,posinset:s.posinset});};return S;},true);
sap.ui.predefine('sap/m/SelectRenderer',['jquery.sap.global','sap/ui/core/Renderer','sap/ui/core/ValueStateSupport','sap/ui/core/IconPool'],function(q,R,V,I){"use strict";var S={};S.CSS_CLASS="sapMSlt";S.render=function(r,s){var t=V.enrichTooltip(s,s.getTooltip_AsString()),T=s.getType(),a=s.getAutoAdjustWidth(),e=s.getEnabled(),C=S.CSS_CLASS;r.write("<div");this.addClass(r,s);r.addClass(C);r.addClass(C+s.getType());if(!e){r.addClass(C+"Disabled");}if(a){r.addClass(C+"AutoAdjustedWidth");}else{r.addStyle("width",s.getWidth());}if(s.getIcon()){r.addClass(C+"WithIcon");}if(e&&sap.ui.Device.system.desktop){r.addClass(C+"Hoverable");}r.addClass(C+"WithArrow");if(s.getValueState()!==sap.ui.core.ValueState.None){this.addValueStateClasses(r,s);}r.addStyle("max-width",s.getMaxWidth());r.writeControlData(s);r.writeStyles();r.writeClasses();this.writeAccessibilityState(r,s);if(t){r.writeAttributeEscaped("title",t);}else if(T===sap.m.SelectType.IconOnly){var i=I.getIconInfo(s.getIcon());if(i){r.writeAttributeEscaped("title",i.text);}}if(e){r.writeAttribute("tabindex","0");}r.write(">");this.renderLabel(r,s);switch(T){case sap.m.SelectType.Default:this.renderArrow(r,s);break;case sap.m.SelectType.IconOnly:this.renderIcon(r,s);break;}var l=s.getList();if(s._isShadowListRequired()&&l){r.renderControl(l);}if(s.getName()){this.renderInput(r,s);}r.write("</div>");};S.renderLabel=function(r,s){var o=s.getSelectedItem(),t=s.getTextDirection(),T=R.getTextAlign(s.getTextAlign(),t),C=S.CSS_CLASS;r.write("<label");r.writeAttribute("id",s.getId()+"-label");r.writeAttribute("for",s.getId());r.addClass(C+"Label");if(s.getValueState()!==sap.ui.core.ValueState.None){r.addClass(C+"LabelState");r.addClass(C+"Label"+s.getValueState());}if(s.getType()===sap.m.SelectType.IconOnly){r.addClass("sapUiPseudoInvisibleText");}if(t!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",t.toLowerCase());}if(T){r.addStyle("text-align",T);}r.writeStyles();r.writeClasses();r.write(">");r.writeEscaped((o&&o.getParent())?o.getText():"");r.write("</label>");};S.renderArrow=function(r,s){var C=S.CSS_CLASS;r.write("<span");r.addClass(C+"Arrow");if(s.getValueState()!==sap.ui.core.ValueState.None){r.addClass(C+"ArrowState");}r.writeAttribute("id",s.getId()+"-arrow");r.writeClasses();r.write("></span>");};S.renderIcon=function(r,s){r.writeIcon(s.getIcon(),S.CSS_CLASS+"Icon",{id:s.getId()+"-icon",title:null});};S.renderInput=function(r,s){r.write("<input hidden");r.writeAttribute("id",s.getId()+"-input");r.addClass(S.CSS_CLASS+"Input");r.writeAttribute("aria-hidden","true");r.writeAttribute("tabindex","-1");if(!s.getEnabled()){r.write("disabled");}r.writeClasses();r.writeAttributeEscaped("name",s.getName());r.writeAttributeEscaped("value",s.getSelectedKey());r.write("/>");};S.addClass=function(r,s){};S.addValueStateClasses=function(r,s){r.addClass(S.CSS_CLASS+"State");r.addClass(S.CSS_CLASS+s.getValueState());};S.getAriaRole=function(s){switch(s.getType()){case sap.m.SelectType.Default:return"combobox";case sap.m.SelectType.IconOnly:return"button";}};S.writeAccessibilityState=function(r,s){r.writeAccessibilityState(s,{role:this.getAriaRole(s),expanded:s.isOpen(),live:"polite",invalid:(s.getValueState()===sap.ui.core.ValueState.Error)?true:undefined,labelledby:{value:s.getId()+"-label",append:true}});};return S;},true);
sap.ui.predefine('sap/m/Shell',['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var S=C.extend("sap.m.Shell",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null},logo:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},showLogout:{type:"boolean",group:"Behavior",defaultValue:true},headerRightText:{type:"string",group:"Data",defaultValue:null},appWidthLimited:{type:"boolean",group:"Appearance",defaultValue:true},backgroundColor:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},backgroundImage:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},backgroundRepeat:{type:"boolean",group:"Appearance",defaultValue:false},backgroundOpacity:{type:"float",group:"Appearance",defaultValue:1},homeIcon:{type:"object",group:"Misc",defaultValue:null}},defaultAggregation:"app",aggregations:{app:{type:"sap.ui.core.Control",multiple:false}},events:{logout:{}}}});S.prototype.init=function(){sap.ui.getCore().attachThemeChanged(q.proxy(function(){var $=this.$("hdr");if($.length){$.find(".sapMShellLogo").remove();var h=sap.m.ShellRenderer.getLogoImageHtml(this);$.prepend(q(h));}},this));q.sap.initMobile({statusBar:"default",hideBrowser:true});};S.prototype.onAfterRendering=function(){var r=this.getDomRef().parentNode,$;if(r&&!r._sapui5_heightFixed){r._sapui5_heightFixed=true;while(r&&r!==document.documentElement){$=q(r);if($.attr("data-sap-ui-root-content")){break;}if(!r.style.height){r.style.height="100%";}r=r.parentNode;}}this.$("content").css("height","");};S.prototype.ontap=function(e){if(e.target.className&&e.target.className.indexOf&&e.target.className.indexOf("sapMShellHeaderLogout")>-1){this.fireLogout();}};S.prototype.setTitle=function(t){this.$("hdrTxt").text(t);this.setProperty("title",t,true);return this;};S.prototype.setHeaderRightText=function(t){this.setProperty("headerRightText",t,true);if(!t){t="";}this.$("hdrRightTxt").text(t).css("display",(!!t?"inline":"none"));return this;};S.prototype.setAppWidthLimited=function(L){this.$().toggleClass("sapMShellAppWidthLimited",L);this.setProperty("appWidthLimited",L,true);return this;};S.prototype.setBackgroundOpacity=function(o){if(o>1||o<0){q.sap.log.warning("Invalid value "+o+" for Shell.setBackgroundOpacity() ignored. Valid values are: floats between 0 and 1.");return this;}this.$("BG").css("opacity",o);return this.setProperty("backgroundOpacity",o,true);};S.prototype.setHomeIcon=function(i){this.setProperty("homeIcon",i,true);q.sap.setIcons(i);return this;};return S;},true);
sap.ui.predefine('sap/m/ShellRenderer',['jquery.sap.global'],function(q){"use strict";var S={};S.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapMShell");if(c.getAppWidthLimited()){r.addClass("sapMShellAppWidthLimited");}sap.m.BackgroundHelper.addBackgroundColorStyles(r,c.getBackgroundColor(),c.getBackgroundImage(),"sapMShellGlobalOuterBackground");r.writeClasses();r.writeStyles();var t=c.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}r.write(">");sap.m.BackgroundHelper.renderBackgroundImageTag(r,c,["sapContrastPlus","sapMShellBG","sapUiGlobalBackgroundImageForce"],c.getBackgroundImage(),c.getBackgroundRepeat(),c.getBackgroundOpacity());r.write("<div class='sapMShellBrandingBar'></div>");r.write("<div class='sapMShellCentralBox'>");var e="",a="";if(!c.getBackgroundImage()){e="sapMShellBackgroundColorOnlyIfDefault";a="sapUiGlobalBackgroundImageOnlyIfDefault";}r.write("<header class='sapMShellHeader "+e+"' id='"+c.getId()+"-hdr'>");r.write("<div class='"+a+"'></div>");r.write(S.getLogoImageHtml(c));r.write("<h1 id='"+c.getId()+"-hdrTxt' class='sapMShellHeaderText'>");r.writeEscaped(c.getTitle());r.write("</h1>");r.write("<span class='sapMShellHeaderRight'>");r.write("<span id='"+c.getId()+"-hdrRightTxt' ");if(!c.getHeaderRightText()){r.writeAttribute("style","display:none;");}r.write("class='sapMShellHeaderRightText'>"+q.sap.encodeHTML(c.getHeaderRightText())+"</span>");if(c.getShowLogout()){var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");r.write("<a id='"+c.getId()+"-logout' tabindex='0' role='button' class='sapMShellHeaderLogout'>"+b.getText("SHELL_LOGOUT")+"</a>");}r.write("</span></header>");r.write("<section class='sapMShellContent sapMShellGlobalInnerBackground' id='"+c.getId()+"-content' data-sap-ui-root-content='true'>");r.renderControl(c.getApp());r.write("</section></div></div>");};S.getLogoImageHtml=function(c){var i=c.getLogo();if(!i){q.sap.require("sap.ui.core.theming.Parameters");i=sap.ui.core.theming.Parameters._getThemeImage();}var r="";if(i){var R=sap.ui.getCore().getLibraryResourceBundle("sap.m");r="<div class='sapMShellLogo'>";if(sap.ui.Device.browser.msie){r+="<span class='sapMShellLogoImgAligner'></span>";}r+="<img id='"+c.getId()+"-logo' class='sapMShellLogoImg' src='";r+=q.sap.encodeHTML(i);r+="' alt='";r+=R.getText("SHELL_ARIA_LOGO");r+="' /></div>";}return r;};return S;},true);
sap.ui.predefine('sap/m/SlideTile',['jquery.sap.global','./library','sap/ui/core/Control','sap/m/GenericTile'],function(q,l,C,G){"use strict";var S=C.extend("sap.m.SlideTile",{metadata:{library:"sap.m",properties:{"displayTime":{type:"int",group:"Appearance",defaultValue:5000},"transitionTime":{type:"int",group:"Appearance",defaultValue:500},"scope":{type:"sap.m.GenericTileScope",group:"Misc",defaultValue:sap.m.GenericTileScope.Display}},defaultAggregation:"tiles",aggregations:{"tiles":{type:"sap.m.GenericTile",multiple:true,singularName:"tile",bindable:"bindable"},"_pausePlayIcon":{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},events:{"press":{parameters:{"scope":{type:"sap.m.GenericTileScope"},"action":{type:"string"},"domRef":{type:"any"}}}}}});S.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this.setAggregation("_pausePlayIcon",new sap.ui.core.Icon({id:this.getId()+"-pause-play-icon",src:"sap-icon://media-pause",color:"#ffffff",size:"1rem",noTabStop:true}),true);};S.prototype.onBeforeRendering=function(){G.prototype._initScopeContent.call(this,"sapMST");var a=this.getScope()===l.GenericTileScope.Actions;for(var i=0;i<this.getTiles().length;i++){this.getTiles()[i].showActionsView(a);}if(this._iCurrentTile>=0){this._iLastTile=this._iCurrentTile;}this._bNeedInvalidate=false;this._stopAnimation();this._sWidth=this._sHeight=undefined;this._iCurrentTile=this._iPreviousTile=undefined;};S.prototype.onAfterRendering=function(){var c=this.getTiles().length,s=this.getScope();this._removeGTFocus();this._iCurrAnimationTime=0;this._bAnimationPause=false;if(this._iLastTile>=0&&c>1){this._scrollToTile(this._iLastTile);}else{this._scrollToNextTile();}if(c>1&&s===l.GenericTileScope.Display){this._startAnimation();}if(s===l.GenericTileScope.Actions&&this._iCurrentTile>=0&&this._hasNewsContent(this._iCurrentTile)){this.addStyleClass("sapMSTDarkBackground");}};S.prototype.exit=function(){this._stopAnimation();if(this._oMoreIcon){this._oMoreIcon.destroy();}if(this._oRemoveButton){this._oRemoveButton.destroy();}};S.prototype.ontap=function(e){var s=this.getScope();this.$().focus();if(s===l.GenericTileScope.Actions){var p=this._getEventParams(e);this.firePress(p);e.preventDefault();}};S.prototype.ontouchstart=function(e){if(this.getScope()===l.GenericTileScope.Display){if(q(e.target).hasClass("sapMSTIconClickTapArea")){this.addStyleClass("sapMSTIconPressed");}else{this.addStyleClass("sapMSTHvr");}}};S.prototype.ontouchend=function(e){this.removeStyleClass("sapMSTHvr");};S.prototype.ontouchcancel=function(e){if(this.hasStyleClass("sapMSTIconPressed")){this.removeStyleClass("sapMSTIconPressed");}else{this.removeStyleClass("sapMSTHvr");}};S.prototype.onkeydown=function(e){if(this.getScope()===l.GenericTileScope.Display){if(q.sap.PseudoEvents.sapenter.fnCheck(e)){var g=this.getTiles()[this._iCurrentTile];g.onkeydown(e);}}};S.prototype.onkeyup=function(e){var p;if(this.getScope()===l.GenericTileScope.Display){if(q.sap.PseudoEvents.sapenter.fnCheck(e)){var g=this.getTiles()[this._iCurrentTile];g.onkeyup(e);return;}if(q.sap.PseudoEvents.sapspace.fnCheck(e)){this._toggleAnimation();}if(e.which===q.sap.KeyCodes.B&&this._bAnimationPause){this._scrollToNextTile(true,true);}if(e.which===q.sap.KeyCodes.F&&this._bAnimationPause){this._scrollToNextTile(true,false);}}else if(this.getScope()===l.GenericTileScope.Actions){if(q.sap.PseudoEvents.sapselect.fnCheck(e)){this.firePress(this._getEventParams(e));e.preventDefault();}else if(q.sap.PseudoEvents.sapdelete.fnCheck(e)||q.sap.PseudoEvents.sapbackspace.fnCheck(e)){p={scope:this.getScope(),action:G._Action.Remove,domRef:this._oRemoveButton.getPopupAnchorDomRef()};this.firePress(p);e.preventDefault();}}};S.prototype.onmouseup=function(e){if(this.getScope()===l.GenericTileScope.Display){if(this.hasStyleClass("sapMSTIconPressed")){this._toggleAnimation();this.removeStyleClass("sapMSTIconPressed");}else if(sap.ui.Device.system.desktop){e.preventDefault();this.getTiles()[this._iCurrentTile].firePress();}}};S.prototype.onmousedown=function(e){if(q(e.target).hasClass("sapMSTIconClickTapArea")){this.addStyleClass("sapMSTIconPressed");}};S.prototype.onfocusout=function(e){if(this.getScope()===l.GenericTileScope.Actions){return;}if(this.getTiles().length>1&&!this._isFocusInsideST()&&this._bAnimationPause){this._startAnimation();this._updatePausePlayIcon();}};S.prototype.setScope=function(v){if(this.getScope()!==v){if(v===l.GenericTileScope.Actions){this.setProperty("scope",v,true);this._bNeedInvalidate=true;this._stopAnimation(this._bNeedInvalidate);}else{this.setProperty("scope",v);}this._setTilePressState();}return this;};S.prototype._isFocusInsideST=function(){return this.$()[0]===document.activeElement||this.$().find(document.activeElement).length;};S.prototype._removeGTFocus=function(){for(var i=0;i<this.getTiles().length;i++){this.getTiles()[i].$().removeAttr("tabindex");}};S.prototype._toggleAnimation=function(){if(this.getTiles().length>1){if(this._bAnimationPause){this._startAnimation();}else{this._stopAnimation();}}this._updatePausePlayIcon();};S.prototype._stopAnimation=function(n){this._iCurrAnimationTime+=Date.now()-this._iStartTime;clearTimeout(this._sTimerId);if(this._iCurrentTile!=undefined){var w=this.$("wrapper-"+this._iCurrentTile);w.stop();}if(this._iPreviousTile!=undefined){var W=this.$("wrapper-"+this._iPreviousTile);W.stop();}if(this._iCurrAnimationTime>this.getDisplayTime()){this._scrollToNextTile(true);}else if(n){this.invalidate();}this._bAnimationPause=true;};S.prototype._startAnimation=function(){var d=this.getDisplayTime()-this._iCurrAnimationTime;clearTimeout(this._sTimerId);this._sTimerId=setTimeout(function(){this._scrollToNextTile();}.bind(this),d);this._iStartTime=Date.now();this._bAnimationPause=false;};S.prototype._scrollToTile=function(t){if(t>=0){var w=this.$("wrapper-"+t);var d=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";this._changeSizeTo(t);w.css(d,"0rem");this._iCurrentTile=t;if(this.getTiles()[t]){this._setAriaDescriptor();}this._updateTilesIndicator();}};S.prototype._scrollToNextTile=function(p,b){var t=this._iCurrAnimationTime-this.getDisplayTime(),f,n,w,W,s,a,c,d,D,o;t=this.getTransitionTime()-(t>0?t:0);f=t===this.getTransitionTime();if(f){if(b){n=this._getPreviousTileIndex(this._iCurrentTile);}else{n=this._getNextTileIndex(this._iCurrentTile);}this._iPreviousTile=this._iCurrentTile;this._iCurrentTile=n;}W=this.$("wrapper-"+this._iCurrentTile);D=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";if(q.isNumeric(this._iPreviousTile)){w=this.$("wrapper-"+this._iPreviousTile);s=w.css("width");a=parseFloat(W.css("width"));c=parseFloat(s);d=c<a;if(d){this._changeSizeTo(this._iCurrentTile);}if(f){W.css(D,s);}o={};if(b){o[D]=s;}else{o[D]="-"+s;}w.animate(o,{duration:t,done:function(){if(!d){this._changeSizeTo(this._iCurrentTile);}w.css(D,"");}.bind(this)});if(b){o[D]="-"+s;W.animate(o,0);}o[D]="0rem";W.animate(o,{duration:t,done:function(){this._iCurrAnimationTime=0;if(this._bNeedInvalidate){this.invalidate();}if(!p){this._startAnimation();}}.bind(this)});}else{this._changeSizeTo(this._iCurrentTile);W.css(D,"0rem");}if(this.getTiles()[this._iCurrentTile]){this._setAriaDescriptor();}this._updateTilesIndicator();};S.prototype._setAriaDescriptor=function(){var t=this._oRb.getText("SLIDETILE_TOGGLE_SLIDING"),T=this.getTiles()[this._iCurrentTile]._getAriaText().replace(/\s/g," ");if(this.getTiles().length>1){T=T+"\n"+t;}this.$().attr("aria-label",T);};S.prototype._changeSizeTo=function(t){var T=this.getTiles()[t];if(!T){return;}if(this._sFrameType){this.$().removeClass(this._sFrameType);}if(this._sSize){this.$().removeClass(this._sSize);}this.$().addClass(T.getFrameType()).addClass(T.getSize());this._sFrameType=T.getFrameType();this._sSize=T.getSize();};S.prototype._getPreviousTileIndex=function(t){if(t>0){return t-1;}else{return this.getTiles().length-1;}};S.prototype._getNextTileIndex=function(t){if(t+1<this.getTiles().length){return t+1;}else{return 0;}};S.prototype._updateTilesIndicator=function(){var $;for(var i=0;i<this.getTiles().length;i++){$=this.$("tileIndicator-"+i);if(i===this._iCurrentTile){$.addClass("sapMSTActive");}else{$.removeClass("sapMSTActive");}}};S.prototype._updatePausePlayIcon=function(){if(this._bAnimationPause){this.getAggregation("_pausePlayIcon").setSrc("sap-icon://media-play");this.$().removeClass("sapMSTPauseIcon");}else{this.getAggregation("_pausePlayIcon").setSrc("sap-icon://media-pause");this.$().addClass("sapMSTPauseIcon");}};S.prototype._setTilePressState=function(){var t=this.getTiles(),T=this.getScope()===l.GenericTileScope.Display;for(var i=0;i<t.length;i++){t[i].setPressEnabled(T);}};S.prototype._hasNewsContent=function(t){var T=this.getTiles()[t].getTileContent();for(var i=0;i<T.length;i++){if(T[i]._getContentType()==="News"){return true;}}return false;};S.prototype._getEventParams=G.prototype._getEventParams;return S;},true);
sap.ui.predefine('sap/m/SlideTileRenderer',["sap/m/GenericTileScope"],function(G){"use strict";var S={};S.render=function(r,c){var t=c.getTooltip_AsString(),s=c.getScope(),a=jQuery.sap.encodeCSS("sapMSTScope"+s),l;r.write("<div");r.writeControlData(c);r.addClass("sapMST");r.addClass(a);if(!this._bAnimationPause){r.addClass("sapMSTPauseIcon");}r.writeClasses();if(t){r.writeAttributeEscaped("title",t);}r.writeAttribute("tabindex","0");r.writeAttribute("role","presentation");r.write(">");l=c.getTiles().length;if(l>1&&s===G.Display){this._renderPausePlayIcon(r,c);this._renderTilesIndicator(r,c);}this._renderTiles(r,c,l);if(s===G.Actions){this._renderActionsScope(r,c);}r.write("<div");r.addClass("sapMSTFocusDiv");r.writeClasses();r.writeAttribute("id",c.getId()+"-focus");r.write(">");r.write("</div>");r.write("</div>");};S._renderTiles=function(r,c,l){r.write("<div");r.addClass("sapMSTOverflowHidden");r.writeClasses();r.write(">");for(var i=0;i<l;i++){r.write("<div");r.writeAttribute("id",c.getId()+"-wrapper-"+i);r.addClass("sapMSTWrapper");r.writeClasses();r.write(">");r.renderControl(c.getTiles()[i]);r.write("</div>");}r.write("</div>");};S._renderTilesIndicator=function(r,c){var p=c.getTiles().length;r.write("<div");r.writeAttribute("id",c.getId()+"-tilesIndicator");r.addClass("sapMSTBulleted");r.writeClasses();r.write(">");for(var i=0;i<p;i++){r.write("<span");r.writeAttribute("id",c.getId()+"-tileIndicator-"+i);r.write(">");r.write("</span>");}r.write("</div>");};S._renderPausePlayIcon=function(r,c){if(c.getTiles().length>1){r.write("<div");r.addClass("sapMSTIconClickTapArea");r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("sapMSTIconDisplayArea");r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("sapMSTIconNestedArea");r.writeClasses();r.write(">");r.renderControl(c.getAggregation("_pausePlayIcon"));r.write("</div>");}};S._renderActionsScope=function(r,c){r.renderControl(c._oRemoveButton);r.renderControl(c._oMoreIcon);};return S;},true);
sap.ui.predefine('sap/m/Slider.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},reveal:{changeType:"unhideControl"}},aggregations:{scale:{domRef:":sap-domref > .sapMSliderTickmarks"}},name:{singular:"SLIDER_NAME",plural:"SLIDER_NAME_PLURAL"}};},true);
sap.ui.predefine('sap/m/Slider',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','./Input','sap/ui/core/InvisibleText'],function(q,l,C,E,I,a){"use strict";var S=C.extend("sap.m.Slider",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%"},enabled:{type:"boolean",group:"Behavior",defaultValue:true},name:{type:"string",group:"Misc",defaultValue:""},min:{type:"float",group:"Data",defaultValue:0},max:{type:"float",group:"Data",defaultValue:100},step:{type:"float",group:"Data",defaultValue:1},progress:{type:"boolean",group:"Misc",defaultValue:true},value:{type:"float",group:"Data",defaultValue:0},showHandleTooltip:{type:"boolean",group:"Appearance",defaultValue:true},showAdvancedTooltip:{type:"boolean",group:"Appearance",defaultValue:false},inputsAsTooltips:{type:"boolean",group:"Appearance",defaultValue:false},enableTickmarks:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"scale",aggregations:{scale:{type:"sap.m.IScale",multiple:false,singularName:"scale"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{value:{type:"float"}}},liveChange:{parameters:{value:{type:"float"}}}},designTime:true}});S.prototype._CONSTANTS={CHARACTER_WIDTH_PX:8,INPUT_STATE_NONE:"None",INPUT_STATE_ERROR:"Error",TICKMARKS:{MAX_POSSIBLE:100,MIN_SIZE:{SMALL:8,WITH_LABEL:80}}};E.apply(S.prototype,[true]);S.prototype._convertValueToRtlMode=function(v){return this.getMax()-v+this.getMin();};S.prototype._recalculateStyles=function(){var s=this.$();this._fSliderWidth=s.width();this._fSliderPaddingLeft=parseFloat(s.css("padding-left"));this._fSliderOffsetLeft=s.offset().left;this._fHandleWidth=this.$("handle").width();this._fTooltipHalfWidthPercent=((this._fSliderWidth-(this._fSliderWidth-(this._iLongestRangeTextWidth/2+this._CONSTANTS.CHARACTER_WIDTH_PX)))/this._fSliderWidth)*100;};S.prototype._validateProperties=function(){var m=this.getMin(),M=this.getMax(),s=this.getStep(),b=false,e=false;if(m>=M){b=true;e=true;q.sap.log.warning("Warning: "+"Property wrong min: "+m+" >= max: "+M+" on ",this);}if(s<=0){q.sap.log.warning("Warning: "+"The step could not be negative on ",this);}if(s>(M-m)&&!b){e=true;q.sap.log.warning("Warning: "+"Property wrong step: "+s+" > max: "+M+" - "+"min: "+m+" on ",this);}return e;};S.prototype._getPercentOfValue=function(v){var m=this.getMin(),p=((v-m)/(this.getMax()-m))*100;return p;};S.prototype._getValueOfPercent=function(p){var m=this.getMin();var v=(p*(this.getMax()-m)/100)+m;var b=(""+this.getStep()).split(".")[1];b=b?b.length:0;return Number(v.toFixed(b));};S.prototype._validateStep=function(s){if(typeof s==="undefined"){return 1;}if(typeof s!=="number"){q.sap.log.warning('Warning: "iStep" needs to be a number',this);return 0;}if((Math.floor(s)===s)&&isFinite(s)){return s;}q.sap.log.warning('Warning: "iStep" needs to be a finite interger',this);return 0;};S.prototype._handleTickmarksResponsiveness=function(){var L,o,O,h,s=this.getAggregation("scale"),t=this.$().find(".sapMSliderTick"),i=this.$().find(".sapMSliderTickmarks").width(),b=(i/t.size())>=this._CONSTANTS.TICKMARKS.MIN_SIZE.SMALL;if(this._bTickmarksLastVisibilityState!==b){t.toggle(b);this._bTickmarksLastVisibilityState=b;}L=this.$().find(".sapMSliderTickLabel").toArray();o=parseFloat(L[1].style.left);O=i*o/100;h=s.getHiddenTickmarksLabels(i,L.length,O,this._CONSTANTS.TICKMARKS.MIN_SIZE.WITH_LABEL);L.forEach(function(e,c){e.style.display=h[c]?"none":"inline-block";});};S.prototype.getDecimalPrecisionOfNumber=function(v){if(Math.floor(v)===v){return 0;}var V=v.toString(),i=V.indexOf("."),b=V.indexOf("e-"),c=b!==-1,d=i!==-1;if(c){var e=+V.slice(b+2);if(d){return e+V.slice(i+1,b).length;}return e;}if(d){return V.length-i-1;}return 0;};S.prototype.toFixed=function(n,d){if(d===undefined){d=this.getDecimalPrecisionOfNumber(n);}if(d>20){d=20;}else if(d<0){d=0;}return n.toFixed(d)+"";};S.prototype.setDomValue=function(n){var d=this.getDomRef();if(!d){return;}var p=Math.max(this._getPercentOfValue(+n),0)+"%",h=this.getDomRef("handle");if(!!this.getName()){this.getDomRef("input").setAttribute("value",n);}if(this.getProgress()){this.getDomRef("progress").style.width=p;}h.style[sap.ui.getCore().getConfiguration().getRTL()?"right":"left"]=p;if(this.getShowAdvancedTooltip()){this._updateAdvancedTooltipDom(n);}if(this.getShowHandleTooltip()&&!this.getShowAdvancedTooltip()){h.title=n;}h.setAttribute("aria-valuenow",n);};S.prototype._updateAdvancedTooltipDom=function(n){var i=this.getInputsAsTooltips(),t=this.getDomRef("TooltipsContainer"),T=i&&this._oInputTooltip?this._oInputTooltip.tooltip:this.getDomRef("Tooltip"),A=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";if(!i){T.innerHTML=n;}else if(i&&T.getValue()!==n){T.setValueState(this._CONSTANTS.INPUT_STATE_NONE);T.setValue(n);T.$("inner").attr("value",n);}t.style[A]=this._getTooltipPosition(n);};S.prototype._getTooltipPosition=function(n){var p=this._getPercentOfValue(+n);if(p<this._fTooltipHalfWidthPercent){return 0+"%";}else if(p>100-this._fTooltipHalfWidthPercent){return(100-this._fTooltipHalfWidthPercent*2)+"%";}else{return p-this._fTooltipHalfWidthPercent+"%";}};S.prototype.getClosestHandleDomRef=function(){return this.getDomRef("handle");};S.prototype._increaseValueBy=function(i){var v,n;if(this.getEnabled()){v=this.getValue();this.setValue(v+(i||1));n=this.getValue();if(v<n){this._fireChangeAndLiveChange({value:n});}}};S.prototype._decreaseValueBy=function(d){var v,n;if(this.getEnabled()){v=this.getValue();this.setValue(v-(d||1));n=this.getValue();if(v>n){this._fireChangeAndLiveChange({value:n});}}};S.prototype._getLongStep=function(){var m=this.getMin(),M=this.getMax(),s=this.getStep(),L=(M-m)/10,i=(M-m)/s;return i>10?L:s;};S.prototype._fireChangeAndLiveChange=function(p){this.fireChange(p);this.fireLiveChange(p);};S.prototype._hasFocus=function(){return document.activeElement===this.getFocusDomRef();};S.prototype._createInputField=function(s,A){var i=new I(this.getId()+"-"+s,{value:this.getMin(),width:this._iLongestRangeTextWidth+(2*this._CONSTANTS.CHARACTER_WIDTH_PX)+"px",type:"Number",textAlign:sap.ui.core.TextAlign.Center,ariaLabelledBy:A});i.attachChange(this._handleInputChange.bind(this,i));i.addEventDelegate({onfocusout:function(e){if(e.target.value!==undefined){e.srcControl.fireChange({value:e.target.value});}}});return i;};S.prototype._handleInputChange=function(i,e){var n=parseFloat(e.getParameter("value"));if(isNaN(n)||n<this.getMin()||n>this.getMax()){i.setValueState(this._CONSTANTS.INPUT_STATE_ERROR);return;}i.setValueState(this._CONSTANTS.INPUT_STATE_NONE);this.setValue(n);i.focus();this._fireChangeAndLiveChange({value:this.getValue()});};S.prototype.init=function(){this._iActiveTouchId=-1;this._bSetValueFirstCall=true;this._iLongestRangeTextWidth=0;this._fTooltipHalfWidthPercent=0;this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");};S.prototype.exit=function(){if(this._oInputTooltip){this._oInputTooltip.label.destroy();this._oInputTooltip.label=null;this._oInputTooltip.tooltip.destroy();this._oInputTooltip.tooltip=null;this._oInputTooltip=null;}if(this._oResourceBundle){this._oResourceBundle=null;}if(this._parentResizeHandler){sap.ui.core.ResizeHandler.deregister(this._parentResizeHandler);this._parentResizeHandler=null;}};S.prototype.onBeforeRendering=function(){var e=this._validateProperties(),A=[Math.abs(this.getMin()),Math.abs(this.getMax())],r=A[0]>A[1]?0:1;if(!e){this.setValue(this.getValue());this._sProgressValue=Math.max(this._getPercentOfValue(this.getValue()),0)+"%";}if(!this._hasFocus()){this._fInitialFocusValue=this.getValue();}if(this.getShowAdvancedTooltip()){this._iLongestRangeTextWidth=((A[r].toString()).length+this.getDecimalPrecisionOfNumber(this.getStep())+1)*this._CONSTANTS.CHARACTER_WIDTH_PX;}if(this.getInputsAsTooltips()&&!this._oInputTooltip){var s=new a({text:this._oResourceBundle.getText("SLIDER_HANDLE")});this._oInputTooltip={tooltip:this._createInputField("Tooltip",s),label:s};}if(this.getEnableTickmarks()&&!this.getAggregation("scale")){this.setAggregation("scale",new sap.m.ResponsiveScale());}};S.prototype.onAfterRendering=function(){if(this.getShowAdvancedTooltip()){this._recalculateStyles();this._updateAdvancedTooltipDom(this.getValue());}if(this.getEnableTickmarks()){q.sap.delayedCall(0,this,function(){this._parentResizeHandler=sap.ui.core.ResizeHandler.register(this,this._handleTickmarksResponsiveness.bind(this));});}};S.prototype.ontouchstart=function(e){var m=this.getMin(),t=e.targetTouches[0],n,b=this.getRenderer().CSS_CLASS,s="."+b;e.setMarked();if(sap.m.touch.countContained(e.touches,this.getId())>1||!this.getEnabled()||e.button||(e.srcControl!==this)){return;}this._iActiveTouchId=t.identifier;q(document).on("touchend"+s+" touchcancel"+s+" mouseup"+s,this._ontouchend.bind(this)).on(e.originalEvent.type==="touchstart"?"touchmove"+s:"touchmove"+s+" mousemove"+s,this._ontouchmove.bind(this));var N=this.getClosestHandleDomRef();if(t.target!==N){q.sap.delayedCall(0,N,"focus");}if(!this._hasFocus()){this._fInitialFocusValue=this.getValue();}this._recalculateStyles();this._fDiffX=this._fSliderPaddingLeft;this._fInitialValue=this.getValue();this.$("inner").addClass(b+"Pressed");if(t.target===this.getDomRef("handle")){this._fDiffX=(t.pageX-q(N).offset().left)+this._fSliderPaddingLeft-(this._fHandleWidth/2);}else{n=(((t.pageX-this._fSliderPaddingLeft-this._fSliderOffsetLeft)/this._fSliderWidth)*(this.getMax()-m))+m;if(sap.ui.getCore().getConfiguration().getRTL()){n=this._convertValueToRtlMode(n);}this.setValue(n);n=this.getValue();if(this._fInitialValue!==n){this.fireLiveChange({value:n});}}};S.prototype._ontouchmove=function(e){e.setMarked();e.preventDefault();if(e.isMarked("delayedMouseEvent")||!this.getEnabled()||e.button){return;}var m=this.getMin(),v=this.getValue(),t=sap.m.touch.find(e.changedTouches,this._iActiveTouchId),p=t?t.pageX:e.pageX,n=(((p-this._fDiffX-this._fSliderOffsetLeft)/this._fSliderWidth)*(this.getMax()-m))+m;if(sap.ui.getCore().getConfiguration().getRTL()){n=this._convertValueToRtlMode(n);}this.setValue(n);n=this.getValue();if(v!==n){this.fireLiveChange({value:n});}};S.prototype._ontouchend=function(e){var b=this.getRenderer().CSS_CLASS,s="."+b;e.setMarked();if(e.isMarked("delayedMouseEvent")||!this.getEnabled()||e.button){return;}q(document).off(s);var v=this.getValue();this.$("inner").removeClass(b+"Pressed");if(this._fInitialValue!==v){this.fireChange({value:v});}};S.prototype.onfocusin=function(e){this.$("TooltipsContainer").addClass(this.getRenderer().CSS_CLASS+"HandleTooltipsShow");if(!this._hasFocus()){this._fInitialFocusValue=this.getValue();}};S.prototype.onfocusout=function(e){if(this.getInputsAsTooltips()&&q.contains(this.getDomRef(),e.relatedTarget)){return;}this.$("TooltipsContainer").removeClass(this.getRenderer().CSS_CLASS+"HandleTooltipsShow");};S.prototype.onsapincrease=function(e){var v,n;if(e.srcControl!==this){return;}e.preventDefault();e.setMarked();if(this.getEnabled()){v=this.getValue();this.stepUp(1);n=this.getValue();if(v<n){this._fireChangeAndLiveChange({value:n});}}};S.prototype.onsapincreasemodifiers=function(e){if(e.srcControl!==this){return;}e.preventDefault();e.setMarked();this._increaseValueBy(this._getLongStep());};S.prototype.onsapdecrease=function(e){var v,n;if(e.srcControl!==this){return;}e.preventDefault();e.setMarked();if(this.getEnabled()){v=this.getValue();this.stepDown(1);n=this.getValue();if(v>n){this._fireChangeAndLiveChange({value:n});}}};S.prototype.onsapdecreasemodifiers=function(e){if(e.srcControl!==this){return;}e.preventDefault();e.setMarked();this._decreaseValueBy(this._getLongStep());};S.prototype.onsapplus=function(e){var v,n;if(e.srcControl!==this){return;}e.setMarked();if(this.getEnabled()){v=this.getValue();this.stepUp(1);n=this.getValue();if(v<n){this._fireChangeAndLiveChange({value:n});}}};S.prototype.onsapminus=function(e){var v,n;if(e.srcControl!==this){return;}e.setMarked();if(this.getEnabled()){v=this.getValue();this.stepDown(1);n=this.getValue();if(v>n){this._fireChangeAndLiveChange({value:n});}}};S.prototype.onsappageup=S.prototype.onsapincreasemodifiers;S.prototype.onsappagedown=S.prototype.onsapdecreasemodifiers;S.prototype.onsaphome=function(e){if(e.srcControl!==this){return;}e.setMarked();var m=this.getMin();e.preventDefault();if(this.getEnabled()&&this.getValue()>m){this.setValue(m);this._fireChangeAndLiveChange({value:m});}};S.prototype.onsapend=function(e){if(e.srcControl!==this){return;}e.setMarked();var m=this.getMax();e.preventDefault();if(this.getEnabled()&&this.getValue()<m){this.setValue(m);this._fireChangeAndLiveChange({value:m});}};S.prototype.onsaptabnext=function(){this._fInitialFocusValue=this.getValue();};S.prototype.onsaptabprevious=function(){this._fInitialFocusValue=this.getValue();};S.prototype.onsapescape=function(){this.setValue(this._fInitialFocusValue);};S.prototype.getFocusDomRef=function(){return this.getDomRef("handle");};S.prototype.stepUp=function(s){return this.setValue(this.getValue()+(this._validateStep(s)*this.getStep()),{snapValue:false});};S.prototype.stepDown=function(s){return this.setValue(this.getValue()-(this._validateStep(s)*this.getStep()),{snapValue:false});};S.prototype.setValue=function(n,o){if(this._bSetValueFirstCall){this._bSetValueFirstCall=false;return this.setProperty("value",n,true);}var m=this.getMin(),M=this.getMax(),s=this.getStep(),v=this.getValue(),N,b=true,f;if(o){b=!!o.snapValue;}if(typeof n!=="number"||!isFinite(n)){q.sap.log.error("Error:",'"fNewValue" needs to be a finite number on ',this);return this;}f=Math.abs((n-m)%s);if(b&&(f!==0)){n=f*2>=s?n+s-f:n-f;}if(n<m){n=m;}else if(n>M){n=M;}N=this.toFixed(n,this.getDecimalPrecisionOfNumber(s));n=Number(N);this.setProperty("value",n,true);if(v!==this.getValue()){this.setDomValue(N);}return this;};return S;},true);
sap.ui.predefine('sap/m/SliderRenderer',['jquery.sap.global'],function(q){"use strict";var S={};S.CSS_CLASS="sapMSlider";S.render=function(r,s){var e=s.getEnabled(),t=s.getTooltip_AsString(),C=S.CSS_CLASS;r.write("<div");this.addClass(r,s);if(!e){r.addClass(C+"Disabled");}r.addStyle("width",s.getWidth());r.writeClasses();r.writeStyles();r.writeControlData(s);if(t&&s.getShowHandleTooltip()){r.writeAttributeEscaped("title",t);}r.write(">");r.write('<div');r.writeAttribute("id",s.getId()+"-inner");this.addInnerClass(r,s);if(!e){r.addClass(C+"InnerDisabled");}r.writeClasses();r.writeStyles();r.write(">");if(s.getProgress()){this.renderProgressIndicator(r,s);}this.renderHandles(r,s);r.write("</div>");if(s.getEnableTickmarks()){this.renderTickmarks(r,s);}else{this.renderLabels(r,s);}if(s.getName()){this.renderInput(r,s);}r.write("</div>");};S.renderProgressIndicator=function(r,s){r.write("<div");r.writeAttribute("id",s.getId()+"-progress");this.addProgressIndicatorClass(r,s);r.addStyle("width",s._sProgressValue);r.writeClasses();r.writeStyles();r.write(' aria-hidden="true"></div>');};S.renderHandles=function(r,s){this.renderHandle(r,s,{id:s.getId()+"-handle"});if(s.getShowAdvancedTooltip()){this.renderTooltips(r,s);}};S.renderHandle=function(r,s,o){var e=s.getEnabled();r.write("<span");if(o&&(o.id!==undefined)){r.writeAttributeEscaped("id",o.id);}if(s.getShowHandleTooltip()&&!s.getShowAdvancedTooltip()){this.writeHandleTooltip(r,s);}this.addHandleClass(r,s);r.addStyle(sap.ui.getCore().getConfiguration().getRTL()?"right":"left",s._sProgressValue);this.writeAccessibilityState(r,s);r.writeClasses();r.writeStyles();if(e){r.writeAttribute("tabindex","0");}r.write("></span>");};S.renderTooltips=function(r,s){r.write("<div");r.writeAttribute("id",s.getId()+"-TooltipsContainer");r.addClass(S.CSS_CLASS+"TooltipContainer");r.addStyle("left","0%");r.addStyle("right","0%");r.addStyle("min-width","0%");r.writeClasses();r.writeStyles();r.write(">");this.renderTooltip(r,s,s.getInputsAsTooltips());r.write("</div>");};S.renderTooltip=function(r,s,i){if(i&&s._oInputTooltip){r.renderControl(s._oInputTooltip.tooltip);}else{r.write("<span");r.addClass(S.CSS_CLASS+"HandleTooltip");r.addStyle("width",s._iLongestRangeTextWidth+"px");r.writeAttribute("id",s.getId()+"-Tooltip");r.writeClasses();r.writeStyles();r.write(">");r.write("</span>");}};S.writeHandleTooltip=function(r,s){r.writeAttribute("title",s.toFixed(s.getValue()));};S.renderInput=function(r,s){r.write('<input type="text"');r.writeAttribute("id",s.getId()+"-input");r.addClass(S.CSS_CLASS+"Input");if(!s.getEnabled()){r.write("disabled");}r.writeClasses();r.writeAttributeEscaped("name",s.getName());r.writeAttribute("value",s.toFixed(s.getValue()));r.write("/>");};S.writeAccessibilityState=function(r,s){r.writeAccessibilityState(s,{role:"slider",orientation:"horizontal",valuemin:s.toFixed(s.getMin()),valuemax:s.toFixed(s.getMax()),valuenow:s.toFixed(s.getValue())});};S.renderTickmarks=function(r,s){var i,t,T,l,f,a,b,o=s.getAggregation("scale");if(!s.getEnableTickmarks()||!o){return;}a=Math.abs(s.getMin()-s.getMax());b=s.getStep();l=o.getTickmarksBetweenLabels();t=o.calcNumTickmarks(a,b,s._CONSTANTS.TICKMARKS.MAX_POSSIBLE);T=s._getPercentOfValue(o.calcTickmarksDistance(t,s.getMin(),s.getMax(),b));r.write("<ul class=\""+S.CSS_CLASS+"Tickmarks\">");this.renderTickmarksLabel(r,s,s.getMin());for(i=0;i<t;i++){if(l&&i>0&&(i%l===0)){f=i*T;this.renderTickmarksLabel(r,s,s._getValueOfPercent(f));}r.write("<li class=\""+S.CSS_CLASS+"Tick\" style=\"width: "+T+"%;\"></li>");}this.renderTickmarksLabel(r,s,s.getMax());r.write("</ul>");};S.renderTickmarksLabel=function(r,s,v){var l=s._getPercentOfValue(v);r.write("<li class=\""+S.CSS_CLASS+"TickLabel\"");r.write(" style=\"left: "+l+"%;\"");r.write(">");r.write("<div class=\""+S.CSS_CLASS+"Label\">");r.writeEscaped(""+v);r.write("</div>");r.write("</li>");};S.addClass=function(r,s){r.addClass(S.CSS_CLASS);};S.addInnerClass=function(r,s){r.addClass(S.CSS_CLASS+"Inner");};S.addProgressIndicatorClass=function(r,s){r.addClass(S.CSS_CLASS+"Progress");};S.addHandleClass=function(r,s){r.addClass(S.CSS_CLASS+"Handle");};S.renderLabels=function(r,s){};return S;},true);
sap.ui.predefine('sap/m/SplitApp',['jquery.sap.global','./SplitContainer','./library'],function(q,S,l){"use strict";var a=S.extend("sap.m.SplitApp",{metadata:{library:"sap.m",properties:{homeIcon:{type:"any",group:"Misc",defaultValue:null}},events:{orientationChange:{parameters:{landscape:{type:"boolean"}}}}}});a.prototype.init=function(){if(S.prototype.init){S.prototype.init.apply(this,arguments);}this.addStyleClass("sapMSplitApp");q.sap.initMobile({viewport:!this._debugZoomAndScroll,statusBar:"default",hideBrowser:true,preventScroll:!this._debugZoomAndScroll,rootId:this.getId()});};a.prototype.onBeforeRendering=function(){if(S.prototype.onBeforeRendering){S.prototype.onBeforeRendering.apply(this,arguments);}q.sap.initMobile({homeIcon:this.getHomeIcon()});};a.prototype.onAfterRendering=function(){if(S.prototype.onAfterRendering){S.prototype.onAfterRendering.apply(this,arguments);}var r=this.getDomRef().parentNode;if(r&&!r._sapui5_heightFixed){r._sapui5_heightFixed=true;while(r&&r!==document.documentElement){var $=q(r);if($.attr("data-sap-ui-root-content")){break;}if(!r.style.height){r.style.height="100%";}r=r.parentNode;}}};a.prototype._onOrientationChange=function(){this.fireOrientationChange({landscape:sap.ui.Device.orientation.landscape});};return a;},true);
sap.ui.predefine('sap/m/SplitAppRenderer',['jquery.sap.global','./SplitContainerRenderer','sap/ui/core/Renderer'],function(q,S,R){"use strict";var a={};var a=R.extend(S);a.renderAttributes=function(r,c){sap.m.BackgroundHelper.addBackgroundColorStyles(r,c.getBackgroundColor(),c.getBackgroundImage());};a.renderBeforeContent=function(r,c){sap.m.BackgroundHelper.renderBackgroundImageTag(r,c,"sapMSplitContainerBG",c.getBackgroundImage(),c.getBackgroundRepeat(),c.getBackgroundOpacity());};return a;},true);
sap.ui.predefine('sap/m/SplitButton',['jquery.sap.global','./library','sap/ui/core/Control','./Button','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool'],function(q,l,C,B,E,I){"use strict";var S=C.extend("sap.m.SplitButton",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.m.ButtonType",group:"Appearance",defaultValue:sap.m.ButtonType.Default},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit}},aggregations:{_textButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_arrowButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{},arrowPress:{}}}});E.call(S.prototype);S.prototype.exit=function(){if(this._oInvisibleTooltipInfoLabel){this._oInvisibleTooltipInfoLabel.destroy();this._oInvisibleTooltipInfoLabel=null;}};S.prototype.onAfterRendering=function(){var $=this._getTextButton().$(),a=this._getArrowButton().$();$.attr("tabindex","-1");a.attr("tabindex","-1");$.removeAttr("title");a.removeAttr("title");$.removeAttr("aria-describedby");a.removeAttr("aria-describedby");};S.prototype._handleAction=function(i){if(i){this.fireArrowPress();}else{this.firePress();}};S.prototype.setArrowState=function(i){var a=this.getAggregation("_arrowButton");if(!a){return;}if(i){a.$().addClass('sapMSBActive');}else{a.$().removeClass('sapMSBActive');}};S.prototype._getTextButton=function(){var c=this.getAggregation("_textButton");if(!c){c=new B({width:'100%',icon:this.getIcon(),text:this.getText(),press:this._handleAction.bind(this,false)}).addStyleClass('sapMSBText');if(sap.ui.Device.browser.msie){c.addStyleClass('sapMSBTextIE');}this.setAggregation("_textButton",c);}return c;};S.prototype._getArrowButton=function(){var c=this.getAggregation("_arrowButton");if(!c){c=new B({icon:"sap-icon://slim-arrow-down",press:this._handleAction.bind(this,true)}).addStyleClass("sapMSBArrow");this.setAggregation("_arrowButton",c);}return c;};S.prototype.setTooltip=function(t){var T;C.prototype.setTooltip.apply(this,arguments);T=this.getTooltip_AsString();this.getTooltipInfoLabel(T);return this;};S.prototype.setProperty=function(p,v,s){if(p==="type"&&(v===sap.m.ButtonType.Up||v===sap.m.ButtonType.Back||v===sap.m.ButtonType.Unstyled)){return this;}var r=C.prototype.setProperty.apply(this,arguments);if(p==="activeIcon"||p==="iconDensityAware"||p==="textDirection"){B.prototype.setProperty.apply(this._getTextButton(),arguments);}else if(p==="text"||p==="type"||p==="icon"){var a="set"+_(p);B.prototype[a].call(this._getTextButton(),v);if(p==="type"){B.prototype[a].call(this._getArrowButton(),v);}}return r;};function _(t){return t.charAt(0).toUpperCase()+t.slice(1);}S.prototype.onsapenter=function(e){this._getTextButton().firePress();};S.prototype.onsapspace=function(e){this._getTextButton().firePress();};S.prototype.onsapup=function(e){this._getArrowButton().firePress();};S.prototype.onsapdown=function(e){this._getArrowButton().firePress();};S.prototype.onsapupmodifiers=function(e){this._getArrowButton().firePress();};S.prototype.onsapdownmodifiers=function(e){this._getArrowButton().firePress();};S.prototype.onsapshow=function(e){this._getArrowButton().firePress();e.preventDefault();};S.prototype.getSplitButtonAriaLabel=function(){var r,t;if(!sap.m.SplitButton._oStaticSplitButtonAriaLabel){r=sap.ui.getCore().getLibraryResourceBundle("sap.m");t=r.getText("SPLIT_BUTTON_DESCRIPTION");S._oStaticSplitButtonAriaLabel=new sap.ui.core.InvisibleText({text:t});S._oStaticSplitButtonAriaLabel.toStatic();}return sap.m.SplitButton._oStaticSplitButtonAriaLabel;};S.prototype.getKeyboardDescriptionAriaLabel=function(){var r,t;if(!sap.m.SplitButton._oStaticSplitButtonDescription){r=sap.ui.getCore().getLibraryResourceBundle("sap.m");t=r.getText("SPLIT_BUTTON_KEYBOARD_HINT");S._oStaticSplitButtonDescription=new sap.ui.core.InvisibleText({text:t});S._oStaticSplitButtonDescription.toStatic();}return sap.m.SplitButton._oStaticSplitButtonDescription;};S.prototype.getButtonTypeAriaLabel=function(){var t,b=this._getTextButton().getType();switch(b){case sap.m.ButtonType.Accept:t=sap.m.Button._oStaticAcceptText;break;case sap.m.ButtonType.Reject:t=sap.m.Button._oStaticRejectText;break;case sap.m.ButtonType.Emphasized:t=sap.m.Button._oStaticEmphasizedText;break;}return t;};S.prototype.getTooltipInfoLabel=function(t){if(!this._oInvisibleTooltipInfoLabel){this._oInvisibleTooltipInfoLabel=new sap.ui.core.InvisibleText();this._oInvisibleTooltipInfoLabel.toStatic();}this._oInvisibleTooltipInfoLabel.setText(t);return this._oInvisibleTooltipInfoLabel;};S.prototype.getTitleAttributeValue=function(){var t=this.getTooltip_AsString(),i=I.getIconInfo(this.getIcon()),r;if(t||(i&&i.text&&!this.getText())){r=t||i.text;}return r;};return S;},false);
sap.ui.predefine('sap/m/SplitButtonRenderer',['jquery.sap.global'],function(q){"use strict";var S={};S.CSS_CLASS="sapMSB";S.render=function(r,b){var w=b.getWidth(),t=b.getType(),T=b.getTitleAttributeValue();r.write("<div");r.writeControlData(b);r.addClass(S.CSS_CLASS);if(b.getIcon()){r.addClass(S.CSS_CLASS+"HasIcon");}if(t===sap.m.ButtonType.Accept||t===sap.m.ButtonType.Reject||t===sap.m.ButtonType.Emphasized||t===sap.m.ButtonType.Transparent){r.addClass(S.CSS_CLASS+t);}r.writeClasses();this.writeAriaAttributes(r,b);r.writeAttribute("tabindex","0");if(T){r.writeAttributeEscaped("title",T);}if(w!=""||w.toLowerCase()==="auto"){r.addStyle("width",w);r.writeStyles();}r.write(">");r.write("<div");r.addClass("sapMSBInner");r.writeClasses();r.write(">");r.renderControl(b._getTextButton());r.renderControl(b._getArrowButton());r.write("</div>");r.write("</div>");};S.writeAriaAttributes=function(r,b){var a={};this.writeAriaRole(b,a);this.writeAriaLabelledBy(b,a);r.writeAccessibilityState(b,a);};S.writeAriaRole=function(b,a){a["role"]="group";};S.writeAriaLabelledBy=function(b,a){var A="",t=b.getTitleAttributeValue(),B=b.getButtonTypeAriaLabel();if(t){A+=b.getTooltipInfoLabel(t).getId();A+=" ";}if(b.getText()){A+=b._getTextButton().getId()+"-content";A+=" ";}if(B){A+=B.getId();A+=" ";}A+=b.getSplitButtonAriaLabel().getId();A+=" "+b.getKeyboardDescriptionAriaLabel().getId();a["labelledby"]={value:A,append:true};};return S;},true);
sap.ui.predefine('sap/m/SplitContainer.designtime',[],function(){"use strict";return{aggregations:{masterPages:{domRef:":sap-domref > .sapMSplitContainerMaster, :sap-domref > .sapMSplitContainerMobile"},detailPages:{domRef:":sap-domref > .sapMSplitContainerDetail"}}};},false);
sap.ui.predefine('sap/m/SplitContainer',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/core/theming/Parameters','sap/m/semantic/SemanticPage','sap/ui/core/InvisibleText'],function(q,l,C,I,P,S,a){"use strict";var b=C.extend("sap.m.SplitContainer",{metadata:{library:"sap.m",properties:{defaultTransitionNameDetail:{type:"string",group:"Appearance",defaultValue:"slide"},defaultTransitionNameMaster:{type:"string",group:"Appearance",defaultValue:"slide"},mode:{type:"sap.m.SplitAppMode",group:"Appearance",defaultValue:sap.m.SplitAppMode.ShowHideMode},masterButtonText:{type:"string",group:"Appearance",defaultValue:null},backgroundColor:{type:"string",group:"Appearance",defaultValue:null},backgroundImage:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},backgroundRepeat:{type:"boolean",group:"Appearance",defaultValue:false},backgroundOpacity:{type:"float",group:"Appearance",defaultValue:1}},aggregations:{masterPages:{type:"sap.ui.core.Control",multiple:true,singularName:"masterPage"},detailPages:{type:"sap.ui.core.Control",multiple:true,singularName:"detailPage"},_navMaster:{type:"sap.m.NavContainer",multiple:false,visibility:"hidden"},_navDetail:{type:"sap.m.NavContainer",multiple:false,visibility:"hidden"},_navPopover:{type:"sap.m.Popover",multiple:false,visibility:"hidden"}},associations:{initialDetail:{type:"sap.ui.core.Control",multiple:false},initialMaster:{type:"sap.ui.core.Control",multiple:false}},events:{masterNavigate:{allowPreventDefault:true,parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"}}},afterMasterNavigate:{parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"}}},masterButton:{},beforeMasterOpen:{},afterMasterOpen:{},beforeMasterClose:{},afterMasterClose:{},detailNavigate:{allowPreventDefault:true,parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"}}},afterDetailNavigate:{parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"}}}},designTime:true}});b.prototype.init=function(){var t=this;this._isMie9=false;if(sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version<10){this._isMie9=true;}if(sap.ui.getCore().getConfiguration().getAccessibility()&&!b._sAriaPopupLabelId){b._sAriaPopupLabelId=new a({text:''}).toStatic().getId();}this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._aMasterPages=[];this._aDetailPages=[];if(!sap.ui.Device.system.phone){this._oMasterNav=new sap.m.NavContainer(this.getId()+"-Master",{width:"",navigate:function(e){t._handleNavigationEvent(e,false,true);},afterNavigate:function(e){t._handleNavigationEvent(e,true,true);}});this._oDetailNav=new sap.m.NavContainer(this.getId()+"-Detail",{width:"",navigate:function(e){t._handleNavigationEvent(e,false,false);},afterNavigate:function(e){t._handleNavigationEvent(e,true,false);}});this.setAggregation("_navMaster",this._oMasterNav,true);this.setAggregation("_navDetail",this._oDetailNav,true);this._createShowMasterButton();this._oPopOver=new sap.m.Popover(this.getId()+"-Popover",{placement:sap.m.PlacementType.Bottom,showHeader:false,contentWidth:"320px",contentHeight:"600px",beforeOpen:function(){t.fireBeforeMasterOpen();},beforeClose:function(){t.fireBeforeMasterClose();},afterOpen:function(){t.fireAfterMasterOpen();t._bMasterisOpen=true;},afterClose:function(){t._afterHideMasterAnimation();}}).addStyleClass("sapMSplitContainerPopover");if(b._sAriaPopupLabelId){this._oPopOver.addAriaLabelledBy(b._sAriaPopupLabelId);}this.setAggregation("_navPopover",this._oPopOver,true);}else{this._oMasterNav=this._oDetailNav=new sap.m.NavContainer({width:"",navigate:function(e){t._handleNavigationEvent(e,false,true);},afterNavigate:function(e){t._handleNavigationEvent(e,true,true);}});this.setAggregation("_navMaster",this._oMasterNav,true);}this._oldIsLandscape=sap.ui.Device.orientation.landscape;this._bMasterisOpen=false;var t=this;var p=function(r,n,s){return function(c,A,e){r.apply(t[n],arguments);if(A==="pages"&&q.inArray(c,t[s])!==-1){t._removePageFromArray(t[s],c);}};};var m=this._oMasterNav._removeChild;this._oMasterNav._removeChild=p(m,"_oMasterNav","_aMasterPages");if(this._oDetailNav){var d=this._oDetailNav._removeChild;this._oDetailNav._removeChild=p(d,"_oDetailNav","_aDetailPages");}};b.prototype.onBeforeRendering=function(){if(this._fnResize){sap.ui.Device.resize.detachHandler(this._fnResize);}if(this._bMasterisOpen&&(this._portraitHide()||this._hideMode())){this._oShowMasterBtn.removeStyleClass("sapMSplitContainerMasterBtnHidden");this._bMasterisOpen=false;}};b.prototype.exit=function(){if(this._fnResize){sap.ui.Device.resize.detachHandler(this._fnResize);}delete this._aMasterPages;delete this._aDetailPages;if(this._oShowMasterBtn){this._oShowMasterBtn.destroy();this._oShowMasterBtn=null;}};b.prototype.onAfterRendering=function(){if(!sap.ui.Device.system.phone&&this._oPopOver&&this._oPopOver.isOpen()){this._oPopOver.close();}if(!this._fnResize){this._fnResize=q.proxy(this._handleResize,this);}sap.ui.Device.resize.attachHandler(this._fnResize);if(sap.ui.Device.os.windows&&sap.ui.Device.browser.internet_explorer){this._oMasterNav.$().append('<iframe class="sapMSplitContainerMasterBlindLayer" src="about:blank"></iframe>');}};b.prototype.ontouchstart=function(e){if(!sap.ui.Device.system.phone){this._bIgnoreSwipe=(e.originalEvent&&e.originalEvent._sapui_handledByControl);}};b.prototype.onswiperight=function(e){if(sap.ui.Device.support.touch===false){return;}if((sap.ui.Device.system.tablet||(sap.ui.Device.os.windows&&sap.ui.Device.os.version>=8))&&(this._portraitHide()||this._hideMode())&&!this._bIgnoreSwipe&&!this._bDetailNavButton){this.showMaster();}};b.prototype.ontap=function(e){if(sap.ui.Device.system.phone){return;}var i=true;if(q(e.target).closest(".sapMSplitContainerDetail").length>0){i=false;}if(((!this._oldIsLandscape&&this.getMode()=="ShowHideMode")||this.getMode()=="HideMode")&&!i&&!q.sap.containsOrEquals(this._oShowMasterBtn.getDomRef(),e.target)){this.hideMaster();}};b.prototype.onswipeleft=function(e){if((sap.ui.Device.system.tablet||(sap.ui.Device.os.windows&&sap.ui.Device.os.version>=8))&&(this._portraitHide()||this._hideMode())&&!this._bIgnoreSwipe){this.hideMaster();}};b.prototype._onMasterButtonTap=function(e){if(sap.ui.Device.system.phone){return;}if(!this._oldIsLandscape){if(this.getMode()=="PopoverMode"){if(!this._oPopOver.isOpen()){this._oPopOver.openBy(this._oShowMasterBtn,true);}else{this._oPopOver.close();}}else{this.showMaster();}}else{if(this.getMode()==="HideMode"){this.showMaster();}}};b.prototype.to=function(p,t,d,T){if(this._oMasterNav.getPage(p)){this._oMasterNav.to(p,t,d,T);}else{this._oDetailNav.to(p,t,d,T);}};b.prototype.backToPage=function(p,c,t){if(this._oMasterNav.getPage(p)){this._oMasterNav.backToPage(p,c,t);}else{this._oDetailNav.backToPage(p,c,t);}};b.prototype.insertPreviousPage=function(p,t,d){if(this._oMasterNav.getPage(p)){this._oMasterNav.insertPreviousPage(p,t,d);}else{this._oDetailNav.insertPreviousPage(p,t,d);}return this;};b.prototype.toMaster=function(p,t,d,T){this._oMasterNav.to(p,t,d,T);};b.prototype.backMaster=function(c,t){this._oMasterNav.back(c,t);};b.prototype.backMasterToPage=function(p,c,t){this._oMasterNav.backToPage(p,c,t);};b.prototype.toDetail=function(p,t,d,T){this._oDetailNav.to(p,t,d,T);};b.prototype.backDetail=function(c,t){this._oDetailNav.back(c,t);};b.prototype.backDetailToPage=function(p,c,t){this._oDetailNav.backToPage(p,c,t);};b.prototype.backToTopMaster=function(c,t){this._oMasterNav.backToTop(c,t);};b.prototype.backToTopDetail=function(c,t){this._oDetailNav.backToTop(c,t);};b.prototype.addMasterPage=function(p){if(this._hasPageInArray(this._aMasterPages,p)){return;}if(this._oMasterNav===this._oDetailNav&&q.inArray(p,this._oDetailNav.getPages())!==-1){this._removePageFromArray(this._aDetailPages,p);}this._oMasterNav.addPage(p);this._aMasterPages.push(p);return this;};b.prototype.addDetailPage=function(p){var t=this,r=this._getRealPage(p);if(this._hasPageInArray(this._aDetailPages,p)){return;}p.addDelegate({onBeforeShow:function(){if(r){if(!sap.ui.Device.system.phone){if(t._needShowMasterButton()){t._setMasterButton(r);}}}}});if(r){r.addDelegate({onBeforeRendering:function(){if(!sap.ui.Device.system.phone&&(t._oDetailNav.getCurrentPage()===r)){if(!r.getShowNavButton()&&t._needShowMasterButton()){t._setMasterButton(r,true);}else{t._removeMasterButton(r);}}}});if(!sap.ui.Device.system.phone){if(!r._setCustomHeaderInSC){r._setCustomHeaderInSC=r.setCustomHeader;}r.setCustomHeader=function(h){this._setCustomHeaderInSC.apply(this,arguments);if(h&&t._needShowMasterButton()){t._setMasterButton(r);}return this;};if(!r._setShowNavButtonInSC){r._setShowNavButtonInSC=r.setShowNavButton;}r.setShowNavButton=function(s){this._setShowNavButtonInSC.apply(this,arguments);if(!s&&t._needShowMasterButton()){t._setMasterButton(r);}else{t._removeMasterButton(r,true);}return this;};}}if(this._oMasterNav===this._oDetailNav&&q.inArray(p,this._oMasterNav.getPages())!==-1){this._removePageFromArray(this._aMasterPages,p);}this._oDetailNav.addPage(p);this._aDetailPages.push(p);return this;};b.prototype.getMasterPages=function(){return this._aMasterPages;};b.prototype.getDetailPages=function(){return this._aDetailPages;};b.prototype.indexOfMasterPage=function(p){return this._indexOfMasterPage(p);};b.prototype.indexOfDetailPage=function(p){return this._indexOfDetailPage(p);};b.prototype.insertMasterPage=function(p,i,s){return this._insertPage(this._aMasterPages,"masterPages",p,i,s);};b.prototype.removeMasterPage=function(p,s){return this._removePage(this._aMasterPages,"masterPages",p,s);};b.prototype.removeAllMasterPages=function(s){this._aMasterPages=[];return this.removeAllAggregation("masterPages",s);};b.prototype.insertDetailPage=function(p,i,s){return this._insertPage(this._aDetailPages,"detailPages",p,i,s);};b.prototype._restoreMethodsInPage=function(p){if(sap.ui.Device.system.phone){return;}var r=this._getRealPage(p);if(r){if(r._setCustomHeaderInSC){r.setCustomHeader=r._setCustomHeaderInSC;delete r._setCustomHeaderInSC;}if(r._setShowNavButtonInSC){r.setShowNavButton=r._setShowNavButtonInSC;delete r._setShowNavButtonInSC;}}};b.prototype.removeDetailPage=function(p,s){this._restoreMethodsInPage(p);return this._removePage(this._aDetailPages,"detailPages",p,s);};b.prototype.removeAllDetailPages=function(s){var p=this.getDetailPages();for(var i=0;i<p.length;i++){this._restoreMethodsInPage(p[i]);}this._aDetailPages=[];return this.removeAllAggregation("detailPages",s);};b.prototype.addPage=function(p,m){if(m){return this.addMasterPage(p);}else{return this.addDetailPage(p);}};b.prototype.showMaster=function(){var _=this._oMasterNav.$(),t=this,A=q.proxy(this._afterShowMasterAnimation,this),c=this._getRealPage(this._oDetailNav.getCurrentPage());function d(){this._oPopOver.detachAfterOpen(d,this);this._bMasterOpening=false;this._bMasterisOpen=true;this.fireAfterMasterOpen();}if(this._portraitPopover()){if(!this._oPopOver.isOpen()){this._oPopOver.attachAfterOpen(d,this);this.fireBeforeMasterOpen();this._oPopOver.openBy(this._oShowMasterBtn,true);this._bMasterOpening=true;}}else{if((this._portraitHide()||this._hideMode())&&(!this._bMasterisOpen||this._bMasterClosing)){if(this._isMie9){this._oMasterNav.$().css("width","320px");_.animate({left:"+=320"},{duration:300,complete:A});this._bMasterisOpen=true;t._bMasterOpening=false;this._removeMasterButton(c);}else{_.bind("webkitTransitionEnd transitionend",A);}this.fireBeforeMasterOpen();this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterVisible",true);this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterHidden",false);this._bMasterOpening=true;t._removeMasterButton(c);if(sap.ui.Device.browser.webkit){var m=this._oMasterNav;window.setTimeout(function(){m.$().css("box-shadow","none");window.setTimeout(function(){m.$().css("box-shadow","");},50);},0);}}}return this;};b.prototype.hideMaster=function(){var _=this._oMasterNav.$(),A=q.proxy(this._afterHideMasterAnimation,this);if(this._portraitPopover()){if(this._oPopOver.isOpen()){this._oPopOver.close();this._bMasterClosing=true;}}else{if((this._portraitHide()||this._hideMode())&&(this._bMasterisOpen||this._oMasterNav.$().hasClass("sapMSplitContainerMasterVisible"))){if(this._isMie9){_.animate({left:"-=320"},{duration:300,complete:A});}else{_.bind("webkitTransitionEnd transitionend",A);}this.fireBeforeMasterClose();this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterVisible",false);this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterHidden",true);this._bMasterClosing=true;}}return this;};b.prototype._afterShowMasterAnimation=function(){if(this._portraitHide()||this._hideMode()){if(!this._isMie9){var m=this._oMasterNav.$();m.unbind("webkitTransitionEnd transitionend",this._afterShowMasterAnimation);}this._bMasterOpening=false;this._bMasterisOpen=true;this.fireAfterMasterOpen();}};b.prototype._afterHideMasterAnimation=function(){if(this._portraitHide()||this._hideMode()){if(!this._isMie9){var m=this._oMasterNav.$();m.unbind("webkitTransitionEnd transitionend",this._afterHideMasterAnimation);}}var c=this._getRealPage(this._oDetailNav.getCurrentPage());this._setMasterButton(c);this._bMasterClosing=false;this._bMasterisOpen=false;if(q.sap.containsOrEquals(this._oMasterNav.getDomRef(),document.activeElement)){document.activeElement.blur();}this.fireAfterMasterClose();};b.prototype.getCurrentMasterPage=function(){return this._oMasterNav.getCurrentPage();};b.prototype.getCurrentDetailPage=function(){return this._oDetailNav.getCurrentPage();};b.prototype.getCurrentPage=function(m){if(m){return this.getCurrentMasterPage();}else{return this.getCurrentDetailPage();}};b.prototype.getPreviousPage=function(m){if(m){return this._oMasterNav.getPreviousPage();}else{return this._oDetailNav.getPreviousPage();}};b.prototype.getMasterPage=function(p){return this._oMasterNav.getPage(p);};b.prototype.getDetailPage=function(p){return this._oDetailNav.getPage(p);};b.prototype.getPage=function(p,m){if(m){return this.getMasterPage(p);}else{return this.getDetailPage(p);}};b.prototype.isMasterShown=function(){if(sap.ui.Device.system.phone){var c=this._oMasterNav.getCurrentPage();return this._indexOfMasterPage(c)!==-1;}else{var m=this.getMode();switch(m){case sap.m.SplitAppMode.StretchCompressMode:return true;case sap.m.SplitAppMode.HideMode:return this._bMasterisOpen;case sap.m.SplitAppMode.PopoverMode:case sap.m.SplitAppMode.ShowHideMode:return sap.ui.Device.orientation.landscape||this._bMasterisOpen;default:return false;}}};b.prototype.setInitialMaster=function(p){this._oMasterNav.setInitialPage(p);this.setAssociation('initialMaster',p,true);return this;};b.prototype.setInitialDetail=function(p){if(!sap.ui.Device.system.phone){this._oDetailNav.setInitialPage(p);}this.setAssociation('initialDetail',p,true);return this;};b.prototype.setDefaultTransitionNameDetail=function(t){this.setProperty("defaultTransitionNameDetail",t,true);this._oDetailNav.setDefaultTransitionName(t);return this;};b.prototype.setDefaultTransitionNameMaster=function(t){this.setProperty("defaultTransitionNameMaster",t,true);this._oMasterNav.setDefaultTransitionName(t);return this;};b.prototype.setMasterButtonText=function(t){if(!sap.ui.Device.system.phone){if(!t){t=this._rb.getText("SplitContainer_NAVBUTTON_TEXT");}this._oShowMasterBtn.setText(t);}this.setProperty("masterButtonText",t,true);return this;};b.prototype.setMode=function(m){var o=this.getMode();if(o===m){return this;}this.setProperty("mode",m,true);if(!sap.ui.Device.system.phone&&this.getDomRef()){if(o==="HideMode"&&this._oldIsLandscape){this._removeMasterButton(this._oDetailNav.getCurrentPage());if(this._isMie9){this._oMasterNav.$().css({left:0,width:""});}}if(m!=="PopoverMode"&&this._oPopOver.getContent().length>0){this._updateMasterPosition("landscape");}else if(m=="PopoverMode"){if(!this._oldIsLandscape){if(this._oPopOver.getContent().length===0){this._updateMasterPosition("popover");}this._setMasterButton(this._oDetailNav.getCurrentPage());}this.toggleStyleClass("sapMSplitContainerShowHide",false);this.toggleStyleClass("sapMSplitContainerStretchCompress",false);this.toggleStyleClass("sapMSplitContainerHideMode",false);this.toggleStyleClass("sapMSplitContainerPopover",true);}if(m=="StretchCompressMode"){this.toggleStyleClass("sapMSplitContainerShowHide",false);this.toggleStyleClass("sapMSplitContainerPopover",false);this.toggleStyleClass("sapMSplitContainerHideMode",false);this.toggleStyleClass("sapMSplitContainerStretchCompress",true);this._removeMasterButton(this._oDetailNav.getCurrentPage());}if(m=="ShowHideMode"){this.toggleStyleClass("sapMSplitContainerPopover",false);this.toggleStyleClass("sapMSplitContainerStretchCompress",false);this.toggleStyleClass("sapMSplitContainerHideMode",false);this.toggleStyleClass("sapMSplitContainerShowHide",true);if(!sap.ui.Device.orientation.landscape){this._setMasterButton(this._oDetailNav.getCurrentPage());}}if(m==="HideMode"){this.toggleStyleClass("sapMSplitContainerPopover",false);this.toggleStyleClass("sapMSplitContainerStretchCompress",false);this.toggleStyleClass("sapMSplitContainerShowHide",false);this.toggleStyleClass("sapMSplitContainerHideMode",true);this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterVisible",false);this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterHidden",true);this._bMasterisOpen=false;this._setMasterButton(this._oDetailNav.getCurrentPage());if(this._isMie9){this._oMasterNav.$().css({left:"",width:"auto"});}}}return this;};b.prototype.setBackgroundOpacity=function(o){if(o>1||o<0){q.sap.log.warning("Invalid value "+o+" for SplitContainer.setBackgroundOpacity() ignored. Valid values are: floats between 0 and 1.");return this;}this.$("BG").css("opacity",o);return this.setProperty("backgroundOpacity",o,true);};b.prototype._indexOfMasterPage=function(p){return q.inArray(p,this._aMasterPages);};b.prototype._indexOfDetailPage=function(p){return q.inArray(p,this._aDetailPages);};b.prototype._insertPage=function(p,A,o,c,s){this.insertAggregation(A,o,c,s);var i;if(c<0){i=0;}else if(c>p.length){i=p.length;}else{i=c;}var O=q.inArray(o,p);p.splice(i,0,o);if(O!=-1){this._removePageFromArray(p,o);}return this;};b.prototype._removePage=function(p,A,o,s){var r=this.removeAggregation(A,o,s);if(r){this._removePageFromArray(p,r);}return r;};b.prototype._removePageFromArray=function(p,o){var i=q.inArray(o,p);if(i!=-1){p.splice(i,1);if(p===this._aDetailPages){this._restoreMethodsInPage(o);}}};b.prototype._handleNavigationEvent=function(e,A,m){var E=(A?"After":"")+(m?"Master":"Detail")+"Navigate",c;E=E.charAt(0).toLowerCase()+E.slice(1);c=this.fireEvent(E,e.mParameters,true);if(!c){e.preventDefault();}};b.prototype._handleResize=function(){var i=sap.ui.Device.orientation.landscape,_=this._oDetailNav.getCurrentPage(),m=this.getMode();if(this._oldIsLandscape!==i){this._oldIsLandscape=i;if(!sap.ui.Device.system.phone){this.toggleStyleClass("sapMSplitContainerPortrait",!i);if(m==="HideMode"){return;}if(m==="ShowHideMode"){if(i){this.fireBeforeMasterOpen();}else{this.fireBeforeMasterClose();}}if(this._isMie9){if(i){this._oMasterNav.$().css({left:0,width:""});}else{if(m==="ShowHideMode"||m==="PopoverMode"){this._oMasterNav.$().css({left:-320,width:"auto"});}}}if(m==="ShowHideMode"||m==="PopoverMode"){this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterVisible",i);this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterHidden",!i);}if(m==="ShowHideMode"){if(i){this._bMasterisOpen=true;this.fireAfterMasterOpen();}else{this._bMasterisOpen=false;this.fireAfterMasterClose();}}if(m=="PopoverMode"){if(this._oPopOver.isOpen()){this._oPopOver.attachAfterClose(this._handlePopClose,this);this._oPopOver.close();}else{this._handlePopClose();}}_=this._getRealPage(_);if(!this._oldIsLandscape&&m!="StretchCompressMode"){this._setMasterButton(_);}else{this._removeMasterButton(_);}}if(this._onOrientationChange){this._onOrientationChange();}}};b.prototype._handlePopClose=function(e){this._oPopOver.detachAfterClose(this._handlePopClose,this);if(this._oldIsLandscape){this._updateMasterPosition("landscape");}else{this._updateMasterPosition("popover");}};b.prototype._getRealPage=function(p){var r=p,c;while(r){if(r instanceof sap.m.Page){return r;}if(r instanceof sap.m.MessagePage){return r;}if(r instanceof S){return r;}if(r instanceof sap.ui.core.mvc.View){c=r.getContent();if(c.length===1){r=c[0];continue;}}else if(r instanceof sap.m.NavContainer){r=r.getCurrentPage();continue;}r=null;}return r;};b.prototype._updateMasterPosition=function(p){var t=this;if(p=="popover"){this.removeAggregation("_navMaster",this._oMasterNav,true);this._oMasterNav.$().remove();this._oPopOver.addContent(this._oMasterNav);this._bMasterisOpen=false;}if(p=="landscape"){var r=function(){t._oPopOver.removeAggregation("content",t._oMasterNav,false);t.setAggregation("_navMaster",t._oMasterNav,true);var $=t.$();if($[0]){var c=sap.ui.getCore().createRenderManager();c.renderControl(t._oMasterNav.addStyleClass("sapMSplitContainerMaster"));c.flush($[0],false,(t.$("BG")[0])?1:0);c.destroy();}};if(this._oPopOver.isOpen()){var A=function(){this._oPopOver.detachAfterClose(A,this);this._bMasterisOpen=false;r();};this._oPopOver.attachAfterClose(A,this);this._oPopOver.close();}else{r();}}};b.prototype._portraitHide=function(){if(!this._oldIsLandscape&&!sap.ui.Device.system.phone&&this.getMode()==="ShowHideMode"){return true;}else{return false;}};b.prototype._portraitPopover=function(){if(!this._oldIsLandscape&&!sap.ui.Device.system.phone&&this.getMode()==="PopoverMode"){return true;}else{return false;}};b.prototype._hideMode=function(){return this.getMode()==="HideMode"&&!sap.ui.Device.system.phone;};b.prototype._needShowMasterButton=function(){return(this._portraitHide()||this._hideMode()||this._portraitPopover())&&(!this._bMasterisOpen||this._bMasterClosing);};b.prototype._createShowMasterButton=function(){if(this._oShowMasterBtn&&!this._oShowMasterBtn.bIsDestroyed){return;}this._oShowMasterBtn=new sap.m.Button(this.getId()+"-MasterBtn",{icon:I.getIconURI("menu2"),tooltip:this._rb.getText('SPLITCONTAINER_NAVBUTTON_TOOLTIP'),type:sap.m.ButtonType.Default,press:q.proxy(this._onMasterButtonTap,this)}).addStyleClass("sapMSplitContainerMasterBtn");};b.prototype._setMasterButton=function(p,c,s){if(!p){return;}if(typeof c==='boolean'){s=c;c=undefined;}p=this._getRealPage(p);if(!p){return;}var h=b._getHeaderButtonAggregation(p),H=h.sAggregationName,d=h.aAggregationContent;for(var i=0;i<d.length;i++){if(d[i]instanceof sap.m.Button&&d[i].getVisible()&&(d[i].getType()==sap.m.ButtonType.Back||(d[i].getType()==sap.m.ButtonType.Up&&d[i]!==this._oShowMasterBtn))){this._bDetailNavButton=true;return;}}this._bDetailNavButton=false;var o=p._getAnyHeader();var e=false;for(var i=0;i<d.length;i++){if(d[i]===this._oShowMasterBtn){e=true;}}if(!e){this._createShowMasterButton();this._oShowMasterBtn.removeStyleClass("sapMSplitContainerMasterBtnHidden");if(o){o.insertAggregation(H,this._oShowMasterBtn,0,s);}}else{if(this._isMie9){this._oShowMasterBtn.$().fadeIn();}this._oShowMasterBtn.$().parent().toggleClass("sapMSplitContainerMasterBtnHide",false);this._oShowMasterBtn.removeStyleClass("sapMSplitContainerMasterBtnHidden");this._oShowMasterBtn.$().parent().toggleClass("sapMSplitContainerMasterBtnShow",true);}if(c){c(p);}this.fireMasterButton({show:true});};b._getHeaderButtonAggregation=function(p){var h=p._getAnyHeader(),A,s;if(!h){return;}if(h.getContentLeft){A=h.getContentLeft();s="contentLeft";}if(h.getContent){A=h.getContent();s="content";}return{aAggregationContent:A,sAggregationName:s};};b.prototype._removeMasterButton=function(p,c,n){if(!p){return;}var t=this,h=this._oShowMasterBtn.$().is(":hidden"),H;if(typeof c==="boolean"){n=c;c=undefined;}if(!h&&!n){p=this._getRealPage(p);if(!p){return;}H=p._getAnyHeader();if(H){var d=b._getHeaderButtonAggregation(p).aAggregationContent;for(var i=0;i<d.length;i++){if(d[i]===this._oShowMasterBtn){if(this._isMie9){this._oShowMasterBtn.$().fadeOut();if(c){c(p);}}this._oShowMasterBtn.$().parent().toggleClass("sapMSplitContainerMasterBtnShow",false);this._oShowMasterBtn.$().parent().toggleClass("sapMSplitContainerMasterBtnHide",true);this._oShowMasterBtn.$().parent().bind("webkitAnimationEnd animationend",function(){q(this).unbind("webkitAnimationEnd animationend");t._oShowMasterBtn.addStyleClass("sapMSplitContainerMasterBtnHidden");if(c){c(p);}});return;}}}this.fireMasterButton({show:false});}else{this._oShowMasterBtn.addStyleClass("sapMSplitContainerMasterBtnHidden");if(c){c(p);}if(!h){this.fireMasterButton({show:false});}}};b.prototype._callMethodInManagedObject=function(f,A){var c=Array.prototype.slice.call(arguments);if(A==="masterPages"){if(f==="indexOfAggregation"){return this._indexOfMasterPage.apply(this,c.slice(2));}else{return this._callNavContainerMethod(f,this._oMasterNav,c);}}else if(A==="detailPages"){if(f==="indexOfAggregation"){return this._indexOfDetailPage.apply(this,c.slice(2));}else{return this._callNavContainerMethod(f,this._oDetailNav,c);}}else{return sap.ui.base.ManagedObject.prototype[f].apply(this,c.slice(1));}};b.prototype._callNavContainerMethod=function(f,n,A){A[1]="pages";A=A.slice(1);var r=b._mFunctionMapping[f];if(r){A.shift();f=r;}return n[f].apply(n,A);};b.prototype._hasPageInArray=function(c,p){return c.some(function(A){return p&&(p===A);});};b.prototype.validateAggregation=function(A,o,m){return this._callMethodInManagedObject("validateAggregation",A,o,m);};b.prototype.setAggregation=function(A,o,s){this._callMethodInManagedObject("setAggregation",A,o,s);return this;};b.prototype.getAggregation=function(A,d){return this._callMethodInManagedObject("getAggregation",A,d);};b.prototype.indexOfAggregation=function(A,o){return this._callMethodInManagedObject("indexOfAggregation",A,o);};b.prototype.insertAggregation=function(A,o,i,s){this._callMethodInManagedObject("insertAggregation",A,o,i,s);return this;};b.prototype.addAggregation=function(A,o,s){this._callMethodInManagedObject("addAggregation",A,o,s);return this;};b.prototype.removeAggregation=function(A,o,s){return this._callMethodInManagedObject("removeAggregation",A,o,s);};b.prototype.removeAllAggregation=function(A,s){return this._callMethodInManagedObject("removeAllAggregation",A,s);};b.prototype.destroyAggregation=function(A,s){this._callMethodInManagedObject("destroyAggregation",A,s);return this;};b._mFunctionMapping={"getAggregation":"getPage","addAggregation":"addPage","insertAggregation":"insertPage","removeAggregation":"removePage","removeAllAggregation":"removeAllPages"};return b;},true);
sap.ui.predefine('sap/m/SplitContainerRenderer',['jquery.sap.global'],function(q){"use strict";var S={};S.render=function(r,c){var m=c.getMode();r.write("<div");r.writeControlData(c);r.addClass("sapMSplitContainer");if(this.renderAttributes){this.renderAttributes(r,c);}if(!sap.ui.Device.system.phone){if(sap.ui.Device.orientation.portrait){c.addStyleClass("sapMSplitContainerPortrait");}switch(m){case"ShowHideMode":c.addStyleClass("sapMSplitContainerShowHide");break;case"StretchCompress":c.addStyleClass("sapMSplitContainerStretchCompress");break;case"PopoverMode":c.addStyleClass("sapMSplitContainerPopover");break;case"HideMode":c.addStyleClass("sapMSplitContainerHideMode");break;}}r.writeClasses(c);r.writeStyles();var t=c.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}r.write(">");if(this.renderBeforeContent){this.renderBeforeContent(r,c);}if(!sap.ui.Device.system.phone){c._bMasterisOpen=false;if((sap.ui.Device.orientation.landscape&&(m!=="HideMode"))||sap.ui.Device.orientation.portrait&&(m==="StretchCompress")){c._oMasterNav.addStyleClass("sapMSplitContainerMasterVisible");c._bMasterisOpen=true;}else{c._oMasterNav.addStyleClass("sapMSplitContainerMasterHidden");}if(c.getMode()==="PopoverMode"&&sap.ui.Device.orientation.portrait){c._oDetailNav.addStyleClass("sapMSplitContainerDetail");r.renderControl(c._oDetailNav);if(c._oPopOver.getContent().length===0){c._oPopOver.addAggregation("content",c._oMasterNav,true);}}else{c._oMasterNav.addStyleClass("sapMSplitContainerMaster");r.renderControl(c._oMasterNav);c._oDetailNav.addStyleClass("sapMSplitContainerDetail");r.renderControl(c._oDetailNav);}}else{c._oMasterNav.addStyleClass("sapMSplitContainerMobile");r.renderControl(c._oMasterNav);}r.write("</div>");};return S;},true);
sap.ui.predefine('sap/m/StandardListItem',['jquery.sap.global','./ListItemBase','./library','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool'],function(q,L,l,E,I){"use strict";var S=L.extend("sap.m.StandardListItem",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null},description:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconInset:{type:"boolean",group:"Appearance",defaultValue:true},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},info:{type:"string",group:"Misc",defaultValue:null},infoState:{type:"sap.ui.core.ValueState",group:"Misc",defaultValue:sap.ui.core.ValueState.None},adaptTitleSize:{type:"boolean",group:"Appearance",defaultValue:true},titleTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit},infoTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit}}}});S.prototype.exit=function(){if(this._oImage){this._oImage.destroy("KeepDom");}L.prototype.exit.apply(this,arguments);};S.prototype.setIcon=function(i){var o=this.getIcon();this.setProperty("icon",i);if(this._oImage&&(!i||I.isIconURI(i)!=I.isIconURI(o))){this._oImage.destroy("KeepDom");this._oImage=undefined;}return this;};S.prototype._getImage=function(){var i=this._oImage;if(i){i.setSrc(this.getIcon());if(i instanceof sap.m.Image){i.setDensityAware(this.getIconDensityAware());}}else{i=I.createControlByURI({id:this.getId()+"-img",src:this.getIcon(),densityAware:this.getIconDensityAware(),useIconTooltip:false},sap.m.Image).setParent(this,null,true);}var s=this.getIconInset()?"sapMSLIImg":"sapMSLIImgThumb";i.addStyleClass(i instanceof sap.m.Image?s:s+"Icon",true);this._oImage=i;return this._oImage;};S.prototype._activeHandlingInheritor=function(){if(this._oImage){var a=this.getActiveIcon();a&&this._oImage.setSrc(a);}};S.prototype._inactiveHandlingInheritor=function(){if(this._oImage){this._oImage.setSrc(this.getIcon());}};S.prototype.getContentAnnouncement=function(b){var a="",i=this.getInfoState(),o=I.getIconInfo(this.getIcon())||{};a+=(o.text||o.name||"")+" ";a+=this.getTitle()+" "+this.getDescription()+" "+this.getInfo()+" ";if(i!="None"&&i!=this.getHighlight()){a+=b.getText("LIST_ITEM_STATE_"+i.toUpperCase());}return a;};return S;},true);
sap.ui.predefine('sap/m/StandardListItemRenderer',['jquery.sap.global','./ListItemBaseRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var S=R.extend(L);S.renderLIAttributes=function(r,l){r.addClass("sapMSLI");if(l.getIcon()){r.addClass("sapMSLIIcon");}if(!l.getIconInset()){r.addClass("sapMSLIIconThumb");}if((l.getDescription()||!l.getAdaptTitleSize())&&l.getIcon()&&l.getIconInset()){r.addClass("sapMSLIDescIcon");}if((l.getDescription()||!l.getAdaptTitleSize())&&!l.getIcon()){r.addClass("sapMSLIDescNoIcon");}if(!l.getDescription()&&l.getIcon()){r.addClass("sapMSLINoDescIcon");}if(l.getType()==sap.m.ListType.Detail||l.getType()==sap.m.ListType.DetailAndActive){r.addClass("sapMSLIDetail");}};S.renderLIContent=function(r,l){var i=l.getInfo(),I=l.getInfoTextDirection(),t=l.getTitleTextDirection(),d=l.getTitle()&&(l.getDescription()||!l.getAdaptTitleSize());if(l.getIcon()){r.renderControl(l._getImage());}if(d){r.write('<div class="sapMSLIDiv">');}r.write("<div");if(!d){r.addClass("sapMSLIDiv");}r.addClass("sapMSLITitleDiv");r.writeClasses();r.write(">");r.write("<div");r.addClass(d?"sapMSLITitle":"sapMSLITitleOnly");r.writeClasses();if(t!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",t.toLowerCase());}r.write(">");r.writeEscaped(l.getTitle());r.write("</div>");if(i&&!d){r.write("<div");r.writeAttribute("id",l.getId()+"-info");r.addClass("sapMSLIInfo");r.addClass("sapMSLIInfo"+l.getInfoState());r.writeClasses();if(I!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",I.toLowerCase());}r.write(">");r.writeEscaped(i);r.write("</div>");}r.write("</div>");r.write('<div class="sapMSLIDescriptionDiv">');if(d){r.write('<div class="sapMSLIDescription">');if(l.getDescription()){r.writeEscaped(l.getDescription());}else{r.write("&nbsp;");}r.write("</div>");}if(i&&d){r.write("<div");r.writeAttribute("id",l.getId()+"-info");r.addClass("sapMSLIInfo");r.addClass("sapMSLIInfo"+l.getInfoState());r.writeClasses();if(I!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",I.toLowerCase());}r.write(">");r.writeEscaped(i);r.write("</div>");}r.write("</div>");if(d){r.write("</div>");}};return S;},true);
sap.ui.predefine('sap/m/StandardTile',['jquery.sap.global','./Tile','./library','sap/ui/core/IconPool'],function(q,T,l,I){"use strict";var S=T.extend("sap.m.StandardTile",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null},info:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},number:{type:"string",group:"Misc",defaultValue:null},numberUnit:{type:"string",group:"Misc",defaultValue:null},infoState:{type:"sap.ui.core.ValueState",group:"Misc",defaultValue:sap.ui.core.ValueState.None},type:{type:"sap.m.StandardTileType",group:"Misc",defaultValue:sap.m.StandardTileType.None},iconDensityAware:{type:"boolean",group:"Appearance",defaultValue:true}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}}}});S.prototype.exit=function(){if(this._oImageControl){this._oImageControl.destroy();this._oImageControl=null;}};S.prototype.getIcon=function(){if(!this.getProperty("icon")&&this.getType()==="Create"){return I.getIconURI("add");}else{return this.getProperty("icon");}};S.prototype._getImage=function(){var i=this.getId()+"-img";var s=sap.ui.Device.system.phone?"1.3rem":"2rem";var p={src:this.getIcon(),height:s,width:s,size:s,densityAware:this.getIconDensityAware(),useIconTooltip:false};this._oImageControl=sap.m.ImageHelper.getImageControl(i,this._oImageControl,this,p);return this._oImageControl;};return S;},true);
sap.ui.predefine('sap/m/StandardTileRenderer',['jquery.sap.global','./TileRenderer','sap/ui/core/ValueStateSupport'],function(q,T,V){"use strict";var S=sap.ui.core.Renderer.extend(T);S._renderContent=function(r,t){var i=t.getInfoState();r.write("<div");r.addClass("sapMStdTileTopRow");r.writeClasses();r.write(">");if(t.getIcon()){r.write("<div");r.addClass("sapMStdTileIconDiv");switch(t.getType()){case sap.m.StandardTileType.Monitor:r.addClass("sapMStdIconMonitor");break;case sap.m.StandardTileType.Create:r.addClass("sapMStdIconCreate");break;}r.writeClasses();r.write(">");r.renderControl(t._getImage());r.write("</div>");}if(t.getNumber()){r.write("<div");r.addClass("sapMStdTileNumDiv");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",t.getId()+"-number");var n=t.getNumber().length;if(n<5){r.addClass("sapMStdTileNum");}else if(n<8){r.addClass("sapMStdTileNumM");}else{r.addClass("sapMStdTileNumS");}r.writeClasses();r.write(">");r.writeEscaped(t.getNumber());r.write("</div>");if(t.getNumberUnit()){r.write("<div");r.writeAttribute("id",t.getId()+"-numberUnit");r.addClass("sapMStdTileNumUnit");r.writeClasses();r.write(">");r.writeEscaped(t.getNumberUnit());r.write("</div>");}r.write("</div>");}r.write("</div>");r.write("<div");r.addClass("sapMStdTileBottomRow");if(t.getType()===sap.m.StandardTileType.Monitor){r.addClass("sapMStdTileMonitorType");}r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",t.getId()+"-title");r.addClass("sapMStdTileTitle");r.writeClasses();r.write(">");if(t.getTitle()){r.writeEscaped(t.getTitle());}r.write("</div>");if(t.getInfo()){r.write("<div");r.writeAttribute("id",t.getId()+"-info");r.addClass("sapMStdTileInfo");r.addClass("sapMStdTileInfo"+i);r.writeClasses();if(i!=sap.ui.core.ValueState.None){r.writeAccessibilityState(t,{ariaDescribedBy:{value:t.getId()+"-sapSRH",append:true}});}r.write(">");if(t.getInfo()){r.writeEscaped(t.getInfo());}r.write("</div>");}if(i!=sap.ui.core.ValueState.None){r.write("<span");r.writeAttributeEscaped("id",t.getId()+"-sapSRH");r.addClass("sapUiInvisibleText");r.writeClasses();r.writeAccessibilityState({hidden:false});r.write(">");r.writeEscaped(V.getAdditionalText(i));r.write("</span>");}r.write("</div>");};return S;},true);
sap.ui.predefine('sap/m/StandardTreeItem',['jquery.sap.global','./TreeItemBase','./library','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','sap/ui/core/Icon','./StandardListItem'],function(q,T,l,E,I,a,S){"use strict";var b=T.extend("sap.m.StandardTreeItem",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:""},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null}}}});b.prototype._getIconControl=function(){var u=this.getIcon();if(this._oIconControl){this._oIconControl.setSrc(u);return this._oIconControl;}this._oIconControl=I.createControlByURI({id:this.getId()+"-icon",src:u,useIconTooltip:false,noTabStop:true},sap.m.Image).setParent(this,null,true).addStyleClass("sapMSTIIcon");return this._oIconControl;};b.prototype.getContentAnnouncement=function(){var A="",i=I.getIconInfo(this.getIcon())||{};A+=(i.text||i.name||"")+" ";A+=this.getTitle()+" ";return A;};b.prototype.exit=function(){T.prototype.exit.apply(this,arguments);this.destroyControls(["Icon"]);};return b;},true);
sap.ui.predefine('sap/m/StandardTreeItemRenderer',['./TreeItemBaseRenderer','sap/ui/core/Renderer'],function(T,R){"use strict";var S=R.extend(T);S.renderLIContent=function(r,l){if(l.getIcon()){r.renderControl(l._getIconControl());}r.writeEscaped(l.getTitle());};return S;},true);
sap.ui.predefine('sap/m/StepInput',["jquery.sap.global","./Button","./Input","sap/ui/core/Control","sap/ui/core/IconPool"],function(q,B,I,C,a){"use strict";var S=C.extend("sap.m.StepInput",{metadata:{library:"sap.m",properties:{min:{type:"Number",group:"Data"},max:{type:"Number",group:"Data"},step:{type:"Number",group:"Data",defaultValue:1},largerStep:{type:"Number",group:"Data",defaultValue:2},value:{type:"Number",group:"Data",defaultValue:0},width:{type:"sap.ui.core.CSSSize",group:"Dimension"},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:sap.ui.core.ValueState.None},editable:{type:"boolean",group:"Behavior",defaultValue:true},enabled:{type:"boolean",group:"Behavior",defaultValue:true}},aggregations:{_incrementButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_decrementButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_input:{type:"sap.m.Input",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}},events:{change:{parameters:{value:{type:"string"}}}}}});var l=sap.ui.getCore().getLibraryResourceBundle("sap.m");S.STEP_INPUT_INCREASE_BTN_TOOLTIP=l.getText("STEP_INPUT_INCREASE_BTN");S.STEP_INPUT_DECREASE_BTN_TOOLTIP=l.getText("STEP_INPUT_DECREASE_BTN");S.prototype.init=function(){this._attachPressEvents();this._attachLiveChange();this._attachChange();};S.prototype.onBeforeRendering=function(){var m=this._getIntOrFloat(this.getMin()),M=this._getIntOrFloat(this.getMax()),v=this._getIntOrFloat(this.getValue());this._getInput().setValue(v);if(i(m)&&(m>v)){this.setValue(m);}if(i(M)&&(M<v)){this.setValue(M);}this._disableButtons(v,M,m);};S.prototype._getIntOrFloat=function(n){return this.isInteger(n)?parseInt(n,10):parseFloat(n,10);};S.prototype.onAfterRendering=function(){this._writeAccessibilityState();this._getIncrementButton().$().attr('tabindex','-1');this._getDecrementButton().$().attr('tabindex','-1');};S.prototype.setProperty=function(p,v,s){this._writeAccessibilityState(p,v);if(["enabled","editable"].indexOf(p)>-1){this._getInput().setProperty(p,v,s);}return C.prototype.setProperty.apply(this,arguments);};S.prototype.setMin=function(n){return this.setProperty("min",n,true);};S.prototype.setMax=function(n){return this.setProperty("max",n,true);};S.prototype._getIncrementButton=function(){if(!this.getAggregation("_incrementButton")){var b=new B({icon:a.getIconURI("add"),id:this.getId()+"-incrementButton",tooltip:S.STEP_INPUT_INCREASE_BTN_TOOLTIP,type:sap.m.ButtonType.Transparent});b._bExcludeFromTabChain=true;this.setAggregation("_incrementButton",b);}return this.getAggregation("_incrementButton");};S.prototype._getDecrementButton=function(){if(!this.getAggregation("_decrementButton")){var b=new B({icon:a.getIconURI("less"),id:this.getId()+"-decrementButton",tooltip:S.STEP_INPUT_DECREASE_BTN_TOOLTIP,type:sap.m.ButtonType.Transparent});b._bExcludeFromTabChain=true;this.setAggregation("_decrementButton",b);}return this.getAggregation("_decrementButton");};S.prototype._getInput=function(){if(!this.getAggregation("_input")){this.setAggregation("_input",new I({width:this.getWidth(),id:this.getId()+"-input",textAlign:sap.ui.core.TextAlign.End,type:sap.m.InputType.Number,editable:this.getEditable(),enabled:this.getEnabled()}));}return this.getAggregation("_input");};S.prototype._attachPressEvents=function(){this._getIncrementButton().attachPress(this._handleButtonPress.bind(this,true));this._getDecrementButton().attachPress(this._handleButtonPress.bind(this,false));};S.prototype._handleButtonPress=function(b){var v=this._calculateValue(1,b),m=this._getIntOrFloat(this.getMin()),M=this._getIntOrFloat(this.getMax()),c=this._getInput().getValueState();if(c==sap.ui.core.ValueState.Error&&(v==m||v==M)){this.setValueState(sap.ui.core.ValueState.None);}this._disableButtons(this._getIntOrFloat(v));this.setValue(v);if(this._iChangeEventTimer){q.sap.clearDelayedCall(this._iChangeEventTimer);}if(this._sOldValue!==this.getValue()){this.fireChange({value:this.getValue()});}this.$().focus();return this;};S.prototype._disableButtons=function(v,m,b){if(b<v&&v<m){this._getDecrementButton().setEnabled(true);this._getIncrementButton().setEnabled(true);return this;}if(v==b){this._getDecrementButton().setEnabled(false);}if(v==m){this._getIncrementButton().setEnabled(false);}return this;};S.prototype.onfocusout=function(){this._handleIncorrectValues();if(this.getValue()==""){if(i(this.getMin())&&this.getMin()>0){this.setValue(this.getMin());}else if(i(this.getMax())&&this.getMax()<0){this.setValue(this.getMax());}else{this.setValue(0);}}};S.prototype._handleIncorrectValues=function(){var m=this._getIntOrFloat(this.getMin()),b=this._getIntOrFloat(this.getMax()),v=this._getIntOrFloat(this._getInput().getValue()),c=true,d=true;if(v>b||v<m){this.setValueState(sap.ui.core.ValueState.Error);}else{this.setValueState(sap.ui.core.ValueState.None);}if(v>=b){c=false;}if(v<=m){d=false;}this._getIncrementButton().setEnabled(c);this._getDecrementButton().setEnabled(d);};S.prototype.setValue=function(v){var r;this._sOldValue=this.getValue();this._getInput().setValue(v);r=this.setProperty("value",v,true);return r;};S.prototype.onsappageup=function(e){this._applyValue(this._calculateValue(this.getLargerStep(),true));this._handleIncorrectValues();};S.prototype.onsappagedown=function(e){this._applyValue(this._calculateValue(this.getLargerStep(),false));this._handleIncorrectValues();};S.prototype.onsappageupmodifiers=function(e){if(i(this.getMax())&&!(e.ctrlKey||e.metaKey||e.altKey)&&e.shiftKey){this._applyValue(this.getMax());}};function i(n){return!isNaN(n)&&n!==null;}S.prototype.onsappagedownmodifiers=function(e){if(i(this.getMin())&&!(e.ctrlKey||e.metaKey||e.altKey)&&e.shiftKey){this._applyValue(this.getMin());}};S.prototype.onsapup=function(e){e.preventDefault();this._applyValue(this._calculateValue(1,true));this._handleIncorrectValues();};S.prototype.onsapdown=function(e){e.preventDefault();this._applyValue(this._calculateValue(1,false));this._handleIncorrectValues();};S.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.ARROW_UP&&!e.altKey&&e.shiftKey&&(e.ctrlKey||e.metaKey)){this._applyValue(this.getMax());}if(e.which===q.sap.KeyCodes.ARROW_DOWN&&!e.altKey&&e.shiftKey&&(e.ctrlKey||e.metaKey)){this._applyValue(this.getMin());}if(e.which===q.sap.KeyCodes.ARROW_UP&&!(e.ctrlKey||e.metaKey||e.altKey)&&e.shiftKey){e.preventDefault();this._applyValue(this._calculateValue(this.getLargerStep(),true));}if(e.which===q.sap.KeyCodes.ARROW_DOWN&&!(e.ctrlKey||e.metaKey||e.altKey)&&e.shiftKey){e.preventDefault();this._applyValue(this._calculateValue(this.getLargerStep(),false));}this._handleIncorrectValues();};S.prototype.onsapescape=function(e){this.getAggregation("_input").onsapescape(e);};S.prototype._attachLiveChange=function(){this._getInput().attachLiveChange(this._liveChange,this);};S.prototype._attachChange=function(){this._getInput().attachChange(this._change,this);};S.prototype._liveChange=function(){this._handleIncorrectValues();};S.prototype._change=function(e){this._sOldValue=this.getValue();this.setProperty("value",this._getInput().getValue(),true);if(this._iChangeEventTimer){q.sap.clearDelayedCall(this._iChangeEventTimer);}this._iChangeEventTimer=q.sap.delayedCall(100,this,function(){if(this._sOldValue!==this.getValue()){this.fireChange({value:this.getValue()});}});};S.prototype._applyValue=function(n){if(!this.getEditable()||!this.getEnabled()){return;}this.getAggregation("_input")._$input.val(n);};S.prototype._calculateValue=function(s,b){var v,V,c,d=this.isInteger(this.getValue()),e=this.isInteger(this.getStep()),f=this._getIntOrFloat(this._getInput().getValue()),g=this._getIntOrFloat(this.getStep()),m=this._getIntOrFloat(this.getStep()*s),h=b?1:-1;v=f+g>=this.getMax();V=f-g<=this.getMin();c=f+h*m;if(b&&i(this.getMax())&&v){return this.getMax();}if(!b&&i(this.getMin())&&V){return this.getMin();}if(!e||!d){return c.toFixed(1);}else{return c;}return this.getValue();};S.prototype.setValueState=function(v){var e=false,w=false;if(v==sap.ui.core.ValueState.Error){this._getInput().setValueState(sap.ui.core.ValueState.Error);e=true;}if(v==sap.ui.core.ValueState.Warning){this._getInput().setValueState(sap.ui.core.ValueState.Warning);w=true;}if(v==sap.ui.core.ValueState.None){this._getInput().setValueState(sap.ui.core.ValueState.None);e=false;w=false;}q.sap.delayedCall(0,this,function(){this.$().toggleClass("sapMStepInputError",e).toggleClass("sapMStepInputWarning",w);});return this;};S.prototype.isInteger=function(v){return v%1===0;};S.prototype.setEditable=function(e){var b=Array.prototype.slice.call(arguments);e=this.validateProperty('editable',e);if(!e){this._getInput().setTextAlign(sap.ui.core.TextAlign.Begin);this.removeAggregation("_decrementButton",false);this.removeAggregation("_incrementButton");}return S.prototype.setProperty.apply(this,["editable"].concat(b));};S.prototype._writeAccessibilityState=function(p,v){var m,M,L,d,$=this.getDomRef("input-inner"),A=[],n={"min":"aria-valuemin","max":"aria-valuemax","value":"aria-valuenow"};if(!$){return;}if(p&&n[p]){A=[{aria:n[p],value:v}];}else if(!p){m=this.getMin();M=this.getMax();L=this.getAriaLabelledBy().join(" ");d=this.getAriaDescribedBy().join(" ");A=[{aria:"role",value:"spinbutton"},{aria:"aria-valuenow",value:this.getValue()}];if(typeof m=="number"){A.push({aria:"aria-valuemin",value:m});}if(typeof M=="number"){A.push({aria:"aria-valuemax",value:M});}if(L){A.push({aria:"aria-labelledby",value:L});}if(d){A.push({aria:"aria-describedby",value:d});}}A.forEach(function(o){$.setAttribute(o.aria,o.value);});};return S;},true);
sap.ui.predefine('sap/m/StepInputRenderer',[],function(){"use strict";var S={};S.render=function(r,c){var i=c._getIncrementButton(),d=c._getDecrementButton(),I=c._getInput(),w=c.getWidth(),e=c.getEnabled(),E=c.getEditable();r.write("<div");e&&E&&r.write(" tabindex='-1'");r.addStyle("width",w);r.writeStyles();r.writeControlData(c);r.writeAccessibilityState(c);r.addClass("sapMStepInput");r.addClass("sapMStepInput-CTX");!e&&r.addClass("sapMStepInputReadOnly");!E&&r.addClass("sapMStepInputDisabled");r.writeClasses();r.write(">");if(E){this.wrapButtons(r,d,["sapMStepInputBtnDecrease"]);}r.renderControl(I);if(E){this.wrapButtons(r,i,["sapMStepInputBtnIncrease"]);}r.write("</div>");};S.wrapButtons=function(r,c,C){r.write("<div tabindex='-1'");r.addClass("sapMStepInputBtnWrapper");C.forEach(function(s){r.addClass(s);});r.writeClasses();r.write(">");r.renderControl(c);r.write("</div>");};return S;},true);
sap.ui.predefine('sap/m/Suggest',['jquery.sap.global','./Bar','./Button','./SuggestionsList','./SuggestionItem'],function(q,B,a,S,b){"use strict";function c(i){var p=i,d,l,e,u=sap.ui.Device.system.phone,s=this;q.sap.require(u?"sap.m.Dialog":"sap.m.Popover");function o(E){var k=E.srcControl;var v;if(k instanceof b){v=k.getSuggestionText();d.close();window.setTimeout(function(){i.setValue(v);i.fireSearch({query:v,suggestionItem:k,refreshButtonPressed:false,clearButtonPressed:false});},0);}}function f(){var k,m,n,r,t;n=new(sap.ui.require('sap/m/SearchField'))({liveChange:function(E){var v=E.getParameter("newValue");i.setValue(v);i.fireLiveChange({newValue:v});i.fireSuggest({suggestValue:v});s.update();},search:function(E){if(!E.getParameter("clearButtonPressed")){k.close();}}});r=new B({contentLeft:n});t=new a({text:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("MSGBOX_CANCEL"),press:function(){k._oCloseTrigger=true;k.close();}});k=new(sap.ui.require('sap/m/Dialog'))({stretch:true,customHeader:r,content:h(),beginButton:t,beforeOpen:function(){m=i.getValue();n.setValue(m);},beforeClose:function(E){if(E.getParameter("origin")){i.setValue(m);}else{i.setValue(n.getValue());}},afterClose:function(E){if(!E.getParameter("origin")){i.fireSearch({query:i.getValue(),refreshButtonPressed:false,clearButtonPressed:false});}}});k.addEventDelegate({ontap:o},i);return k;}function g(){var k=new(sap.ui.require('sap/m/Popover'))({showArrow:false,showHeader:false,horizontalScrolling:false,placement:sap.m.PlacementType.Vertical,offsetX:0,offsetY:0,initialFocus:p,bounce:false,afterOpen:function(){i.$("I").attr("aria-autocomplete","list").attr("aria-haspopup","true");},beforeClose:function(){i.$("I").attr("aria-haspopup","false").removeAttr("aria-activedecendant");},content:h()}).addStyleClass("sapMSltPicker").addStyleClass("sapMSltPicker-CTX");k.open=function(){return this.openBy(p);};function m(){var w=(i.$().outerWidth()/parseFloat(sap.m.BaseFontSize))+"rem";k.getDomRef().style.minWidth=w;}k.addEventDelegate({onAfterRendering:m,ontap:o},i);return k;}function h(){if(!l){l=new S({parentInput:p});}return l;}function j(){if(d===undefined){d=u?f():g();}return d;}this.destroy=function(){if(d){d.close();d.destroy();d=null;}if(l){l.destroy();l=null;}};this.close=function(){if(!u&&this.isOpen()){d.close();}};this.open=function(){if(!this.isOpen()){this.setSelected(-1);j().open();}};this.update=function(){var l=h();window.clearTimeout(e);if(this.isOpen()){e=window.setTimeout(l.update.bind(l),50);}};this.isOpen=function(){return!!d&&d.isOpen();};this.getSelected=function(){return h().getSelectedItemIndex();};this.setSelected=function(k,r){return h().selectByIndex(k,r);};}return c;},true);
sap.ui.predefine('sap/m/SuggestionItem',['jquery.sap.global','./library','sap/ui/core/Item','sap/ui/core/IconPool'],function(q,l,I,a){"use strict";var S=I.extend("sap.m.SuggestionItem",{metadata:{library:"sap.m",properties:{icon:{type:"string",group:"Appearance",defaultValue:""},description:{type:"string",group:"Data",defaultValue:""}}}});a.insertFontFaceStyle();function r(R,t,s){var i;if(t){i=t.toUpperCase().indexOf(s.toUpperCase());if(i>-1){R.writeEscaped(t.slice(0,i));R.write("<b>");R.writeEscaped(t.slice(i,i+s.length));R.write("</b>");t=t.substring(i+s.length);}R.writeEscaped(t);}}S.prototype.render=function(R,i,s,b){var c=R;var t=i.getText();var d=i.getIcon();var e="";var f=i.getDescription();var p=i.getParent();var g=p&&p.getSuggestionItems&&p.getSuggestionItems()||[];var h=g.indexOf(i);s=s||"";c.write("<li");c.writeElementData(i);c.addClass("sapMSuLI");c.addClass("sapMSelectListItem");c.addClass("sapMSelectListItemBase");c.addClass("sapMSelectListItemBaseHoverable");c.writeAttribute("role","option");c.writeAttribute("aria-posinset",h+1);c.writeAttribute("aria-setsize",g.length);if(b){c.addClass("sapMSelectListItemBaseSelected");c.writeAttribute("aria-selected","true");if(p){p.$("I").attr("aria-activedecendant",i.getId());}}c.writeClasses();c.write(">");if(d){c.writeIcon(d,"sapMSuggestionItemIcon",{});}if(t){r(c,t,s);e=" ";}if(f){c.write(e+"<i>");r(c,f,s);c.write("</i>");}c.write("</li>");};S.prototype.getSuggestionText=function(){return this.getText();};S.prototype.invalidate=function(){return undefined;};return S;},true);
sap.ui.predefine('sap/m/SuggestionsList',['./library'],function(l){"use strict";var S=sap.ui.core.Control.extend("sap.m.SuggestionsList",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"}},associations:{parentInput:{type:"sap.ui.core.Control",multiple:false,singularName:"parentInput"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}},renderer:{render:function(r,L){r.write("<ul");r.writeControlData(L);r.addClass("sapMSuL");r.addClass("sapMSelectList");r.writeClasses();r.writeAccessibilityState({role:"listbox","multiselectable":"false"});r.addStyle("width",L.getWidth());r.addStyle("max-width",L.getMaxWidth());r.writeStyles();r.write(">");this.renderItems(r,L);r.write("</ul>");},renderItems:function(r,L){var s;var a=L.getSelectedItemIndex();try{s=sap.ui.getCore().byId(L.getParentInput()).getValue();}catch(e){s="";}L.getItems().forEach(function(i,b){i.render(r,i,s,b===a);});}}});S.prototype.init=function(){this._iSelectedItem=-1;};S.prototype.onBeforeRendering=function(){this.$().off();};S.prototype.onAfterRendering=function(){this.$().on("mousedown",function(e){e.preventDefault();});};S.prototype.getItems=function(){try{return sap.ui.getCore().byId(this.getParentInput()).getSuggestionItems();}catch(e){return[];}};S.prototype.update=function(){var r;var d=this.getDomRef();if(d){r=sap.ui.getCore().createRenderManager();this.getRenderer().renderItems(r,this);r.flush(d);r.destroy();}return this;};S.prototype.selectByIndex=function(i,r){var a=this.getItems();var b;var c;var d;var p=sap.ui.getCore().byId(this.getParentInput());var e="aria-activedecendant";if(isNaN(parseInt(i,10))){i=-1;r=false;}if((!a.length)||(r&&i===0)||(!r&&i<0)){b=-1;}else{if(r){if(this._iSelectedItem<0){b=(i<0?a.length:-1)+i;}else{b=this._iSelectedItem+i;}}else{b=i;}b=Math.min(Math.max(b,0),a.length-1);}this._iSelectedItem=b;if(a.length){this.$().children("li").removeClass("sapMSelectListItemBaseSelected").attr("aria-selected","false").eq(b).addClass("sapMSelectListItemBaseSelected").attr("aria-selected","true");}if(p){if(b>=0){c=p.getSuggestionItems()[b];d=c&&c.getId();}if(d){p.$("I").attr(e,d);}else{p.$("I").removeAttr(e);}}return this._iSelectedItem;};S.prototype.getSelectedItemIndex=function(){return this._iSelectedItem;};return S;},true);
sap.ui.predefine('sap/m/Switch',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','sap/ui/core/theming/Parameters'],function(q,l,C,E,I,P){"use strict";var S=C.extend("sap.m.Switch",{metadata:{library:"sap.m",properties:{state:{type:"boolean",group:"Misc",defaultValue:false},customTextOn:{type:"string",group:"Misc",defaultValue:""},customTextOff:{type:"string",group:"Misc",defaultValue:""},enabled:{type:"boolean",group:"Data",defaultValue:true},name:{type:"string",group:"Misc",defaultValue:""},type:{type:"sap.m.SwitchType",group:"Appearance",defaultValue:sap.m.SwitchType.Default}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{state:{type:"boolean"}}}}}});I.insertFontFaceStyle();E.apply(S.prototype,[true]);S.prototype._slide=function(p){if(p>S._OFFPOSITION){p=S._OFFPOSITION;}else if(p<S._ONPOSITION){p=S._ONPOSITION;}if(this._iCurrentPosition===p){return;}this._iCurrentPosition=p;this.getDomRef("inner").style[sap.ui.getCore().getConfiguration().getRTL()?"right":"left"]=p+"px";this._setTempState(Math.abs(p)<S._SWAPPOINT);};S.prototype._setTempState=function(b){if(this._bTempState===b){return;}this._bTempState=b;this.getDomRef("handle").setAttribute("data-sap-ui-swt",b?this._sOn:this._sOff);};S.prototype._setDomState=function(s){var a=this.getRenderer().CSS_CLASS,b=s?this._sOn:this._sOff,d=this.getDomRef();if(!d){return;}var $=this.$("switch"),o=this.getDomRef("inner"),h=this.getDomRef("handle"),c=null;if(this.getName()){c=this.getDomRef("input");c.setAttribute("checked",s);c.setAttribute("value",b);}h.setAttribute("data-sap-ui-swt",b);if(s){$.removeClass(a+"Off").addClass(a+"On");d.setAttribute("aria-checked","true");}else{$.removeClass(a+"On").addClass(a+"Off");d.setAttribute("aria-checked","false");}this._getInvisibleElement().text(this.getInvisibleElementText(s));if(sap.ui.getCore().getConfiguration().getAnimation()){$.addClass(a+"Trans");}o.style.cssText="";};S.prototype._getInvisibleElement=function(){return this.$("invisible");};S.prototype.getInvisibleElementId=function(){return this.getId()+"-invisible";};S.prototype.getInvisibleElementText=function(s){var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");var t="";switch(this.getType()){case sap.m.SwitchType.Default:t=this.getCustomTextOn()||(s?b.getText("SWITCH_ON"):b.getText("SWITCH_OFF"));break;case sap.m.SwitchType.AcceptReject:t=b.getText("SWITCH_ARIA_ACCEPT");break;}return t;};S._TRANSITIONTIME=Number(P.get("sapMSwitch-TRANSITIONTIME"))||0;S._ONPOSITION=Number(P.get("sapMSwitch-ONPOSITION"));S._OFFPOSITION=Number(P.get("sapMSwitch-OFFPOSITION"));S._SWAPPOINT=Math.abs((S._ONPOSITION-S._OFFPOSITION)/2);S.prototype.onBeforeRendering=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._sOn=this.getCustomTextOn()||r.getText("SWITCH_ON");this._sOff=this.getCustomTextOff()||r.getText("SWITCH_OFF");};S.prototype.ontouchstart=function(e){var t=e.targetTouches[0],a=this.getRenderer().CSS_CLASS,s=this.$("inner");e.setMarked();if(sap.m.touch.countContained(e.touches,this.getId())>1||!this.getEnabled()||e.button){return;}this._iActiveTouchId=t.identifier;this._bTempState=this.getState();this._iStartPressPosX=t.pageX;this._iPosition=s.position().left;this._bDragging=false;q.sap.delayedCall(0,this,"focus");this.$("switch").addClass(a+"Pressed").removeClass(a+"Trans");};S.prototype.ontouchmove=function(e){e.setMarked();e.preventDefault();var t,p,T=sap.m.touch;if(!this.getEnabled()||e.button){return;}t=T.find(e.changedTouches,this._iActiveTouchId);if(!t||t.pageX===this._iStartPressPosX){return;}this._bDragging=true;p=((this._iStartPressPosX-t.pageX)*-1)+this._iPosition;if(sap.ui.getCore().getConfiguration().getRTL()){p=-p;}this._slide(p);};S.prototype.ontouchend=function(e){e.setMarked();var t,T=sap.m.touch,a=q.sap.assert;if(!this.getEnabled()||e.button){return;}a(this._iActiveTouchId!==undefined,"expect to already be touching");t=T.find(e.changedTouches,this._iActiveTouchId);if(t){a(!T.find(e.touches,this._iActiveTouchId),"touchend still active");this.$("switch").removeClass(this.getRenderer().CSS_CLASS+"Pressed");this._setDomState(this._bDragging?this._bTempState:!this.getState());q.sap.delayedCall(S._TRANSITIONTIME,this,function(){var s=this.getState();this.setState(this._bDragging?this._bTempState:!s);if(s!==this.getState()){this.fireChange({state:this.getState()});}});}};S.prototype.ontouchcancel=S.prototype.ontouchend;S.prototype.onsapselect=function(e){var s;if(this.getEnabled()){e.setMarked();e.preventDefault();this.setState(!this.getState());s=this.getState();q.sap.delayedCall(S._TRANSITIONTIME,this,function(){this.fireChange({state:s});});}};S.prototype.setState=function(s){this.setProperty("state",s,true);this._setDomState(this.getState());return this;};S.prototype.getAccessibilityInfo=function(s){var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");var d="";if(this.getState()){d=b.getText("ACC_CTR_STATE_CHECKED")+" "+this.getInvisibleElementText(s);}return{role:"checkbox",type:b.getText("ACC_CTR_TYPE_CHECKBOX"),description:d.trim(),focusable:this.getEnabled(),enabled:this.getEnabled()};};return S;},true);
sap.ui.predefine('sap/m/SwitchRenderer',[],function(){"use strict";var S={};S.CSS_CLASS="sapMSwt";S.render=function(r,s){var b=s.getState(),a=b?s._sOn:s._sOff,t=s.getTooltip_AsString(),e=s.getEnabled(),n=s.getName(),A=sap.ui.getCore().getConfiguration().getAccessibility(),C=S.CSS_CLASS;r.write("<div");r.addClass(C+"Cont");if(!e){r.addClass(C+"ContDisabled");}r.writeClasses();r.writeStyles();r.writeControlData(s);if(e){r.writeAttribute("tabindex","0");}if(t){r.writeAttributeEscaped("title",t);}if(A){this.writeAccessibilityState(r,s);}r.write("><div");r.writeAttribute("id",s.getId()+"-switch");r.writeAttribute("aria-hidden","true");r.addClass(C);r.addClass(b?C+"On":C+"Off");r.addClass(C+s.getType());if(sap.ui.Device.system.desktop&&e){r.addClass(C+"Hoverable");}if(!e){r.addClass(C+"Disabled");}r.writeClasses();r.write("><div");r.addClass(C+"Inner");r.writeAttribute("id",s.getId()+"-inner");r.writeClasses();r.write(">");this.renderText(r,s);this.renderHandle(r,s,a);r.write("</div>");r.write("</div>");if(n){this.renderCheckbox(r,s,a);}if(A){this.renderInvisibleElement(r,s,{id:s.getInvisibleElementId(),text:s.getInvisibleElementText(b)});}r.write("</div>");};S.renderText=function(r,s){var C=S.CSS_CLASS,d=s.getType()===sap.m.SwitchType.Default;r.write("<div");r.addClass(C+"Text");r.addClass(C+"TextOn");r.writeAttribute("id",s.getId()+"-texton");r.writeClasses();r.write(">");r.write("<span");r.addClass(C+"Label");r.addClass(C+"LabelOn");r.writeClasses();r.write(">");if(d){r.writeEscaped(s._sOn);}r.write("</span>");r.write("</div>");r.write("<div");r.addClass(C+"Text");r.addClass(C+"TextOff");r.writeAttribute("id",s.getId()+"-textoff");r.writeClasses();r.write(">");r.write("<span");r.addClass(C+"Label");r.addClass(C+"LabelOff");r.writeClasses();r.write(">");if(d){r.writeEscaped(s._sOff);}r.write("</span>");r.write("</div>");};S.renderHandle=function(r,s,a){var C=S.CSS_CLASS;r.write("<div");r.writeAttribute("id",s.getId()+"-handle");r.writeAttributeEscaped("data-sap-ui-swt",a);r.addClass(C+"Handle");r.writeClasses();r.write("></div>");};S.renderCheckbox=function(r,s,a){r.write('<input type="checkbox"');r.writeAttribute("id",s.getId()+"-input");r.writeAttributeEscaped("name",s.getName());r.writeAttributeEscaped("value",a);if(s.getState()){r.writeAttribute("checked","checked");}if(!s.getEnabled()){r.writeAttribute("disabled","disabled");}r.write(">");};S.writeAccessibilityState=function(r,s){var a=s.getAriaLabelledBy(),A;if(a){a={value:s.getInvisibleElementId(),append:true};}A={role:"checkbox",checked:s.getState(),labelledby:a};r.writeAccessibilityState(s,A);};S.renderInvisibleElement=function(r,s,o){r.write("<span");r.writeAttribute("id",o.id);r.writeAttribute("aria-hidden","true");r.addClass("sapUiInvisibleText");r.writeClasses();r.write(">");r.writeEscaped(o.text);r.write("</span>");};return S;},true);
sap.ui.predefine('sap/m/TabContainer',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool'],function(q,l,C,I){"use strict";var T=C.extend("sap.m.TabContainer",{metadata:{library:"sap.m",properties:{showAddNewButton:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{items:{type:"sap.m.TabContainerItem",multiple:true,singularName:"item",bindable:"bindable"},_addNewButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_tabStrip:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{selectedItem:{type:"sap.m.TabContainerItem",multiple:false}},events:{itemClose:{allowPreventDefault:true,parameters:{item:{type:"sap.m.TabContainerItem"}}},itemSelect:{allowPreventDefault:true,parameters:{item:{type:"sap.m.TabContainerItem"}}},addNewButtonPress:{}}},constructor:function(i,s){var S=[];if(!s&&typeof i==='object'){s=i;}if(s&&Array.isArray(s['items'])){S=s['items'];delete s['items'];}sap.ui.base.ManagedObject.prototype.constructor.apply(this,arguments);var c=new sap.m.TabStrip(this.getId()+"--tabstrip",{hasSelect:true,itemSelect:function(e){var o=e.getParameter("item"),a=this._fromTabStripItem(o);this.setSelectedItem(a,e);}.bind(this),itemClose:function(e){var o=e.getParameter("item"),r=this._fromTabStripItem(o);e.preventDefault();if(this.fireItemClose({item:r})){this.removeItem(r);}}.bind(this)});this.setAggregation("_tabStrip",c,true);if(s&&s['showAddNewButton']){this.setShowAddNewButton(true);}S.forEach(function(o){this.addItem(o);},this);}});var t={"name":"text","modified":"modified"};T.prototype.onBeforeRendering=function(){if(this.getSelectedItem()){return;}this._setDefaultTab();};T.prototype._getAddNewTabButton=function(){var c=this.getAggregation("_addNewButton");var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(!c){c=new sap.m.Button({type:sap.m.ButtonType.Transparent,tooltip:r.getText("TABCONTAINER_ADD_NEW_TAB"),icon:I.getIconURI("add"),press:function(){this.getParent().getParent().fireAddNewButtonPress();}});c.addStyleClass("sapMTSAddNewTabBtn");this.setAggregation("_addNewButton",c,true);}return c;};T.prototype._getTabStrip=function(){return this.getAggregation("_tabStrip");};T.prototype._fromTabStripItem=function(i){var a=this.getItems()||[],b=a.length,c=0;for(;c<b;c++){if(a[c].getId()===i.getKey()){return a[c];}}return null;};T.prototype._toTabStripItem=function(i){var a=0,k=i,o,b,c=this._getTabStrip();if(!c){return null;}o=c.getItems();b=o.length;if(typeof i==="object"){k=i.getId();}for(;a<b;a++){if(o[a].getKey()===k){return o[a];}}return null;};T.prototype._getSelectedItemContent=function(){var o=this._getTabStrip(),s=this.getSelectedItem(),S=sap.ui.getCore().byId(s),a=this._toTabStripItem(S);if(o){o.setSelectedItem(a);}return S?S.getContent():null;};T.prototype._moveToNextItem=function(s){var i=this.getItems().length,c=this._getTabStrip()._oItemNavigation.getFocusedIndex(),n=i===c?--c:c,N=this.getItems()[n],f=function(){this._getTabStrip()._oItemNavigation.focusItem(n);};if(s){this.setSelectedItem(N);this.fireItemSelect({item:N});}q.sap.delayedCall(0,this,f);};T.prototype.removeItem=function(i){var b;if(!i){return null;}b=i.getId()===this.getSelectedItem();i=this.removeAggregation("items",i);this._getTabStrip().removeItem(this._toTabStripItem(i));this._moveToNextItem(b);return i;};T.prototype.addAggregation=function(a,o,s){var b,p;if(a==='items'){o.attachItemPropertyChanged(function(e){p=e['mParameters'].propertyKey;if(t[p]){p=t[p];b=this._toTabStripItem(e.getSource());b&&b.setProperty(p,e['mParameters'].propertyValue,false);}}.bind(this));}return C.prototype.addAggregation.call(this,a,o,s);};T.prototype.addItem=function(i){this.addAggregation("items",i,false);this._getTabStrip().addItem(new sap.m.TabStripItem({key:i.getId(),text:i.getName(),modified:i.getModified()}));return i;};T.prototype.destroyItems=function(){this._getTabStrip().destroyItems();this.setAssociation("selectedItem",null);return this.destroyAggregation("items");};T.prototype.insertItem=function(i,a){this._getTabStrip().insertItem(new sap.m.TabStripItem({key:i.getId(),text:i.getName(),modified:i.getModified()}),a);return this.insertAggregation("items",i,a);};T.prototype.removeAllItems=function(){this._getTabStrip().removeAllItems();this.setSelectedItem(null);return this.removeAllAggregation("items");};T.prototype.setAddButton=function(b){return this._getTabStrip().setAddButton(b);};T.prototype.getAddButton=function(){return this._getTabStrip().getAddButton();};T.prototype.setShowAddNewButton=function(s){this.setProperty("showAddNewButton",s,true);var o=this._getTabStrip();if(o){o.setAddButton(s?this._getAddNewTabButton():null);}return this;};T.prototype.setSelectedItem=function(s,e){if(this.fireItemSelect({item:s})){var o=this._getTabStrip();if(s&&o){o.setSelectedItem(this._toTabStripItem(s));this._rerenderContent(s.getContent());}T.prototype.setAssociation.call(this,"selectedItem",s,true);return this;}if(e){e.preventDefault();}return this;};T.prototype._rerenderContent=function(c){var $=this.$("content"),r;if(!c||($.length<=0)){return;}r=sap.ui.getCore().createRenderManager();for(var i=0;i<c.length;i++){r.renderControl(c[i]);}r.flush($[0]);r.destroy();};T.prototype._setDefaultTab=function(){var f=this.getItems()[0]||null;this.setSelectedItem(f);return f;};return T;},true);
sap.ui.predefine('sap/m/TabContainerItem',['sap/ui/core/Element','sap/ui/core/Control'],function(E,C){"use strict";var T=E.extend("sap.m.TabContainerItem",{metadata:{library:"sap.ui.core",properties:{name:{type:"string",group:"Misc",defaultValue:""},key:{type:"string",group:"Data",defaultValue:null},modified:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,defaultValue:null}},events:{itemPropertyChanged:{parameters:{itemChanged:{type:"sap.m.TabContainerItem"},propertyKey:{type:"string"},propertyValue:{type:"any"}}}}}});T.prototype.setProperty=function(n,v,s){if(n==="modified"){s=true;}this.fireItemPropertyChanged({itemChanged:this,propertyKey:n,propertyValue:v});return E.prototype.setProperty.call(this,n,v,s);};return T;});
sap.ui.predefine('sap/m/TabContainerRenderer',['jquery.sap.global'],function(q){"use strict";var T={};T.render=function(r,c){var t=c._getTabStrip(),s=c._getSelectedItemContent();r.write("<div ");r.writeControlData(c);r.addClass("sapMTabContainer");r.addClass("sapContrastPlus");r.writeClasses();r.write(">");if(t){r.renderControl(t);}r.write("<div id='"+c.getId()+"-containerContent' ");r.addClass("sapMTabContainerContent");r.writeClasses();r.write(">");r.write("<div id='"+this.getContentDomId(c)+"' class='sapMTabContainerInnerContent'");r.writeAccessibilityState(c,this.getTabContentAccAttributes(c));r.write(">");if(s){s.forEach(function(C){r.renderControl(C);});}r.write("</div>");r.write("</div>");r.write("</div>");};T.getTabContentAccAttributes=function(c){var s=c.getSelectedItem(),t,a={role:"tabpanel"};if(s){t=c._toTabStripItem(s);if(t){a["aria-labelledby"]=t.getId();}}return a;};T.getContentDomId=function(c){return c.getId()+"-content";};return T;},true);
sap.ui.predefine('sap/m/TabStrip',['jquery.sap.global','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/core/delegate/ItemNavigation','sap/ui/base/ManagedObject','sap/ui/core/delegate/ScrollEnablement','sap/ui/core/InvisibleText','./AccButton','./TabStripItem','./TabStripSelect','sap/ui/Device'],function(q,C,I,a,M,S,b,A,T,c,D){"use strict";var d=C.extend("sap.m.TabStrip",{metadata:{library:"sap.m",properties:{hasSelect:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{items:{type:"sap.m.TabStripItem",multiple:true,singularName:"item"},addButton:{type:"sap.m.Button",multiple:false,singularName:"addButton"},_select:{type:'sap.m.TabStripSelect',multiple:false,visibility:"hidden"},_rightArrowButton:{type:'sap.m.AccButton',multiple:false,visibility:"hidden"},_leftArrowButton:{type:'sap.m.AccButton',multiple:false,visibility:"hidden"}},associations:{selectedItem:{type:'sap.m.TabStripItem',group:"Misc"}},events:{itemClose:{allowPreventDefault:true,parameters:{item:{type:"sap.m.TabStripItem"}}},itemPress:{parameters:{item:{type:"sap.m.TabStripItem"}}},itemSelect:{allowPreventDefault:true,parameters:{item:{type:"sap.m.TabContainerItem"}}}}},constructor:function(i,s){var h=false;if(!s&&typeof i==='object'){s=i;}if(s){h=s['hasSelect'];delete s['hasSelect'];}sap.ui.base.ManagedObject.prototype.constructor.apply(this,arguments);this.setProperty('hasSelect',h,true);}});var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");d.ICON_BUTTONS={LeftArrowButton:"slim-arrow-left",RightArrowButton:"slim-arrow-right",DownArrowButton:"slim-arrow-down",AddButton:"add"};d.SELECT_ITEMS_ID_SUFFIX='-SelectItem';d.SCROLL_SIZE=320;d.MIN_DRAG_OFFSET=sap.ui.Device.support.touch?15:5;d.SCROLL_ANIMATION_DURATION=sap.ui.getCore().getConfiguration().getAnimation()?500:0;d.ARIA_STATIC_TEXTS={closable:new b({text:r.getText("TABSTRIP_ITEM_CLOSABLE")}).toStatic(),modified:new b({text:r.getText("TABSTRIP_ITEM_MODIFIED")}).toStatic(),notModified:new b({text:r.getText("TABSTRIP_ITEM_NOT_MODIFIED")}).toStatic()};d.prototype.init=function(){this._bDoScroll=!sap.ui.Device.system.phone;this._bRtl=sap.ui.getCore().getConfiguration().getRTL();this._iCurrentScrollLeft=0;this._iMaxOffsetLeft=null;this._scrollable=null;this._oTouchStartX=null;if(!sap.ui.Device.system.phone){this._oScroller=new S(this,this.getId()+"-tabs",{horizontal:true,vertical:false,nonTouchScrolling:true});}};d.prototype.exit=function(){this._bRtl=null;this._iCurrentScrollLeft=null;this._iMaxOffsetLeft=null;this._scrollable=null;this._oTouchStartX=null;if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}this._removeItemNavigation();};d.prototype.onBeforeRendering=function(){if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}};d.prototype.onAfterRendering=function(){if(this._oScroller){this._oScroller.setIconTabBar(this,q.proxy(this._handleOverflowButtons,this),null);}this._addItemNavigation();if(!sap.ui.Device.system.phone){this._adjustScrolling();this._sResizeListenerId=sap.ui.core.ResizeHandler.register(this.getDomRef(),q.proxy(this._adjustScrolling,this));}};d.prototype.getFocusDomRef=function(){var t=sap.ui.getCore().byId(this.getSelectedItem());if(!t){return null;}return t.getDomRef();};d.prototype.applyFocusInfo=function(f){if(f.focusDomRef){q(f.focusDomRef).focus();}};d.prototype._addItemNavigation=function(){var h=this.getDomRef("tabsContainer"),i=this.getItems(),t=[];i.forEach(function(o){var e=o.getDomRef();q(e).attr("tabindex","-1");t.push(e);});if(!this._oItemNavigation){this._oItemNavigation=new a();}this._oItemNavigation.setRootDomRef(h);this._oItemNavigation.setItemDomRefs(t);this._oItemNavigation.setCycling(false);this._oItemNavigation.setPageSize(5);this.addDelegate(this._oItemNavigation);};d.prototype._checkScrolling=function(){var t=this.getDomRef("tabs"),s=t&&(t.scrollWidth>this.getDomRef("tabsContainer").clientWidth);this.$().toggleClass("sapMTSScrollable",s);return s;};d.prototype._handleOverflowButtons=function(){var t=this.getDomRef("tabs"),o=this.getDomRef("tabsContainer"),s,e,f,g=false,h=false,i=this._checkScrolling();if(i&&!this.getAggregation("_rightArrowButton")&&!this.getAggregation("_leftArrowButton")){this._getLeftArrowButton();this._getRightArrowButton();var R=sap.ui.getCore().createRenderManager();this.getRenderer().renderRightOverflowButtons(R,this,true);this.getRenderer().renderLeftOverflowButtons(R,this,true);R.destroy();}if(i&&t&&o){if(this._bRtl&&D.browser.firefox){s=-o.scrollLeft;}else{s=o.scrollLeft;}e=t.scrollWidth;f=o.clientWidth;if(Math.abs(e-f)===1){e=f;}if(s>0){if(this._bRtl&&D.browser.webkit){h=true;}else{g=true;}}if((e>f)&&(s+f<e)){if(this._bRtl&&D.browser.webkit){g=true;}else{h=true;}}this.$().toggleClass("sapMTSScrollBack",g).toggleClass("sapMTSScrollForward",h);}else{this.$().toggleClass("sapMTSScrollBack",false).toggleClass("sapMTSScrollForward",false);}};d.prototype._adjustScrolling=function(){this._iMaxOffsetLeft=Math.abs(this.$("tabsContainer").width()-this.$("tabs").width());this._handleOverflowButtons();};d.prototype._getLeftArrowButton=function(){return this._getArrowButton("_leftArrowButton",r.getText("TABSTRIP_SCROLL_BACK"),d.ICON_BUTTONS.LeftArrowButton,-d.SCROLL_SIZE);};d.prototype._getRightArrowButton=function(){return this._getArrowButton("_rightArrowButton",r.getText("TABSTRIP_SCROLL_FORWARD"),d.ICON_BUTTONS.RightArrowButton,d.SCROLL_SIZE);};d.prototype._getArrowButton=function(B,t,i,e){var o=this.getAggregation(B),f=this;if(!o){o=new A({type:sap.m.ButtonType.Transparent,icon:I.getIconURI(i),tooltip:t,tabIndex:"-1",ariaHidden:"true",press:function(E){f._scroll(e,d.SCROLL_ANIMATION_DURATION);}});this.setAggregation(B,o,true);}return o;};d.prototype._removeItemNavigation=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}};d.prototype._scroll=function(i,e){var s=this.getDomRef("tabsContainer").scrollLeft,f=D.browser.internet_explorer||D.browser.edge,g;if(this._bRtl&&!f){g=s-i;if(D.browser.firefox){if(g<-this._iMaxOffsetLeft){g=-this._iMaxOffsetLeft;}if(g>0){g=0;}}}else{g=s+i;if(g<0){g=0;}if(g>this._iMaxOffsetLeft){g=this._iMaxOffsetLeft;}}this._oScroller.scrollTo(g,0,e);this._iCurrentScrollLeft=g;};d.prototype._scrollIntoView=function(i,e){var $=this.$("tabs"),f=i.$(),t=$.innerWidth()-$.width(),g=f.outerWidth(true),h=f.position().left-t/2,o=this.getDomRef("tabsContainer"),s=o.scrollLeft,j=this.$("tabsContainer").width(),n=s;if(h<0||h>j-g){if(this._bRtl&&D.browser.firefox){if(h<0){n+=h+g-j;}else{n+=h;}}else{if(h<0){n+=h;}else{n+=h+g-j;}}this._iCurrentScrollLeft=n;this._oScroller.scrollTo(n,0,e);}};d.prototype._createSelect=function(t){var s,o,e,f={type:sap.m.SelectType.IconOnly,autoAdjustWidth:true,icon:I.getIconURI(d.ICON_BUTTONS.DownArrowButton),tooltip:r.getText("TABSTRIP_OPENED_TABS"),change:function(E){o=E.getParameters()['selectedItem'];e=this._findTabStripItemFromSelectItem(o);this._activateItem(e,E);}.bind(this)};s=new c(f);this._addItemsToSelect(s,t);return s;};d.prototype.onsapselect=function(e){e.setMarked();e.preventDefault();this._activateItem(e.srcControl,e);};d.prototype.onsapdelete=function(e){var i=q("#"+e.target.id).control(0),s=i.getId()===this.getSelectedItem(),f=function(){this._moveToNextItem(s);};this._removeItem(i,f);};d.prototype._moveToNextItem=function(s){var i=this.getItems().length,e=this._oItemNavigation.getFocusedIndex(),n=i===e?--e:e,N=this.getItems()[n],f=function(){this._oItemNavigation.focusItem(n);};if(s){this.setSelectedItem(N);this.fireItemPress({item:N});}q.sap.delayedCall(0,this,f);};d.prototype._activateItem=function(i,e){if(this.fireItemSelect({item:i})){if(i&&i instanceof sap.m.TabStripItem){if(!this.getSelectedItem()||this.getSelectedItem()!==i.getId()){this.setSelectedItem(i);}this.fireItemPress({item:i});}}else if(e&&!e.isDefaultPrevented()){e.preventDefault();}};d.prototype.addAggregation=function(s,o,e){if(s==='items'){this._handleItemsAggregation(['addAggregation',o,e],true);}return C.prototype.addAggregation.call(this,s,o,e);};d.prototype.insertAggregation=function(s,o,i,e){if(s==='items'){this._handleItemsAggregation(['insertAggregation',o,i,e],true);}return C.prototype.insertAggregation.call(this,s,o,i,e);};d.prototype.removeAggregation=function(s,o,e){if(s==='items'){this._handleItemsAggregation(['removeAggregation',o,e]);}return C.prototype.removeAggregation.call(this,s,o,e);};d.prototype.removeAllAggregation=function(s,e){if(s==='items'){this._handleItemsAggregation(['removeAllAggregation',null,e]);}return C.prototype.removeAllAggregation.call(this,s,e);};d.prototype.destroyAggregation=function(s,e){if(s==='items'){this._handleItemsAggregation(['destroyAggregation',e]);}return C.prototype.destroyAggregation.call(this,s,e);};d.prototype.setSelectedItem=function(s){if(!s){return;}if(s.$().length>0){this._scrollIntoView(s,500);}this._updateAriaSelectedAttributes(this.getItems(),s);this._updateSelectedItemClasses(s.getId());if(this.getHasSelect()){var o=this._findSelectItemFromTabStripItem(s);this.getAggregation('_select').setSelectedItem(o);}return d.prototype.setAssociation.call(this,"selectedItem",s,true);};d.prototype.setProperty=function(p,v,s){var R;R=C.prototype.setProperty.call(this,p,v,s);if(p==='hasSelect'){if(v){if(!this.getAggregation('_select')){R=this.setAggregation('_select',this._createSelect(this.getItems()));}}else{R=this.destroyAggregation('_select');}}return R;};d.prototype._attachItemEventListeners=function(o){if(o instanceof T){var e=['itemClosePressed','itemPropertyChanged'];e.forEach(function(E){E=E.charAt(0).toUpperCase()+E.slice(1);o['detach'+E](this['_handle'+E]);o['attach'+E](this['_handle'+E].bind(this));},this);}};d.prototype._detachItemEventListeners=function(o){if(!o||typeof o!=='object'||!(o instanceof T)){var i=this.getItems();i.forEach(function(e){if(typeof e!=='object'||!(e instanceof T)){return;}return this._detachItemEventListeners(e);}.bind(this));}};d.prototype._handleItemPropertyChanged=function(e){var s=this._findSelectItemFromTabStripItem(e.getSource());s.setProperty(e['mParameters'].propertyKey,e['mParameters'].propertyValue);};d.prototype._handleItemClosePressed=function(e){this._removeItem(e.getSource());};d.prototype._removeItem=function(i,f){var t;if(!(i instanceof T)){q.sap.log.error('Expecting instance of a TabStripSelectItem, given: ',i);}if(i.getId().indexOf(d.SELECT_ITEMS_ID_SUFFIX)!==-1){t=this._findTabStripItemFromSelectItem(i);}else{t=i;}if(this.fireItemClose({item:t})){this.removeAggregation('items',t);this._moveToNextItem(i.getId()===this.getSelectedItem());if(f){f.call(this);}}};d.prototype._handleItemsAggregation=function(e,i){var s='items',f=e[0],o=e[1],n=[s];e.forEach(function(g,h){if(h>0){n.push(g);}});if(i){this._attachItemEventListeners(o);}else{this._detachItemEventListeners(o);}if(s!=="items"){return this;}if(this.getHasSelect()){this._handleSelectItemsAggregation(n,i,f,o);}return this;};d.prototype._handleSelectItemsAggregation=function(e,i,f,o){var s=this.getAggregation('_select'),g;if(f==='destroyAggregation'&&!s){return;}if(o===null||typeof o!=='object'){return s[f]['apply'](s,e);}if(i){g=this._createSelectItemFromTabStripItem(o);}else{g=this._findSelectItemFromTabStripItem(o);}e.forEach(function(h,j){if(typeof h==='object'){e[j]=g;}});return s[f]['apply'](s,e);};d.prototype._addItemsToSelect=function(s,i){i.forEach(function(o){var e=this._createSelectItemFromTabStripItem(o);s.addAggregation('items',e);if(o.getId()===this.getSelectedItem()){s.setSelectedItem(e);}},this);};d.prototype._createSelectItemFromTabStripItem=function(t){var s;if(!t&&!(t instanceof sap.m.TabContainerItem)){q.sap.log.error('Expecting instance of "sap.m.TabContainerItem": instead of '+t+' given.');return;}s=new sap.m.TabStripItem({id:t.getId()+d.SELECT_ITEMS_ID_SUFFIX,text:t.getText(),modified:t.getModified(),itemClosePressed:function(e){this._handleItemClosePressed(e);}.bind(this)}).addEventDelegate({ontap:function(e){var o=e.srcControl;if(o instanceof A){o.fireItemClosePressed({item:o});}else if(o instanceof sap.ui.core.Icon){o=o.getParent&&o.getParent().getParent&&o.getParent().getParent();o.fireItemClosePressed({item:o});}}});return s;};d.prototype._findTabStripItemFromSelectItem=function(t){var i,s=t.getId().replace(d.SELECT_ITEMS_ID_SUFFIX,''),e=this.getItems();for(i=0;i<e.length;i++){if(e[i].getId()===s){return e[i];}}};d.prototype._findSelectItemFromTabStripItem=function(t){var i,s,e=t.getId()+d.SELECT_ITEMS_ID_SUFFIX;if(this.getHasSelect()){s=this.getAggregation('_select').getItems();for(i=0;i<s.length;i++){if(s[i].getId()===e){return s[i];}}}};d.prototype._updateAriaSelectedAttributes=function(i,s){var e="false";i.forEach(function(o){if(o.$()){if(s&&s.getId()===o.getId()){e="true";}o.$().attr("aria-selected",e);}});};d.prototype._updateSelectedItemClasses=function(s){if(this.$("tabs")){this.$("tabs").children(".sapMTabStripItemSelected").removeClass("sapMTabStripItemSelected");q("#"+s).addClass("sapMTabStripItemSelected");}};d.prototype.changeItemState=function(i,s){var $;var e=this.getItems();e.forEach(function(o){if(i===o.getId()){$=q(o.$());if(s===true&&!$.hasClass(T.CSS_CLASS_MODIFIED)){$.addClass(T.CSS_CLASS_MODIFIED);}else{$.removeClass(T.CSS_CLASS_MODIFIED);}}});};d.prototype.ontouchstart=function(e){var t=q(e.target).control(0);if(t instanceof T||t instanceof A||t instanceof sap.ui.core.Icon||t instanceof c){this._oTouchStartX=e.changedTouches[0].pageX;}};d.prototype.ontouchend=function(e){var t,i;if(!this._oTouchStartX){return;}t=q(e.target).control(0);i=Math.abs(e.changedTouches[0].pageX-this._oTouchStartX);if(i<d.MIN_DRAG_OFFSET){if(t instanceof T){this._activateItem(t,e);}else if(t instanceof sap.m.AccButton){if(t&&t.getParent&&t.getParent()instanceof T){t=t.getParent();this._removeItem(t);}}else if(t instanceof sap.ui.core.Icon){if(t&&t.getParent&&t.getParent().getParent&&t.getParent().getParent()instanceof T){t=t.getParent().getParent();this._removeItem(t);}}this._oTouchStartX=null;}};d.prototype.destroyItems=function(){this.setAssociation("selectedItem",null);return this.destroyAggregation("items");};return d;},false);
sap.ui.predefine('sap/m/TabStripItem',["jquery.sap.global","./library","sap/ui/core/Item","sap/ui/base/ManagedObject",'sap/ui/core/IconPool','./AccButton'],function(q,l,I,M,a,A){"use strict";var T=I.extend("sap.m.TabStripItem",{metadata:{library:"sap.m",properties:{modified:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{_closeButton:{type:"sap.m.Button",multiple:false}},events:{itemClosePressed:{allowPreventDefault:true,parameters:{item:{type:"sap.m.TabStripItem"}}},itemPropertyChanged:{parameters:{itemChanged:{type:'sap.m.TabStripItem'},propertyKey:{type:"string"},propertyValue:{type:"any"}}}}}});T.DISPLAY_TEXT_MAX_LENGTH=25;T.CSS_CLASS="sapMTabStripItem";T.CSS_CLASS_LABEL="sapMTabStripItemLabel";T.CSS_CLASS_BUTTON="sapMTabStripItemButton";T.CSS_CLASS_MODIFIED="sapMTabStripItemModified";T.CSS_CLASS_SELECTED="sapMTabStripItemSelected";T.CSS_CLASS_STATE="sapMTabStripSelectListItemModified";T.CSS_CLASS_STATE_INVISIBLE="sapMTabStripSelectListItemModifiedInvisible";T.CSS_CLASS_CLOSE_BUTTON='sapMTabStripSelectListItemCloseBtn';T.CSS_CLASS_CLOSE_BUTTON_INVISIBLE='sapMTabStripSelectListItemCloseBtnInvisible';T.prototype.init=function(){var b=new A({type:sap.m.ButtonType.Transparent,icon:a.getIconURI("decline"),tabIndex:"-1",ariaHidden:"true"}).addStyleClass(T.CSS_CLASS_CLOSE_BUTTON);this.setAggregation('_closeButton',b);};T.prototype.setProperty=function(n,v,s){if(n==='modified'){s=true;}M.prototype.setProperty.call(this,n,v,s);if(this.getParent()&&this.getParent().changeItemState){this.getParent().changeItemState(this.getId(),v);}this.fireItemPropertyChanged({itemChanged:this,propertyKey:n,propertyValue:v});return this;};return T;},false);
sap.ui.predefine('sap/m/TabStripRenderer',['jquery.sap.global','./TabStripItem','./TabStrip'],function(q,T,a){"use strict";var b={};b.LEFT_OVERRFLOW_BTN_CLASS_NAME="sapMTSLeftOverflowButtons";b.RIGHT_OVERRFLOW_BTN_CLASS_NAME="sapMTSRightOverflowButtons";b.render=function(r,C){if(!C.getVisible()){return;}this.beginTabStrip(r,C);if(sap.ui.Device.system.phone===true){this.renderTouchArea(r,C);}else{r.write("<div id='"+C.getId()+"-leftOverflowButtons' class='"+this.LEFT_OVERRFLOW_BTN_CLASS_NAME+"'>");if(C.getAggregation("_leftArrowButton")){this.renderLeftOverflowButtons(r,C,false);}r.write("</div>");this.beginTabsContainer(r,C);this.renderItems(r,C);this.endTabsContainer(r);r.write("<div id='"+C.getId()+"-rightOverflowButtons' class='"+this.RIGHT_OVERRFLOW_BTN_CLASS_NAME+"'>");if(C.getAggregation("_rightArrowButton")){this.renderRightOverflowButtons(r,C,false);}r.write("</div>");this.renderTouchArea(r,C);}this.endTabStrip(r);};b.renderItems=function(r,C){var i=C.getItems(),s=C.getSelectedItem();i.forEach(function(I){var d=s&&s===I.getId();this.renderItem(r,C,I,d);},this);};b.renderItem=function(r,C,i,s){r.write("<div id='"+i.getId()+"'");r.addClass(T.CSS_CLASS);if(i.getModified()){r.addClass(T.CSS_CLASS_MODIFIED);}if(s){r.addClass(T.CSS_CLASS_SELECTED);}r.writeClasses();r.writeElementData(i);r.writeAccessibilityState(i,c(i,C.getParent(),sap.ui.getCore().byId(C.getSelectedItem())));r.write(">");r.write("<span id='"+g(i)+"' class='"+T.CSS_CLASS_LABEL+"'>");this.renderItemText(r,i);r.write("</span>");this.renderItemCloseButton(r,i);r.write("</div>");};b.renderItemText=function(r,i){var I=i.getText();if(I.length>T.DISPLAY_TEXT_MAX_LENGTH){r.writeEscaped(I.slice(0,T.DISPLAY_TEXT_MAX_LENGTH));r.write('...');}else{r.writeEscaped(I);}};b.renderItemCloseButton=function(r,i){r.write("<div class='sapMTSItemCloseBtnCnt'>");r.renderControl(i.getAggregation("_closeButton"));r.write("</div>");};b.beginTabStrip=function(r,C){r.write("<div");r.addClass("sapMTabStrip");r.writeControlData(C);r.writeClasses();r.write(">");};b.endTabStrip=function(r){r.write("</div>");};b.beginTabsContainer=function(r,C){r.write("<div id='"+C.getId()+"-tabsContainer' class='sapMTSTabsContainer'>");r.write("<div id='"+C.getId()+"-tabs'  class='sapMTSTabs'");r.writeAccessibilityState(C,{role:"tablist"});r.write(">");};b.endTabsContainer=function(r){r.write("</div>");r.write("</div>");};b.renderLeftOverflowButtons=function(r,C,f){r.renderControl(C.getAggregation("_leftArrowButton"));if(f){r.flush(C.$("leftOverflowButtons")[0]);}};b.renderRightOverflowButtons=function(r,C,f){r.renderControl(C.getAggregation("_rightArrowButton"));if(f){r.flush(C.$("rightOverflowButtons")[0]);}};b.renderTouchArea=function(r,C){r.write("<div id='"+C.getId()+"-touchArea'  class='sapMTSTouchArea'>");r.renderControl(C.getAggregation('_select'));r.renderControl(C.getAddButton());r.write("</div>");};function g(i){return i.getId()+"-label";}function c(i,t,s){var A={role:"tab"},d=a.ARIA_STATIC_TEXTS.closable.getId()+" ";d+=i.getModified()?a.ARIA_STATIC_TEXTS.modified.getId():a.ARIA_STATIC_TEXTS.notModified.getId();A["describedby"]=d;A["labelledby"]=g(i);if(t&&t.getRenderer&&t.getRenderer().getContentDomId){A["controls"]=t.getRenderer().getContentDomId(t);}if(s&&s.getId()===i.getId()){A["selected"]="true";}else{A["selected"]="false";}return A;}return b;},true);
sap.ui.predefine('sap/m/TabStripSelect',['jquery.sap.global','./Popover','./TabStripSelectList','./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','sap/m/Select','sap/m/TabStripItem'],function(q,P,T,l,C,E,I,S,a){"use strict";var b=S.extend("sap.m.TabStripSelect",{metadata:{library:"sap.m"}});b.CSS_CLASS='sapMTSSlt';b.CSS_CLASS_INVISIBLE='sapMSltInvisible';b.prototype.init=function(){b.SPACE_BETWEEN_SELECT_BUTTON_AND_POPOVER=this.$().parents().hasClass('sapUiSizeCompact')?2:3;this.setPickerType(sap.ui.Device.system.phone?"Dialog":"Popover");this.createPicker(this.getPickerType());this._oSelectionOnFocus=null;this.bRenderingPhase=false;this._bFocusoutDueRendering=false;this._bProcessChange=false;};b.prototype.createList=function(){this._oList=new T({width:"100%"}).attachSelectionChange(this.onSelectionChange,this).addEventDelegate({ontap:function(e){this.close();}},this);return this._oList;};b.prototype._callMethodInControl=function(f,A){var r,L;if(A[0]==="items"){L=this.getList();if(L){r=T.prototype[f].apply(L,A);}if(f==='removeAggregation'&&this.isOpen()){this.getPicker().rerender();}}else{r=C.prototype[f].apply(this,A);}return r;};b.prototype._createPopover=function(){var t=this,p=new P({showArrow:false,showHeader:false,placement:sap.m.PlacementType.Vertical,offsetX:0,offsetY:b.SPACE_BETWEEN_SELECT_BUTTON_AND_POPOVER,initialFocus:this,bounce:false});p.addEventDelegate({ontouchstart:function(e){var o=this.getDomRef("cont");if(e.target===o){t._bProcessChange=false;}}},p);p.addStyleClass("sapContrastPlus");this._decoratePopover(p);return p;};b.prototype._createDialog=function(){var c=this.getRenderer().CSS_CLASS;var d=new sap.m.Dialog({stretch:true,customHeader:new sap.m.Bar({contentLeft:new sap.m.InputBase({width:"100%",editable:false}).addStyleClass(b.CSS_CLASS+"Input").addStyleClass(c+"Input")}).addStyleClass(b.CSS_CLASS+"Bar").addStyleClass(c+"Bar")}).addStyleClass(b.CSS_CLASS+"Dialog");d.getAggregation("customHeader").attachBrowserEvent("tap",function(){d.close();},this);return d;};b.prototype._onBeforeOpenDialog=function(){var i=this.getPicker().getCustomHeader().getContentLeft()[0],s=this.getSelectedItem();if(s){i.setValue(s.getText());i.setTextDirection(this.getTextDirection());i.setTextAlign(this.getTextAlign());}};b.prototype.onAfterRenderingPicker=function(){var p,c=sap.ui.getCore().getConfiguration().getRTL();S.prototype.onAfterRenderingPicker.call(this);if(c){p=this.$().width()-this.getPicker().$().width();}else{p=this.getPicker().$().width()-this.$().width();}if(this.getPicker()instanceof sap.m.Popover===true){this.getPicker().setOffsetX(-p);this.getPicker().setOffsetY(this.$().parents().hasClass('sapUiSizeCompact')?2:3);this.getPicker()._calcPlacement();}};b.prototype.exit=function(){S.prototype.exit.call(this);this._oList.destroy();this._oList=null;};b.prototype.ontouchstart=function(e){e.setMarked();if(this.getEnabled()&&this.isOpenArea(e.target)){this.addStyleClass(this.getRenderer().CSS_CLASS+"Pressed");}};b.prototype.ontouchend=function(e){e.setMarked();if(this.getEnabled()&&(!this.isOpen()||!this.hasContent())&&this.isOpenArea(e.target)){this.removeStyleClass(this.getRenderer().CSS_CLASS+"Pressed");}};b.prototype.onBeforeClose=function(){var d=this.getFocusDomRef();if(d){d.removeAttribute("aria-owns");d.removeAttribute("aria-activedescendant");}this.removeStyleClass(this.getRenderer().CSS_CLASS+"Pressed");};b.prototype.onAfterClose=function(){var d=this.getFocusDomRef();if(d){d.setAttribute("aria-expanded","false");d.removeAttribute("aria-owns");}};b.prototype.getDefaultSelectedItem=function(i){if(sap.ui.Device.system.phone){return S.prototype.getDefaultSelectedItem.apply(this,arguments);}return null;};b.prototype.setValue=function(v){var m=this.$().find(".sapMTabStripSelectListItemModified").eq(0),s;S.prototype.setValue.apply(this,arguments);s=this.getSelectedItem();if(s&&s.getProperty('modified')){m.removeClass(a.CSS_CLASS_STATE_INVISIBLE);}else{m.addClass(a.CSS_CLASS_STATE_INVISIBLE);}return this;};b.prototype.onSelectionChange=function(e){var i=e.getParameter("selectedItem");if(this.fireChange({selectedItem:i})){this.close();this.setSelection(i);this.setValue(this._getSelectedItemText());}else{e.preventDefault();}};b.prototype.fireChange=function(p){this._oSelectionOnFocus=p.selectedItem;var A=true;return this.fireEvent("change",p,A);};return b;},false);
sap.ui.predefine('sap/m/TabStripSelectList',['jquery.sap.global','./library','sap/ui/core/Control','sap/m/SelectList','sap/m/TabStripItem'],function(q,l,C,S,T){"use strict";var a=S.extend("sap.m.TabStripSelectList",{metadata:{library:"sap.m"}});a.CSS_CLASS_SELECTLIST='sapMSelectList';a.CSS_CLASS_TABSTRIPSELECTLIST='sapMTabStripSelectList';a.prototype.init=function(){S.prototype.init.call(this);this.addStyleClass(a.CSS_CLASS_SELECTLIST);this.addStyleClass(a.CSS_CLASS_TABSTRIPSELECTLIST);};a.prototype.onAfterRendering=function(){S.prototype.onAfterRendering.apply(this,arguments);var d=this.getDomRef();d.addEventListener("mouseenter",q.proxy(a.prototype.mouseenter,this),true);d.addEventListener("mouseleave",q.proxy(a.prototype.mouseleave,this),true);};a.prototype.mouseenter=function(e){var c=q(e.target).control(0);if(sap.ui.Device.system.desktop&&c instanceof sap.m.TabStripItem&&this.getSelectedItem()!==c){c.getAggregation('_closeButton').$().removeClass(T.CSS_CLASS_CLOSE_BUTTON_INVISIBLE);}};a.prototype.mouseleave=function(e){var c=q(e.target).control(0);if(sap.ui.Device.system.desktop&&c instanceof sap.m.TabStripItem&&q(e.target).hasClass('sapMSelectListItem')&&this.getSelectedItem()!==c){c.getAggregation('_closeButton').$().addClass(T.CSS_CLASS_CLOSE_BUTTON_INVISIBLE);}};a.prototype._activateItem=function(i){if(i instanceof sap.ui.core.Item&&i&&i.getEnabled()){this.fireItemPress({item:i});if(this.fireSelectionChange({selectedItem:i})){var p=this.getSelectedItem();if(p&&p!==i){if(sap.ui.Device.system.desktop){p.getAggregation('_closeButton').addStyleClass(T.CSS_CLASS_CLOSE_BUTTON_INVISIBLE);}}this.setSelection(i);}}};a.prototype.changeItemState=function(i,s){var $;var I=this.getItems();I.forEach(function(o){if(i===o.getId()){$=q(o.$().children('.'+T.CSS_CLASS_STATE)[0]);if(s===true){$.removeClass(T.CSS_CLASS_STATE_INVISIBLE);}else if(!$.hasClass(T.CSS_CLASS_STATE_INVISIBLE)){$.addClass(T.CSS_CLASS_STATE_INVISIBLE);}}});};a.prototype.fireSelectionChange=function(p){var A=true;return this.fireEvent("selectionChange",p,A);};return a;},true);
sap.ui.predefine('sap/m/TabStripSelectListRenderer',['jquery.sap.global','sap/ui/core/Renderer','sap/m/SelectListRenderer','sap/m/TabStripSelectList','sap/m/TabStripItem'],function(q,R,S,T,a){"use strict";var b=R.extend(S);b.renderItem=function(r,l,i,s){if(!(i instanceof sap.ui.core.Element)){return;}var e=i.getEnabled(),o=l.getSelectedItem(),C=S.CSS_CLASS,t=i.getTooltip_AsString(),c=' ',d;d=i.getAggregation('_closeButton');if(sap.ui.Device.system.desktop){d.addStyleClass(a.CSS_CLASS_CLOSE_BUTTON_INVISIBLE);}r.write("<li");r.writeElementData(i);if(i instanceof sap.ui.core.SeparatorItem){r.addClass(C+"SeparatorItem");}else{r.addClass(C+"ItemBase");r.addClass(C+"Item");if(i.bVisible===false){r.addClass(C+"ItemBaseInvisible");}if(!e){r.addClass(C+"ItemBaseDisabled");}if(e){r.writeAttribute("tabindex","0");}if(e&&sap.ui.Device.system.desktop){r.addClass(C+"ItemBaseHoverable");}if(i===o){r.addClass(C+"ItemBaseSelected");i.getAggregation('_closeButton').removeStyleClass(a.CSS_CLASS_CLOSE_BUTTON_INVISIBLE);}}r.writeClasses();if(t){r.writeAttributeEscaped("title",t);}this.writeItemAccessibilityState.apply(this,arguments);r.write(">");r.write('<p');r.writeAttribute('class','sapMSelectListItemText');r.write('>');r.writeEscaped(i.getText().slice(0,(sap.ui.Device.system.phone?i.getText().length:a.DISPLAY_TEXT_MAX_LENGTH)));if(!sap.ui.Device.system.phone&&i.getText().length>a.DISPLAY_TEXT_MAX_LENGTH){r.write('...');}r.write('</p>');if(!i.getProperty('modified')){c+=a.CSS_CLASS_STATE_INVISIBLE;}r.write("<p class=\"sapMTabStripSelectListItemModified"+c+"\">*</p>");r.renderControl(d);r.write("</li>");};return b;},true);
sap.ui.predefine('sap/m/TabStripSelectRenderer',['jquery.sap.global','sap/ui/core/Renderer','sap/m/SelectRenderer','sap/ui/core/ValueStateSupport','sap/m/TabStripSelect','sap/m/TabStripItem'],function(q,R,S,V,T,a){"use strict";var b=R.extend(S);b.render=function(r,s){var t=V.enrichTooltip(s,s.getTooltip_AsString()),e=s.getEnabled(),C=S.CSS_CLASS;r.write("<button");r.addClass(T.CSS_CLASS);if(!s.getVisible()){r.addClass(T.CSS_CLASS_INVISIBLE);}this.addClass(r,s);r.addClass(C);r.addClass(C+s.getType());if(!e){r.addClass(C+"Disabled");}r.addClass(C+"WithArrow");r.addStyle("max-width",s.getMaxWidth());r.writeControlData(s);r.writeStyles();r.writeClasses();this.writeAccessibilityState(r,s);if(t){r.writeAttributeEscaped("title",t);}r.writeAttribute("tabindex","-1");r.write(">");r.write("<div");r.addClass("sapMSltInner");if(e&&sap.ui.Device.system.desktop){r.addClass(C+"Hoverable");}r.writeClasses();r.write(">");if(sap.ui.Device.system.phone){this.renderLabel(r,s);}this.renderIcon(r);var l=s.getList();if(s._isShadowListRequired()&&l){r.renderControl(l);}r.write("</div>");r.write("</button>");};b.renderLabel=function(r,s){var o=s.getSelectedItem(),t=s.getTextDirection(),c=R.getTextAlign(s.getTextAlign(),t),d=' ';r.write("<label");r.writeAttribute("id",s.getId()+"-label");r.writeAttribute("for",s.getId());r.addClass(S.CSS_CLASS+"Label");if(t!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",t.toLowerCase());}if(c){r.addStyle("text-align",c);}r.writeStyles();r.writeClasses();r.write(">");r.writeEscaped(o?o.getText():"");if(!o.getProperty('modified')){d+=a.CSS_CLASS_STATE_INVISIBLE;}r.write('</label>');r.write('<span style="position: absolute" class="sapMTabStripSelectListItemModified'+d+'">*</span>');};b.renderIcon=function(r){r.write("<span");r.addClass("sapMSltIcon");r.addClass("sapUiIcon");r.addClass("sapUiIconMirrorInRTL");r.writeClasses();r.write(">");r.write("</span");};return b;},true);
sap.ui.predefine('sap/m/Table',['jquery.sap.global','./ListBase','./ListItemBase','./library'],function(q,L,a,l){"use strict";var T=L.extend("sap.m.Table",{metadata:{library:"sap.m",properties:{backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance",defaultValue:sap.m.BackgroundDesign.Translucent},fixedLayout:{type:"boolean",group:"Behavior",defaultValue:true},showOverlay:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{columns:{type:"sap.m.Column",multiple:true,singularName:"column"}}}});T.prototype.sNavItemClass="sapMListTblRow";T.prototype.bAnnounceDetails=2;T.prototype.init=function(){this._iItemNeedsColumn=0;L.prototype.init.call(this);};T.prototype.onBeforeRendering=function(){L.prototype.onBeforeRendering.call(this);this._ensureColumnsMedia();this._notifyColumns("ItemsRemoved");};T.prototype._ensureColumnsMedia=function(){this.getColumns().forEach(function(c){if(c._bShouldAddMedia){c._addMedia();}});};T.prototype.onAfterRendering=function(){L.prototype.onAfterRendering.call(this);this.updateSelectAllCheckbox();this._renderOverlay();};T.prototype._renderOverlay=function(){var $=this.$(),b=$.find(".sapMTableOverlay"),s=this.getShowOverlay();if(s&&b.length===0){b=q("<div>").addClass("sapUiOverlay sapMTableOverlay").css("z-index","1");$.append(b);}else if(!s){b.remove();}};T.prototype.setShowOverlay=function(s){this.setProperty("showOverlay",s,true);this._renderOverlay();return this;};T.prototype.exit=function(){L.prototype.exit.call(this);if(this._selectAllCheckBox){this._selectAllCheckBox.destroy();this._selectAllCheckBox=null;}};T.prototype.destroyItems=function(){this._notifyColumns("ItemsRemoved");return L.prototype.destroyItems.apply(this,arguments);};T.prototype.removeAllItems=function(){this._notifyColumns("ItemsRemoved");return L.prototype.removeAllItems.apply(this,arguments);};T.prototype.removeSelections=function(){L.prototype.removeSelections.apply(this,arguments);this.updateSelectAllCheckbox();return this;};T.prototype.selectAll=function(){L.prototype.selectAll.apply(this,arguments);this.updateSelectAllCheckbox();return this;};T.prototype.getColumns=function(s){var c=this.getAggregation("columns",[]);if(s){c.sort(function(b,d){return b.getOrder()-d.getOrder();});}return c;};T.prototype.onAfterPageLoaded=function(){this.updateSelectAllCheckbox();L.prototype.onAfterPageLoaded.apply(this,arguments);};T.prototype.shouldRenderItems=function(){var h=this.getColumns().some(function(c){return c.getVisible();});if(!h){q.sap.log.warning("No visible columns found in "+this);}return h;};T.prototype.onItemTypeColumnChange=function(i,n){this._iItemNeedsColumn+=(n?1:-1);if(this._iItemNeedsColumn==1&&n){this._setTypeColumnVisibility(true);}else if(this._iItemNeedsColumn==0){this._setTypeColumnVisibility(false);}};T.prototype.onItemSelectedChange=function(i,s){L.prototype.onItemSelectedChange.apply(this,arguments);q.sap.delayedCall(0,this,function(){this.updateSelectAllCheckbox();});};T.prototype.getTableDomRef=function(){return this.getDomRef("listUl");};T.prototype.getItemsContainerDomRef=function(){return this.getDomRef("tblBody");};T.prototype.setNavigationItems=function(i){var h=this.$("tblHeader");var f=this.$("tblFooter");var r=this.$("tblBody").children(".sapMLIB");var I=h.add(r).add(f).get();i.setItemDomRefs(I);if(i.getFocusedIndex()==-1){if(this.getGrowing()&&this.getGrowingDirection()==sap.m.ListGrowingDirection.Upwards){i.setFocusedIndex(I.length-1);}else{i.setFocusedIndex(h[0]?1:0);}}};T.prototype.checkGrowingFromScratch=function(){if(this.hasPopin()){return false;}return this.getColumns().some(function(c){return c.getVisible()&&c.getMergeDuplicates();});};T.prototype.onColumnResize=function(c){if(!this.hasPopin()&&!this._mutex){var h=this.getColumns().some(function(d){return d.isPopin();});if(!h){c.setDisplayViaMedia(this.getTableDomRef());return;}}this._dirty=this._getMediaContainerWidth()||window.innerWidth;if(!this._mutex){var b=this._getMediaContainerWidth()||window.innerWidth;this._mutex=true;this.rerender();q.sap.delayedCall(200,this,function(){if(this._dirty!=b){this._dirty=0;this.rerender();}this._mutex=false;});}};T.prototype.setTableHeaderVisibility=function(c){if(!this.getDomRef()){return;}var $=q(this.getTableDomRef()),b=$.find("thead > tr"),h=!b.hasClass("sapMListTblHeaderNone"),v=b.find(".sapMListTblCell").filter(":visible"),d=v.eq(0);if(v.length==1){d.width("");}else{v.each(function(){this.style.width=this.getAttribute("data-sap-width")||"";});}$.find(".sapMGHLICell").attr("colspan",v.length+!!sap.m.ListBaseRenderer.ModeOrder[this.getMode()]);if(!c&&h){b[0].className="sapMListTblRow sapMListTblHeader";this._headerHidden=false;}else if(c&&!h&&!v.length){b[0].className="sapMListTblHeaderNone";this._headerHidden=true;}};T.prototype._setTypeColumnVisibility=function(v){q(this.getTableDomRef()).toggleClass("sapMListTblHasNav",v);};T.prototype._notifyColumns=function(A,p,P){this.getColumns().forEach(function(c){c["on"+A](p,P);});};T.prototype._getSelectAllCheckbox=function(){return this._selectAllCheckBox||(this._selectAllCheckBox=new sap.m.CheckBox({id:this.getId("sa"),activeHandling:false}).setParent(this,null,true).attachSelect(function(){if(this._selectAllCheckBox.getSelected()){this.selectAll(true);}else{this.removeSelections(false,true);}},this).setTabIndex(-1));};T.prototype.updateSelectAllCheckbox=function(){if(this._selectAllCheckBox&&this.getMode()==="MultiSelect"){var i=this.getItems(),s=this.getSelectedItems().length,S=i.filter(function(I){return I.isSelectable();}).length;this._selectAllCheckBox.setSelected(i.length>0&&s==S);}};T.prototype.getColSpan=function(){return(this._colCount||1)-1;};T.prototype.getColCount=function(){return(this._colCount||0);};T.prototype.hasPopin=function(){return!!this._hasPopin;};T.prototype.isHeaderRowEvent=function(e){var h=this.$("tblHeader");return!!q(e.target).closest(h,this.getTableDomRef()).length;};T.prototype.isFooterRowEvent=function(e){var f=this.$("tblFooter");return!!q(e.target).closest(f,this.getTableDomRef()).length;};T.prototype.getAccessibilityType=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_TABLE");};T.prototype._setHeaderAnnouncement=function(){var b=sap.ui.getCore().getLibraryResourceBundle("sap.m"),A=b.getText("ACC_CTR_TYPE_HEADER_ROW")+" ";if(this.isAllSelectableSelected()){A+=b.getText("LIST_ALL_SELECTED");}this.getColumns(true).forEach(function(c,i){var h=c.getHeader();if(h&&h.getVisible()){A+=a.getAccessibilityText(h)+" ";}});this.updateInvisibleText(A);};T.prototype._setFooterAnnouncement=function(){var A=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_FOOTER_ROW")+" ";this.getColumns(true).forEach(function(c,i){var f=c.getFooter();if(f&&f.getVisible()){var h=c.getHeader();if(h&&h.getVisible()){A+=a.getAccessibilityText(h)+" ";}A+=a.getAccessibilityText(f)+" ";}});this.updateInvisibleText(A);};T.prototype.onsapspace=function(e){if(e.isMarked()){return;}if(this._selectAllCheckBox&&e.target===this.getDomRef("tblHeader")){this._selectAllCheckBox.setSelected(!this._selectAllCheckBox.getSelected()).fireSelect();e.preventDefault();e.setMarked();}};T.prototype.onsaptabnext=function(e){if(e.isMarked()||this.getKeyboardMode()==sap.m.ListKeyboardMode.Edit){return;}var r=q();if(e.target.id==this.getId("nodata")){r=this.$("nodata");}else if(this.isHeaderRowEvent(e)){r=this.$("tblHeader");}else if(this.isFooterRowEvent(e)){r=this.$("tblFooter");}var o=r.find(":sapTabbable").get(-1)||r[0];if(e.target===o){this.forwardTab(true);e.setMarked();}};T.prototype.onsaptabprevious=function(e){if(e.isMarked()||this.getKeyboardMode()==sap.m.ListKeyboardMode.Edit){return;}var t=e.target.id;if(t==this.getId("nodata")||t==this.getId("tblHeader")||t==this.getId("tblFooter")){this.forwardTab(false);}else if(t==this.getId("trigger")){this.focusPrevious();e.preventDefault();}};T.prototype.onfocusin=function(e){var t=e.target;if(t.id===this.getId("tblHeader")){this._setHeaderAnnouncement();}else if(t.id===this.getId("tblFooter")){this._setFooterAnnouncement();}else if(t.id==this.getId("nodata")){this.updateInvisibleText(this.getNoDataText(),t);}L.prototype.onfocusin.call(this,e);};T.prototype.onsapfocusleave=function(e){L.prototype.onsapfocusleave.call(this,e);if(this.iAnnounceDetails){this.iAnnounceDetails=2;}};return T;},true);
sap.ui.predefine('sap/m/TablePersoController',['jquery.sap.global','./TablePersoDialog','sap/ui/base/ManagedObject'],function(q,T,M){"use strict";var d=M.extend("sap.m.TablePersoController",{constructor:function(i,s){M.apply(this,arguments);},metadata:{properties:{"contentWidth":{type:"sap.ui.core.CSSSize"},"contentHeight":{type:"sap.ui.core.CSSSize",defaultValue:"20rem",since:"1.22"},"componentName":{type:"string",since:"1.20.2"},"hasGrouping":{type:"boolean",defaultValue:false,since:"1.22"},"showSelectAll":{type:"boolean",defaultValue:true,since:"1.22"},"showResetAll":{type:"boolean",defaultValue:true,since:"1.22"}},aggregations:{"_tablePersoDialog":{type:"sap.m.TablePersoDialog",multiple:false,visibility:"hidden"},"persoService":{type:"Object",multiple:false}},associations:{"table":{type:"sap.m.Table",multiple:false},"tables":{type:"sap.m.Table",multiple:true}},events:{personalizationsDone:{}},library:"sap.m"}});d.prototype.init=function(){this._schemaProperty="_persoSchemaVersion";this._schemaVersion="1.0";this._oPersonalizations=null;this._mDelegateMap={};this._mTablePersMap={};this._mInitialTableStateMap={};this._triggersPersDoneEvent=true;};d.prototype.exit=function(){this._callFunctionForAllTables(q.proxy(function(t){t.removeDelegate(this._mDelegateMap[t]);},this));delete this._mDelegateMap;delete this._mTablePersMap;delete this._mInitialTableStateMap;};d.prototype.activate=function(){this._callFunctionForAllTables(this._rememberInitialTableStates);this._callFunctionForAllTables(this._createAndAddDelegateForTable);return this;};d.prototype.getTablePersoDialog=function(){return this.getAggregation("_tablePersoDialog");};d.prototype.applyPersonalizations=function(t){var r=this.getPersoService().getPersData();var a=this;r.done(function(p){if(!!p){a._adjustTable(p,t);}});r.fail(function(){q.sap.log.error("Problem reading persisted personalization data.");});};d.prototype._createAndAddDelegateForTable=function(t){if(!this._mDelegateMap[t]){var o={onBeforeRendering:q.proxy(function(){this.applyPersonalizations(t);if(!this.getAggregation("_tablePersoDialog")){this._createTablePersoDialog(t);}},this)};t.addDelegate(o);this._mDelegateMap[t]=o;}};d.prototype._createTablePersoDialog=function(t){var o=new T({persoDialogFor:t,persoMap:this._getPersoColumnMap(t),columnInfoCallback:this._tableColumnInfo.bind(this),initialColumnState:this._mInitialTableStateMap[t],contentWidth:this.getContentWidth(),contentHeight:this.getContentHeight(),hasGrouping:this.getHasGrouping(),showSelectAll:this.getShowSelectAll(),showResetAll:this.getShowResetAll()});this.setAggregation("_tablePersoDialog",o);o.attachConfirm(q.proxy(function(){this._oPersonalizations=o.retrievePersonalizations();this._callFunctionForAllTables(this._personalizeTable);this.savePersonalizations();this.firePersonalizationsDone();},this));};d.prototype._adjustTable=function(D,t){if(D&&D.hasOwnProperty(this._schemaProperty)&&D[this._schemaProperty]===this._schemaVersion){this._oPersonalizations=D;if(!!t){this._personalizeTable(t);}else{this._callFunctionForAllTables(this._personalizeTable);}}};d.prototype._personalizeTable=function(t){var p=this._getPersoColumnMap(t);if(!!p&&!!this._oPersonalizations){var D=false;for(var c=0,a=this._oPersonalizations.aColumns.length;c<a;c++){var n=this._oPersonalizations.aColumns[c];var o=p[n.id];if(!o){o=sap.ui.getCore().byId(n.id);if(!!o){q.sap.log.info("Migrating personalization persistence id of column "+n.id);n.id=p[o];D=true;}}if(o){o.setVisible(n.visible);o.setOrder(n.order);}else{q.sap.log.warning("Personalization could not be applied to column "+n.id+" - not found!");}}if(D){this.savePersonalizations();}t.invalidate();}};d.prototype.savePersonalizations=function(){var b=this._oPersonalizations;b[this._schemaProperty]=this._schemaVersion;var w=this.getPersoService().setPersData(b);w.done(function(){});w.fail(function(){q.sap.log.error("Problem persisting personalization data.");});};d.prototype.refresh=function(){var r=function(o){this._mTablePersMap={};o.invalidate();};this._callFunctionForAllTables(r);var t=this.getAggregation("_tablePersoDialog");if(!!t){t.setPersoMap(this._getPersoColumnMap(sap.ui.getCore().byId(t.getPersoDialogFor())));}};d.prototype.openDialog=function(){var t=this.getAggregation("_tablePersoDialog");if(!!t){q.sap.syncStyleClass("sapUiSizeCompact",t.getPersoDialogFor(),t._oDialog);t.open();}else{q.sap.log.warning("sap.m.TablePersoController: trying to open TablePersoDialog before TablePersoService has been activated.");}};d.prototype.setContentWidth=function(w){this.setProperty("contentWidth",w,true);var t=this.getAggregation("_tablePersoDialog");if(!!t){t.setContentWidth(w);}return this;};d.prototype.setContentHeight=function(h){this.setProperty("contentHeight",h,true);var t=this.getAggregation("_tablePersoDialog");if(!!t){t.setContentHeight(h);}return this;};d.prototype.setHasGrouping=function(h){this.setProperty("hasGrouping",h,true);var t=this.getAggregation("_tablePersoDialog");if(!!t){t.setHasGrouping(h);}return this;};d.prototype.setShowSelectAll=function(s){this.setProperty("showSelectAll",s,true);var t=this.getAggregation("_tablePersoDialog");if(!!t){t.setShowSelectAll(s);}return this;};d.prototype.setShowResetAll=function(s){this.setProperty("showResetAll",s,true);var t=this.getAggregation("_tablePersoDialog");if(!!t){t.setShowResetAll(s);}return this;};d.prototype.setComponentName=function(c){this.setProperty("componentName",c,true);return this;};d.prototype._getMyComponentName=function(c){if(this.getComponentName()){return this.getComponentName();}if(c===null){return"empty_component";}var m=c.getMetadata();if(c.getMetadata().getStereotype()==="component"){return m._sComponentName;}return this._getMyComponentName(c.getParent());};d.prototype._callFunctionForAllTables=function(t){var o=sap.ui.getCore().byId(this.getAssociation("table"));if(!!o){t.call(this,o);}var a=this.getAssociation("tables");if(a){for(var i=0,l=this.getAssociation("tables").length;i<l;i++){o=sap.ui.getCore().byId(this.getAssociation("tables")[i]);t.call(this,o);}}};d.prototype._isStatic=function(i){var u=sap.ui.getCore().getConfiguration().getUIDPrefix();var r=new RegExp("^"+u);return!r.test(i);};d.prototype._getPersoColumnMap=function(t){var r=this._mTablePersMap[t];if(!r){r={};var e=function(i){var l=i.lastIndexOf("-");return i.substring(l+1);};var s=e.call(this,t.getId());if(!this._isStatic(s)){q.sap.log.error("Table "+t.getId()+" must have a static id suffix. Otherwise personalization can not be persisted.");r=null;return null;}var n;var c=this._getMyComponentName(t);var a=this;t.getColumns().forEach(function(N){if(!!r){var b=N.getId();var f=e.call(a,b);if(!a._isStatic(f)){q.sap.log.error("Suffix "+f+" of table column "+b+" must be static. Otherwise personalization can not be persisted for its table.");r=null;return null;}n=c+"-"+s+"-"+f;r[N]=n;r[n]=N;}});this._mTablePersMap[t]=r;}return r;};d.prototype._rememberInitialTableStates=function(t){this._mInitialTableStateMap[t]=this._tableColumnInfo(t,this._getPersoColumnMap(t));};d.prototype._tableColumnInfo=function(t,p){if(!!p){var c=t.getColumns(),C=[],P=this.getPersoService();c.forEach(function(o){var s=null;if(P.getCaption){s=P.getCaption(o);}var g=null;if(P.getGroup){g=P.getGroup(o);}if(!s){var a=o.getHeader();if(a.getText&&a.getText()){s=a.getText();}else if(a.getTitle&&a.getTitle()){s=a.getTitle();}if(!s){s=o.getId();q.sap.log.warning("Please 'getCaption' callback implentation in your TablePersoProvider for column "+o+". Table personalization uses column id as fallback value.");}}C.push({text:s,order:o.getOrder(),visible:o.getVisible(),id:p[o],group:g});});C.sort(function(a,b){return a.order-b.order;});return C;}return null;};return d;},true);
sap.ui.predefine('sap/m/TablePersoDialog',['jquery.sap.global','./Button','./Dialog','./InputListItem','./List','./Toolbar','sap/ui/base/ManagedObject'],function(q,B,D,I,L,T,M){"use strict";var a=M.extend("sap.m.TablePersoDialog",{constructor:function(i,s){M.apply(this,arguments);},metadata:{properties:{"contentWidth":{type:"sap.ui.core.CSSSize"},"contentHeight":{type:"sap.ui.core.CSSSize",since:"1.22"},"persoMap":{type:"object"},"columnInfoCallback":{type:"object",since:"1.22"},"initialColumnState":{type:"object",since:"1.22"},"hasGrouping":{type:"boolean",since:"1.22"},"showSelectAll":{type:"boolean",since:"1.22"},"showResetAll":{type:"boolean",since:"1.22"}},aggregations:{"persoService":{type:"Object",multiple:false,deprecated:true}},associations:{"persoDialogFor":"sap.m.Table"},events:{confirm:{},cancel:{}},library:"sap.m"}});a.prototype.init=function(){var t=this,l=0;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oP13nModel=new sap.ui.model.json.JSONModel();this._oP13nModel.setSizeLimit(Number.MAX_VALUE);this._fnUpdateCheckBoxes=q.proxy(function(e){var s=e.getParameter('selected'),d=this._oP13nModel.getData();if(e.getSource().getId()===this._getSelectAllCheckboxId()){d.aColumns.forEach(function(c){c.visible=s;});}else{var S=!d.aColumns.some(function(c){return!c.visible;});d.oHeader.visible=S;}this._oP13nModel.setData(d);},this);this._oColumnItemTemplate=new I({label:"{Personalization>text}",content:new sap.m.CheckBox({selected:"{Personalization>visible}",select:this._fnUpdateCheckBoxes})}).addStyleClass("sapMPersoDialogLI");this._oButtonUp=new B({icon:"sap-icon://arrow-top",enabled:false,tooltip:t._oRb.getText('PERSODIALOG_UP'),press:function(){t._moveItem(-1);}});this._oButtonDown=new B({icon:"sap-icon://arrow-bottom",enabled:false,tooltip:t._oRb.getText('PERSODIALOG_DOWN'),press:function(){t._moveItem(1);}});this._fnHandleResize=function(){if(t._oDialog){var $=t._oDialog.$("cont");var b=t._oDialog.$("scroll");if($.children().length>0){var c=$.children()[0].clientHeight;var p=b[0].clientHeight-c;var h=t.getShowSelectAll()?t._oSelectAllToolbar.$().outerHeight():0;t._oScrollContainer.setHeight((c-h-p)+'px');}}};this._fnUpdateArrowButtons=function(u){var b=true,c=true,v=t._oSearchField.getValue(),i=t._oList.getItems().length;if(!!v||t._oList.getSelectedItems().length===0){c=false;b=false;}else{if(t._oList.getItems()[0].getSelected()){c=false;if(u){q.sap.focus(t._oButtonDown.getDomRef());}}if(t._oList.getItems()[i-1].getSelected()){b=false;if(u){q.sap.focus(t._oButtonUp.getDomRef());}}}t._oButtonUp.setEnabled(c);t._oButtonDown.setEnabled(b);};this._fnListUpdateFinished=function(){var b=t._oList.$().find('.sapMCb'),c=b.length;for(var i=0;i<c;i++){var $=q(b[i]).parent(),s=$.siblings(),d=s.length==1?q(s[0]):null;if(d){$=$.detach();$[0].className='sapMLIBSelectM';$.insertBefore(d);}}if(t._sLastSelectedItemId){var f=function(o){var r=(o.getBindingContext('Personalization')&&o.getBindingContext('Personalization').getProperty('id')===t._sLastSelectedItemId);if(r){t._oList.setSelectedItem(o);}return r;};t._oList.getItems().some(f);t._sLastSelectedItemId=null;if(t._fnUpdateArrowButtons){t._fnUpdateArrowButtons.call(this);}}};this._fnAfterDialogOpen=function(){t._fnUpdateArrowButtons.call(t);};this._fnAfterScrollContainerRendering=function(){t._oScrollContainer.$().attr('tabindex','-1');};this._oList=new L({includeItemInSelection:true,noDataText:this._oRb.getText('PERSODIALOG_NO_DATA'),mode:sap.m.ListMode.SingleSelectMaster,selectionChange:function(){this._fnUpdateArrowButtons.call(this);}.bind(this),updateFinished:this._fnListUpdateFinished});this._oList.addDelegate({onAfterRendering:this._fnListUpdateFinished});this._oSearchField=new sap.m.SearchField(this.getId()+"-searchField",{width:"100%",liveChange:function(e){var v=e.getSource().getValue(),d=(v?300:0);clearTimeout(l);if(d){l=setTimeout(function(){t._executeSearch();},d);}else{t._executeSearch();}},search:function(){t._executeSearch();}});this._oScrollContainer=new sap.m.ScrollContainer({horizontal:false,vertical:true,content:[this._oList],width:'100%'});this._oScrollContainer.addDelegate({onAfterRendering:this._fnAfterScrollContainerRendering});this._resetAllButton=new B({icon:"sap-icon://undo",tooltip:this._oRb.getText('PERSODIALOG_UNDO'),press:function(){this._resetAll();}.bind(this)}).addStyleClass("sapMPersoDialogResetBtn");this._oSelectAllCheckbox=new sap.m.CheckBox(this._getSelectAllCheckboxId(),{selected:"{Personalization>/oHeader/visible}",select:this._fnUpdateCheckBoxes,text:"{Personalization>/oHeader/text}"}).addStyleClass("sapMPersoDialogSelectAllCb");this._oSelectAllToolbar=new T({active:false,design:sap.m.ToolbarDesign.Transparent,content:[this._oSelectAllCheckbox,this._resetAllButton]}).addStyleClass("sapMPersoDialogFixedBar");this._oDialog=new D({title:this._oRb.getText("PERSODIALOG_COLUMNS_TITLE"),stretch:sap.ui.Device.system.phone,horizontalScrolling:false,verticalScrolling:false,initialFocus:(sap.ui.Device.system.desktop?this._oList:null),content:[this._oSelectAllToolbar,this._oScrollContainer],subHeader:new T({active:false,content:[this._oButtonUp,this._oButtonDown,this._oSearchField]}),leftButton:new B({text:this._oRb.getText("PERSODIALOG_OK"),press:function(){t._oDialog.close();t._oSearchField.setValue("");t._oSelectAllToolbar.setVisible(true);sap.ui.Device.resize.detachHandler(t._fnHandleResize);t.fireConfirm();}}),rightButton:new B({text:this._oRb.getText("PERSODIALOG_CANCEL"),press:function(){t._oDialog.close();t._oSearchField.setValue("");t._oSelectAllToolbar.setVisible(true);sap.ui.Device.resize.detachHandler(t._fnHandleResize);t.fireCancel();}}),afterOpen:this._fnAfterDialogOpen}).addStyleClass("sapMPersoDialog");};a.prototype.retrievePersonalizations=function(){return this._oP13nModel.getData();};a.prototype.open=function(){var s=null;if(this.getHasGrouping()){s=[new sap.ui.model.Sorter('group',false,true)];}this._readCurrentSettingsFromTable();this._oDialog.setModel(this._oP13nModel,"Personalization");this._oList.bindAggregation("items",{path:"Personalization>/aColumns",sorter:s,template:this._oColumnItemTemplate});if(!this._oList.getSelectedItem()){var i=this._oList.getItems();if(this.getHasGrouping()){i=i.filter(function(o){return o.getMetadata().getName()!="sap.m.GroupHeaderListItem";});}if(i.length>0){this._sLastSelectedItemId=i[0].getBindingContext('Personalization').getProperty('id');}}this._fnUpdateArrowButtons.call(this);this._oDialog.open();this._fnHandleResize.call(this);sap.ui.Device.resize.attachHandler(this._fnHandleResize);};a.prototype.setContentHeight=function(h){this.setProperty("contentHeight",h,true);this._oDialog.setContentHeight(h);return this;};a.prototype.setContentWidth=function(w){this.setProperty("contentWidth",w,true);this._oDialog.setContentWidth(w);return this;};a.prototype.exit=function(){this._oRb=null;this._oP13nModel=null;if(this._oColumnItemTemplate){this._oColumnItemTemplate.destroy();this._oColumnItemTemplate=null;}if(this._oSelectAllToolbar){this._oSelectAllToolbar.destroy();this._oSelectAllToolbar=null;}if(this._oList){this._oList.destroy();this._oList=null;}if(this._oSearchField){this._oSearchField.destroy();this._oSearchField=null;}if(this._oScrollContainer){this._oScrollContainer.destroy();this._oScrollContainer=null;}if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}if(this._oButtonDown){this._oButtonDown.destroy();this._oButtonDown=null;}if(this._oButtonUp){this._oButtonUp.destroy();this._oButtonUp=null;}};a.prototype._resetAll=function(){if(this.getInitialColumnState()){var i=q.extend(true,[],this.getInitialColumnState()),t=this;var l=this._oList.getSelectedItem();this._sLastSelectedItemId=l&&l.getBindingContext('Personalization')&&l.getBindingContext('Personalization').getProperty('id');if(!!this._mColumnCaptions){i.forEach(function(c){c.text=t._mColumnCaptions[c.id];});}this._oP13nModel.getData().aColumns=i;this._oP13nModel.getData().oHeader.visible=!this.getInitialColumnState().some(function(c){return!c.visible;});this._oP13nModel.updateBindings();sap.ui.getCore().applyChanges();}};a.prototype._moveItem=function(d){var s=this._oList.getSelectedItem();if(!s){return;}var o=this._oP13nModel.getData();var i=s.getBindingContext("Personalization").getPath().split("/").pop()*1;var b=i+d;if(b<0||b>=o.aColumns.length){return;}var t=o.aColumns[b];o.aColumns[b]=o.aColumns[i];o.aColumns[b].order=b;o.aColumns[i]=t;o.aColumns[i].order=i;this._oList.removeSelections(true);this._oP13nModel.updateBindings();var S=this._oList.getItems()[b];this._oList.setSelectedItem(S,true);sap.ui.getCore().applyChanges();if(!!S.getDomRef()){var e=S.$().position().top,m=18,v=this._oScrollContainer.$().height(),V=this._oScrollContainer.$().offset().top-this._oList.$().offset().top,c=V+v;if(e<V){this._oScrollContainer.scrollTo(0,Math.max(0,V-v+m));}else if(e+m>c){this._oScrollContainer.scrollTo(0,e);}}this._fnUpdateArrowButtons.call(this,true);};a.prototype._readCurrentSettingsFromTable=function(){var t=sap.ui.getCore().byId(this.getPersoDialogFor()),b=this,c=this.getColumnInfoCallback().call(this,t,this.getPersoMap());this._oP13nModel.setData({aColumns:c,oHeader:{text:this._oRb.getText("PERSODIALOG_SELECT_ALL"),visible:!c.some(function(C){return!C.visible;}),id:this._getSelectAllCheckboxId()}});this._mColumnCaptions={};c.forEach(function(C){b._mColumnCaptions[C.id]=C.text;});};a.prototype._getSelectAllCheckboxId=function(){return this.getId()+'_SelectAll';};a.prototype._executeSearch=function(){var v=this._oSearchField.getValue(),f=new sap.ui.model.Filter("text",sap.ui.model.FilterOperator.Contains,v),b=this._oList.getBinding("items");this._oSelectAllToolbar.setVisible(!v&&this.getShowSelectAll());b.filter([f]);this._fnUpdateArrowButtons.call(this);return this;};a.prototype.setHasGrouping=function(h){this.setProperty("hasGrouping",h,true);var b=this._oDialog.getSubHeader();if(!h){if(b.getContent().length===1){b.insertContent(this._oButtonDown,0);b.insertContent(this._oButtonUp,0);}}else{b.removeContent(this._oButtonUp);b.removeContent(this._oButtonDown);}return this;};a.prototype.setShowSelectAll=function(s){this.setProperty("showSelectAll",s,true);this._oSelectAllToolbar.setVisible(s);this._fnHandleResize.call(this);return this;};a.prototype.setShowResetAll=function(s){this.setProperty("showResetAll",s,true);this._resetAllButton.setVisible(s);return this;};return a;},true);
sap.ui.predefine('sap/m/TablePersoProvider',['jquery.sap.global','sap/ui/base/ManagedObject'],function(q,M){"use strict";var T=M.extend("sap.m.TablePersoProvider",{constructor:function(i,s){M.apply(this,arguments);},metadata:{"abstract":true,library:"sap.m"}});T.prototype.init=function(){q.sap.log.warning("This is the abstract base class for a TablePersoProvider. Do not create instances of this class, but use a concrete sub class instead.");q.sap.log.debug("TablePersoProvider init");};T.prototype.getPersData=function(){q.sap.log.debug("TablePersoProvider getPersData");};T.prototype.setPersData=function(b){q.sap.log.debug("TablePersoProvider setPersData");};T.prototype.delPersData=function(){q.sap.log.debug("TablePersoProvider delPersData");};T.prototype.getCaption=function(c){return null;};T.prototype.getGroup=function(c){return null;};T.prototype.resetPersData=function(){q.sap.log.debug("TablePersoProvider resetPersData");};return T;},true);
sap.ui.predefine('sap/m/TableRenderer',['jquery.sap.global','sap/ui/core/Renderer','./ListBaseRenderer','./ColumnListItemRenderer'],function(q,R,L,C){"use strict";var T=R.extend(L);T.renderColumns=function(r,t,a){var i=0,h=0,b=false,c=false,m=t.getMode(),M=L.ModeOrder[m],d="sapMListTbl",e=t.getId("tbl"),f=(a=="Head")?"th":"td",g="t"+a.toLowerCase(),j=t.getColumns(),k=(a=="Head")&&j.every(function(o){return!o.getHeader()||!o.getHeader().getVisible()||!o.getVisible()||o.isPopin()||o.isHidden();}),l=(a=="Head")&&j.filter(function(o){return o.getVisible()&&!o.isPopin()&&!o.isHidden();}).length==1,n=function(o,p,A){r.write("<");r.write(f);A&&r.writeAttribute("aria-hidden","true");p&&r.writeAttribute("id",e+p);r.addClass(d+o);r.writeClasses();r.write("></");r.write(f);r.write(">");i++;};r.write("<"+g+">");r.write("<tr");r.writeAttribute("tabindex",-1);r.writeAttribute("id",t.addNavSection(e+a+"er"));if(k){r.addClass("sapMListTblHeaderNone");}else{r.addClass("sapMListTblRow sapMLIBFocusable sapMListTbl"+a+"er");C.addLegacyOutlineClass.call(C,r);}r.writeClasses();r.write(">");n("HighlightCol",a+"Highlight",!t._iItemNeedsHighlight);if(M==-1){if(m=="MultiSelect"&&a=="Head"&&!k){r.write("<th class='"+d+"SelCol'>");r.write("<div class='sapMLIBSelectM'>");r.renderControl(t._getSelectAllCheckbox());r.write("</div></th>");i++;}else{n("SelCol");}}j.forEach(function(o,p){o.setIndex(-1);o.setInitialOrder(p);});t.getColumns(true).forEach(function(o,p){if(!o.getVisible()){return;}if(o.isPopin()){b=true;return;}if(o.isHidden()){h++;}var s=o["get"+a+"er"](),w=l?"":o.getWidth(),u=o.getStyleClass(true),v=o.getCssAlign();r.write("<"+f);u&&r.addClass(q.sap.encodeHTML(u));r.addClass(d+"Cell");r.addClass(d+a+"erCell");r.writeAttribute("id",e+a+i);r.writeAttribute("data-sap-width",o.getWidth());w&&r.addStyle("width",w);if(v){r.addStyle("text-align",v);}r.writeClasses();r.writeStyles();r.write(">");if(s){o.applyAlignTo(s);r.renderControl(s);}if(a=="Head"&&!c){c=!!o.getFooter();}r.write("</"+f+">");o.setIndex(i++);});n("NavCol",a+"Nav",!t._iItemNeedsColumn);if(M==1){n("SelCol");}r.write("</tr></"+g+">");if(a=="Head"){t._hasPopin=b;t._colCount=i-h;t._hasFooter=c;t._headerHidden=k;}};T.renderContainerAttributes=function(r,c){r.addClass("sapMListTblCnt");};T.renderListStartAttributes=function(r,c){r.write("<table");r.addClass("sapMListTbl");if(c.getFixedLayout()===false){r.addStyle("table-layout","auto");}if(c._iItemNeedsColumn){r.addClass("sapMListTblHasNav");}};T.getAriaRole=function(c){return"";};T.renderListHeadAttributes=function(r,c){this.renderColumns(r,c,"Head");r.write("<tbody");r.writeAttribute("id",c.addNavSection(c.getId("tblBody")));r.write(">");};T.renderListEndAttributes=function(r,c){r.write("</tbody>");c._hasFooter&&this.renderColumns(r,c,"Foot");r.write("</table>");};T.renderNoData=function(r,c){r.write("<tr");r.writeAttribute("tabindex",c.getKeyboardMode()==sap.m.ListKeyboardMode.Navigation?-1:0);r.writeAttribute("id",c.getId("nodata"));r.addClass("sapMLIB sapMListTblRow sapMLIBTypeInactive");C.addFocusableClasses.call(C,r);if(!c._headerHidden||(!c.getHeaderText()&&!c.getHeaderToolbar())){r.addClass("sapMLIBShowSeparator");}r.writeClasses();r.write(">");r.write("<td");r.writeAttribute("id",c.getId("nodata-text"));r.writeAttribute("colspan",c.getColCount());r.addClass("sapMListTblCell sapMListTblCellNoData");r.writeClasses();r.write(">");r.writeEscaped(c.getNoDataText(true));r.write("</td>");r.write("</tr>");};return T;},true);
sap.ui.predefine('sap/m/TableSelectDialog',['jquery.sap.global','./Button','./Dialog','./SearchField','./Table','./library','sap/ui/core/Control'],function(q,B,D,S,T,l,C){"use strict";var a=C.extend("sap.m.TableSelectDialog",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Appearance",defaultValue:null},noDataText:{type:"string",group:"Appearance",defaultValue:null},multiSelect:{type:"boolean",group:"Dimension",defaultValue:false},growingThreshold:{type:"int",group:"Misc",defaultValue:null},contentWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},rememberSelections:{type:"boolean",group:"Behavior",defaultValue:false},contentHeight:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.ColumnListItem",multiple:true,singularName:"item",bindable:"bindable"},_dialog:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},columns:{type:"sap.m.Column",multiple:true,singularName:"column",bindable:"bindable"}},events:{confirm:{parameters:{selectedItem:{type:"sap.m.StandardListItem"},selectedItems:{type:"sap.m.StandardListItem[]"},selectedContexts:{type:"string"}}},search:{parameters:{value:{type:"string"},itemsBinding:{type:"any"}}},liveChange:{parameters:{value:{type:"string"},itemsBinding:{type:"any"}}},cancel:{}}}});a.prototype.init=function(){var t=this,L=0,r=null;r=function(){t._oSelectedItem=t._oTable.getSelectedItem();t._aSelectedItems=t._oTable.getSelectedItems();t._oDialog.detachAfterClose(r);t._fireConfirmAndUpdateSelection();};this._bAppendedToUIArea=false;this._bInitBusy=false;this._bFirstRender=true;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oTable=new T(this.getId()+"-table",{growing:true,growingScrollToLoad:true,mode:sap.m.ListMode.SingleSelectMaster,infoToolbar:new sap.m.Toolbar({visible:false,active:false,content:[new sap.m.Label({text:this._oRb.getText("TABLESELECTDIALOG_SELECTEDITEMS",[0])})]}),selectionChange:function(e){if(t._oDialog){if(!t.getMultiSelect()){t._oDialog.attachAfterClose(r);t._oDialog.close();}else{t._updateSelectionIndicator();}}}});this._oTable.getInfoToolbar().addEventDelegate({onAfterRendering:function(){t._oTable.getInfoToolbar().$().attr('aria-live','polite');}});this._table=this._oTable;this._oBusyIndicator=new sap.m.BusyIndicator(this.getId()+"-busyIndicator").addStyleClass("sapMTableSelectDialogBusyIndicator",true);this._oSearchField=new S(this.getId()+"-searchField",{width:"100%",liveChange:function(e){var v=e.getSource().getValue(),i=(v?300:0);clearTimeout(L);if(i){L=setTimeout(function(){t._executeSearch(v,"liveChange");},i);}else{t._executeSearch(v,"liveChange");}},search:function(e){t._executeSearch(e.getSource().getValue(),"search");}});this._searchField=this._oSearchField;this._oSubHeader=new sap.m.Bar(this.getId()+"-subHeader",{contentMiddle:[this._searchField]});this._oDialog=new D(this.getId()+"-dialog",{stretch:sap.ui.Device.system.phone,contentHeight:"2000px",subHeader:this._oSubHeader,content:[this._oBusyIndicator,this._oTable],leftButton:this._getCancelButton(),initialFocus:((sap.ui.Device.system.desktop&&this._oSearchField)?this._oSearchField:null)});this._dialog=this._oDialog;this.setAggregation("_dialog",this._oDialog);var d=this._oDialog.onsapescape;this._oDialog.onsapescape=function(e){if(d){d.call(t._oDialog,e);}t._onCancel();};this._oDialog._iVMargin=8*(parseInt(sap.ui.core.theming.Parameters.get("sapUiFontSize"),10)||16);this._sSearchFieldValue="";this._bFirstRequest=true;this._iTableUpdateRequested=0;};a.prototype.exit=function(){this._oTable=null;this._oSearchField=null;this._oSubHeader=null;this._oBusyIndicator=null;this._sSearchFieldValue=null;this._iTableUpdateRequested=null;this._bFirstRequest=false;this._bInitBusy=false;this._bFirstRender=false;if(this._bAppendedToUIArea){var s=sap.ui.getCore().getStaticAreaRef();s=sap.ui.getCore().getUIArea(s);s.removeContent(this,true);}if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}if(this._oOkButton){this._oOkButton.destroy();this._oOkButton=null;}this._oSelectedItem=null;this._aSelectedItems=null;this._aInitiallySelectedItems=null;this._table=null;this._searchField=null;this._dialog=null;};a.prototype.onAfterRendering=function(){if(this._bInitBusy&&this._bFirstRender){this._setBusy(true);this._bInitBusy=false;this._bFirstRender=false;}return this;};a.prototype.invalidate=function(){if(this._oDialog&&(!arguments[0]||arguments[0]&&arguments[0].getId()!==this.getId()+"-dialog")){this._oDialog.invalidate(arguments);}else{C.prototype.invalidate.apply(this,arguments);}return this;};a.prototype.open=function(s){if(!this.getParent()&&!this._bAppendedToUIArea){var o=sap.ui.getCore().getStaticAreaRef();o=sap.ui.getCore().getUIArea(o);o.addContent(this,true);this._bAppendedToUIArea=true;}this._bFirstRequest=true;this._oSearchField.setValue(s);this._oDialog.open();if(this._bInitBusy){this._setBusy(true);}this._aInitiallySelectedItems=this._oTable.getSelectedItems();this._updateSelectionIndicator();return this;};a.prototype.setGrowingThreshold=function(v){this._oTable.setGrowingThreshold(v);this.setProperty("growingThreshold",v,true);return this;};a.prototype.setBusyIndicatorDelay=function(v){this._oTable.setBusyIndicatorDelay(v);this.setProperty("busyIndicatorDelay",v,true);return this;};a.prototype.setMultiSelect=function(m){this.setProperty("multiSelect",m,true);if(m){this._oTable.setMode(sap.m.ListMode.MultiSelect);this._oTable.setIncludeItemInSelection(true);this._oDialog.setRightButton(this._getCancelButton());this._oDialog.setLeftButton(this._getOkButton());}else{this._oTable.setMode(sap.m.ListMode.SingleSelectMaster);this._oDialog.setLeftButton(this._getCancelButton());}return this;};a.prototype.setTitle=function(t){this.setProperty("title",t,true);this._oDialog.setTitle(t);return this;};a.prototype.setNoDataText=function(n){this._oTable.setNoDataText(n);return this;};a.prototype.getNoDataText=function(){return this._oTable.getNoDataText();};a.prototype.getContentWidth=function(){return this._oDialog.getContentWidth();};a.prototype.setContentWidth=function(w){this._oDialog.setContentWidth(w);return this;};a.prototype.getContentHeight=function(){return this._oDialog.getContentHeight();};a.prototype.setContentHeight=function(h){this._oDialog.setContentHeight(h);return this;};a.prototype.addStyleClass=function(){this._oDialog.addStyleClass.apply(this._oDialog,arguments);return this;};a.prototype.removeStyleClass=function(){this._oDialog.removeStyleClass.apply(this._oDialog,arguments);return this;};a.prototype.toggleStyleClass=function(){this._oDialog.toggleStyleClass.apply(this._oDialog,arguments);return this;};a.prototype.hasStyleClass=function(){return this._oDialog.hasStyleClass.apply(this._oDialog,arguments);};a.prototype.getDomRef=function(){if(this._oDialog){return this._oDialog.getDomRef.apply(this._oDialog,arguments);}else{return null;}};a.prototype._setModel=a.prototype.setModel;a.prototype.setModel=function(m,M){var A=Array.prototype.slice.call(arguments);this._setBusy(false);this._bInitBusy=false;this._iTableUpdateRequested+=1;this._oTable.attachUpdateStarted(this._updateStarted,this);this._oTable.attachUpdateFinished(this._updateFinished,this);this._oTable.setModel(m,M);a.prototype._setModel.apply(this,A);this._updateSelectionIndicator();return this;};a.prototype._callMethodInManagedObject=function(f,A){var b=Array.prototype.slice.call(arguments);if(A==="items"){return this._oTable[f].apply(this._oTable,b.slice(1));}else if(A==="columns"){return this._oTable[f].apply(this._oTable,b.slice(1));}else{return sap.ui.base.ManagedObject.prototype[f].apply(this,b.slice(1));}};a.prototype.bindAggregation=function(){var b=Array.prototype.slice.call(arguments);this._callMethodInManagedObject.apply(this,["bindAggregation"].concat(b));return this;};a.prototype.validateAggregation=function(A,o,m){return this._callMethodInManagedObject("validateAggregation",A,o,m);};a.prototype.setAggregation=function(A,o,s){this._callMethodInManagedObject("setAggregation",A,o,s);return this;};a.prototype.getAggregation=function(A,d){return this._callMethodInManagedObject("getAggregation",A,d);};a.prototype.indexOfAggregation=function(A,o){return this._callMethodInManagedObject("indexOfAggregation",A,o);};a.prototype.insertAggregation=function(A,o,i,s){this._callMethodInManagedObject("insertAggregation",A,o,i,s);return this;};a.prototype.addAggregation=function(A,o,s){this._callMethodInManagedObject("addAggregation",A,o,s);return this;};a.prototype.removeAggregation=function(A,o,s){this._callMethodInManagedObject("removeAggregation",A,o,s);return this;};a.prototype.removeAllAggregation=function(A,s){return this._callMethodInManagedObject("removeAllAggregation",A,s);};a.prototype.destroyAggregation=function(A,s){this._callMethodInManagedObject("destroyAggregation",A,s);return this;};a.prototype.getBinding=function(A){return this._callMethodInManagedObject("getBinding",A);};a.prototype.getBindingInfo=function(A){return this._callMethodInManagedObject("getBindingInfo",A);};a.prototype.getBindingPath=function(A){return this._callMethodInManagedObject("getBindingPath",A);};a.prototype.getBindingContext=function(m){return this._oTable&&this._oTable.getBindingContext(m);};a.prototype._setBindingContext=a.prototype.setBindingContext;a.prototype.setBindingContext=function(c,m){var b=Array.prototype.slice.call(arguments);this._oTable.setBindingContext(c,m);a.prototype._setBindingContext.apply(this,b);return this;};a.prototype._executeSearch=function(v,e){var t=this._oTable,b=(t?t.getBinding("items"):undefined),s=(this._sSearchFieldValue!==v);if(this._oDialog.isOpen()&&((s&&e==="liveChange")||e==="search")){this._sSearchFieldValue=v;if(b){this._iTableUpdateRequested+=1;if(e==="search"){this.fireSearch({value:v,itemsBinding:b});}else if(e==="liveChange"){this.fireLiveChange({value:v,itemsBinding:b});}}else{if(e==="search"){this.fireSearch({value:v});}else if(e==="liveChange"){this.fireLiveChange({value:v});}}}return this;};a.prototype._setBusy=function(b){if(this._iTableUpdateRequested){if(b){if(this._bFirstRequest){this._oSubHeader.$().css('display','none');}this._oTable.addStyleClass('sapMSelectDialogListHide');this._oBusyIndicator.$().css('display','inline-block');}else{if(this._bFirstRequest){this._oSubHeader.$().css('display','block');}this._oTable.removeStyleClass('sapMSelectDialogListHide');this._oBusyIndicator.$().css('display','none');}}};a.prototype._updateStarted=function(e){if(this.getModel()&&this.getModel()instanceof sap.ui.model.odata.ODataModel){if(this._oDialog.isOpen()&&this._iTableUpdateRequested){this._setBusy(true);}else{this._bInitBusy=true;}}};a.prototype._updateFinished=function(e){this._updateSelectionIndicator();if(this.getModel()&&this.getModel()instanceof sap.ui.model.odata.ODataModel){this._setBusy(false);this._bInitBusy=false;}if(sap.ui.Device.system.desktop){if(this._oTable.getItems()[0]){this._oDialog.setInitialFocus(this._oTable.getItems()[0]);}else{this._oDialog.setInitialFocus(this._oSearchField);}if(this._bFirstRequest){var f=this._oTable.getItems()[0];if(!f){f=this._oSearchField;}if(f.getFocusDomRef()){f.getFocusDomRef().focus();}}}this._bFirstRequest=false;this._iTableUpdateRequested=0;};a.prototype._getOkButton=function(){var t=this,o=null;o=function(){t._oSelectedItem=t._oTable.getSelectedItem();t._aSelectedItems=t._oTable.getSelectedItems();t._oDialog.detachAfterClose(o);t._fireConfirmAndUpdateSelection();};if(!this._oOkButton){this._oOkButton=new B(this.getId()+"-ok",{text:this._oRb.getText("MSGBOX_OK"),press:function(){t._oDialog.attachAfterClose(o);t._oDialog.close();}});}return this._oOkButton;};a.prototype._getCancelButton=function(){var t=this;if(!this._oCancelButton){this._oCancelButton=new B(this.getId()+"-cancel",{text:this._oRb.getText("MSGBOX_CANCEL"),press:function(){t._onCancel();}});}return this._oCancelButton;};a.prototype._onCancel=function(e){var t=this,A=null;A=function(){t._oSelectedItem=null;t._aSelectedItems=[];t._sSearchFieldValue=null;t._oDialog.detachAfterClose(A);t.fireCancel();};t._resetSelection();this._oDialog.attachAfterClose(A);this._oDialog.close();};a.prototype._updateSelectionIndicator=function(){var s=this._oTable.getSelectedContexts(true).length,i=this._oTable.getInfoToolbar();i.setVisible(!!s);i.getContent()[0].setText(this._oRb.getText("TABLESELECTDIALOG_SELECTEDITEMS",[s]));};a.prototype._fireConfirmAndUpdateSelection=function(){this.fireConfirm({selectedItem:this._oSelectedItem,selectedItems:this._aSelectedItems,selectedContexts:this._oTable.getSelectedContexts(true)});this._updateSelection();};a.prototype._updateSelection=function(){if(!this.getRememberSelections()&&!this.bIsDestroyed){this._oTable.removeSelections(true);delete this._oSelectedItem;delete this._aSelectedItems;}};a.prototype._resetSelection=function(){var i=0;if(!this.bIsDestroyed){this._executeSearch("","search");this._oTable.removeSelections();for(;i<this._aInitiallySelectedItems.length;i++){this._oTable.setSelectedItem(this._aInitiallySelectedItems[i]);}}};return a;},true);
sap.ui.predefine('sap/m/TableSelectDialogRenderer',['jquery.sap.global'],function(q){"use strict";var T={};T.render=function(r,c){};return T;},true);
sap.ui.predefine('sap/m/Text.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},rename:{changeType:"rename",domRef:function(c){return c.$()[0];}},reveal:{changeType:"unhideControl"}},name:{singular:"TEXT_NAME",plural:"TEXT_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/TextArea',['jquery.sap.global','./InputBase','./library'],function(q,I,l){"use strict";var T=I.extend("sap.m.TextArea",{metadata:{library:"sap.m",properties:{rows:{type:"int",group:"Appearance",defaultValue:2},cols:{type:"int",group:"Appearance",defaultValue:20},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},maxLength:{type:"int",group:"Behavior",defaultValue:0},wrapping:{type:"sap.ui.core.Wrapping",group:"Behavior",defaultValue:sap.ui.core.Wrapping.None},valueLiveUpdate:{type:"boolean",group:"Behavior",defaultValue:false},growing:{type:"boolean",group:"Behavior",defaultValue:false},growingMaxLines:{type:"int",group:"Behavior",defaultValue:0}},events:{liveChange:{parameters:{value:{type:"string"}}}}}});T.prototype.exit=function(){I.prototype.exit.call(this);q(window).off("resize.sapMTextAreaGrowing");};T.prototype.onAfterRendering=function(){I.prototype.onAfterRendering.call(this);var t=this.getFocusDomRef(),m,s;if(this.getGrowing()){if(this.getGrowingMaxLines()>0){s=window.getComputedStyle(t);m=parseFloat(s.lineHeight)*this.getGrowingMaxLines()+parseFloat(s.paddingTop)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth);if(sap.ui.Device.browser.firefox){m+=parseFloat(s.paddingBottom);}t.style.maxHeight=m+"px";}this._adjustHeight(t);}if(!sap.ui.Device.support.touch){return;}var $=this.$("inner");if(this._behaviour.INSIDE_SCROLLABLE_WITHOUT_FOCUS){$.on("touchstart",q.proxy(this._onTouchStart,this));$.on("touchmove",q.proxy(this._onTouchMove,this));}else if(this._behaviour.PAGE_NON_SCROLLABLE_AFTER_FOCUS){$.on("touchmove",function(e){if($.is(":focus")){e.stopPropagation();}});}};T.prototype.onsapenter=function(e){e.setMarked();};T.prototype.onValueRevertedByEscape=function(v){if(this.getValueLiveUpdate()){this.setProperty("value",v,true);v=this.getValue();}this.fireLiveChange({value:v,newValue:v});};T.prototype.getValue=function(){var t=this.getFocusDomRef();return t?t.value:this.getProperty("value");};T.prototype.onsapnext=function(e){e.setMarked();};T.prototype.onsapprevious=function(e){e.setMarked();};T.prototype.oninput=function(e){I.prototype.oninput.call(this,e);if(e.isMarked("invalid")){return;}var t=this.getFocusDomRef(),v=t.value,m=this.getMaxLength();if(m>0&&v.length>m){v=v.substring(0,m);t.value=v;}if(this.getValueLiveUpdate()){this.setProperty("value",v,true);v=this.getValue();}if(this.getGrowing()){this._adjustHeight(t);}this.fireLiveChange({value:v,newValue:v});};T.prototype.setGrowing=function(g){this.setProperty("growing",g);if(this.getGrowing()){q(window).on("resize.sapMTextAreaGrowing",this._updateOverflow.bind(this));}else{q(window).off("resize.sapMTextAreaGrowing");}return this;};T.prototype._adjustHeight=function(t){if(this.getValue()){t.style.height=t.scrollHeight+t.offsetHeight-t.clientHeight+"px";this._updateOverflow();}};T.prototype._updateOverflow=function(){var t=this.getFocusDomRef();var m=parseFloat(window.getComputedStyle(t)["max-height"]);t.style.overflowY=(t.scrollHeight>m)?"auto":"";};T.prototype._getInputValue=function(v){v=I.prototype._getInputValue.call(this,v);return v.replace(/\r\n/g,"\n");};T.prototype._behaviour=(function(d){return{INSIDE_SCROLLABLE_WITHOUT_FOCUS:d.os.ios||d.os.blackberry||d.browser.chrome,PAGE_NON_SCROLLABLE_AFTER_FOCUS:d.os.android&&d.os.version>=4.1};}(sap.ui.Device));T.prototype._onTouchStart=function(e){var t=e.touches[0];this._iStartY=t.pageY;this._iStartX=t.pageX;this._bHorizontalScroll=undefined;e.setMarked("swipestartHandled");};T.prototype._onTouchMove=function(e){var t=this.getFocusDomRef(),p=e.touches[0].pageY,s=t.scrollTop,b=s<=0,B=s+t.clientHeight>=t.scrollHeight,g=this._iStartY>p,G=this._iStartY<p,o=b&&G||B&&g;if(this._bHorizontalScroll===undefined){this._bHorizontalScroll=Math.abs(this._iStartY-p)<Math.abs(this._iStartX-e.touches[0].pageX);}if(this._bHorizontalScroll||!o){e.setMarked();}};var _=sap.ui.Device.os.windows_phone&&(/MSAppHost/i).test(navigator.appVersion);T.prototype.onfocusin=function(e){var s,$=this.$();I.prototype.onfocusin.apply(this,arguments);function a(){q(window).scrollTop(0);s.scrollTop($.offset().top-s.offset().top+s.scrollTop());}if(_&&$.height()+$.offset().top>260){for(s=$.parent();s[0];s=s.parent()){if(s.css("overflow-y")=="auto"){s.children().last().css("padding-bottom",q(window).height()+"px");window.setTimeout(a,100);return;}}}};return T;},true);
sap.ui.predefine('sap/m/TextAreaRenderer',['jquery.sap.global','sap/ui/core/Renderer','./InputBaseRenderer'],function(q,R,I){"use strict";var T={};var T=R.extend(I);T.addOuterClasses=function(r,c){r.addClass("sapMTextArea");};T.addOuterStyles=function(r,c){c.getHeight()&&r.addStyle("height",c.getHeight());};T.openInputTag=function(r,c){r.write("<textarea");};T.closeInputTag=function(r,c){r.write("</textarea>");};T.writeInnerValue=function(){};T.writeInnerContent=function(r,c){var v=c.getValue();v=q.sap.encodeHTML(v);if(sap.ui.Device.browser.msie&&sap.ui.Device.browser.version<11){v=v.replace(/&#xd;&#xa;|&#xd;|&#xa;/g,"&#13;");}else{v=v.replace(/&#xd;&#xa;|&#xd;|&#xa;/g,"&#13;&#10;");}r.write(v);};T.addInnerClasses=function(r,c){r.addClass("sapMTextAreaInner");if(c.getGrowing()){r.addClass("sapMTextAreaGrow");}};T.getAriaRole=function(c){return"";};T.writeInnerAttributes=function(r,c){if(c.getWrapping()!=sap.ui.core.Wrapping.None){r.writeAttribute("wrap",c.getWrapping());}r.writeAttribute("rows",c.getRows());r.writeAttribute("cols",c.getCols());if(c.getWidth()){r.addStyle("width",c.getWidth());}};return T;},true);
sap.ui.predefine('sap/m/Tile',['jquery.sap.global','./library','sap/ui/core/InvisibleText','sap/ui/core/Control'],function(q,l,I,C){"use strict";var T=C.extend("sap.m.Tile",{metadata:{library:"sap.m",properties:{removable:{type:"boolean",group:"Misc",defaultValue:true}},events:{press:{}}}});var a;T.prototype.init=function(){if(sap.ui.Device.system.desktop){var o=q.proxy(function(e){if(e.srcControl===this&&!e.isMarked()){this.ontap();e.stopPropagation();}},this);this.onsapspace=o;this.onsapenter=o;}};T.prototype.onAfterRendering=function(){if(this._rendered&&!this._bIsDragged&&this.getParent()instanceof sap.m.TileContainer){this.setPos(this._posX,this._posY);}this._rendered=true;};T.prototype.setPos=function(x,y){this._posX=x=Math.floor(x);this._posY=y=Math.floor(y);if(!this._rendered){return;}var o=this.getDomRef();if("webkitTransform"in o.style){this.$().css('-webkit-transform','translate3d('+x+'px,'+y+'px,0)');}else if("transform"in o.style){this.$().css('transform','translate3d('+x+'px,'+y+'px,0)');}else if("msTransform"in o.style){this.$().css('msTransform','translate('+x+'px,'+y+'px)');}else if("MozTransform"in o.style){this.$().css('-moz-transform','translate3d('+x+'px,'+y+'px,0)');}if(this._invisible){this.$().css("visibility","");delete this._invisible;}};T.prototype.setSize=function(w,h){this._width=w;this._height=h;};T.prototype.isEditable=function(i){var o=this._bIsEditable;if(i===true||i===false){this._bIsEditable=i;}if(o!=i&&this.$()){this.$().attr("aria-describedBy",i?this._getAriaDescribedByDeleteLabel().getId():null);}return this._bIsEditable;};T.prototype.isDragged=function(i){if(!this._bIsEditable){return;}if(i===true||i===false){var o=this.$();o.toggleClass("sapMTileDrag",i);this._bIsDragged=i;}return this._bIsDragged;};T.prototype.ontouchstart=function(e){if(!this.isEditable()&&!this._parentPreventsTapEvent){this.$().toggleClass("sapMTileActive sapMTileActive-CTX",true);this._clientX=e.clientX;this._clientY=e.clientY;}};T.prototype.ontouchend=function(){if(!this.isEditable()){this.$().toggleClass("sapMTileActive sapMTileActive-CTX",false);}};Object.defineProperty(T.prototype,"_parentPreventsTapEvent",{get:function(){var p=this.getParent();while(p){if(p._bAvoidChildTapEvent||(p instanceof T&&p.isEditable())){return true;}p=p.getParent();}return false;}});T.prototype.ontouchmove=function(e){if(!this.isEditable()&&!this._parentPreventsTapEvent){if(Math.abs(e.clientX-this._clientX)>30||Math.abs(e.clientY-this._clientY)>10){this.$().toggleClass("sapMTileActive sapMTileActive-CTX",false);}}};T.prototype.ontap=function(){if(!this.isEditable()&&!this._parentPreventsTapEvent){this.firePress({});}};T.prototype.setVisible=function(v){this.setProperty("visible",v);if(this.getParent()&&this.getParent()instanceof sap.m.TileContainer){this.getParent().invalidate();}return this;};T.prototype._setVisible=function(v){this._invisible=!v;return this;};T.prototype._getTileIndex=function(){var t=this.getParent(),i=null;if(t&&t instanceof sap.m.TileContainer){i=t.indexOfAggregation("tiles",this)+1;}return i;};T.prototype._getTilesCount=function(){var t=this.getParent(),i=null;if(t&&t instanceof sap.m.TileContainer){i=t.getTiles().length;}return i;};T.prototype._updateAriaPosition=function(){this.$().attr('aria-posinset',this._getTileIndex());return this;};T.prototype._getAriaDescribedByDeleteLabel=function(){if(!a){a=new I({text:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("TILE_REMOVE_BY_DEL_KEY")}).toStatic();}return a;};return T;},true);
sap.ui.predefine('sap/m/TileContainer',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool'],function(q,l,C,I){"use strict";var T=C.extend("sap.m.TileContainer",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},editable:{type:"boolean",group:"Misc",defaultValue:null},allowAdd:{type:"boolean",group:"Misc",defaultValue:null}},defaultAggregation:"tiles",aggregations:{tiles:{type:"sap.m.Tile",multiple:true,singularName:"tile"}},events:{tileMove:{parameters:{tile:{type:"sap.m.Tile"},newIndex:{type:"int"}}},tileDelete:{parameters:{tile:{type:"sap.m.Tile"}}},tileAdd:{}}}});I.insertFontFaceStyle();T.prototype._bRtl=sap.ui.getCore().getConfiguration().getRTL();T.prototype.init=function(){this._iCurrentTileStartIndex=0;this._iCurrentPage=0;this._iPages=0;this._iScrollLeft=0;this._iScrollGap=0;if(!sap.ui.Device.system.desktop){this._iScrollGap=0;}this.bAllowTextSelection=false;this._oDragSession=null;this._oTouchSession=null;this._bAvoidChildTapEvent=false;this._iEdgeShowStart=sap.ui.Device.system.phone?10:20;if(sap.ui.Device.system.phone){this._iTriggerScrollOffset=10;}else if(sap.ui.Device.system.desktop){this._iTriggerScrollOffset=-40;}else{this._iTriggerScrollOffset=20;}this._iCurrentFocusIndex=-1;if(sap.ui.Device.system.desktop||sap.ui.Device.system.combi){var o=q.proxy(function(E){if(this._iCurrentFocusIndex>=0){var r=this._iCurrentFocusIndex-this._iCurrentFocusIndex%this._iMaxTilesX;var F=this._iCurrentTileStartIndex===this._iCurrentFocusIndex?0:this._iCurrentTileStartIndex;var t=E.ctrlKey?F:r;var k=this._getVisibleTiles()[t];if(!!k){this._findTile(k.$()).focus();E.stopPropagation();}this._handleAriaActiveDescendant();}},this),O=q.proxy(function(E){if(this._iCurrentFocusIndex>=0){var t=this._getVisibleTiles();var r=this._iCurrentFocusIndex-this._iCurrentFocusIndex%this._iMaxTilesX;var R=r+this._iMaxTilesX<t.length?r+this._iMaxTilesX-1:t.length-1;var L=this._iCurrentTileStartIndex+this._iMaxTiles<t.length?this._iCurrentTileStartIndex+this._iMaxTiles-1:t.length-1;var k=L===this._iCurrentFocusIndex?t.length-1:L;var m=E.ctrlKey?k:R;if(t.length>0){this._findTile(t[m].$()).focus();E.stopPropagation();}this._handleAriaActiveDescendant();}},this),f=q.proxy(function(E){var t=this._getVisibleTiles();if(t.length>0){var n=this._iCurrentFocusIndex-this._iMaxTiles>=0?this._iCurrentFocusIndex-this._iMaxTiles:0;var N=t[n];if(!!N){this._findTile(N.$()).focus();E.stopPropagation();}this._handleAriaActiveDescendant();}},this),c=q.proxy(function(E){var t=this._getVisibleTiles();var k=t.length;if(k>0){var n=this._iCurrentFocusIndex+this._iMaxTiles<k?this._iCurrentFocusIndex+this._iMaxTiles:k-1;var N=t[n];if(!!N){this._findTile(N.$()).focus();E.stopPropagation();}this._handleAriaActiveDescendant();}},this),d=q.proxy(function(E){if(this._iCurrentFocusIndex>=0){var t=this._getVisibleTiles();var n=this._iCurrentFocusIndex+1<t.length?this._iCurrentFocusIndex+1:this._iCurrentFocusIndex;if(!E.ctrlKey){var N=t[n];if(!!N){if(n<this._iCurrentTileStartIndex+this._iMaxTiles){this._findTile(N.$()).focus();}else{this.scrollIntoView(N,true);var k=this;setTimeout(function(){k._findTile(N.$()).focus();},400);}}}else if(this.getEditable()){var m=t[this._iCurrentFocusIndex];this.moveTile(m,n);m.$().focus();}this._handleAriaActiveDescendant();E.stopPropagation();}},this),e=q.proxy(function(E){if(this._iCurrentFocusIndex>=0){var t=this._getVisibleTiles();var n=this._iCurrentFocusIndex-1>=0?this._iCurrentFocusIndex-1:this._iCurrentFocusIndex;if(!E.ctrlKey){var N=t[n];if(!!N){if(n>=this._iCurrentTileStartIndex){this._findTile(N.$()).focus();}else{this.scrollIntoView(N,true);var k=this;setTimeout(function(){k._findTile(N.$()).focus();},400);}}}else if(this.getEditable()){var m=t[this._iCurrentFocusIndex];this.moveTile(m,n);m.$().focus();}this._handleAriaActiveDescendant();E.stopPropagation();}},this),g=q.proxy(function(E){var t=this._getVisibleTiles();if(this._iCurrentFocusIndex>=0){var m=this._iCurrentFocusIndex%this._iMaxTiles,n=this._iCurrentFocusIndex+this._iMaxTilesX,M=n%this._iMaxTiles;if(!E.ctrlKey){var N=t[n];if((M>m)&&!!N){this._findTile(N.$()).focus();}}else if(this.getEditable()){var k=t[this._iCurrentFocusIndex];this.moveTile(k,n);k.$().focus();}this._handleAriaActiveDescendant();E.stopPropagation();}},this),i=q.proxy(function(E){var t=this._getVisibleTiles();if(this._iCurrentFocusIndex>=0){var m=this._iCurrentFocusIndex%this._iMaxTiles,n=this._iCurrentFocusIndex-this._iMaxTilesX,M=n%this._iMaxTiles;if(!E.ctrlKey){var N=t[n];if((M<m)&&!!N){this._findTile(N.$()).focus();}}else if(this.getEditable()){var k=t[this._iCurrentFocusIndex];this.moveTile(k,n);k.$().focus();}this._handleAriaActiveDescendant();E.stopPropagation();}},this),j=q.proxy(function(E){var t=this._getVisibleTiles();if(this._iCurrentFocusIndex>=0&&this.getEditable()){var k=t[this._iCurrentFocusIndex];if(k.getRemovable()){this.deleteTile(k);if(this._iCurrentFocusIndex===t.length){if(t.length!==0){t[this._iCurrentFocusIndex-1].$().focus();}else{this._findNextTabbable().focus();}}else{t[this._iCurrentFocusIndex].$().focus();}this._handleAriaActiveDescendant();}E.stopPropagation();}},this);this.onsaphome=o;this.onsaphomemodifiers=o;this.onsapend=O;this.onsapendmodifiers=O;this.onsapright=this._bRtl?e:d;this.onsaprightmodifiers=this._bRtl?e:d;this.onsapleft=this._bRtl?d:e;this.onsapleftmodifiers=this._bRtl?d:e;this.onsapup=i;this.onsapupmodifiers=i;this.onsapdown=g;this.onsapdownmodifiers=g;this.onsappageup=f;this.onsappagedown=c;this.onsapdelete=j;this.data("sap-ui-fastnavgroup","true",true);}if(sap.ui.Device.system.tablet||sap.ui.Device.system.phone){this._fnOrientationChange=function(E){if(this.getDomRef()){this._oTileDimensionCalculator.calc();}}.bind(this);}this._oTileDimensionCalculator=new a(this);};T.prototype._findNextTabbable=function(){var r=this.$();var t=q.merge(q.merge(r.nextAll(),r.parents().nextAll()).find(':sapTabbable').addBack(':sapTabbable'),q.merge(r.parents().prevAll(),r.prevAll()).find(':sapTabbable').addBack(':sapTabbable'));return t.first();};T.prototype.onBeforeRendering=function(){if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}};T.prototype.onAfterRendering=function(){this._sResizeListenerId=sap.ui.core.ResizeHandler.register(this.getDomRef().parentElement,q.proxy(this._resize,this));this._applyDimension();this.$().toggleClass("sapMTCEditable",this.getEditable()===true);this._update(true);if(sap.ui.Device.system.desktop||sap.ui.Device.system.combi){var t=this._getVisibleTiles();if(t.length>0&&this._mFocusables&&this._mFocusables[t[0].getId()]){this._mFocusables[t[0].getId()].eq(0).attr('tabindex','0');}}if(sap.ui.Device.system.tablet||sap.ui.Device.system.phone){sap.ui.Device.orientation.attachHandler(this._fnOrientationChange,this);}};T.prototype.setEditable=function(v){var t=this._getVisibleTiles();this.setProperty("editable",v,true);var e=this.getEditable();this.$().toggleClass("sapMTCEditable",e);for(var i=0;i<t.length;i++){var o=t[i];if(o instanceof sap.m.Tile){o.isEditable(e);}}return this;};T.prototype.updateTiles=function(r){this.destroyTiles();this.updateAggregation('tiles');};T.prototype._applyDimension=function(){var d=this._getContainerDimension(),$=this.$(),t,o=10,c=this.$("scrl"),s,e,p=this.$("pager").outerHeight();c.css({width:d.outerwidth+"px",height:(d.outerheight-p)+"px"});t=$.position();s=c.position();e=c.outerHeight();if(sap.ui.Device.system.phone){o=2;}else if(sap.ui.Device.system.desktop){o=0;}this.$("blind").css({top:(s.top+o)+"px",left:(s.left+o)+"px",right:"auto",width:(c.outerWidth()-o)+"px",height:(e-o)+"px"});this.$("rightedge").css({top:(t.top+o)+"px",right:o+"px",left:"auto",height:(e-o)+"px"});this.$("leftedge").css({top:(t.top+o)+"px",left:(t.left+o)+"px",right:"auto",height:(e-o)+"px"});};T.prototype._resize=function(){if(this._oDragSession){return;}setTimeout(q.proxy(function(){this._update(true);},this),0);};T.prototype.exit=function(){if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(sap.ui.Device.system.tablet||sap.ui.Device.system.phone){sap.ui.Device.orientation.detachHandler(this._fnOrientationChange,this);}};T.prototype._update=function(A){if(!this.getDomRef()){return;}if(!this.$().is(":visible")){return;}this._oTileDimensionCalculator.calc();this._updateTilePositions();if(!this._oDragSession){this.scrollIntoView(this._iCurrentTileStartIndex||0,A);}};T.prototype.getPageFirstTileIndex=function(){return this._iCurrentTileStartIndex||0;};T.prototype.moveTile=function(t,n){if(!isNaN(t)){t=this._getVisibleTiles()[t];}if(!t){q.sap.log.info("No Tile to move");return this;}this.deleteTile(t);this.insertTile(t,n);return this;};T.prototype.addTile=function(t){this.insertTile(t,this.getTiles().length);};T.prototype.insertTile=function(t,i){var c=this;if(sap.ui.Device.system.desktop||sap.ui.Device.system.combi){t.addEventDelegate({"onAfterRendering":function(){if(!c._mFocusables){c._mFocusables={};}c._mFocusables[this.getId()]=this.$().find("[tabindex!='-1']").addBack().filter(c._isFocusable);c._mFocusables[this.getId()].attr('tabindex','-1');}},t);var o=function(e){var i=c.indexOfAggregation("tiles",this),E=Math.floor(i/c._iMaxTiles),p=E-c._iCurrentPage;var P=c._iCurrentFocusIndex>=0?c._iCurrentFocusIndex:0;var f=c._getVisibleTiles()[P];if(f){c._mFocusables[f.getId()].attr("tabindex","-1");c._mFocusables[this.getId()].attr("tabindex","0");}if(p!=0){c.scrollIntoView(i);c._resize();}c._handleAriaActiveDescendant();c._iCurrentFocusIndex=i;};t.addEventDelegate({"onfocusin":o},t);}if(this.getDomRef()){this.insertAggregation("tiles",t,i,true);if(!this._oDragSession){var r=sap.ui.getCore().createRenderManager(),d=this.$("cnt")[0];r.renderControl(t);r.flush(d,false,i);r.destroy();}this._update(false);if(sap.ui.Device.system.desktop||sap.ui.Device.system.combi){this._updateTilesTabIndex();}}else{this.insertAggregation("tiles",t,i);}b.call(this,i,this._getVisibleTiles().length);h.call(this);return this;};T.prototype._updateTilesTabIndex=function(){var t=this._getVisibleTiles();if(t.length&&t.length>0){for(var i=0;i<t.length;i++){if(t[i].$().attr("tabindex")==="0"){return;}}}t[0].$().attr("tabindex","0");};T.prototype._isFocusable=function(i,e){var c=!isNaN(q(e).attr("tabindex"));var n=e.nodeName.toLowerCase();if(n==="area"){var m=e.parentNode,d=m.name,f;if(!e.href||!d||m.nodeName.toLowerCase()!=="map"){return false;}f=q("img[usemap='#"+d+"']")[0];return!!f;}return(/input|select|textarea|button|object/.test(n)?!e.disabled:n=="a"?e.href||c:c);};T.prototype.deleteTile=function(t){var i=this.indexOfAggregation("tiles",t);if(this.getDomRef()){this.removeAggregation("tiles",t,true);if(!this._oDragSession){t.getDomRef().parentNode.removeChild(t.getDomRef());if(sap.ui.Device.system.desktop||sap.ui.Device.system.combi){if(this._mFocusables&&this._mFocusables[t.getId()]){delete this._mFocusables[t.getId()];}}}this._update(false);}else{this.removeAggregation("tiles",t,false);}b.call(this,i,this._getVisibleTiles().length);h.call(this);return this;};T.prototype.removeTile=T.prototype.deleteTile;T.prototype.removeAllTiles=function(){var t=this.getTiles().length-1;for(var i=t;i>=0;i--){var o=this.getTiles()[i];this.deleteTile(o);}return this;};T.prototype.destroyTiles=function(){if(this.getDomRef()){var t=this.getTiles();this.removeAllAggregation("tiles",true);this._update();for(var i=0;i<t.length;i++){var c=t[i];c.destroy();}}else{this.destroyAggregation("tiles",false);}return this;};T.prototype.rerender=function(){if(!this._oDragSession||this._oDragSession.bDropped){C.prototype.rerender.apply(this);}};T.prototype.scrollLeft=function(){if(this._bRtl){this.scrollIntoView(this._iCurrentTileStartIndex+this._iMaxTiles);}else{this.scrollIntoView(this._iCurrentTileStartIndex-this._iMaxTiles);}};T.prototype.scrollRight=function(){if(this._bRtl){this.scrollIntoView(this._iCurrentTileStartIndex-this._iMaxTiles);}else{this.scrollIntoView(this._iCurrentTileStartIndex+this._iMaxTiles);}};T.prototype.scrollIntoView=function(t,A){var c=this._getContentDimension().outerwidth,i=t;if(isNaN(t)){i=this.indexOfAggregation("tiles",t);}if(!this.getTiles()[i]||!this.getTiles()[i].getVisible()){return;}this._applyPageStartIndex(i);this._iCurrentPage=Math.floor(this._iCurrentTileStartIndex/this._iMaxTiles);if(this._bRtl){this._scrollTo((this._iPages-this._iCurrentPage)*c,A);}else{this._scrollTo(this._iCurrentPage*c,A);}this._updatePager();};T.prototype._updateTilePositions=function(){var c=this._getContainerDimension();if(c.height===0){return;}if(this._getVisibleTiles().length===0){this._iPages=0;this._updatePager();return;}this._applyPageStartIndex(this._iCurrentTileStartIndex);this._applyDimension();var t=this._getVisibleTiles(),c=this._getContentDimension();this._iPages=Math.ceil(t.length/this._iMaxTiles);var o=this._oTileDimensionCalculator.getLastCalculatedDimension();for(var i=0;i<t.length;i++){if(t[i].isDragged()){continue;}var p=Math.floor(i/this._iMaxTiles),d=t[i],L=(p*c.outerwidth)+this._iOffsetX+i%this._iMaxTilesX*o.width,e=this._iOffsetY+Math.floor(i/this._iMaxTilesX)*o.height-(p*this._iMaxTilesY*o.height);if(this._bRtl){L=(this._iPages-p)*c.outerwidth-this._iOffsetX-(i%this._iMaxTilesX+1)*o.width;}d.setPos(L,e);d.setSize(o.width,o.height);}};T.prototype._findTile=function($){if($.hasClass('sapMTile')||$.hasClass('sapMCustomTile')){return $;}else{return $.find('.sapMTile')||$.find('.sapMCustomTile');}};T.prototype._updatePager=function(){var p=this.$("pager")[0],s=this.$("leftscroller")[0],S=this.$("rightscroller")[0];if(this._iPages>1){var H=[""];for(var i=0;i<this._iPages;i++){H.push("");}p.innerHTML=H.join("<span></span>");p.style.display="block";p.childNodes[this._iCurrentPage].className="sapMTCActive";if(sap.ui.Device.system.desktop){var c={r:this._iCurrentPage==this._iPages-1,l:this._iCurrentPage==0};if(this._bRtl){var t=c.r;c.r=c.l;c.l=t;S.style.left="auto";s.style.right="auto";}S.style.right=c.r?"-100px":"1rem";s.style.left=c.l?"-100px":"1rem";s.style.display="block";S.style.display="block";if(c.r){S.style.display="none";}if(c.l){s.style.display="none";}}}else{p.innerHTML="";S.style.right="-100px";s.style.left="-100px";s.style.display="none";S.style.display="none";}};T.prototype._getContentDimension=function(){if(!this.getDomRef()){return;}var s=this.$("scrl");return{width:s.width(),height:s.height()-20,outerheight:s.outerHeight()-20,outerwidth:s.outerWidth()};};T.prototype._getContainerDimension=function(){var d=this.$();if(!d){return;}return{width:d.width(),height:d.height(),outerheight:d.outerHeight(),outerwidth:d.outerWidth()};};T.prototype._calculatePositions=function(){if(this._getVisibleTiles().length===0){return;}var c=this._getContainerDimension(),t=this._getVisibleTiles().length,p=this.$("pager")[0].offsetHeight;if(c.height===0){return;}if(sap.ui.Device.system.desktop){c.width-=45*2;}var o=this._oTileDimensionCalculator.getLastCalculatedDimension(),m=Math.max(Math.floor(c.width/o.width),1),M=Math.max(Math.floor((c.height-p)/o.height),1),n=(t<m)?t:m,N=(t/n<M)?Math.ceil(t/n):M;this._iMaxTiles=m*M;this._iMaxTilesX=m;this._iMaxTilesY=M;this._iOffsetX=Math.floor((c.width-(o.width*n))/2);if(sap.ui.Device.system.desktop){this._iOffsetX+=45;}this._iOffsetY=Math.floor((c.height-p-(o.height*N))/2);};T.prototype._getTilesFromPosition=function(x,y){if(!this._getVisibleTiles().length){return[];}x=x+this._iScrollLeft;var t=this._getVisibleTiles(),r=[];for(var i=0;i<t.length;i++){var o=t[i],R={top:o._posY,left:o._posX,width:o._width,height:o._height};if(!t[i].isDragged()&&y>R.top&&y<R.top+R.height&&x>R.left&&x<R.left+R.width){r.push(t[i]);}}return r;};T.prototype._applyPageStartIndex=function(i){var c=this._getContainerDimension();if(c.height===0){return;}this._calculatePositions();var L=this._getVisibleTiles().length;if(i<0){i=0;}else if(i>L-1){i=L-1;}var d=Math.floor(i/this._iMaxTiles||0);this._iCurrentTileStartIndex=d*(this._iMaxTiles||0);q.sap.log.info("current index "+this._iCurrentTileStartIndex);};T.prototype._scrollTo=function(s,A){if(A!==false){A=true;}this._applyTranslate(this.$("cnt"),-s,0,A);if(this._bRtl){this._iScrollLeft=s-this._getContentDimension().outerwidth;}else{this._iScrollLeft=s;}};T.prototype._applyTranslate=function(c,x,y,A){var o=c[0];this.$("cnt").toggleClass("sapMTCAnim",A);if("webkitTransform"in o.style){c.css('-webkit-transform','translate3d('+x+'px,'+y+'px,0)');}else if("MozTransform"in o.style){c.css('-moz-transform','translate('+x+'px,'+y+'px)');}else if("transform"in o.style){c.css('transform','translate3d('+x+'px,'+y+'px,0)');}else if("msTransform"in o.style){c.css('-ms-transform','translate('+x+'px,'+y+'px)');}};T.prototype._initTouchSession=function(e){if(e.type=="touchstart"){var t=e.targetTouches[0];this._oTouchSession={dStartTime:new Date(),fStartX:t.pageX,fStartY:t.pageY,fDiffX:0,fDiffY:0,oControl:e.srcControl,iOffsetX:t.pageX-e.target.offsetLeft};}else{this._oTouchSession={dStartTime:new Date(),fStartX:e.pageX,fStartY:e.pageY,fDiffX:0,fDiffY:0,oControl:e.srcControl,iOffsetX:e.pageX-e.target.offsetLeft};}};T.prototype._initDragSession=function(e){while(e.srcControl&&e.srcControl.getParent()!=this){e.srcControl=e.srcControl.getParent();}var i=this.indexOfAggregation("tiles",e.srcControl);if(e.type=="touchstart"){this._oDragSession={oTile:e.srcControl,oTileElement:e.srcControl.$()[0],iOffsetLeft:e.targetTouches[0].pageX-e.srcControl._posX+this._iScrollLeft,iOffsetTop:e.targetTouches[0].pageY-e.srcControl._posY,iIndex:i,iOldIndex:i,iDiffX:e.targetTouches[0].pageX,iDiffY:e.targetTouches[0].pageY};}else{this._oDragSession={oTile:e.srcControl,oTileElement:e.srcControl.$()[0],iOffsetLeft:e.pageX-e.srcControl._posX+this._iScrollLeft,iOffsetTop:e.pageY-e.srcControl._posY,iIndex:i,iOldIndex:i,iDiffX:e.pageX,iDiffY:e.pageY};}};T.prototype.onclick=function(e){var p=this.$("pager")[0];if(e.target.id==this.getId()+"-leftscroller"||e.target.parentNode.id==this.getId()+"-leftscroller"){this.scrollLeft();}else if(e.target.id==this.getId()+"-rightscroller"||e.target.parentNode.id==this.getId()+"-rightscroller"){this.scrollRight();}else if(e.target==p&&sap.ui.Device.system.desktop){if(e.offsetX<p.offsetWidth/2){this.scrollLeft();}else{this.scrollRight();}}};T.prototype.ontouchstart=function(e){e.setMarked();if(e.targetTouches.length>1||this._oTouchSession){return;}while(e.srcControl&&e.srcControl.getParent()!=this){e.srcControl=e.srcControl.getParent();}if(e.srcControl instanceof sap.m.Tile&&this.getEditable()){if(e.target.className!="sapMTCRemove"){this._initDragSession(e);this._initTouchSession(e);this._oDragSession.oTile.isDragged(true);}else{this._initTouchSession(e);}this._bAvoidChildTapEvent=true;}else{this._initTouchSession(e);}q(document).on("touchmove mousemove",q.proxy(this._onmove,this));q(document).on("touchend touchcancel mouseup",q.proxy(this._onend,this));};T.prototype._onmove=function(e){if(document.selection&&document.selection.clear){document.selection.clear();}if(e.isMarked("delayedMouseEvent")){return;}if(e.targetTouches&&e.targetTouches.length>1){return;}if(!e.targetTouches){e.targetTouches=[{pageX:e.pageX,pageY:e.pageY}];}var t=this._oTouchSession;t.fDiffX=t.fStartX-e.targetTouches[0].pageX;t.fDiffY=t.fStartY-e.targetTouches[0].pageY;if(this._oDragSession){if(Math.abs(t.fDiffX)>5){if(!this._oDragSession.bStarted){this._oDragSession.bStarted=true;this._onDragStart(e);}else{this._onDrag(e);}this._bAvoidChildTapEvent=true;}}else if(t){var c=this._getContentDimension().outerwidth;var n=-this._iScrollLeft-t.fDiffX;if(n>this._iScrollGap){return;}else if(n<-(((this._iPages-1)*c)+this._iScrollGap)){return;}if(this._bRtl){n=n-c;}this._applyTranslate(this.$("cnt"),n,0,false);}};T.prototype._onend=function(e){if(e.isMarked("delayedMouseEvent")){return;}q(document).off("touchend touchcancel mouseup",this._onend);q(document).off("touchmove mousemove",this._onmove);if(this._oDragSession){this._onDrop(e);delete this._oTouchSession;return;}if(!this._oTouchSession){return;}var t=this._oTouchSession,d=new Date(),f=(d-t.dStartTime<600),r=this._bRtl?-1:1;if(f){var p=this.$("pager")[0];if(Math.abs(t.fDiffX)>30){this._applyPageStartIndex(this._iCurrentTileStartIndex+((t.fDiffX*r>0?1:-1)*this._iMaxTiles));this._bAvoidChildTapEvent=true;}else if(e.target==p&&!sap.ui.Device.system.desktop){if((t.iOffsetX-p.offsetWidth/2)*r<0){this.scrollLeft();}else{this.scrollRight();}this._bAvoidChildTapEvent=true;}else if(e.target.className=="sapMTCRemove"){if(e.type==="touchend"||(e.type==="mouseup"&&e.button===0)){this.fireTileDelete({tile:t.oControl});}}}else{var c=this._getContentDimension();if(Math.abs(t.fDiffX)>c.outerwidth/2){this._applyPageStartIndex(this._iCurrentTileStartIndex+((t.fDiffX*r>0?1:-1)*this._iMaxTiles));this._bAvoidChildTapEvent=true;}}this._update();delete this._oDragSession;delete this._oTouchSession;var g=this;setTimeout(function(){g._bAvoidChildTapEvent=false;},100);};T.prototype._onDragStart=function(e){this.$().append(this._oDragSession.oTileElement);this._oDragSession.iDiffX=this._oTouchSession.fStartX-this._oTouchSession.fDiffX;this._oDragSession.iDiffY=this._oTouchSession.fStartY-this._oTouchSession.fDiffY;this._oDragSession.oTile.setPos(this._oDragSession.iDiffX-this._oDragSession.iOffsetLeft,this._oDragSession.iDiffY-this._oDragSession.iOffsetTop);this.$("blind").css("display","block");};T.prototype._onDrag=function(e){if(!this._oTouchSession){clearTimeout(this.iScrollTimer);this._oDragSession=null;this.iScrollTimer=null;this._bTriggerScroll=false;return;}this._oDragSession.iDiffX=this._oTouchSession.fStartX-this._oTouchSession.fDiffX;this._oDragSession.iDiffY=this._oTouchSession.fStartY-this._oTouchSession.fDiffY;var c=this._getContentDimension(),t=this._oDragSession.iDiffY-this._oDragSession.iOffsetTop,L=this._oDragSession.iDiffX-this._oDragSession.iOffsetLeft,m=t+(this._oDragSession.oTileElement.offsetHeight/2),i=L+(this._oDragSession.oTileElement.offsetWidth/2),s=L+this._oDragSession.oTileElement.offsetWidth-this._iTriggerScrollOffset>c.width,S=L<-this._iTriggerScrollOffset,n=c.width-(L+this._oDragSession.oTileElement.offsetWidth),N=L;this._oDragSession.oTile.setPos(L,t);this._oDragSession.oTile.$().css("clip","auto");var r=this.$("rightedge")[0];if(L+this._oDragSession.oTile._width>r.offsetLeft+r.offsetWidth&&this._iCurrentPage<this._iPages-1){var d=r.offsetLeft+r.offsetWidth-L-((this._oDragSession.oTile._width-this._oDragSession.oTile.$().outerWidth(false))/2)-2;this._oDragSession.oTile.$().css("clip","rect(-25px,"+d+"px,"+(this._oDragSession.oTile._height+20)+"px,-25px)");}var o=this.$("leftedge")[0];if(L<o.offsetLeft+2+((this._oDragSession.oTile._width-this._oDragSession.oTile.$().outerWidth(false))/2)&&this._iCurrentPage>0){var f=o.offsetLeft+4-L-((this._oDragSession.oTile._width-this._oDragSession.oTile.$().outerWidth(false))/2);this._oDragSession.oTile.$().css("clip","rect(-25px,"+this._oDragSession.oTile._width+"px,"+(this._oDragSession.oTile._height+20)+"px,"+f+"px)");}if(n<this._iEdgeShowStart&&this._iCurrentPage<this._iPages-1){var O=(this._iEdgeShowStart-n)/(this._iEdgeShowStart+this._iTriggerScrollOffset);this.$("rightedge").css("opacity",""+O);}else{this.$("rightedge").css("opacity","0.01");}if(N<this._iEdgeShowStart&&this._iCurrentPage>0){var O=(this._iEdgeShowStart-N)/(this._iEdgeShowStart+this._iTriggerScrollOffset);this.$("leftedge").css("opacity",""+O);}else{this.$("leftedge").css("opacity","0.01");}var g;if(this._bRtl){g=s&&this._iCurrentPage>0||S&&this._iCurrentPage<this._iPages-1;}else{g=S&&this._iCurrentPage>0||s&&this._iCurrentPage<this._iPages-1;}if(g){if(this._bTriggerScroll){S?this.scrollLeft():this.scrollRight();}else{var j=this;if(!this.iScrollTimer){this.iScrollTimer=setInterval(function(){j._bTriggerScroll=true;j._onDrag(e);j._bTriggerScroll=false;},1000);}}return;}else{if(this.iScrollTimer){clearTimeout(this.iScrollTimer);this._bTriggerScroll=false;this.iScrollTimer=null;}}var H=this._getTilesFromPosition(i,m);if(H&&H.length>0){var k=H[0],R={top:k._posY,left:k._posX,width:k._width,height:k._height};var p=this.indexOfAggregation("tiles",k);if(i+this._iScrollLeft<((R.left+R.width)/2)&&(p%this._iMaxTilesX)!=0){p--;}this._oDragSession.iIndex=p;this.moveTile(this._oDragSession.oTile,this._oDragSession.iIndex);}else if(this._iCurrentPage==this._iPages-1){var u=this._getVisibleTiles(),v=u[u.length-1];if(v&&i>v._posX-this._iScrollLeft&&m>v._posY){this._oDragSession.iIndex=u.length-1;this.moveTile(this._oDragSession.oTile,this._oDragSession.iIndex);}}};T.prototype._onDrop=function(e){if(this._oDragSession){var t=this._oDragSession.oTile,i=this._oDragSession.iIndex;this._oDragSession.oTile.isDragged(false);if(this._oDragSession.iOldIndex!=this._oDragSession.iIndex){this.fireTileMove({tile:t,newIndex:i});}this.$("blind").css("display","block");if(this._oDragSession.bStarted){this._oDragSession.oTile.setPos(this._oDragSession.oTile._posX+this._iScrollLeft,this._oDragSession.oTile._posY);}this._oDragSession.oTile.$().css("clip","auto");this.$("rightedge").css("opacity","0.01");this.$("leftedge").css("opacity","0.01");this.$("cnt").append(this._oDragSession.oTileElement);delete this._oDragSession;this.moveTile(t,i);this.scrollIntoView(t,false);if(sap.ui.Device.system.desktop||sap.ui.Device.system.combi){this._findTile(t.$()).focus();}this._handleAriaActiveDescendant();this.$("blind").css("display","none");}};T.prototype._handleAriaActiveDescendant=function(){var A=q(document.activeElement).control(0);if(A instanceof sap.m.Tile&&A.getParent()===this){this.getDomRef().setAttribute("aria-activedescendant",A.getId());}};T.prototype.onThemeChanged=function(){if(this.getDomRef()){this.invalidate();}};var a=function(t){this._oDimension=null;this._oTileContainer=t;};a.prototype.calc=function(){var v,t;if(!this._oTileContainer.getDomRef()){return;}if(this._oTileContainer._getVisibleTiles().length){v=this._oTileContainer._getVisibleTiles();if(v.length){t=v[0];this._oDimension={width:Math.round(t.$().outerWidth(true)),height:Math.round(t.$().outerHeight(true))};}}return this._oDimension;};a.prototype.getLastCalculatedDimension=function(){return this._oDimension;};function h(){var t=this._getVisibleTiles().length,d=null;this._getVisibleTiles().forEach(function(o){d=o.getDomRef();if(d){d.setAttribute("aria-setsize",t);}});}function b(s,e){var t=this._getVisibleTiles(),i,o=null;for(var i=s;i<e;i++){o=t[i];if(o){o._updateAriaPosition();}}}T.prototype._getVisibleTiles=function(){return this.getTiles().filter(function(t){return t.getVisible();});};return T;},true);
sap.ui.predefine('sap/m/TileContainerRenderer',['jquery.sap.global'],function(q){"use strict";var T={};T.render=function(r,c){var a=c.getId();r.write("<div tabindex=\"-1\"");r.writeControlData(c);r.addStyle("height",c.getHeight());r.addStyle("width",c.getWidth());r.writeStyles();r.addClass("sapMTC");r.addClass("sapContrastPlus");r.writeClasses();r.writeAccessibilityState(c,{role:"listbox",multiSelectable:false,activeDescendant:c.getTiles().length>0?c.getTiles()[0].getId():""});r.write(" >");r.write("<div id=\""+a+"-scrl\" class=\"sapMTCScrl\" style=\"height:0px;");if(!c.bRtl){r.write(" overflow: hidden;");}r.write("\">");r.write("<div id=\""+a+"-blind\" class=\"sapMTCBlind\"></div>");r.write("<div id=\""+a+"-cnt\" class=\"sapMTCCnt sapMTCAnim\" style=\"height:0px; width:0px;\" role=\"group\">");var t=c.getTiles();for(var i=0;i<t.length;i++){t[i]._setVisible(false);r.renderControl(t[i]);}r.write("</div>");r.write("</div>");r.write("<div id=\""+a+"-pager\" class=\"sapMTCPager\">");r.write("</div>");r.write("<div id=\""+a+"-leftedge\" class=\"sapMTCEdgeLeft\"></div>");r.write("<div id=\""+a+"-rightedge\" class=\"sapMTCEdgeRight\"></div>");r.write("<div id=\""+a+"-leftscroller\" class=\"sapMTCScroller sapMTCLeft\" tabindex=\"-1\"><div class=\"sapMTCInner\" ></div></div>");r.write("<div id=\""+a+"-rightscroller\" class=\"sapMTCScroller sapMTCRight\" tabindex=\"-1\"><div class=\"sapMTCInner\" ></div></div>");r.write("</div>");};return T;},true);
sap.ui.predefine('sap/m/TileRenderer',['jquery.sap.global','sap/ui/core/Renderer'],function(q,R){"use strict";var T={};T.render=function(r,c){r.write("<div tabindex=\"0\"");r.writeControlData(c);r.addClass("sapMTile");r.addClass("sapMPointer");r.addClass("sapContrastPlus");r.writeClasses();if(c._invisible){r.addStyle("visibility","hidden");r.writeStyles();}var t=c.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}if(c.getParent()instanceof sap.m.TileContainer){r.writeAccessibilityState(c,{role:"option",posinset:c._getTileIndex(),setsize:c._getTilesCount()});}r.write(">");if(c.getRemovable()){r.write("<div id=\""+c.getId()+"-remove\" class=\"sapMTCRemove\"></div>");}else{r.write("<div id=\""+c.getId()+"-remove\" class=\"sapMTCNoRemove\"></div>");}r.write("<div class=\"sapMTileContent\">");this._renderContent(r,c);r.write("</div></div>");};T._renderContent=function(r,c){};return T;},true);
sap.ui.predefine('sap/m/TimePicker',['jquery.sap.global','./InputBase','./MaskInput','./MaskInputRule','./ResponsivePopover','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','sap/ui/model/type/Time','./TimePickerSliders'],function(q,I,M,a,R,E,b,T,c){"use strict";var d=M.extend("sap.m.TimePicker",{metadata:{library:"sap.m",properties:{displayFormat:{type:"string",group:"Appearance",defaultValue:null},valueFormat:{type:"string",group:"Data",defaultValue:null},localeId:{type:"string",group:"Data"},dateValue:{type:"object",group:"Data",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},minutesStep:{type:"int",group:"Misc",defaultValue:1},secondsStep:{type:"int",group:"Misc",defaultValue:1}},aggregations:{_picker:{type:"sap.m.ResponsivePopover",multiple:false,visibility:"hidden"}}}});b.insertFontFaceStyle();E.call(d.prototype,true);var e={Short:"short",Medium:"medium",Long:"long"},f={Hour:"hour",Minute:"minute",Second:"second"},P='-';d.prototype.init=function(){M.prototype.init.apply(this,arguments);this.setDisplayFormat(h());this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._bValid=false;this._sUsedDisplayPattern=null;this._sUsedValuePattern=null;this._oDisplayFormat=null;this._sValueFormat=null;this._oPopoverKeydownEventDelegate=null;this._rPlaceholderRegEx=new RegExp(P,'g');this._sLastChangeValue=null;};d.prototype.exit=function(){if(this._oTimeSemanticMaskHelper){this._oTimeSemanticMaskHelper.destroy();}M.prototype.exit.apply(this,arguments);this._removePickerEvents();this._oResourceBundle=null;this._bValid=false;this._sUsedDisplayPattern=null;this._oDisplayFormat=null;this._oPopoverKeydownEventDelegate=null;this._sUsedValuePattern=null;this._sValueFormat=null;this._sLastChangeValue=null;};d.prototype.onBeforeRendering=function(){M.prototype.onBeforeRendering.apply(this,arguments);};d.prototype.ontap=function(o){var i,p;if(!(this.getEditable()&&this.getEnabled())){return;}i=q(o.target).hasClass("sapUiIcon");p=this._getPicker()&&this._getPicker().isOpen();if(!p&&i){this._openPicker();}else if(i&&!sap.ui.Device.system.phone){this._closePicker();}};d.prototype.onfocusin=function(o){var p=this._getPicker();var i=q(o.target).hasClass("sapUiIcon");M.prototype.onfocusin.apply(this,arguments);if(p&&p.isOpen()&&!i){this._closePicker();}};d.prototype.oninput=function(o){M.prototype.oninput.apply(this,arguments);};d.prototype.onfocusout=function(o){M.prototype.onfocusout.apply(this,arguments);};d.prototype.onBeforeOpen=function(){var s=this._getSliders();s.setTimeValues(this.getDateValue());s.collapseAll();this.$().addClass("sapMTPInputActive");};d.prototype.onAfterOpen=function(){var s=this._getSliders();if(s){s._initFocus();this._handleAriaOnExpandCollapse();}};d.prototype.onAfterClose=function(){this.$().removeClass("sapMTPInputActive");this._handleAriaOnExpandCollapse();};d.prototype._handleInputChange=function(v){var D;v=v||this._$input.val();this._bValid=true;if(v!==""){D=this._parseValue(v,true);if(!D){this._bValid=false;}else{v=this._formatValue(D);}}if(this.isActive()&&(this._$input.val()!==v)){this.updateDomValue(v);if(this.bShowLabelAsPlaceholder){this.$("placeholder").css("display",v?"none":"inline");}}if(D){v=this._formatValue(D,true);}this.setProperty("value",v,true);if(this._bValid){this.setProperty("dateValue",D,true);}this.fireChangeEvent(v,{valid:this._bValid});return true;};d.prototype.onChange=function(o){var v=o?o.value:null;if(this.getEditable()&&this.getEnabled()){return this._handleInputChange(v);}return false;};d.prototype.setMinutesStep=function(s){var S=this._getSliders();if(S){S.setMinutesStep(s);}return this.setProperty("minutesStep",s,true);};d.prototype.setSecondsStep=function(s){var S=this._getSliders();if(S){S.setSecondsStep(s);}return this.setProperty("secondsStep",s,true);};d.prototype.setTitle=function(t){var s=this._getSliders();if(s){s.setLabelText(t);}this.setProperty("title",t,true);return this;};d.prototype.setValueFormat=function(v){var V=this.getValue(),D;this.setProperty("valueFormat",v,true);if(V){D=this._parseValue(V);if(!D){this._bValid=false;q.sap.log.warning("Value can not be converted to a valid date",this);}else{this._bValid=true;this.setProperty("dateValue",D,true);V=this._formatValue(D);if(this.isActive()){this._synchronizeInput(V);}else{this.setProperty("value",V,true);this._sLastChangeValue=V;}}}return this;};d.prototype.setDisplayFormat=function(D){var o,i;this.setProperty("displayFormat",D,true);this._initMask();i=this.getDateValue();if(!i){return this;}o=this._formatValue(i);if(this.isActive()){this._synchronizeInput(o);}return this;};d.prototype.setValue=function(v){var D,o;v=this.validateProperty('value',v);this._initMask();M.prototype.setValue.call(this,v);this._sLastChangeValue=v;this._bValid=true;if(v){D=this._parseValue(v);if(!D){this._bValid=false;q.sap.log.warning("Value can not be converted to a valid date",this);}}if(this._bValid){this.setProperty("dateValue",D,true);}if(D){o=this._formatValue(D);}else{o=v;}if(this.isActive()){this._synchronizeInput(o);}return this;};d.prototype.setDateValue=function(D){var v;if(D&&!(D instanceof Date)){throw new Error("Date must be a JavaScript date object; "+this);}if(q.sap.equal(this.getDateValue(),D)){return this;}this._bValid=true;this.setProperty("dateValue",D,true);v=this._formatValue(D,true);this.setProperty("value",v,true);this._sLastChangeValue=v;if(this.isActive()){v=this._formatValue(D);if(this._$input.val()!==v){this.updateDomValue(v);}}return this;};d.prototype.setLocaleId=function(l){var C=this.getValue();this.setProperty("localeId",l,true);this._initMask();this._oDisplayFormat=null;this._sValueFormat=null;if(C){this.setValue(C);}return this;};d.prototype.getPlaceholder=function(){var p=this.getProperty("placeholder");if(!p){p=this._getFormat();}return p;};d.prototype._getFormat=function(){var F=this._getDisplayFormatPattern();if(!F){F=e.Medium;}if(Object.keys(e).indexOf(F)!==-1){F=h();}return F;};d.prototype.onsappageup=function(o){this._increaseTime(1,f.Hour);o.preventDefault();};d.prototype.onsappageupmodifiers=function(o){if(!(o.ctrlKey||o.metaKey||o.altKey)&&o.shiftKey){this._increaseTime(1,f.Minute);}if(!o.altKey&&o.shiftKey&&(o.ctrlKey||o.metaKey)){this._increaseTime(1,f.Second);}o.preventDefault();};d.prototype.onsappagedown=function(o){this._increaseTime(-1,f.Hour);o.preventDefault();};d.prototype.onsappagedownmodifiers=function(o){if(!(o.ctrlKey||o.metaKey||o.altKey)&&o.shiftKey){this._increaseTime(-1,f.Minute);}if(!o.altKey&&o.shiftKey&&(o.ctrlKey||o.metaKey)){this._increaseTime(-1,f.Second);}o.preventDefault();};d.prototype.onkeydown=function(o){var k=q.sap.KeyCodes,K=o.which||o.keyCode,A=o.altKey,p;if(K===k.F4||(A&&(K===k.ARROW_UP||K===k.ARROW_DOWN))){p=this._getPicker()&&this._getPicker().isOpen();if(!p){this._openPicker();}else{this._closePicker();}o.preventDefault();}else{M.prototype.onkeydown.call(this,o);}};d.prototype._getPicker=function(){return this.getAggregation("_picker");};d.prototype._removePickerEvents=function(){var p,o=this._getPicker();if(o){p=o.getAggregation("_popup");if(typeof this._oPopoverKeydownEventDelegate==='function'){p.removeEventDelegate(this._oPopoverKeydownEventDelegate);}}};d.prototype._openPicker=function(){var p=this._getPicker(),s;if(!p){p=this._createPicker(this._getDisplayFormatPattern());}p.open();s=this._getSliders();q.sap.delayedCall(0,s,s.updateSlidersValues);return p;};d.prototype._closePicker=function(){var p=this._getPicker();if(p){p.close();}else{q.sap.log.warning("There is no picker to close.");}return p;};d.prototype._synchronizeInput=function(v){if((this._$input.val()!==v)){this.updateDomValue(v);}};d.prototype._createPicker=function(F){var t=this,p,o,r,O,C,s;r=sap.ui.getCore().getLibraryResourceBundle("sap.m");O=r.getText("TIMEPICKER_SET");C=r.getText("TIMEPICKER_CANCEL");s=this.getTitle();o=new R(t.getId()+"-RP",{showCloseButton:false,showHeader:false,horizontalScrolling:false,verticalScrolling:false,placement:sap.m.PlacementType.VerticalPreferedBottom,beginButton:new sap.m.Button({text:O,press:q.proxy(this._handleOkPress,this)}),endButton:new sap.m.Button({text:C,press:q.proxy(this._handleCancelPress,this)}),content:[new c(this.getId()+"-sliders",{format:F,labelText:s?s:"",invokedBy:t.getId(),minutesStep:this.getMinutesStep(),secondsStep:this.getSecondsStep()})],contentHeight:d._PICKER_CONTENT_HEIGHT});p=o.getAggregation("_popup");if(p.setShowArrow){p.setShowArrow(false);}p.oPopup.setAutoCloseAreas([this.getDomRef("icon")]);o.addStyleClass(this.getRenderer().CSS_CLASS+"DropDown").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachAfterClose(this.onAfterClose,this);o.open=function(){return this.openBy(t);};if(sap.ui.Device.system.desktop){this._oPopoverKeydownEventDelegate={onkeydown:function(i){var k=q.sap.KeyCodes,K=i.which||i.keyCode,A=i.altKey;if((A&&(K===k.ARROW_UP||K===k.ARROW_DOWN))||K===k.F4){this._handleOkPress(i);this.focus();i.preventDefault();}}};p.addEventDelegate(this._oPopoverKeydownEventDelegate,this);p._afterAdjustPositionAndArrowHook=function(){t._getSliders()._onOrientationChanged();};}this.setAggregation("_picker",o,true);return o;};d.prototype._getSliders=function(){var p=this._getPicker();if(!p){return null;}return p.getContent()[0];};d.prototype._handleOkPress=function(o){var D=this._getSliders().getTimeValues(),v=this._formatValue(D);this.updateDomValue(v);this._handleInputChange();this._closePicker();};d.prototype._handleCancelPress=function(o){this._closePicker();};d.prototype._parseValue=function(v,D){var F=this._getFormatter(D);if(D){v=this._oTimeSemanticMaskHelper.stripValueOfLeadingSpaces(v);v=v.replace(this._rPlaceholderRegEx,'');}return F.parse(v);};d.prototype._formatValue=function(D,v){var V="",F;if(D){F=this._getFormatter(!v);V=F.format(D);if(!v&&this._oTimeSemanticMaskHelper){V=this._oTimeSemanticMaskHelper.formatValueWithLeadingTrailingSpaces(V);}}return V;};d.prototype._handleAriaOnExpandCollapse=function(){this.getFocusDomRef().setAttribute("aria-expanded",this._getPicker().isOpen());};d.prototype._increaseTime=function(n,u){var o=this.getDateValue(),D,m;if(o&&this.getEditable()&&this.getEnabled()){D=new Date(o.getTime());switch(u){case f.Hour:D.setHours(D.getHours()+n);m=60*60*1000;break;case f.Minute:D.setMinutes(D.getMinutes()+n);m=60*1000;break;case f.Second:m=1000;D.setSeconds(D.getSeconds()+n);}if(n<0&&D.getTime()-o.getTime()!==n*m){D=new Date(o.getTime()+n*m);}this.setDateValue(D);this.fireChangeEvent(this.getValue(),{valid:true});}};d.prototype._getFormatter=function(D){var p="",r=false,F,B=this.getBinding("value");if(B&&B.oType&&(B.oType instanceof T)){p=B.oType.getOutputPattern();r=!!B.oType.oOutputFormat.oFormatOptions.relative;}if(!p){if(D){p=(this.getDisplayFormat()||e.Medium);}else{p=(this.getValueFormat()||e.Medium);}}if(D){if(p===this._sUsedDisplayPattern){F=this._oDisplayFormat;}}else{if(p===this._sUsedValuePattern){F=this._sValueFormat;}}if(F){return F;}if(p===e.Short||p===e.Medium||p===e.Long){F=sap.ui.core.format.DateFormat.getTimeInstance({style:p,strictParsing:true,relative:r},new sap.ui.core.Locale(this.getLocaleId()));}else{F=sap.ui.core.format.DateFormat.getTimeInstance({pattern:p,strictParsing:true,relative:r},new sap.ui.core.Locale(this.getLocaleId()));}if(D){this._sUsedDisplayPattern=p;this._oDisplayFormat=F;}else{this._sUsedValuePattern=p;this._sValueFormat=F;}return F;};d.prototype._initMask=function(){if(this._oTimeSemanticMaskHelper){this._oTimeSemanticMaskHelper.destroy();}this._oTimeSemanticMaskHelper=new g(this);};d.prototype.fireChangeEvent=function(v,p){if(v){v=v.trim();}if(v!==this._sLastChangeValue){this._sLastChangeValue=v;I.prototype.fireChangeEvent.call(this,v,p);}};var g=function(t){var D=t._getDisplayFormatPattern(),m=D,A,l=t.getLocaleId()||sap.ui.getCore().getConfiguration().getFormatLocale(),L=new sap.ui.core.Locale(l),i;t.setProperty("localeId",l,true);this._oTimePicker=t;this.aOriginalAmPmValues=sap.ui.core.LocaleData.getInstance(L).getDayPeriods("abbreviated");this.aAmPmValues=this.aOriginalAmPmValues.slice(0);this.iAmPmValueMaxLength=Math.max(this.aAmPmValues[0].length,this.aAmPmValues[1].length);for(i=0;i<this.aAmPmValues.length;i++){while(this.aAmPmValues[i].length<this.iAmPmValueMaxLength){this.aAmPmValues[i]+=" ";}}this.b24H=D.indexOf("H")!==-1;this.bLeadingZero=D.indexOf("HH")!==-1||D.indexOf("hh")!==-1;this.sLeadingChar=this.bLeadingZero?"0":" ";this.sAlternativeLeadingChar=this.bLeadingZero?" ":"0";this.sLeadingRegexChar=this.bLeadingZero?"0":"\\s";t.setPlaceholderSymbol(P);m=m.replace(/hh/ig,"h").replace(/h/ig,"h9");if(this.b24H){A="["+this.sLeadingRegexChar+"012]";}else{A="["+this.sLeadingRegexChar+"1]";}this._maskRuleHours=new a({maskFormatSymbol:"h",regex:A});t.addRule(this._maskRuleHours);this.iHourNumber1Index=m.indexOf("h9");this.iHourNumber2Index=this.iHourNumber1Index!==-1?this.iHourNumber1Index+1:-1;this.iMinuteNumber1Index=m.indexOf("mm");m=m.replace(/mm/g,"59");this.iSecondNumber1Index=m.indexOf("ss");m=m.replace(/ss/g,"59");this._maskRuleMinSec=new a({maskFormatSymbol:"5",regex:"[0-5]"});t.addRule(this._maskRuleMinSec);this.aAllowedHours=p.call(this,this.b24H,this.sLeadingChar);this.aAllowedMinutesAndSeconds=r.call(this);this.iAmPmChar1Index=m.indexOf("a");this.iAfterAmPmValueIndex=-1;if(this.iAmPmChar1Index!==-1){this.iAfterAmPmValueIndex=this.iAmPmChar1Index+this.iAmPmValueMaxLength;var C=this.iAmPmValueMaxLength-"a".length;this.shiftIndexes(C);var j=65;var s="";var k="";var n="";for(i=0;i<this.iAmPmValueMaxLength;i++){k="[";if(this.aAmPmValues[0][i]){k+=this.aAmPmValues[0][i];}else{k+="\\s";}if(this.aAmPmValues[1][i]!==this.aAmPmValues[0][i]){if(this.aAmPmValues[1][i]){k+=this.aAmPmValues[1][i];}else{k+="\\s";}}k+="]";n=String.fromCharCode(j++);s+=n;this._maskRuleChars=new a({maskFormatSymbol:n,regex:k});t.addRule(this._maskRuleChars);}m=m.replace(/a/g,s);}t.setMask(m);function o(S,u,v){var w=[],x,i;for(i=S;i<=u;i++){x=i.toString();if(i<10){x=v+x;}w.push(x);}return w;}function p(u,v){var S=u?0:1,w=u?23:12;return o(S,w,v);}function r(){return o(0,59,"0");}};g.prototype.replaceChar=function(C,p,s){var A=p-this.iAmPmChar1Index,j,k,l,S,m,n,i;if(p===this.iHourNumber1Index&&this.sAlternativeLeadingChar===C){if(this.aAllowedHours.indexOf(this.sLeadingChar+C)!==-1){return this.sLeadingChar+C;}else{return this.sLeadingChar;}}else if(p===this.iHourNumber1Index&&!this._oTimePicker._isCharAllowed(C,p)&&this.aAllowedHours.indexOf(this.sLeadingChar+C)!==-1){return this.sLeadingChar+C;}else if(p===this.iHourNumber2Index&&this.aAllowedHours.indexOf(s[this.iHourNumber1Index]+C)===-1){return"";}else if((p===this.iMinuteNumber1Index||p===this.iSecondNumber1Index)&&!this._oTimePicker._isCharAllowed(C,p)&&this.aAllowedMinutesAndSeconds.indexOf("0"+C)!==-1){return"0"+C;}else if(A>=0&&p<this.iAfterAmPmValueIndex){j=s.slice(this.iAmPmChar1Index,p);k=this.aAmPmValues[0].slice(0,A);l=this.aAmPmValues[1].slice(0,A);m=this.aAmPmValues[0].slice(A,this.iAfterAmPmValueIndex);n=this.aAmPmValues[1].slice(A,this.iAfterAmPmValueIndex);S=(k===l);var o="";for(i=A;i<this.iAmPmValueMaxLength;i++){if(this.aAmPmValues[0][i]===this.aAmPmValues[1][i]){o+=this.aAmPmValues[0][i];}else{break;}}if(i===this.iAmPmValueMaxLength||i!==A){return o;}else{if(!S){if(j===k){return m;}else if(j===l){return n;}else{return C;}}else{if(this.aAmPmValues[0][A].toLowerCase()===C.toLowerCase()&&this.aAmPmValues[0]===j+m){return m;}else if(this.aAmPmValues[1][A].toLowerCase()===C.toLowerCase()&&this.aAmPmValues[1]===j+n){return n;}else{return C;}}}}else{return C;}};g.prototype.formatValueWithLeadingTrailingSpaces=function(v){var m=this._oTimePicker.getMask().length;if(this.aOriginalAmPmValues[0]!==this.aAmPmValues[0]){v=v.replace(this.aOriginalAmPmValues[0],this.aAmPmValues[0]);}if(this.aOriginalAmPmValues[1]!==this.aAmPmValues[1]){v=v.replace(this.aOriginalAmPmValues[1],this.aAmPmValues[1]);}while(m>v.length){v=[v.slice(0,this.iHourNumber1Index)," ",v.slice(this.iHourNumber1Index)].join('');}return v;};g.prototype.stripValueOfLeadingSpaces=function(v){if(v[this.iHourNumber1Index]===" "){v=[v.slice(0,this.iHourNumber1Index),v.slice(this.iHourNumber1Index+1)].join('');}return v;};g.prototype.shiftIndexes=function(s){if(this.iAmPmChar1Index<this.iHourNumber1Index){this.iHourNumber1Index+=s;this.iHourNumber2Index+=s;}if(this.iAmPmChar1Index<this.iMinuteNumber1Index){this.iMinuteNumber1Index+=s;}if(this.iAmPmChar1Index<this.iSecondNumber1Index){this.iSecondNumber1Index+=s;}};g.prototype.destroy=function(){if(this._maskRuleHours){this._maskRuleHours.destroy();this._maskRuleHours=null;}if(this._maskRuleMinSec){this._maskRuleMinSec.destroy();this._maskRuleMinSec=null;}if(this._maskRuleChars){this._maskRuleChars.destroy();this._maskRuleChars=null;}};d.prototype._feedReplaceChar=function(C,p,s){return this._oTimeSemanticMaskHelper.replaceChar(C,p,s);};d.prototype.getAccessibilityInfo=function(){var r=this.getRenderer();var i=M.prototype.getAccessibilityInfo.apply(this,arguments);var v=this.getValue()||"";if(this._bValid){var D=this.getDateValue();if(D){v=this._formatValue(D);}}i.role="combobox";i.type=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_TIMEINPUT");i.description=[v,r.getLabelledByAnnouncement(this),r.getDescribedByAnnouncement(this)].join(" ").trim();return i;};function h(){var l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale(),L=sap.ui.core.LocaleData.getInstance(l);return L.getTimePattern(e.Medium);}d.prototype._getDisplayFormatPattern=function(){var B=this.getBinding("value");if(B&&B.oType&&(B.oType instanceof T)){return B.oType.getOutputPattern();}return this.getDisplayFormat();};d._PICKER_CONTENT_HEIGHT="25rem";return d;},true);
sap.ui.predefine('sap/m/TimePickerRenderer',['jquery.sap.global','sap/ui/core/Renderer','./InputBaseRenderer','sap/ui/core/ValueStateSupport','sap/ui/core/LabelEnablement'],function(q,R,I,V,L){"use strict";var T=R.extend(I);T.CSS_CLASS="sapMTimePicker";var a="sapMInputVH",b="sapMInputValHelpInner",c="sapMInputValHelp";T.addOuterClasses=function(r,C){r.addClass(T.CSS_CLASS);if(C.getEnabled()&&C.getEditable()){r.addClass(a);}};T.writeInnerContent=function(r,C){var d,A,o,t="",s;if(C.getEnabled()&&C.getEditable()){d=[b];A={};A.id=C.getId()+"-icon";A.tabindex="-1";A.title=null;r.write('<div class="'+c+'">');r.writeIcon("sap-icon://time-entry-request",d,A);r.write("</div>");}o=C._oResourceBundle;if(!C.getProperty("placeholder")&&this._hasLabelReferencing(C)){t=o.getText("TIMEPICKER_WITH_PH_SCREENREADER_TAG",C._getFormat());}else{t=o.getText("TIMEPICKER_SCREENREADER_TAG");}s=V.enrichTooltip(C,C.getTooltip_AsString());if(s){t=s+". "+t;}r.write('<span id="'+C.getId()+'-descr" style="visibility: hidden; display: none;">');r.writeEscaped(t);r.write('</span>');};T.writeInnerValue=function(r,C){r.writeAttributeEscaped("value",C._formatValue(C.getDateValue()));};T.writeAccessibilityState=function(r,C){var A=this.getAriaLabelledBy(C),p={role:"combobox",multiline:false,autocomplete:"none",expanded:false,haspopup:true,owns:C.getId()+"-sliders",describedby:{value:C.getId()+"-descr",append:true}};if(A&&this._hasLabelReferencing(C)&&C.getProperty("placeholder")){p.labelledby={value:A.trim(),append:true};}if(C.getValueState()==sap.ui.core.ValueState.Error){p.invalid=true;}r.writeAccessibilityState(C,p);};T.renderAriaLabelledBy=function(r,C){if(this._hasLabelReferencing(C)&&C.getProperty("placeholder")){I.renderAriaLabelledBy(r,C);}};T._hasLabelReferencing=function(C){return L.getReferencingLabels(C).length>0;};return T;},true);
sap.ui.predefine('sap/m/TimePickerSlider',['jquery.sap.global','sap/ui/core/Control','./TimePickerSliderRenderer','sap/ui/core/IconPool'],function(q,C,T,I){"use strict";var a=C.extend("sap.m.TimePickerSlider",{metadata:{library:"sap.m",properties:{selectedValue:{type:"string",defaultValue:null},isCyclic:{type:"boolean",defaultValue:true},label:{type:"string",defaultValue:null},isExpanded:{type:"boolean",defaultValue:false}},aggregations:{items:{type:"sap.m.VisibleItem",multiple:true,singularName:"item"},_arrowUp:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_arrowDown:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{expanded:{}}},renderer:T.render});var S=sap.ui.getCore().getConfiguration().getAnimation()?200:0;var M=50;a.prototype.init=function(){this._bIsDrag=null;this._selectionOffset=0;this._mousedown=false;this._dragSession=null;this._iSelectedItemIndex=-1;this._animatingSnap=false;this._iSelectedIndex=-1;this._animating=false;this._intervalId=null;this._maxScrollTop=null;this._minScrollTop=null;this._marginTop=null;this._marginBottom=null;this._bOneTimeValueSelectionAnimation=false;if(sap.ui.Device.system.desktop){this._fnHandleTypeValues=t.call(this);}this._initArrows();};a.prototype.onAfterRendering=function(){if(sap.ui.Device.system.phone){q.sap.delayedCall(0,this,this._afterExpandCollapse);}else{this._afterExpandCollapse();}this._attachEvents();};a.prototype.onThemeChanged=function(e){this.invalidate();};a.prototype.fireTap=function(e){var s,i,g;if(!this.getIsExpanded()){if(sap.ui.Device.system.desktop){this.focus();}else{this.setIsExpanded(true);}}else{s=e.srcElement||e.originalTarget;if(s&&s.tagName.toLowerCase()==="li"){i=q(s).text();g=F.call(this,i);this._bOneTimeValueSelectionAnimation=true;this.setSelectedValue(g);}else{this._addSelectionStyle();this.focus();}}};a.prototype.setSelectedValue=function(v){var i=b(this._getVisibleItems(),function(E){return E.getKey()===v;}),e=this,g,s,h,j;if(i===-1){return this;}if(this.getDomRef()){s=this._getSliderContainerDomRef();h=this._getItemHeightInPx();j=this._getContentRepeat();if(i*h>=this._selectionOffset){g=this._getVisibleItems().length*Math.floor(j/2)+i;}else{g=this._getVisibleItems().length*Math.ceil(j/2)+i;}if(this._bOneTimeValueSelectionAnimation){this._animatingSnap=true;s.animate({scrollTop:g*h-this._selectionOffset},S,'linear',function(){s.clearQueue();e._animatingSnap=false;e._bOneTimeValueSelectionAnimation=false;});}else{s.scrollTop(g*h-this._selectionOffset);}this._removeSelectionStyle();this._iSelectedItemIndex=g;this._addSelectionStyle();}return this.setProperty("selectedValue",v,true);};a.prototype.setIsExpanded=function(v,s){this.setProperty("isExpanded",v,true);if(!this.getDomRef()){return this;}var $=this.$();if(v){$.addClass("sapMTPSliderExpanded");if(sap.ui.Device.system.phone){q.sap.delayedCall(0,this,function(){this._updateDynamicLayout(v);if(!s){this.fireExpanded({ctrl:this});}});}else{this._updateDynamicLayout(v);if(!s){this.fireExpanded({ctrl:this});}}}else{this._stopAnimation();if(this._animatingSnap===true){this._animatingSnap=false;this._getSliderContainerDomRef().stop(true);this._scrollerSnapped(this._iSelectedIndex);}$.removeClass("sapMTPSliderExpanded");this._updateMargins(v);if(sap.ui.Device.system.phone){q.sap.delayedCall(0,this,this._afterExpandCollapse);}else{this._afterExpandCollapse();}}return this;};a.prototype.setIsCyclic=function(v){if(this.getDomRef()){if(v){this.$().removeClass("sapMTimePickerSliderShort");}else{this.$().addClass("sapMTimePickerSliderShort");}}return this.setProperty("isCyclic",v,false);};a.prototype.onfocusin=function(e){if(sap.ui.Device.system.desktop&&!this.getIsExpanded()){this.setIsExpanded(true);}};a.prototype.onfocusout=function(e){var s=e.relatedTarget?e.relatedTarget.id:null,A=[this.getAggregation("_arrowUp").getId(),this.getAggregation("_arrowDown").getId()];if(s&&A.indexOf(s)!==-1){return;}if(sap.ui.Device.system.desktop&&this.getIsExpanded()){this.setIsExpanded(false);}};a.prototype._onmousewheel=function(e){e.preventDefault();e.stopPropagation();if(!this.getIsExpanded()){return false;}var O=e.originalEvent,D=O.detail?(-O.detail>0):(O.wheelDelta>0),r=D?Math.ceil:Math.floor,w=O.detail?(-O.detail/3):(O.wheelDelta/120),g=this,R;if(!w){return false;}if(!this._aWheelDeltas){this._aWheelDeltas=[];}g._aWheelDeltas.push(w);if(!this._bWheelScrolling){this._bWheelScrolling=true;this._intervalId=setInterval(function(){if(!g._aWheelDeltas.length){clearInterval(g._intervalId);g._bWheelScrolling=false;}else{R=g._aWheelDeltas[0];g._aWheelDeltas=[];R=r(R);if(R){g._offsetSlider(R);}}},150);}return false;};a.prototype.onsappageup=function(e){if(this.getIsExpanded()){var i=this._getVisibleItems()[0];this.setSelectedValue(i.getKey());}};a.prototype.onsappagedown=function(e){if(this.getIsExpanded()){var l=this._getVisibleItems()[this._getVisibleItems().length-1];this.setSelectedValue(l.getKey());}};a.prototype.onsapup=function(e){if(this.getIsExpanded()){this._offsetValue(-1);}};a.prototype.onsapdown=function(e){if(this.getIsExpanded()){this._offsetValue(1);}};a.prototype.onkeydown=function(e){var k=e.which||e.keyCode,K=q.sap.KeyCodes;if((k>=K.A&&k<=K.Z)||(k>=K.DIGIT_0&&k<=K.DIGIT_9)){this._fnHandleTypeValues(e.timeStamp,k);}};a.prototype._getSliderContainerDomRef=function(){return this.$().find(".sapMTimePickerSlider");};a.prototype._getContentRepeat=function(){var i;if(this.getIsCyclic()){i=Math.ceil(M/this._getVisibleItems().length);i=Math.max(i,3);}else{i=1;}return i;};a.prototype._getItemHeightInPx=function(){return this.$("content").find("li:not(.TPSliderItemHidden)").outerHeight();};a.prototype._updateSelectionFrameLayout=function(){var $,i,e,s,g;if(this.getDomRef()){g=this._getItemHeightInPx();$=this.$().find(".sapMTPPickerSelectionFrame");if(sap.ui.Device.system.phone){s=this.$().offset().top;i=(this.$().height()-g)/2+s;}else{e=this.$().parents(".sapUiSizeCompact").length>0?8:16;i=(this.$().height()-g)/2+e;}$.css("top",i);if(sap.ui.Device.system.phone){q.sap.delayedCall(0,this,this._afterExpandCollapse);}else{this._afterExpandCollapse();}}};a.prototype._updateStepAndValue=function(n,s){var v=0,$,i;for(i=0;i<this.getItems().length;i++){if(i%s!==0&&i!==n){this.getItems()[i].setVisible(false);}else{this.getItems()[i].setVisible(true);v++;}}if(v>2&&v<13&&this.getDomRef()){$=this.$().find(".sapMTimePickerSlider");$.className="";q($).addClass("sapMTimePickerSlider SliderValues"+v.toString());}this.setIsCyclic(v>2);this.setSelectedValue(n.toString());};a.prototype._updateMargins=function(i){var e,m,g,h,$;if(this.getDomRef()){e=this._getItemHeightInPx();$=this.$().find(".SliderValues3,.SliderValues4,.SliderValues5,.SliderValues6,.SliderValues7,.SliderValues8,.SliderValues9,.SliderValues10,.SliderValues11,.SliderValues12");if(!$.length){return;}if(i){m=(this.$().height()-this._getVisibleItems().length*e)/2;g=m;q.each($.prevAll().filter(f),function(j,k){g-=q(k).height();});g=Math.max(g,0);h=m;q.each($.nextAll().filter(f),function(j,k){h-=q(k).height();});h=Math.max(h,0);if(h===0&&g===0){return;}}else{g=0;h=0;}$.css("margin-top",g);$.css("margin-bottom",h);}};a.prototype._updateDynamicLayout=function(i){this._updateMargins(i);this._updateSelectionFrameLayout();};function f(){return q(this).css("display")!=="none";}a.prototype._getSelectionFrameTopOffset=function(){var $=this._getSliderContainerDomRef().find(".sapMTPPickerSelectionFrame"),e=$.offset();return e.top;};a.prototype._animateScroll=function(s){var $=this._getSliderContainerDomRef(),p=$.scrollTop(),e=25,g=$.height(),h=this.$("content").height(),D=200,i=g+D,j=this._getContentRepeat(),k=this.getIsCyclic(),l=0.9,m=0.05,n=this;this._intervalId=setInterval(function(){n._animating=true;p=p-s*e;if(k){p=n._getUpdatedCycleScrollTop(g,h,p,i,j);}else{if(p>n._maxScrollTop){p=n._maxScrollTop;s=0;}if(p<n._minScrollTop){p=n._minScrollTop;s=0;}}$.scrollTop(p);s*=l;if(Math.abs(s)<m){var r=n._getItemHeightInPx();var O=n._selectionOffset?(n._selectionOffset%r):0;var u=Math.round((p+O)/r)*r-O;clearInterval(n._intervalId);n._animating=null;n._iSelectedIndex=Math.round((p+n._selectionOffset)/r);n._animatingSnap=true;$.animate({scrollTop:u},S,'linear',function(){$.clearQueue();n._animatingSnap=false;n._scrollerSnapped(n._iSelectedIndex);});}},e);};a.prototype._stopAnimation=function(){if(this._animating){clearInterval(this._intervalId);this._animating=null;}};a.prototype._startDrag=function(p){if(!this._dragSession){this._dragSession={};this._dragSession.positions=[];}this._dragSession.pageY=p;this._dragSession.startTop=this._getSliderContainerDomRef().scrollTop();};a.prototype._doDrag=function(p,e){if(this._dragSession){this._dragSession.offsetY=p-this._dragSession.pageY;this._dragSession.positions.push({pageY:p,timeStamp:e});if(this._dragSession.positions.length>20){this._dragSession.positions.splice(0,10);}if(this._bIsDrag){this._getSliderContainerDomRef().scrollTop(this._dragSession.startTop-this._dragSession.offsetY);}}};a.prototype._endDrag=function(p,e){if(this._dragSession){var O,g;for(var i=this._dragSession.positions.length-1;i>=0;i--){O=e-this._dragSession.positions[i].timeStamp;g=p-this._dragSession.positions[i].pageY;if(O>100){break;}}var s=(g/O);if(this._animating){clearInterval(this._intervalId);this._intervalId=null;this._animating=null;}this._dragSession=null;this._animateScroll(s);}};a.prototype._afterExpandCollapse=function(){var s=this.getSelectedValue(),e=this._getSelectionFrameTopOffset(),$=this._getSliderContainerDomRef(),g=$.offset(),i,l,L,h;this._selectionOffset=e-g.top;if(!this.getIsCyclic()){l=q("#"+this.getId()+"-content");h=this._getItemHeightInPx();L=this.$().height();if(this.getIsExpanded()){this._minScrollTop=0;this._marginTop=e-g.top;this._maxScrollTop=h*(this._getVisibleItems().length-1);i=$.height();this._marginBottom=i-this._marginTop-h;if(this._marginBottom<0){this._marginBottom=L-this._marginTop-h;}l.css("margin-top",this._marginTop);l.css("margin-bottom",this._marginBottom);}else{this._marginBottom=L-h;l.css("margin-top",0);l.css("margin-bottom",this._marginBottom);}this._selectionOffset=0;}if(!this.getIsExpanded()){this._selectionOffset=0;}this.$().attr('aria-expanded',this.getIsExpanded());this.setSelectedValue(s);};a.prototype._getUpdatedCycleScrollTop=function(i,e,g,D,h){var j=e-g-i;while(j<D){g=g-e/h;j=e-g-i;}while(g<D){g=g+e/h;}return g;};a.prototype._scrollerSnapped=function(i){var s=i,e=this._getVisibleItems().length,n;while(s>=e){s=s-e;}if(!this.getIsCyclic()){s=i;}n=this._getVisibleItems()[s].getKey();this.setSelectedValue(n);};a.prototype._updateScroll=function(){var s=this.getSelectedValue();if(s!==this._getVisibleItems()[0].getKey()&&this._getSliderContainerDomRef().scrollTop()+(this._selectionOffset?this._selectionOffset:0)===0){this.setSelectedValue(s);}};a.prototype._addSelectionStyle=function(){var $=this.$("content").find("li:not(.TPSliderItemHidden)"),s=$.eq(this._iSelectedItemIndex).text(),A;if(!s){return;}A=F.call(this,s);$.eq(this._iSelectedItemIndex).addClass("sapMTimePickerItemSelected");document.getElementById(this.getId()+"-valDescription").innerHTML=A;};a.prototype._removeSelectionStyle=function(){var $=this.$("content").find("li:not(.TPSliderItemHidden)");$.eq(this._iSelectedItemIndex).removeClass("sapMTimePickerItemSelected").attr("aria-selected","false");};a.prototype._attachEvents=function(){var e=this._getSliderContainerDomRef()[0],D=sap.ui.Device;if(D.system.combi){e.addEventListener("touchstart",q.proxy(o,this),false);e.addEventListener("touchmove",q.proxy(c,this),false);document.addEventListener("touchend",q.proxy(d,this),false);e.addEventListener("mousedown",q.proxy(o,this),false);document.addEventListener("mousemove",q.proxy(c,this),false);document.addEventListener("mouseup",q.proxy(d,this),false);}else{if(D.system.phone||D.system.tablet){e.addEventListener("touchstart",q.proxy(o,this),false);e.addEventListener("touchmove",q.proxy(c,this),false);document.addEventListener("touchend",q.proxy(d,this),false);}else{e.addEventListener("mousedown",q.proxy(o,this),false);document.addEventListener("mousemove",q.proxy(c,this),false);document.addEventListener("mouseup",q.proxy(d,this),false);}}};a.prototype._detachEvents=function(){var e=this.getDomRef(),D=sap.ui.Device;if(D.system.combi){e.removeEventListener("touchstart",q.proxy(o,this),false);e.removeEventListener("touchmove",q.proxy(c,this),false);document.removeEventListener("touchend",q.proxy(d,this),false);e.removeEventListener("mousedown",q.proxy(o,this),false);document.removeEventListener("mousemove",q.proxy(c,this),false);document.removeEventListener("mouseup",q.proxy(d,this),false);}else{if(D.system.phone||D.system.tablet){e.removeEventListener("touchstart",q.proxy(o,this),false);e.removeEventListener("touchmove",q.proxy(c,this),false);document.removeEventListener("touchend",q.proxy(d,this),false);}else{e.removeEventListener("mousedown",q.proxy(o,this),false);document.removeEventListener("mousemove",q.proxy(c,this),false);document.removeEventListener("mouseup",q.proxy(d,this),false);}}};a.prototype._offsetValue=function(i){var s=this._getSliderContainerDomRef(),e=s.scrollTop(),g=this._getItemHeightInPx(),h=e+i*g,j=this.getIsCyclic(),k=this,l=this._iSelectedItemIndex+i;if(!j){if(l<0||l>=this._getVisibleItems().length){return;}if(h>this._maxScrollTop){h=this._maxScrollTop;}if(h<this._minScrollTop){h=this._minScrollTop;}}this._animatingSnap=true;s.animate({scrollTop:h},S,'linear',function(){s.clearQueue();k._animatingSnap=false;k._scrollerSnapped(l);});};a.prototype._offsetSlider=function(O){var s=this._getSliderContainerDomRef().scrollTop(),e=this,$=e._getSliderContainerDomRef().height(),g=e.$("content").height(),D=200,i=$+D,h=e._getContentRepeat(),j=e.getIsCyclic(),k=e._getItemHeightInPx();s=s-O*k;if(j){s=e._getUpdatedCycleScrollTop($,g,s,i,h);}else{if(s>e._maxScrollTop){s=e._maxScrollTop;}if(s<e._minScrollTop){s=e._minScrollTop;}}e._getSliderContainerDomRef().scrollTop(s);e._iSelectedIndex=Math.round((s+e._selectionOffset)/k);e._scrollerSnapped(e._iSelectedIndex);};a.prototype._initArrows=function(){var e=this,A,g;A=new sap.m.Button({icon:I.getIconURI("slim-arrow-up"),press:function(E){e._offsetValue(-1);},type:'Transparent'});A.addEventDelegate({onAfterRendering:function(){A.$().attr("tabindex",-1);}});this.setAggregation("_arrowUp",A);g=new sap.m.Button({icon:I.getIconURI("slim-arrow-down"),press:function(E){e._offsetValue(1);},type:'Transparent'});g.addStyleClass("sapMTimePickerItemArrowDown");g.addEventDelegate({onAfterRendering:function(){g.$().attr("tabindex",-1);}});this.setAggregation("_arrowDown",g);};function b(A,p){if(A==null){throw new TypeError('findIndex called with null or undefined array');}if(typeof p!=='function'){throw new TypeError('predicate must be a function');}var l=A.length;var e=arguments[1];var v;for(var i=0;i<l;i++){v=A[i];if(p.call(e,v,i,A)){return i;}}return-1;}var o=function(e){var p=e.touches&&e.touches.length?e.touches[0].pageY:e.pageY;this._bIsDrag=false;if(!this.getIsExpanded()){return;}this._stopAnimation();this._startDrag(p);e.preventDefault();this._mousedown=true;};var c=function(e){var p=e.touches&&e.touches.length?e.touches[0].pageY:e.pageY;if(!this._mousedown||!this.getIsExpanded()){return;}if(!this._bIsDrag&&this._dragSession&&this._dragSession.positions.length){var g=this._dragSession.positions.some(function(h){return Math.abs(h.pageY-p)>5;});if(g){this._bIsDrag=true;}}this._doDrag(p,e.timeStamp);this._mousedown=true;};var d=function(e){var p=e.changedTouches&&e.changedTouches.length?e.changedTouches[0].pageY:e.pageY;if(this._bIsDrag===false){this.fireTap(e);this._dragSession=null;}this._bIsDrag=true;if(!this.getIsExpanded()){this._dragSession=null;return;}this._endDrag(p,e.timeStamp);this._mousedown=false;};var F=function(s){var i=this._getVisibleItems();var e=b(i,function(g){return g.getText()===s;});return i[e].getKey();};var t=function(){var l=-1,L=-1,w=1000,s="",e=function(i,k){var m;if(l+w<i){s="";}else{if(L!==-1){q.sap.clearDelayedCall(L);L=-1;}}s+=String.fromCharCode(k).toLowerCase();m=this._getVisibleItems().filter(function(g){return g.getKey().indexOf(s)===0;});if(m.length>1){L=q.sap.delayedCall(w,this,function(){this.setSelectedValue(s);s="";L=-1;});}else if(m.length===1){this.setSelectedValue(m[0].getKey());s="";}l=i;};return e;};a.prototype._getVisibleItems=function(){return this.getItems().filter(function(i){return i.getVisible();});};return a;},false);
sap.ui.predefine('sap/m/TimePickerSliderRenderer',['jquery.sap.global'],function(q){"use strict";var T={};T.render=function(r,c){var i,R,n=c._getContentRepeat(),I=c.getItems(),C=c.getLabel();r.write("<div");r.writeControlData(c);r.writeAttribute("tabindex","0");r.addClass("sapMTPColumn");if(c.getIsExpanded()){r.addClass("sapMTPSliderExpanded");}if(!c.getIsCyclic()){r.addClass("sapMTimePickerSliderShort");}r.writeClasses();r.writeAccessibilityState(c,{role:"list",labelledby:{value:c.getId()+"-label",append:true},describedby:{value:c.getId()+"-valDescription",append:true}});r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-label");r.addClass("sapMTimePickerLabel");r.writeClasses();r.writeAttribute('aria-expanded',c.getIsExpanded());r.write(">");r.writeEscaped(C);r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-valDescription");r.writeAttribute('aria-hidden','false');r.writeAttribute('aria-live','assertive');r.addClass("sapUiInvisibleText");r.writeClasses();r.write("></div>");r.write("<div class='sapMTimePickerItemArrows'>");r.renderControl(c.getAggregation("_arrowUp"));r.write("</div>");r.write("<div");r.addClass("sapMTimePickerSlider");T.addItemValuesCssClass(r,c);r.writeClasses();r.writeAttribute("unselectable","on");r.writeStyles();r.write(">");r.write("<div class=\"sapMTPPickerSelectionFrame\"></div>");r.write("<ul");r.writeAttribute("id",c.getId()+"-content");r.writeAttribute("unselectable","on");r.write(">");for(R=1;R<=n;R++){for(i=0;i<I.length;i++){r.write("<li");r.addClass("sapMTimePickerItem");if(!I[i].getVisible()){r.addClass("TPSliderItemHidden");}r.writeClasses();r.writeAccessibilityState(c,{role:"listitem"});r.writeAttribute("unselectable","on");r.write(">");r.writeEscaped(I[i].getText());r.write("</li>");}}r.write("</ul>");r.write("</div>");r.write("<div class='sapMTimePickerItemArrows'>");r.renderControl(c.getAggregation("_arrowDown"));r.write("</div>");r.write("</div>");};T.addItemValuesCssClass=function(r,c){var v=c.getItems().filter(function(i){return i.getVisible();}).length;if(v>2&&v<13){r.addClass("SliderValues"+v.toString());}};return T;},false);
sap.ui.predefine('sap/m/TimePickerSliders',['jquery.sap.global','sap/ui/core/Control','./TimePickerSlidersRenderer','./TimePickerSlider','./VisibleItem'],function(q,C,S,T,V){"use strict";var a=C.extend("sap.m.TimePickerSliders",{metadata:{library:"sap.m",properties:{format:{name:"format",type:"string"},labelText:{name:"labelText",type:"string"},minutesStep:{type:"int",group:"Misc",defaultValue:1},secondsStep:{type:"int",group:"Misc",defaultValue:1}},aggregations:{_columns:{type:"sap.m.TimePickerSlider",multiple:true,visibility:"hidden"}},associations:{invokedBy:{type:"sap.m.TimePicker",multiple:false}}},renderer:S.render});a.prototype.init=function(){var l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale(),p=sap.ui.core.LocaleData.getInstance(l).getDayPeriods("abbreviated");this._fnLayoutChanged=q.proxy(this._onOrientationChanged,this);sap.ui.Device.resize.attachHandler(this._fnLayoutChanged);this._sAM=p[0];this._sPM=p[1];};a.prototype.exit=function(){this.$().off(!!sap.ui.Device.browser.firefox?"DOMMouseScroll":"mousewheel",this._onmousewheel);sap.ui.Device.resize.detachHandler(this._fnOrientationChanged);};a.prototype.onAfterRendering=function(){this.$().off(!!sap.ui.Device.browser.firefox?"DOMMouseScroll":"mousewheel",this._onmousewheel);this.$().on(!!sap.ui.Device.browser.firefox?"DOMMouseScroll":"mousewheel",q.proxy(this._onmousewheel,this));if(!sap.ui.Device.browser.msie){this._initFocus(true);}};a.prototype.setInvokedBy=function(i){var l,p,c;this.setAssociation("invokedBy",i);if(sap.ui.getCore().byId(i)){l=new sap.ui.core.Locale(sap.ui.getCore().byId(i).getLocaleId());p=sap.ui.core.LocaleData.getInstance(l).getDayPeriods("abbreviated");this._sAM=p[0];this._sPM=p[1];c=this.getAggregation("_columns");if(c){this.destroyAggregation("_columns");}this._setupLists(this.getFormat());}return this;};a.prototype.setLabelText=function(l){var c;this.setProperty("labelText",l,true);if(!sap.ui.Device.system.desktop){c=q(this.getDomRef("label"));if(c){c.html(l);}}return this;};a.prototype.setFormat=function(f){this.setProperty("format",f,true);var c=this.getAggregation("_columns");if(c){this.destroyAggregation("_columns");}this._setupLists(f);return this;};a.prototype.setMinutesStep=function(v){this.setProperty("minutesStep",v,true);var c=this.getAggregation("_columns");if(c){this.destroyAggregation("_columns");}this._setupLists(this.getFormat());return this;};a.prototype.setSecondsStep=function(v){this.setProperty("secondsStep",v,true);var c=this.getAggregation("_columns");if(c){this.destroyAggregation("_columns");}this._setupLists(this.getFormat());return this;};a.prototype.getTimeValues=function(){var c=sap.ui.getCore(),l=c.byId(this.getId()+"-listHours"),L=c.byId(this.getId()+"-listMins"),o=c.byId(this.getId()+"-listSecs"),b=c.byId(this.getId()+"-listFormat"),h=null,A=null,d=new Date();if(l){h=parseInt(l.getSelectedValue(),10);}if(b){A=b.getSelectedValue();}if(A==="am"&&h===12){h=0;}else if(A==="pm"&&h!==12){h+=12;}if(h!==null){d.setHours(h.toString());}if(L){d.setMinutes(L.getSelectedValue());}if(o){d.setSeconds(o.getSelectedValue());}return d;};a.prototype.setTimeValues=function(d){var c=sap.ui.getCore(),l=c.byId(this.getId()+"-listHours"),L=c.byId(this.getId()+"-listMins"),o=c.byId(this.getId()+"-listSecs"),b=c.byId(this.getId()+"-listFormat"),h,A=null;d=d||new Date();h=d.getHours();if(b){A=h>=12?"pm":"am";h=(h>12)?h-12:h;h=(h===0?12:h);}l&&l.setSelectedValue(h.toString());L&&L._updateStepAndValue(d.getMinutes(),this.getMinutesStep());o&&o._updateStepAndValue(d.getSeconds(),this.getSecondsStep());b&&b.setSelectedValue(A);};a.prototype.collapseAll=function(){var s=this.getAggregation("_columns");if(s){for(var i=0;i<s.length;i++){if(s[i].getIsExpanded()){s[i].setIsExpanded(false);}}}};a.prototype.updateSlidersValues=function(){var s=this.getAggregation("_columns");if(s){for(var i=0;i<s.length;i++){s[i]._updateScroll();}}};a.prototype.onsaphome=function(e){var c=this._getCurrentSlider();if(c&&document.activeElement===c.getDomRef()){this.getAggregation("_columns")[0].focus();}};a.prototype.onsapend=function(e){var c=this._getCurrentSlider();if(c&&document.activeElement===c.getDomRef()){var s=this.getAggregation("_columns");s[s.length-1].focus();}};a.prototype.onsapleft=function(e){var c=this._getCurrentSlider(),i=-1,n=-1,s=this.getAggregation("_columns");if(c&&document.activeElement===c.getDomRef()){i=s.indexOf(c);n=i>0?i-1:s.length-1;s[n].focus();}};a.prototype.onsapright=function(e){var c=this._getCurrentSlider(),i=-1,n=-1,s=this.getAggregation("_columns");if(c&&document.activeElement===c.getDomRef()){i=s.indexOf(c);n=i<s.length-1?i+1:0;s[n].focus();}};a.prototype._onmousewheel=function(e){var c=this._getCurrentSlider();if(c){c._onmousewheel(e);}};a.prototype._onOrientationChanged=function(){var s=this.getAggregation("_columns");if(!s){return;}for(var i=0;i<s.length;i++){if(s[i].getIsExpanded()){s[i]._updateSelectionFrameLayout();}}};a.prototype._initFocus=function(s){if(sap.ui.Device.system.desktop&&!s){this.getAggregation("_columns")[0].focus();}else{this.getAggregation("_columns")[0].setIsExpanded(true);}};a.prototype._generatePickerListValues=function(f,t,s,l){var v=[],b;for(var i=f;i<=t;i+=1){if(i<10&&l){b="0"+i.toString();}else{b=i.toString();}var I=new V({key:i.toString(),text:b});if(i%s!==0){I.setVisible(false);}v.push(I);}return v;};a.prototype._setupLists=function(f){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m"),l=r.getText("TIMEPICKER_LBL_HOURS"),L=r.getText("TIMEPICKER_LBL_MINUTES"),s=r.getText("TIMEPICKER_LBL_SECONDS"),b=r.getText("TIMEPICKER_LBL_AMPM"),m=this.getMinutesStep(),c=this.getSecondsStep();if(f===undefined){return;}var h=false,H=false,F,t;if(f.indexOf("HH")!==-1){h=true;F=0;t=23;H=true;}else if(f.indexOf("H")!==-1){h=true;F=0;t=23;}else if(f.indexOf("hh")!==-1){h=true;F=1;t=12;H=true;}else if(f.indexOf("h")!==-1){h=true;F=1;t=12;}if(h){this.addAggregation("_columns",new T(this.getId()+"-listHours",{items:this._generatePickerListValues(F,t,1,H),expanded:q.proxy(o,this),label:l}));}if(f.indexOf("m")!==-1){var v=this._generatePickerListValues(0,59,m,true);this.addAggregation("_columns",new T(this.getId()+"-listMins",{items:v,expanded:q.proxy(o,this),label:L}));}if(f.indexOf("s")!==-1){var v=this._generatePickerListValues(0,59,c,true);this.addAggregation("_columns",new T(this.getId()+"-listSecs",{items:v,expanded:q.proxy(o,this),label:s}));}if(f.indexOf("a")!==-1){this.addAggregation("_columns",new T(this.getId()+"-listFormat",{items:[{key:"am",text:this._sAM},{key:"pm",text:this._sPM}],expanded:q.proxy(o,this),label:b,isCyclic:false}).addStyleClass("sapMTimePickerSliderShort"));}this.getAggregation("_columns")[0].setIsExpanded(true);function o(e){var d=this.getAggregation("_columns");for(var i=0;i<d.length;i++){if(d[i]!==e.oSource&&d[i].getIsExpanded()){d[i].setIsExpanded(false);}}}};a.prototype._getCurrentSlider=function(){var s=this.getAggregation("_columns");if(s){for(var i=0;i<s.length;i++){if(s[i].getIsExpanded()){return s[i];}}}return null;};return a;},false);
sap.ui.predefine('sap/m/TimePickerSlidersRenderer',['jquery.sap.global'],function(q){"use strict";var T={};T.render=function(r,c){var s=c.getAggregation("_columns"),l=c.getLabelText()||"",R=sap.ui.getCore().getLibraryResourceBundle("sap.m"),S,b=sap.ui.getCore().getConfiguration().getRTL();r.write("<div onselectstart=\"return false;\"");r.writeControlData(c);r.addClass("sapMTimePickerContainer");r.writeClasses();r.writeAccessibilityState(c,{label:(l+" "+R.getText("TIMEPICKER_SCREENREADER_TAG")).trim()});r.write(">");if(!sap.ui.Device.system.desktop){r.write("<div id=\""+c.getId()+"-label"+"\"");r.addClass("sapMTimePickerContainerLabel");r.writeClasses();r.write(">");r.addStyle("display","block");r.writeEscaped(l);r.write("</div>");}if(b){for(S=s.length-1;S>=0;S--){r.renderControl(s[S]);}}else{for(S=0;S<s.length;S++){r.renderControl(s[S]);}}r.write("</div>");};return T;},false);
sap.ui.predefine('sap/m/Title.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},rename:{changeType:"rename",domRef:function(c){return c.$().find("span")[0];}},reveal:{changeType:"unhideControl"}},name:{singular:"TITLE_NAME",plural:"TITLE_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/m/ToggleButton',['jquery.sap.global','./Button','./library','sap/ui/core/EnabledPropagator'],function(q,B,l,E){"use strict";var T=B.extend("sap.m.ToggleButton",{metadata:{library:"sap.m",properties:{pressed:{type:"boolean",group:"Data",defaultValue:false}}}});E.call(T.prototype);T.prototype.ontap=function(e){e.setMarked();if(this.getEnabled()){this.setPressed(!this.getPressed());this.firePress({pressed:this.getPressed()});}};T.prototype.setPressed=function(p){p=!!p;if(p!=this.getPressed()){this.setProperty("pressed",p,true);this.$().attr("aria-pressed",p);this.$("inner").toggleClass("sapMToggleBtnPressed",p&&!this._isUnstyled());}return this;};T.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.SPACE||e.which===q.sap.KeyCodes.ENTER){this.ontap(e);}};T.prototype.onkeyup=function(e){if(e.which===q.sap.KeyCodes.SPACE||e.which===q.sap.KeyCodes.ENTER){e.setMarked();}};T.prototype.getAccessibilityInfo=function(){var i=B.prototype.getAccessibilityInfo.apply(this,arguments);if(this.getPressed()){i.description=((i.description||"")+" "+sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_STATE_PRESSED")).trim();}return i;};return T;},true);
sap.ui.predefine('sap/m/ToggleButtonRenderer',['jquery.sap.global','./ButtonRenderer','sap/ui/core/Renderer'],function(q,B,R){"use strict";var T=R.extend(B);T.renderAccessibilityAttributes=function(r,t,a){a["pressed"]=t.getPressed();};T.renderButtonAttributes=function(r,t){if(t.getPressed()&&!t._isUnstyled()){r.addClass("sapMToggleBtnPressed");}};return T;},true);
sap.ui.predefine('sap/m/Token',['jquery.sap.global','./library','sap/ui/core/Control','./Tokenizer'],function(q,l,C,T){"use strict";var a=C.extend("sap.m.Token",{metadata:{library:"sap.m",properties:{selected:{type:"boolean",group:"Misc",defaultValue:false},key:{type:"string",group:"Misc",defaultValue:""},text:{type:"string",group:"Misc",defaultValue:""},editable:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:sap.ui.core.TextDirection.Inherit}},aggregations:{deleteIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{"delete":{},press:{},select:{},deselect:{}}}});var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");a.prototype._sAriaTokenLabelId=new sap.ui.core.InvisibleText({text:r.getText("TOKEN_ARIA_LABEL")}).toStatic().getId();a.prototype._sAriaTokenDeletableId=new sap.ui.core.InvisibleText({text:r.getText("TOKEN_ARIA_DELETABLE")}).toStatic().getId();a.prototype.init=function(){var t=this;this._deleteIcon=new sap.ui.core.Icon({id:t.getId()+"-icon",src:"sap-icon://sys-cancel",noTabStop:true,press:function(e){var p=t.getParent();t.fireDelete();if(p instanceof T){p._onTokenDelete(t);}e.preventDefault();}});this._deleteIcon.addStyleClass("sapMTokenIcon");this.setAggregation("deleteIcon",this._deleteIcon);this._deleteIcon.setUseIconTooltip(false);};a.prototype.ontouchstart=function(e){if(e.target.id===this.getId()+"-icon"){e.preventDefault();}};a.prototype.setSelected=function(s){if(this.getSelected()===s){return this;}var $=this.$();if($){$.toggleClass("sapMTokenSelected",s);$.attr('aria-selected',s);}this.setProperty("selected",s,true);return this;};a.prototype.setEditable=function(e){var p=this.getParent();this.setProperty("editable",e,true);this.$().toggleClass("sapMTokenReadOnly",!e);if(p instanceof T){p.invalidate();}return this;};a.prototype._onTokenPress=function(e){var s=this.getSelected(),c=e.ctrlKey||e.metaKey,S=e.shiftKey,n=true,p;if(c){n=!s;}this.setSelected(n);this.firePress();if(s!=n){if(n){this.fireSelect();}else{this.fireDeselect();}}p=this.getParent();if(p instanceof T){p._onTokenSelect(this,c,S);}if(this.getSelected()){this.focus();}};a.prototype._changeSelection=function(s){if(this.getSelected()==s){return;}this.setSelected(s);if(s){this.fireSelect();}else{this.fireDeselect();}};a.prototype.ontap=function(e){this._onTokenPress(e);};a.prototype.onsapfocusleave=function(e){if(this.getParent()instanceof T){return;}this.setSelected(false);};a.prototype.onsapbackspace=function(e){this._deleteToken(e);};a.prototype.onsapdelete=function(e){this._deleteToken(e);};a.prototype._deleteToken=function(e){if(this.getParent()instanceof T){return;}if(this.getEditable()){this.fireDelete();}e.preventDefault();};a.prototype.onsapspace=function(e){this._onTokenPress(e);if(e){e.preventDefault();e.stopPropagation();}};a.prototype.onkeydown=function(e){if((e.ctrlKey||e.metaKey)&&e.which===q.sap.KeyCodes.SPACE){this.onsapspace(e);e.preventDefault();}};return a;},true);
sap.ui.predefine('sap/m/TokenRenderer',['jquery.sap.global'],function(q){"use strict";var T={};T.render=function(r,c){r.write("<div tabindex=\"-1\"");r.writeControlData(c);r.addClass("sapMToken");r.writeAttribute("role","listitem");r.writeAttribute("aria-readonly",!c.getEditable());r.writeAttribute("aria-selected",c.getSelected());if(c.getSelected()){r.addClass("sapMTokenSelected");}if(!c.getEditable()){r.addClass("sapMTokenReadOnly");}r.writeClasses();var t=c.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}var a={};a.describedby={value:c._sAriaTokenLabelId,append:true};if(c.getEditable()){a.describedby={value:c._sAriaTokenDeletableId,append:true};}r.writeAccessibilityState(c,a);r.write(">");T._renderInnerControl(r,c);if(c.getEditable()){r.renderControl(c._deleteIcon);}r.write("</div>");};T._renderInnerControl=function(r,c){var t=c.getTextDirection();r.write("<span");r.addClass("sapMTokenText");r.writeClasses();if(t!==sap.ui.core.TextDirection.Inherit){r.writeAttribute("dir",t.toLowerCase());}r.write(">");var a=c.getText();if(a){r.writeEscaped(a);}r.write("</span>");};return T;},true);
sap.ui.predefine('sap/m/Tokenizer',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/delegate/ScrollEnablement','sap/ui/Device'],function(q,l,C,S,D){"use strict";var T=C.extend("sap.m.Tokenizer",{metadata:{library:"sap.m",properties:{editable:{type:"boolean",group:"Misc",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null}},defaultAggregation:"tokens",aggregations:{tokens:{type:"sap.m.Token",multiple:true,singularName:"token"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{tokenChange:{parameters:{type:{type:"string"},token:{type:"sap.m.Token"},tokens:{type:"sap.m.Token[]"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}},tokenUpdate:{type:{type:"string"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}}}});var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");T.prototype._sAriaTokenizerLabelId=new sap.ui.core.InvisibleText({text:r.getText("TOKENIZER_ARIA_LABEL")}).toStatic().getId();T.prototype.init=function(){this._bScrollToEndIsActive=false;this.bAllowTextSelection=false;this._aTokenValidators=[];this._oScroller=new S(this,this.getId()+"-scrollContainer",{horizontal:true,vertical:false,nonTouchScrolling:true});};T.prototype.getScrollDelegate=function(){return this._oScroller;};T.prototype.scrollToEnd=function(){if(!this._bScrollToEndIsActive){this._bScrollToEndIsActive=true;var t=this;var d=this.getDomRef();if(d){this._sResizeHandlerId=sap.ui.core.ResizeHandler.register(d,function(){t._doScrollToEnd();});}}this._doScrollToEnd();};T.prototype.setWidth=function(w){this.setProperty("width",w,true);this.$().css("width",this.getWidth());return this;};T.prototype.setPixelWidth=function(n){this._truncateLastToken(n);var w=(n/parseFloat(sap.m.BaseFontSize))+"rem";this.$().css("width",w);if(this._oScroller){this._oScroller.refresh();}};T.prototype._truncateLastToken=function(n){var a=this._removeLastTokensTruncation();if(a===null){return;}var t=this;var L=a.$();var s=null;s=function(){a.removeStyleClass("sapMTokenTruncate");this.$().removeAttr("style");this.detachSelect(s);t.scrollToEnd();};var w=L.width();if(!a.getSelected()&&n>=0&&w>=0&&n<w){L.outerWidth(n,true);a.addStyleClass("sapMTokenTruncate");a.attachSelect(s);}else{a.detachSelect(s);}this.scrollToEnd();};T.prototype._doScrollToEnd=function(){var t=this.getDomRef();if(!t){return;}var $=this.$();var s=$.find(".sapMTokenizerScrollContainer")[0];$[0].scrollLeft=s.scrollWidth;};T.prototype.scrollToStart=function(){this._deactivateScrollToEnd();var t=this.getDomRef();if(!t){return;}var m=q(t);m[0].scrollLeft=0;};T.prototype._deactivateScrollToEnd=function(){this._deregisterResizeHandler();this._bScrollToEndIsActive=false;};T.prototype._removeLastTokensTruncation=function(){var t=this.getTokens();var L=null;if(t.length>0){L=t[t.length-1];var $=L.$();if($.length>0){$[0].style.cssText="";}}return L;};T.prototype.getScrollWidth=function(){if(!this.getDomRef()){return 0;}this._removeLastTokensTruncation();return this.$().children(".sapMTokenizerScrollContainer")[0].scrollWidth;};T.prototype.onBeforeRendering=function(){this._deregisterResizeHandler();};T.prototype.onAfterRendering=function(){if(C.prototype.onAfterRendering){C.prototype.onAfterRendering.apply(this,arguments);}var t=this;if(this._bScrollToEndIsActive){this._sResizeHandlerId=sap.ui.core.ResizeHandler.register(this.getDomRef(),function(){t._doScrollToEnd();});}};T.prototype.invalidate=function(o){var p=this.getParent();if(p instanceof sap.m.MultiInput){p.invalidate(o);}else{C.prototype.invalidate.call(this,o);}};T.prototype.onsapfocusleave=function(e){if(document.activeElement==this.getDomRef()||!this._checkFocus()){this._changeAllTokensSelection(false);this._oSelectionOrigin=null;}};T.prototype.saptabnext=function(e){this._changeAllTokensSelection(false);};T.prototype.isAllTokenSelected=function(){if(this.getTokens().length===this.getSelectedTokens().length){return true;}return false;};T.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.TAB){this._changeAllTokensSelection(false);}if((e.ctrlKey||e.metaKey)&&e.which===q.sap.KeyCodes.A){this._iSelectedToken=this.getSelectedTokens().length;if(this.getTokens().length>0){this.focus();this._changeAllTokensSelection(true);e.preventDefault();}}if((e.ctrlKey||e.metaKey)&&(e.which===q.sap.KeyCodes.C||e.which===q.sap.KeyCodes.INSERT)){this._copy();}if(((e.ctrlKey||e.metaKey)&&e.which===q.sap.KeyCodes.X)||(e.shiftKey&&e.which===q.sap.KeyCodes.DELETE)){if(this.getEditable()){this._cut();}else{this._copy();}}};T.prototype._copy=function(){var s=this,c=function(e){var a=s.getSelectedTokens(),b="",t;for(var i=0;i<a.length;i++){t=a[i];b+=(i>0?"\r\n":"")+t.getText();}if(!b){return;}if(e.clipboardData){e.clipboardData.setData('text/plain',b);}else{e.originalEvent.clipboardData.setData('text/plain',b);}e.preventDefault();};document.addEventListener('copy',c);document.execCommand('copy');document.removeEventListener('copy',c);};T.prototype._cut=function(){var s=this;var c=function(e){var a=s.getSelectedTokens(),b="",d=[],t;for(var i=0;i<a.length;i++){t=a[i];b+=(i>0?"\r\n":"")+t.getText();if(t.getEditable()){s.removeToken(t);d.push(t);}}if(d.length>0){s.fireTokenUpdate({addedTokens:[],removedTokens:d,type:T.TokenUpdateType.Removed});}if(!b){return;}if(e.clipboardData){e.clipboardData.setData('text/plain',b);}else{e.originalEvent.clipboardData.setData('text/plain',b);}e.preventDefault();};document.addEventListener('cut',c);document.execCommand('cut');document.removeEventListener('cut',c);};T.prototype.onsapbackspace=function(e){if(this.getSelectedTokens().length===0){this.onsapprevious(e);}else if(this.getEditable()){this._removeSelectedTokens();}e.preventDefault();e.stopPropagation();};T.prototype.onsapdelete=function(e){if(this.getEditable()){this._removeSelectedTokens();}};T.prototype._ensureTokenVisible=function(t){var i=this.$().offset().left,a=t.$().offset().left;if(a<i){this.$().scrollLeft(this.$().scrollLeft()-i+a);}};T.prototype.onsapprevious=function(e){if(e.which===q.sap.KeyCodes.ARROW_UP){return;}var L=this.getTokens().length;if(L===0){return;}var f=q(document.activeElement).control()[0];if(f===this){return;}var i=f?this.getTokens().indexOf(f):-1;if(i==0){return;}if(i>0){var p=this.getTokens()[i-1];this._changeAllTokensSelection(false,p);p._changeSelection(true);p.focus();}else{var t=this.getTokens()[this.getTokens().length-1];t._changeSelection(true);t.focus();}this._deactivateScrollToEnd();e.setMarked();};T.prototype.onsapnext=function(e){if(e.which===q.sap.KeyCodes.ARROW_DOWN){return;}var L=this.getTokens().length;if(L===0){return;}var f=q(document.activeElement).control()[0];if(f===this){return;}var i=f?this.getTokens().indexOf(f):-1;if(i<L-1){var n=this.getTokens()[i+1];this._changeAllTokensSelection(false,n);n._changeSelection(true);n.focus();}else{return;}this._deactivateScrollToEnd();e.setMarked();};T.prototype.addValidator=function(v){if(typeof(v)==="function"){this._aTokenValidators.push(v);}};T.prototype.removeValidator=function(v){var i=this._aTokenValidators.indexOf(v);if(i!==-1){this._aTokenValidators.splice(i,1);}};T.prototype.removeAllValidators=function(){this._aTokenValidators=[];};T.prototype._validateToken=function(p,v){var t=p.token;var s;if(t&&t.getText()){s=t.getText();}else{s=p.text;}var V=p.validationCallback;var o=p.suggestionObject;var i,a,b;if(!v){v=this._aTokenValidators;}b=v.length;if(b===0){if(!t&&V){V(false);}return t;}for(i=0;i<b;i++){a=v[i];t=a({text:s,suggestedToken:t,suggestionObject:o,asyncCallback:this._getAsyncValidationCallback(v,i,s,o,V)});if(!t){if(V){V(false);}return null;}if(t===T.WaitForAsyncValidation){return null;}}return t;};T.prototype._getAsyncValidationCallback=function(v,V,i,s,f){var t=this,a;return function(o){if(o){v=v.slice(V+1);o=t._validateToken({text:i,token:o,suggestionObject:s,validationCallback:f},v);a=t._addUniqueToken(o,f);if(a){t.fireTokenUpdate({addedTokens:[o],removedTokens:[],type:T.TokenUpdateType.Added});}}else{if(f){f(false);}}};};T.prototype.addValidateToken=function(p){var t=this._validateToken(p);this._addUniqueToken(t,p.validationCallback);};T.prototype._addValidateToken=function(p){var t=this._validateToken(p),a=this._addUniqueToken(t,p.validationCallback);if(a){this.fireTokenUpdate({addedTokens:[t],removedTokens:[],type:T.TokenUpdateType.Added});}};T.prototype._addUniqueToken=function(t,v){if(!t){return false;}var a=this._tokenExists(t);if(a){return false;}this.addToken(t);if(v){v(true);}this.fireTokenChange({addedTokens:[t],removedTokens:[],type:T.TokenChangeType.TokensChanged});return true;};T.prototype._parseString=function(s){return s.split(/\r\n|\r|\n/g);};T.prototype._checkFocus=function(){return this.getDomRef()&&q.sap.containsOrEquals(this.getDomRef(),document.activeElement);};T.prototype._tokenExists=function(t){var a=this.getTokens();if(!(a&&a.length)){return false;}var k=t.getKey();if(!k){return false;}var b=a.length;for(var i=0;i<b;i++){var c=a[i];var d=c.getKey();if(d===k){return true;}}return false;};T.prototype.addToken=function(t,s){var p=this.getParent();if(p instanceof sap.m.MultiInput){if(p.getMaxTokens()!==undefined&&p.getTokens().length>=p.getMaxTokens()){return this;}}this.addAggregation("tokens",t,s);this._bScrollToEndIsActive=true;this.fireTokenChange({token:t,type:T.TokenChangeType.Added});return this;};T.prototype.removeToken=function(t){t=this.removeAggregation("tokens",t);this._bScrollToEndIsActive=true;this.fireTokenChange({token:t,type:T.TokenChangeType.Removed});return t;};T.prototype.setTokens=function(t){var o=this.getTokens();this.removeAllTokens(false);var i;for(i=0;i<t.length;i++){this.addToken(t[i],true);}this.invalidate();this._bScrollToEndIsActive=true;this.fireTokenChange({addedTokens:t,removedTokens:o,type:T.TokenChangeType.TokensChanged});};T.prototype.removeAllTokens=function(f){var t=this.getTokens();this.removeAllAggregation("tokens");if(typeof(f)==="boolean"&&!f){return;}this.fireTokenChange({addedTokens:[],removedTokens:t,type:T.TokenChangeType.TokensChanged});this.fireTokenChange({tokens:t,type:T.TokenChangeType.RemovedAll});};T.prototype.updateTokens=function(){this.destroyTokens();this.updateAggregation("tokens");};T.prototype._removeSelectedTokens=function(){var t=this.getSelectedTokens();var a,i,b;b=t.length;if(b===0){return this;}for(i=0;i<b;i++){a=t[i];if(a.getEditable()){a.destroy();}}this.scrollToEnd();this.fireTokenChange({addedTokens:[],removedTokens:t,type:T.TokenChangeType.TokensChanged});this.fireTokenUpdate({addedTokens:[],removedTokens:t,type:T.TokenUpdateType.Removed});var p=this.getParent();if(p&&p instanceof sap.m.MultiInput&&!p._bUseDialog){p.$('inner').focus();}this._doSelect();return this;};T.prototype.selectAllTokens=function(s){if(s===undefined){s=true;}var t=this.getTokens(),a=t.length,i;for(i=0;i<a;i++){t[i].setSelected(s);}this._doSelect();return this;};T.prototype._changeAllTokensSelection=function(s,a){var t=this.getTokens(),b=t.length,c,i;for(i=0;i<b;i++){c=t[i];if(c!==a){c._changeSelection(s);}}this._doSelect();return this;};T.prototype.getSelectedTokens=function(){var s=[],t=this.getTokens(),i,a,b=t.length;for(i=0;i<b;i++){a=t[i];if(a.getSelected()){s.push(a);}}return s;};T.prototype._onTokenDelete=function(t){if(t&&this.getEditable()){t.destroy();this.fireTokenChange({addedTokens:[],removedTokens:[t],type:T.TokenChangeType.TokensChanged});this.fireTokenUpdate({addedTokens:[],removedTokens:[t],type:T.TokenUpdateType.Removed});}};T.prototype._onTokenSelect=function(t,c,s){var a=this.getTokens(),o,i;if(s){var f=this._getFocusedToken();if(!f){this._oSelectionOrigin=null;return;}if(this._oSelectionOrigin){f=this._oSelectionOrigin;}else{this._oSelectionOrigin=f;}var F=this.indexOfToken(f),I=this.indexOfToken(t),m=Math.min(F,I),M=Math.max(F,I);for(i=0;i<a.length;i++){o=a[i];if(i>=m&&i<=M){o._changeSelection(true);}else if(!c){o._changeSelection(false);}}return;}this._oSelectionOrigin=null;if(c){return;}this._oSelectionOrigin=t;for(i=0;i<a.length;i++){o=a[i];if(o!==t){o._changeSelection(false);}}};T.prototype._getFocusedToken=function(){var f=sap.ui.getCore().byId(document.activeElement.id);if(!f||!(f instanceof sap.m.Token)||this.indexOfToken(f)==-1){return null;}return f;};T.prototype.setEditable=function(e){this.$().toggleClass("sapMTokenizerReadonly",!e);return this.setProperty("editable",e,true);};T.prototype.onsaphome=function(e){this.scrollToStart();};T.prototype.onsapend=function(e){this.scrollToEnd();};T.prototype.ontouchstart=function(e){if(D.browser.chrome&&window.getSelection()){window.getSelection().removeAllRanges();}};T.prototype.exit=function(){this._deregisterResizeHandler();};T.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){sap.ui.core.ResizeHandler.deregister(this._sResizeHandlerId);delete this._sResizeHandlerId;}};T.prototype._doSelect=function(){if(this._checkFocus()&&this._bCopyToClipboardSupport){var f=document.activeElement;var s=window.getSelection();s.removeAllRanges();if(this.getSelectedTokens().length){var R=document.createRange();R.selectNodeContents(this.getDomRef("clip"));s.addRange(R);}if(window.clipboardData&&document.activeElement.id==this.getId()+"-clip"){q.sap.focus(f.id==this.getId()+"-clip"?this.getDomRef():f);}}};T.prototype.getReverseTokens=function(){return!!this._reverseTokens;};T.prototype.setReverseTokens=function(R){this._reverseTokens=R;};T.TokenChangeType={Added:"added",Removed:"removed",RemovedAll:"removedAll",TokensChanged:"tokensChanged"};T.TokenUpdateType={Added:"added",Removed:"removed"};T.WaitForAsyncValidation="sap.m.Tokenizer.WaitForAsyncValidation";return T;},true);
sap.ui.predefine('sap/m/TokenizerRenderer',['jquery.sap.global','sap/ui/Device'],function(q,D){"use strict";var T={};T.render=function(r,c){if(c.getParent()&&(c.getParent()instanceof sap.m.MultiInput||c.getParent()instanceof sap.m.MultiComboBox)){r.write("<div ");}else{r.write("<div tabindex=\"0\"");}r.writeControlData(c);r.addClass("sapMTokenizer");if(!c.getEditable()){r.addClass("sapMTokenizerReadonly");}var t=c.getTokens();if(!t.length){r.addClass("sapMTokenizerEmpty");}var p=c.getWidth();if(p){r.addStyle("width",p);r.writeStyles();}r.writeClasses();r.writeAttribute("role","list");var a={};a.labelledby={value:c._sAriaTokenizerLabelId,append:true};r.writeAccessibilityState(c,a);r.write(">");c._bCopyToClipboardSupport=false;if((D.system.desktop||D.system.combi)&&t.length){r.write("<div id='"+c.getId()+"-clip' class='sapMTokenizerClip'");if(window.clipboardData){r.writeAttribute("contenteditable","true");r.writeAttribute("tabindex","-1");}r.write(">&nbsp;</div>");c._bCopyToClipboardSupport=true;}var C="class=\"sapMTokenizerScrollContainer\">";var s=" ";var i="id="+c.getId()+"-scrollContainer";r.write("<div"+s+i+s+C);T._renderTokens(r,c);r.write("</div>");r.write("</div>");};T._renderTokens=function(r,c){var i=0,t=c.getTokens(),l=t.length;if(c.getReverseTokens()){for(i=l-1;i>-1;i--){r.renderControl(t[i]);}}else{for(i=0;i<l;i++){r.renderControl(t[i]);}}};return T;},true);
sap.ui.predefine('sap/m/Toolbar.designtime',[],function(){"use strict";return{aggregations:{content:{domRef:":sap-domref",actions:{move:"moveControls"}}}};},false);
sap.ui.predefine('sap/m/Toolbar',['jquery.sap.global','./BarInPageEnabler','./ToolbarLayoutData','./ToolbarSpacer','./library','sap/ui/core/Control','sap/ui/core/EnabledPropagator','sap/ui/core/ResizeHandler'],function(q,B,T,a,l,C,E,R){"use strict";var b=sap.m.ToolbarDesign;var c=C.extend("sap.m.Toolbar",{metadata:{interfaces:["sap.ui.core.Toolbar","sap.m.IBar"],library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},active:{type:"boolean",group:"Behavior",defaultValue:false},enabled:{type:"boolean",group:"Behavior",defaultValue:true},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:''},design:{type:"sap.m.ToolbarDesign",group:"Appearance",defaultValue:b.Auto}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{parameters:{srcControl:{type:"sap.ui.core.Control"}}}},designTime:true}});E.call(c.prototype);c.shrinkClass="sapMTBShrinkItem";c.isRelativeWidth=function(w){return/^([-+]?\d+%|auto|inherit|)$/i.test(w);};c.getOrigWidth=function(i){var o=sap.ui.getCore().byId(i);if(!o||!o.getWidth){return"";}return o.getWidth();};c.checkShrinkable=function(o,s){if(o instanceof a){return this.isRelativeWidth(o.getWidth());}s=s||this.shrinkClass;o.removeStyleClass(s);var w=this.getOrigWidth(o.getId());if(!this.isRelativeWidth(w)){return;}var L=o.getLayoutData();if(L instanceof T){return L.getShrinkable()&&o.addStyleClass(s);}if(w.indexOf("%")>0||o.getMetadata().isInstanceOf("sap.ui.core.IShrinkable")){return o.addStyleClass(s);}var d=o.getDomRef();if(d&&(d.firstChild||{}).nodeType==3){return o.addStyleClass(s);}};c.hasNewFlexBoxSupport=(function(){var s=document.documentElement.style;return(s.flex!==undefined||s.webkitFlexShrink!==undefined);}());c.prototype.init=function(){this.data("sap-ui-fastnavgroup","true",true);this._oContentDelegate={onAfterRendering:this._onAfterContentRendering};};c.prototype.onBeforeRendering=function(){this._cleanup();};c.prototype.onAfterRendering=function(){if(!this._checkContents()){return;}this._doLayout();};c.prototype.exit=function(){this._cleanup();};c.prototype.onLayoutDataChange=function(){this.rerender();};c.prototype.addContent=function(o){this.addAggregation("content",o);this._onContentInserted(o);return this;};c.prototype.insertContent=function(o,i){this.insertAggregation("content",o,i);this._onContentInserted(o);return this;};c.prototype.removeContent=function(v){v=this.removeAggregation("content",v);this._onContentRemoved(v);return v;};c.prototype.removeAllContent=function(){var d=this.removeAllAggregation("content")||[];d.forEach(this._onContentRemoved,this);return d;};c.prototype.ontap=function(e){if(this.getActive()&&!e.isMarked()){e.setMarked();this.firePress({srcControl:e.srcControl});}};c.prototype.onsapenter=function(e){if(this.getActive()&&e.srcControl===this&&!e.isMarked()){e.setMarked();this.firePress({srcControl:this});}};c.prototype.onsapspace=c.prototype.onsapenter;c.prototype.ontouchstart=function(e){this.getActive()&&e.setMarked();};c.prototype._checkContents=function(){var s=0;this.getContent().forEach(function(o){if(c.checkShrinkable(o)){s++;}});return s;};c.prototype._doLayout=function(){if(c.hasNewFlexBoxSupport){return;}this._resetOverflow();};c.prototype._resetOverflow=function(){this._deregisterResize();var t=this.$();var d=t[0]||{};t.removeClass("sapMTBOverflow");var o=d.scrollWidth>d.clientWidth;o&&t.addClass("sapMTBOverflow");this._iEndPoint=this._getEndPoint();this._registerResize();};c.prototype._onContentInserted=function(o){if(o){o.attachEvent("_change",this._onContentPropertyChanged,this);o.addEventDelegate(this._oContentDelegate,o);}};c.prototype._onContentRemoved=function(o){if(o){o.detachEvent("_change",this._onContentPropertyChanged,this);o.removeEventDelegate(this._oContentDelegate,o);}};c.prototype._onAfterContentRendering=function(){var L=this.getLayoutData();if(L instanceof T){L.applyProperties();}};c.prototype._onContentPropertyChanged=function(e){if(e.getParameter("name")!="width"){return;}var o=e.getSource();var p=o.getWidth().indexOf("%")>0;o.toggleStyleClass(c.shrinkClass,p);};c.prototype._registerContentResize=function(){sap.ui.getCore().attachIntervalTimer(this._handleContentResize,this);};c.prototype._deregisterContentResize=function(){sap.ui.getCore().detachIntervalTimer(this._handleContentResize,this);};c.prototype._registerToolbarResize=function(){if(c.isRelativeWidth(this.getWidth())){var r=q.proxy(this._handleToolbarResize,this);this._sResizeListenerId=R.register(this,r);}};c.prototype._deregisterToolbarResize=function(){sap.ui.getCore().detachIntervalTimer(this._handleContentResize,this);if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId="";}};c.prototype._registerResize=function(){this._registerToolbarResize();this._registerContentResize();};c.prototype._deregisterResize=function(){this._deregisterToolbarResize();this._deregisterContentResize();};c.prototype._cleanup=function(){this._deregisterResize();};c.prototype._getEndPoint=function(){var L=(this.getDomRef()||{}).lastElementChild;if(L){var e=L.offsetLeft;if(!sap.ui.getCore().getConfiguration().getRTL()){e+=L.offsetWidth;}}return e||0;};c.prototype._handleToolbarResize=function(){this._handleResize(false);};c.prototype._handleContentResize=function(){this._handleResize(true);};c.prototype._handleResize=function(d){if(d&&this._iEndPoint==this._getEndPoint()){return;}this._doLayout();};c.prototype.setDesign=function(d,s){if(!s){return this.setProperty("design",d);}this._sAutoDesign=this.validateProperty("design",d);return this;};c.prototype.getActiveDesign=function(){var d=this.getDesign();if(d!=b.Auto){return d;}return this._sAutoDesign||d;};c.prototype.getTitleControl=function(){if(!sap.m.Title){return;}var d=this.getContent();for(var i=0;i<d.length;i++){var o=d[i];if(o instanceof sap.m.Title&&o.getVisible()){return o;}}};c.prototype.getTitleId=function(){var t=this.getTitleControl();return t?t.getId():"";};c.prototype.isContextSensitive=B.prototype.isContextSensitive;c.prototype.setHTMLTag=B.prototype.setHTMLTag;c.prototype.getHTMLTag=B.prototype.getHTMLTag;c.prototype.applyTagAndContextClassFor=B.prototype.applyTagAndContextClassFor;c.prototype._setLandmarkInfo=B.prototype._setLandmarkInfo;c.prototype._writeLandmarkInfo=B.prototype._writeLandmarkInfo;return c;},true);
sap.ui.predefine('sap/m/ToolbarLayoutData',['jquery.sap.global','./library','sap/ui/core/LayoutData'],function(q,l,L){"use strict";var T=L.extend("sap.m.ToolbarLayoutData",{metadata:{library:"sap.m",properties:{shrinkable:{type:"boolean",group:"Behavior",defaultValue:false},minWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null}}}});T.prototype.getParentStyle=function(){var p=this.getParent();if(!p||!p.getDomRef){return{};}var d=p.getDomRef();return d?d.style:{};};T.prototype.applyProperties=function(){var s=this.getParentStyle();s.minWidth=this.getMinWidth();s.maxWidth=this.getMaxWidth();return this;};return T;},true);
sap.ui.predefine('sap/m/ToolbarRenderer',['jquery.sap.global','./BarInPageEnabler'],function(q,B){"use strict";var T={};T.render=B.prototype.render;T.decorateRootElement=function(r,t){r.addClass("sapMTB");var c=t.getContent();if(t.getActive()&&(!c||c.length===0)){r.writeAccessibilityState(t,{role:"button"});}else{t._writeLandmarkInfo(r,t);}if(!sap.m.Toolbar.hasNewFlexBoxSupport){r.addClass("sapMTBOldFlex");}else{r.addClass("sapMTBNewFlex");}if(t.getActive()){r.addClass("sapMTBActive");r.writeAttribute("tabindex","0");}else{r.addClass("sapMTBInactive");}r.addClass("sapMTB-"+t.getActiveDesign()+"-CTX");var w=t.getWidth();var h=t.getHeight();w&&r.addStyle("width",w);h&&r.addStyle("height",h);};T.renderBarContent=function(r,t){t.getContent().forEach(function(c){sap.m.BarInPageEnabler.addChildClassTo(c,t);r.renderControl(c);});};T.shouldAddIBarContext=function(c){return false;};return T;},true);
sap.ui.predefine('sap/m/ToolbarSeparator',['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var T=C.extend("sap.m.ToolbarSeparator",{metadata:{library:"sap.m"}});return T;},true);
sap.ui.predefine('sap/m/ToolbarSeparatorRenderer',['jquery.sap.global','sap/ui/core/Renderer'],function(q,R){"use strict";var T={};T.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapMTBSeparator");r.writeAccessibilityState(c,{role:"separator"});r.writeClasses();r.write("></div>");};return T;},true);
sap.ui.predefine('sap/m/ToolbarSpacer',['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var T=C.extend("sap.m.ToolbarSpacer",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:''}}}});T.flexClass="sapMTBSpacerFlex";return T;},true);
sap.ui.predefine('sap/m/ToolbarSpacerRenderer',['jquery.sap.global','sap/ui/core/Renderer'],function(q,R){"use strict";var T={};T.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapMTBSpacer");var w=c.getWidth();if(w){r.addStyle("width",w);}else{r.addClass(sap.m.ToolbarSpacer.flexClass);}r.writeStyles();r.writeClasses();r.write("></div>");};return T;},true);
sap.ui.predefine('sap/m/Tree',['jquery.sap.global','./ListBase','./TreeItemBase','./library','sap/ui/core/Element','sap/ui/model/ClientTreeBindingAdapter','sap/ui/model/TreeBindingCompatibilityAdapter','sap/ui/base/ManagedObjectMetadata','sap/ui/model/odata/ODataTreeBinding','sap/ui/model/odata/v2/ODataTreeBinding','sap/ui/model/ClientTreeBinding'],function(q,L,T,l,E,C,a,M,O,V,b){"use strict";var c=L.extend("sap.m.Tree",{metadata:{library:"sap.m"}});c.prototype.isTreeBinding=function(n){return(n=="items");};c.prototype.getBinding=function(n){n=n||"items";var B=L.prototype.getBinding.call(this,n);if(B&&n==="items"&&!B.getLength){if(O&&B instanceof O){a(B,this);}else if(V&&B instanceof V){B.applyAdapterInterface();}else if(b&&B instanceof b){C.apply(B);}else{q.sap.log.error("TreeBinding is not supported for the control "+this);}}return B;};c.prototype.updateItems=function(r){var B=this.getBindingInfo("items"),o=this.getBinding("items"),f=B.factory,d;function u(e,d){var g=e.getItems()||[],h,j;if(g.length>d.length){for(var i=d.length;i<g.length;i++){e.removeItem(g[i]);g[i].destroy("KeepDom");}}for(var i=0;i<d.length;i++){h=d[i];j=g[i];if(j){j.setBindingContext(h,B.model);}else{j=f(e.getId()+"-"+i,h);j.setBindingContext(h,B.model);e.addItem(j);}}}d=o.getContexts(0,Number.MAX_SAFE_INTEGER);if(!B.template){this.destroyItems();}u(this,d);};c.prototype.validateAggregation=function(A,o,m){var r=L.prototype.validateAggregation.apply(this,arguments);if(A==="items"&&!(o instanceof T)){throw new Error(o+" is not a valid items aggregation of "+this+". Items aggregation in Tree control only supports TreeItemBase-based objects, e.g. StandardTreeItem.");}return r;};c.prototype.onItemExpanderPressed=function(i,e){var I=this.indexOfItem(i);var B=this.getBindingInfo("items");if(B&&i&&i.getBindingContext(B.model)){if(e==undefined){this.getBinding("items").toggleIndex(I);}else if(e){this.getBinding("items").expand(I);}else{this.getBinding("items").collapse(I);}}};c.prototype.setGrowing=function(){q.sap.log.error("Growing feature of "+this+" is not supported!");return this;};c.prototype.setGrowingThreshold=function(){q.sap.log.error("GrowingThreshold of "+this+" is not supported!");return this;};c.prototype.setGrowingTriggerText=function(){q.sap.log.error("GrowingTriggerText of "+this+" is not supported!");return this;};c.prototype.setGrowingScrollToLoad=function(){q.sap.log.error("GrowingScrollToLoad of "+this+" is not supported!");return this;};c.prototype.setGrowingDirection=function(){q.sap.log.error("GrowingDirection of "+this+" is not supported!");return this;};c.prototype.expandToLevel=function(i){var B=this.getBinding("items");if(B&&B.expandToLevel&&B.getNumberOfExpandedLevels){if(B.getNumberOfExpandedLevels()>i){B.collapseToLevel(0);}B.expandToLevel(i);}return this;};c.prototype.collapseAll=function(){var B=this.getBinding("items");if(B){B.collapseToLevel(0);}return this;};c.prototype.getAccessibilityType=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_TREE");};return c;},true);
sap.ui.predefine('sap/m/TreeItemBase',['jquery.sap.global','./ListItemBase','./library','sap/ui/core/EnabledPropagator','sap/ui/core/IconPool','sap/ui/core/Icon'],function(q,L,l,E,I,a){"use strict";var T=L.extend("sap.m.TreeItemBase",{metadata:{library:"sap.m"}});T.prototype.ExpandedIconURI=I.getIconURI("navigation-down-arrow");T.prototype.CollapsedIconURI=I.getIconURI("navigation-right-arrow");T.prototype.getTree=function(){var p=this.getParent();if(p instanceof sap.m.Tree){return p;}};T.prototype.getList=T.prototype.getTree;T.prototype.informTree=T.prototype.informList;T.prototype.getItemNodeContext=function(){var t=this.getTree();var c=null;var b=null;if(t){b=t.getBinding("items");c=b.getNodeByIndex(t.indexOfItem(this));}return c;};T.prototype.getParentNode=function(){if(this.isTopLevel()){return;}var t=this.getTree(),n=this.getLevel(),p=null,i=t.indexOfItem(this)-1,b=t.getItems(),c;while(i>=0){c=b[i].getLevel();if(c===n-1){p=b[i];break;}i--;}return p;};T.prototype.getParentNodeContext=function(){return this.getItemNodeContext().parent;};T.prototype.isLeaf=function(){return(this.getItemNodeContext()||{}).isLeaf;};T.prototype.isTopLevel=function(){return(this.getLevel()===0);};T.prototype.getLevel=function(){return(this.getItemNodeContext()||{}).level;};T.prototype.getExpanded=function(){var e=false;if(this.getItemNodeContext()&&this.getItemNodeContext().nodeState){e=this.getItemNodeContext().nodeState.expanded;}return e;};T.prototype.setSelected=function(s){L.prototype.setSelected.apply(this,arguments);var t=this.getTree();var b=null;var i=-1;if(t){b=t.getBinding("items");i=t.indexOfItem(this);if(t.getMode()===sap.m.ListMode.SingleSelect){b.setSelectedIndex(i);}if(t.getMode()===sap.m.ListMode.MultiSelect){if(s){b.addSelectionInterval(i,i);}else{b.removeSelectionInterval(i,i);}}}return this;};T.prototype._getExpanderControl=function(){var s="";if(!this.isLeaf()){s=this.getExpanded()?this.ExpandedIconURI:this.CollapsedIconURI;}if(this._oExpanderControl){this._oExpanderControl.setSrc(s);return this._oExpanderControl;}this._oExpanderControl=new a({id:this.getId()+"-expander",src:s,useIconTooltip:false,noTabStop:true}).setParent(this,null,true).addStyleClass("sapMTreeItemBaseExpander").attachPress(function(e){this.informTree("ExpanderPressed");},this);return this._oExpanderControl;};T.prototype._updateExpander=function(){if(this._oExpanderControl){var s="";if(!this.isLeaf()){s=this.getExpanded()?this.ExpandedIconURI:this.CollapsedIconURI;}this._oExpanderControl.setSrc(s);}};T.prototype.setBindingContext=function(){L.prototype.setBindingContext.apply(this,arguments);this._updateExpander();return this;};T.prototype._getLevelIndentCSS=function(){return this.getLevel();};T.prototype.onsapplus=function(e){this.informTree("ExpanderPressed",true);};T.prototype.onsapminus=function(e){this.informTree("ExpanderPressed",false);};T.prototype.onsapright=function(e){if(this.isLeaf()){return;}if(!this.getExpanded()){this.informTree("ExpanderPressed",true);}else{e.keyCode=q.sap.KeyCodes.ARROW_DOWN;}};T.prototype.onsapleft=function(e){if(this.isTopLevel()&&!this.getExpanded()){return;}if(!this.isLeaf()){if(this.getExpanded()){this.informTree("ExpanderPressed",false);}else{this.getParentNode().focus();}}else{this.getParentNode().focus();}};T.prototype.onsapbackspace=function(e){if(!this.isTopLevel()){this.getParentNode().focus();}};T.prototype.getAccessibilityType=function(b){return b.getText("ACC_CTR_TYPE_TREEITEM");};T.prototype.exit=function(){L.prototype.exit.apply(this,arguments);this.destroyControls(["Expander"]);};return T;},true);
sap.ui.predefine('sap/m/TreeItemBaseRenderer',['jquery.sap.global','./ListItemBaseRenderer','sap/ui/core/Renderer'],function(q,L,R){"use strict";var T=R.extend(L);T.renderLIAttributes=function(r,l){r.addClass("sapMTreeItemBase");if(!l.isTopLevel()){r.addClass("sapMTreeItemBaseChildren");}var i=l._getLevelIndentCSS();if(sap.ui.getCore().getConfiguration().getRTL()){r.addStyle("padding-right",i+"rem");}else{r.addStyle("padding-left",i+"rem");}};T.renderContentFormer=function(r,l){this.renderHighlight(r,l);this.renderExpander(r,l);this.renderMode(r,l,-1);};T.renderExpander=function(r,l){var e=l._getExpanderControl();if(e){r.renderControl(e);}};T.getAriaRole=function(l){return"treeitem";};T.getAccessibilityState=function(l){var a=L.getAccessibilityState.call(this,l);a.level=l.getLevel()+1;a.expanded=l.getExpanded();return a;};return T;},true);
sap.ui.predefine('sap/m/TreeRenderer',['sap/ui/core/Renderer','./ListBaseRenderer'],function(R,L){"use strict";var T=R.extend(L);T.getAriaRole=function(c){return"tree";};return T;},true);
sap.ui.predefine('sap/m/UploadCollection',['jquery.sap.global','./MessageBox','./Dialog','./library','sap/ui/core/Control','sap/ui/core/Icon','sap/m/Text','sap/m/List','sap/ui/unified/FileUploaderParameter',"sap/ui/unified/FileUploader",'sap/ui/core/format/FileSizeFormat','sap/m/Link','sap/m/OverflowToolbar','./ObjectAttribute','./ObjectStatus',"./UploadCollectionItem","sap/ui/core/HTML","./BusyIndicator","./CustomListItem","sap/ui/core/ResizeHandler","sap/ui/Device","./CustomListItemRenderer","sap/ui/core/HTMLRenderer","./LinkRenderer","./ObjectAttributeRenderer","./ObjectStatusRenderer","./ObjectMarkerRenderer","./TextRenderer","./DialogRenderer"],function(q,M,D,L,C,I,T,a,F,b,c,d,O,f,g,U,H,B,h,R,k){"use strict";var l=C.extend("sap.m.UploadCollection",{constructor:function(i,s){var j;if(s&&s.instantUpload===false){j=s.instantUpload;delete s.instantUpload;}else if(i&&i.instantUpload===false){j=i.instantUpload;delete i.instantUpload;}if(s&&s.mode===sap.m.ListMode.MultiSelect&&j===false){s.mode=sap.m.ListMode.None;q.sap.log.info("sap.m.ListMode.MultiSelect is not supported by UploadCollection for Upload Pending scenario. Value has been resetted to 'None'");}else if(i&&i.mode===sap.m.ListMode.MultiSelect&&j===false){i.mode=sap.m.ListMode.None;q.sap.log.info("sap.m.ListMode.MultiSelect is not supported by UploadCollection for Upload Pending scenario. Value has been resetted to 'None'");}try{C.apply(this,arguments);if(j===false){this.bInstantUpload=j;this._oFormatDecimal=c.getInstance({binaryFilesize:false,maxFractionDigits:1,maxIntegerDigits:3});}}catch(e){this.destroy();throw e;}},metadata:{library:"sap.m",properties:{fileType:{type:"string[]",group:"Data",defaultValue:null},maximumFilenameLength:{type:"int",group:"Data",defaultValue:null},maximumFileSize:{type:"float",group:"Data",defaultValue:null},mimeType:{type:"string[]",group:"Data",defaultValue:null},multiple:{type:"boolean",group:"Behavior",defaultValue:false},noDataText:{type:"string",group:"Appearance",defaultValue:null},noDataDescription:{type:"string",group:"Appearance",defaultValue:null},sameFilenameAllowed:{type:"boolean",group:"Behavior",defaultValue:false},showSeparators:{type:"sap.m.ListSeparators",group:"Appearance",defaultValue:sap.m.ListSeparators.All},uploadEnabled:{type:"boolean",group:"Behavior",defaultValue:true},uploadUrl:{type:"string",group:"Data",defaultValue:"../../../upload"},instantUpload:{type:"boolean",group:"Behavior",defaultValue:true},numberOfAttachmentsText:{type:"string",group:"Appearance",defaultValue:null},mode:{type:"sap.m.ListMode",group:"Behavior",defaultValue:"None"},uploadButtonInvisible:{type:"boolean",group:"Appearance",defaultValue:false},terminationEnabled:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.UploadCollectionItem",multiple:true,singularName:"item",bindable:"bindable"},headerParameters:{type:"sap.m.UploadCollectionParameter",multiple:true,singularName:"headerParameter"},parameters:{type:"sap.m.UploadCollectionParameter",multiple:true,singularName:"parameter"},toolbar:{type:"sap.m.OverflowToolbar",multiple:false},infoToolbar:{type:"sap.m.Toolbar",multiple:false},_list:{type:"sap.m.List",multiple:false,visibility:"hidden"},_noDataIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_dragDropIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_dragDropText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{change:{parameters:{documentId:{type:"string"},files:{type:"object[]"}}},fileDeleted:{parameters:{documentId:{type:"string"},item:{type:"sap.m.UploadCollectionItem"}}},filenameLengthExceed:{parameters:{documentId:{type:"string"},files:{type:"object[]"}}},fileRenamed:{parameters:{documentId:{type:"string"},fileName:{type:"string"},item:{type:"sap.m.UploadCollectionItem"}}},fileSizeExceed:{parameters:{documentId:{type:"string"},fileSize:{type:"string"},files:{type:"object[]"}}},typeMissmatch:{parameters:{documentId:{type:"string"},fileType:{type:"string"},mimeType:{type:"string"},files:{type:"object[]"}}},uploadComplete:{parameters:{readyStateXHR:{type:"string"},response:{type:"string"},status:{type:"string"},files:{type:"object[]"}}},uploadTerminated:{parameters:{fileName:{type:"string"},getHeaderParameter:{type:"function",parameters:{headerParameterName:{type:"string"}}}}},beforeUploadStarts:{parameters:{fileName:{type:"string"},addHeaderParameter:{type:"function",parameters:{headerParameter:{type:"sap.m.UploadCollectionParameter"}}},getHeaderParameter:{type:"function",parameters:{headerParameterName:{type:"string"}}}}},selectionChange:{parameters:{selectedItem:{type:"sap.m.UploadCollectionItem"},selectedItems:{type:"sap.m.UploadCollectionItem[]"},selected:{type:"boolean"}}}}}});l._uploadingStatus="uploading";l._displayStatus="display";l._toBeDeletedStatus="toBeDeleted";l._pendingUploadStatus="pendingUploadStatus";l._placeholderCamera='sap-icon://camera';l._markerMargin=8;if(k.system.phone){l._resizeTimeoutInterval=500;}else{l._resizeTimeoutInterval=100;}l.prototype.init=function(){l.prototype._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._headerParamConst={requestIdName:"requestId"+q.now(),fileNameRequestIdName:"fileNameRequestId"+q.now()};this._requestIdValue=0;this._iFUCounter=0;this._oList=new a(this.getId()+"-list");this.setAggregation("_list",this._oList,true);this._oList.addStyleClass("sapMUCList");this.setAggregation("_noDataIcon",new I(this.getId()+"-no-data-icon",{src:"sap-icon://document",size:"6rem",noTabStop:true}),true);this.setAggregation("_dragDropIcon",new I(this.getId()+"-drag-drop-icon",{src:"sap-icon://upload-to-cloud",size:"4rem",noTabStop:true}),true);this.setAggregation("_dragDropText",new T(this.getId()+"-drag-drop-text",{text:this._oRb.getText("UPLOADCOLLECTION_DRAG_FILE_INDICATOR")}),true);this._iUploadStartCallCounter=0;this.aItems=[];this._aDeletedItemForPendingUpload=[];this._aFileUploadersForPendingUpload=[];this._aFilesFromDragAndDropForPendingUpload=[];this._iFileUploaderPH=null;this._oListEventDelegate=null;this._oItemToUpdate=null;this._sReziseHandlerId=null;};l.prototype.setFileType=function(e){if(!e){return this;}if(!this.getInstantUpload()){q.sap.log.info("As property instantUpload is false it is not allowed to change fileType at runtime.");}else{var j=e.length;for(var i=0;i<j;i++){e[i]=e[i].toLowerCase();}this.setProperty("fileType",e);if(this._getFileUploader().getFileType()!==e){this._getFileUploader().setFileType(e);}}return this;};l.prototype.setMaximumFilenameLength=function(m){if(!this.getInstantUpload()){q.sap.log.info("As property instantUpload is false it is not allowed to change maximumFilenameLength at runtime.");}else{this.setProperty("maximumFilenameLength",m,true);if(this._getFileUploader().getMaximumFilenameLength()!==m){this._getFileUploader().setMaximumFilenameLength(m);}}return this;};l.prototype.setMaximumFileSize=function(m){if(!this.getInstantUpload()){q.sap.log.info("As property instantUpload is false it is not allowed to change maximumFileSize at runtime.");}else{this.setProperty("maximumFileSize",m,true);if(this._getFileUploader().getMaximumFileSize()!==m){this._getFileUploader().setMaximumFileSize(m);}}return this;};l.prototype.setMimeType=function(m){if(!this.getInstantUpload()){q.sap.log.info("As property instantUpload is false it is not allowed to change mimeType at runtime.");}else{this.setProperty("mimeType",m);if(this._getFileUploader().getMimeType()!==m){this._getFileUploader().setMimeType(m);}return this;}};l.prototype.setMultiple=function(m){if(!this.getInstantUpload()){q.sap.log.info("As property instantUpload is false it is not allowed to change multiple at runtime.");}else{this.setProperty("multiple",m);if(this._getFileUploader().getMultiple()!==m){this._getFileUploader().setMultiple(m);}return this;}};l.prototype.setShowSeparators=function(s){this.setProperty("showSeparators",s);if(this._oList.getShowSeparators()!==s){this._oList.setShowSeparators(s);}return this;};l.prototype.setUploadEnabled=function(u){if(!this.getInstantUpload()){q.sap.log.info("As property instantUpload is false it is not allowed to change uploadEnabled at runtime.");}else{this.setProperty("uploadEnabled",u);if(this._getFileUploader().getEnabled()!==u){this._getFileUploader().setEnabled(u);}}return this;};l.prototype.setUploadUrl=function(u){if(!this.getInstantUpload()){q.sap.log.info("As property instantUpload is false it is not allowed to change uploadUrl at runtime.");}else{this.setProperty("uploadUrl",u);if(this._getFileUploader().getUploadUrl()!==u){this._getFileUploader().setUploadUrl(u);}}return this;};l.prototype.setInstantUpload=function(){q.sap.log.error("It is not supported to change the behavior at runtime.");return this;};l.prototype.setMode=function(m){if(m===sap.m.ListMode.Delete){this._oList.setMode(sap.m.ListMode.None);q.sap.log.info("sap.m.ListMode.Delete is not supported by UploadCollection. Value has been resetted to 'None'");}else if(m===sap.m.ListMode.MultiSelect&&!this.getInstantUpload()){this._oList.setMode(sap.m.ListMode.None);q.sap.log.info("sap.m.ListMode.MultiSelect is not supported by UploadCollection for Pending Upload. Value has been resetted to 'None'");}else{this._oList.setMode(m);}return this;};l.prototype.getMode=function(){return this._oList.getMode();};l.prototype.getToolbar=function(){return this._oHeaderToolbar;};l.prototype.getInfoToolbar=function(){return this._oList.getAggregation("infoToolbar");};l.prototype.getNoDataText=function(){var n=this.getProperty("noDataText");n=n||this._oRb.getText("UPLOADCOLLECTION_NO_DATA_TEXT");return n;};l.prototype.getNoDataDescription=function(){var n=this.getProperty("noDataDescription");n=n||this._oRb.getText("UPLOADCOLLECTION_NO_DATA_DESCRIPTION");return n;};l.prototype.setInfoToolbar=function(i){if(this.getInfoToolbar()!==i){this._oList.setAggregation("infoToolbar",i,false);}};l.prototype.setUploadButtonInvisible=function(u){if(this.getUploadButtonInvisible()===u){return this;}this.setProperty("uploadButtonInvisible",u,true);if(this.getInstantUpload()){this._getFileUploader().setVisible(!u);}else{this._setFileUploaderVisibility(u);}return this;};l.prototype.upload=function(){if(this.getInstantUpload()){q.sap.log.error("Not a valid API call. 'instantUpload' should be set to 'false'.");}var e=this._aFileUploadersForPendingUpload.length;for(var i=0;i<e;i++){this._iUploadStartCallCounter=0;this._aFileUploadersForPendingUpload[i].upload();}if(this._aFilesFromDragAndDropForPendingUpload.length>0){this._getFileUploader()._sendFilesFromDragAndDrop(this._aFilesFromDragAndDropForPendingUpload);}};l.prototype.getSelectedItems=function(){var s=this._oList.getSelectedItems();return this._getUploadCollectionItemsByListItems(s);};l.prototype.getSelectedItem=function(){var s=this._oList.getSelectedItem();if(s){return this._getUploadCollectionItemByListItem(s);}};l.prototype.setSelectedItemById=function(i,s){this._oList.setSelectedItemById(i+"-cli",s);this._setSelectedForItems([this._getUploadCollectionItemById(i)],s);return this;};l.prototype.setSelectedItem=function(u,s){this.setSelectedItemById(u.getId(),s);return this;};l.prototype.selectAll=function(){var s=this._oList.selectAll();if(s.getItems().length!==this.getItems().length){q.sap.log.info("Internal 'List' and external 'UploadCollection' are not in sync.");}this._setSelectedForItems(this.getItems(),true);return this;};l.prototype.downloadItem=function(u,e){if(!this.getInstantUpload()){q.sap.log.info("Download is not possible on Pending Upload mode");return false;}else{return u.download(e);}};l.prototype.openFileDialog=function(i){if(this._oFileUploader){if(i){if(!this._oFileUploader.getMultiple()){this._oItemToUpdate=i;this._oFileUploader.$().find("input[type=file]").trigger("click");}else{q.sap.log.warning("Version Upload cannot be used in multiple upload mode");}}else{this._oFileUploader.$().find("input[type=file]").trigger("click");}}return this;};l.prototype.removeAggregation=function(A,o,s){if(!this.getInstantUpload()&&A==="items"&&o){this._aDeletedItemForPendingUpload.push(o);}if(C.prototype.removeAggregation){return C.prototype.removeAggregation.apply(this,arguments);}};l.prototype.removeAllAggregation=function(A,s){if(!this.getInstantUpload()&&A==="items"){if(this._aFileUploadersForPendingUpload){for(var i=0;i<this._aFileUploadersForPendingUpload.length;i++){this._aFileUploadersForPendingUpload[i].destroy();this._aFileUploadersForPendingUpload[i]=null;}this._aFileUploadersForPendingUpload=[];}}if(C.prototype.removeAllAggregation){return C.prototype.removeAllAggregation.apply(this,arguments);}};l.prototype.onBeforeRendering=function(){this._RenderManager=this._RenderManager||sap.ui.getCore().createRenderManager();var i,e;if(this._oListEventDelegate){this._oList.removeEventDelegate(this._oListEventDelegate);this._oListEventDelegate=null;}this._deregisterSizeHandler();this._unbindDragEnterLeave();j.bind(this)();if(!this.getInstantUpload()){this.aItems=this.getItems();this._getListHeader(this.aItems.length);this._clearList();this._fillList(this.aItems);this._oList.setHeaderToolbar(this._oHeaderToolbar);return;}if(this.aItems.length>0){e=this.aItems.length;var u=[];for(i=0;i<e;i++){if(this.aItems[i]&&this.aItems[i]._status===l._uploadingStatus){u.push(this.aItems[i]);}else if(this.aItems[i]&&this.aItems[i]._status!==l._uploadingStatus&&this.aItems[i]._percentUploaded===100&&this.getItems().length===0){u.push(this.aItems[i]);}}if(u.length!==0){this.aItems=[];this.aItems=this.getItems();this.aItems=u.concat(this.aItems);}else{this.aItems=this.getItems();}}else{this.aItems=this.getItems();}this._getListHeader(this.aItems.length);this._clearList();this._fillList(this.aItems);this._oList.setAggregation("headerToolbar",this._oHeaderToolbar,true);if((k.browser.msie&&k.browser.version<=9)&&this.aItems.length>0&&this.aItems[0]._status===l._uploadingStatus){this._oFileUploader.setEnabled(false);}else{if(this.sErrorState!=="Error"){if(this.getUploadEnabled()!==this._oFileUploader.getEnabled()){this._oFileUploader.setEnabled(this.getUploadEnabled());}}else{this._oFileUploader.setEnabled(false);}}if(this.sDeletedItemId){q(document.activeElement).blur();}function j(){if(this.bInstantUpload===false){this.setProperty("instantUpload",this.bInstantUpload,true);delete this.bInstantUpload;}}};l.prototype.onAfterRendering=function(){this._bindDragEnterLeave();var t=this;if(this.getInstantUpload()){if(this.aItems||(this.aItems===this.getItems())){if(this.editModeItem){var $=q.sap.byId(this.editModeItem+"-ta_editFileName-inner");if($){var i=this.editModeItem;if(!k.os.ios){$.focus(function(){$.selectText(0,$.val().length);});}$.focus();this._oListEventDelegate={onclick:function(e){sap.m.UploadCollection.prototype._handleClick(e,t,i);}};this._oList.addDelegate(this._oListEventDelegate);}}else if(this.sFocusId){sap.m.UploadCollection.prototype._setFocus2LineItem(this.sFocusId);this.sFocusId=null;}else if(this.sDeletedItemId){sap.m.UploadCollection.prototype._setFocusAfterDeletion(this.sDeletedItemId,t);}}}else{if(this.sFocusId){sap.m.UploadCollection.prototype._setFocus2LineItem(this.sFocusId);this.sFocusId=null;}}};l.prototype.exit=function(){var i,p;if(this._$RootNode){this._$RootNode=null;}if(this._oFileUploader){this._oFileUploader.destroy();this._oFileUploader=null;}if(this._oHeaderToolbar){this._oHeaderToolbar.destroy();this._oHeaderToolbar=null;}if(this._oNumberOfAttachmentsTitle){this._oNumberOfAttachmentsTitle.destroy();this._oNumberOfAttachmentsTitle=null;}if(this._RenderManager){this._RenderManager.destroy();}if(this._aFileUploadersForPendingUpload){p=this._aFileUploadersForPendingUpload.length;for(i=0;i<p;i++){this._aFileUploadersForPendingUpload[i].destroy();this._aFileUploadersForPendingUpload[i]=null;}this._aFileUploadersForPendingUpload=null;}this._deregisterSizeHandler();this._unbindDragEnterLeave();};l.prototype._bindDragEnterLeave=function(){this._bDragDropEnabled=this.getUploadEnabled();if(!this._bDragDropEnabled){return;}if(this.getUIArea()){this._$RootNode=q(this.getUIArea().getRootNode());this._$RootNode.bind("dragenter",this._onDragEnterUIArea.bind(this));this._$RootNode.bind("dragleave",this._onDragLeaveUIArea.bind(this));this._$RootNode.bind("dragover",this._onDragOverUIArea.bind(this));}this._$DragDropArea=this.$("drag-drop-area");this.$().bind("dragenter",this._onDragEnterUploadCollection.bind(this));this.$().bind("dragleave",this._onDragLeaveUploadCollection.bind(this));this.$().bind("dragover",this._onDragOverUploadCollection.bind(this));this.$().bind("drop",this._onDropOnUploadCollection.bind(this));};l.prototype._unbindDragEnterLeave=function(){if(!this._bDragDropEnabled){return;}if(this._$RootNode){this._$RootNode.unbind("dragenter",this._onDragEnterTheUIArea);this._$RootNode.unbind("dragleave",this._onDragLeaveUIArea);this._$RootNode.unbind("dragover",this._onDragOverUIArea);}this.$().unbind("dragenter",this._onDragEnterUploadCollection);this.$().unbind("dragleave",this._onDragLeaveUploadCollection);this.$().unbind("dragover",this._onDragOverUploadCollection);this.$().unbind("drop",this._onDropOnUploadCollection);};l.prototype._onDragEnterUIArea=function(e){this._oLastEnterUIArea=e.target;this._$DragDropArea.removeClass("sapMUCDragDropOverlayHide");this._AdjustDragDropIcon();};l.prototype._onDragOverUIArea=function(e){this._$DragDropArea.removeClass("sapMUCDragDropOverlayHide");};l.prototype._onDragLeaveUIArea=function(e){if(this._oLastEnterUIArea===e.target){this._$DragDropArea.addClass("sapMUCDragDropOverlayHide");}};l.prototype._onDragEnterUploadCollection=function(e){if(e.target===this._$DragDropArea[0]){this._$DragDropArea.addClass("sapMUCDropIndicator");this._AdjustDragDropIcon();this.getAggregation("_dragDropText").setText(this._oRb.getText("UPLOADCOLLECTION_DROP_FILE_INDICATOR"));}};l.prototype._onDragOverUploadCollection=function(e){e.preventDefault();};l.prototype._onDragLeaveUploadCollection=function(e){if(e.target===this._$DragDropArea[0]){this.$("drag-drop-area").removeClass("sapMUCDropIndicator");this.getAggregation("_dragDropText").setText(this._oRb.getText("UPLOADCOLLECTION_DRAG_FILE_INDICATOR"));}};l.prototype._onDropOnUploadCollection=function(e){if(e.target===this._$DragDropArea[0]){e.preventDefault();this._$DragDropArea.addClass("sapMUCDragDropOverlayHide");var i=e.originalEvent.dataTransfer.files;var o=this._getFileUploader();if(!this.getInstantUpload()){o.fireChange({files:i});this._aFilesFromDragAndDropForPendingUpload=this._aFilesFromDragAndDropForPendingUpload.concat(Array.prototype.slice.call(i));}else{o._sendFilesFromDragAndDrop(i);}}};l.prototype._AdjustDragDropIcon=function(){if(this._$DragDropArea[0].offsetHeight<160){this.getAggregation("_dragDropIcon").$().hide();}};l.prototype._deregisterSizeHandler=function(){k.orientation.detachHandler(this._onResize,this);R.deregister(this._sReziseHandlerId);};l.prototype._hideFileUploaders=function(){var t,i;if(!this.getInstantUpload()){t=this._oHeaderToolbar.getContent().length;if(this._aFileUploadersForPendingUpload.length){for(i=0;i<t;i++){if(this._oHeaderToolbar.getContent()[i]instanceof sap.ui.unified.FileUploader){if(i===this._iFileUploaderPH&&this._bFocusFileUploader){this._oHeaderToolbar.getContent()[i].$().find("button").focus();}else{this._oHeaderToolbar.getContent()[i].$().hide();}}}}return;}};l.prototype._truncateFileName=function(o){if(o._status==="Edit"){var s=o.getId()+"-cli";this.$().find("#"+s).find(".sapMUCObjectMarkerContainer").attr("style","display: none");return;}var m=0;var e=o.getMarkers();var S;for(var i=0;i<e.length;i++){m=m+e[i].$().width()+l._markerMargin;}if(m>0){var $=this.$().find("#"+o.getId()+"-ta_filenameHL");if($){S="max-width: calc(100% - "+m+"px)";if($.attr("style")!==S){$.attr("style",S);}}}};l.prototype._getListHeader=function(e){var o,i;this._setNumberOfAttachmentsTitle(e);if(!this._oHeaderToolbar){if(!!this._oFileUploader&&!this.getInstantUpload()){this._oFileUploader.destroy();}o=this._getFileUploader();this._oHeaderToolbar=this.getAggregation("toolbar");if(!this._oHeaderToolbar){this._oHeaderToolbar=new sap.m.OverflowToolbar(this.getId()+"-toolbar",{content:[this._oNumberOfAttachmentsTitle,new sap.m.ToolbarSpacer(),o]}).addEventDelegate({onAfterRendering:this._hideFileUploaders},this);this._iFileUploaderPH=2;}else{this._oHeaderToolbar.addEventDelegate({onAfterRendering:this._hideFileUploaders},this);this._iFileUploaderPH=this._getFileUploaderPlaceHolderPosition(this._oHeaderToolbar);if(this._oHeaderToolbar&&this._iFileUploaderPH>-1){this._setFileUploaderInToolbar(o);}else{q.sap.log.info("A place holder of type 'sap.m.UploadCollectionPlaceholder' needs to be provided.");}}}else if(!this.getInstantUpload()){var p=this._aFileUploadersForPendingUpload.length;for(i=p-1;i>=0;i--){if(this._aFileUploadersForPendingUpload[i].getId()==this._oFileUploader.getId()){o=this._getFileUploader();this._oHeaderToolbar.insertAggregation("content",o,this._iFileUploaderPH,true);break;}}}};l.prototype._getFileUploaderPlaceHolderPosition=function(t){for(var i=0;i<t.getContent().length;i++){if(t.getContent()[i]instanceof sap.m.UploadCollectionToolbarPlaceholder){return i;}}return-1;};l.prototype._setFileUploaderInToolbar=function(o){this._oHeaderToolbar.getContent()[this._iFileUploaderPH].setVisible(false);this._oHeaderToolbar.insertContent(o,this._iFileUploaderPH);};l.prototype._mapItemToListItem=function(i){if(!i||(this._oItemToUpdate&&i.getId()===this._oItemToUpdate.getId())){return null;}var s,S,e,o,j,m,$,n,p,t=this;s=i.getId();S=i._status;e=i.getFileName();if(S===l._uploadingStatus){o=new sap.m.BusyIndicator(s+"-ia_indicator",{visible:true}).addStyleClass("sapMUCloadingIcon");}else{p=this._createIcon(i,s,e,t);}m=s+"-container";$=q.sap.byId(m);if(!!$){$.remove();$=null;}n=new sap.ui.core.HTML({content:"<span id="+m+" class= sapMUCTextButtonContainer> </span>",afterRendering:function(){t._renderContent(i,m,t);}});j=new sap.m.CustomListItem(s+"-cli",{content:[o,p,n],selected:i.getSelected()});j._oUploadCollectionItem=i;j._status=S;j.addStyleClass("sapMUCItem");return j;};l.prototype._renderContent=function(o,s,t){var e,i,A,S,m,p,j,n,r,u,v;p=o._percentUploaded;j=o.getAllAttributes();n=o.getStatuses();v=o.getMarkers();e=o.getId();A=j.length;S=n.length;m=v.length;u=o._status;r=t._RenderManager;r.write('<div class="sapMUCTextContainer ');if(u==="Edit"){r.write('sapMUCEditMode ');}r.write('" >');r.renderControl(this._getFileNameControl(o,t));if(u===l._uploadingStatus&&!(k.browser.msie&&k.browser.version<=9)){r.renderControl(this._createProgressLabel(e,p));}else{if(m>0){r.write('<div class="sapMUCObjectMarkerContainer">');for(i=0;i<m;i++){r.renderControl(v[i].addStyleClass("sapMUCObjectMarker"));}r.write('</div>');}if(A>0){r.write('<div class="sapMUCAttrContainer">');for(i=0;i<A;i++){j[i].addStyleClass("sapMUCAttr");r.renderControl(j[i]);if((i+1)<A){r.write('<div class="sapMUCSeparator">&nbsp&#x00B7&#160</div>');}}r.write('</div>');}if(S>0){r.write('<div class="sapMUCStatusContainer">');for(i=0;i<S;i++){n[i].detachBrowserEvent("hover");r.renderControl(n[i]);if((i+1)<S){r.write('<div class="sapMUCSeparator">&nbsp&#x00B7&#160</div>');}}r.write('</div>');}}r.write('</div>');this._renderButtons(r,o,u,e,t);r.flush(q.sap.byId(s)[0],true);this._truncateFileName(o);this._sReziseHandlerId=R.register(this,this._onResize.bind(this));k.orientation.attachHandler(this._onResize,this);};l.prototype._renderButtons=function(r,o,s,e,t){var j,m;j=this._getButtons(o,s,e,t);if(!!j){m=j.length;}if(m>0){r.write('<div class="sapMUCButtonContainer">');for(var i=0;i<m;i++){if((i+1)<m){j[i].addStyleClass("sapMUCFirstButton");}r.renderControl(j[i]);}r.write('</div>');}};l.prototype._getFileNameControl=function(i,t){var e,o,j,s,m,n,S,p,v,r,u,V;m=i.getFileName();n=i.getId();S=i._status;if(S!=="Edit"){e=true;if(this.sErrorState==="Error"||!q.trim(i.getUrl())){e=false;}o=sap.ui.getCore().byId(n+"-ta_filenameHL");if(!o){o=new sap.m.Link(n+"-ta_filenameHL",{enabled:e,press:function(E){this._triggerLink(E,t);}.bind(this)}).addStyleClass("sapMUCFileName");o.setModel(i.getModel());o.setText(m);}else{o.setModel(i.getModel());o.setText(m);o.setEnabled(e);}return o;}else{j=t._splitFilename(m);p=t.getMaximumFilenameLength();v="None";r=false;s=j.name;if(i.errorState==="Error"){r=true;v="Error";s=i.changedFileName;if(s.length===0){V=this._oRb.getText("UPLOADCOLLECTION_TYPE_FILENAME");}else{V=this._oRb.getText("UPLOADCOLLECTION_EXISTS");}}u=sap.ui.getCore().byId(n+"-ta_editFileName");if(!u){u=new sap.m.Input(n+"-ta_editFileName",{type:sap.m.InputType.Text,fieldWidth:"75%",valueState:v,valueStateText:V,showValueStateMessage:r,description:j.extension}).addStyleClass("sapMUCEditBox");u.setModel(i.getModel());u.setValue(s);}else{u.setModel(i.getModel());u.setValueState(v);u.setFieldWidth("75%");u.setValueStateText(V);u.setValue(s);u.setDescription(j.extension);u.setShowValueStateMessage(r);}if((p-j.extension.length)>0){u.setProperty("maxLength",p-j.extension.length,true);}return u;}};l.prototype._createProgressLabel=function(i,p){var P;P=sap.ui.getCore().byId(i+"-ta_progress");if(!P){P=new sap.m.Label(i+"-ta_progress",{text:this._oRb.getText("UPLOADCOLLECTION_UPLOADING",[p])}).addStyleClass("sapMUCProgress");}else{P.setText(this._oRb.getText("UPLOADCOLLECTION_UPLOADING",[p]));}return P;};l.prototype._createIcon=function(i,s,e,t){var j,m,o;j=i.getThumbnailUrl();if(j){o=new sap.m.Image(s+"-ia_imageHL",{src:sap.m.UploadCollection.prototype._getThumbnail(j,e),decorative:false,alt:this._getAriaLabelForPicture(i)}).addStyleClass("sapMUCItemImage");}else{m=sap.m.UploadCollection.prototype._getThumbnail(undefined,e);var S;o=new sap.ui.core.Icon(s+"-ia_iconHL",{src:m,decorative:false,useIconTooltip:false,alt:this._getAriaLabelForPicture(i)});if(this.sErrorState!=="Error"&&q.trim(i.getProperty("url"))){S="sapMUCItemIcon";}else{S="sapMUCItemIconInactive";}if(m===l._placeholderCamera){if(this.sErrorState!=="Error"&&q.trim(i.getProperty("url"))){S=S+" sapMUCItemPlaceholder";}else{S=S+" sapMUCItemPlaceholderInactive";}}o.addStyleClass(S);}if(this.sErrorState!=="Error"&&q.trim(i.getProperty("url"))){o.attachPress(function(E){sap.m.UploadCollection.prototype._triggerLink(E,t);});}return o;};l.prototype._getButtons=function(i,s,e,t){var j,o,m,n,p,E,r;j=[];if(!this.getInstantUpload()){n="deleteButton";p=this._createDeleteButton(e,n,i,this.sErrorState,t);j.push(p);return j;}if(s==="Edit"){o=sap.ui.getCore().byId(e+"-okButton");if(!o){o=new sap.m.Button({id:e+"-okButton",text:this._oRb.getText("UPLOADCOLLECTION_OKBUTTON_TEXT"),type:sap.m.ButtonType.Transparent}).addStyleClass("sapMUCOkBtn");}m=sap.ui.getCore().byId(e+"-cancelButton");if(!m){m=new sap.m.Button({id:e+"-cancelButton",text:this._oRb.getText("UPLOADCOLLECTION_CANCELBUTTON_TEXT"),type:sap.m.ButtonType.Transparent}).addStyleClass("sapMUCCancelBtn");}j.push(o);j.push(m);return j;}else if(s===l._uploadingStatus&&!(k.browser.msie&&k.browser.version<=9)){n="terminateButton";p=this._createDeleteButton(e,n,i,this.sErrorState,t);j.push(p);return j;}else{E=i.getEnableEdit();if(this.sErrorState==="Error"){E=false;}r=sap.ui.getCore().byId(e+"-editButton");if(!r){if(i.getVisibleEdit()){r=new sap.m.Button({id:e+"-editButton",icon:"sap-icon://edit",type:sap.m.ButtonType.Standard,enabled:E,visible:i.getVisibleEdit(),tooltip:this._oRb.getText("UPLOADCOLLECTION_EDITBUTTON_TEXT"),press:[i,this._handleEdit,this]}).addStyleClass("sapMUCEditBtn");j.push(r);}}else if(!i.getVisibleEdit()){r.destroy();r=null;}else{r.setEnabled(E);r.setVisible(i.getVisibleEdit());j.push(r);}n="deleteButton";if(i.getVisibleDelete()){p=this._createDeleteButton(e,n,i,this.sErrorState,t);j.push(p);}else{p=sap.ui.getCore().byId(e+"-"+n);if(!!p){p.destroy();p=null;}}return j;}};l.prototype._createDeleteButton=function(i,s,o,e,t){var E,j,m;E=o.getEnableDelete();if(e==="Error"){E=false;}j=sap.ui.getCore().byId(i+"-"+s);if(!j){j=new sap.m.Button({id:i+"-"+s,icon:"sap-icon://sys-cancel",type:sap.m.ButtonType.Standard,enabled:E,tooltip:this._oRb.getText("UPLOADCOLLECTION_TERMINATEBUTTON_TEXT"),visible:o.getVisibleDelete()}).addStyleClass("sapMUCDeleteBtn");if(s==="deleteButton"){j.setTooltip(this._oRb.getText("UPLOADCOLLECTION_DELETEBUTTON_TEXT"));j.attachPress(function(n){this._handleDelete(n,t);}.bind(t));}else if(s==="terminateButton"){if(!this.getTerminationEnabled()){j.setVisible(false);}j.attachPress(function(n){this._handleTerminate.bind(this)(n,o);}.bind(t));}}else{j.setEnabled(E);m=o.getVisibleDelete();if(s==="terminateButton"){m=m&&this.getTerminationEnabled();}j.setVisible(m);}return j;};l.prototype._fillList=function(i){var t=this;var m=i.length-1;q.each(i,function(e,o){if(!o._status){o._status=l._displayStatus;}else if(t.getInstantUpload()&&t._oItemForDelete&&t._oItemForDelete._status===l._toBeDeletedStatus&&o.getDocumentId()===t._oItemForDelete.documentId){return false;}if(!o._percentUploaded&&o._status===l._uploadingStatus){o._percentUploaded=0;}var j=t._mapItemToListItem(o);if(j){if(e===0&&m===0){j.addStyleClass("sapMUCListSingleItem");}else if(e===0){j.addStyleClass("sapMUCListFirstItem");}else if(e===m){j.addStyleClass("sapMUCListLastItem");}else{j.addStyleClass("sapMUCListItem");}t._oList.addAggregation("items",j,true);o.attachEvent("selected",t._handleItemSetSelected,t);}});t._oList.attachSelectionChange(t._handleSelectionChange,t);};l.prototype._clearList=function(){if(this._oList){this._oList.destroyAggregation("items",true);}};l.prototype._setNumberOfAttachmentsTitle=function(i){var n=i||0;var t;if(this._oItemToUpdate){n--;}if(this.getNumberOfAttachmentsText()){t=this.getNumberOfAttachmentsText();}else{t=this._oRb.getText("UPLOADCOLLECTION_ATTACHMENTS",[n]);}if(!this._oNumberOfAttachmentsTitle){this._oNumberOfAttachmentsTitle=new sap.m.Title(this.getId()+"-numberOfAttachmentsTitle",{text:t});}else{this._oNumberOfAttachmentsTitle.setText(t);}};l.prototype._setFileUploaderVisibility=function(u){var t=this._oHeaderToolbar.getContent();if(t){var p=t[this._iFileUploaderPH];if(p instanceof sap.ui.unified.FileUploader){p.setVisible(!u);}}};l.prototype._handleDelete=function(e,o){var p=e.getParameters();var j=o.getItems();var s=p.id.split("-deleteButton")[0];var m;var n;var r="";var t;var u;o.sDeletedItemId=s;for(var i=0;i<j.length;i++){if(j[i].sId===s){n=i;m={documentId:j[i].getDocumentId(),_iLineNumber:n};break;}}if(q.sap.byId(o.sId).hasClass("sapUiSizeCompact")){r="sapUiSizeCompact";}if(o.editModeItem){sap.m.UploadCollection.prototype._handleOk(e,o,o.editModeItem,true);if(o.sErrorState==="Error"){return this;}}if(j[n]&&j[n].getEnableDelete()){t=j[n].getFileName();if(!t){u=this._oRb.getText("UPLOADCOLLECTION_DELETE_WITHOUT_FILENAME_TEXT");}else{u=this._oRb.getText("UPLOADCOLLECTION_DELETE_TEXT",t);}o._oItemForDelete=m;sap.m.MessageBox.show(u,{title:this._oRb.getText("UPLOADCOLLECTION_DELETE_TITLE"),actions:[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],onClose:o._onCloseMessageBoxDeleteItem.bind(o),dialogId:"messageBoxDeleteFile",styleClass:r});}};l.prototype._onCloseMessageBoxDeleteItem=function(A){var e=this.getItems();var o;if(this.getInstantUpload()){for(var i=0;i<e.length;i++){if(e[i].getDocumentId()===this._oItemForDelete.documentId){o=e[i];}}}else{o=e[this._oItemForDelete._iLineNumber];}if(A===sap.m.MessageBox.Action.OK){this._oItemForDelete._status=l._toBeDeletedStatus;if(this.getInstantUpload()){this.fireFileDeleted({documentId:this._oItemForDelete.documentId,item:o});}else{if(this.aItems.length===1){this.sFocusId=this._oFileUploader.$().find(":button")[0].id;}else{if(this._oItemForDelete._iLineNumber<this.aItems.length-1){this.sFocusId=this.aItems[this._oItemForDelete._iLineNumber+1].getId()+"-cli";}else{this.sFocusId=this.aItems[0].getId()+"-cli";}}this._aDeletedItemForPendingUpload.push(o);this.aItems.splice(this._oItemForDelete._iLineNumber,1);this.removeAggregation("items",o,false);}}};l.prototype._handleTerminate=function(e,o){var j,m;j=new sap.m.List({items:[new sap.m.StandardListItem({title:o.getFileName(),icon:this._getIconFromFilename(o.getFileName())})]});m=new sap.m.Dialog({id:this.getId()+"deleteDialog",title:this._oRb.getText("UPLOADCOLLECTION_TERMINATE_TITLE"),content:[new sap.m.Text({text:this._oRb.getText("UPLOADCOLLECTION_TERMINATE_TEXT")}),j],buttons:[new sap.m.Button({text:this._oRb.getText("UPLOADCOLLECTION_OKBUTTON_TEXT"),press:[n,this]}),new sap.m.Button({text:this._oRb.getText("UPLOADCOLLECTION_CANCELBUTTON_TEXT"),press:function(){m.close();}})],afterClose:function(){m.destroy();}}).open();function n(){var A=false;for(var i=0;i<this.aItems.length;i++){if(this.aItems[i]._status===l._uploadingStatus&&this.aItems[i]._requestIdName===o._requestIdName){A=true;break;}else if(o.getFileName()===this.aItems[i].getFileName()&&this.aItems[i]._status===l._displayStatus){this.aItems[i]._status=l._toBeDeletedStatus;this.fireFileDeleted({documentId:this.aItems[i].getDocumentId(),item:this.aItems[i]});break;}}if(A){this._getFileUploader().abort(this._headerParamConst.fileNameRequestIdName,this._encodeToAscii(o.getFileName())+this.aItems[i]._requestIdName);}m.close();this.invalidate();}};l.prototype._handleEdit=function(e,o){var i,s=o.getId(),j=this.aItems.length;if(this.editModeItem){sap.m.UploadCollection.prototype._handleOk(e,this,this.editModeItem,false);}if(this.sErrorState!=="Error"){for(i=0;i<j;i++){if(this.aItems[i].getId()===s){this.aItems[i]._status="Edit";break;}}o._status="Edit";this.editModeItem=e.getSource().getId().split("-editButton")[0];this.invalidate();}};l.prototype._handleClick=function(e,o,s){if(e.target.id.lastIndexOf("editButton")<0){if(e.target.id.lastIndexOf("cancelButton")>0){sap.m.UploadCollection.prototype._handleCancel(e,o,s);}else if(e.target.id.lastIndexOf("ia_imageHL")<0&&e.target.id.lastIndexOf("ia_iconHL")<0&&e.target.id.lastIndexOf("deleteButton")<0&&e.target.id.lastIndexOf("ta_editFileName-inner")<0){if(e.target.id.lastIndexOf("cli")>0){o.sFocusId=e.target.id;}sap.m.UploadCollection.prototype._handleOk(e,o,s,true);}}};l.prototype._handleOk=function(e,o,s,t){var E=document.getElementById(s+"-ta_editFileName-inner");var n;var S=l._findById(s,o.aItems);var i=S.getProperty("fileName");var j=l.prototype._splitFilename(i);var m=sap.ui.getCore().byId(s+"-ta_editFileName");var p=S.errorState;var r=S.changedFileName;if(E!==null){n=E.value.replace(/^\s+/,"");}var u=e.srcControl?e.srcControl.getId().split("-"):e.oSource.getId().split("-");u=u.slice(0,5);o.sFocusId=u.join("-")+"-cli";if(!n||n.length===0){if(E!==null){this._setErrorStateOnItem(o,S,n,r,p);}return;}S._status=l._displayStatus;if(j.name===n){this._removeErrorStateFromItem(o,S);if(t){o.invalidate();}return;}if(o.getSameFilenameAllowed()){this._removeErrorStateFromItem(o,S);o._oItemForRename=S;o._onEditItemOk.bind(o)(n+j.extension);return;}if(sap.m.UploadCollection.prototype._checkDoubleFileName(n+j.extension,o.aItems)){m.setProperty("valueState","Error",true);this._setErrorStateOnItem(o,S,n,r,p);}else{m.setProperty("valueState","None",true);S.changedFileName=null;this._removeErrorStateFromItem(o,S);if(t){o.invalidate();}o._oItemForRename=S;o._onEditItemOk.bind(o)(n+j.extension);}};l.prototype._setErrorStateOnItem=function(o,s,n,e,E){s._status="Edit";s.errorState="Error";o.sErrorState="Error";s.changedFileName=n;if(E!=="Error"||e!==n){o.invalidate();}};l.prototype._removeErrorStateFromItem=function(o,s){s.errorState=null;o.sErrorState=null;o.editModeItem=null;};l.prototype._onEditItemOk=function(n){if(this._oItemForRename){this._oItemForRename.setFileName(n);this.fireFileRenamed({documentId:this._oItemForRename.getProperty("documentId"),fileName:n,item:this._oItemForRename});}delete this._oItemForRename;};l.prototype._handleCancel=function(e,o,s){var S=l._findById(s,o.aItems);S._status=l._displayStatus;S.errorState=null;S.changedFileName=sap.ui.getCore().byId(s+"-ta_editFileName").getProperty("value");o.sFocusId=o.editModeItem+"-cli";o.sErrorState=null;o.editModeItem=null;o.invalidate();};l.prototype._onChange=function(e){if(e){var t=this;var r,j,i,s,o,S,m,A;if(k.browser.msie&&k.browser.version<=9){var n=e.getParameter("newValue");if(!n){return;}s=n.split(/\" "/)[0];if(s.length===0){return;}}else{j=e.getParameter("files").length;if(j===0){return;}this._oFileUploader.removeAllAggregation("headerParameters",true);this.removeAllAggregation("headerParameters",true);}this._oFileUploader.removeAllAggregation("parameters",true);this.removeAllAggregation("parameters",true);if(k.browser.msie&&k.browser.version<=9){var p={name:e.getParameter("newValue")};var P={files:[p]};this.fireChange({getParameter:function(w){if(w==="files"){return[p];}},getParameters:function(){return P;},mParameters:P,files:[p]});}else{this.fireChange({getParameter:function(w){if(w){return e.getParameter(w);}},getParameters:function(){return e.getParameters();},mParameters:e.getParameters(),files:e.getParameter("files")});}var u=this.getAggregation("parameters");if(u){q.each(u,function(w,x){var y=new sap.ui.unified.FileUploaderParameter({name:x.getProperty("name"),value:x.getProperty("value")});t._oFileUploader.addParameter(y);});}if(!this.getInstantUpload()){this._bFocusFileUploader=true;S=l._pendingUploadStatus;}else{S=l._uploadingStatus;}if(k.browser.msie&&k.browser.version<=9){o=new sap.m.UploadCollectionItem({fileName:s});o._status=S;o._internalFileIndexWithinFileUploader=1;if(!this.getInstantUpload()){o.setAssociation("fileUploader",this._oFileUploader,true);this.insertItem(o);this._aFileUploadersForPendingUpload.push(this._oFileUploader);}else{o._percentUploaded=0;}this.aItems.unshift(o);}else{this._requestIdValue=this._requestIdValue+1;r=this._requestIdValue.toString();var v=this.getAggregation("headerParameters");if(!this.getInstantUpload()){this._aFileUploadersForPendingUpload.push(this._oFileUploader);}for(i=0;i<j;i++){o=new L.UploadCollectionItem({fileName:e.getParameter("files")[i].name});o._status=S;o._internalFileIndexWithinFileUploader=i+1;o._requestIdName=r;if(!this.getInstantUpload()){o.setAssociation("fileUploader",this._oFileUploader,true);m=this._oFormatDecimal.format(e.getParameter("files")[i].size);A=new f({text:m});o.insertAggregation("attributes",A,true);this.insertItem(o);}else{o._percentUploaded=0;}this.aItems.unshift(o);}if(v){q.each(v,function(w,x){t._oFileUploader.addHeaderParameter(new sap.ui.unified.FileUploaderParameter({name:x.getProperty("name"),value:x.getProperty("value")}));});}t._oFileUploader.addHeaderParameter(new sap.ui.unified.FileUploaderParameter({name:this._headerParamConst.requestIdName,value:r}));}}};l.prototype._onFilenameLengthExceed=function(e){var o={name:e.getParameter("fileName")};var i=[o];this.fireFilenameLengthExceed({getParameter:function(p){if(p){return e.getParameter(p);}},getParameters:function(){return e.getParameters();},mParameters:e.getParameters(),files:i});};l.prototype._onFileSizeExceed=function(e){var o;if(k.browser.msie&&k.browser.version<=9){var s=e.getParameter("newValue");o={name:s};var p={newValue:s,files:[o]};this.fireFileSizeExceed({getParameter:function(P){if(P==="files"){return[o];}else if(P==="newValue"){return s;}},getParameters:function(){return p;},mParameters:p,files:[o]});}else{o={name:e.getParameter("fileName"),fileSize:e.getParameter("fileSize")};this.fireFileSizeExceed({getParameter:function(P){if(P){return e.getParameter(P);}},getParameters:function(){return e.getParameters();},mParameters:e.getParameters(),files:[o]});}};l.prototype._onTypeMissmatch=function(e){var o={name:e.getParameter("fileName"),fileType:e.getParameter("fileType"),mimeType:e.getParameter("mimeType")};var i=[o];this.fireTypeMissmatch({getParameter:function(p){if(p){return e.getParameter(p);}},getParameters:function(){return e.getParameters();},mParameters:e.getParameters(),files:i});};l.prototype._onUploadTerminated=function(e){var i;var r=this._getRequestId(e);var s=e.getParameter("fileName");var j=this.aItems.length;for(i=0;i<j;i++){if(this.aItems[i]&&this.aItems[i].getFileName()===s&&this.aItems[i]._requestIdName===r&&this.aItems[i]._status===l._uploadingStatus){this.aItems.splice(i,1);this.removeItem(i);break;}}this.fireUploadTerminated({fileName:s,getHeaderParameter:this._getHeaderParameterWithinEvent.bind(e)});};l.prototype._onUploadComplete=function(e){if(e){var i,r,u,j,m=o();r=this._getRequestId(e);u=e.getParameter("fileName");if(!u){var n=(e.getSource().getProperty("value")).split(/\" "/);u=n[0];}j=this.aItems.length;for(i=0;i<j;i++){if(!r){if(this.aItems[i].getProperty("fileName")===u&&this.aItems[i]._status===l._uploadingStatus&&m){this.aItems[i]._percentUploaded=100;this.aItems[i]._status=l._displayStatus;this._oItemToUpdate=null;break;}else if(this.aItems[i].getProperty("fileName")===u&&this.aItems[i]._status===l._uploadingStatus){this.aItems.splice(i,1);this._oItemToUpdate=null;break;}}else if(this.aItems[i].getProperty("fileName")===u&&this.aItems[i]._requestIdName===r&&this.aItems[i]._status===l._uploadingStatus&&m){this.aItems[i]._percentUploaded=100;this.aItems[i]._status=l._displayStatus;this._oItemToUpdate=null;break;}else if(this.aItems[i].getProperty("fileName")===u&&this.aItems[i]._requestIdName===r&&this.aItems[i]._status===l._uploadingStatus||this.aItems[i]._status===l._pendingUploadStatus){this.aItems.splice(i,1);this._oItemToUpdate=null;break;}}this.fireUploadComplete({getParameter:e.getParameter,getParameters:e.getParameters,mParameters:e.getParameters(),files:[{fileName:e.getParameter("fileName")||u,responseRaw:e.getParameter("responseRaw"),reponse:e.getParameter("response"),status:e.getParameter("status"),headers:e.getParameter("headers")}]});}this.invalidate();function o(){var s=e.getParameter("status").toString()||"200";if(s[0]==="2"||s[0]==="3"){return true;}else{return false;}}};l.prototype._onUploadProgress=function(e){if(e){var i,u,p,P,r,j,o,s,$;u=e.getParameter("fileName");r=this._getRequestId(e);P=Math.round(e.getParameter("loaded")/e.getParameter("total")*100);if(P===100){p=this._oRb.getText("UPLOADCOLLECTION_UPLOAD_COMPLETED");}else{p=this._oRb.getText("UPLOADCOLLECTION_UPLOADING",[P]);}j=this.aItems.length;for(i=0;i<j;i++){if(this.aItems[i].getProperty("fileName")===u&&this.aItems[i]._requestIdName==r&&this.aItems[i]._status===l._uploadingStatus){o=sap.ui.getCore().byId(this.aItems[i].getId()+"-ta_progress");if(!!o){o.setText(p);this.aItems[i]._percentUploaded=P;s=this.aItems[i].getId();$=q.sap.byId(s+"-ia_indicator");if(P===100){$.attr("aria-label",p);}else{$.attr("aria-valuenow",P);}break;}}}}};l.prototype._getRequestId=function(e){var o;o=e.getParameter("requestHeaders");if(!o){return null;}for(var j=0;j<o.length;j++){if(o[j].name===this._headerParamConst.requestIdName){return o[j].value;}}};l.prototype._getFileUploader=function(){var t=this,u=this.getInstantUpload();if(!u||!this._oFileUploader){var s=(k.browser.msie&&k.browser.version<=9)?false:true;this._iFUCounter=this._iFUCounter+1;this._oFileUploader=new sap.ui.unified.FileUploader(this.getId()+"-"+this._iFUCounter+"-uploader",{buttonOnly:true,buttonText:" ",tooltip:this.getInstantUpload()?this._oRb.getText("UPLOADCOLLECTION_UPLOAD"):this._oRb.getText("UPLOADCOLLECTION_ADD"),iconOnly:true,enabled:this.getUploadEnabled(),fileType:this.getFileType(),icon:"sap-icon://add",iconFirst:false,style:"Transparent",maximumFilenameLength:this.getMaximumFilenameLength(),maximumFileSize:this.getMaximumFileSize(),mimeType:this.getMimeType(),multiple:this.getMultiple(),name:"uploadCollection",uploadOnChange:u,sameFilenameAllowed:true,uploadUrl:this.getUploadUrl(),useMultipart:false,sendXHR:s,change:function(e){t._onChange(e);},filenameLengthExceed:function(e){t._onFilenameLengthExceed(e);},fileSizeExceed:function(e){t._onFileSizeExceed(e);},typeMissmatch:function(e){t._onTypeMissmatch(e);},uploadAborted:function(e){t._onUploadTerminated(e);},uploadComplete:function(e){t._onUploadComplete(e);},uploadProgress:function(e){if(t.getInstantUpload()){t._onUploadProgress(e);}},uploadStart:function(e){t._onUploadStart(e);},visible:!this.getUploadButtonInvisible()});}return this._oFileUploader;};l.prototype._onUploadStart=function(e){var r={},i,s,p,j,G;this._iUploadStartCallCounter++;p=e.getParameter("requestHeaders").length;for(i=0;i<p;i++){if(e.getParameter("requestHeaders")[i].name===this._headerParamConst.requestIdName){s=e.getParameter("requestHeaders")[i].value;break;}}j=e.getParameter("fileName");r={name:this._headerParamConst.fileNameRequestIdName,value:this._encodeToAscii(j)+s};e.getParameter("requestHeaders").push(r);for(i=0;i<this._aDeletedItemForPendingUpload.length;i++){if(this._aDeletedItemForPendingUpload[i].getAssociation("fileUploader")===e.oSource.sId&&this._aDeletedItemForPendingUpload[i].getFileName()===j&&this._aDeletedItemForPendingUpload[i]._internalFileIndexWithinFileUploader===this._iUploadStartCallCounter){e.getSource().abort(this._headerParamConst.fileNameRequestIdName,this._encodeToAscii(j)+s);return;}}this.fireBeforeUploadStarts({fileName:j,addHeaderParameter:m,getHeaderParameter:n.bind(this)});if(q.isArray(G)){for(i=0;i<G.length;i++){if(e.getParameter("requestHeaders")[i].name===G[i].getName()){e.getParameter("requestHeaders")[i].value=G[i].getValue();}}}else if(G instanceof sap.m.UploadCollectionParameter){for(i=0;i<e.getParameter("requestHeaders").length;i++){if(e.getParameter("requestHeaders")[i].name===G.getName()){e.getParameter("requestHeaders")[i].value=G.getValue();break;}}}function m(u){var r={name:u.getName(),value:u.getValue()};e.getParameter("requestHeaders").push(r);}function n(o){G=this._getHeaderParameterWithinEvent.bind(e)(o);return G;}};l.prototype._getIconFromFilename=function(s){var e=this._splitFilename(s).extension;if(q.type(e)==="string"){e=e.toLowerCase();}switch(e){case'.bmp':case'.jpg':case'.jpeg':case'.png':return l._placeholderCamera;case'.csv':case'.xls':case'.xlsx':return'sap-icon://excel-attachment';case'.doc':case'.docx':case'.odt':return'sap-icon://doc-attachment';case'.pdf':return'sap-icon://pdf-attachment';case'.ppt':case'.pptx':return'sap-icon://ppt-attachment';case'.txt':return'sap-icon://document-text';default:return'sap-icon://document';}};l.prototype._getThumbnail=function(t,s){if(t){return t;}else{return this._getIconFromFilename(s);}};l.prototype._triggerLink=function(e,o){var i=null;var j;if(o.editModeItem){sap.m.UploadCollection.prototype._handleOk(e,o,o.editModeItem,true);if(o.sErrorState==="Error"){return this;}o.sFocusId=e.getParameter("id");}j=e.oSource.getId().split("-");i=j[j.length-2];sap.m.URLHelper.redirect(o.aItems[i].getProperty("url"),true);};l.prototype.onkeydown=function(e){switch(e.keyCode){case q.sap.KeyCodes.F2:sap.m.UploadCollection.prototype._handleF2(e,this);break;case q.sap.KeyCodes.ESCAPE:sap.m.UploadCollection.prototype._handleESC(e,this);break;case q.sap.KeyCodes.DELETE:sap.m.UploadCollection.prototype._handleDEL(e,this);break;case q.sap.KeyCodes.ENTER:sap.m.UploadCollection.prototype._handleENTER(e,this);break;default:return;}e.setMarked();};l.prototype._setFocusAfterDeletion=function(e,o){if(!e){return;}var i=o.aItems.length;var s=null;if(i===0){var j=q.sap.byId(o._oFileUploader.sId);var m=j.find(":button");q.sap.focus(m);}else{var n=e.split("-").pop();if((i-1)>=n){s=e+"-cli";}else{s=o.aItems.pop().sId+"-cli";}sap.m.UploadCollection.prototype._setFocus2LineItem(s);this.sDeletedItemId=null;}};l.prototype._setFocus2LineItem=function(s){q.sap.byId(s).focus();};l.prototype._handleENTER=function(e,o){var t;var s;var i;if(o.editModeItem){t=e.target.id.split(o.editModeItem).pop();}else{t=e.target.id.split("-").pop();}switch(t){case"-ta_editFileName-inner":case"-okButton":sap.m.UploadCollection.prototype._handleOk(e,o,o.editModeItem,true);break;case"-cancelButton":e.preventDefault();sap.m.UploadCollection.prototype._handleCancel(e,o,o.editModeItem);break;case"-ia_iconHL":case"-ia_imageHL":var j=o.editModeItem.split("-").pop();sap.m.URLHelper.redirect(o.aItems[j].getProperty("url"),true);break;case"ia_iconHL":case"ia_imageHL":case"cli":s=e.target.id.split(t)[0]+"ta_filenameHL";i=sap.ui.getCore().byId(s);if(i.getEnabled()){j=e.target.id.split("-")[2];sap.m.URLHelper.redirect(o.aItems[j].getProperty("url"),true);}break;default:return;}};l.prototype._handleDEL=function(e,o){if(!o.editModeItem){var i=q.sap.byId(e.target.id);var j=i.find("[id$='-deleteButton']");var m=sap.ui.getCore().byId(j[0].id);m.firePress();}};l.prototype._handleESC=function(e,o){if(o.editModeItem){o.sFocusId=o.editModeItem+"-cli";o.aItems[o.editModeItem.split("-").pop()]._status=l._displayStatus;sap.m.UploadCollection.prototype._handleCancel(e,o,o.editModeItem);}};l.prototype._handleF2=function(e,o){var i=sap.ui.getCore().byId(e.target.id);if(i!==undefined){if(i._status===l._displayStatus){var j=q.sap.byId(e.target.id);var m=j.find("[id$='-editButton']");var E=sap.ui.getCore().byId(m[0].id);if(E.getEnabled()){if(o.editModeItem){sap.m.UploadCollection.prototype._handleClick(e,o,o.editModeItem);}if(o.sErrorState!=="Error"){E.firePress();}}}else{sap.m.UploadCollection.prototype._handleClick(e,o,o.editModeItem);}}else if(e.target.id.search(o.editModeItem)===0){sap.m.UploadCollection.prototype._handleOk(e,o,o.editModeItem,true);}};l.prototype._getFileNames=function(s){if(this.getMultiple()&&!(k.browser.msie&&k.browser.version<=9)){return s.substring(1,s.length-2).split(/\" "/);}else{return s.split(/\" "/);}};l.prototype._checkDoubleFileName=function(s,e){if(e.length===0||!s){return false;}var j=e.length;s=s.replace(/^\s+/,"");for(var i=0;i<j;i++){if(s===e[i].getProperty("fileName")){return true;}}return false;};l.prototype._splitFilename=function(s){var r={};var n=s.split(".");if(n.length==1){r.extension="";r.name=n.pop();return r;}r.extension="."+n.pop();r.name=n.join(".");return r;};l.prototype._getAriaLabelForPicture=function(i){var t;t=(i.getAriaLabelForPicture()||i.getFileName());return t;};l.prototype._getHeaderParameterWithinEvent=function(s){var u=[];var r=this.getParameter("requestHeaders");var p=r.length;var i;if(r&&s){for(i=0;i<p;i++){if(r[i].name===s){return new sap.m.UploadCollectionParameter({name:r[i].name,value:r[i].value});}}}else{if(r){for(i=0;i<p;i++){u.push(new sap.m.UploadCollectionParameter({name:r[i].name,value:r[i].value}));}}return u;}};l.prototype._encodeToAscii=function(v){var e="";for(var i=0;i<v.length;i++){e=e+v.charCodeAt(i);}return e;};l.prototype._onResize=function(){var e=this._oList.getItems();for(var i=0;i<e.length;i++){q.sap.delayedCall(l._resizeTimeoutInterval,this,this._truncateFileName.bind(this),[e[i]._oUploadCollectionItem]);}};l.prototype._getUploadCollectionItemByListItem=function(e){var A=this.getItems();for(var i=0;i<A.length;i++){if(A[i].getId()===e.getId().replace("-cli","")){return A[i];}}return null;};l.prototype._getUploadCollectionItemById=function(u){var A=this.getItems();for(var i=0;i<A.length;i++){if(A[i].getId()===u){return A[i];}}return null;};l.prototype._getUploadCollectionItemsByListItems=function(e){var u=[];var m=this.getItems();if(e){for(var i=0;i<e.length;i++){for(var j=0;j<m.length;j++){if(e[i].getId().replace("-cli","")===m[j].getId()){u.push(m[j]);break;}}}return u;}return null;};l.prototype._setSelectedForItems=function(u,s){if(this.getMode()!==sap.m.ListMode.MultiSelect&&s){var e=this.getItems();for(var j=0;j<e.length;j++){e[j].setSelected(false);}}for(var i=0;i<u.length;i++){u[i].setSelected(s);}};l.prototype._handleItemSetSelected=function(e){var i=e.getSource();if(i instanceof sap.m.UploadCollectionItem){var o=this._getListItemById(i.getId()+"-cli");if(o){o.setSelected(i.getSelected());}}};l.prototype._handleSelectionChange=function(e){var o=e.getParameter("listItem");var s=e.getParameter("selected");var u=this._getUploadCollectionItemsByListItems(e.getParameter("listItems"));var i=this._getUploadCollectionItemByListItem(o);if(i&&o&&u){this.fireSelectionChange({selectedItem:i,selectedItems:u,selected:s});i.setSelected(o.getSelected());}};l.prototype._getListItemById=function(e){var i=this._oList.getItems();return l._findById(e,i);};l._findById=function(e,j){for(var i=0;i<j.length;i++){if(j[i].getId()===e){return j[i];}}return null;};return l;},true);
sap.ui.predefine('sap/m/UploadCollectionItem',['jquery.sap.global','./library','sap/ui/core/Element','sap/m/ObjectAttribute','sap/m/ObjectStatus','sap/m/ObjectMarker','sap/ui/core/util/File'],function(q,l,E,O,a,b,F){"use strict";var U=E.extend("sap.m.UploadCollectionItem",{metadata:{library:"sap.m",properties:{contributor:{type:"string",group:"Data",defaultValue:null},documentId:{type:"string",group:"Misc",defaultValue:null},fileName:{type:"string",group:"Misc",defaultValue:null},fileSize:{type:"float",group:"Misc",defaultValue:null},mimeType:{type:"string",group:"Misc",defaultValue:null},thumbnailUrl:{type:"string",group:"Misc",defaultValue:null},uploadedDate:{type:"string",group:"Misc",defaultValue:null},url:{type:"string",group:"Misc",defaultValue:null},enableEdit:{type:"boolean",group:"Behavior",defaultValue:true},enableDelete:{type:"boolean",group:"Behavior",defaultValue:true},visibleEdit:{type:"boolean",group:"Behavior",defaultValue:true},visibleDelete:{type:"boolean",group:"Behavior",defaultValue:true},ariaLabelForPicture:{type:"string",group:"Accessibility",defaultValue:null},selected:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"attributes",aggregations:{attributes:{type:"sap.m.ObjectAttribute",multiple:true,bindable:"bindable"},_propertyAttributes:{type:"sap.m.ObjectAttribute",multiple:true,visibility:"hidden"},statuses:{type:"sap.m.ObjectStatus",multiple:true,bindable:"bindable"},markers:{type:"sap.m.ObjectMarker",multiple:true,bindable:"bindable"}},associations:{fileUploader:{type:"sap.ui.unified.FileUploader",group:"misc",multiple:false}}}});U.prototype.init=function(){this._mDeprecatedProperties={};};U.prototype.setContributor=function(c){this.setProperty("contributor",c,false);this._updateDeprecatedProperties();return this;};U.prototype.setUploadedDate=function(u){this.setProperty("uploadedDate",u,false);this._updateDeprecatedProperties();return this;};U.prototype.setFileSize=function(f){this.setProperty("fileSize",f,false);this._updateDeprecatedProperties();return this;};U.prototype.setSelected=function(s){if(s!==this.getSelected()){this.setProperty("selected",s,true);this.fireEvent("selected");}return this;};U.prototype.download=function(c){if(sap.ui.Device.browser.name==="sf"){c=false;}if(!this.getUrl()){q.sap.log.warning("Items to download do not have an URL.");return false;}else if(c){var B=null;var x=new window.XMLHttpRequest();x.open("GET",this.getUrl());x.responseType="blob";x.onload=function(){var f=this.getFileName();var o=this._splitFileName(f,false);var s=o.extension;f=o.name;B=x.response;F.save(B,f,s,this.getMimeType(),'utf-8');}.bind(this);x.send();return true;}else{l.URLHelper.redirect(this.getUrl(),true);return true;}};U.prototype._splitFileName=function(f,w){var r={};var R=/(?:\.([^.]+))?$/;var c=R.exec(f);r.name=f.slice(0,f.indexOf(c[0]));if(w){r.extension=c[0];}else{r.extension=c[1];}return r;};U.prototype._updateDeprecatedProperties=function(){var p=["uploadedDate","contributor","fileSize"];this.removeAllAggregation("_propertyAttributes",true);q.each(p,function(i,n){var v=this.getProperty(n),A=this._mDeprecatedProperties[n];if(q.type(v)==="number"&&!!v||!!v){if(!A){A=new O({active:false});this._mDeprecatedProperties[n]=A;this.addAggregation("_propertyAttributes",A,true);A.setText(v);}else{A.setText(v);this.addAggregation("_propertyAttributes",A,true);}}else if(A){A.destroy();delete this._mDeprecatedProperties[n];}}.bind(this));this.invalidate();};U.prototype.getAllAttributes=function(){return this.getAggregation("_propertyAttributes",[]).concat(this.getAttributes());};return U;},true);
sap.ui.predefine('sap/m/UploadCollectionParameter',['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var U=E.extend("sap.m.UploadCollectionParameter",{metadata:{library:"sap.m",properties:{name:{type:"string",group:"Data",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null}}}});return U;},true);
sap.ui.predefine('sap/m/UploadCollectionRenderer',['jquery.sap.global','sap/ui/core/Renderer','sap/m/ListRenderer'],function(q,R,L){"use strict";var U=R.extend(L);U.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapMUC");r.writeClasses();r.write(">");L.render.call(this,r,c._oList);this.renderDragDropOverlay(r,c);r.write("</div>");};U.renderNoData=function(r,c){var u=c.getParent();r.write("<div");r.writeAttribute("id",u.getId()+"-no-data-page");r.addClass("sapMUCNoDataPage");r.writeClasses();r.write(">");r.renderControl(u.getAggregation("_noDataIcon"));r.write("<div");r.writeAttribute("id",u.getId()+"-no-data-text");r.addClass("sapMUCNoDataText");r.writeClasses();r.write(">");r.writeEscaped(u.getNoDataText());r.write("</div>");r.write("<div");r.writeAttribute("id",u.getId()+"-no-data-description");r.addClass("sapMUCNoDataDescription");r.writeClasses();r.write(">");r.writeEscaped(u.getNoDataDescription());r.write("</div>");r.write("</div>");};U.renderDragDropOverlay=function(r,c){r.write("<div");r.writeAttribute("id",c.getId()+"-drag-drop-area");r.addClass("sapMUCDragDropOverlay");r.addClass("sapMUCDragDropOverlayHide");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapMUCDragDropIndicator");r.writeClasses();r.write(">");r.renderControl(c.getAggregation("_dragDropIcon"));r.renderControl(c.getAggregation("_dragDropText"));r.write("</div>");r.write("</div>");};return U;},true);
sap.ui.predefine('sap/m/UploadCollectionToolbarPlaceholder',['jquery.sap.global','./library','sap/ui/core/Control'],function(q,l,C){"use strict";var U=C.extend("sap.m.UploadCollectionToolbarPlaceholder",{metadata:{library:"sap.m",properties:{}}});return U;},true);
sap.ui.predefine('sap/m/VBox',['jquery.sap.global','./FlexBox','./library'],function(q,F,l){"use strict";var V=F.extend("sap.m.VBox",{metadata:{library:"sap.m"}});return V;},true);
sap.ui.predefine('sap/m/VBoxRenderer',['jquery.sap.global','./FlexBoxRenderer'],function(q,F){"use strict";var V={};V.render=function(r,c){F.render.apply(this,[r,c]);};return V;},true);
sap.ui.predefine('sap/m/ViewSettingsCustomItem',['jquery.sap.global','./ViewSettingsItem','sap/ui/base/ManagedObject','./library'],function(q,V,M,l){"use strict";var a=V.extend("sap.m.ViewSettingsCustomItem",{metadata:{library:"sap.m",properties:{filterCount:{type:"int",group:"Behavior",defaultValue:0}},aggregations:{customControl:{type:"sap.ui.core.Control",multiple:false}}}});a.prototype.exit=function(){if(this._control&&!this._control.getParent()){this._control.destroy();delete this._control;}};a.prototype.setCustomControl=function(c){this._control=c;return this;};a.prototype.getCustomControl=function(){return this._control;};a.prototype.setFilterCount=function(v){this.setProperty("filterCount",v,true);return this;};a.prototype.setSelected=function(v){this.setProperty("selected",v,true);return this;};a.prototype.clone=function(i,L,o){var c=M.prototype.clone.apply(this,arguments);c._control=this._control.clone();return c;};return a;},true);
sap.ui.predefine('sap/m/ViewSettingsCustomTab',['jquery.sap.global','./library','sap/ui/core/Item','sap/ui/core/IconPool'],function(q,l,I){"use strict";var V=I.extend("sap.m.ViewSettingsCustomTab",{metadata:{library:"sap.m",properties:{icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:"sap-icon://competitor"},title:{type:"string",defaultValue:""}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}}});V.prototype.init=function(){this._oTabButton=null;this._aTabContents=[];};V.prototype.exit=function(){if(this._oTabButton){this._oTabButton.destroy();delete this._oTabButton;}this._aTabContents.forEach(function(c,i){c.destroy();delete this._aTabContents[i];},this);};V.prototype.getTabButton=function(o){if(this._oTabButton===null){o=o||{};var i=o['idPrefix']||'custom-tab-';this._oTabButton=new sap.m.Button({id:i+this.getId(),icon:this.getIcon(),tooltip:this.getTooltip()});}return this._oTabButton;};return V;},true);
sap.ui.predefine('sap/m/ViewSettingsDialog',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/IconPool','./Toolbar','./CheckBox','./SearchField','./List','./StandardListItem','sap/ui/base/ManagedObject'],function(q,l,C,I,T,a,S,L,b,M){"use strict";var c="-list-item";var V=C.extend("sap.m.ViewSettingsDialog",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Behavior",defaultValue:null},sortDescending:{type:"boolean",group:"Behavior",defaultValue:false},groupDescending:{type:"boolean",group:"Behavior",defaultValue:false},filterSearchOperator:{type:"sap.m.StringFilterOperator",group:"Behavior",defaultValue:sap.m.StringFilterOperator.StartsWith}},aggregations:{sortItems:{type:"sap.m.ViewSettingsItem",multiple:true,singularName:"sortItem",bindable:"bindable"},groupItems:{type:"sap.m.ViewSettingsItem",multiple:true,singularName:"groupItem",bindable:"bindable"},filterItems:{type:"sap.m.ViewSettingsItem",multiple:true,singularName:"filterItem",bindable:"bindable"},presetFilterItems:{type:"sap.m.ViewSettingsItem",multiple:true,singularName:"presetFilterItem",bindable:"bindable"},customTabs:{type:"sap.m.ViewSettingsCustomTab",multiple:true,singularName:"customTab",bindable:"bindable"}},associations:{selectedSortItem:{type:"sap.m.ViewSettingsItem",multiple:false},selectedGroupItem:{type:"sap.m.ViewSettingsItem",multiple:false},selectedPresetFilterItem:{type:"sap.m.ViewSettingsItem",multiple:false}},events:{confirm:{parameters:{sortItem:{type:"sap.m.ViewSettingsItem"},sortDescending:{type:"boolean"},groupItem:{type:"sap.m.ViewSettingsItem"},groupDescending:{type:"boolean"},presetFilterItem:{type:"sap.m.ViewSettingsItem"},filterItems:{type:"sap.m.ViewSettingsItem[]"},filterKeys:{type:"object",deprecated:true},filterCompoundKeys:{type:"object"},filterString:{type:"string"}}},cancel:{},resetFilters:{},filterDetailPageOpened:{parameters:{parentFilterItem:{type:"sap.m.ViewSettingsFilterItem"}}}}}});V.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._sDialogWidth="350px";this._sDialogHeight="434px";this._bAppendedToUIArea=false;this._showSubHeader=false;this._filterDetailList=undefined;this._vContentPage=-1;this._oContentItem=null;this._oPreviousState={};this._sCustomTabsButtonsIdPrefix='-custom-button-';this._aggregationToListItems("sortItems",{text:{listProp:"title"},selected:{}},{type:sap.m.ListType.Active},{mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:true,selectionChange:function(o){var j=o.getParameter('listItem'),k=this.getSortItems(),n=this._getVSItem(j),i;n.setProperty('selected',o.getParameter('selected'),true,false);this.setAssociation('selectedSortItem',n,true);for(i=0;i<k.length;i++){if(n!==k[i]){k[i].setProperty('selected',false,true,false);}}}.bind(this)});};V.prototype.exit=function(){this._rb=null;this._sDialogWidth=null;this._sDialogHeight=null;this._bAppendedToUIArea=null;this._showSubHeader=null;this._vContentPage=null;this._oContentItem=null;this._oPreviousState=null;this._sortContent=null;this._groupContent=null;this._filterContent=null;this._sCustomTabsButtonsIdPrefix=null;this._fnFilterSearchCallback=null;if(this._bAppendedToUIArea){var o=sap.ui.getCore().getStaticAreaRef();o=sap.ui.getCore().getUIArea(o);o.removeContent(this,true);}if(this._dialog){this._dialog.destroy();this._dialog=null;}if(this._navContainer){this._navContainer.destroy();this._navContainer=null;}if(this._titleLabel){this._titleLabel.destroy();this._titleLabel=null;}if(this._page1){this._page1.destroy();this._page1=null;}if(this._header){this._header.destroy();this._header=null;}if(this._resetButton){this._resetButton.destroy();this._resetButton=null;}if(this._subHeader){this._subHeader.destroy();this._subHeader=null;}if(this._segmentedButton){this._segmentedButton.destroy();this._segmentedButton=null;}if(this._sortButton){this._sortButton.destroy();this._sortButton=null;}if(this._groupButton){this._groupButton.destroy();this._groupButton=null;}if(this._filterButton){this._filterButton.destroy();this._filterButton=null;}if(this._sortList){this._sortList.destroy();this._sortList=null;}if(this._ariaSortListInvisibleText){this._ariaSortListInvisibleText.destroy();this._ariaSortListInvisibleText=null;}if(this._sortOrderList){this._sortOrderList.destroy();this._sortOrderList=null;this._ariaSortOrderInvisibleText.destroy();this._ariaSortOrderInvisibleText=null;}if(this._oGroupingNoneItem){this._oGroupingNoneItem.destroy();this._oGroupingNoneItem=null;}if(this._groupList){this._groupList.destroy();this._groupList=null;this._ariaGroupListInvisibleText.destroy();this._ariaGroupListInvisibleText=null;}if(this._groupOrderList){this._groupOrderList.destroy();this._groupOrderList=null;this._ariaGroupOrderInvisibleText.destroy();this._ariaGroupOrderInvisibleText=null;}if(this._presetFilterList){this._presetFilterList.destroy();this._presetFilterList=null;}if(this._filterList){this._filterList.destroy();this._filterList=null;}if(this._page2){this._page2.destroy();this._page2=null;}if(this._detailTitleLabel){this._detailTitleLabel.destroy();this._detailTitleLabel=null;}if(this._filterDetailList){this._filterDetailList.destroy();this._filterDetailList=null;}if(this._oStringFilter){this._oStringFilter=null;}};V.prototype._aggregationToListItems=function(i,o,j,k){var t=this._getListType(i),n="_"+t+"List";if(!this.mToList){this.mToList={};}this.mToList[t]={"itemPropertyMap":o,"listItemOptions":j,"listOptions":k,"listName":n};};V.prototype._getListType=function(i){return i.replace('Items','');};V.prototype._createList=function(t){var i=this.getId()+"-"+t+"list",o=new L(i,this.mToList[t].listOptions);this[this.mToList[t].listName]=o;return o;};V.prototype._getList=function(t){if(!this.mToList||!this.mToList[t]){return;}return this[this.mToList[t].listName];};V.prototype._createListItem=function(t,o){var O=this.mToList[t].listItemOptions,i=this.mToList[t].itemPropertyMap,j;for(var p in i){if(i.hasOwnProperty(p)){j=i[p].listProp||p;O[j]=this._createListItemPropertyValue(t,p,o);}}return new b(O).data('item',o);};V.prototype._createListItemPropertyValue=function(t,p,o){var i=o.getMetadata().getAllProperties()[p].get(o),j=this.mToList[t].itemPropertyMap[p].fn;return j?j(i):i;};V.prototype._getListItem=function(t,o){var i=this._getList(t).getItems().filter(function(j){return j.data('item')===o;});return i.length?i[0]:null;};V.prototype._getVSItem=function(o){return o.data('item');};V.prototype.addCustomTab=function(o){var i=o.getId();if(i==='sort'||i==='filter'||i==='group'){throw'Id "'+i+'" is reserved and cannot be used as custom tab id.';}this.addAggregation('customTabs',o);return this;};V.prototype.invalidate=function(){if(this._dialog&&(!arguments[0]||arguments[0]&&arguments[0].getId()!==this.getId()+"-dialog")){this._dialog.invalidate(arguments);}};V.prototype.addStyleClass=function(){var D=this._getDialog();D.addStyleClass.apply(D,arguments);return this;};V.prototype.removeStyleClass=function(){var D=this._getDialog();D.removeStyleClass.apply(D,arguments);return this;};V.prototype.toggleStyleClass=function(){var D=this._getDialog();D.toggleStyleClass.apply(D,arguments);return this;};V.prototype.hasStyleClass=function(){var D=this._getDialog();return D.hasStyleClass.apply(D,arguments);};V.prototype.getDomRef=function(){if(this._dialog){return this._dialog.getDomRef.apply(this._dialog,arguments);}else{return null;}};V.prototype.setTitle=function(t){this._getTitleLabel().setText(t);this.setProperty("title",t,true);return this;};V.prototype.addAggregation=function(i,o,j){C.prototype.addAggregation.apply(this,arguments);var t=this._getListType(i);if(this.mToList[t]){var k=this._createListItem(t,o);var n=this._getList(t);if(!n){n=this._createList(t);}n.addItem(k);this._attachItemPropertyChange(t,o);}else{this._attachItemEventHandlers(i,o);}return this;};V.prototype.insertAggregation=function(i,o,j,k){C.prototype.insertAggregation.apply(this,arguments);var t=this._getListType(i);if(this.mToList[t]){var n=this._createListItem(t,o);var p=this._getList(t);if(!p){p=this._createList(t);}p.insertItem(n,j);this._attachItemPropertyChange(t,o);}else{this._attachItemEventHandlers(i,o);}return this;};V.prototype.removeAggregation=function(i,o,j){d.call(this,i,o);var R=C.prototype.removeAggregation.apply(this,arguments);var t=this._getListType(i);if(this.mToList[t]){var k=this._getListItem(t,R);var n=this._getList(t);var p=n.removeItem(k);p.destroy();this._detachItemPropertyChange(R);}return R;};V.prototype.removeAllAggregation=function(i,j){d.call(this);var R=C.prototype.removeAllAggregation.apply(this,arguments);var t=this._getListType(i);if(this.mToList[t]){var o=this._getList(t);if(o){var k=o.removeAllItems();k.forEach(function(n){n.destroy();});}R.forEach(function(n){this._detachItemPropertyChange(n);},this);}return R;};V.prototype.destroyAggregation=function(i,j){d.call(this);C.prototype.destroyAggregation.apply(this,arguments);var t=this._getListType(i);if(this.mToList[t]){var o=this._getList(t);if(o){o.destroyItems();}}return this;};V.prototype._detachItemPropertyChange=function(o){delete sap.ui.base.EventProvider.getEventList(o)["itemPropertyChanged"];};V.prototype._attachItemPropertyChange=function(t,o){o.attachEvent('itemPropertyChanged',function fnHandleItemPropertyChanged(i){var j,p,k,n,u,w;j=this._getListItem(t,o);p=i.getParameter('propertyKey');if(!this.mToList[t].itemPropertyMap[p]){return;}k=this.mToList[t].itemPropertyMap[p].listProp||p;n=i.getParameter('propertyValue');u=this.mToList[t].itemPropertyMap[p].fn;w=u?u(n):n;j.getMetadata().getAllProperties()[k].set(j,w);},this);};V.prototype._attachItemEventHandlers=function(i,o){if(i!=='groupItems'&&i!=='filterItems'){return this;}var t=i.replace('Items','');t=t.charAt(0).toUpperCase()+t.slice(1);o.attachEvent('itemPropertyChanged',function(i,j){if(i==='filterItems'&&j.getParameter('changedItem').getParent().getMetadata().getName()==='sap.m.ViewSettingsFilterItem'){if(j.getParameter('propertyKey')!=='selected'){if(this._vContentPage===3&&this._oContentItem){this._setFilterDetailTitle(this._oContentItem);this._initFilterDetailItems(this._oContentItem);}}else{if(this._filterDetailList){var k=this._filterDetailList.getItems();k.forEach(function(n){if(n.data('item').getId()===j.getParameter('changedItem').getId()){n.setSelected(j.getParameter('propertyValue'));}});this._updateSelectAllCheckBoxState();}}}else{if(typeof this['_init'+t+'Content']==='function'){this['_init'+t+'Content']();}if(typeof this['_init'+t+'Items']==='function'){this['_init'+t+'Items']();}}}.bind(this,i));o.attachEvent('filterDetailItemsAggregationChange',function(j){if(this._vContentPage===3&&this._oContentItem){this._setFilterDetailTitle(this._oContentItem);this._initFilterDetailItems(this._oContentItem);}}.bind(this));return this;};V.prototype._setFilterDetailTitle=function(i){this._getDetailTitleLabel().setText(this._rb.getText("VIEWSETTINGS_TITLE_FILTERBY")+" "+i.getText());};V.prototype.updateAggregation=function(i){C.prototype.updateAggregation.apply(this,arguments);if(i!=='groupItems'&&i!=='filterItems'){return this;}var t=i.replace('Items','');t=t.charAt(0).toUpperCase()+t.slice(1);if(typeof this['_init'+t+'Content']==='function'){this['_init'+t+'Content']();}if(typeof this['_init'+t+'Items']==='function'){this['_init'+t+'Items']();}};V.prototype.addSortItem=function(i){this.addAggregation("sortItems",i);if(i.getSelected()){this.setSelectedSortItem(i);}return this;};V.prototype.addGroupItem=function(i){this.addAggregation("groupItems",i);if(i.getSelected()){this.setSelectedGroupItem(i);}return this;};V.prototype.addPresetFilterItem=function(i){this.addAggregation("presetFilterItems",i);if(i.getSelected()){this.setSelectedPresetFilterItem(i);}return this;};V.prototype.setSelectedSortItem=function(j){var k=this.getSortItems(),i=0,o=f(j,k,"Could not set selected sort item. Item is not found: '"+j+"'");if(v(o)){for(i=0;i<k.length;i++){if(k[i].getId()!==o.getId()){k[i].setProperty('selected',false,true);}}if(o.getProperty('selected')!==true){o.setProperty('selected',true,true);}if(this._getDialog().isOpen()){this._updateListSelection(this._sortList,o);}this.setAssociation("selectedSortItem",o,true);}return this;};V.prototype.setSelectedGroupItem=function(j){var k=this.getGroupItems(),i=0,o=f(j,k,"Could not set selected group item. Item is not found: '"+j+"'");if(v(o)){for(i=0;i<k.length;i++){k[i].setProperty('selected',false,true);}o.setProperty('selected',true,true);if(this._getDialog().isOpen()){this._updateListSelection(this._groupList,o);}this.setAssociation("selectedGroupItem",o,true);}return this;};V.prototype.setSelectedPresetFilterItem=function(j){var k=this.getPresetFilterItems(),i=0,o=f(j,k,"Could not set selected preset filter item. Item is not found: '"+j+"'");if(v(o)){for(i=0;i<k.length;i++){k[i].setProperty('selected',false,true);}o.setProperty('selected',true,true);this._clearSelectedFilters();this.setAssociation("selectedPresetFilterItem",o,true);}return this;};V.prototype.open=function(p){if(!this.getParent()&&!this._bAppendedToUIArea){var o=sap.ui.getCore().getStaticAreaRef();o=sap.ui.getCore().getUIArea(o);o.addContent(this,true);this._bAppendedToUIArea=true;}if(p&&this._vContentPage===3){q.sap.delayedCall(0,this._getNavContainer(),"to",[this._getPage1().getId(),"show"]);}this._initDialogContent(p);this._oPreviousState={sortItem:sap.ui.getCore().byId(this.getSelectedSortItem()),sortDescending:this.getSortDescending(),groupItem:sap.ui.getCore().byId(this.getSelectedGroupItem()),groupDescending:this.getGroupDescending(),presetFilterItem:sap.ui.getCore().byId(this.getSelectedPresetFilterItem()),filterKeys:this.getSelectedFilterKeys(),filterCompoundKeys:this.getSelectedFilterCompoundKeys(),navPage:this._getNavContainer().getCurrentPage(),contentPage:this._vContentPage,contentItem:this._oContentItem};if(sap.ui.Device.system.desktop){this._getDialog().attachEventOnce("afterOpen",function(){var i=this._getNavContainer().getCurrentPage(),$;if(i){$=i.$("cont").firstFocusableDomRef();if($){if(q($).hasClass('sapMListUl')){var j=q($).find('.sapMLIB');j.length&&j[0].focus();return;}$.focus();}}},this);}this._getDialog().open();return this;};V.prototype.getSelectedFilterItems=function(){var k=[],F=this.getFilterItems(),n,o=true,i=0,j;for(;i<F.length;i++){if(F[i]instanceof sap.m.ViewSettingsCustomItem){if(F[i].getSelected()){k.push(F[i]);}}else if(F[i]instanceof sap.m.ViewSettingsFilterItem){n=F[i].getItems();o=F[i].getMultiSelect();for(j=0;j<n.length;j++){if(n[j].getSelected()){k.push(n[j]);if(!o){break;}}}}}return k;};V.prototype.getSelectedFilterString=function(){var F="",k,p=this.getSelectedPresetFilterItem(),n=this.getFilterItems(),o,t=true,i=0,j;if(p){F=this._rb.getText("VIEWSETTINGS_FILTERTEXT").concat(" "+sap.ui.getCore().byId(p).getText());}else{for(;i<n.length;i++){if(n[i]instanceof sap.m.ViewSettingsCustomItem){if(n[i].getSelected()){F+=n[i].getText()+", ";}}else if(n[i]instanceof sap.m.ViewSettingsFilterItem){o=n[i].getItems();t=n[i].getMultiSelect();k="";for(j=0;j<o.length;j++){if(o[j].getSelected()){k+=o[j].getText()+", ";if(!t){break;}}}k=k.substring(0,k.length-2);if(k){k=" ("+k+")";F+=n[i].getText()+k+", ";}}}F=F.substring(0,F.length-2);if(F){F=this._rb.getText("VIEWSETTINGS_FILTERTEXT").concat(" "+F);}}return F;};V.prototype.getSelectedFilterKeys=function(){var o={},j=this.getSelectedFilterItems(),i=0;for(;i<j.length;i++){o[j[i].getKey()]=j[i].getSelected();}return o;};V.prototype.getSelectedFilterCompoundKeys=function(){var o={},j=this.getSelectedFilterItems(),i,k,p,F;for(i=0;i<j.length;i++){F=j[i];if(F instanceof sap.m.ViewSettingsCustomItem){k=F.getKey();o[k]=F.getSelected();}else{k=F.getKey();p=F.getParent().getKey();if(!o[p]){o[p]={};}o[p][k]=F.getSelected();}}return o;};V.prototype.setSelectedFilterKeys=function(o){var F=this.getFilterItems(),n={},p,t,i,j,k;if(Object.keys(o).length){this._clearPresetFilter();}for(var K in o){p=null;if(o.hasOwnProperty(K)){for(i=0;i<F.length;i++){if(F[i]instanceof sap.m.ViewSettingsCustomItem){if(F[i].getKey()===K){p=F[i];F[i].setProperty('selected',o[K],true);}}else if(F[i]instanceof sap.m.ViewSettingsFilterItem){n=F[i].getItems();t=F[i].getMultiSelect();for(j=0;j<n.length;j++){if(n[j].getKey()===K){p=n[j];if(!t){for(k=0;k<n.length;k++){n[k].setProperty('selected',false,true);}}break;}}}if(p){break;}}if(p===null){q.sap.log.warning('Cannot set state for key "'+K+'" because there is no filter with these keys');continue;}p.setProperty('selected',o[K],true);}}return this;};V.prototype.setSelectedFilterCompoundKeys=function(o){var F=this.getFilterItems();var G=function(F,t,K){if(!t.hasOwnProperty(K)){return;}var n=g(F,K);return n;};if(Object.keys(o).length){this._clearPresetFilter();}for(var p in o){var P=G(F,o,p);if(!P){q.sap.log.warning('No filter with key "'+p);continue;}if(P instanceof sap.m.ViewSettingsCustomItem){P.setProperty('selected',o[p],true);}else if(P instanceof sap.m.ViewSettingsFilterItem){var i=o[p];var j=P.getItems();var k=P.getMultiSelect();for(var K in i){var n=G(j,i,K);if(!n){q.sap.log.warning('No filter with key "'+K);continue;}if(!k){j.forEach(function(t){t.setProperty('selected',false,true);});}n.setProperty('selected',i[K],true);}}}return this;};V.prototype._getDialog=function(){var t=this;if(this._dialog===undefined){this._dialog=new sap.m.Dialog(this.getId()+"-dialog",{showHeader:false,stretch:sap.ui.Device.system.phone,verticalScrolling:true,horizontalScrolling:false,contentWidth:this._sDialogWidth,contentHeight:this._sDialogHeight,content:this._getNavContainer(),beginButton:new sap.m.Button(this.getId()+"-acceptbutton",{text:this._rb.getText("VIEWSETTINGS_ACCEPT")}).attachPress(this._onConfirm,this),endButton:new sap.m.Button(this.getId()+"-cancelbutton",{text:this._rb.getText("VIEWSETTINGS_CANCEL")}).attachPress(this._onCancel,this)}).addStyleClass("sapMVSD");this.addDependent(this._dialog);var D=this._dialog.onsapescape;this._dialog.onsapescape=function(o){if(D){D.call(t._dialog,o);}t._onCancel();};this._dialog.onsapentermodifiers=function(o){if(o.shiftKey&&!o.ctrlKey&&!o.altKey){t._pressBackButton();}};}return this._dialog;};V.prototype._getNavContainer=function(){if(this._navContainer===undefined){this._navContainer=new sap.m.NavContainer(this.getId()+'-navcontainer',{pages:[]});}return this._navContainer;};V.prototype._getTitleLabel=function(){if(this._titleLabel===undefined){this._titleLabel=new sap.m.Label(this.getId()+"-title",{text:this._rb.getText("VIEWSETTINGS_TITLE")}).addStyleClass("sapMVSDTitle");}return this._titleLabel;};V.prototype._getResetButton=function(){var t=this;if(this._resetButton===undefined){this._resetButton=new sap.m.Button(this.getId()+"-resetbutton",{icon:I.getIconURI("refresh"),press:function(){t._onClearFilters();},tooltip:this._rb.getText("VIEWSETTINGS_CLEAR_FILTER_TOOLTIP")});}return this._resetButton;};V.prototype._getDetailTitleLabel=function(){if(this._detailTitleLabel===undefined){this._detailTitleLabel=new sap.m.Label(this.getId()+"-detailtitle",{text:this._rb.getText("VIEWSETTINGS_TITLE_FILTERBY")}).addStyleClass("sapMVSDTitle");}return this._detailTitleLabel;};V.prototype._getHeader=function(){if(this._header===undefined){this._header=new sap.m.Bar({contentMiddle:[this._getTitleLabel()]}).addStyleClass("sapMVSDBar");}return this._header;};V.prototype._getSubHeader=function(){if(this._subHeader===undefined){this._subHeader=new sap.m.Bar({contentLeft:[this._getSegmentedButton()]}).addStyleClass("sapMVSDBar");}return this._subHeader;};V.prototype._getSegmentedButton=function(){var t=this,j=this.getCustomTabs(),k=j.length,i=0;if(this._segmentedButton===undefined){this._segmentedButton=new sap.m.SegmentedButton({select:function(o){var n=o.getParameter('id');if(n===t.getId()+"-sortbutton"){t._switchToPage(0);}else if(n===t.getId()+"-groupbutton"){t._switchToPage(1);}else if(n===t.getId()+"-filterbutton"){t._switchToPage(2);}else{for(i=0;i<k;i++){var p=j[i];if(!t._isEmptyTab(p)&&n===p.getTabButton().getId()){t._switchToPage(p.getId());break;}}}q.sap.log.info('press event segmented: '+o.getParameter('id'));}}).addStyleClass("sapMVSDSeg");this._segmentedButton._bPreventWidthRecalculationOnAfterRendering=true;}return this._segmentedButton;};V.prototype._getSortButton=function(){if(this._sortButton===undefined){this._sortButton=new sap.m.Button(this.getId()+"-sortbutton",{icon:I.getIconURI("sort"),tooltip:this._rb.getText("VIEWSETTINGS_TITLE_SORT")});}return this._sortButton;};V.prototype._getGroupButton=function(){if(this._groupButton===undefined){this._groupButton=new sap.m.Button(this.getId()+"-groupbutton",{icon:I.getIconURI("group-2"),tooltip:this._rb.getText("VIEWSETTINGS_TITLE_GROUP")});}return this._groupButton;};V.prototype._getFilterButton=function(){if(this._filterButton===undefined){this._filterButton=new sap.m.Button(this.getId()+"-filterbutton",{icon:I.getIconURI("filter"),tooltip:this._rb.getText("VIEWSETTINGS_TITLE_FILTER")});}return this._filterButton;};V.prototype._getPage1=function(i){if(this._page1===undefined&&!i){this._page1=new sap.m.Page(this.getId()+'-page1',{title:this._rb.getText("VIEWSETTINGS_TITLE"),customHeader:this._getHeader()});this._getNavContainer().addPage(this._page1);}return this._page1;};V.prototype._getPage2=function(){var t=this,D,B,o;if(this._page2===undefined){B=new sap.m.Button(this.getId()+"-backbutton",{icon:I.getIconURI("nav-back"),press:[this._pressBackButton,this]});o=new sap.m.Button(this.getId()+"-detailresetbutton",{icon:I.getIconURI("refresh"),press:function(){t._onClearFilters();},tooltip:this._rb.getText("VIEWSETTINGS_CLEAR_FILTER_TOOLTIP")});D=new sap.m.Bar({contentLeft:[B],contentMiddle:[this._getDetailTitleLabel()],contentRight:[o]}).addStyleClass("sapMVSDBar");this._page2=new sap.m.Page(this.getId()+'-page2',{title:this._rb.getText("VIEWSETTINGS_TITLE_FILTERBY"),customHeader:D});this._getNavContainer().addPage(this._page2);}return this._page2;};V.prototype._initFilterDetailItems=function(o){var k;var n=o.getMultiSelect();var p=o.getItems();var t=this;if(this._filterDetailList){this._filterDetailList.destroy();}this._getPage2().removeAllAggregation('content');this._filterDetailList=new sap.m.List({mode:(n?sap.m.ListMode.MultiSelect:sap.m.ListMode.SingleSelectLeft),includeItemInSelection:true,selectionChange:function(u){var w,x=u.getParameter("listItems"),y,i=0,N;t._clearPresetFilter();if(n){this._updateSelectAllCheckBoxState();}if(x.length>1&&n){y=o.getItems();for(;i<y.length;i++){for(var j=0;j<x.length;j++){if(y[i].getKey()===x[j].getCustomData()[0].getValue().getKey()){y[i].setProperty('selected',x[j].getSelected(),true);}}}}else{w=u.getParameter("listItem").data("item");if(!o.getMultiSelect()){y=o.getItems();for(;i<y.length;i++){if(y[i].getId()!==w.getId()){y[i].setProperty('selected',false,true);}}}N=u.getParameter("listItem").getSelected();if(w.getProperty('selected')!==N){w.setProperty('selected',N,true);}}}.bind(this)});for(var i=0;i<p.length;i++){k=new sap.m.StandardListItem({title:p[i].getText(),type:sap.m.ListType.Active,selected:p[i].getSelected()}).data("item",p[i]);this._filterDetailList.addItem(k);}if(n){this._filterSearchField=this._getFilterSearchField(this._filterDetailList);this._selectAllCheckBox=this._createSelectAllCheckbox(p,this._filterDetailList);this._getPage2().addContent(this._filterSearchField.addStyleClass('sapMVSDFilterSearchField'));this._getPage2().getCustomHeader().addStyleClass('sapMVSDBarWithSearch');this._filterDetailList.setHeaderToolbar(new T({content:[this._selectAllCheckBox]}).addStyleClass('sapMVSDFilterHeaderToolbar'));}this._getPage2().addContent(this._filterDetailList);};V.prototype._initSortContent=function(){var t=this;if(this._sortContent){return;}this._vContentPage=-1;this._ariaSortOrderInvisibleText=new sap.ui.core.InvisibleText(this.getId()+"-sortOrderLabel",{text:this._rb.getText("VIEWSETTINGS_SORT_DIRECTION").concat(":")});this._sortOrderList=new sap.m.List(this.getId()+"-sortorderlist",{mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:true,selectionChange:function(o){t.setProperty('sortDescending',o.getParameter("listItem").data("item"),true);},ariaLabelledBy:this._ariaSortOrderInvisibleText}).addStyleClass("sapMVSDUpperList");this._sortOrderList.addItem(new sap.m.StandardListItem({title:this._rb.getText("VIEWSETTINGS_ASCENDING_ITEM")}).data("item",false).setSelected(true));this._sortOrderList.addItem(new sap.m.StandardListItem({title:this._rb.getText("VIEWSETTINGS_DESCENDING_ITEM")}).data("item",true));this._ariaSortListInvisibleText=new sap.ui.core.InvisibleText(this.getId()+"-sortListLabel",{text:this._rb.getText("VIEWSETTINGS_TITLE_SORT").concat(":")});this._sortList.addAriaLabelledBy(this._ariaSortListInvisibleText);this._sortContent=[this._ariaSortOrderInvisibleText,this._sortOrderList,this._ariaSortListInvisibleText,this._sortList];};V.prototype._initGroupItems=function(){var o,H,G=this.getGroupItems();this._groupList.destroyItems();if(!!G.length){G.forEach(function(i){o=new sap.m.StandardListItem({id:i.getId()+c,title:i.getText(),type:sap.m.ListType.Active,selected:i.getSelected()}).data("item",i);this._groupList.addItem(o);},this);if(!this._oGroupingNoneItem||this._oGroupingNoneItem.bIsDestroyed){H=!!this.getSelectedGroupItem();this._oGroupingNoneItem=new sap.m.ViewSettingsItem({text:this._rb.getText("VIEWSETTINGS_NONE_ITEM"),selected:!H,itemPropertyChanged:function(){this._initGroupContent();this._initGroupItems();}.bind(this)});!H&&this.setAssociation("selectedGroupItem",this._oGroupingNoneItem,true);}o=new sap.m.StandardListItem({id:this._oGroupingNoneItem.getId()+c,title:this._oGroupingNoneItem.getText(),type:sap.m.ListType.Active,selected:this._oGroupingNoneItem.getSelected()}).data("item",this._oGroupingNoneItem);this._groupList.addItem(o);}};V.prototype._initGroupContent=function(){var t=this;if(this._groupContent){return;}this._vContentPage=-1;this._ariaGroupOrderInvisibleText=new sap.ui.core.InvisibleText(this.getId()+"-groupOrderLabel",{text:this._rb.getText("VIEWSETTINGS_GROUP_DIRECTION").concat(":")});this._groupOrderList=new sap.m.List(this.getId()+"-grouporderlist",{mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:true,selectionChange:function(o){t.setProperty('groupDescending',o.getParameter("listItem").data("item"),true);},ariaLabelledBy:this._ariaGroupOrderInvisibleText}).addStyleClass("sapMVSDUpperList");this._groupOrderList.addItem(new sap.m.StandardListItem({title:this._rb.getText("VIEWSETTINGS_ASCENDING_ITEM")}).data("item",false).setSelected(true));this._groupOrderList.addItem(new sap.m.StandardListItem({title:this._rb.getText("VIEWSETTINGS_DESCENDING_ITEM")}).data("item",true));this._ariaGroupListInvisibleText=new sap.ui.core.InvisibleText(this.getId()+"-groupListLabel",{text:this._rb.getText("VIEWSETTINGS_TITLE_GROUP").concat(":")});this._groupList=new sap.m.List(this.getId()+"-grouplist",{mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:true,selectionChange:function(o){var i=o.getParameter("listItem").data("item");t.setSelectedGroupItem(i);},ariaLabelledBy:this._ariaGroupListInvisibleText});this._groupContent=[this._ariaGroupOrderInvisibleText,this._groupOrderList,this._ariaGroupListInvisibleText,this._groupList];};V.prototype._initFilterItems=function(){var p,F,o,t=this;this._presetFilterList.destroyItems();p=this.getPresetFilterItems();if(p.length){p.forEach(function(i){o=new sap.m.StandardListItem({id:i.getId()+c,title:i.getText(),type:sap.m.ListType.Active,selected:i.getSelected()}).data("item",i);this._presetFilterList.addItem(o);},this);}if(p.length){o=new sap.m.StandardListItem({id:"none"+c,title:this._rb.getText("VIEWSETTINGS_NONE_ITEM"),selected:!!this.getSelectedPresetFilterItem()});this._presetFilterList.addItem(o);}this._filterList.destroyItems();F=this.getFilterItems();if(F.length){F.forEach(function(i){o=new sap.m.StandardListItem({id:i.getId()+c,title:i.getText(),type:sap.m.ListType.Active,press:(function(i){return function(j){if(t._navContainer.getCurrentPage().getId()!==t.getId()+'-page2'){t._switchToPage(3,i);t._prevSelectedFilterItem=this;q.sap.delayedCall(0,t._navContainer,"to",[t.getId()+'-page2',"slide"]);}if(sap.ui.Device.system.desktop&&t._filterDetailList&&t._filterDetailList.getItems()[0]){t._getNavContainer().attachEventOnce("afterNavigate",function(){t._filterDetailList.getItems()[0].focus();});}};}(i))}).data("item",i);this._filterList.addItem(o);},this);}};V.prototype._initFilterContent=function(){var t=this;if(this._filterContent){return;}this._vContentPage=-1;this._presetFilterList=new sap.m.List(this.getId()+"-predefinedfilterlist",{mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:true,selectionChange:function(o){var i=o.getParameter("listItem").data("item");if(i){i.setProperty('selected',o.getParameter("listItem").getSelected(),true);}t.setAssociation("selectedPresetFilterItem",i,true);t._clearSelectedFilters();}}).addStyleClass("sapMVSDUpperList");this._filterList=new sap.m.List(this.getId()+"-filterlist",{});this._filterContent=[this._presetFilterList,this._filterList];};V.prototype._initDialogContent=function(p){var i=!!this.getSortItems().length,G=!!this.getGroupItems().length,P=!!this.getPresetFilterItems().length,F=!!this.getFilterItems().length;if(i){this._initSortContent();}if(G){this._initGroupContent();this._initGroupItems();}if(P||F){this._initFilterContent();this._initFilterItems();}this._updateDialogState(p);this._updateListSelections();};V.prototype._updateDialogState=function(p){var i=!!this.getSortItems().length,G=!!this.getGroupItems().length,P=!!this.getPresetFilterItems().length,F=!!this.getFilterItems().length,j=!!this.getCustomTabs().length,o=this._getSegmentedButton(),k=null,n=false,D={"sort":0,"group":1,"filter":2};o.removeAllButtons();if(this._filterContent){this._presetFilterList.setVisible(true);this._filterList.setVisible(true);}if(i){o.addButton(this._getSortButton());}if(P||F){o.addButton(this._getFilterButton());if(!P){this._presetFilterList.setVisible(false);this._presetFilterList.addStyleClass("sapMVSDUpperList");}if(!F){this._filterList.setVisible(false);this._presetFilterList.removeStyleClass("sapMVSDUpperList");}}if(G){o.addButton(this._getGroupButton());}if(j){this.getCustomTabs().forEach(function(u){if(!this._isEmptyTab(u)){var B=u.getTabButton({'idPrefix':this.getId()+this._sCustomTabsButtonsIdPrefix});o.addButton(B);}}.bind(this));}this._showSubHeader=this._hasSubHeader();if(p===undefined&&this._vContentPage!==-1){p=this._vContentPage;switch(p){case 0:p='sort';break;case 1:p='group';break;case 2:p='filter';break;}}if(p===this._vContentPage&&this._vContentPage===3){this._vContentPage=-1;this._switchToPage(3,this._oContentItem);}else{p=this._determineValidPageId(p);for(var t in D){if(p===t){n=true;k=this.getId()+'-'+p+'button';p=D[t];break;}}if(!n){k=this.getId()+this._sCustomTabsButtonsIdPrefix+p;}this._getSegmentedButton().setSelectedButton(k);this._switchToPage(p);if(this._getNavContainer().getCurrentPage()!==this._getPage1()){this._getNavContainer().to(this._getPage1().getId());}}};V.prototype._determineValidPageId=function(p){var D='sort',H=false,i=[];i=this._fetchValidPagesIds();if(i.length){D=i[0];}else{q.sap.log.warning('No available pages to load - missing items.');}if(!p){p=D;}else{i.filter(function(j){if(j===p){H=true;return false;}return true;});if(!H){p=D;}}return p;};V.prototype._fetchValidPagesIds=function(){var i,j=this.getCustomTabs(),k=j.length,n=[];var p=['sort','filter','group'];p.forEach(function(P){if(this._isValidPredefinedPageId(P)){n.push(P);}},this);for(i=0;i<k;i++){var o=j[i];if(!this._isEmptyTab(o)){n.push(o.getId());}}return n;};V.prototype._isEmptyTab=function(o){return!(o.getContent().length||this._vContentPage===o.getId()&&this._getPage1().getContent().length);};V.prototype._isValidPredefinedPageId=function(n){if(!n){q.sap.log.warning('Missing mandatory parameter.');return false;}var H=false;switch(n){case'sort':H=!!this.getSortItems().length;break;case'filter':H=!!this.getFilterItems().length||!!this.getPresetFilterItems().length;break;case'group':H=!!this.getGroupItems().length;break;}return H;};V.prototype._pressBackButton=function(){var t=this;if(this._vContentPage===3){this._updateFilterCounters();this._getNavContainer().attachEvent("afterNavigate",function(){if(t._prevSelectedFilterItem){t._prevSelectedFilterItem.focus();}});q.sap.delayedCall(0,this._getNavContainer(),'back');this._switchToPage(2);this._segmentedButton.setSelectedButton(this._filterButton);}};V.prototype.setModel=function(o,n){if(this._vContentPage===3&&this._oContentItem){r.call(this);}return sap.ui.base.ManagedObject.prototype.setModel.call(this,o,n);};V.prototype.removeFilterItem=function(F){var i="";if(this._vContentPage===3&&this._oContentItem){if(typeof(F)==="object"){i=F.getId();}else if(typeof(F)==="string"){i=F;}else if(typeof(F)==="number"){i=this.getFilterItems()[F].getId();}if(this._oContentItem.getId()===i){r.call(this);}}return this.removeAggregation('filterItems',F);};V.prototype.removeAllFilterItems=function(){if(this._vContentPage===3&&this._oContentItem){r.call(this);}return this.removeAllAggregation('filterItems');};V.prototype.setFilterSearchCallback=function(t){this._fnFilterSearchCallback=t;return this;};V.prototype._switchToPage=function(w,o){var i=0,t=this._getTitleLabel(),R=this._getResetButton(),H=this._getHeader(),j=this._getSubHeader();if(this._vContentPage===w&&w!==3){if(H.getContentRight().length===0&&j.getContentRight().length===0){this._addResetButtonToPage1();}return false;}this._getPage2().getCustomHeader().removeStyleClass('sapMVSDBarWithSearch');if(e.call(this)){d.call(this);}H.removeAllContentRight();j.removeAllContentRight();this._vContentPage=w;this._oContentItem=o;if(w!==3){this._getPage1().removeAllAggregation("content",true);this._addResetButtonToPage1();}else if(w===3){this._getPage2().removeAllAggregation("content",true);}if(this.getTitle()){t.setText(this.getTitle());}else{t.setText(this._rb.getText("VIEWSETTINGS_TITLE"));}switch(w){case 1:R.setVisible(false);if(!this._showSubHeader&&!this.getTitle()){t.setText(this._rb.getText("VIEWSETTINGS_TITLE_GROUP"));}for(;i<this._groupContent.length;i++){this._getPage1().addContent(this._groupContent[i]);}break;case 2:R.setVisible(!!this.getFilterItems().length);if(!this._showSubHeader&&!this.getTitle()){t.setText(this._rb.getText("VIEWSETTINGS_TITLE_FILTER"));}this._updateListSelection(this._presetFilterList,sap.ui.getCore().byId(this.getSelectedPresetFilterItem()));this._updateFilterCounters();for(;i<this._filterContent.length;i++){this._getPage1().addContent(this._filterContent[i]);}break;case 3:this._setFilterDetailTitle(o);if(o instanceof sap.m.ViewSettingsCustomItem&&o.getCustomControl()){this._clearPresetFilter();this._getPage2().addContent(o.getCustomControl());}else if(o instanceof sap.m.ViewSettingsFilterItem&&o.getItems()){this._initFilterDetailItems(o);}break;case 0:R.setVisible(false);if(!this._getPage1().getSubHeader()&&!this.getTitle()){t.setText(this._rb.getText("VIEWSETTINGS_TITLE_SORT"));}if(this._sortContent){for(;i<this._sortContent.length;i++){this._getPage1().addContent(this._sortContent[i]);}}break;default:R.setVisible(false);this._getPage1().removeAllAggregation("content",true);var k="VIEWSETTINGS_TITLE";var n=this.getCustomTabs();if(n.length<2){k=n[0].getTitle();}if(!this._getPage1().getSubHeader()&&!this.getTitle()){t.setText(k);}n.forEach(function(p){if(p.getId()===w){p.getContent().forEach(function(u){this._getPage1().addContent(u);},this);}},this);break;}if(w===3){this.fireFilterDetailPageOpened({parentFilterItem:o});}};V.prototype._createSelectAllCheckbox=function(F,o){var i=false;if(F&&F.length!==0){i=F.every(function(k){return k.getSelected();});}var j=new a({text:this._rb.getText("COLUMNSPANEL_SELECT_ALL"),selected:i,select:function(k){var n=k.getParameter('selected');o.getItems().filter(function(p){return p.getVisible();}).forEach(function(p){var t=p.data("item");t.setSelected(n);});}});return j;};V.prototype._updateSelectAllCheckBoxState=function(){var i=false,j=this._filterDetailList.getItems(),k=[];if(!this._selectAllCheckBox){return;}if(j&&j.length!==0){k=j.filter(function(o){return o.getVisible();});}if(k.length!==0){i=k.every(function(o){return o.getSelected();});}this._selectAllCheckBox.setSelected(i);};V.prototype._getFilterSearchField=function(F){var t=this,o=new S({liveChange:function(i){var Q=i.getParameter('newValue'),j=t._getStringFilter();F.getItems().forEach(function(k){var n=j(Q,k.getTitle());k.setVisible(n);});t._updateSelectAllCheckBoxState();}});return o;};V.prototype._getStringFilter=function(){if(this._fnFilterSearchCallback){return this._fnFilterSearchCallback;}if(!this._oStringFilter||this._oStringFilter.sOperator!==this.getFilterSearchOperator()){this._oStringFilter=new h(this.getFilterSearchOperator());}return this._oStringFilter.filter.bind(this._oStringFilter);};V.prototype._updateListSelections=function(){this._updateListSelection(this._sortList,sap.ui.getCore().byId(this.getSelectedSortItem()));this._updateListSelection(this._sortOrderList,this.getSortDescending());this._updateListSelection(this._groupList,sap.ui.getCore().byId(this.getSelectedGroupItem()));this._updateListSelection(this._groupOrderList,this.getGroupDescending());this._updateListSelection(this._presetFilterList,sap.ui.getCore().byId(this.getSelectedPresetFilterItem()));this._updateFilterCounters();};V.prototype._updateListSelection=function(o,j){var k,i=0;if(!o){return false;}k=o.getItems();o.removeSelections();for(;i<k.length;i++){if(k[i].data("item")===j||k[i].data("item")===null){o.setSelectedItem(k[i],(j&&j.getSelected?j.getSelected():true));return true;}}return false;};V.prototype._updateFilterCounters=function(){var k=(this._filterList?this._filterList.getItems():[]),o,n,F=0,i=0,j;for(;i<k.length;i++){o=k[i].data("item");F=0;if(o){if(o instanceof sap.m.ViewSettingsCustomItem){F=o.getFilterCount();}else if(o instanceof sap.m.ViewSettingsFilterItem){F=0;n=o.getItems();for(j=0;j<n.length;j++){if(n[j].getSelected()){F++;}}}}k[i].setCounter(F);}};V.prototype._clearSelectedFilters=function(){var k=this.getFilterItems(),n,i=0,j;for(;i<k.length;i++){if(k[i]instanceof sap.m.ViewSettingsFilterItem){n=k[i].getItems();for(j=0;j<n.length;j++){n[j].setProperty('selected',false,true);}}k[i].setProperty('selected',false,true);}if(this._vContentPage===2&&this._getDialog().isOpen()){this._updateFilterCounters();}};V.prototype._clearPresetFilter=function(){if(this.getSelectedPresetFilterItem()){this.setSelectedPresetFilterItem(null);}};V.prototype._calculateNumberOfPages=function(){var i=0,j=!!this.getSortItems().length,G=!!this.getGroupItems().length,p=!!this.getPresetFilterItems().length,F=!!this.getFilterItems().length;if(j){i++;}if(p||F){i++;}if(G){i++;}this.getCustomTabs().forEach(function(o){if(!this._isEmptyTab(o)){i++;}},this);return i;};V.prototype._hasSubHeader=function(){return!(this._calculateNumberOfPages()<2);};function r(){this._vContentPage=2;this._oContentItem=null;this._navContainer.to(this._getPage1().getId(),"show");}function g(j,k){var i,o;for(i=0;i<j.length;i++){if(j[i].getKey()===k){o=j[i];break;}}return o;}function f(i,j,k){var o;if(typeof i==="string"){o=g(j,i);if(!o){q.sap.log.error(k);}}else{o=i;}return o;}function v(i){return i&&i instanceof sap.m.ViewSettingsItem;}V.prototype._onConfirm=function(o){var D=this._getDialog(),t=this,i=function(){var j,G,k=t.getSelectedGroupItem();if(!t._oGroupingNoneItem||k!=t._oGroupingNoneItem.getId()){G=sap.ui.getCore().byId(k);}j={sortItem:sap.ui.getCore().byId(t.getSelectedSortItem()),sortDescending:t.getSortDescending(),groupItem:G,groupDescending:t.getGroupDescending(),presetFilterItem:sap.ui.getCore().byId(t.getSelectedPresetFilterItem()),filterItems:t.getSelectedFilterItems(),filterKeys:t.getSelectedFilterKeys(),filterCompoundKeys:t.getSelectedFilterCompoundKeys(),filterString:t.getSelectedFilterString()};t._dialog.detachAfterClose(i);t.fireConfirm(j);};D.attachAfterClose(i);D.close();};V.prototype._onCancel=function(o){var t=this,D=this._getDialog(),i=function(){t.setSelectedSortItem(t._oPreviousState.sortItem);t.setSortDescending(t._oPreviousState.sortDescending);t.setSelectedGroupItem(t._oPreviousState.groupItem);t.setGroupDescending(t._oPreviousState.groupDescending);t.setSelectedPresetFilterItem(t._oPreviousState.presetFilterItem);t._clearSelectedFilters();t.setSelectedFilterCompoundKeys(t._oPreviousState.filterCompoundKeys);if(t._navContainer.getCurrentPage()!==t._oPreviousState.navPage){q.sap.delayedCall(0,t._navContainer,"to",[t._oPreviousState.navPage.getId(),"show"]);}t._switchToPage(t._oPreviousState.contentPage,t._oPreviousState.contentItem);t._dialog.detachAfterClose(i);t.fireCancel();};D.attachAfterClose(i);D.close();};V.prototype._onClearFilters=function(){this._clearSelectedFilters();this._clearPresetFilter();this.fireResetFilters();this._updateFilterCounters();if(this._vContentPage===3){q.sap.delayedCall(0,this._getNavContainer(),'to',[this._getPage1().getId()]);this._switchToPage(2);this._getSegmentedButton().setSelectedButton(this._getFilterButton());}this._updateListSelection(this._presetFilterList,sap.ui.getCore().byId(this.getSelectedPresetFilterItem()));};V.prototype._addResetButtonToPage1=function(){var H=this._getHeader(),o=this._getSubHeader(),R=this._getResetButton();if(this._showSubHeader){if(!this._getPage1().getSubHeader()){this._getPage1().setSubHeader(o);}o.addContentRight(R);}else{if(this._getPage1().getSubHeader()){this._getPage1().setSubHeader();}H.addContentRight(R);}};V.prototype._applyContextualSettings=function(){M.prototype._applyContextualSettings.call(this,M._defaultContextualSettings);};function d(i,o){if(!this._getPage1(true)){return;}if(i==='customTabs'&&o){if(o.getMetadata().getName()===this.getMetadata().getManagedAggregation(i).type&&this._vContentPage===o.getId()){var p=this._getPage1().getContent();p.forEach(function(j){o.addAggregation('content',j,true);});}}else if(!i&&!o){var p=this._getPage1().getContent();this.getCustomTabs().forEach(function(o){if(this._vContentPage===o.getId()){p.forEach(function(j){o.addAggregation('content',j,true);});}},this);}}function e(){var p=[-1,0,1,2,3];return(this._getPage1().getContent().length&&p.indexOf(this._vContentPage)===-1);}V.prototype.setBusy=function(B){this._getDialog().setBusy(B);return this;};var h=function(o){this.sOperator=o||sap.m.StringFilterOperator.StartsWith;switch(this.sOperator){case sap.m.StringFilterOperator.Equals:this.fnOperator=E;break;case sap.m.StringFilterOperator.Contains:this.fnOperator=m;break;case sap.m.StringFilterOperator.StartsWith:this.fnOperator=s;break;case sap.m.StringFilterOperator.AnyWordStartsWith:this.fnOperator=A;break;default:q.sap.log.warning("Unknown string compare operator. Use values from sap.m.StringFilterOperator. Default operator should be used.");this.fnOperator=m;break;}};h.prototype.filter=function(Q,i){if(!Q){return true;}if(!i){return false;}i=i.toLowerCase();Q=Q.toLowerCase();return this.fnOperator(Q,i);};function E(Q,i){return i===Q;}function m(Q,i){return i.indexOf(Q)>-1;}function s(Q,i){return i.indexOf(Q)===0;}function A(Q,i){var j=new RegExp(".*\\b"+Q+".*");return j.test(i);}return V;},true);
sap.ui.predefine('sap/m/ViewSettingsDialogRenderer',['jquery.sap.global'],function(q){"use strict";var V={};V.render=function(r,c){};return V;},true);
sap.ui.predefine('sap/m/ViewSettingsFilterItem',['jquery.sap.global','./ViewSettingsItem','./library'],function(q,V,l){"use strict";var a=V.extend("sap.m.ViewSettingsFilterItem",{metadata:{library:"sap.m",properties:{multiSelect:{type:"boolean",group:"Behavior",defaultValue:true}},aggregations:{items:{type:"sap.m.ViewSettingsItem",multiple:true,singularName:"item",bindable:"bindable"}},events:{filterDetailItemsAggregationChange:{}}}});a.prototype._handleNewAggregationEvents=function(o){o.attachEvent('itemPropertyChanged',function(e){this.fireItemPropertyChanged({changedItem:e.getParameter('changedItem'),propertyKey:e.getParameter('propertyKey'),propertyValue:e.getParameter('propertyValue')});}.bind(this));this.fireFilterDetailItemsAggregationChange({item:o});};a.prototype.addAggregation=function(A,o,s){sap.ui.base.ManagedObject.prototype.addAggregation.apply(this,arguments);this._handleNewAggregationEvents(o);return this;};a.prototype.insertAggregation=function(A,o,i,s){sap.ui.base.ManagedObject.prototype.insertAggregation.apply(this,arguments);this._handleNewAggregationEvents(o);return this;};a.prototype.removeAggregation=function(A,o,s){sap.ui.base.ManagedObject.prototype.removeAggregation.apply(this,arguments);this.fireFilterDetailItemsAggregationChange();return this;};a.prototype.removeAllAggregation=function(A,s){sap.ui.base.ManagedObject.prototype.removeAllAggregation.apply(this,arguments);this.fireFilterDetailItemsAggregationChange();return this;};a.prototype.destroyAggregation=function(A,s){sap.ui.base.ManagedObject.prototype.destroyAggregation.apply(this,arguments);this.fireFilterDetailItemsAggregationChange();return this;};return a;},true);
sap.ui.predefine('sap/m/ViewSettingsItem',['jquery.sap.global','./library','sap/ui/core/Item'],function(q,l,I){"use strict";var V=I.extend("sap.m.ViewSettingsItem",{metadata:{library:"sap.m",properties:{selected:{type:"boolean",group:"Behavior",defaultValue:false}},events:{itemPropertyChanged:{parameters:{changedItem:{type:'sap.m.ViewSettingsItem'},propertyKey:{type:"string"},propertyValue:{type:"any"}}}}}});V.prototype.setProperty=function(n,v,s,f){sap.ui.base.ManagedObject.prototype.setProperty.apply(this,arguments);f=f===undefined?true:f;if(f){this.fireItemPropertyChanged({changedItem:this,propertyKey:n,propertyValue:v});}};return V;},true);
sap.ui.predefine('sap/m/ViewSettingsPopover',["jquery.sap.global","./ResponsivePopover","./Button","./Toolbar","./ToolbarSpacer","./Bar","./List","./StandardListItem","./library","sap/ui/core/Control","sap/ui/core/IconPool","./Text","sap/ui/core/Icon","./SegmentedButton","./Page","./NavContainer","./Popover","./ViewSettingsItem","sap/ui/base/ManagedObject"],function(q,R,B,T,a,b,L,S,l,C,I,c,d,e,P,N,f,V,M){"use strict";var g='-toolbar';var h='-segmented';var j='-listitem';var k='-group';var m='-filter';var n='-sort';var F='-filterdetailItem';var o='-navContainer';var p='-mainPage';var D='-detailspage';var r='-backbutton';var s='-title';var t='-searchfield';var u='-selectall';var v=C.extend("sap.m.ViewSettingsPopover",{metadata:{library:"sap.m",aggregations:{sortItems:{type:"sap.ui.core.Item",multiple:true,singularName:"sortItem"},filterItems:{type:"sap.ui.core.Item",multiple:true,singularName:"filterItem"},filterDetailItems:{type:"sap.ui.core.Item",multiple:true,singularName:"filterDetailItem"},groupItems:{type:"sap.ui.core.Item",multiple:true,singularName:"groupItem"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{afterOpen:{parameters:{openBy:{type:"sap.ui.core.Control"}}},afterClose:{parameters:{openBy:{type:"sap.ui.core.Control"}}},beforeOpen:{parameters:{openBy:{type:"sap.ui.core.Control"}}},beforeClose:{parameters:{openBy:{type:"sap.ui.core.Control"}}},sortSelected:{allowPreventDefault:true,parameters:{items:{type:"array"}}},filterSelected:{allowPreventDefault:true,parameters:{items:{type:"array"}}},groupSelected:{allowPreventDefault:true,parameters:{items:{type:"array"}}},afterFilterDetailPageOpened:{parameters:{parentFilterItem:{type:"sap.m.ViewSettingsFilterItem"}}}}},constructor:function(i,w){this._stashedItems={};if(!w&&i&&typeof i==='object'){w=i;}this._stashItems(w);if(w&&Array.isArray(w['sortItems'])){w['sortItems']=null;}if(w&&Array.isArray(w['filterItems'])){w['filterItems']=null;}if(w&&Array.isArray(w['groupItems'])){w['groupItems']=null;}M.prototype.constructor.apply(this,arguments);this._getPopover().addContent(this._getNavContainer());this._addStashedItems();}});v.prototype.init=function(){this._tabMap={sort:'sort',filter:'filter',filterDetail:'filterDetail',group:'group'};};v.prototype.openBy=function(i){this._getPopover(i).openBy(i);if(sap.ui.Device.system.phone){this._showContentFor(this._determinePageToOpen());}else{this._removeSegmentedButtonSelection();this._adjustInitialWidth();}this._initialHeight=this._getPopover().getContentHeight();if(this._getSegmentedButton().getItems()&&this._getSegmentedButton().getItems().length===1){this._showContentFor(this._determinePageToOpen());}};v.prototype._removeSegmentedButtonSelection=function(){this._getSegmentedButton().setProperty('selectedKey','',true).removeAllAssociation('selectedButton',true);this._getSegmentedButton().getButtons().forEach(function(i){i.$().removeClass("sapMSegBBtnSel").attr("aria-checked",false);});};v.prototype.toggle=function(i){if(this.isOpen()){this.close();}else{this.openBy(i);}return this;};v.prototype.isOpen=function(){return this._getPopover().isOpen();};v.prototype.close=function(){this._getPopover().close();this._cleanAfterClose();return this;};v.prototype._determinePageToOpen=function(){var i,w,x;for(i in this._tabMap){w=this._tabMap[i];w=w.slice(0,1).toUpperCase()+w.slice(1);x=this['_get'+w+'List']().getItems();if(x.length){return this._tabMap[i];}}return this._tabMap['sort'];};v.prototype._removeFooter=function(){if(this._getPopover()._oFooter){this._getPopover()._oFooter.destroy();this._getPopover()._oFooter=null;}this._getPopover().destroyAggregation('beginButton');this._getPopover().destroyAggregation('endButton');};v.prototype._showContentFor=function(i,w,x){this._getPopover().setContentHeight('300px');this._getPopover().setContentWidth('300px');this._removePageContents(i);this._addPageContents(i);if(i===this._tabMap['filterDetail']){this._updateTitleText(this._getText('VIEWSETTINGS_TITLE_FILTERBY')+w.getTitle(),true);this._goToDetailsPage(w,x);}else{this._updateTitleText(i);if(i===this._tabMap['filter']){this._updateFilterListItemsCount();}this._goToMainPage();}this._getSegmentedButton().setSelectedKey(i);this._currentPageId=i;};v.prototype._updateTitleText=function(i,w){var x,y=i;if(!w){x=i;if(x=='filterDetail'){x='filter';}x="VIEWSETTINGS_TITLE_"+x.toUpperCase();y=this._getText(x);}if(w&&this._getDetailsPage().getHeaderContent()[0].getContentMiddle()){this._getDetailsPage().getHeaderContent()[0].getContentMiddle()[0].setText(y);}else{this._getTitle().setText(y);}};v.prototype._goToDetailsPage=function(i,w){var x=this._findViewSettingsItemFromListItem(i).getMultiSelect();if(x){this._getSearchField().setValue('');this._getDetailsPage().insertAggregation('content',new T({content:[this._getSearchField().addStyleClass('sapMVSDFilterSearchField'),this._getShowSelectedOnlyButton()]}),0);this._getFilterDetailList().setHeaderToolbar(new T({content:[this._getSelectAllCheckbox(this._findViewSettingsItemFromListItem(i).getItems(),this._getFilterDetailList())]}).addStyleClass('sapMVSDFilterHeaderToolbar'));}else{this._getFilterDetailList().removeAllAggregation('headerToolbar');}this._updateFilterDetailListFor(i);this._navigateToPage('Details',w);this._addFooterButtons();this._updateSelectAllCheckBoxState();if(sap.ui.Device.system.phone){this._hideToolbarButtons();}this._lastViewedFilterParent=i;this._oPreviousSelectedFilters={selectedItemIds:this._getFilterDetailList().getSelectedItems().map(function(y){return y.getId();})};this.fireAfterFilterDetailPageOpened({parentFilterItem:i});};v.prototype._getShowSelectedOnlyButton=function(){var i=false;if(!this._oShowSelectedOnlyButton){this._oShowSelectedOnlyButton=new sap.m.Button({icon:I.getIconURI("multiselect-all"),tooltip:this._getText('SHOW_SELECTED_ONLY'),press:function(E){i=!i;if(i){E.getSource().$("inner").addClass('sapMBtnActive');}this._getFilterDetailList().getItems().forEach(function(w){if(i){if(!w.getSelected()){w.setVisible(false);}}else if(!i){this._filterItemsBy(this._getSearchField().getValue());}},this);this._updateSelectAllCheckBoxState();}.bind(this)});}return this._oShowSelectedOnlyButton;};v.prototype._updateSelectAllCheckBoxState=function(){var w=sap.ui.getCore().byId(this.getId()+u),x=this._getFilterDetailList().getItems()||[],A=true,y=0,i;for(i=0;i<x.length;i++){if(x[i].getVisible()){y++;if(!x[i].getSelected()){A=false;}}}if(w){w.setSelected(A&&y);}};v.prototype._addFooterButtons=function(){var i=new B({text:this._getText("VIEWSETTINGS_ACCEPT"),press:this._confirmFilterDetail.bind(this)}),w=new B({text:this._getText("VIEWSETTINGS_CANCEL"),press:this._cancel.bind(this)});this._getPopover().setBeginButton(i);this._getPopover().setEndButton(w);};v.prototype._confirmFilterDetail=function(){var i=this._getFilterDetailList().getItems().filter(function(w){return w.getSelected();});this.fireFilterSelected({items:i.map(function(w){return this._findViewSettingsItemFromListItem(w);}.bind(this))});this.close();};v.prototype._cancel=function(){this._restorePreviousState();this._updateFilterListItemsCount();this.close();};v.prototype._restorePreviousState=function(){var w;if(this._oPreviousSelectedFilters){w=function(x,y,z){var i;for(i=0;i<x.length;i++){if(y.getId()===x[i]){z.setProperty('selected',true,true);break;}}};this._getFilterDetailList().getItems().forEach(function(i){var x=this._findViewSettingsItemFromListItem(i);x.setProperty('selected',false,true);w(this._oPreviousSelectedFilters.selectedItemIds,i,x);},this);this._updateSelectAllCheckBoxState();}};v.prototype._hideToolbarButtons=function(){this._getPopover().setShowHeader(false);q.sap.delayedCall(0,this,function(){if(this._getPopover().getAggregation('_popup')._internalHeader){this._getPopover().getAggregation('_popup')._internalHeader.$().hide();}});};v.prototype._goToMainPage=function(){this._getPopover().setShowHeader(true);this._getPopover().setCustomHeader(this._getToolbar());this._oPreviousSelectedFilters=null;this._navigateToPage('Main');};v.prototype._adjustInitialWidth=function(){var i,w,x,y,z=this._getSegmentedButton(),A=z&&z.getButtons();if(!A||!A[0]){return;}i=A[0].$().width();w=parseInt(A[0].$().css('margin-right'),10);x=A.length;if(sap.m._bSizeCompact||!!document.querySelector('.sapUiSizeCompact')){i=i*2;}y=(i+w)*(x+1.6);this._getPopover().setContentWidth(y+"px");};v.prototype._navigateToPage=function(i,w){var x;if(this._getNavContainer().getCurrentPage().getId()!==this['_get'+i+'PageId']()){if(i==='Details'){if(w){this._getNavContainer().to(this['_get'+i+'Page'](),'show');x=sap.ui.getCore().byId(this.getId()+r);x&&x.destroy();x=null;}else{q.sap.delayedCall(0,this._getNavContainer(),"to",[this['_get'+i+'Page'](),"slide"]);}}else{q.sap.delayedCall(0,this._getNavContainer(),'back');}}this._getNavContainer().attachEventOnce("afterNavigate",function(){if(this._currentPageId!==this._tabMap['filterDetail']){this._removeFooter();if(sap.ui.Device.system.desktop&&this._lastViewedFilterParent&&this._lastViewedFilterParent.getFocusDomRef()){this._lastViewedFilterParent.getFocusDomRef().focus();}}else{if(sap.ui.Device.system.desktop&&this._getFilterDetailList().getItems()[0]&&this._getFilterDetailList().getItems()[0].getFocusDomRef()){this._getFilterDetailList().getItems()[0].getFocusDomRef().focus();}}}.bind(this));};v.prototype._updateFilterListItemsCount=function(){var i,w,x=this._getFilterList().getItems();x.forEach(function(y){if(y.getId().indexOf('nofiltering')===-1){w=this._findViewSettingsItemFromListItem(y);if(w instanceof sap.m.ViewSettingsCustomItem){i=w.getFilterCount();}else if(w instanceof sap.m.ViewSettingsFilterItem){i=w.getItems().filter(function(z){return z.getSelected();}).length;}y.setCounter(i);}},this);};v.prototype._updateFilterDetailListFor=function(i){var w=this._findViewSettingsItemFromListItem(i).getMultiSelect();var x=sap.ui.getCore().byId(i.getId().split(j).shift());var y=x&&x.getItems()||[];var z=this._getFilterDetailList();z.destroyAggregation("items");if(w){z.setIncludeItemInSelection(true);z.setMode(sap.m.ListMode.MultiSelect);}else{z.setMode(sap.m.ListMode.SingleSelectLeft);}y.forEach(function(A){z.addItem(new S({id:A.getId()+F,title:A.getText(),type:sap.m.ListType.Active,selected:A.getSelected()}));},this);};v.prototype._removePageContents=function(i){var w,x,y,G='_getMainPage';if(i==='filterDetail'){G='_getDetailsPage';}y=this[G]().getContent()[0];for(w in this._tabMap){x=this._tabMap[w];if(y){if(y.getId()===x+'list'){this['_'+x+'List']=y;}}}this[G]().removeAllContent();};v.prototype._addPageContents=function(i){var w,x,y,G='_getMainPage';if(i==='filterDetail'){G='_getDetailsPage';}for(w in this._tabMap){x=this._tabMap[w];if(x===i){x=x.slice(0,1).toUpperCase()+x.slice(1);y=this['_get'+x+'List']();this[G]().addContent(y);}}};v.prototype._stashItems=function(i){var w=['sort','filter','group'];w.forEach(function(x){if(i&&Array.isArray(i[x+'Items'])){this._stashedItems[x]=i[x+'Items'];}},this);};v.prototype._addStashedItems=function(i){var w,x,y,z;for(w in this._tabMap){var z=this._tabMap[w];x=this._stashedItems[z];for(y in x){var A=x[y];this.addAggregation(z+'Items',A);}}};v.prototype._handleBack=function(E){if(this._currentPageId==='filterDetail'){this._showContentFor('filter');}};v.prototype._getSelectAllCheckbox=function(i,w){var x=sap.ui.getCore().byId(this.getId()+u);if(x){return x;}return new sap.m.CheckBox({id:this.getId()+u,text:'Select All',selected:i&&i.every(function(y){return y&&y.getSelected();}),select:function(E){var y=E.getParameter('selected');w.getItems().filter(function(z){return z.getVisible();}).forEach(function(z){var A=this._findViewSettingsItemFromListItem(z);A.setProperty('selected',y,true);}.bind(this));this._toggleRemoveFilterItem();}.bind(this)});};v.prototype._createList=function(i){var w=new L({id:this.getId()+'-'+i+'list',selectionChange:function(E){this._updateSelectAllCheckBoxState();var x=this._findViewSettingsItemFromListItem(E.getParameter('listItem'));var y;var z;var A=[];x.setProperty('selected',E.getParameter('selected'),true);if(w.getMode()!==sap.m.ListMode.MultiSelect){y=this.getFilterItems();if(y){y.forEach(function(H){z=H.getItems();if(z){A=A.concat(z);}});}A.forEach(function(H){if(H.getParent().getId()===x.getParent().getId()&&H.getSelected(true)&&H.getId()!==x.getId()){H.setProperty('selected',false,true);}});}var G=i.slice(0,1).toUpperCase()+i.slice(1);if(i==='filterDetail'){G='Filter';}else{this['fire'+G+'Selected']({items:[x]});this.close();}switch(i){case'group':this._getGroupList().addItem(this._getRemoveGroupingItem());break;}}.bind(this)});if(i!=='filter'){w.setMode(sap.m.ListMode.SingleSelectMaster);}this['_'+i+'List']=w;};v.prototype._getRemoveGroupingItem=function(){if(!this._removeGroupingItem){this._removeGroupingItem=new S({id:this.getId()+'-nogrouping',title:this._getText('NO_GROUPING'),type:sap.m.ListType.Active});}return this._removeGroupingItem;};v.prototype._getRemoveFilterItem=function(){if(!this._removeFilteringItem){this._removeFilteringItem=new S({id:this.getId()+'-nofiltering',title:this._getText('REMOVE_FILTER'),type:sap.m.ListType.Active,press:function(){this.getFilterItems().forEach(function(i){i.getItems().forEach(function(w){w.setProperty('selected',false,true);});});this.close();this._removeFilteringItem.destroy();this._removeFilteringItem=null;}.bind(this)});}return this._removeFilteringItem;};v.prototype._addTab=function(i){var w=this._tabMap[i];switch(w){case'group':w=w+'-2';break;}var x=new sap.m.SegmentedButtonItem({key:i,icon:I.getIconURI(w),tooltip:this._getText("VIEWSETTINGS_TITLE_"+i.toUpperCase()),press:function onTabPress(E){var y=E.getSource().getProperty('key');var z=this['get'+y.slice(0,1).toUpperCase()+y.slice(1)+'Items']();if(this._currentPageId===y||this._currentPageId===this._tabMap['filterDetail']&&z&&z.length>1){if(sap.ui.Device.system.phone){this._cancel();}else{this._hideContent();}}else{if(z&&z.length===1){if(y!=='filter'){z.forEach(function(A){A.setSelected(!A.getSelected());});this['fire'+y.slice(0,1).toUpperCase()+y.slice(1)+'Selected']({items:z});this.close();}else{this._showContentFor('filterDetail',this._findListItemFromViewSettingsItem(z[0]),true);}}else{this._showContentFor(y);}}}.bind(this)});switch(i){case'sort':this._getSegmentedButton().insertAggregation('items',x,0);break;case'filter':this._getSegmentedButton().insertAggregation('items',x,1);break;case'group':this._getSegmentedButton().addItem(x);break;}this._getSegmentedButton().updateItems();};v.prototype._hideContent=function(){this._removeSegmentedButtonSelection();this._cleanAfterClose();q.sap.delayedCall(0,this,'_adjustInitialWidth');};v.prototype._cleanAfterClose=function(){this._removePageContents(this._currentPageId);this._getPopover().setContentHeight(this._initialHeight);this._removeFooter();this._navigateToPage('Main');this._currentPageId=null;};v.prototype._removeTab=function(i){var w=this._getSegmentedButton().getItems();w.forEach(function(x){if(x.getKey()===i.toLowerCase()){this._getSegmentedButton().removeItem(x);}},this);if(this._currentPageId===i.toLowerCase()){this._showContentFor(this._determinePageToOpen());}};v.prototype._getPopoverAriaLabel=function(){var i=this.getAssociation("ariaLabelledBy");if(!i){i=new sap.ui.core.InvisibleText({text:this._getText("ARIA_LABELLED_BY_POPOVER")}).toStatic().getId();this.setAssociation("ariaLabelledBy",i,true);}return i;};v.prototype._isItemsAggregation=function(A){var i=[];var w;for(w in this._tabMap){i.push(w+'Items');}if(i.indexOf(A)===-1){return false;}return true;};v.prototype.addAggregation=function(A,O,i){if(this._isItemsAggregation(A)){(!this.getAggregation(A)||this.getAggregation(A).length===0)&&this._addTab(A.replace('Items',''));this._handleItemsAggregation.call(this,['addAggregation',A,O,i],true);}return C.prototype.addAggregation.call(this,A,O,i);};v.prototype.insertAggregation=function(A,O,i,w){if(this._isItemsAggregation(A)){(!this.getAggregation(A)||this.getAggregation(A).length===0)&&this._addTab(A.replace('Items',''));this._handleItemsAggregation.call(this,['insertAggregation',A,O,i,w],true);}return C.prototype.insertAggregation.call(this,A,O,i,w);};v.prototype.removeAggregation=function(A,O,i){if(this._isItemsAggregation(A)){this._handleItemsAggregation.call(this,['removeAggregation',A,O,i]);if(!this['getAggregation'](A)){this._removeTab(A.replace('Items',''));}}return C.prototype.removeAggregation.call(this,A,O,i);};v.prototype.removeAllAggregation=function(A,i){if(this._isItemsAggregation(A)){this._handleItemsAggregation.call(this,['removeAllAggregation',A,null,i]);this._removeTab(A.replace('Items',''));}return C.prototype.removeAllAggregation.call(this,A,i);};v.prototype.destroyAggregation=function(A,i){if(this._isItemsAggregation(A)){var w=A.replace('Items','');this._handleItemsAggregation.call(this,['destroyAggregation',A,i]);this._removeTab(w.slice(0,1).toUpperCase()+w.slice(1));}return C.prototype.destroyAggregation.call(this,A,i);};v.prototype._handleItemsAggregation=function(A,i){var w=A[0],x=A[1],O=A[2],y=A.slice(1);if(!this._isItemsAggregation(x)){return this;}if(i){this._attachItemEventListeners(O);}else{this._detachItemEventListeners(O);}this._handleListItemsAggregation(y,i,w,O);return this;};v.prototype._handleListItemsAggregation=function(A,i,w,O){var x,y,z,E,G,H=A[0],J=false;switch(H){case'sortItems':x=this._getSortList();break;case'groupItems':x=this._getGroupList();break;case'filterItems':x=this._getFilterList();break;}if(w==='destroyAggregation'&&!x){return;}if(O===null||typeof O!=='object'){return x[w]['apply'](x,A);}if(i){J=H==='filterItems'&&O.getItems;z=this._createListItemFromViewSettingsItem(O,H.replace("Items",""),J);}else{z=this._findListItemFromViewSettingsItem(O);}A.forEach(function(K,Q){if(K&&typeof K==='object'){A[Q]=z;}});for(E in this._tabMap){G=this._tabMap[E];A[0]=A[0].replace(G+'I','i');}y=x[w].apply(x,A);if(w=='removeAggregation'){y.destroy();}switch(H){case'filterItems':this._toggleRemoveFilterItem();break;}return y;};v.prototype._toggleRemoveFilterItem=function(){var H=false;this.getFilterItems().forEach(function(i){if(i.getItems){i.getItems().forEach(function(w){if(w.getSelected()){H=true;}});}});if(H){if(!this._getRemoveFilterItem().getParent()){this._getFilterList().addItem(this._getRemoveFilterItem());}}else{if(this._removeFilteringItem){this._removeFilteringItem.destroy();this._removeFilteringItem=null;}}};v.prototype._attachItemEventListeners=function(O){if(O instanceof V&&O.getId().indexOf('nogrouping')===-1){O.detachItemPropertyChanged(this._handleViewSettingsItemPropertyChanged.bind(this));O.attachItemPropertyChanged(this._handleViewSettingsItemPropertyChanged.bind(this));}if(O instanceof sap.m.ViewSettingsFilterItem){O.detachFilterDetailItemsAggregationChange(this._handleFilterDetailItemsAggregationChange.bind(this));O.attachFilterDetailItemsAggregationChange(this._handleFilterDetailItemsAggregationChange.bind(this));}};v.prototype._handleViewSettingsItemPropertyChanged=function(E){var i=E.getParameter('changedItem');var w=this._findListItemFromViewSettingsItem(i);var x=E.getParameter('propertyKey');var y=E.getParameter('propertyValue');if(x==='text'){x='title';}if(w&&['key','multiSelect'].indexOf(x)==-1){w.setProperty(x,y);}};v.prototype._handleFilterDetailItemsAggregationChange=function(E){var i=E.getParameters(),w=i.item||i.changedItem;if(w&&w.getParent&&w.getParent()instanceof V){this._updateFilterDetailListFor(w.getParent());}};v.prototype._detachItemEventListeners=function(O){};v.prototype._createListItemFromViewSettingsItem=function(i,w,H){var x,y=j;if(!i&&!(i instanceof sap.m.ViewSettingsItem)){q.sap.log.error('Expecting instance of "sap.m.ViewSettingsItem": instead of '+i+' given.');return;}switch(w){case"group":y+=k;break;case"filter":y+=m;break;case"sort":y+=n;break;}x=new sap.m.StandardListItem({id:i.getId()+y,title:i.getText(),type:sap.m.ListType.Active});H&&x.attachPress(this._showContentFor.bind(this,'filterDetail',x,false))&&x.setType(sap.m.ListType.Navigation);return x;};v.prototype._findViewSettingsItemFromListItem=function(i){var w=j;if(i.getId().indexOf('filterdetail')!==-1){w=F;}return sap.ui.getCore().byId(i.getId().split(w).shift());};v.prototype._findListItemFromViewSettingsItem=function(i){var w=i.getId()+j,x=sap.ui.getCore().byId(w+k)||sap.ui.getCore().byId(w+m)||sap.ui.getCore().byId(w+n);if(!x){x=sap.ui.getCore().byId(i.getId()+F);}return x;};v.prototype._getMainPage=function(){if(!this._mainPage){this._mainPage=new P({showHeader:true,id:this._getMainPageId()});this._getMainPage().addHeaderContent(new sap.m.Bar({contentMiddle:this._getTitle()}).addStyleClass('sapMVSDBar').addStyleClass("sapMVSPCompactHeaderBar"));}return this._mainPage;};v.prototype._getDetailsPage=function(){var i,w;if(!this._detailsPage){this._detailsPage=new P({showHeader:true,id:this._getDetailsPageId()});var x=new sap.m.Label({text:this._getText("VIEWSETTINGS_TITLE")}).addStyleClass("sapMVSDTitle");w=new sap.m.Bar({contentMiddle:[x]}).addStyleClass("sapMVSPCompactHeaderBar");this._getDetailsPage().addHeaderContent(w);i=new sap.m.Button(this.getId()+r,{icon:I.getIconURI("nav-back"),press:this._handleBack.bind(this)});w.addContentLeft(i);}return this._detailsPage;};v.prototype._getMainPageId=function(){return this.getId()+p;};v.prototype._getDetailsPageId=function(){return this.getId()+D;};v.prototype._getPopover=function(O){if(!this._popover){this._popover=new R({showHeader:true,contentWidth:"300px",placement:sap.m.VerticalPlacementType.Vertical,showCloseButton:false,modal:false,afterOpen:function(E){this.fireAfterOpen({openBy:E.getParameter("openBy")});this.$().attr("aria-labelledby",this._getPopoverAriaLabel());this._getSegmentedButton().getFocusDomRef().focus();}.bind(this),afterClose:function(E){this._cleanAfterClose();this.fireAfterClose({openBy:E.getParameter("openBy")});}.bind(this),beforeOpen:function(E){this.fireBeforeOpen({openBy:E.getParameter("openBy")});}.bind(this),beforeClose:function(E){this.fireBeforeClose({openBy:E.getParameter("openBy")});}.bind(this)}).addStyleClass('sapMVSPopover');this._popover.setCustomHeader(this._getToolbar());if(this._popover.getAggregation('_popup').setShowArrow){this._popover.getAggregation('_popup').setShowArrow(false);}}if(O&&O.$()){this._popover.setOffsetY(-O.$().height());}return this._popover;};v.prototype._getNavContainer=function(){if(!this._navContainer){this._navContainer=new N(this.getId()+o,{initialPage:this._getMainPageId(),pages:[this._getMainPage(),this._getDetailsPage()]});}return this._navContainer;};v.prototype._getSortList=function(){if(!this._sortList){this._createList('sort');}return this._sortList;};v.prototype._getGroupList=function(){if(!this._groupList){this._createList('group');}return this._groupList;};v.prototype._getFilterList=function(){if(!this._filterList){this._createList('filter');}return this._filterList;};v.prototype._getFilterDetailList=function(){if(!this._filterDetailList){this._createList('filterDetail');this._filterDetailList.attachEvent('selectionChange',function(){this._toggleRemoveFilterItem();}.bind(this));}return this._filterDetailList;};v.prototype._getToolbar=function(){if(!this._toolbar){var i;this._toolbar=new sap.m.Toolbar({id:this.getId()+g});this._oCloseBtnARIAInvText=new sap.ui.core.InvisibleText({text:this._getText("MESSAGEPOPOVER_CLOSE")});i=new B({icon:I.getIconURI("decline"),ariaLabelledBy:this._oCloseBtnARIAInvText.toStatic().getId(),press:this._cancel.bind(this)}).addStyleClass('sapMVSPCloseBtn');this._toolbar.addContent(this._getSegmentedButton());this._toolbar.addContent(new a());this._toolbar.addContent(i);}return this._toolbar;};v.prototype._getTitle=function(){if(!this._title){this._title=new sap.m.Label(this.getId()+"-title",{id:this.getId()+s,text:this._getText("VIEWSETTINGS_TITLE")}).addStyleClass("sapMVSDTitle");}return this._title;};v.prototype._getSearchField=function(){if(!this._filterSearchField){this._filterSearchField=new sap.m.SearchField({id:this.getId()+t,liveChange:function(E){this._filterItemsBy(E.getParameter('newValue').toLowerCase());}.bind(this)});this._updateSelectAllCheckBoxState();}return this._filterSearchField;};v.prototype._filterItemsBy=function(Q){this._getFilterDetailList().getItems().forEach(function(i){var w=i.getTitle().toLowerCase().indexOf(Q)===0;i.setVisible(w);});this._updateSelectAllCheckBoxState();};v.prototype._getSegmentedButton=function(){if(!this._segmentedButton){this._segmentedButton=new e(this.getId()+h);}return this._segmentedButton;};v.prototype._getText=function(K){return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText(K);};v.prototype.getDomRef=function(i){return this._popover&&this._popover.getAggregation("_popup").getDomRef(i);};["invalidate","close","isOpen","addStyleClass","removeStyleClass","toggleStyleClass","hasStyleClass","setBindingContext","getBindingContext","getBinding","getBindingInfo","getBindingPath","setBusy","getBusy","setBusyIndicatorDelay","getBusyIndicatorDelay"].forEach(function(i){v.prototype[i]=function(){if(this._popover&&this._popover[i]){var w=this._popover[i].apply(this._popover,arguments);return w===this._popover?this:w;}};});v.prototype.exit=function(){if(this._sortList){this._sortList.destroy();this._sortList=null;}if(this._filterList){this._filterList.destroy();this._filterList=null;}if(this._filterDetailList){this._filterDetailList.destroy();this._filterDetailList=null;}if(this._groupList){this._groupList.destroy();this._groupList=null;}this._popover.destroy();this._popover=null;this._oCloseBtnARIAInvText.destroy();this._oCloseBtnARIAInvText=null;this._title=null;this._navContainer=null;this._mainPage=null;this._detailsPage=null;this._toolbar=null;this._segmentedButton=null;this._currentPageId=null;this._tabMap=null;this._oPreviousSelectedFilters=null;var i=sap.ui.getCore().byId(this.getAssociation("ariaLabelledBy"));if(i&&i.destroy&&!i.bIsDestroyed){i.destroy();i=null;}if(this._removeFilteringItem){this._removeFilteringItem.destroy();this._removeFilteringItem=null;}};return v;},false);
sap.ui.predefine('sap/m/ViewSettingsPopoverRenderer',["jquery.sap.global"],function(q){"use strict";var V={};V.render=function(r,c){};return V;},true);
sap.ui.predefine('sap/m/VisibleItem',['jquery.sap.global','./library','sap/ui/core/Item'],function(q,l,I){"use strict";var V=I.extend("sap.m.VisibleItem",{metadata:{library:"sap.m",properties:{visible:{type:"boolean",group:"Behavior",defaultValue:true}}}});V.prototype._getRefs=function(){var p=this.getParent(),$,t=this;if(p&&p.$("content")){$=p.$("content").find("li").filter(function(){return q(this).html()===t.getText();});}return $;};V.prototype.setVisible=function(v){if(this.getVisible()===v){return;}var $=this._getRefs();if($){if(v){$.removeClass('TPSliderItemHidden');}else{$.addClass('TPSliderItemHidden');}}return this.setProperty('visible',v,true);};return V;},false);
sap.ui.predefine('sap/m/Wizard',["jquery.sap.global","./library","sap/ui/core/Control","sap/ui/core/delegate/ScrollEnablement","./WizardStep","./WizardProgressNavigator","./Button"],function(q,l,C,S,W,a,B){"use strict";var b=C.extend("sap.m.Wizard",{metadata:{library:"sap.m",properties:{width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"auto"},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%"},showNextButton:{type:"boolean",group:"Behavior",defaultValue:true},finishButtonText:{type:"string",group:"Appearance",defaultValue:"Review"},enableBranching:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"steps",aggregations:{steps:{type:"sap.m.WizardStep",multiple:true,singularName:"step"},_progressNavigator:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_nextButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{stepActivate:{parameters:{index:{type:"int"}}},complete:{parameters:{}}}}});b.CONSTANTS={MINIMUM_STEPS:3,MAXIMUM_STEPS:8,ANIMATION_TIME:300,SCROLL_OFFSET:65};b.prototype.init=function(){this._stepCount=0;this._stepPath=[];this._scrollLocked=false;this._scroller=this._initScrollEnablement();this._resourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._initProgressNavigator();};b.prototype.onBeforeRendering=function(){if(!this._isMinStepCountReached()||this._isMaxStepCountExceeded()){q.sap.log.error("The Wizard is supposed to handle from 3 to 8 steps.");}this._initNextButton();this._saveInitialValidatedState();var s=this._getStartingStep();if(this._stepPath.indexOf(s)<0){this._activateStep(s);this._updateProgressNavigator();this._setNextButtonPosition();}};b.prototype.onAfterRendering=function(){this._attachScrollHandler();};b.prototype.exit=function(){this._scroller.destroy();this._scroller=null;this._stepPath=null;this._stepCount=null;this._scrollLocked=null;this._resourceBundle=null;};b.prototype.validateStep=function(s){if(!this._containsStep(s)){q.sap.log.error("The wizard does not contain this step");return this;}s.setProperty("validated",true,true);this._updateNextButtonState();return this;};b.prototype.invalidateStep=function(s){if(!this._containsStep(s)){q.sap.log.error("The wizard does not contain this step");return this;}s.setProperty("validated",false,true);this._updateNextButtonState();return this;};b.prototype.nextStep=function(){var c=this._getProgressNavigator().getProgress()-1;var d=this._stepPath[c];this.validateStep(d);this._handleNextButtonPress();return this;};b.prototype.previousStep=function(){var p=this._getProgressNavigator().getProgress()-2;if(p>=0){this.discardProgress(this._stepPath[p]);}return this;};b.prototype.getProgress=function(){return this._getProgressNavigator().getProgress();};b.prototype.getProgressStep=function(){return this._stepPath[this.getProgress()-1];};b.prototype.goToStep=function(s,f){if(!this.getVisible()||this._stepPath.indexOf(s)<0){return this;}var t=this,c={scrollTop:this._getStepScrollOffset(s)},d={queue:false,duration:b.CONSTANTS.ANIMATION_TIME,start:function(){t._scrollLocked=true;},complete:function(){t._scrollLocked=false;var p=t._getProgressNavigator();if(!p){return;}p._updateCurrentStep(t._stepPath.indexOf(s)+1,undefined,true);if(f||f===undefined){t._focusFirstStepElement(s);}}};this.$().find("#"+this.getId()+"-step-container").animate(c,d);return this;};b.prototype.discardProgress=function(s){var p=this.getProgress(),c=this._stepPath,d=this._stepPath.indexOf(s)+1;if(d>p||d<=0){q.sap.log.warning("The given step is either not yet reached, or is not present in the wizard control.");return this;}this._getProgressNavigator().discardProgress(d,true);this._updateNextButtonState();this._setNextButtonPosition();this._restoreInitialValidatedState(d);this._stepPath[d-1]._markAsLast();for(var i=d;i<c.length;i++){c[i]._deactivate();if(c[i].getSubsequentSteps().length>1){c[i].setNextStep(null);}}if(s.getSubsequentSteps().length>1){s.setNextStep(null);}c.splice(d);this._updateProgressNavigator();return this;};b.prototype.setShowNextButton=function(v){this.setProperty("showNextButton",v,true);if(this._getNextButton()){this._getNextButton().setVisible(v);}return this;};b.prototype.setFinishButtonText=function(v){this.setProperty("finishButtonText",v,true);this._updateNextButtonState();return this;};b.prototype.getFinishButtonText=function(){if(this.getProperty("finishButtonText")==="Review"){return this._resourceBundle.getText("WIZARD_FINISH");}else{return this.getProperty("finishButtonText");}};b.prototype.addStep=function(w){if(this._isMaxStepCountExceeded()){q.sap.log.error("The Wizard is supposed to handle up to 8 steps.");return this;}this._incrementStepCount();return this.addAggregation("steps",w);};b.prototype.insertStep=function(w,i){throw new Error("Dynamic step insertion is not yet supported.");};b.prototype.removeStep=function(w){throw new Error("Dynamic step removal is not yet supported.");};b.prototype.removeAllSteps=function(){this._resetStepCount();return this.removeAllAggregation("steps");};b.prototype.destroySteps=function(){this._resetStepCount();this._getProgressNavigator().setStepCount(this._getStepCount());return this.destroyAggregations("steps");};b.prototype._initScrollEnablement=function(){return new S(this,null,{scrollContainerId:this.getId()+"-step-container",horizontal:false,vertical:true});};b.prototype._initProgressNavigator=function(){var t=this,p=new a(this.getId()+"-progressNavigator",{stepChanged:this._handleStepChanged.bind(this),stepActivated:this._handleStepActivated.bind(this)});p._setOnEnter(function(e,s){var c=t._stepPath[s];q.sap.delayedCall(b.CONSTANTS.ANIMATION_TIME,t,function(){this._focusFirstStepElement(c);});});this.setAggregation("_progressNavigator",p);};b.prototype._initNextButton=function(){if(this._getNextButton()){return;}this.setAggregation("_nextButton",this._createNextButton());this._setNextButtonPosition();};b.prototype._createNextButton=function(){var f=this._getStartingStep(),i=(f)?f.getValidated():true,n=new B(this.getId()+"-nextButton",{text:this._resourceBundle.getText("WIZARD_STEP")+" "+2,type:sap.m.ButtonType.Emphasized,enabled:i,press:this._handleNextButtonPress.bind(this),visible:this.getShowNextButton()});n.addStyleClass("sapMWizardNextButton");n.addEventDelegate({onAfterRendering:this._toggleNextButtonVisibility},this);this._nextButton=n;return n;};b.prototype._handleNextButtonPress=function(){var i,p=this._getProgressNavigator(),c=this._stepPath[this._stepPath.length-1],d=p.getProgress(),s=p.getStepCount();if(this.getEnableBranching()){i=c._isLeaf();}else{i=d===s;}if(i){this.fireComplete();}else{if(d===s){p.setStepCount(s+1);p.rerender();}p.incrementProgress();}this._updateNextButtonState();};b.prototype._toggleNextButtonVisibility=function(){q.sap.delayedCall(0,this,function(){if(this._getNextButton().getEnabled()){this._getNextButton().addStyleClass("sapMWizardNextButtonVisible");}else{this._getNextButton().removeStyleClass("sapMWizardNextButtonVisible");}});};b.prototype._getStepScrollOffset=function(s){var c=s.$().position().top,d=this._scroller.getScrollTop(),p=this._stepPath[this.getProgress()-1],e=0;if(!sap.ui.Device.system.phone&&!q.sap.containsOrEquals(p.getDomRef(),this._nextButton.getDomRef())){e=this._nextButton.$().outerHeight();}return(d+c)-(b.CONSTANTS.SCROLL_OFFSET+e);};b.prototype._focusFirstStepElement=function(s){var $=s.$();if($.firstFocusableDomRef()){$.firstFocusableDomRef().focus();}};b.prototype._handleStepChanged=function(e){var p=e.getParameter("current")-2;var c=this._stepPath[p];var s=this._getNextStep(c,p);var f=sap.ui.Device.system.desktop?true:false;this.goToStep(s,f);};b.prototype._handleStepActivated=function(e){var i=e.getParameter("index"),p=i-2,c=this._stepPath[p];c._complete();var n=this._getNextStep(c,p);this._activateStep(n);this._updateProgressNavigator();this.fireStepActivate({index:i});this._setNextButtonPosition();};b.prototype._isMaxStepCountExceeded=function(){if(this.getEnableBranching()){return false;}var s=this._getStepCount();return s>=b.CONSTANTS.MAXIMUM_STEPS;};b.prototype._isMinStepCountReached=function(){var s=this._getStepCount();return s>=b.CONSTANTS.MINIMUM_STEPS;};b.prototype._getStepCount=function(){return this._stepCount;};b.prototype._incrementStepCount=function(){this._stepCount+=1;this._getProgressNavigator().setStepCount(this._getStepCount());};b.prototype._decrementStepCount=function(){this._stepCount-=1;this._getProgressNavigator().setStepCount(this._getStepCount());};b.prototype._resetStepCount=function(){this._stepCount=0;this._getProgressNavigator().setStepCount(this._getStepCount());};b.prototype._getProgressNavigator=function(){return this.getAggregation("_progressNavigator");};b.prototype._saveInitialValidatedState=function(){if(this._initialValidatedState){return;}this._initialValidatedState=this.getSteps().map(function(s){return s.getValidated();});};b.prototype._restoreInitialValidatedState=function(c){var s=this._stepPath,d=this.getSteps();for(var i=c;i<s.length;i++){var e=s[i];var f=d.indexOf(e);var g=this._initialValidatedState[f];e.setValidated(g);}};b.prototype._getNextStep=function(s,p){if(!this.getEnableBranching()){return this.getSteps()[p+1];}if(p<0){return this._getStartingStep();}var n=s._getNextStepReference();if(n===null){throw new Error("The wizard is in branching mode, and no next step is defined for "+"the current step, please set one.");}if(!this._containsStep(n)){throw new Error("The next step that you have defined is not part of the wizard steps aggregation."+"Please add it to the wizard control.");}var c=s.getSubsequentSteps();if(c.length>0&&!s._containsSubsequentStep(n.getId())){throw new Error("The next step that you have defined is not contained inside the subsequentSteps"+" association of the current step.");}return n;};b.prototype._setNextButtonPosition=function(){if(sap.ui.Device.system.phone){return;}var c=this._getNextButton(),p=this._getProgressNavigator().getProgress(),d=this._stepPath[p-1];if(d){d.addContent(c);}};b.prototype._updateNextButtonState=function(){if(!this._getNextButton()){return;}var i,s=this._getStepCount(),n=this._getNextButton(),p=this.getProgress(),c=this._stepPath[p-1].getValidated();if(this.getEnableBranching()){i=this._stepPath[p-1]._isLeaf();}else{i=p===s;}n.setEnabled(c);if(i){n.setText(this.getFinishButtonText());}else{n.setText(this._resourceBundle.getText("WIZARD_STEP")+" "+(p+1));}};b.prototype._getNextButton=function(){return this._nextButton;};b.prototype._updateProgressNavigator=function(){var p=this._getProgressNavigator(),c=this._getStartingStep(),d=this.getSteps(),s=[c.getTitle()],e=[c.getIcon()],f=1;if(this.getEnableBranching()){while(!c._isLeaf()&&c._getNextStepReference()!==null){f++;c=c._getNextStepReference();s.push(c.getTitle());e.push(c.getIcon());}p.setVaryingStepCount(c._isBranched());p.setStepCount(f);}else{s=d.map(function(g){return g.getTitle();});e=d.map(function(g){return g.getIcon();});}p.setStepTitles(s);p.setStepIcons(e);};b.prototype._getStartingStep=function(){return this.getSteps()[0];};b.prototype._attachScrollHandler=function(){var c=this.getDomRef("step-container");c.onscroll=this._scrollHandler.bind(this);};b.prototype._scrollHandler=function(e){if(this._scrollLocked){return;}var s=e.target.scrollTop,p=this._getProgressNavigator(),c=this._stepPath[p.getCurrentStep()-1].getDomRef(),d=c.clientHeight,f=c.offsetTop,g=100;if(s+g>=f+d){p.nextStep(true);}if(s+g<=f){p.previousStep(true);}};b.prototype._containsStep=function(s){return this.getSteps().some(function(o){return o===s;});};b.prototype._activateStep=function(s){if(this._stepPath.indexOf(s)>=0){throw new Error("The step that you are trying to activate has already been visited. You are creating "+"a loop inside the wizard.");}this._stepPath.push(s);s._activate();};return b;},true);
sap.ui.predefine('sap/m/WizardProgressNavigator',["./library","sap/ui/core/Control","sap/ui/core/ResizeHandler","sap/ui/core/delegate/ItemNavigation","sap/ui/Device","jquery.sap.global"],function(l,C,R,I,D,q){"use strict";var W=C.extend("sap.m.WizardProgressNavigator",{metadata:{properties:{stepCount:{type:"int",group:"Data",defaultValue:3},stepTitles:{type:"string[]",group:"Appearance",defaultValue:[]},stepIcons:{type:"sap.ui.core.URI[]",group:"Appearance",defaultValue:[]},varyingStepCount:{type:"boolean",group:"Appearance",defaultValue:false}},events:{stepChanged:{parameters:{previous:{type:"int"},current:{type:"int"}}},stepActivated:{parameters:{index:{type:"int"}}}}}});W.CONSTANTS={MINIMUM_STEPS:3,MAXIMUM_STEPS:8,MIN_STEP_WIDTH_NO_TITLE:64,MIN_STEP_WIDTH_WITH_TITLE:200};W.CLASSES={NAVIGATION:"sapMWizardProgressNav",LIST:"sapMWizardProgressNavList",LIST_VARYING:"sapMWizardProgressNavListVarying",LIST_NO_TITLES:"sapMWizardProgressNavListNoTitles",STEP:"sapMWizardProgressNavStep",ANCHOR:"sapMWizardProgressNavAnchor",ANCHOR_CIRCLE:"sapMWizardProgressNavAnchorCircle",ANCHOR_TITLE:"sapMWizardProgressNavAnchorTitle",ANCHOR_ICON:"sapMWizardProgressNavAnchorIcon"};W.ATTRIBUTES={STEP:"data-sap-ui-wpn-step",STEP_COUNT:"data-sap-ui-wpn-step-count",CURRENT_STEP:"data-sap-ui-wpn-step-current",ACTIVE_STEP:"data-sap-ui-wpn-step-active",OPEN_STEP:"data-sap-ui-wpn-step-open",OPEN_STEP_PREV:"data-sap-ui-wpn-step-open-prev",OPEN_STEP_NEXT:"data-sap-ui-wpn-step-open-next",ARIA_LABEL:"aria-label",ARIA_DISABLED:"aria-disabled"};W.TEXT={SELECTED:"WIZARD_PROG_NAV_SELECTED",PROCESSED:"WIZARD_PROG_NAV_PROCESSED",STEP:"WIZARD_PROG_NAV_STEP_TITLE"};W.prototype.init=function(){this._currentStep=1;this._activeStep=1;this._cachedSteps=[];this._resourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._actionSheet=new sap.m.ActionSheet().addStyleClass("sapUiSizeCompact");this._createAnchorNavigation();};W.prototype.onBeforeRendering=function(){if(this.getStepCount()!==this.getStepIcons().filter(String).length){this.setStepIcons([]);}if(this.getStepCount()!==this.getStepTitles().filter(String).length){this.setStepTitles([]);}};W.prototype.onAfterRendering=function(){var p,z=this._activeStep-1,a=this._currentStep-1;this._cacheDOMElements();this._updateStepZIndex();this._updateAnchorNavigation(z);this._updateStepActiveAttribute(z);this._removeAnchorAriaDisabledAttribute(z);this._updateStepCurrentAttribute(a);this._updateAnchorAriaLabelAttribute(a);this._updateOpenSteps();R.register(this.getDomRef(),this._updateOpenSteps.bind(this));if(D.os.name===D.os.OS.IOS){p=this.$().find(".sapMWizardProgressNavStep").css("display","block");q.sap.delayedCall(0,p,"css",["display",""]);}};W.prototype.getCurrentStep=function(){return this._currentStep;};W.prototype.previousStep=function(s){var c=this.getCurrentStep();if(c<2){return this;}return this._moveToStep(c-1,s);};W.prototype.nextStep=function(s){return this._moveToStep(this.getCurrentStep()+1,s);};W.prototype.incrementProgress=function(){return this._moveToStep(this.getProgress()+1);};W.prototype.getProgress=function(){return this._activeStep;};W.prototype.discardProgress=function(i,s){if(i<=0||i>this._activeStep){return this;}this._updateCurrentStep(i,this._currentStep,s);this._updateStepActiveAttribute(i-1,this._activeStep-1);this._addAnchorAriaDisabledAttribute(i-1);this._updateAnchorNavigation(i-1);this._currentStep=i;this._activeStep=i;};W.prototype._setOnEnter=function(c){this._onEnter=c;};W.prototype.ontap=function(e){if(this._isGroupAtStart(e.target)){return this._showActionSheet(e.target,true);}if(this._isGroupAtEnd(e.target)){return this._showActionSheet(e.target,false);}if(!this._isAnchor(e.target)||!this._isOpenStep(e.target)||!this._isActiveStep(this._getStepNumber(e.target))){return;}this._updateCurrentStep(this._getStepNumber(e.target));};W.prototype.onsapspace=function(e){if(this._onEnter){this._onEnter(e,this._anchorNavigation.getFocusedIndex());}this.ontap(e);};W.prototype.onsapenter=W.prototype.onsapspace;W.prototype.exit=function(){R.deregisterAllForControl(this.getId());this.removeDelegate(this._anchorNavigation);this._anchorNavigation.destroy();this._anchorNavigation=null;this._actionSheet.destroy();this._actionSheet=null;this._currentStep=null;this._activeStep=null;this._cachedSteps=null;};W.prototype._createAnchorNavigation=function(){var t=this;this._anchorNavigation=new I();this._anchorNavigation.setCycling(false);this._anchorNavigation.attachEvent("AfterFocus",function(p){var e=p.mParameters.event;if(!e||!e.relatedTarget||q(e.relatedTarget).hasClass(W.CLASSES.ANCHOR)){return;}t._anchorNavigation.focusItem(t._currentStep-1);});this.addDelegate(this._anchorNavigation);};W.prototype._cacheDOMElements=function(){var d=this.getDomRef();this._cachedSteps=d.querySelectorAll("."+W.CLASSES.STEP);};W.prototype._updateStepZIndex=function(){var z=this._currentStep-1,s=this._cachedSteps.length,a=W.CONSTANTS.MAXIMUM_STEPS;for(var i=0;i<s;i++){if(i<=z){this._cachedSteps[i].style.zIndex=0;}else{this._cachedSteps[i].style.zIndex=a;a-=1;}}};W.prototype._updateAnchorNavigation=function(a){var n=this.getDomRef(),f=[];for(var i=0;i<=a;i++){f.push(this._cachedSteps[i].children[0]);}this._anchorNavigation.setRootDomRef(n);this._anchorNavigation.setItemDomRefs(f);this._anchorNavigation.setPageSize(a);this._anchorNavigation.setFocusedIndex(a);};W.prototype._updateStepActiveAttribute=function(n,o){if(o!==undefined){this._cachedSteps[o].removeAttribute(W.ATTRIBUTES.ACTIVE_STEP);}this._cachedSteps[n].setAttribute(W.ATTRIBUTES.ACTIVE_STEP,true);};W.prototype._updateStepCurrentAttribute=function(n,o){if(o!==undefined){this._cachedSteps[o].removeAttribute(W.ATTRIBUTES.CURRENT_STEP);}this._cachedSteps[n].setAttribute(W.ATTRIBUTES.CURRENT_STEP,true);};W.prototype._addAnchorAriaDisabledAttribute=function(a){var s=this._cachedSteps.length,b;for(var i=a+1;i<s;i++){b=this._cachedSteps[i].children[0];b.setAttribute(W.ATTRIBUTES.ARIA_DISABLED,true);b.removeAttribute(W.ATTRIBUTES.ARIA_LABEL);}};W.prototype._removeAnchorAriaDisabledAttribute=function(i){this._cachedSteps[i].children[0].removeAttribute(W.ATTRIBUTES.ARIA_DISABLED);};W.prototype._updateAnchorAriaLabelAttribute=function(n,o){if(o!==undefined){this._cachedSteps[o].children[0].setAttribute(W.ATTRIBUTES.ARIA_LABEL,this._resourceBundle.getText(W.TEXT.PROCESSED));}this._cachedSteps[n].children[0].setAttribute(W.ATTRIBUTES.ARIA_LABEL,this._resourceBundle.getText(W.TEXT.SELECTED));};W.prototype._moveToStep=function(n,s){var a=this.getStepCount(),o=this.getCurrentStep();if(n>a){return this;}if(n>this._activeStep){this._updateActiveStep(n);}return this._updateCurrentStep(n,o,s);};W.prototype._updateActiveStep=function(n,o){var z=n-1,a=(o||this._activeStep)-1;this._activeStep=n;this._updateAnchorNavigation(z);this._removeAnchorAriaDisabledAttribute(z);this._updateStepActiveAttribute(z,a);return this.fireStepActivated({index:n});};W.prototype._updateCurrentStep=function(n,o,s){var z=n-1,a=(o||this.getCurrentStep())-1;this._currentStep=n;this._updateStepZIndex();this._updateOpenSteps();this._updateStepCurrentAttribute(z,a);this._updateAnchorAriaLabelAttribute(z,a);if(!s){return this.fireStepChanged({previous:o,current:n});}return this;};W.prototype._updateOpenSteps=function(){var w=this.$().width(),c=this._currentStep-1,a=0,b=true,s=this.getStepTitles().length?Math.floor(w/W.CONSTANTS.MIN_STEP_WIDTH_WITH_TITLE):Math.floor(w/W.CONSTANTS.MIN_STEP_WIDTH_NO_TITLE);[].forEach.call(this._cachedSteps,function(d){d.setAttribute(W.ATTRIBUTES.OPEN_STEP,false);d.setAttribute(W.ATTRIBUTES.OPEN_STEP_PREV,false);d.setAttribute(W.ATTRIBUTES.OPEN_STEP_NEXT,false);});this._cachedSteps[c].setAttribute(W.ATTRIBUTES.OPEN_STEP,true);for(var i=1;i<s;i++){if(b){a+=1;}if(b&&this._cachedSteps[c+a]){this._cachedSteps[c+a].setAttribute(W.ATTRIBUTES.OPEN_STEP,true);b=!b;}else if(!b&&this._cachedSteps[c-a]){this._cachedSteps[c-a].setAttribute(W.ATTRIBUTES.OPEN_STEP,true);b=!b;}else if(this._cachedSteps[c+a+1]){a+=1;this._cachedSteps[c+a].setAttribute(W.ATTRIBUTES.OPEN_STEP,true);b=true;}else if(this._cachedSteps[c-a]){this._cachedSteps[c-a].setAttribute(W.ATTRIBUTES.OPEN_STEP,true);a+=1;b=false;}}for(i=0;i<this._cachedSteps.length;i++){if(this._cachedSteps[i].getAttribute(W.ATTRIBUTES.OPEN_STEP)=="true"&&this._cachedSteps[i-1]&&this._cachedSteps[i-1].getAttribute(W.ATTRIBUTES.OPEN_STEP)=="false"){this._cachedSteps[i-1].setAttribute(W.ATTRIBUTES.OPEN_STEP_PREV,true);}if(this._cachedSteps[i].getAttribute(W.ATTRIBUTES.OPEN_STEP)=="false"&&this._cachedSteps[i-1]&&this._cachedSteps[i-1].getAttribute(W.ATTRIBUTES.OPEN_STEP)=="true"){this._cachedSteps[i].setAttribute(W.ATTRIBUTES.OPEN_STEP_NEXT,true);break;}}};W.prototype._isGroupAtStart=function(d){var s=q(d).closest("."+W.CLASSES.STEP);var a=this._getStepNumber(s);return s.attr(W.ATTRIBUTES.OPEN_STEP_PREV)==="true"&&a>1;};W.prototype._isGroupAtEnd=function(d){var s=q(d).closest("."+W.CLASSES.STEP);var a=this._getStepNumber(s);return s.attr(W.ATTRIBUTES.OPEN_STEP_NEXT)==="true"&&a<this._cachedSteps.length;};W.prototype._showActionSheet=function(d,a){var f=a?0:this._getStepNumber(d)-1;var t=a?this._getStepNumber(d):this._cachedSteps.length;var b,c;this._actionSheet.removeAllButtons();for(var i=f;i<t;i++){b=this.getStepIcons()[i];c=this._cachedSteps[i].childNodes[0].getAttribute("title");c=b?c:(i+1)+". "+c;this._actionSheet.addButton(new sap.m.Button({width:"200px",text:c,icon:b,enabled:this._activeStep>=(i+1),press:function(s){this._moveToStep(s);}.bind(this,i+1)}));}this._actionSheet.openBy(d);};W.prototype._isAnchor=function(d){return d.className.indexOf(W.CLASSES.ANCHOR)!==-1;};W.prototype._isOpenStep=function(d){var s=q(d).closest("."+W.CLASSES.STEP);return s.attr(W.ATTRIBUTES.OPEN_STEP)==="true"||(s.attr(W.ATTRIBUTES.OPEN_STEP)==="false"&&s.attr(W.ATTRIBUTES.OPEN_STEP_PREV)==="true")||(s.attr(W.ATTRIBUTES.OPEN_STEP)==="false"&&s.attr(W.ATTRIBUTES.OPEN_STEP_NEXT)==="true");};W.prototype._isActiveStep=function(s){return s<=this._activeStep;};W.prototype._getStepNumber=function(d){var s=q(d).closest("."+W.CLASSES.STEP).attr(W.ATTRIBUTES.STEP);return parseInt(s,10);};return W;});
sap.ui.predefine('sap/m/WizardProgressNavigatorRenderer',["./WizardProgressNavigator"],function(W){"use strict";var C=W.CLASSES,A=W.ATTRIBUTES,a={};a.render=function(r,c){this.startNavigator(r,c);this.renderList(r,c);this.endNavigator(r);};a.startNavigator=function(r,c){var w=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("WIZARD_LABEL");r.write("<nav");r.writeControlData(c);r.writeAttribute("class",C.NAVIGATION+" sapContrastPlus");r.writeAttribute(A.STEP_COUNT,c.getStepCount());r.writeAccessibilityState({"role":"navigation","label":w});r.write(">");};a.renderList=function(r,c){this.startList(r,c);this.renderSteps(r,c);this.endList(r);};a.startList=function(r,c){var s=c.getStepTitles();r.write("<ul");if(c.getVaryingStepCount()){r.addClass(C.LIST_VARYING);}else{r.addClass(C.LIST);}if(!s.length){r.addClass(C.LIST_NO_TITLES);}r.writeAccessibilityState({"role":"list"});r.writeClasses();r.write(">");};a.renderSteps=function(r,c){var s=c.getStepCount(),S=c.getStepTitles(),b=c.getStepIcons();for(var i=1;i<=s;i++){this.startStep(r,i);this.renderAnchor(r,c,i,S[i-1],b[i-1]);this.endStep(r);}};a.startStep=function(r,s){r.write("<li");r.writeAttribute("class",C.STEP);r.writeAttribute(A.STEP,s);r.writeAccessibilityState({"role":"listitem"});r.write(">");};a.renderAnchor=function(r,c,s,S,i){var b=c._cachedSteps,o=b[s],d=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("WIZARD_PROG_NAV_STEP_TITLE");r.write("<a tabindex='-1' ");if(!o||!!parseInt(o.style.zIndex,10)){r.write("aria-disabled='true'");}r.writeAttribute("class",C.ANCHOR);if(S){r.writeAttributeEscaped("title",s+". "+S);}else{r.writeAttributeEscaped("title",d+" "+s);}r.write(">");r.write("<span");r.writeAttribute("class",C.ANCHOR_CIRCLE);r.write(">");if(i){r.writeIcon(i,[C.ANCHOR_ICON],{title:null});}else{r.write(s);}r.write("</span>");if(S){r.write("<span");r.writeAttribute("class",C.ANCHOR_TITLE);r.write(">");r.writeEscaped(S);r.write("</span>");}r.write("</a>");};a.endStep=function(r){r.write("</li>");};a.endList=function(r){r.write("</ul>");};a.endNavigator=function(r){r.write("</nav>");};return a;},true);
sap.ui.predefine('sap/m/WizardRenderer',[],function(){"use strict";var W={};W.render=function(r,w){this.startWizard(r,w);this.renderProgressNavigator(r,w);this.renderWizardSteps(r,w);this.renderNextButton(r,w);this.endWizard(r);};W.startWizard=function(r,w){var s=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("WIZARD_LABEL");r.write("<article");r.writeControlData(w);r.addClass("sapMWizard");r.writeClasses();r.addStyle("width",w.getWidth());r.addStyle("height",w.getHeight());r.writeAccessibilityState({"label":s});r.writeStyles();r.write(">");};W.renderProgressNavigator=function(r,w){r.write("<header class='sapMWizardHeader'>");r.renderControl(w.getAggregation("_progressNavigator"));r.write("</header>");};W.renderWizardSteps=function(r,w){r.write("<section class='sapMWizardStepContainer'");r.writeAttribute("id",w.getId()+"-step-container");r.write(">");w.getSteps().forEach(r.renderControl);r.write("</section>");};W.renderNextButton=function(r,w){r.renderControl(w.getAggregation("_nextButton"));};W.endWizard=function(r){r.write("</article>");};return W;},true);
sap.ui.predefine('sap/m/WizardStep',["./library","sap/ui/core/Control"],function(l,C){"use strict";var W=C.extend("sap.m.WizardStep",{metadata:{properties:{title:{type:"string",group:"appearance",defaultValue:""},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},validated:{type:"boolean",group:"Behavior",defaultValue:true}},events:{complete:{parameters:{}},activate:{parameters:{}}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},associations:{subsequentSteps:{type:"sap.m.WizardStep",multiple:true,singularName:"subsequentStep"},nextStep:{type:"sap.m.WizardStep",multiple:false}}}});W.prototype.setValidated=function(v){this.setProperty("validated",v,true);var p=this._getWizardParent();if(p===null){return this;}if(v){p.validateStep(this);}else{p.invalidateStep(this);}return this;};W.prototype.setVisible=function(v){this.setProperty("visible",v,true);jQuery.sap.log.warning("Don't use the set visible method for wizard steps. If you need to show/hide steps based on some condition - use the branching property of the Wizard instead.");return this;};W.prototype._isLeaf=function(){if(this.getNextStep()===null&&this.getSubsequentSteps().length===0){return true;}return false;};W.prototype._isBranched=function(){return this.getSubsequentSteps().length>1;};W.prototype._getNextStepReference=function(){if(this.getNextStep()!==null){return sap.ui.getCore().byId(this.getNextStep());}if(this.getSubsequentSteps().length===1){return sap.ui.getCore().byId(this.getSubsequentSteps[0]);}return null;};W.prototype._containsSubsequentStep=function(s){return this.getSubsequentSteps().some(function(a){return a===s;});};W.prototype._getWizardParent=function(){var p=this.getParent();while(!(p instanceof sap.m.Wizard)){if(p===null){return null;}p=p.getParent();}return p;};W.prototype._markAsLast=function(){this.addStyleClass("sapMWizardLastActivatedStep");};W.prototype._unMarkAsLast=function(){this.removeStyleClass("sapMWizardLastActivatedStep");};W.prototype._activate=function(){if(this.hasStyleClass("sapMWizardStepActivated")){return;}this._markAsLast();this.addStyleClass("sapMWizardStepActivated");this.fireActivate();};W.prototype._deactivate=function(){this.removeStyleClass("sapMWizardStepActivated");};W.prototype._complete=function(){this._unMarkAsLast();this.fireComplete();};return W;},true);
sap.ui.predefine('sap/m/WizardStepRenderer',function(){"use strict";var W={};W.render=function(r,s){this.startWizardStep(r,s);this.renderWizardStepTitle(r,s);this.renderContent(r,s.getContent());this.endWizardStep(r);};W.startWizardStep=function(r,s){r.write("<article");r.writeAccessibilityState(s,{"labelledby":this.getTitleId(s),"role":"region"});r.writeControlData(s);r.addClass("sapMWizardStep");r.writeClasses();r.write(">");};W.renderWizardStepTitle=function(r,s){r.write("<h3 class='sapMWizardStepTitle' id='"+this.getTitleId(s)+"'>");r.writeEscaped(s.getTitle());r.write("</h3>");};W.getTitleId=function(s){return s.getId()+"-Title";};W.renderContent=function(r,c){c.forEach(r.renderControl);};W.endWizardStep=function(r){r.write("</article>");};return W;},true);
sap.ui.predefine('sap/m/delegate/ValueStateMessage',['jquery.sap.global','sap/ui/Device','sap/ui/base/Object','sap/ui/core/ValueStateSupport','sap/ui/core/Popup'],function(q,D,B,V,P){"use strict";var a=B.extend("sap.m.delegate.ValueState",{constructor:function(c){B.apply(this,arguments);this._oControl=c;this._oPopup=null;}});a.prototype.open=function(){var c=this._oControl,p=this.getPopup(),m=this.createDom(),d=P.Dock,C=q(c.getDomRefForValueStateMessage());if(!c||!p||!m){return;}p.setContent(m);p.close(0);if(p.getContent()){p.getContent().style.maxWidth=c.getDomRef().offsetWidth+"px";}else{p.getContent().style.maxWidth="";}p.open(this.getOpenDuration(),d.BeginTop,d.BeginBottom,c.getDomRefForValueStateMessage(),null,null,D.system.phone?true:P.CLOSE_ON_SCROLL);var $=q(m);if(C.offset().top<$.offset().top){$.addClass("sapMValueStateMessageBottom");}else{$.addClass("sapMValueStateMessageTop");}q(c.getFocusDomRef()).addAriaDescribedBy(this.getId());};a.prototype.close=function(){var c=this._oControl,p=this.getPopup();if(p){p.close(0);}if(c){q(c.getFocusDomRef()).removeAriaDescribedBy(this.getId());}};a.prototype.getId=function(){var c=this._oControl;if(!c){return"";}return(typeof c.getValueStateMessageId==="function")?c.getValueStateMessageId():c.getId()+"-message";};a.prototype.getOpenDuration=function(){var c=this._oControl;if(!c){return 0;}return(c.iOpenMessagePopupDuration===undefined)?0:c.iOpenMessagePopupDuration;};a.prototype.createPopup=function(i){i=i||this.getId();if(this._oPopup){return this._oPopup;}this._oPopup=new P(document.createElement("span"),false,false,false);this._oPopup.attachClosed(function(){q.sap.byId(i).remove();});return this._oPopup;};a.prototype.getPopup=function(){if(!this._oControl){return null;}return this.createPopup();};a.prototype.createDom=function(){var c=this._oControl;if(!c){return null;}var s=c.getValueState(),t=c.getValueStateText()||sap.ui.core.ValueStateSupport.getAdditionalText(c),C="sapMValueStateMessage sapMValueStateMessage"+s,r=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(s===sap.ui.core.ValueState.Success){C="sapUiInvisibleText";t="";}var i=this.getId();var m=document.createElement("div");m.id=i;m.className=C;m.setAttribute("role","tooltip");m.setAttribute("aria-live","assertive");var A=document.createElement("span");A.id=i+"hidden";A.className="sapUiHidden";A.setAttribute("aria-hidden","true");A.appendChild(document.createTextNode(r.getText("INPUTBASE_VALUE_STATE_"+s.toUpperCase())));m.appendChild(A);m.appendChild(document.createTextNode(t));return m;};a.prototype.destroy=function(){if(this._oPopup){this._oPopup.destroy();this._oPopup=null;}this._oControl=null;};return a;});
sap.ui.predefine('sap/m/flexibility/CheckBox.flexibility',["sap/ui/fl/changeHandler/BaseRename"],function(B){"use strict";return{"hideControl":"default","rename":B.createRenameChangeHandler({propertyName:"text",translationTextType:"XCKL"}),"unhideControl":"default"};},false);
sap.ui.predefine('sap/m/flexibility/Label.flexibility',['sap/ui/fl/changeHandler/BaseRename'],function(B){"use strict";return{"hideControl":"default","rename":B.createRenameChangeHandler({propertyName:"text",translationTextType:"XFLD"}),"unhideControl":"default"};},false);
sap.ui.predefine('sap/m/flexibility/Page.flexibility',["sap/ui/fl/changeHandler/BaseRename"],function(B){"use strict";return{"moveControls":"default","rename":B.createRenameChangeHandler({propertyName:"title",translationTextType:"XTIT"})};},false);
sap.ui.predefine('sap/m/flexibility/Panel.flexibility',['sap/ui/fl/changeHandler/BaseRename'],function(B){"use strict";return{"hideControl":"default","moveControls":"default","rename":B.createRenameChangeHandler({propertyName:"headerText",translationTextType:"XGRP"}),"unhideControl":"default"};},true);
sap.ui.predefine('sap/m/flexibility/RadioButton.flexibility',["sap/ui/fl/changeHandler/BaseRename"],function(B){"use strict";return{"hideControl":"default","rename":B.createRenameChangeHandler({propertyName:"text",translationTextType:"XBUT"}),"unhideControl":"default"};},false);
sap.ui.predefine('sap/m/flexibility/Text.flexibility',['sap/ui/fl/changeHandler/BaseRename'],function(B){"use strict";return{"hideControl":"default","rename":B.createRenameChangeHandler({propertyName:"text",translationTextType:"XTXT"}),"unhideControl":"default"};},true);
sap.ui.predefine('sap/m/flexibility/Title.flexibility',["sap/ui/fl/changeHandler/BaseRename"],function(B){"use strict";return{"hideControl":"default","rename":B.createRenameChangeHandler({propertyName:"text",translationTextType:"XTIT"}),"unhideControl":"default"};},true);
sap.ui.predefine('sap/m/ios7',['jquery.sap.global'],function(q){"use strict";sap.ui.base.EventProvider.extend("sap.m._Ios7",{constructor:function(){var I=sap.ui.Device.os.ios&&sap.ui.Device.os.version>=7&&sap.ui.Device.os.version<8&&sap.ui.Device.browser.name==="sf";sap.ui.base.EventProvider.apply(this);if(!I){return;}this._bIntervallAttached=false;this._bInputIsOpen=false;this._bNavigationBarEventFired=false;var b=window.orientation===90||window.orientation===-90;if(b){this._attachNavigationBarPolling();}sap.ui.Device.orientation.attachHandler(this._onOrientationChange,this);this._onFocusin=q.proxy(this._onFocusin,this);document.addEventListener("focusin",this._onFocusin,true);this._onFocusout=q.proxy(this._onFocusout,this);document.addEventListener("focusout",this._onFocusout,true);}});sap.m._Ios7.prototype.getNavigationBarHeight=function(){if(!this._bNavigationBarEventFired){return 0;}return this._iNavigationBarHeight;};sap.m._Ios7.prototype._attachNavigationBarPolling=function(){if(!sap.ui.Device.system.phone||this._bIntervallAttached){return;}sap.ui.getCore().attachIntervalTimer(this._detectNavigationBar,this);this._bIntervallAttached=true;};sap.m._Ios7.prototype._detachNavigationBarPolling=function(){if(!sap.ui.Device.system.phone||!this._bIntervallAttached){return;}sap.ui.getCore().detachIntervalTimer(this._detectNavigationBar,this);this._bIntervallAttached=false;};sap.m._Ios7.prototype._detectNavigationBar=function(){var h=window.outerHeight-window.innerHeight;if(h===0||this._bInputIsOpen||this._bNavigationBarEventFired){this._iPreviousHeight=null;return;}if(this._iPreviousHeight===window.innerHeight){window.scrollTo(0,0);var n=window.outerHeight-window.innerHeight;if(h!==n){return;}this._iNavigationBarHeight=h;this._bNavigationBarEventFired=true;this.fireEvent("navigationBarShownInLandscape",{barHeight:h});this._detachNavigationBarPolling();this._iPreviousHeight=null;}else{this._iPreviousHeight=window.innerHeight;}};sap.m._Ios7.prototype.destroy=function(){sap.ui.base.EventProvider.prototype.destroy.apply(this,arguments);document.removeEventListener("focusin",this._onFocusin,true);document.removeEventListener("focusout",this._onFocusout,true);};sap.m._Ios7.prototype._onFocusin=function(e){var t=e.target.tagName;if(!sap.m._Ios7._rTagRegex.test(t)){return;}this._inputTarget=e.target;this._detachNavigationBarPolling();this._bInputIsOpen=true;this.fireEvent("inputOpened");};sap.m._Ios7._rTagRegex=/INPUT|TEXTAREA|SELECT/;sap.m._Ios7.prototype._onFocusout=function(e){var t=e.srcElement.tagName,r=e.relatedTarget,R=(r&&(r.getAttribute("readonly")===null)&&(r.getAttribute("disabled")===null))?r.tagName:"";if(sap.m._Ios7._rTagRegex.test(t)&&!sap.m._Ios7._rTagRegex.test(R)){window.scrollTo(0,0);if(window.orientation===90||window.orientation===-90){this._attachNavigationBarPolling();}this._bInputIsOpen=false;this.fireEvent("inputClosed");}};sap.m._Ios7.prototype._onOrientationChange=function(e){var I=e.landscape;window.scrollTo(0,0);this._bNavigationBarEventFired=false;if(this._bInputIsOpen&&this._inputTarget&&this._inputTarget.blur){this._inputTarget.blur();}else if(I){this._attachNavigationBarPolling();}else if(!I){this._detachNavigationBarPolling();}};var i=new sap.m._Ios7();return i;},true);
sap.ui.predefine('sap/m/routing/RouteMatchedHandler',['jquery.sap.global','sap/ui/base/Object','sap/ui/core/routing/History','sap/ui/core/routing/Router','./TargetHandler','./Router'],function(q,B,H,R,T,M){"use strict";var a=B.extend("sap.m.routing.RouteMatchedHandler",{constructor:function(r,c){if(r instanceof M){q.sap.log.warning("A sap.m.routing.Router is used together with a sap.m.routing.RouteMatchedHandler (deprecated)."+"The RoutematchedHandler is not taking over triggering the navigations, the Router will do it.",this);return;}this._oTargetHandler=new T(c);r._oTargetHandler=this._oTargetHandler;r.attachRouteMatched(this._onHandleRouteMatched,this);r.attachRoutePatternMatched(this._handleRoutePatternMatched,this);this._oTargets=r.getTargets();if(this._oTargets){this._oTargets.attachDisplay(this._onHandleDisplay,this);}this._oRouter=r;}});a.prototype.destroy=function(){if(this._oRouter){this._oRouter.detachRouteMatched(this._onHandleRouteMatched,this);this._oRouter.detachRoutePatternMatched(this._handleRoutePatternMatched,this);this._oRouter=null;}if(this._oTargets){this._oTargets.detachDisplay(this._onHandleRouteMatched,this);this._oTargets=null;}return this;};a.prototype.setCloseDialogs=function(c){this._oTargetHandler.setCloseDialogs(c);return this;};a.prototype.getCloseDialogs=function(){return this._oTargetHandler.getCloseDialogs();};a.prototype._handleRoutePatternMatched=function(e){var t=+e.getParameter("config").viewLevel;this._oTargetHandler.navigate({viewLevel:t,navigationIdentifier:e.getParameter("name"),askHistory:true});};a.prototype._onHandleRouteMatched=function(e){var p=e.getParameters(),c=p.config;if(!this._oRouter.getRoute(p.name)._oTarget){return;}this._oTargetHandler.addNavigation({targetControl:p.targetControl,eventData:p.arguments,view:p.view,navigationIdentifier:p.name,transition:c.transition,transitionParameters:c.transitionParameters,preservePageInSplitContainer:c.preservePageInSplitContainer});};a.prototype._onHandleDisplay=function(e){var p=e.getParameters(),c=p.config;this._oTargetHandler.addNavigation({targetControl:p.control,eventData:p.data,view:p.view,navigationIdentifier:p.name,transition:c.transition,transitionParameters:c.transitionParameters,preservePageInSplitContainer:c.preservePageInSplitContainer});};return a;},true);
sap.ui.predefine('sap/m/routing/Router',['sap/ui/core/routing/Router','./TargetHandler','./Targets'],function(R,T,a){"use strict";var M=R.extend("sap.m.routing.Router",{constructor:function(){this._oTargetHandler=new T();R.prototype.constructor.apply(this,arguments);},destroy:function(){R.prototype.destroy.apply(this,arguments);this._oTargetHandler.destroy();this._oTargetHandler=null;},getTargetHandler:function(){return this._oTargetHandler;},_createTargets:function(c,t){return new a({views:this._oViews,config:c,targets:t,targetHandler:this._oTargetHandler});},fireRouteMatched:function(A){var r=this.getRoute(A.name),t;if(r._oTarget){t=r._oTarget._oOptions;this._oTargetHandler.addNavigation({navigationIdentifier:A.name,transition:t.transition,transitionParameters:t.transitionParameters,eventData:A.arguments,targetControl:A.targetControl,view:A.view,preservePageInSplitContainer:t.preservePageInSplitContainer});}return R.prototype.fireRouteMatched.apply(this,arguments);},fireRoutePatternMatched:function(A){var r=A.name,v;if(this._oTargets&&this._oTargets._oLastDisplayedTarget){v=this._oTargets._getViewLevel(this._oTargets._oLastDisplayedTarget);}this._oTargetHandler.navigate({navigationIdentifier:r,viewLevel:v,askHistory:true});return R.prototype.fireRoutePatternMatched.apply(this,arguments);}});return M;},true);
sap.ui.predefine('sap/m/routing/Target',['sap/ui/core/routing/Target','./async/Target','./sync/Target'],function(T,a,s){"use strict";var M=T.extend("sap.m.routing.Target",{constructor:function(o,v,p,t){this._oTargetHandler=t;function c(){if(jQuery.sap.getUriParameters().get("sap-ui-xx-asyncRouting")==="true"){jQuery.sap.log.warning("Activation of async view loading in routing via url parameter is only temporarily supported and may be removed soon","MobileTarget");return true;}return false;}if(o._async===undefined){o._async=c();}T.prototype.constructor.apply(this,arguments);var b=o._async?a:s;this._super={};for(var f in b){this._super[f]=this[f];this[f]=b[f];}}});return M;},true);
sap.ui.predefine('sap/m/routing/TargetHandler',['jquery.sap.global','sap/m/InstanceManager','sap/m/NavContainer','sap/m/SplitContainer','sap/ui/base/Object','sap/ui/core/routing/History','sap/ui/core/routing/Router'],function($,I,N,S,B,H,R){"use strict";var T=B.extend("sap.m.routing.TargetHandler",{constructor:function(c){this._aQueue=[];this._oNavigationOrderPromise=Promise.resolve();if(c===undefined){this._bCloseDialogs=true;}else{this._bCloseDialogs=!!c;}}});T.prototype.setCloseDialogs=function(c){this._bCloseDialogs=!!c;return this;};T.prototype.getCloseDialogs=function(){return this._bCloseDialogs;};T.prototype.addNavigation=function(p){this._aQueue.push(p);};T.prototype.navigate=function(d){var r=this._createResultingNavigations(d.navigationIdentifier),c=false,b=this._getDirection(d),n;while(r.length){n=this._applyNavigationResult(r.shift().oParams,b);c=c||n;}if(c){this._closeDialogs();}};T.prototype._chainNavigation=function(n){this._oNavigationOrderPromise=this._oNavigationOrderPromise.then(n);return this._oNavigationOrderPromise;};T.prototype._getDirection=function(d){var t=d.viewLevel,h=H.getInstance(),b=false;if(d.direction==="Backwards"){b=true;}else if(isNaN(t)||isNaN(this._iCurrentViewLevel)||t===this._iCurrentViewLevel){if(d.askHistory){b=h.getDirection()==="Backwards";}}else{b=t<this._iCurrentViewLevel;}this._iCurrentViewLevel=t;return b;};T.prototype._createResultingNavigations=function(n){var i,f,c,C,o,r=[],v,b,a,p,d;while(this._aQueue.length){f=false;c=this._aQueue.shift();C=c.targetControl;b=C instanceof S;a=C instanceof N;v=c.view;o={oContainer:C,oParams:c,bIsMasterPage:(b&&!!C.getMasterPage(v.getId()))};p=b&&c.preservePageInSplitContainer&&C.getCurrentPage(o.bIsMasterPage)&&n!==c.navigationIdentifier;if(!(a||b)||!v){continue;}for(i=0;i<r.length;i++){d=r[i];if(d.oContainer!==C){continue;}if(a||sap.ui.Device.system.phone){r.splice(i,1);r.push(o);f=true;break;}if(d.bIsMasterPage===o.bIsMasterPage){if(p){break;}r.splice(i,1);r.push(o);f=true;break;}}if(C instanceof S&&!sap.ui.Device.system.phone){o.bIsMasterPage=!!C.getMasterPage(v.getId());}if(!f){if(!!C.getCurrentPage(o.bIsMasterPage)&&p){continue;}r.push(o);}}return r;};T.prototype._applyNavigationResult=function(p,b){var t=p.targetControl,P,a=p.eventData,s=p.transition||"",o=p.transitionParameters,v=p.view.getId(),n=t instanceof S&&!!t.getMasterPage(v);if(t.getDomRef()&&t.getCurrentPage(n).getId()===v){$.sap.log.info("navigation to view with id: "+v+" is skipped since it already is displayed by its targetControl","sap.m.routing.TargetHandler");return false;}$.sap.log.info("navigation to view with id: "+v+" the targetControl is "+t.getId()+" backwards is "+b);if(b){P=t.getPreviousPage(n);if(!P||P.getId()!==v){t.insertPreviousPage(v,s,a);}t.backToPage(v,a,o);}else{t.to(v,s,a,o);}return true;};T.prototype._closeDialogs=function(){if(!this._bCloseDialogs){return;}if(I.hasOpenPopover()){I.closeAllPopovers();}if(I.hasOpenDialog()){I.closeAllDialogs();}if(I.hasOpenLightBox()){I.closeAllLightBoxes();}};return T;},true);
sap.ui.predefine('sap/m/routing/Targets',['sap/ui/core/routing/Targets','./TargetHandler','./Target','./async/Targets','./sync/Targets'],function(T,a,b,c,s){"use strict";var M=T.extend("sap.m.routing.Targets",{constructor:function(o){if(!o.config){o.config={_async:false};}function d(){if(jQuery.sap.getUriParameters().get("sap-ui-xx-asyncRouting")==="true"){jQuery.sap.log.warning("Activation of async view loading in routing via url parameter is only temporarily supported and may be removed soon","MobileTargets");return true;}return false;}if(o.config._async===undefined){o.config._async=(o.config.async===undefined)?d():o.config.async;}if(o.targetHandler){this._oTargetHandler=o.targetHandler;}else{this._oTargetHandler=new a();this._bHasOwnTargetHandler=true;}T.prototype.constructor.apply(this,arguments);var e=o.config._async?c:s;this._super={};for(var f in e){this._super[f]=this[f];this[f]=e[f];}},destroy:function(){T.prototype.destroy.apply(this,arguments);if(this._bHasOwnTargetHandler){this._oTargetHandler.destroy();}this._oTargetHandler=null;},getTargetHandler:function(){return this._oTargetHandler;},_constructTarget:function(o,p){return new b(o,this._oViews,p,this._oTargetHandler);},_getViewLevel:function(t){var v;do{v=t._oOptions.viewLevel;if(v!==undefined){return v;}t=t._oParent;}while(t);return v;}});return M;},true);
sap.ui.predefine('sap/m/routing/async/Target',[],function(){"use strict";return{_place:function(d){var p=this._super._place.apply(this,arguments),t=this;return this._oTargetHandler._chainNavigation(function(){return p.then(function(v){t._oTargetHandler.addNavigation({navigationIdentifier:t._oOptions.name,transition:t._oOptions.transition,transitionParameters:t._oOptions.transitionParameters,eventData:d,targetControl:v.control,view:v.view,preservePageInSplitContainer:t._oOptions.preservePageInSplitContainer});if(d){delete d.routeConfig;}return v;});});}};},true);
sap.ui.predefine('sap/m/routing/async/Targets',[],function(){"use strict";return{display:function(){var v,n;this._oLastDisplayedTarget=null;var p=this._super.display.apply(this,arguments);return p.then(function(V){if(this._oLastDisplayedTarget){v=this._getViewLevel(this._oLastDisplayedTarget);n=this._oLastDisplayedTarget._oOptions.name;}this._oTargetHandler.navigate({viewLevel:v,navigationIdentifier:n});return V;}.bind(this));},_displaySingleTarget:function(n){var t=this.getTarget(n);return this._super._displaySingleTarget.apply(this,arguments).then(function(v){if(t){this._oLastDisplayedTarget=t;}return v;}.bind(this));}};},true);
sap.ui.predefine('sap/m/routing/sync/Target',[],function(){"use strict";return{_place:function(p,d){var r=this._super._place.apply(this,arguments);this._oTargetHandler.addNavigation({navigationIdentifier:this._oOptions.name,transition:this._oOptions.transition,transitionParameters:this._oOptions.transitionParameters,eventData:d,targetControl:r.oTargetControl,view:r.oTargetParent,preservePageInSplitContainer:this._oOptions.preservePageInSplitContainer});if(d){delete d.routeConfig;}return r;}};},true);
sap.ui.predefine('sap/m/routing/sync/Targets',[],function(){"use strict";return{display:function(){var v,n;this._oLastDisplayedTarget=null;var r=this._super.display.apply(this,arguments);if(this._oLastDisplayedTarget){v=this._getViewLevel(this._oLastDisplayedTarget);n=this._oLastDisplayedTarget._oOptions.name;}this._oTargetHandler.navigate({viewLevel:v,navigationIdentifier:n});return r;},_displaySingleTarget:function(n){var t=this.getTarget(n);if(t){this._oLastDisplayedTarget=t;}return this._super._displaySingleTarget.apply(this,arguments);}};},true);
sap.ui.predefine('sap/m/semantic/AddAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var A=S.extend("sap.m.semantic.AddAction",{metadata:{library:"sap.m"}});return A;},true);
sap.ui.predefine('sap/m/semantic/CancelAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var C=S.extend("sap.m.semantic.CancelAction",{metadata:{library:"sap.m"}});return C;},true);
sap.ui.predefine('sap/m/semantic/DeleteAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var D=S.extend("sap.m.semantic.DeleteAction",{metadata:{library:"sap.m"}});return D;},true);
sap.ui.predefine('sap/m/semantic/DetailPage.designtime',[],function(){"use strict";return{aggregations:{content:{domRef:":sap-domref > .sapMPage > section"}}};},false);
sap.ui.predefine('sap/m/semantic/DetailPage',["sap/m/semantic/ShareMenuPage","sap/m/semantic/SemanticConfiguration","sap/m/semantic/SemanticPageRenderer","sap/m/PagingButton"],function(S,a,b,P){"use strict";var D=S.extend("sap.m.semantic.DetailPage",{metadata:{library:"sap.m",aggregations:{addAction:{type:"sap.m.semantic.AddAction",multiple:false},mainAction:{type:"sap.m.semantic.MainAction",multiple:false},positiveAction:{type:"sap.m.semantic.PositiveAction",multiple:false},negativeAction:{type:"sap.m.semantic.NegativeAction",multiple:false},forwardAction:{type:"sap.m.semantic.ForwardAction",multiple:false},editAction:{type:"sap.m.semantic.EditAction",multiple:false},saveAction:{type:"sap.m.semantic.SaveAction",multiple:false},deleteAction:{type:"sap.m.semantic.DeleteAction",multiple:false},cancelAction:{type:"sap.m.semantic.CancelAction",multiple:false},flagAction:{type:"sap.m.semantic.FlagAction",multiple:false},favoriteAction:{type:"sap.m.semantic.FavoriteAction",multiple:false},openInAction:{type:"sap.m.semantic.OpenInAction",multiple:false},discussInJamAction:{type:"sap.m.semantic.DiscussInJamAction",multiple:false},shareInJamAction:{type:"sap.m.semantic.ShareInJamAction",multiple:false},sendEmailAction:{type:"sap.m.semantic.SendEmailAction",multiple:false},sendMessageAction:{type:"sap.m.semantic.SendMessageAction",multiple:false},printAction:{type:"sap.m.semantic.PrintAction",multiple:false},messagesIndicator:{type:"sap.m.semantic.MessagesIndicator",multiple:false},saveAsTileAction:{type:"sap.m.Button",multiple:false},pagingAction:{type:"sap.m.PagingButton",multiple:false},draftIndicator:{type:"sap.m.DraftIndicator",multiple:false}},designTime:true},renderer:b.render});D.prototype.init=function(){S.prototype.init.call(this);this._getPage().getLandmarkInfo().setRootLabel(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("SEMANTIC_DETAIL_PAGE_TITLE"));};D.prototype.setAggregation=function(A,o,s){if((A==="saveAsTileAction")||(A==="pagingAction")||(A==="draftIndicator")){var p='_'+A;if(o){this._addToInnerAggregation(o,a.getPositionInPage(A),a.getSequenceOrderIndex(A),s);this[p]=o;}else{if(this[p]){this._removeFromInnerAggregation(this[p],a.getPositionInPage(A),s);this[p]=null;}}return this;}return S.prototype.setAggregation.call(this,A,o,s);};D.prototype.getAggregation=function(A,o,s){if((A==="saveAsTileAction")||(A==="pagingAction")||(A==="draftIndicator")){return this['_'+A];}return S.prototype.getAggregation.call(this,A,o,s);};D.prototype.destroyAggregation=function(A,s){if((A==="saveAsTileAction")||(A==="pagingAction")||(A==="draftIndicator")){var p='_'+A;if(this[p]){this._removeFromInnerAggregation(this[p],a.getPositionInPage(A),s);this[p].destroy();this[p]=null;}return this;}return S.prototype.destroyAggregation.call(this,A,s);};D.prototype.getSemanticRuleSet=function(){return sap.m.semantic.SemanticRuleSetType.Classic;};return D;},true);
sap.ui.predefine('sap/m/semantic/DiscussInJamAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var D=S.extend("sap.m.semantic.DiscussInJamAction",{metadata:{library:"sap.m"}});return D;},true);
sap.ui.predefine('sap/m/semantic/EditAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var E=S.extend("sap.m.semantic.EditAction",{metadata:{library:"sap.m"}});return E;},true);
sap.ui.predefine('sap/m/semantic/FavoriteAction',['sap/m/semantic/SemanticToggleButton'],function(S){"use strict";var F=S.extend("sap.m.semantic.FavoriteAction",{metadata:{library:"sap.m"}});return F;},true);
sap.ui.predefine('sap/m/semantic/FilterAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var F=S.extend("sap.m.semantic.FilterAction",{metadata:{library:"sap.m",interfaces:["sap.m.semantic.IFilter"]}});return F;},true);
sap.ui.predefine('sap/m/semantic/FilterSelect',['sap/m/semantic/SemanticSelect'],function(S){"use strict";var F=S.extend("sap.m.semantic.FilterSelect",{metadata:{library:"sap.m",interfaces:["sap.m.semantic.IFilter"]}});return F;},true);
sap.ui.predefine('sap/m/semantic/FlagAction',['sap/m/semantic/SemanticToggleButton'],function(S){"use strict";var F=S.extend("sap.m.semantic.FlagAction",{metadata:{library:"sap.m"}});return F;},true);
sap.ui.predefine('sap/m/semantic/ForwardAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var F=S.extend("sap.m.semantic.ForwardAction",{metadata:{library:"sap.m"}});return F;},true);
sap.ui.predefine('sap/m/semantic/FullscreenPage',["sap/m/semantic/ShareMenuPage","sap/m/semantic/SemanticConfiguration","sap/m/semantic/SemanticPageRenderer","sap/m/PagingButton"],function(S,a,b,P){"use strict";var F=S.extend("sap.m.semantic.FullscreenPage",{metadata:{library:"sap.m",aggregations:{addAction:{type:"sap.m.semantic.AddAction",multiple:false},mainAction:{type:"sap.m.semantic.MainAction",multiple:false},positiveAction:{type:"sap.m.semantic.PositiveAction",multiple:false},negativeAction:{type:"sap.m.semantic.NegativeAction",multiple:false},forwardAction:{type:"sap.m.semantic.ForwardAction",multiple:false},editAction:{type:"sap.m.semantic.EditAction",multiple:false},saveAction:{type:"sap.m.semantic.SaveAction",multiple:false},deleteAction:{type:"sap.m.semantic.DeleteAction",multiple:false},cancelAction:{type:"sap.m.semantic.CancelAction",multiple:false},flagAction:{type:"sap.m.semantic.FlagAction",multiple:false},favoriteAction:{type:"sap.m.semantic.FavoriteAction",multiple:false},openInAction:{type:"sap.m.semantic.OpenInAction",multiple:false},discussInJamAction:{type:"sap.m.semantic.DiscussInJamAction",multiple:false},shareInJamAction:{type:"sap.m.semantic.ShareInJamAction",multiple:false},sendEmailAction:{type:"sap.m.semantic.SendEmailAction",multiple:false},sendMessageAction:{type:"sap.m.semantic.SendMessageAction",multiple:false},printAction:{type:"sap.m.semantic.PrintAction",multiple:false},messagesIndicator:{type:"sap.m.semantic.MessagesIndicator",multiple:false},saveAsTileAction:{type:"sap.m.Button",multiple:false},pagingAction:{type:"sap.m.PagingButton",multiple:false},draftIndicator:{type:"sap.m.DraftIndicator",multiple:false}}},renderer:b.render});F.prototype.setAggregation=function(A,o,s){if((A==="saveAsTileAction")||(A==="pagingAction")||(A==="draftIndicator")){var p='_'+A;if(o){this._addToInnerAggregation(o,a.getPositionInPage(A),a.getSequenceOrderIndex(A),s);this[p]=o;}else{if(this[p]){this._removeFromInnerAggregation(this[p],a.getPositionInPage(A),s);this[p]=null;}}return;}S.prototype.setAggregation.call(this,A,o,s);};F.prototype.getAggregation=function(A,o,s){if((A==="saveAsTileAction")||(A==="pagingAction")||(A==="draftIndicator")){return this['_'+A];}return S.prototype.getAggregation.call(this,A,o,s);};F.prototype.destroyAggregation=function(A,s){if((A==="saveAsTileAction")||(A==="pagingAction")||(A==="draftIndicator")){var p='_'+A;if(this[p]){this._removeFromInnerAggregation(this[p],a.getPositionInPage(A),s);this[p].destroy();this[p]=null;}return this;}return S.prototype.destroyAggregation.call(this,A,s);};return F;},true);
sap.ui.predefine('sap/m/semantic/GroupAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var G=S.extend("sap.m.semantic.GroupAction",{metadata:{library:"sap.m",interfaces:["sap.m.semantic.IGroup"]}});return G;},true);
sap.ui.predefine('sap/m/semantic/GroupSelect',['sap/m/semantic/SemanticSelect'],function(S){"use strict";var G=S.extend("sap.m.semantic.GroupSelect",{metadata:{library:"sap.m",interfaces:["sap.m.semantic.IGroup"]}});return G;},true);
sap.ui.predefine('sap/m/semantic/MainAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var M=S.extend("sap.m.semantic.MainAction",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null}}}});return M;},true);
sap.ui.predefine('sap/m/semantic/MasterPage',['jquery.sap.global',"sap/m/semantic/SemanticPage","sap/m/semantic/SemanticPageRenderer","sap/m/semantic/MultiSelectAction"],function(q,S,a,M){"use strict";var b=S.extend("sap.m.semantic.MasterPage",{metadata:{library:"sap.m",aggregations:{addAction:{type:"sap.m.semantic.AddAction",multiple:false},mainAction:{type:"sap.m.semantic.MainAction",multiple:false},positiveAction:{type:"sap.m.semantic.PositiveAction",multiple:false},negativeAction:{type:"sap.m.semantic.NegativeAction",multiple:false},multiSelectAction:{type:"sap.m.semantic.MultiSelectAction",multiple:false},forwardAction:{type:"sap.m.semantic.ForwardAction",multiple:false},editAction:{type:"sap.m.semantic.EditAction",multiple:false},saveAction:{type:"sap.m.semantic.SaveAction",multiple:false},deleteAction:{type:"sap.m.semantic.DeleteAction",multiple:false},cancelAction:{type:"sap.m.semantic.CancelAction",multiple:false},sort:{type:"sap.m.semantic.ISort",multiple:false},filter:{type:"sap.m.semantic.IFilter",multiple:false},group:{type:"sap.m.semantic.IGroup",multiple:false},messagesIndicator:{type:"sap.m.semantic.MessagesIndicator",multiple:false}}},renderer:a.render});b.prototype.init=function(){S.prototype.init.call(this);this._getPage().getLandmarkInfo().setRootLabel(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("SEMANTIC_MASTER_PAGE_TITLE"));};b.prototype.getSemanticRuleSet=function(){return sap.m.semantic.SemanticRuleSetType.Classic;};return b;},true);
sap.ui.predefine('sap/m/semantic/MessagesIndicator',['sap/m/semantic/SemanticButton'],function(S){"use strict";var M=S.extend("sap.m.semantic.MessagesIndicator",{metadata:{library:"sap.m"}});return M;},true);
sap.ui.predefine('sap/m/semantic/MultiSelectAction',['sap/m/semantic/SemanticToggleButton','sap/m/semantic/SemanticConfiguration'],function(S,a){"use strict";var M=S.extend("sap.m.semantic.MultiSelectAction",{metadata:{library:"sap.m"}});var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");M._PRESSED_STATE_TO_ICON_MAP={"true":"sap-icon://sys-cancel","false":"sap-icon://multi-select"};M._ACC_TOOLTIP_TO_ICON_MAP={"true":b.getText("SEMANTIC_CONTROL_MULTI_SELECT_CANCEL"),"false":b.getText("SEMANTIC_CONTROL_MULTI_SELECT")};M.prototype._setPressed=function(p,s){var i=M._PRESSED_STATE_TO_ICON_MAP[p];var I=M._ACC_TOOLTIP_TO_ICON_MAP[p];this._getControl().setIcon(i);this._getControl().setTooltip(I);};return M;},true);
sap.ui.predefine('sap/m/semantic/NegativeAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var N=S.extend("sap.m.semantic.NegativeAction",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null}}}});return N;},true);
sap.ui.predefine('sap/m/semantic/OpenInAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var O=S.extend("sap.m.semantic.OpenInAction",{metadata:{library:"sap.m"}});return O;},true);
sap.ui.predefine('sap/m/semantic/PositiveAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var P=S.extend("sap.m.semantic.PositiveAction",{metadata:{library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null}}}});return P;},true);
sap.ui.predefine('sap/m/semantic/PrintAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var P=S.extend("sap.m.semantic.PrintAction",{metadata:{library:"sap.m"}});return P;},true);
sap.ui.predefine('sap/m/semantic/SaveAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var a=S.extend("sap.m.semantic.SaveAction",{metadata:{library:"sap.m"}});return a;},true);
sap.ui.predefine('sap/m/semantic/Segment',['jquery.sap.global','sap/ui/base/Metadata'],function(q,M){"use strict";var S=M.createClass("sap.m.semantic.Segment",{constructor:function(C,o,s,f){if(!o){q.sap.log.error("missing argumment: constructor expects a container reference",this);return;}C||(C=[]);this._aContent=C;this._oContainer=o;this._sContainerAggregationName=s;this._fnSortFunction=f;}});S.prototype.getStartIndex=function(){return 0;};S.prototype.getEndIndex=function(){return this.getStartIndex()+this._aContent.length;};S.prototype.getContent=function(){return this._aContent;};S.prototype.indexOfContent=function(C){return q.inArray(C,this._aContent);};S.prototype.addContent=function(C,s){if(this._fnSortFunction){var i=this._matchSortToInsertIndex(C);if(typeof i!=='undefined'){this._insertContent(C,i,s);return C;}}var a=this.getEndIndex(),l=this._aContent.length,A="insert"+c(this._sContainerAggregationName);this._oContainer[A](C,a,s);this._aContent.splice(l,0,C);return C;};S.prototype.insertContent=function(C,i,s){if(this._fnSortFunction){var I=this._matchSortToInsertIndex(C);if(typeof I!=='undefined'){this._insertContent(C,I,s);return C;}}return this._insertContent(C,i,s);};S.prototype.removeContent=function(C,s){var l=q.inArray(C,this._aContent),a="remove"+c(this._sContainerAggregationName);if(l>-1){this._aContent.splice(l,1);return this._oContainer[a](C,s);}};S.prototype.removeAllContent=function(s){var r=[],g=this._oContainer.getAggregation(this._sContainerAggregationName),a=this.getStartIndex(),e=this.getEndIndex(),A="remove"+c(this._sContainerAggregationName);for(var i=a;i<e;i++){var I=this._oContainer[A](g[i],s);if(I){r.push(I);}}this._aContent=[];return r;};S.prototype.destroy=function(s){var r=this.removeAllContent(s);for(var i=0;i<r.length;i++){r[i].destroy(s);}};S.prototype._insertContent=function(C,i,s){var I=Math.min(this.getStartIndex()+i,this.getEndIndex()),a="insert"+c(this._sContainerAggregationName);I=Math.max(I,0);this._oContainer[a](C,I,s);this._aContent.splice(i,0,C);return C;};S.prototype._matchSortToInsertIndex=function(C){for(var i=0;i<this._aContent.length;i++){if(this._fnSortFunction(C,this._aContent[i])<=0){return i;}}};function c(n){return n.charAt(0).toUpperCase()+n.substring(1);}return S;},false);
sap.ui.predefine('sap/m/semantic/SegmentedContainer',['jquery.sap.global','sap/m/semantic/Segment','sap/ui/base/Metadata'],function(q,S,M){"use strict";var a=M.createClass("sap.m.semantic.SegmentedContainer",{constructor:function(c,C){if(!c){q.sap.log.error("missing argumment: constructor expects a container reference",this);return;}this._oContainer=c;C||(C="content");this._sContainerAggregationName=C;this._aSegments=[];}});a.prototype.addSection=function(o){if(!o||!o.sTag){q.sap.log.error("missing argumment: section options expected",this);return;}if(o.aContent){var c=o.aContent;var l=c.length;for(var i=0;i<l;i++){this._oContainer.addAggregation(this._sContainerAggregationName,c[i]);}}var s=new S(c,this._oContainer,this._sContainerAggregationName,o.fnSortFunction);s.sTag=o.sTag;var b=this._aSegments;s.getStartIndex=function(){var d=0;var e=q.inArray(this,b);if(e>0){var p=e-1;while(p>=0){d+=b[p].getContent().length;p--;}}return d;};this._aSegments.push(s);};a.prototype.getSection=function(t){var s;this._aSegments.forEach(function(b){if(b.sTag===t){s=b;}});return s;};a.prototype.destroy=function(s){this._oContainer.destroy(s);this.aSegments=null;};return a;},false);
sap.ui.predefine('sap/m/semantic/SemanticButton',['sap/m/semantic/SemanticControl','sap/m/Button','sap/m/semantic/SemanticOverflowToolbarButton'],function(S,B,a){"use strict";var b=S.extend("sap.m.semantic.SemanticButton",{metadata:{library:"sap.m","abstract":true,properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true}},events:{press:{}}}});b.prototype._getControl=function(){var c=this.getAggregation('_control');if(!c){var C=this._getConfiguration()&&this._getConfiguration().constraints==="IconOnly"?a:B;var n=this._createInstance(C);n.applySettings(this._getConfiguration().getSettings());if(typeof this._getConfiguration().getEventDelegates==="function"){n.addEventDelegate(this._getConfiguration().getEventDelegates(n));}this.setAggregation('_control',n,true);c=this.getAggregation('_control');}return c;};b.prototype._createInstance=function(c){return new c({id:this.getId()+"-button",press:jQuery.proxy(this.firePress,this)});};return b;},true);
sap.ui.predefine('sap/m/semantic/SemanticConfiguration',['jquery.sap.global','sap/ui/base/Metadata',"sap/m/OverflowToolbarLayoutData","sap/ui/core/InvisibleText","sap/ui/core/IconPool"],function(q,M,O,I,a){"use strict";var S=M.createClass("sap.m.semantic.SemanticConfiguration",{});S.prototype._PositionInPage={headerLeft:"headerLeft",headerRight:"headerRight",headerMiddle:"headerMiddle",footerLeft:"footerLeft",footerRight_IconOnly:"footerRight_IconOnly",footerRight_TextOnly:"footerRight_TextOnly",shareMenu:"shareMenu"};S._PageMode={display:"display",edit:"edit",multimode:"multimode"};S.isKnownSemanticType=function(t){return S.getConfiguration(t)!=undefined;};S.getConfiguration=function(t){return S._oTypeConfigs[t];};S.getSettings=function(t){return S._oTypeConfigs[t].getSettings();};S.getPositionInPage=function(t){return S._oTypeConfigs[t].position;};S.getSequenceOrderIndex=function(t){return S._oTypeConfigs[t].order;};S.getAriaId=function(t){return S._oTypeConfigs[t].getSettings().ariaLabelledBy;};S.getShareMenuConfig=function(r){switch(r){case sap.m.semantic.SemanticRuleSetType.Classic:return{baseButtonPlacement:sap.m.PlacementType.Bottom,actionSheetPlacement:sap.m.PlacementType.Top};case sap.m.semantic.SemanticRuleSetType.Optimized:return{baseButtonPlacement:sap.m.PlacementType.Top,actionSheetPlacement:sap.m.PlacementType.Bottom};}};S._oTypeConfigs=(function(){var t={},b=sap.ui.getCore().getLibraryResourceBundle("sap.m");t["sap.m.semantic.MultiSelectAction"]={position:S.prototype._PositionInPage.headerRight,getSettings:function(){return{icon:a.getIconURI("multi-select"),tooltip:b.getText("SEMANTIC_CONTROL_MULTI_SELECT")};}};t["sap.m.semantic.MainAction"]={position:S.prototype._PositionInPage.footerRight_TextOnly,getSettings:function(){return{type:sap.m.ButtonType.Emphasized,layoutData:new O({moveToOverflow:false,stayInOverflow:false})};},order:0};t["sap.m.semantic.EditAction"]={position:S.prototype._PositionInPage.footerRight_TextOnly,triggers:S._PageMode.edit,getSettings:function(){return{text:b.getText("SEMANTIC_CONTROL_EDIT"),type:sap.m.ButtonType.Emphasized,layoutData:new O({moveToOverflow:false,stayInOverflow:false})};},order:1};t["sap.m.semantic.SaveAction"]={position:S.prototype._PositionInPage.footerRight_TextOnly,triggers:S._PageMode.display,getSettings:function(){return{text:b.getText("SEMANTIC_CONTROL_SAVE"),type:sap.m.ButtonType.Emphasized,layoutData:new O({moveToOverflow:false,stayInOverflow:false})};},order:3};t["sap.m.semantic.DeleteAction"]={position:S.prototype._PositionInPage.footerRight_TextOnly,triggers:S._PageMode.display,getSettings:function(){return{text:b.getText("SEMANTIC_CONTROL_DELETE"),layoutData:new O({moveToOverflow:false,stayInOverflow:false})};},order:4};t["sap.m.semantic.PositiveAction"]={position:S.prototype._PositionInPage.footerRight_TextOnly,getSettings:function(){return{type:sap.m.ButtonType.Accept,layoutData:new O({moveToOverflow:false,stayInOverflow:false})};},order:5};t["sap.m.semantic.NegativeAction"]={position:S.prototype._PositionInPage.footerRight_TextOnly,getSettings:function(){return{type:sap.m.ButtonType.Reject,layoutData:new O({moveToOverflow:false,stayInOverflow:false})};},order:6};t["sap.m.semantic.CancelAction"]={position:S.prototype._PositionInPage.footerRight_TextOnly,triggers:S._PageMode.display,getSettings:function(){return{text:b.getText("SEMANTIC_CONTROL_CANCEL")};},order:7};t["sap.m.semantic.ForwardAction"]={position:S.prototype._PositionInPage.footerRight_TextOnly,getSettings:function(){return{text:b.getText("SEMANTIC_CONTROL_FORWARD"),layoutData:new O({moveToOverflow:true,stayInOverflow:false})};},order:8};t["sap.m.semantic.OpenInAction"]={position:S.prototype._PositionInPage.footerRight_TextOnly,getSettings:function(){return{text:b.getText("SEMANTIC_CONTROL_OPEN_IN")};},order:9};t["sap.m.semantic.AddAction"]={position:S.prototype._PositionInPage.footerRight_IconOnly,triggers:S._PageMode.edit,getSettings:function(){return{icon:a.getIconURI("add"),text:b.getText("SEMANTIC_CONTROL_ADD"),tooltip:b.getText("SEMANTIC_CONTROL_ADD")};},order:0,constraints:"IconOnly"};t["sap.m.semantic.FavoriteAction"]={position:S.prototype._PositionInPage.footerRight_IconOnly,getSettings:function(){return{icon:a.getIconURI("favorite"),text:b.getText("SEMANTIC_CONTROL_FAVORITE"),tooltip:b.getText("SEMANTIC_CONTROL_FAVORITE")};},order:1,constraints:"IconOnly"};t["sap.m.semantic.FlagAction"]={position:S.prototype._PositionInPage.footerRight_IconOnly,getSettings:function(){return{icon:a.getIconURI("flag"),text:b.getText("SEMANTIC_CONTROL_FLAG"),tooltip:b.getText("SEMANTIC_CONTROL_FLAG")};},order:2,constraints:"IconOnly"};t["sap.m.semantic.ISort"]={position:S.prototype._PositionInPage.footerRight_IconOnly,order:3};t["sap.m.semantic.IFilter"]={position:S.prototype._PositionInPage.footerRight_IconOnly,order:4};t["sap.m.semantic.IGroup"]={position:S.prototype._PositionInPage.footerRight_IconOnly,order:5};t["sap.m.semantic.SortAction"]={position:S.prototype._PositionInPage.footerRight_IconOnly,getSettings:function(){return{icon:a.getIconURI("sort"),text:b.getText("SEMANTIC_CONTROL_SORT"),tooltip:b.getText("SEMANTIC_CONTROL_SORT"),layoutData:new O({moveToOverflow:true,stayInOverflow:false})};},constraints:"IconOnly"};t["sap.m.semantic.SortSelect"]={position:S.prototype._PositionInPage.footerRight_IconOnly,getSettings:function(){return{icon:a.getIconURI("sort"),type:"IconOnly",autoAdjustWidth:true,tooltip:b.getText("SEMANTIC_CONTROL_SORT"),layoutData:new O({moveToOverflow:true,stayInOverflow:false})};},getEventDelegates:function(c){return{onAfterRendering:function(){this.$().attr({"aria-haspopup":true,"role":""});}.bind(c)};},constraints:"IconOnly"};t["sap.m.semantic.FilterAction"]={position:S.prototype._PositionInPage.footerRight_IconOnly,getSettings:function(){return{icon:a.getIconURI("filter"),text:b.getText("SEMANTIC_CONTROL_FILTER"),tooltip:b.getText("SEMANTIC_CONTROL_FILTER"),layoutData:new O({moveToOverflow:true,stayInOverflow:false})};},constraints:"IconOnly"};t["sap.m.semantic.FilterSelect"]={position:S.prototype._PositionInPage.footerRight_IconOnly,getSettings:function(){return{icon:a.getIconURI("filter"),type:"IconOnly",autoAdjustWidth:true,tooltip:b.getText("SEMANTIC_CONTROL_FILTER"),layoutData:new O({moveToOverflow:true,stayInOverflow:false})};},constraints:"IconOnly"};t["sap.m.semantic.GroupAction"]={position:S.prototype._PositionInPage.footerRight_IconOnly,getSettings:function(){return{icon:a.getIconURI("group-2"),text:b.getText("SEMANTIC_CONTROL_GROUP"),tooltip:b.getText("SEMANTIC_CONTROL_GROUP"),layoutData:new O({moveToOverflow:true,stayInOverflow:false})};},constraints:"IconOnly"};t["sap.m.semantic.GroupSelect"]={position:S.prototype._PositionInPage.footerRight_IconOnly,getSettings:function(){return{icon:a.getIconURI("group-2"),type:"IconOnly",autoAdjustWidth:true,layoutData:new O({moveToOverflow:true,stayInOverflow:false})};},getEventDelegates:function(c){return{onAfterRendering:function(){this.$().attr({"aria-haspopup":true,"role":""});}.bind(c)};},constraints:"IconOnly"};t["saveAsTileAction"]={position:S.prototype._PositionInPage.shareMenu,order:0,constraints:"IconOnly"};t["pagingAction"]={position:S.prototype._PositionInPage.headerRight};t["sap.m.semantic.DiscussInJamAction"]={position:S.prototype._PositionInPage.shareMenu,getSettings:function(){return{icon:a.getIconURI("discussion-2"),text:b.getText("SEMANTIC_CONTROL_DISCUSS_IN_JAM")};},order:1,constraints:"IconOnly"};t["sap.m.semantic.ShareInJamAction"]={position:S.prototype._PositionInPage.shareMenu,getSettings:function(){return{icon:a.getIconURI("share-2"),text:b.getText("SEMANTIC_CONTROL_SHARE_IN_JAM")};},order:2,constraints:"IconOnly"};t["sap.m.semantic.SendMessageAction"]={position:S.prototype._PositionInPage.shareMenu,getSettings:function(){return{icon:a.getIconURI("discussion"),text:b.getText("SEMANTIC_CONTROL_SEND_MESSAGE")};},order:3,constraints:"IconOnly"};t["sap.m.semantic.SendEmailAction"]={position:S.prototype._PositionInPage.shareMenu,getSettings:function(){return{icon:a.getIconURI("email"),text:b.getText("SEMANTIC_CONTROL_SEND_EMAIL")};},order:4,constraints:"IconOnly"};t["sap.m.semantic.PrintAction"]={position:S.prototype._PositionInPage.shareMenu,getSettings:function(){return{icon:a.getIconURI("print"),text:b.getText("SEMANTIC_CONTROL_PRINT")};},order:5,constraints:"IconOnly"};t["sap.m.semantic.MessagesIndicator"]={position:S.prototype._PositionInPage.footerLeft,getSettings:function(){return{icon:a.getIconURI("message-popup"),text:{path:"message>/",formatter:function(m){return m.length||0;}},tooltip:b.getText("SEMANTIC_CONTROL_MESSAGES_INDICATOR"),type:sap.m.ButtonType.Emphasized,visible:{path:"message>/",formatter:function(m){return m&&m.length>0;}},models:{message:sap.ui.getCore().getMessageManager().getMessageModel()},layoutData:new O({moveToOverflow:false,stayInOverflow:false})};}};t["draftIndicator"]={position:S.prototype._PositionInPage.footerLeft,getSettings:function(){return{layoutData:new sap.m.OverflowToolbarLayoutData({shrinkable:false})};},order:1};return t;})();return S;},false);
sap.ui.predefine('sap/m/semantic/SemanticControl',['jquery.sap.global',"sap/m/semantic/SemanticConfiguration","sap/ui/base/ManagedObject","sap/ui/core/Element"],function(q,S,M,E){"use strict";var a=E.extend("sap.m.semantic.SemanticControl",{metadata:{library:"sap.m","abstract":true,properties:{visible:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{_control:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}}});a.prototype.setProperty=function(k,v,s){M.prototype.setProperty.call(this,k,v,true);this._applyProperty(k,v,s);return this;};a.prototype.updateAggregation=function(n){this._getControl().updateAggregation(n);};a.prototype.refreshAggregation=function(n){this._getControl().refreshAggregation(n);};a.prototype.setAggregation=function(A,o,s){if(A==='_control'){return M.prototype.setAggregation.call(this,A,o,s);}return this._getControl().setAggregation(A,o,s);};a.prototype.getAggregation=function(A,d){if(A==='_control'){return M.prototype.getAggregation.call(this,A,d);}return this._getControl().getAggregation(A,d);};a.prototype.indexOfAggregation=function(A,o){return this._getControl().indexOfAggregation(A,o);};a.prototype.insertAggregation=function(A,o,i,s){return this._getControl().insertAggregation(A,o,i,s);};a.prototype.addAggregation=function(A,o,s){return this._getControl().addAggregation(A,o,s);};a.prototype.removeAggregation=function(A,o,s){return this._getControl().removeAggregation(A,o,s);};a.prototype.removeAllAggregation=function(A,s){return this._getControl().removeAllAggregation(A,s);};a.prototype.destroyAggregation=function(A,s){return this._getControl().destroyAggregation(A,s);};a.prototype.bindAggregation=function(n,b){return this._getControl().bindAggregation(n,b);};a.prototype.unbindAggregation=function(n,s){return this._getControl().unbindAggregation(n,s);};a.prototype.clone=function(i,l){var c=E.prototype.clone.apply(this,arguments);var p=this._getControl().clone(i,l);c.setAggregation('_control',p);return c;};a.prototype.destroy=function(){var r=E.prototype.destroy.apply(this,arguments);if(this.getAggregation("_control")){this.getAggregation("_control").destroy();}return r;};a.prototype.getPopupAnchorDomRef=function(){return this._getControl().getDomRef();};a.prototype.getDomRef=function(s){return this._getControl().getDomRef(s);};a.prototype.addEventDelegate=function(d,t){q.each(d,function(e,c){if(typeof c==='function'){var p=function(o){o.srcControl=this;c.call(t,o);}.bind(this);d[e]=p;}}.bind(this));this._getControl().addEventDelegate(d,t);return this;};a.prototype.removeEventDelegate=function(d){this._getControl().removeEventDelegate(d);return this;};a.prototype._getConfiguration=function(){return S.getConfiguration(this.getMetadata().getName());};a.prototype._onPageStateChanged=function(e){this._updateState(e.sId);};a.prototype._updateState=function(s){if(this._getConfiguration()&&this._getControl()){var o=this._getConfiguration().states[s];if(o){this._getControl().applySettings(o);}}};a.prototype._applyProperty=function(k,v,s){var b="set"+this._capitalize(k);this._getControl()[b](v,s);};a.prototype._capitalize=function(n){return n.charAt(0).toUpperCase()+n.slice(1);};return a;},false);
sap.ui.predefine('sap/m/semantic/SemanticOverflowToolbarButton',['sap/m/OverflowToolbarButton','sap/m/ButtonRenderer'],function(O,B){"use strict";var S=O.extend("sap.m.semantic.SemanticOverflowToolbarButton",{renderer:B.render});S.prototype._getTooltip=function(){var t=O.prototype._getTooltip.call(this);if(!t&&!this._bInOverflow&&this.getText()){t=this.getText();}return t;};return S;},false);
sap.ui.predefine('sap/m/semantic/SemanticPage.designtime',[],function(){"use strict";return{aggregations:{content:{domRef:":sap-domref > .sapMPage > section"}}};},false);
sap.ui.predefine('sap/m/semantic/SemanticPage',['jquery.sap.global','sap/m/semantic/SegmentedContainer','sap/m/semantic/SemanticConfiguration','sap/m/Button','sap/m/Title','sap/m/ActionSheet','sap/m/Page','sap/m/OverflowToolbar','sap/m/OverflowToolbarButton','sap/m/OverflowToolbarLayoutData','sap/m/ToolbarSpacer','sap/m/Bar','sap/ui/core/CustomData','sap/ui/base/ManagedObject','sap/ui/core/AccessibleLandmarkRole','sap/m/PageAccessibleLandmarkInfo'],function(q,S,a,B,T,A,P,O,b,c,d,e,C,M,f,g){"use strict";var h=sap.ui.core.Control.extend("sap.m.semantic.SemanticPage",{metadata:{library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null},titleLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:sap.ui.core.TitleLevel.Auto},showNavButton:{type:"boolean",group:"Appearance",defaultValue:false},showSubHeader:{type:"boolean",group:"Appearance",defaultValue:true},enableScrolling:{type:"boolean",group:"Behavior",defaultValue:true},showFooter:{type:"boolean",group:"Appearance",defaultValue:true},floatingFooter:{type:"boolean",group:"Appearance",defaultValue:false},semanticRuleSet:{type:"sap.m.semantic.SemanticRuleSetType",group:"Misc",defaultValue:sap.m.semantic.SemanticRuleSetType.Classic}},defaultAggregation:"content",aggregations:{subHeader:{type:"sap.m.IBar",multiple:false},content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},customHeaderContent:{type:"sap.m.Button",multiple:true,singularName:"customHeaderContent"},customFooterContent:{type:"sap.m.Button",multiple:true,singularName:"customFooterContent"},landmarkInfo:{type:"sap.m.PageAccessibleLandmarkInfo",multiple:false},_page:{type:"sap.m.Page",multiple:false,visibility:"hidden"}},events:{navButtonPress:{}},designTime:true}});h.prototype.init=function(){this._currentMode=a._PageMode.display;this._getPage().setCustomHeader(this._getInternalHeader());this._getPage().setFooter(new O(this.getId()+"-footer"));this._getPage().setLandmarkInfo(new g());this._getPage().setShowHeader(false);var H=this._getInternalHeader();H._attachModifyAggregation("contentLeft",null,this._updateHeaderVisibility,this);H._attachModifyAggregation("contentMiddle",null,this._updateHeaderVisibility,this);H._attachModifyAggregation("contentRight",null,this._updateHeaderVisibility,this);};h.prototype.exit=function(){if(this._oInternalHeader){this._oInternalHeader.destroy();this._oInternalHeader=null;}if(this._oWrappedFooter){this._oWrappedFooter.destroy();this._oWrappedFooter=null;}if(this._oTitle){this._oTitle.destroy();this._oTitle=null;}if(this._oNavButton){this._oNavButton.destroy();this._oNavButton=null;}this._oPositionsMap=null;};h.prototype.setSubHeader=function(o,j){this._getPage().setSubHeader(o,j);return this;};h.prototype.getSubHeader=function(){return this._getPage().getSubHeader();};h.prototype.destroySubHeader=function(j){this._getPage().destroySubHeader(j);return this;};h.prototype.getShowSubHeader=function(){return this._getPage().getShowSubHeader();};h.prototype.setShowSubHeader=function(j,k){this._getPage().setShowSubHeader(j,k);this.setProperty("showSubHeader",j,true);return this;};h.prototype.getShowFooter=function(){return this._getPage().getShowFooter();};h.prototype.setShowFooter=function(j,k){this._getPage().setShowFooter(j,k);this.setProperty("showFooter",j,true);return this;};h.prototype.setFloatingFooter=function(F,j){this._getPage().setFloatingFooter(F,j);this.setProperty("floatingFooter",F,true);return this;};h.prototype.getContent=function(){return this._getPage().getContent();};h.prototype.addContent=function(o,j){this._getPage().addContent(o,j);return this;};h.prototype.indexOfContent=function(o){return this._getPage().indexOfContent(o);};h.prototype.insertContent=function(o,I,j){this._getPage().insertContent(o,I,j);return this;};h.prototype.removeContent=function(o,j){return this._getPage().removeContent(o,j);};h.prototype.removeAllContent=function(j){return this._getPage().removeAllContent(j);};h.prototype.destroyContent=function(j){this._getPage().destroyContent(j);return this;};h.prototype.setTitle=function(t){var o=this._getTitle();if(o){o.setText(t);if(!o.getParent()){this._getInternalHeader().addContentMiddle(o);}}this.setProperty("title",t,true);return this;};h.prototype.setTitleLevel=function(t){this.setProperty("titleLevel",t,true);this._getTitle().setLevel(t);return this;};h.prototype.setShowNavButton=function(j){var o=this._getNavButton();if(o){o.setVisible(j);if(!o.getParent()){this._getInternalHeader().addContentLeft(o);}}this.setProperty("showNavButton",j,true);return this;};h.prototype.setEnableScrolling=function(E){this._getPage().setEnableScrolling(E);this.setProperty("enableScrolling",E,true);return this;};h.prototype.setLandmarkInfo=function(l){return this._getPage().setLandmarkInfo(l);};h.prototype.getLandmarkInfo=function(){return this._getPage().getLandmarkInfo();};h.prototype.destroyLandmarkInfo=function(){return this._getPage().destroyLandmarkInfo();};h.prototype.getCustomFooterContent=function(){return this._getSegmentedFooter().getSection("customRight").getContent();};h.prototype.addCustomFooterContent=function(o,j){this._getSegmentedFooter().getSection("customRight").addContent(o,j);return this;};h.prototype.indexOfCustomFooterContent=function(o){return this._getSegmentedFooter().getSection("customRight").indexOfContent(o);};h.prototype.insertCustomFooterContent=function(o,I,j){this._getSegmentedFooter().getSection("customRight").insertContent(o,I,j);return this;};h.prototype.removeCustomFooterContent=function(o,j){return this._getSegmentedFooter().getSection("customRight").removeContent(o,j);};h.prototype.removeAllCustomFooterContent=function(j){return this._getSegmentedFooter().getSection("customRight").removeAllContent(j);};h.prototype.destroyCustomFooterContent=function(j){var k=this.getCustomFooterContent();if(!k){return this;}if(j){this.iSuppressInvalidate++;}this._getSegmentedFooter().getSection("customRight").destroy(j);if(!this.isInvalidateSuppressed()){this.invalidate();}if(j){this.iSuppressInvalidate--;}return this;};h.prototype.getCustomHeaderContent=function(){return this._getSegmentedHeader().getSection("customRight").getContent();};h.prototype.addCustomHeaderContent=function(o,j){this._getSegmentedHeader().getSection("customRight").addContent(o,j);return this;};h.prototype.indexOfCustomHeaderContent=function(o){return this._getSegmentedHeader().getSection("customRight").indexOfContent(o);};h.prototype.insertCustomHeaderContent=function(o,I,j){this._getSegmentedHeader().getSection("customRight").insertContent(o,I,j);return this;};h.prototype.removeCustomHeaderContent=function(o,j){return this._getSegmentedHeader().getSection("customRight").removeContent(o,j);};h.prototype.removeAllCustomHeaderContent=function(j){return this._getSegmentedHeader().getSection("customRight").removeAllContent(j);};h.prototype.destroyCustomHeaderContent=function(j){var k=this.getCustomHeaderContent();if(!k){return this;}if(j){this.iSuppressInvalidate++;}this._getSegmentedHeader().getSection("customRight").destroy(j);if(!this.isInvalidateSuppressed()){this.invalidate();}if(j){this.iSuppressInvalidate--;}return this;};h.prototype.setAggregation=function(j,o,k){var l=this.mAggregations[j];if(l===o){return this;}o=this.validateAggregation(j,o,false);var t=this.getMetadata().getManagedAggregation(j).type;if(a.isKnownSemanticType(t)){if(l){this._stopMonitor(l);this._removeFromInnerAggregation(l._getControl(),a.getPositionInPage(t),k);}if(o){this._initMonitor(o);this._addToInnerAggregation(o._getControl(),a.getPositionInPage(t),a.getSequenceOrderIndex(t),k);}return M.prototype.setAggregation.call(this,j,o,true);}return M.prototype.setAggregation.call(this,j,o,k);};h.prototype.destroyAggregation=function(j,k){var o=this.getMetadata().getAggregations()[j];if(o&&a.isKnownSemanticType(o.type)){var l=M.prototype.getAggregation.call(this,j);if(l){this._stopMonitor(l);if(!l._getControl().bIsDestroyed){this._removeFromInnerAggregation(l._getControl(),a.getPositionInPage(o.type),k);}}}return M.prototype.destroyAggregation.call(this,j,l,k);};h.prototype._updateHeaderVisibility=function(){var H=this._getInternalHeader();var E=(H.getContentLeft().length===0)&&(H.getContentMiddle().length===0)&&(H.getContentRight().length===0);this._getPage().setShowHeader(!E);};h.prototype._getTitle=function(){if(!this._oTitle){this._oTitle=new T(this.getId()+"-title",{text:this.getTitle()});}return this._oTitle;};h.prototype._getNavButton=function(){if(!this._oNavButton){this._oNavButton=new B(this.getId()+"-navButton",{type:sap.m.ButtonType.Up,tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("PAGE_NAVBUTTON_TEXT"),press:q.proxy(this.fireNavButtonPress,this)});}return this._oNavButton;};h.prototype._initMonitor=function(o){var j=o._getConfiguration();if(j.triggers){o.attachEvent("press",this._updateCurrentMode,this);}var k=j.states,t=this;if(k){q.each(a._PageMode,function(l,v){if(k[l]){t.attachEvent(l,o._onPageStateChanged,o);}});}};h.prototype._stopMonitor=function(o){o.detachEvent("press",this._updateCurrentMode,this);var j=o._getConfiguration();var k=j.states,t=this;if(k){q.each(a._PageMode,function(l,v){if(k[l]){t.detachEvent(l,o._onPageStateChanged,o);}});}};h.prototype._updateCurrentMode=function(E){var o=E.oSource._getConfiguration();if(typeof o.triggers==='string'){this._currentMode=o.triggers;}else{var l=o.triggers.length;if(l&&l>0){for(var I=0;I<l;I++){var t=o.triggers[I];if(t&&(t.inState===this._currentMode)){this._currentMode=t.triggers;break;}}}}this.fireEvent(this._currentMode);};h.prototype._removeFromInnerAggregation=function(o,p,j){var k=this._getSemanticPositionsMap()[p];if(k&&k.oContainer&&k.sAggregation){k.oContainer["remove"+i(k.sAggregation)](o,j);}};h.prototype._addToInnerAggregation=function(o,p,j,k){if(!o||!p){return;}var l=this._getSemanticPositionsMap()[p];if(!l||!l.oContainer||!l.sAggregation){return;}if(typeof j!=='undefined'){o.addCustomData(new C({key:"sortIndex",value:j}));}return l.oContainer["add"+i(l.sAggregation)](o,k);};h.prototype._getSemanticPositionsMap=function(o,j){if(!this._oPositionsMap){this._oPositionsMap={};this._oPositionsMap[a.prototype._PositionInPage.headerLeft]={oContainer:this._getInternalHeader(),sAggregation:"contentLeft"};this._oPositionsMap[a.prototype._PositionInPage.headerRight]={oContainer:this._getSegmentedHeader().getSection("semanticRight"),sAggregation:"content"};this._oPositionsMap[a.prototype._PositionInPage.headerMiddle]={oContainer:this._getInternalHeader(),sAggregation:"contentMiddle"};this._oPositionsMap[a.prototype._PositionInPage.footerLeft]={oContainer:this._getSegmentedFooter().getSection("semanticLeft"),sAggregation:"content"};this._oPositionsMap[a.prototype._PositionInPage.footerRight_IconOnly]={oContainer:this._getSegmentedFooter().getSection("semanticRight_IconOnly"),sAggregation:"content"};this._oPositionsMap[a.prototype._PositionInPage.footerRight_TextOnly]={oContainer:this._getSegmentedFooter().getSection("semanticRight_TextOnly"),sAggregation:"content"};}return this._oPositionsMap;};h.prototype._getPage=function(){var p=this.getAggregation("_page");if(!p){this.setAggregation("_page",new P(this.getId()+"-page"));p=this.getAggregation("_page");}return p;};h.prototype._getInternalHeader=function(){if(!this._oInternalHeader){this._oInternalHeader=new e(this.getId()+"-intHeader");}return this._oInternalHeader;};h.prototype._getAnyHeader=function(){return this._getInternalHeader();};h.prototype._getSegmentedHeader=function(){if(!this._oWrappedHeader){var H=this._getInternalHeader();if(!H){q.sap.log.error("missing page header",this);return null;}this._oWrappedHeader=new S(H,"contentRight");this._oWrappedHeader.addSection({sTag:"customRight"});this._oWrappedHeader.addSection({sTag:"semanticRight"});}return this._oWrappedHeader;};h.prototype._getSegmentedFooter=function(){if(!this._oWrappedFooter){var F=this._getPage().getFooter();if(!F){q.sap.log.error("missing page footer",this);return null;}this._oWrappedFooter=new S(F);this._oWrappedFooter.addSection({sTag:"semanticLeft"});this._oWrappedFooter.addSection({sTag:"spacer",aContent:[new d()]});this._oWrappedFooter.addSection({sTag:"semanticRight_TextOnly",fnSortFunction:s});this._oWrappedFooter.addSection({sTag:"customRight"});this._oWrappedFooter.addSection({sTag:"semanticRight_IconOnly",fnSortFunction:s});}return this._oWrappedFooter;};function i(n){return n.substring(0,1).toUpperCase()+n.substring(1);}function s(o,j){var k=o.data("sortIndex");var l=j.data("sortIndex");if((typeof k==='undefined')||(typeof l==='undefined')){q.sap.log.warning("sortIndex missing",this);return null;}return(k-l);}return h;},false);
sap.ui.predefine("sap/m/semantic/SemanticPageRenderer",[],function(){"use strict";var S={};S.render=function(r,o){r.write("<div");r.writeControlData(o);r.addClass("sapMSemanticPage");r.writeClasses();r.write(">");r.renderControl(o._getPage());r.write("</div>");};return S;},true);
sap.ui.predefine('sap/m/semantic/SemanticSelect',['sap/m/semantic/SemanticControl','sap/m/Select'],function(S,a){"use strict";var b=S.extend("sap.m.semantic.SemanticSelect",{metadata:{library:"sap.m","abstract":true,properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},selectedKey:{type:"string",group:"Data",defaultValue:""}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable"}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false}},events:{change:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}}}}});b.prototype.setProperty=function(p,v,s){if(!this.getMetadata().getProperties()[p]&&!b.getMetadata().getProperties()[p]&&!S.getMetadata().getProperties()[p]){jQuery.sap.log.error("unknown property: "+p,this);return this;}S.prototype.setProperty.call(this,p,v,s);};b.prototype.getSelectedItem=function(){return this._getControl().getSelectedItem();};b.prototype.setSelectedItem=function(i){this._getControl().setSelectedItem(i);this.setSelectedKey(this._getControl().getSelectedKey());return this;};b.prototype.getItemAt=function(i){return this._getControl().getItemAt(i);};b.prototype._getControl=function(){var c=this.getAggregation('_control');if(!c){this.setAggregation('_control',new a({id:this.getId()+"-select",change:this._onInnerSelectChange.bind(this)}),true);c=this.getAggregation('_control');c.applySettings(this._getConfiguration().getSettings());if(typeof this._getConfiguration().getEventDelegates==="function"){c.addEventDelegate(this._getConfiguration().getEventDelegates(c));}}return c;};b.prototype._onInnerSelectChange=function(e){var s=e.getSource().getSelectedItem();this.setSelectedItem(s);this.fireChange({selectedItem:s});};return b;},true);
sap.ui.predefine('sap/m/semantic/SemanticToggleButton',['sap/m/semantic/SemanticButton','sap/m/semantic/SemanticControl','sap/m/ButtonType','sap/ui/base/ManagedObject'],function(S,a,B,M){"use strict";var b=S.extend("sap.m.semantic.SemanticToggleButton",{metadata:{library:"sap.m",properties:{pressed:{type:"boolean",group:"Data",defaultValue:false}}}});b.prototype._onTap=function(e){e.setMarked();if(this.getEnabled()){this.setPressed(!this.getPressed());this.firePress({pressed:this.getPressed()});}};b.prototype._onKeydown=function(e){if(e.which===jQuery.sap.KeyCodes.SPACE||e.which===jQuery.sap.KeyCodes.ENTER){this._onTap(e);}};b.prototype._applyProperty=function(p,v,s){if(p==='pressed'){this._setPressed(v,s);}else{S.prototype._applyProperty.apply(this,arguments);}};b.prototype._setPressed=function(p,s){var o=p?B.Emphasized:B.Default;this._getControl().setType(o,s);};b.prototype._createInstance=function(c){var i=new c({id:this.getId()+"-toggleButton"});i.addEventDelegate({ontap:this._onTap,onkeydown:this._onKeydown},this);return i;};return b;},true);
sap.ui.predefine('sap/m/semantic/SendEmailAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var a=S.extend("sap.m.semantic.SendEmailAction",{metadata:{library:"sap.m"}});return a;},true);
sap.ui.predefine('sap/m/semantic/SendMessageAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var a=S.extend("sap.m.semantic.SendMessageAction",{metadata:{library:"sap.m"}});return a;},true);
sap.ui.predefine('sap/m/semantic/ShareInJamAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var a=S.extend("sap.m.semantic.ShareInJamAction",{metadata:{library:"sap.m"}});return a;},true);
sap.ui.predefine('sap/m/semantic/ShareMenu',['jquery.sap.global','sap/ui/base/Metadata','sap/m/Button','sap/m/OverflowToolbarLayoutData','sap/ui/core/IconPool','sap/m/OverflowToolbarButton'],function(q,M,B,O,I,a){"use strict";var S=M.createClass("sap.m.semantic.ShareMenu",{constructor:function(A){if(!A){q.sap.log.error("missing argumment: constructor expects an actionsheet reference",this);return;}this._oActionSheet=A;this._setMode(S._Mode.initial);}});S._Mode={initial:"initial",button:"button",actionSheet:"actionSheet"};S.prototype.getBaseButton=function(){return this._oBaseButton;};S.prototype.getAggregation=function(n){if(n==="content"){return this.getContent();}};S.prototype.addAggregation=function(n,b,s){if(n==="content"){return this.addContent(b,s);}};S.prototype.insertAggregation=function(n,b,i,s){if(n==="content"){return this.insertContent(b,i,s);}};S.prototype.indexOfAggregation=function(n,b){if(n==="content"){return this.indexOfContent(b);}};S.prototype.removeAggregation=function(n,b,s){if(n==="content"){return this.removeContent(b,s);}};S.prototype.removeAllAggregation=function(n,s){if(n==="content"){return this.removeAllContent(s);}};S.prototype.getContent=function(){if(this._getMode()===S._Mode.initial){return[];}else if(this._getMode()===S._Mode.button){return[this._oBaseButton];}else{return this._oActionSheet.getAggregation("buttons");}};S.prototype.addContent=function(b,s){if(this._getMode()===S._Mode.initial){this._setMode(S._Mode.button,s,b);return this;}if(this._getMode()===S._Mode.button){this._setMode(S._Mode.actionSheet,s);}this._preProcessOverflowToolbarButton(b);this._oActionSheet.addButton(b,s);return this;};S.prototype.insertContent=function(b,i,s){if(this._getMode()===S._Mode.initial){this._setMode(S._Mode.button,s,b);return this;}if(this._getMode()===S._Mode.button){this._setMode(S._Mode.actionSheet,s);}this._preProcessOverflowToolbarButton(b);this._oActionSheet.insertButton(b,i,s);return this;};S.prototype.indexOfContent=function(b){if((this._getMode()===S._Mode.button)&&(b===this._oBaseButton)){return 0;}if(this._getMode()===S._Mode.actionSheet){return this._oActionSheet.indexOfAggregation("buttons",b);}return-1;};S.prototype.removeContent=function(b,s){var r;if(this._getMode()===S._Mode.actionSheet){r=this._oActionSheet.removeButton(b,s);this._postProcessOverflowToolbarButton(b);if(r){if(this._oActionSheet.getAggregation("buttons").length===1){this._setMode(S._Mode.button,s);}}return r;}if(this._getMode()===S._Mode.button){var l=this._oBaseButton;this._setMode(S._Mode.initial,s);return l;}return r;};S.prototype.removeAllContent=function(s){var r;if(this._getMode()===S._Mode.actionSheet){r=this._oActionSheet.removeAllButtons(s);r.forEach(this._postProcessOverflowToolbarButton,this);}else if(this._getMode()===S._Mode.button){r=[this._oBaseButton];}this._setMode(S._Mode.initial,s);return r;};S.prototype.destroy=function(s){this._oActionSheet.destroy(s);if(this._oShareMenuBtn){this._oShareMenuBtn.destroy(s);this._oShareMenuBtn=null;}};S.prototype._setBaseButton=function(b,s){if(this._oBaseButton===b){return this;}var o=this._oBaseButton;this._oBaseButton=b;if(o){var p=o.getParent(),P=o.sParentAggregationName;if(p){p.removeAggregation(P,o,s);p.addAggregation(P,this._oBaseButton,s);}}return this;};S.prototype._getMode=function(){return this._mode;};S.prototype._setMode=function(m,s,b){if(!S._Mode[m]){q.sap.log.error("unknown shareMenu mode "+m,this);return this;}if(this._mode===m){return this;}if(S._Mode.initial===m){this._setBaseButton(this._getShareMenuButton().applySettings({visible:false}));this._mode=S._Mode.initial;return this;}if(m===S._Mode.button){if(this._mode===S._Mode.initial){this._setBaseButton(b);}else if(this._mode===S._Mode.actionSheet){var l=this._oActionSheet.getAggregation("buttons")[0];this._oActionSheet.removeButton(l,s);this._postProcessOverflowToolbarButton(l);this._setBaseButton(l);}this._mode=S._Mode.button;return this;}if(m===S._Mode.actionSheet){var o=this._oBaseButton;this._setBaseButton(this._getShareMenuButton().applySettings({visible:true}));if(o){this._preProcessOverflowToolbarButton(o);this._oActionSheet.addButton(o,s);}this._mode=S._Mode.actionSheet;}return this;};S.prototype._getShareMenuButton=function(){if(!this._oShareMenuBtn){var t=this;this._oShareMenuBtn=new sap.m.Button(this._oActionSheet.getParent().getId()+"-shareButton",{icon:I.getIconURI("action"),tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("SEMANTIC_CONTROL_ACTION_SHARE"),layoutData:new O({moveToOverflow:false,stayInOverflow:false}),press:function(){t._oActionSheet.openBy(t._oShareMenuBtn);}});this._oShareMenuBtn.addEventDelegate({onAfterRendering:function(){t._oShareMenuBtn.$().attr("aria-haspopup",true);}});}return this._oShareMenuBtn;};S.prototype._preProcessOverflowToolbarButton=function(b){if(b instanceof a){b._bInOverflow=true;}};S.prototype._postProcessOverflowToolbarButton=function(b){if(b instanceof a){delete b._bInOverflow;}};return S;},false);
sap.ui.predefine('sap/m/semantic/ShareMenuPage.designtime',[],function(){"use strict";return{aggregations:{content:{domRef:":sap-domref > .sapMPage > section"}}};},false);
sap.ui.predefine('sap/m/semantic/ShareMenuPage',['jquery.sap.global',"sap/m/semantic/SemanticPage","sap/m/semantic/SemanticConfiguration","sap/m/semantic/SemanticPageRenderer","sap/m/semantic/SegmentedContainer","sap/m/semantic/ShareMenu","sap/m/ActionSheet","sap/m/Button"],function(q,S,a,b,c,d,A,B){"use strict";var e=S.extend("sap.m.semantic.ShareMenuPage",{metadata:{library:"sap.m",aggregations:{customShareMenuContent:{type:"sap.m.Button",multiple:true,singularName:"customShareMenuContent"},_actionSheet:{type:"sap.m.ActionSheet",multiple:false,visibility:"hidden"}},designTime:true},renderer:b.render});e.prototype._getSemanticPositionsMap=function(C,o){if(!this._oPositionsMap){this._oPositionsMap=S.prototype._getSemanticPositionsMap.apply(this,arguments);this._oPositionsMap[a.prototype._PositionInPage.shareMenu]={oContainer:this._getSegmentedShareMenu().getSection("semantic"),sAggregation:"content"};}return this._oPositionsMap;};e.prototype.exit=function(){S.prototype.exit.apply(this,arguments);if(this._oSegmentedShareMenu){this._oSegmentedShareMenu.destroy();this._oSegmentedShareMenu=null;}};e.prototype.getCustomShareMenuContent=function(){return this._getSegmentedShareMenu().getSection("custom").getContent();};e.prototype.addCustomShareMenuContent=function(o,s){this._getSegmentedShareMenu().getSection("custom").addContent(o,s);return this;};e.prototype.indexOfCustomShareMenuContent=function(o){return this._getSegmentedShareMenu().getSection("custom").indexOfContent(o);};e.prototype.insertCustomShareMenuContent=function(o,i,s){this._getSegmentedShareMenu().getSection("custom").insertContent(o,i,s);return this;};e.prototype.removeCustomShareMenuContent=function(o,s){return this._getSegmentedShareMenu().getSection("custom").removeContent(o,s);};e.prototype.removeAllCustomShareMenuContent=function(s){return this._getSegmentedShareMenu().getSection("custom").removeAllContent(s);};e.prototype.destroyCustomShareMenuContent=function(s){var C=this.getCustomShareMenuContent();if(!C){return this;}if(s){this.iSuppressInvalidate++;}this._getSegmentedShareMenu().getSection("custom").destroy();if(!this.isInvalidateSuppressed()){this.invalidate();}if(s){this.iSuppressInvalidate--;}return this;};e.prototype.setSemanticRuleSet=function(n){var o=this.getSemanticRuleSet();if(o===n){return this;}this.setProperty("semanticRuleSet",n,true);var O=a.getShareMenuConfig(o),s=this._getShareBaseButtonContainer(O.baseButtonPlacement).getSection("shareMenu");if(s){this._moveShareMenu(O,a.getShareMenuConfig(this.getSemanticRuleSet()));}return this;};e.prototype._moveShareMenu=function(o,n){var O=this._getShareBaseButtonContainer(o.baseButtonPlacement).getSection("shareMenu"),f=O&&O.removeAllContent(),g=f.length&&f[0];this._placeShareMenu(g,n);};e.prototype._getActionSheet=function(){var o=this.getAggregation("_actionSheet");if(!o){this.setAggregation("_actionSheet",new A(),true);o=this.getAggregation("_actionSheet");}return o;};e.prototype._getSegmentedShareMenu=function(){if(!this._oSegmentedShareMenu){var s=new d(this._getActionSheet());var o=s.getBaseButton();if(s&&o){this._oSegmentedShareMenu=new c(s);this._oSegmentedShareMenu.addSection({sTag:"custom"});this._oSegmentedShareMenu.addSection({sTag:"semantic"});this._placeShareMenu(o,a.getShareMenuConfig(this.getSemanticRuleSet()));}}return this._oSegmentedShareMenu;};e.prototype._placeShareMenu=function(s,o){var f=o.baseButtonPlacement,v=o.actionSheetPlacement;var D=this._getShareBaseButtonContainer(f),g=D.getSection("shareMenu");if(!g){D.addSection({sTag:"shareMenu"});g=D.getSection("shareMenu");}if(s){g.addContent(s);}this._getActionSheet().setPlacement(v);};e.prototype._getShareBaseButtonContainer=function(v){return(v===sap.m.PlacementType.Bottom)?this._getSegmentedFooter():this._getSegmentedHeader();};return e;},false);
sap.ui.predefine('sap/m/semantic/SortAction',['sap/m/semantic/SemanticButton'],function(S){"use strict";var a=S.extend("sap.m.semantic.SortAction",{metadata:{library:"sap.m",interfaces:["sap.m.semantic.ISort"]}});return a;},true);
sap.ui.predefine('sap/m/semantic/SortSelect',['sap/m/semantic/SemanticSelect'],function(S){"use strict";var a=S.extend("sap.m.semantic.SortSelect",{metadata:{library:"sap.m",interfaces:["sap.m.semantic.ISort"]}});return a;},true);
sap.ui.predefine('sap/ui/core/AppCacheBuster',['jquery.sap.global','sap/ui/base/ManagedObject','./Core','sap/ui/thirdparty/URI'],function(q,M,C,U){"use strict";var c=sap.ui.getCore().getConfiguration();var l=c.getLanguage();var s=c.getAppCacheBusterMode()==="sync";var b=c.getAppCacheBusterMode()==="batch";var i={};var a=q.ajax;var I=q.sap.includeScript;var f=q.sap.includeStyleSheet;var v=M.prototype.validateProperty;var L=document.location.href.replace(/\?.*|#.*/g,"");var u=U(q.sap.getModulePath("","/../"));var o=u.toString();if(u.is("relative")){u=u.absoluteTo(L);}var B=u.normalize().toString();var r=U("resources").absoluteTo(B).toString();var F=new RegExp("^"+q.sap.escapeRegExp(r));var E=function(d){if(d.length>0&&d.slice(-1)!=="/"){d+="/";}return d;};var R=function(B,S){var d;var e;var g;if(Array.isArray(B)&&!b){B.forEach(function(x){R(x,S);});}else if(Array.isArray(B)&&b){var j=E(B[0]);var k=[];q.sap.log.debug("sap.ui.core.AppCacheBuster.register(\""+j+"\"); // BATCH MODE!");var m=A.normalizeURL(j);q.sap.log.debug("  --> normalized to: \""+m+"\"");B.forEach(function(x){e=E(x);var y=A.normalizeURL(e);if(!i[g]){k.push(y);}});if(k.length>0){var e=m+"sap-ui-cachebuster-info.json?sap-ui-language="+l;d={url:e,type:"POST",async:!s&&!!S,dataType:"json",contentType:"text/plain",data:k.join("\n"),success:function(x){A.onIndexLoaded(e,x);q.extend(i,x);},error:function(){q.sap.log.error("Failed to batch load AppCacheBuster index file from: \""+e+"\".");}};}}else{B=E(B);q.sap.log.debug("sap.ui.core.AppCacheBuster.register(\""+B+"\");");g=A.normalizeURL(B);q.sap.log.debug("  --> normalized to: \""+g+"\"");if(!i[g]){var e=g+"sap-ui-cachebuster-info.json?sap-ui-language="+l;d={url:e,async:!s&&!!S,dataType:"json",success:function(x){A.onIndexLoaded(e,x);i[g]=x;},error:function(){q.sap.log.error("Failed to load AppCacheBuster index file from: \""+e+"\".");}};}}if(d){var n=A.onIndexLoad(d.url);if(n!=null){q.sap.log.info("AppCacheBuster index file injected for: \""+e+"\".");d.success(n);}else{if(d.async){var p=S.startTask("load "+e);var t=d.success,w=d.error;q.extend(d,{success:function(x){t.apply(this,arguments);S.finishTask(p);},error:function(){w.apply(this,arguments);S.finishTask(p,false);}});}q.sap.log.info("Loading AppCacheBuster index file from: \""+e+"\".");q.ajax(d);}}};var A={boot:function(S){var d=c.getAppCacheBuster();if(d&&d.length>0){d=d.slice();var e=true;var V=String(d[0]).toLowerCase();if(d.length===1){if(V==="true"||V==="x"){var u=U(o);d=u.is("relative")?[u.toString()]:[];}else if(V==="false"){e=false;}}if(e){A.init();R(d,S);}}},init:function(){var d=A.convertURL;var n=A.normalizeURL;var g=function(e){if(e&&typeof(e)==="string"){e=n(e);return!e.match(F);}return false;};q.ajax=function(e,j){if(e&&e.url&&g(e.url)){e.url=d(e.url);}return a.apply(this,arguments);};q.sap.includeScript=function(e,j){var k=Array.prototype.slice.apply(arguments);if(g(k[0])){k[0]=d(k[0]);}return I.apply(this,k);};q.sap.includeStyleSheet=function(e,j){var k=Array.prototype.slice.apply(arguments);if(g(k[0])){k[0]=d(k[0]);}return f.apply(this,k);};M.prototype.validateProperty=function(p,V){var m=this.getMetadata(),P=m.getProperty(p),j;if(P&&P.type==="sap.ui.core.URI"){j=Array.prototype.slice.apply(arguments);try{if(g(j[1])){j[1]=d(j[1]);}}catch(e){}}return v.apply(this,j||arguments);};},exit:function(){q.ajax=a;q.sap.includeScript=I;q.sap.includeStyleSheet=f;M.prototype.validateProperty=v;i={};},register:function(B){R(B);},convertURL:function(d){q.sap.log.debug("sap.ui.core.AppCacheBuster.convertURL(\""+d+"\");");if(i&&d){var n=A.normalizeURL(d);q.sap.log.debug("  --> normalized to: \""+n+"\"");if(n&&A.handleURL(n)){q.each(i,function(B,m){var e;if(B&&n.length>=B.length&&n.slice(0,B.length)===B){e=n.slice(B.length);if(m[e]){d=B+"~"+m[e]+"~/"+e;q.sap.log.debug("  ==> return \""+d+"\";");return false;}}});}}return d;},normalizeURL:function(d){var u=U(d||"./");if(u.is("relative")){u=u.absoluteTo(L);}return u.normalizeProtocol().normalizeHostname().normalizePort().normalizePath().toString();},handleURL:function(d){return true;},onIndexLoad:function(d){return null;},onIndexLoaded:function(d,m){}};var h=c.getAppCacheBusterHooks();if(h){["handleURL","onIndexLoad","onIndexLoaded"].forEach(function(d){if(typeof h[d]==="function"){A[d]=h[d];}});}return A;},true);
sap.ui.predefine('sap/ui/core/BusyIndicator',['jquery.sap.global','../base/EventProvider','./Popup','./Core','./BusyIndicatorUtils'],function(q,E,P,C,B){"use strict";var a=q.extend(new E(),{oPopup:null,oDomRef:null,bOpenRequested:false,iDEFAULT_DELAY_MS:1000,sDOM_ID:"sapUiBusyIndicator"});a.M_EVENTS={Open:"Open",Close:"Close"};a._bShowIsDelayed=undefined;a._init=function(){var r=document.createElement("div");r.id=this.sDOM_ID;var b=document.createElement("div");this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.core");var t=this._oResBundle.getText("BUSY_TEXT");delete this._oResBundle;b.className="sapUiBusy";b.setAttribute("tabindex","0");b.setAttribute("role","progressbar");b.setAttribute("alt","");b.setAttribute("title",t);r.appendChild(b);var o=B.getElement("Big");o.setAttribute("title",t);r.appendChild(o);var i=sap.ui.getCore().getStaticAreaRef();i.appendChild(r);this.oDomRef=r;this.oPopup=new P(r);this.oPopup.setModal(true,"sapUiBlyBusy");this.oPopup.setShadow(false);this.oPopup.attachOpened(function(e){this._onOpen(e);},this);};a._onOpen=function(e){var d=q.sap.domById(a.sDOM_ID);d.style.height="100%";d.style.width="100%";var A=d.querySelector(".sapUiLocalBusyIndicator");A.className+=" sapUiLocalBusyIndicatorFade";q.sap.focus(d);q("body").attr("aria-busy",true);this.fireOpen({$Busy:this.oPopup._$()});};a.show=function(d){q.sap.log.debug("sap.ui.core.BusyIndicator.show (delay: "+d+") at "+new Date().getTime());if(!document.body||!sap.ui.getCore().isInitialized()){if(a._bShowIsDelayed===undefined){sap.ui.getCore().attachInit(function(){if(a._bShowIsDelayed){a.show(d);}});}a._bShowIsDelayed=true;return;}if((d===undefined)||((d!=0)&&(parseInt(d,10)==0))||(parseInt(d,10)<0)){d=this.iDEFAULT_DELAY_MS;}if(q.sap.fesr.getActive()){this._fDelayedStartTime=q.sap.now()+d;}if(!this.oDomRef){this._init();}this.bOpenRequested=true;if(d===0){this._showNowIfRequested();}else{q.sap.delayedCall(d,this,"_showNowIfRequested");}};a._showNowIfRequested=function(){q.sap.log.debug("sap.ui.core.BusyIndicator._showNowIfRequested (bOpenRequested: "+this.bOpenRequested+") at "+new Date().getTime());if(!this.bOpenRequested){return;}this.bOpenRequested=false;this.oPopup.open(0,P.Dock.LeftTop,P.Dock.LeftTop,document);};a.hide=function(){q.sap.log.debug("sap.ui.core.BusyIndicator.hide at "+new Date().getTime());if(this._fDelayedStartTime){var b=q.sap.now()-this._fDelayedStartTime;q.sap.fesr.addBusyDuration((b>0)?b:0);delete this._fDelayedStartTime;}var c=a;if(a._bShowIsDelayed===true){a._bShowIsDelayed=false;}c.bOpenRequested=false;if(c.oDomRef){q("body").removeAttr("aria-busy");var A=c.oDomRef.querySelector(".sapUiLocalBusyIndicator");q(A).removeClass("sapUiLocalBusyIndicatorFade");this.fireClose({$Busy:this.oPopup._$()});c.oPopup.close(0);}};a.attachOpen=function(f,l){this.attachEvent(a.M_EVENTS.Open,f,l);return this;};a.detachOpen=function(f,l){this.detachEvent(a.M_EVENTS.Open,f,l);return this;};a.attachClose=function(f,l){this.attachEvent(a.M_EVENTS.Close,f,l);return this;};a.detachClose=function(f,l){this.detachEvent(a.M_EVENTS.Close,f,l);return this;};a.fireOpen=function(p){this.fireEvent(a.M_EVENTS.Open,p);};a.fireClose=function(p){this.fireEvent(a.M_EVENTS.Close,p);};return a;},true);
sap.ui.predefine('sap/ui/core/CompositeSupport',['jquery.sap.global','./Control','sap/ui/model/control/ControlModel','sap/ui/base/EventProvider'],function(q,C,a,E){"use strict";var b={};b.mixInto=function(f,F,m){if(arguments.length==2&&typeof F==="object"){m=F;F="ComponentFactory";}function _(){var M=f.getMetadata();do{M=M.getParent();if(M&&M.getComponentFactoryClass){return M.getComponentFactoryClass();}}while(M);return c;}f[F]=(_()).subclass(m);f.getMetadata().getComponentFactoryClass=q.sap.getter(f[F]);if(!f.prototype._initCompositeSupport){f.prototype._initCompositeSupport=function(s){var o=new(this.getMetadata().getComponentFactoryClass())(this);if(s.componentFactory){o.customize(s.componentFactory);delete s.componentFactory;}this.getComponentFactory=q.sap.getter(o);};}if(!f.prototype._exitCompositeSupport){f.prototype._exitCompositeSupport=function(){this.getComponentFactory().destroy();delete this.getComponentFactory;};}};var c=E.extend("sap.ui.core.ComponentFactory",{constructor:function(o){E.apply(this);this.oComposite=o;return this;}});c.prototype.attachChange=function(f,o){this.getModel();this.attachEvent("change",f,o);return this;};c.prototype.detachChange=function(f,o){this.getModel();this.detachEvent("change",f,o);return this;};c.prototype.getModel=function(){if(!this.oModel){var t=this;this.oModel=new a(this.oComposite);this.oModel._onchange=function(e){t.fireEvent("change",e.getParameters&&e.getParameters());};}return this.oModel;};c.prototype.addFacadeComponent=function(e){this.getModel().add(e);};c.prototype.removeFacadeComponent=function(e){this.getModel().remove(e);};(function(){function _(o,m,D){q.each(m,function(n,f){if(n.indexOf("default")!=0){o[n]=f;}if(D&&n.indexOf("create")==0){o["defaultC"+n.substring(1)]=o[n];}});}function d(B){return function(m){var f=function(){B.apply(this,arguments);};f.prototype=Object.create(B.prototype);_(f.prototype,m,true);f.customize=function(m){_(f.prototype,m);return this;};f.subclass=d(f);return f;};}c.subclass=d(c);c.prototype.customize=function(m){_(this,m);if(this.oComposite&&this.oComposite._onComponentFactoryChanged){this.oComposite._onComponentFactoryChanged();}return this;};}());return b;},true);
sap.ui.predefine('sap/ui/core/CustomData.designtime',[],function(){"use strict";return{aggregations:{customData:{ignored:true}}};},false);
sap.ui.predefine('sap/ui/core/CustomizingConfiguration',['jquery.sap.global','./Core','./Component'],function(q,C,a){"use strict";var b="sap.ui.viewReplacements",c="sap.ui.viewExtensions",d="sap.ui.viewModifications",e="sap.ui.controllerExtensions",f="sap.ui.controllerReplacements";var m={};function g(t,o,i){var s=o&&typeof o==="string"?o:(o&&a.getOwnerIdFor(o));if(s){var j=sap.ui.component(s);var k=j&&j.getMetadata().getComponentName();var l=m[k+"::"+s];if(l&&l[t]&&i(l[t])){return false;}else{l=m[k];if(l&&l[t]&&i(l[t])){return false;}}}else{q.each(m,function(k,l){if(l&&l[t]&&i(l[t])){return false;}});}}var h={log:function(){if(window.console){window.console.log(m);}},activateForComponent:function(s){q.sap.log.info("CustomizingConfiguration: activateForComponent('"+s+"')");var F=s+".Component";q.sap.require(F);var o=q.sap.getObject(F).getMetadata().getCustomizing();m[s]=o;q.sap.log.debug("CustomizingConfiguration: customizing configuration for component '"+s+"' loaded: "+JSON.stringify(o));},deactivateForComponent:function(s){if(m[s]){q.sap.log.info("CustomizingConfiguration: deactivateForComponent('"+s+"')");delete m[s];}},activateForComponentInstance:function(o){q.sap.log.info("CustomizingConfiguration: activateForComponentInstance('"+o.getId()+"')");var s=o.getMetadata().getComponentName(),k=s+"::"+o.getId(),i=o.getManifest()["sap.ui5"]&&o.getManifest()["sap.ui5"]["extends"]&&o.getManifest()["sap.ui5"]["extends"]["extensions"];m[k]=i;q.sap.log.debug("CustomizingConfiguration: customizing configuration for component '"+k+"' loaded: "+JSON.stringify(i));},deactivateForComponentInstance:function(o){var s=o.getMetadata().getComponentName(),k=s+"::"+o.getId();if(m[k]){q.sap.log.info("CustomizingConfiguration: deactivateForComponent('"+k+"')");delete m[k];}},getViewReplacement:function(v,o){var r;g(b,o,function(i){r=i[v];return!!r;});return r;},getViewExtension:function(v,E,o){var r;g(c,o,function(i){r=i[v]&&i[v][E];return!!r;});return r;},getControllerExtension:function(s,o){var r;g(e,o,function(i){r=i[s];return!!r;});return r;},getControllerReplacement:function(s,o){var r;g(f,o,function(i){r=i[s];return!!r;});return r;},getCustomProperties:function(v,s,o){var S;g(d,o,function(i){var j=i[v]&&i[v][s];var u={};var V=false;if(j){q.each(j,function(n,k){if(n==="visible"){V=true;u[n]=k;q.sap.log.info("Customizing: custom value for property '"+n+"' of control '"+s+"' in View '"+v+"' applied: "+k);}else{q.sap.log.warning("Customizing: custom value for property '"+n+"' of control '"+s+"' in View '"+v+"' ignored: only the 'visible' property can be customized.");}});if(V){S=S||{};q.extend(S,u);}}});return S;},hasCustomProperties:function(v,o){var s={};g(d,o,function(i){if(!!i[v]){s=i[v];}});return(!q.isEmptyObject(s));}};if(sap.ui.getCore().getConfiguration().getDisableCustomizing()){q.sap.log.info("CustomizingConfiguration: disabling Customizing now");q.each(h,function(n,A){if(typeof A==="function"){h[n]=function(){};}});}return h;},true);
sap.ui.predefine('sap/ui/core/DeclarativeSupport',['jquery.sap.global','sap/ui/base/DataType','sap/ui/base/ManagedObject','./Control','./CustomData','./HTML','./mvc/View'],function(q,D,M,C,a,H,V){"use strict";var b={};b.attributes={"data-sap-ui-type":true,"data-sap-ui-id":true,"data-sap-ui-aggregation":true,"data-sap-ui-default-aggregation":true,"data-sap-ui-binding":function(v,s){var B=M.bindingParser(v);s.objectBindings=s.objectBindings||{};s.objectBindings[B.model||undefined]=B;},"data-tooltip":function(v,s){s["tooltip"]=v;},"tooltip":function(v,s,c){s["tooltip"]=v;q.sap.log.warning('[Deprecated] Control "'+s.id+'": The attribute "tooltip" is not prefixed with "data-*". Future version of declarative support will only suppport attributes with "data-*" prefix.');},"class":true,"style":true,"id":true};b.compile=function(e,v,i){var t=this;q(e).find("[data-sap-ui-type]").filter(function(){return q(this).parents("[data-sap-ui-type]").length===0;}).each(function(){t._compile(this,v,i);});};b._compile=function(e,v,i){var $=q(e);var t=$.attr("data-sap-ui-type");var c=[];var I=t==="sap.ui.core.UIArea";if(I){var d=this;$.children().each(function(){var o=d._createControl(this,v);if(o){c.push(o);}});}else{var o=this._createControl(e,v);if(o){c.push(o);}}$.empty();var A=[];q.each(e.attributes,function(f,g){var n=g.name;if(!I||I&&/^data-/g.test(n.toLowerCase())){A.push(n);}});if(A.length>0){$.removeAttr(A.join(" "));}c.forEach(function(o){if(o instanceof C){if(v&&!i){v.addContent(o);}else{o.placeAt(e);if(v){v.connectControl(o);}}}});};b._createControl=function(e,v){var $=q(e);var c=null;var t=$.attr("data-sap-ui-type");if(t){q.sap.require(t);var f=q.sap.getObject(t);var s={};s.id=this._getId($,v);this._addSettingsForAttributes(s,f,e,v);this._addSettingsForAggregations(s,f,e,v);var c;if(V.prototype.isPrototypeOf(f.prototype)&&typeof f._sType==="string"){c=sap.ui.view(s,undefined,f._sType);}else{c=new f(s);}if(e.className){c.addStyleClass(e.className);}$.removeAttr("data-sap-ui-type");}else{c=this._createHtmlControl(e,v);}return c;};b._createHtmlControl=function(e,v){var h=new H();h.setDOMContent(e);this.compile(e,v,true);return h;};b._addSettingsForAttributes=function(s,c,e,v){var t=this;var S=b.attributes;var B=M.bindingParser;var d=[];var r=/^data-custom-data:(.+)/i;q.each(e.attributes,function(i,A){var n=A.name;var f=A.value;if(!r.test(n)){if(typeof S[n]==="undefined"){n=t.convertAttributeToSettingName(n,s.id);var p=t._getProperty(c,n);if(p){var o=B(f,v&&v.getController(),true);if(o&&typeof o==="object"){s[n]=o;}else{s[n]=t.convertValueToType(t.getPropertyDataType(p),o||f);}}else if(t._getAssociation(c,n)){var g=t._getAssociation(c,n);if(g.multiple){f=f.replace(/\s*,\s*|\s+/g,",");s[n]=f.split(",").map(function(I){return v?v.createId(I):I;});}else{s[n]=v?v.createId(f):f;}}else if(t._getAggregation(c,n)){var h=t._getAggregation(c,n);if(h.multiple){var o=B(f,v&&v.getController());if(o){s[n]=o;}else{throw new Error("Aggregation "+n+" with cardinality 0..n only allows binding paths as attribute value");}}else if(h.altTypes){var o=B(f,v&&v.getController(),true);if(o&&typeof o==="object"){s[n]=o;}else{s[n]=t.convertValueToType(h.altTypes[0],o||f);}}else{throw new Error("Aggregation "+n+" not supported");}}else if(t._getEvent(c,n)){var j=v&&(v._oContainingView||v).getController();var k=V._resolveEventHandler(f,j);if(k){s[n]=k;}else{throw new Error('Control "'+s.id+'": The function "'+f+'" for the event "'+n+'" is not defined');}}else{}}else if(typeof S[n]==="function"){S[n](f,s,c);}}else{n=q.sap.camelCase(r.exec(n)[1]);var o=B(f,v&&v.getController());d.push(new a({key:n,value:o||f}));}});if(d.length>0){s.customData=d;}return s;};b._addSettingsForAggregations=function(s,c,e,v){var $=q(e);var d=this._getDefaultAggregation(c,e);var t=this;var A=c.getMetadata().getAllAggregations();$.children().each(function(){var f=q(this);var g=f.attr("data-sap-ui-aggregation");var T=f.attr("data-sap-ui-type");var u=false;if(!g){u=true;g=d;}if(g&&A[g]){var m=A[g].multiple;var h=function(o){var i=t._createControl(o,v);if(i){if(m){if(!s[g]){s[g]=[];}if(typeof s[g].path==="string"){s[g].template=i;}else{s[g].push(i);}}else{s[g]=i;}}};if(u||(T&&!u)){h(this);}else{f.children().each(function(){h(this);});}}f.removeAttr("data-sap-ui-aggregation");f.removeAttr("data-sap-ui-type");});return s;};b._getId=function(e,v){var $=q(e);var i=$.attr("id");if(i){if(v){i=v.createId(i);$.attr("data-sap-ui-id",i);}$.attr("id","");}return i;};b._getProperty=function(c,n){return c.getMetadata().getProperty(n);};b.convertValueToType=function(t,v){if(t instanceof D){v=t.parseValue(v);}return typeof v==="string"?M.bindingParser.escape(v):v;};b.getPropertyDataType=function(p){var t=D.getType(p.type);if(!t){throw new Error("Property "+p.name+" has no known type");}return t;};b.convertAttributeToSettingName=function(A,i,d){if(A.indexOf("data-")===0){A=A.substr(5);}else if(d){q.sap.log.warning('[Deprecated] Control "'+i+'": The attribute "'+A+'" is not prefixed with "data-*". Future version of declarative support will only suppport attributes with "data-*" prefix.');}else{throw new Error('Control "'+i+'": The attribute "'+A+'" is not prefixed with "data-*".');}return q.sap.camelCase(A);};b._getAssociation=function(c,n){return c.getMetadata().getAssociation(n);};b._getAggregation=function(c,n){return c.getMetadata().getAggregation(n);};b._getEvent=function(c,n){return c.getMetadata().getEvent(n);};b._getDefaultAggregation=function(c,e){var $=q(e);var d=$.attr("data-sap-ui-default-aggregation")||c.getMetadata().getDefaultAggregationName();$.removeAttr("data-sap-ui-default-aggregation");return d;};return b;},true);
sap.ui.predefine('sap/ui/core/Fragment',['jquery.sap.global','../base/ManagedObject','./Element','./DeclarativeSupport','./XMLTemplateProcessor'],function(q,M,E,D,X){"use strict";var r={},t={};var F=M.extend("sap.ui.core.Fragment",{metadata:{properties:{type:"string"},specialSettings:{fragmentName:'string',fragmentContent:'any',containingView:{type:'sap.ui.core.mvc.View',visibility:'hidden'},oController:{type:'sap.ui.core.mvc.Controller',visibility:'hidden'},sId:{type:'sap.ui.core.ID',visibility:'hidden'}}},constructor:function(i,s){M.apply(this,arguments);if(this._aContent&&this._aContent.length==1){return this._aContent[0];}else{return this._aContent;}}});F.registerType=function(T,f){if(!typeof(T)==="string"){q.sap.log.error("Ignoring non-string Fragment type: "+T);return;}if(t[T]){q.sap.log.warning("sap.ui.core.Fragment.registerType(): Fragment type '"+T+"' is already defined. Overriding this type now!");}t[T]=f;};F.prototype._initCompositeSupport=function(s){if(!s){throw new Error("Settings must be set");}if(!(s.fragmentName||s.fragmentContent)){throw new Error("Please provide a fragment name");}if(s.oController){this.oController=s.oController;}this._sExplicitId=s.sId||s.id;this._sFragmentName=s.fragmentName;var f=t[s.type];if(f){f.init.apply(this,[s]);}else{throw new Error("No type for the fragment has been specified: "+s.type);}};F.prototype.getFragmentName=function(){return this._sFragmentName;};F.prototype.getController=function(){return this.oController;};F.byId=function(f,i){if(!(typeof(f)==="string"&&typeof(i)==="string")){q.sap.log.error("sap.ui.core.Fragment.byId: two strings must be given as parameters, but are: "+f+" and "+i);return undefined;}return sap.ui.getCore().byId(f+"--"+i);};F.createId=function(f,i){if(!(typeof(f)==="string"&&typeof(i)==="string")){q.sap.log.error("sap.ui.core.Fragment.createId: two strings must be given as parameters, but are: "+f+" and "+i);return undefined;}return f+"--"+i;};F.prototype.createId=function(i){var a=this._sExplicitId?this._sExplicitId+"--"+i:i;if(this._oContainingView&&this._oContainingView!=this){a=this._oContainingView.createId(a);}return a;};F.prototype.isSubView=function(){return true;};sap.ui.fragment=function(n,T,c){var s={};if(typeof(n)==="string"){s.fragmentName=n;s.oController=c;s.type=T;}else if(typeof(n)==="object"){s=n;if(T){s.oController=T;}}else{q.sap.log.error("sap.ui.fragment() must be called with Fragment name or config object as first parameter, but is: "+n);}return new F(s);};sap.ui.xmlfragment=function(i,f,c){if(typeof(i)==="string"){if(typeof(f)==="string"){return sap.ui.fragment({fragmentName:f,sId:i,type:"XML"},c);}else{return sap.ui.fragment(i,"XML",f);}}else{i.type="XML";return sap.ui.fragment(i,f);}};sap.ui.jsfragment=function(n,f){if(typeof(n)==="string"&&typeof(f)==="object"){if(f.createContent){r[n]=f;q.sap.declare({modName:n,type:"fragment"},false);}else{return sap.ui.fragment(n,"JS",f);}}else if(typeof(n)==="string"&&f===undefined){return sap.ui.fragment(n,"JS");}else{if(typeof(n)==="object"){n.type="JS";return sap.ui.fragment(n,f);}else if(arguments&&arguments.length>=3){return sap.ui.fragment({id:n,fragmentName:f,type:"JS"},arguments[2]);}else{q.sap.log.error("sap.ui.jsfragment() was called with wrong parameter set: "+n+" + "+f);}}};sap.ui.htmlfragment=function(i,f,c){if(typeof(i)==="string"){if(typeof(f)==="string"){return sap.ui.fragment({fragmentName:f,sId:i,type:"HTML"},c);}else{return sap.ui.fragment(i,"HTML",f);}}else{i.type="HTML";return sap.ui.fragment(i,f);}};F.registerType("XML",{init:function(s){if(s.fragmentContent){if(typeof(s.fragmentContent)==="string"){this._xContent=q.parseXML(s.fragmentContent).documentElement;}else{this._xContent=s.fragmentContent;}}else{this._xContent=X.loadTemplate(s.fragmentName,"fragment");}this._oContainingView=this._sExplicitId?this:(s.containingView||this);if((this._oContainingView===this)){this._oContainingView.oController=(s.containingView&&s.containingView.oController)||s.oController;}var a=this;M.runWithPreprocessors(function(){a._aContent=X.parseTemplate(a._xContent,a);if(a._aContent&&a._aContent.length&&s.objectBindings){a._aContent.forEach(function(c,i){if(c instanceof E){for(var m in s.objectBindings){c.bindObject(s.objectBindings[m]);}}});}});}});F.registerType("JS",{init:function(s){if(!r[s.fragmentName]){q.sap.require({modName:s.fragmentName,type:"fragment"});}q.extend(this,r[s.fragmentName]);this._oContainingView=s.containingView||this;var a=this;M.runWithPreprocessors(function(){var c=a.createContent(s.oController||a._oContainingView.oController);a._aContent=[];a._aContent=a._aContent.concat(c);});}});(function(){var _={};var a=function(T){var u=q.sap.getModulePath(T,".fragment.html");var h=_[u];var R;if(!h){R=q.sap.getResourceName(T,".fragment.html");h=q.sap.loadResource(R);_[u]=h;}return h;};F.registerType("HTML",{init:function(s){this._aContent=[];this.getContent=function(){return this._aContent;};this.addContent=function(c){this._aContent.push(c);};this._oContainingView=s.containingView||this;var h=s.fragmentContent||a(s.fragmentName);this._oTemplate=document.createElement("div");if(typeof h==="string"){this._oTemplate.innerHTML=h;}else{var n=h;var f=document.createDocumentFragment();for(var i=0;i<n.length;i++){f.appendChild(n.item(i));}this._oTemplate.appendChild(f);}var m=this._oTemplate.getElementsByTagName("template")[0];var p=this.getMetadata().getAllProperties();if(m){var b=this;q.each(m.attributes,function(I,A){var N=D.convertAttributeToSettingName(A.name,b.getId());var v=A.value;var P=p[N];if(!s[N]){if(P){s[N]=D.convertValueToType(D.getPropertyDataType(P),v);}else if(sap.ui.core.mvc.HTMLView._mAllowedSettings[N]){s[N]=v;}}});this._oTemplate=m;}if(this._oTemplate.content){var f=this._oTemplate.content;this._oTemplate=document.createElement("div");this._oTemplate.appendChild(f);}var b=this;M.runWithPreprocessors(function(){D.compile(b._oTemplate,b);var c=b.getContent();if(c&&c.length===1){b._aContent=[c[0]];}});}});}());return F;});
sap.ui.predefine('sap/ui/core/History',['jquery.sap.global','sap/ui/base/Object'],function(q,B){"use strict";var H=B.extend("sap.ui.core.History",{constructor:function(i,s){B.apply(this);if(!s){s={};}var h=s.prefix?s.prefix:document.location.pathname;this._iMaxHistory=s.max?s.max:100;this._sHistoryId=h+i;q.sap.require("jquery.sap.storage");this._oStorage=q.sap.storage(q.sap.storage.Type.local);this._fFilter=s.filter?s.filter:function(a,v){return a&&(!v||(v&&q.sap.startsWithIgnoreCase(a,v)));};this._fCheckHistory=s.checkHistory?s.checkHistory:function(a){return a;};},_initHistory:function(){if(!this._aHistory){var h=this._oStorage.get(this._sHistoryId);if(typeof(h)==="string"){h=h.split(",");}else if(!h){h=[];}this._aHistory=this._fCheckHistory(h);}return this._aHistory;},get:function(v){var h=this._initHistory();var r=[];for(var i=0;i<h.length;i++){if(this._fFilter(h[i],v)){r.push(h[i]);}}return r;},remove:function(v){var h=this._initHistory();for(var i=0;i<h.length;i++){if(h[i]==v){h.splice(i,1);break;}}},add:function(v){var h=this._initHistory();for(var i=0;i<h.length;i++){if(h[i]===v){h.splice(i,1);break;}}h.unshift(v);if(h.length>this._iMaxHistory){h.splice(this._iMaxHistory);}this._oStorage.put(this._sHistoryId,h);},clear:function(){this._oStorage.remove(this._sHistoryId);this._aHistory=null;}});return H;});
sap.ui.predefine('sap/ui/core/Item',['./Element','./library'],function(E,l){"use strict";var T=l.TextDirection;var I=E.extend("sap.ui.core.Item",{metadata:{library:"sap.ui.core",properties:{text:{type:"string",group:"Misc",defaultValue:""},enabled:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Misc",defaultValue:T.Inherit},key:{type:"string",group:"Data",defaultValue:null}}}});return I;});
sap.ui.predefine('sap/ui/core/ListItem',['./Item','./library'],function(I,l){"use strict";var L=I.extend("sap.ui.core.ListItem",{metadata:{library:"sap.ui.core",properties:{icon:{type:"string",group:"Appearance",defaultValue:null},additionalText:{type:"string",group:"Data",defaultValue:null}}}});return L;});
sap.ui.predefine('sap/ui/core/LocalBusyIndicator',['jquery.sap.global','./Control','./library','./theming/Parameters'],function(q,C,l,P){"use strict";var L=C.extend("sap.ui.core.LocalBusyIndicator",{metadata:{deprecated:true,library:"sap.ui.core",properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'100px'},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'100px'}}}});(function(){L.prototype.init=function(){var r="sap.ui.core.LocalBusyIndicator:";var p="sapUiLocalBusyIndicatorBoxSize";p=P.get(r+p);this._iBoxSize=8;p="sapUiLocalBusyIndicatorBoxColor";this._sBoxColor=P.get(r+p);p="sapUiLocalBusyIndicatorBoxColorActive";this._sBoxColorActive=P.get(r+p);this._animateProxy=q.proxy(a,this);};L.prototype.exit=function(){q.sap.clearDelayedCall(this._delayedCallId);delete this._delayedCallId;};L.prototype.onThemeChanged=function(e){if(this.getDomRef()){this.invalidate();}};L.prototype.onAfterRendering=function(){var w=parseInt(this.getWidth(),10);var h=parseInt(this.getHeight(),10);var $=this.$();$.css("width",w+"px");$.css("height",h+"px");var b=this.$("animation");var c=Math.floor(w/2);c-=Math.floor((5*this._iBoxSize)/2);var t=Math.floor(h/2)-Math.floor(this._iBoxSize/2);b.css("left",c+"px");b.css("top",t+"px");if(!this._$left){this._$left=this.$("leftBox");}if(!this._$middle){this._$middle=this.$("middleBox");}if(!this._$right){this._$right=this.$("rightBox");}this._delayedCallId=q.sap.delayedCall(0,this,this._animateProxy);};var a=function(){if(this.getDomRef()){var t=this;var $,b,c;var d="",e="";if(t._$left){$=t._$left;}else{return;}if(t._$middle){b=t._$middle;}else{return;}if(t._$right){c=t._$right;}else{return;}if(t._sBoxColor){d=t._sBoxColor;}else{return;}if(t._sBoxColorActive){e=t._sBoxColorActive;}else{return;}$.css("background-color",e);setTimeout(function(){$.css("background-color",d);b.css("background-color",e);setTimeout(function(){b.css("background-color",d);c.css("background-color",e);setTimeout(function(){c.css("background-color",d);},150);},150);},150);this._delayedCallId=q.sap.delayedCall(1200,this,this._animateProxy);}};}());return L;});
sap.ui.predefine('sap/ui/core/LocalBusyIndicatorRenderer',function(){"use strict";var L={};L.render=function(R,c){R.write("<div");R.writeControlData(c);R.addClass("sapUiLocalBusyIndicator");R.writeClasses();R.write(">");r(R,c);R.write("</div>");};var r=function(R,c){var I=c.getId();var s=I+"-animation";var b=["-leftBox","-middleBox","-rightBox"];R.write('<div');R.writeAttribute('id',s);R.addClass("sapUiLocalBusyIndicatorAnimation");R.writeClasses();R.write(">");for(var i=0;i<b.length;i++){R.write('<div');R.addClass("sapUiLocalBusyIndicatorBox");R.writeClasses();R.writeAttribute("id",I+b[i]);R.write(">");R.write("</div>");}R.write("</div>");};return L;},true);
sap.ui.predefine('sap/ui/core/LocalBusyIndicatorSupport',['jquery.sap.global','./Control'],function(q,C){"use strict";var L=function(){if(this===C.prototype){this.setDelay=this.setBusyIndicatorDelay;}else{q.sap.log.error("Only controls can use the LocalBusyIndicator",this);}};return L;},true);
sap.ui.predefine('sap/ui/core/Message',['jquery.sap.global','./Element','./library'],function(q,E,l){"use strict";var M=l.MessageType;var a=E.extend("sap.ui.core.Message",{metadata:{library:"sap.ui.core",properties:{text:{type:"string",group:"Misc",defaultValue:null},timestamp:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},level:{type:"sap.ui.core.MessageType",group:"Misc",defaultValue:M.None},readOnly:{type:"boolean",group:"Misc",defaultValue:false}}}});a.prototype.getDefaultIcon=function(s){var m=q.sap.getModulePath("sap.ui.core.themes."+sap.ui.getCore().getConfiguration().getTheme());var i=m+"/img/message/";if(s&&s=="32x32"){i+="32x32/";}else{i+="16x16/";}var u="";switch(this.getProperty("level")){case M.Error:u=i+"Message_Icon_Error.png";break;case M.Information:u=i+"Message_Icon_Information.png";break;case M.Warning:u=i+"Message_Icon_Warning.png";break;case M.Success:u=i+"Message_Icon_Success.png";break;case M.None:default:u=this.getProperty("icon");break;}return u;};a.prototype.compareByType=function(o){return a.compareByType(this,o);};a.compareByType=function(m,o){if(!m&&!o){return 0;}if(m&&!o){return 1;}if(!m&&o){return-1;}var L=m.getLevel();var s=o.getLevel();if(L===s){return 0;}switch(L){case M.Error:return 1;case M.Warning:return s===M.Error?-1:1;case M.Success:return s===M.Error||s===M.Warning?-1:1;case M.Information:return s===M.None?1:-1;case M.None:return-1;default:q.sap.log.error("Comparison error",this);return 0;}};return a;});
sap.ui.predefine('sap/ui/core/Popup',['jquery.sap.global','sap/ui/Device','sap/ui/base/ManagedObject','sap/ui/base/Object','sap/ui/base/ObjectPool','./Control','./IntervalTrigger','./RenderManager','./Element','./ResizeHandler','jquery.sap.script'],function(q,D,M,B,O,C,I,R,E,a){"use strict";var P=M.extend("sap.ui.core.Popup",{constructor:function(c,m,s,A){M.apply(this);this._popupUID=q.sap.uid();this.bOpen=false;this.eOpenState=sap.ui.core.OpenState.CLOSED;this._mFocusEvents={};this._mFocusEvents["sap.ui.core.Popup.addFocusableContent-"+this._popupUID]=this._addFocusableArea;this._mFocusEvents["sap.ui.core.Popup.removeFocusableContent-"+this._popupUID]=this._removeFocusableArea;this._mFocusEvents["sap.ui.core.Popup.closePopup-"+this._popupUID]=this._closePopup;this._mFocusEvents["sap.ui.core.Popup.onFocusEvent-"+this._popupUID]=this.onFocusEvent;this._mFocusEvents["sap.ui.core.Popup.increaseZIndex-"+this._popupUID]=this._increaseMyZIndex;if(c){this.setContent(c);}this._oDefaultPosition={my:P.Dock.CenterCenter,at:P.Dock.CenterCenter,of:document,offset:"0 0",collision:"flip"};this._oPosition=q.extend({},this._oDefaultPosition);this._bModal=!!m;this._oPreviousFocus=null;this._sInitialFocusId=null;this._bShadow=typeof(s)==="boolean"?s:true;this._bAutoClose=!!A;this._animations={open:null,close:null};this._durations={open:"fast",close:"fast"};this._iZIndex=-1;this._oBlindLayer=null;this.setNavigationMode();if(this.touchEnabled){this._fAutoCloseHandler=function(e){if(e.isMarked("delayedMouseEvent")||e.isMarked("cancelAutoClose")){return;}if(this.eOpenState===sap.ui.core.OpenState.CLOSING||this.eOpenState===sap.ui.core.OpenState.CLOSED){return;}var d=e.target,p=this._$().get(0),b=q.sap.containsOrEquals(p,d);if(!b){var f=this.getChildPopups();for(var i=0,l=f.length;i<l;i++){var o=q.sap.domById(f[i]);if(q.sap.containsOrEquals(o,d)){b=true;break;}}}if(!b){this.close();}};}this._F6NavigationHandler=function(e){var S={},b=this._sF6NavMode,d;if(b=="DOCK"){if(this._bModal){b="NONE";}else if(this._oLastPosition&&this._oLastPosition.of){d=this._getOfDom(this._oLastPosition.of);if(!d||d===document){d=null;b="NONE";}}}switch(b){case"SCOPE":S.scope=this._$()[0];break;case"DOCK":S.target=d;var $=q(d).parents("[data-sap-ui-popup]");S.scope=$.length?$[0]:null;break;default:S.skip=true;}q.sap.handleF6GroupNavigation(e,S);};},metadata:{library:"sap.ui.core",publicMethods:["open","close","setContent","getContent","setPosition","setShadow","setModal","getModal","setAutoClose","setAutoCloseAreas","isOpen","getAutoClose","getOpenState","setAnimations","setDurations","attachOpened","attachClosed","detachOpened","detachClosed"],associations:{"childPopups":{type:"sap.ui.core.Popup",multiple:true,visibility:"hidden"}},events:{"opened":{},"closed":{}}}});P._activateBlindLayer=true;P.blStack=[];P.Dock={BeginTop:"begin top",BeginCenter:"begin center",BeginBottom:"begin bottom",LeftTop:"left top",LeftCenter:"left center",LeftBottom:"left bottom",CenterTop:"center top",CenterCenter:"center center",CenterBottom:"center bottom",RightTop:"right top",RightCenter:"right center",RightBottom:"right bottom",EndTop:"end top",EndCenter:"end center",EndBottom:"end bottom"};P.prototype.touchEnabled=D.support.touch||q.sap.simulateMobileOnDesktop;P.prototype.preventBrowserFocus=(D.support.touch||q.sap.simulateMobileOnDesktop)&&!D.system.combi;B.extend("sap.ui.core.Popup.Layer",{constructor:function(){var d=this.getDomString();this._$Ref=q(d).appendTo(sap.ui.getCore().getStaticAreaRef());}});P.Layer.prototype.init=function(o,z){this._$Ref.css({"visibility":"visible","z-index":z});this.update(o,z);this._$Ref.insertAfter(o).show();};P.Layer.prototype.update=function(o,z){if(o.length){var b=o.rect();this._$Ref.css({"left":b.left,"top":b.top});if(o.css("right")!="auto"&&o.css("right")!="inherit"){this._$Ref.css({"right":o.css("right"),"width":"auto"});}else{this._$Ref.css({"width":b.width,"right":"auto"});}if(o.css("bottom")!="auto"&&o.css("bottom")!="inherit"){this._$Ref.css({"bottom":o.css("bottom"),"height":"auto"});}else{this._$Ref.css({"height":b.height,"bottom":"auto"});}if(typeof(z)==="number"){this._$Ref.css("z-index",z);}}};P.Layer.prototype.reset=function(){if(this._$Ref.length){this._$Ref[0].style.display="none";this._$Ref[0].style.visibility="hidden";this._$Ref.appendTo(sap.ui.getCore().getStaticAreaRef());}};P.Layer.prototype.getDomString=function(){q.sap.log.error("sap.ui.core.Popup.Layer: getDomString function must be overwritten!");return"";};P.Layer.extend("sap.ui.core.Popup.BlindLayer",{constructor:function(){P.Layer.apply(this);}});P.BlindLayer.prototype.getDomString=function(){return"<div class=\"sapUiBliLy\" id=\"sap-ui-blindlayer-"+q.sap.uid()+"\"><iframe scrolling=\"no\" tabIndex=\"-1\"></iframe></div>";};P.prototype.oBlindLayerPool=new O(P.BlindLayer);P.Layer.extend("sap.ui.core.Popup.ShieldLayer",{constructor:function(){P.Layer.apply(this);}});P.ShieldLayer.prototype.getDomString=function(){return"<div class=\"sapUiPopupShield\" id=\"sap-ui-shieldlayer-"+q.sap.uid()+"\"></div>";};P.prototype.oShieldLayerPool=new O(P.ShieldLayer);(function(){var l=0;var m=Math.pow(2,32)-1;P.setInitialZIndex=function(i){if(i>=m){throw new Error("Z-index can't be higher than Number.MAX_SAFE_INTEGER");}l=Math.max(i,this.getLastZIndex());};P.getLastZIndex=function(){return l;};P.prototype.getLastZIndex=function(){return P.getLastZIndex();};P.getNextZIndex=function(){l+=10;if(l>=m){throw new Error("Z-index can't be higher than Number.MAX_SAFE_INTEGER");}return l;};P.prototype.getNextZIndex=function(){return P.getNextZIndex();};}());var r=function(o,b){var p=3;var l=Math.abs(o.left-b.left);var t=Math.abs(o.top-b.top);var w=Math.abs(o.width-b.width);var h=Math.abs(o.height-b.height);if(l>p||t>p||w>p||h>p){return false;}return true;};P.prototype.open=function(d,m,b,o,c,f,g){if(this.eOpenState!=sap.ui.core.OpenState.CLOSED){return;}this.eOpenState=sap.ui.core.OpenState.OPENING;var s;try{s=sap.ui.getCore().getStaticAreaRef();s=sap.ui.getCore().getUIArea(s);}catch(e){q.sap.log.error(e);throw new Error("Popup cannot be opened because static UIArea cannot be determined.");}this._bContentAddedToStatic=false;if(this.oContent instanceof C&&!this.oContent.getParent()){s.addContent(this.oContent,true);this._bContentAddedToStatic=true;}if(this.oContent.getUIArea){var A=this.oContent.getUIArea();if(A===null){q.sap.log.warning("The Popup content is NOT connected with an UIArea and may not work properly!");}else if(P._bEnableUIAreaCheck&&A.getRootNode().id!==s.getRootNode().id){q.sap.log.warning("The Popup content is NOT connected with the static-UIArea and may not work properly!");}}if(typeof(d)=="string"){g=f;f=c;c=o;o=b;b=m;m=d;d=-1;}if(d===undefined){d=-1;}this._oPreviousFocus=P.getCurrentFocusInfo();if(this.isInPopup(o)||this.isInPopup(this._oPosition.of)){var p=this.getParentPopupId(o)||this.getParentPopupId(this._oPosition.of);var h="";var i=this.getContent();if(i instanceof E){h=i.getId();}else if(typeof i==="object"){h=i.id;}this.addChildToPopup(p,h);this.addChildToPopup(p,this._popupUID);}var $=this._$(true);var j="fast";if((d===0)||(d>0)){j=d;}else if((this._durations.open===0)||(this._durations.open>0)){j=this._durations.open;}var _;if(m||b||o||c||f){_=this._createPosition(m,b,o,c,f);this._oPosition=_;}else{_=this._oPosition;}if(!_.of){_.of=this._oPosition.of||document;}this._iZIndex=this._iZIndex===this.getLastZIndex()?this._iZIndex:this.getNextZIndex();var S=sap.ui.getCore().getStaticAreaRef();$.css({"position":"absolute","visibility":"hidden"});if(!($[0].parentNode==S)){$.appendTo(S);}$.css("z-index",this._iZIndex);q.sap.log.debug("position popup content "+$.attr("id")+" at "+(window.JSON?JSON.stringify(_.at):String(_.at)));this._applyPosition(_);if(g!==undefined){this.setFollowOf(g);}$.toggleClass("sapUiShd",this._bShadow);var k=$[0];if(k){k.style.display="none";k.style.visibility="visible";}this._duringOpen();if(j==0){this._opened();}else if(this._animations.open){this._animations.open.call(null,$,j,this._opened.bind(this));}else{$.fadeIn(j,this._opened.bind(this));}};P.prototype._opened=function(){if(this.eOpenState!==sap.ui.core.OpenState.OPENING){return;}this.bOpen=true;var $=this._$(false,true);if($[0]&&$[0].style){$[0].style.display="block";}if(this._bModal||this._bAutoClose||this._sInitialFocusId){var d=null;if(this._sInitialFocusId){var c=sap.ui.getCore().byId(this._sInitialFocusId);if(c){d=c.getFocusDomRef();}d=d||q.sap.domById(this._sInitialFocusId);}q.sap.focus(d||$.firstFocusableDomRef());var o=this._getOfDom(this._oLastPosition.of);var b=q(o).rect();if(this._oLastOfRect&&b&&!r(this._oLastOfRect,b)){this._applyPosition(this._oLastPosition);}}this.eOpenState=sap.ui.core.OpenState.OPEN;if(this.getFollowOf()){P.DockTrigger.addListener(P.checkDocking,this);}this._updateBlindLayer();this.fireOpened();};P.prototype._duringOpen=function(){var $=this._$(false,true);if(q.sap.isMouseEventDelayed){if(this._oTopShieldLayer){q.sap.clearDelayedCall(this._iTopShieldRemoveTimer);this._iTopShieldRemoveTimer=null;}else{this._oTopShieldLayer=this.oShieldLayerPool.borrowObject($,this._iZIndex+1);}this._iTopShieldRemoveTimer=q.sap.delayedCall(500,this,function(){this.oShieldLayerPool.returnObject(this._oTopShieldLayer);this._oTopShieldLayer=null;this._iTopShieldRemoveTimer=null;});}if(!!D.browser.msie&&!D.os.windows_phone&&P._activateBlindLayer){this._oBlindLayer=this.oBlindLayerPool.borrowObject($,this._iZIndex-1);}if(this._bModal){this._showBlockLayer();}if(this.oContent instanceof E){this.oContent.addDelegate(this);}this.bOpen=true;if(this._bModal||this._bAutoClose){this._addFocusEventListeners();}this._$(false,true).on("keydown",q.proxy(this._F6NavigationHandler,this));if(this.touchEnabled&&!this._bModal&&this._bAutoClose){q(document).on("touchstart mousedown",q.proxy(this._fAutoCloseHandler,this));}if(this._oBlindLayer){this._resizeListenerId=a.register(this._$().get(0),q.proxy(this.onresize,this));}if(D.os.ios&&D.support.touch){q(document).on("touchmove",this._fnPreventScroll);}};P.prototype.onFocusEvent=function(b){var e=q.event.fix(b);if(arguments.length>1&&arguments[1]==="sap.ui.core.Popup.onFocusEvent-"+this._popupUID){e=q.event.fix(arguments[2]);}var t=(e.type=="focus"||e.type=="activate")?"focus":"blur";var c=false;if(t=="focus"){var d=this._$().get(0);if(d){c=q.sap.containsOrEquals(d,e.target);var f=this.getChildPopups();if(!c){for(var i=0,l=f.length;i<l;i++){var o=q.sap.domById(f[i]);if(o){c=q.sap.containsOrEquals(o,e.target);if(c){break;}}}}q.sap.log.debug("focus event on "+e.target.id+", contains: "+c);if(this._bModal&&!c){var T=P.blStack.length>0&&P.blStack[P.blStack.length-1].popup===this;if(T){if(D.system.desktop||q(e.target).is(":input")){q.sap.delayedCall(0,this,function(){var h=this.oLastBlurredElement?this.oLastBlurredElement:d;q.sap.focus(h);});}}}else if(this._bAutoClose&&c&&this._sTimeoutId){q.sap.clearDelayedCall(this._sTimeoutId);this._sTimeoutId=null;}}}else if(t=="blur"){q.sap.log.debug("blur event on "+e.target.id);if(this._bModal){this.oLastBlurredElement=e.target;}else if(this._bAutoClose){if(!this.touchEnabled&&!this._sTimeoutId){if(e.target===document.activeElement){return;}var g=typeof this._durations.close==="string"?0:this._durations.close;this._sTimeoutId=q.sap.delayedCall(g,this,function(){this.close(g,"autocloseBlur");var h=this._oLastPosition&&this._oLastPosition.of;if(h){var p=this.getParentPopupId(h);if(p){var s="sap.ui.core.Popup.onFocusEvent-"+p;sap.ui.getCore().getEventBus().publish("sap.ui",s,e);}}});}}}};P.prototype.setInitialFocusId=function(i){this._sInitialFocusId=i;};P.prototype.close=function(d){if(P._autoCloseDebug){return;}if(this._sTimeoutId){q.sap.clearDelayedCall(this._sTimeoutId);this._sTimeoutId=null;if(arguments.length>1){var A=arguments[1];if(typeof A=="string"&&A=="autocloseBlur"&&this._isFocusInsidePopup()){return;}}}if(this.eOpenState==sap.ui.core.OpenState.CLOSED||this.eOpenState==sap.ui.core.OpenState.CLOSING){return;}var i="fast";if((d===0)||(d>0)){i=d;}else if((this._durations.close===0)||(this._durations.close>0)){i=this._durations.close;}this.eOpenState=sap.ui.core.OpenState.CLOSING;if(this.getFollowOf()){P.DockTrigger.removeListener(P.checkDocking,this);}if(this.oContent&&this._bContentAddedToStatic){sap.ui.getCore().getEventBus().publish("sap.ui","__beforePopupClose",{domNode:this._$().get(0)});var s=sap.ui.getCore().getStaticAreaRef();s=sap.ui.getCore().getUIArea(s);s.removeContent(s.indexOfContent(this.oContent),true);}this._bContentAddedToStatic=false;this._sTimeoutId=null;if(this.fEventHandler){this._removeFocusEventListeners();}this._$(false,true).off("keydown",this._F6NavigationHandler);if(this.touchEnabled){if(!this._bModal&&this._bAutoClose){q(document).off("touchstart mousedown",this._fAutoCloseHandler);}}if(D.os.ios&&D.support.touch){q(document).off("touchmove",this._fnPreventScroll);}if(this.oContent instanceof E){this.oContent.removeDelegate(this);}var $=this._$();if(this._bEventBusEventsRegistered){this._unregisterEventBusEvents();}if(this._oBlindLayer){this.oBlindLayerPool.returnObject(this._oBlindLayer);}this._oBlindLayer=null;if(q.sap.isMouseEventDelayed){if(this._oBottomShieldLayer){q.sap.clearDelayedCall(this._iBottomShieldRemoveTimer);this._iBottomShieldRemoveTimer=null;}else{this._oBottomShieldLayer=this.oShieldLayerPool.borrowObject($,this._iZIndex-3);}this._iBottomShieldRemoveTimer=q.sap.delayedCall(500,this,function(){this.oShieldLayerPool.returnObject(this._oBottomShieldLayer);this._oBottomShieldLayer=null;this._iBottomShieldRemoveTimer=null;});}if(this.isInPopup(this._oLastPosition.of)){var p=this.getParentPopupId(this._oLastPosition.of);var c="";var o=this.getContent();if(o instanceof E){c=o.getId();}else if(typeof o==="object"){c=o.id;}this.removeChildFromPopup(p,c);this.removeChildFromPopup(p,this._popupUID);}if(this._bModal&&this.preventBrowserFocus){$.one("mousedown",function(e){e.preventDefault();});}this._duringClose();if(i==0){this._closed();}else if(this._animations.close){this._animations.close.call(null,$,i,this._closed.bind(this));}else{$.fadeOut(i,this._closed.bind(this));}};P.prototype._closed=function(){if(this._bModal){this._hideBlockLayer();}var $=this._$(false,true);if($.length){var d=$.get(0);if(d){d.style.display="none";d.style.visibility="hidden";d.style.left="0px";d.style.top="0px";d.style.right="";}$=this._$(false,true);d=$.length?$[0]:null;if(d){d.style.display="none";d.style.visibility="hidden";d.style.left="0px";d.style.top="0px";d.style.right="";}}if(this._bModal){P.applyFocusInfo(this._oPreviousFocus);this._oPreviousFocus=null;this.oLastBlurredElement=null;}this.bOpen=false;this.eOpenState=sap.ui.core.OpenState.CLOSED;var c=this.getChildPopups();for(var j=0,l=c.length;j<l;j++){this.closePopup(c[j]);}this.fireClosed();};P.prototype._duringClose=function(){if(this._resizeListenerId){a.deregister(this._resizeListenerId);this._resizeListenerId=null;}};P.getCurrentFocusInfo=function(){var _=null;var f=sap.ui.getCore().getCurrentFocusedControlId();if(f){var F=sap.ui.getCore().byId(f);_={'sFocusId':f,'oFocusInfo':F?F.getFocusInfo():{}};}else{try{var e=document.activeElement;if(e){_={'sFocusId':e.id,'oFocusedElement':e,'oFocusInfo':{}};}}catch(b){_=null;}}if(_){_.popup=this;}return _;};P.applyFocusInfo=function(p){if(p){var f=sap.ui.getCore().byId(p.sFocusId);if(f){f.applyFocusInfo(p.oFocusInfo);}else{var e=q.sap.domById(p.sFocusId)||p.oFocusedElement;q.sap.focus(e);}}};P.prototype.setContent=function(c){this.oContent=c;return this;};P.prototype.getContent=function(){return this.oContent;};P.prototype.setPosition=function(m,b,o,c,d){this._oPosition=this._createPosition(m,b,o,c,d);if(this.eOpenState!=sap.ui.core.OpenState.CLOSED){this._applyPosition(this._oPosition);this._oBlindLayer&&this._oBlindLayer.update(this._$());}return this;};P.prototype._createPosition=function(m,b,o,c,d){var n=false;if(m&&(m.indexOf("+")>=0||m.indexOf("-")>=0)){n=true;if(c&&c!="0 0"){q.sap.log.warning("offset used in my and in offset, the offset value will be ignored","sap.ui.core.Popup","setPosition");}c=null;}var p=q.extend({},this._oDefaultPosition,{"my":m||this._oDefaultPosition.my,"at":b||this._oDefaultPosition.at,"of":o,"offset":c,"collision":d});if(!q.ui.version){if(P._bNewOffset==null){P._bNewOffset=true;var $=q(document.createElement("div"));$.position({of:window,using:function(g,h){P._bNewOffset=(h!==undefined);}});}}var e=[];var f=[];if(P._bNewOffset||q.sap.Version(q.ui.version).compareTo("1.8.23")>0){if(c&&c!="0 0"){e=p.my.split(" ");f=c.split(" ");var s=[parseInt(f[0],10)<0?"":"+",parseInt(f[1],10)<0?"":"+"];p.my=e[0]+s[0]+f[0]+" "+e[1]+s[1]+f[1];p.offset=null;}}else if(n){e=p.my.split(" ");f=["",""];var i=e[0].indexOf("+");if(i<0){i=e[0].indexOf("-");}if(i>=0){f[0]=e[0].slice(i);e[0]=e[0].slice(0,i);}i=e[1].indexOf("+");if(i<0){i=e[1].indexOf("-");}if(i>=0){f[1]=e[1].slice(i);e[1]=e[1].slice(0,i);}p.my=e[0]+" "+e[1];p.offset=f[0]+" "+f[1];}return p;};P.prototype._getPositionOffset=function(){var o=[];if(this._oPosition.my&&(this._oPosition.my.indexOf("+")>=0||this._oPosition.my.indexOf("-")>=0)){var m=this._oPosition.my.split(" ");var i=m[0].indexOf("+");if(i<0){i=m[0].indexOf("-");}if(i>=0){o[0]=m[0].slice(i);}i=m[1].indexOf("+");if(i<0){i=m[1].indexOf("-");}if(i>=0){o[1]=m[1].slice(i);}}else if(this._oPosition.offset){o=this._oPosition.offset.split(" ");}return o;};P.prototype._applyPosition=function(p){var b=sap.ui.getCore().getConfiguration().getRTL();var $=this._$();if($.length){var A=p.at;var d=$.get(0);if(typeof(A)==="string"){d.style.display="block";d.style.left="";d.style.right="";$.position(this._resolveReference(this._convertPositionRTL(p,b)));this._fixPositioning(p,b);}else if(sap.ui.core.CSSSize.isValid(A.left)&&sap.ui.core.CSSSize.isValid(A.top)){$.css({"left":A.left,"top":A.top});}else if(sap.ui.core.CSSSize.isValid(A.right)&&sap.ui.core.CSSSize.isValid(A.top)){$.css({"right":A.right,"top":A.top});}else if(typeof(A.left)==="number"&&typeof(A.top)==="number"){var c=$[0];if(c&&c.style.right){var w=$.outerWidth();$.css({"right":(document.documentElement.clientWidth-(A.left+w))+"px","top":A.top+"px"});}else{$.css({"left":A.left+"px","top":A.top+"px"});}}this._oLastPosition=p;this._oLastOfRect=this._calcOfRect(p.of);}};P.prototype._calcOfRect=function(o){var b=this._getOfDom(o);if(b){return q(b).rect();}return null;};P.prototype._getOfDom=function(o){if(o instanceof q.Event){return null;}var $;if(typeof(o)==="string"){$=q.sap.byId(o);}else if(o instanceof q){$=o;}else{$=q(o instanceof E?o.getDomRef():o);}return $[0];};P.prototype._convertPositionRTL=function(p,b){var f=q.extend({},p);if(b){var n=false;if(f.my&&(f.my.indexOf("+")>=0||f.my.indexOf("-")>=0)){n=true;}if((f.offset||n)&&((f.my.indexOf("begin")>-1)||(f.my.indexOf("end")>-1))&&((f.at.indexOf("begin")>-1)||(f.at.indexOf("end")>-1))){if(n){var m=f.my.split(" ");if(m.length==2){f.my="";if(m[0]){if(m[0].indexOf("begin")>-1||m[0].indexOf("end")>-1){if(m[0].indexOf("+")>-1){m[0]=m[0].replace("+","-");}else if(m[0].indexOf("-")>-1){m[0]=m[0].replace("-","+");}}f.my=m[0];}if(m[1]){if(m[1].indexOf("begin")>-1||m[1].indexOf("end")>-1){if(m[1].indexOf("+")>-1){m[1]=m[1].replace("+","-");}else if(m[1].indexOf("-")>-1){m[1]=m[1].replace("-","+");}}if(m[0]){f.my=f.my+" ";}f.my=f.my+m[1];}}}else{f.offset=this._mirrorOffset(f.offset);}}f.my=f.my.replace("begin","right").replace("end","left");f.at=f.at.replace("begin","right").replace("end","left");}else{f.my=f.my.replace("end","right").replace("begin","left");f.at=f.at.replace("end","right").replace("begin","left");}return f;};P.prototype._mirrorOffset=function(o){var b=q.trim(o).split(/\s/);var p=parseInt(b[0],10);return(-p)+" "+b[b.length-1];};P.prototype._fixPositioning=function(p,b){var m=p.my;var $=this._$();var c=0;if(typeof(m)==="string"){if(b&&((m.indexOf("right")>-1)||(m.indexOf("begin")>-1)||(m.indexOf("center")>-1))){$=this._$();c=q(window).width()-$.outerWidth()-$.offset().left;$.css({"right":c+"px","left":""});}else if((m.indexOf("right")>-1)||(m.indexOf("end")>-1)){$=this._$();c=q(window).width()-$.outerWidth()-$.offset().left;$.css({"right":c+"px","left":""});}}};P.prototype._resolveReference=function(p){var o=p;if(p.of instanceof E){o=q.extend({},p,{of:p.of.getDomRef()});}return o;};P.prototype.setShadow=function(s){this._bShadow=s;if(this.eOpenState!=sap.ui.core.OpenState.CLOSED){this._$().toggleClass("sapUiShd",s);}return this;};P.prototype.setModal=function(m,s){var o=this._bModal;this._bModal=m;this._sModalCSSClass=s;if(this.isOpen()){if(o!==m){if(m){this._showBlockLayer();}else{this._hideBlockLayer();}if(this.touchEnabled&&this._bAutoClose){if(!m){q(document).on("touchstart mousedown",q.proxy(this._fAutoCloseHandler,this));}else{q(document).off("touchstart mousedown",this._fAutoCloseHandler);}}}}return this;};P.prototype.getModal=function(){return this._bModal;};P.prototype.setNavigationMode=function(m){if(m!="NONE"&&m!="DOCK"&&m!="SCOPE"){this._sF6NavMode="NONE";}this._sF6NavMode=m;};P.prototype.setAutoClose=function(A){if(this.touchEnabled&&this.isOpen()&&this._bAutoClose!==A){if(!this._bModal){if(A){q(document).on("touchstart mousedown",q.proxy(this._fAutoCloseHandler,this));}else{q(document).off("touchstart mousedown",this._fAutoCloseHandler);}}}this._bAutoClose=A;return this;};P.prototype.setAutoCloseAreas=function(A){this._aAutoCloseAreas=[];var c=function(e){return{onBeforeRendering:function(){var f=o.getDomRef();if(f&&this.isOpen()){f.removeEventListener("blur",this.fEventHandler,true);}},onAfterRendering:function(){var f=o.getDomRef();if(f&&this.isOpen()){f.addEventListener("blur",this.fEventHandler,true);}}};};for(var i=0,l=A.length;i<l;i++){var s="",o=A[i],d,b={};if(o instanceof E){d=c(o);o.addEventDelegate(d,this);s=o.getId();b.delegate=d;}else if(typeof o==="object"){s=o.id;}else if(typeof o==="string"){s=o;}b.id=s;this._aAutoCloseAreas.push(b);if(this.getChildPopups().indexOf(s)===-1){this.addChildPopup(s);}}return this;};P.prototype.setAnimations=function(o,c){if(o&&(typeof(o)=="function")){this._animations.open=o;}if(c&&(typeof(c)=="function")){this._animations.close=c;}return this;};P.prototype.setDurations=function(o,c){if((o>0)||(o===0)){this._durations.open=o;}if((c>0)||(c===0)){this._durations.close=c;}return this;};P.prototype._fnPreventScroll=function(e){if(!e.isMarked()){e.preventDefault();}};P.CLOSE_ON_SCROLL="close_Popup_if_of_is_moved";P.prototype._fnCloseOnScroll=function(e){this.close();};P.prototype.setFollowOf=function(f){P.DockTrigger.removeListener(P.checkDocking,this);var u=false;this._bFollowOf=true;this._followOfHandler=null;if(typeof(f)==="function"){this._followOfHandler=f;u=true;}else if(typeof(f)==="boolean"){u=f;}else if(f===P.CLOSE_ON_SCROLL){this._followOfHandler=this._fnCloseOnScroll;u=true;}else{this._bFollowOf=false;if(f!==null){q.sap.log.error("Trying to set an invalid type to 'followOf: "+f);}}if(u&&this._oLastPosition){this._oLastOfRect=this._calcOfRect(this._oLastPosition.of);}if(this._bFollowOf&&this.getOpenState()===sap.ui.core.OpenState.OPEN){P.DockTrigger.addListener(P.checkDocking,this);}};P.prototype.getAutoClose=function(){return this._bAutoClose;};P.prototype.getFollowOf=function(){if(this._bFollowOf){return typeof(this._followOfHandler)==="function"?this._followOfHandler:true;}return false;};P.prototype.isOpen=function(){return this.bOpen;};P.prototype.getOpenState=function(){return this.eOpenState;};P.prototype.destroy=function(){if(this._resizeListenerId){a.deregister(this._resizeListenerId);this._resizeListenerId=null;}this.close(0);this.oContent=null;if(this._bFollowOf){this.setFollowOf(null);}if(this._bEventBusEventsRegistered){this._unregisterEventBusEvents();}if(this._iTopShieldRemoveTimer){q.sap.clearDelayedCall(this._iTopShieldRemoveTimer);this.oShieldLayerPool.returnObject(this._oTopShieldLayer);this._oTopShieldLayer=null;this._iTopShieldRemoveTimer=null;}if(this._iBottomShieldRemoveTimer){q.sap.clearDelayedCall(this._iBottomShieldRemoveTimer);this.oShieldLayerPool.returnObject(this._oBottomShieldLayer);this._oBottomShieldLayer=null;this._iBottomShieldRemoveTimer=null;}if(this._aAutoCloseAreas){var e;this._aAutoCloseAreas.forEach(function(A){if(A.delegate){e=q.sap.byId(A.id).control(0);if(e){e.removeEventDelegate(A.delegate);}}});}M.prototype.destroy.apply(this,arguments);};P.prototype.exit=function(){delete this._mFocusEvents;};P.prototype._addFocusEventListeners=function(c,e,o){if(!this.fEventHandler){this.fEventHandler=q.proxy(this.onFocusEvent,this);}var p=this._$();var b=this.getChildPopups();var d={};var i=0,l=0;if(p.length){if(document.addEventListener&&!D.browser.msie){document.addEventListener("focus",this.fEventHandler,true);p.get(0).addEventListener("blur",this.fEventHandler,true);for(i=0,l=b.length;i<l;i++){d=q.sap.domById(b[i]);if(d){d.addEventListener("blur",this.fEventHandler,true);}}}else{q(document).bind("activate."+this._popupUID,this.fEventHandler);p.bind("deactivate."+this._popupUID,this.fEventHandler);for(i=0,l=b.length;i<l;i++){d=q.sap.domById(b[i]);if(d){q(d).bind("deactivate."+this._popupUID,this.fEventHandler);}}}}};P.prototype._removeFocusEventListeners=function(c,e,o){var p=this._$(false,true);if(!p.length){return;}var b=this.getChildPopups();var d={};var i=0,l=0;if(document.removeEventListener&&!D.browser.msie){document.removeEventListener("focus",this.fEventHandler,true);p.get(0).removeEventListener("blur",this.fEventHandler,true);for(i=0,l=b.length;i<l;i++){d=q.sap.domById(b[i]);if(d){d.removeEventListener("blur",this.fEventHandler,true);}this.closePopup(b[i]);}}else{q(document).unbind("activate."+this._popupUID,this.fEventHandler);p.unbind("deactivate."+this._popupUID,this.fEventHandler);for(i=0,l=b.length;i<l;i++){d=q.sap.domById(b[i]);if(d){q(d).unbind("deactivate."+this._popupUID,this.fEventHandler);}}}this.fEventHandler=null;};P.prototype._registerEventBusEvents=function(c,e,o){var t=this;q.each(t._mFocusEvents,function(s,l){sap.ui.getCore().getEventBus().subscribe("sap.ui",s,l,t);});this._bEventBusEventsRegistered=true;};P.prototype._unregisterEventBusEvents=function(c,e,o){var t=this;q.each(t._mFocusEvents,function(s,l){sap.ui.getCore().getEventBus().unsubscribe("sap.ui",s,l,t);});delete this._bEventBusEventsRegistered;};P.prototype._addFocusableArea=function(c,e,o){if(this.getChildPopups().indexOf(o.id)===-1){this.addChildPopup(o.id);}};P.prototype._removeFocusableArea=function(c,e,o){this.removeChildPopup(o.id);};P.prototype._closePopup=function(c,e,o){this.close(typeof this._durations.close==="string"?0:this._durations.close);};P.prototype._setIdentity=function($){if(typeof $==="object"){$.attr("data-sap-ui-popup",this._popupUID);}else{q.sap.log.warning("Incorrect DomRef-type for 'setIdentity': "+$,this);return;}if(!this._bEventBusEventsRegistered){this._registerEventBusEvents();}};P.prototype._$=function(f,g){var c;if(this.oContent instanceof C){c=this.oContent.$();if(f||(c.length===0&&!g)){q.sap.log.info("Rendering of popup content: "+this.oContent.getId());if(c.length>0){R.preserveContent(c[0],true,false);}sap.ui.getCore().getRenderManager().render(this.oContent,sap.ui.getCore().getStaticAreaRef());c=this.oContent.$();}}else if(this.oContent instanceof E){c=this.oContent.$();}else{c=q(this.oContent);}this._setIdentity(c);return c;};P.prototype._showBlockLayer=function(){var b=q("#sap-ui-blocklayer-popup"),c="sapUiBLy"+(this._sModalCSSClass?" "+this._sModalCSSClass:"");if(b.length===0){b=q('<div id="sap-ui-blocklayer-popup" tabindex="0" class="'+c+'"></div>');b.appendTo(sap.ui.getCore().getStaticAreaRef());}else{b.removeClass().addClass(c);}P.blStack.push({zIndex:this._iZIndex-2,popup:this});b.css({"z-index":this._iZIndex-2,"visibility":"visible"}).show();q("html").addClass("sapUiBLyBack");};P.prototype._hideBlockLayer=function(){P.blStack.pop();var $=q("#sap-ui-blocklayer-popup");if($.length){var b=$.get(0);if(P.blStack.length>0){b.style.zIndex=P.blStack[P.blStack.length-1].zIndex;b.style.visibility="visible";b.style.display="block";}else{b.style.visibility="hidden";b.style.display="none";q("html").removeClass("sapUiBLyBack");}}};P.prototype._isFocusInsidePopup=function(){var d=this._$(false).get(0);if(d&&q.sap.containsOrEquals(d,document.activeElement)){return true;}return false;};P.DockTrigger=new I(200);P.checkDocking=function(){if(this.getOpenState()===sap.ui.core.OpenState.OPEN){var c=this._getOfDom(this._oLastPosition.of),o=q(c).rect();if(!o){this.close();return;}else if(o.left===0&&o.top===0&&o.height===0&&o.height===0&&this._oLastPosition.of.id){this._oLastPosition.of=q.sap.domById(this._oLastPosition.of.id);c=this._getOfDom(this._oLastPosition.of);o=q(c).rect();if(!o){this.close();return;}}if(!q.sap.containsOrEquals(document.documentElement,c)){if(c.id&&c.id!==""){var n=q.sap.domById(c.id);var N=q(n).rect();if(N&&!r(o,N)){o=N;delete this._oLastPosition.of;this._oLastPosition.of=n;}}}if(this._oLastOfRect){if(!r(this._oLastOfRect,o)){if(this._followOfHandler){var l=q.extend(true,{},this._oLastPosition),L=q.extend(true,{},this._oLastOfRect);this._followOfHandler({lastPosition:l,lastOfRect:L,currentOfRect:o});}else{this._applyPosition(this._oLastPosition);}}}}};P.prototype.ontouchstart=function(e){this.onmousedown(e,true);this._bMousedownCalled=true;};P.prototype.onmousedown=function(e,s){if(this._bMousedownCalled&&!s){this._bMousedownCalled=false;return;}if(this._iZIndex===this.getLastZIndex()||this.getModal()){return;}this._increaseMyZIndex("","mousedown",e);};P.prototype._increaseMyZIndex=function(c,e,o){var p=this.getParentPopup(this._oLastPosition.of);if(o&&o.type==="mousedown"||o&&o.isFromParentPopup||p.length===0){this._iZIndex=this.getNextZIndex();var $=this._$(false,true);$.css("z-index",this._iZIndex);if(this._oBlindLayer){this._oBlindLayer.update($,this._iZIndex-1);}if(o&&!o.type||o&&o.type!="mousedown"||e==="mousedown"){var b=this.getChildPopups();for(var i=0,l=b.length;i<l;i++){this.increaseZIndex(b[i],true);}}}else if(p.length>0){var s=q(p.get(0)).attr("data-sap-ui-popup");this.increaseZIndex(s,false);}};P.prototype.onAfterRendering=function(e){var c=this.getContent();var $=c instanceof E?c.$():q(c);$.toggleClass("sapUiShd",this._bShadow);$.css("position","absolute");this._setIdentity($);var b=$[0];var l=b.style.left;var d=b.style.right;var t=b.style.top;var f=b.style.bottom;if(!(l&&l!="auto"||d&&d!="auto"||t&&t!="auto"||f&&f!="auto")){q.sap.log.debug("reposition popup content "+$.attr("id")+" at "+(window.JSON?JSON.stringify(this._oLastPosition.at):String(this._oLastPosition.at)));this._applyPosition(this._oLastPosition);}$.show().css({"visibility":"visible","z-index":this._iZIndex});if(this._oBlindLayer){this._resizeListenerId=a.register(this._$().get(0),q.proxy(this.onresize,this));}if(this.isOpen()&&(this.getModal()||this.getAutoClose())){this._addFocusEventListeners();}this._$(false,true).on("keydown",q.proxy(this._F6NavigationHandler,this));};P.prototype.onBeforeRendering=function(e){if(this._resizeListenerId){a.deregister(this._resizeListenerId);this._resizeListenerId=null;}if(this.isOpen()&&(this.getModal()||this.getAutoClose())){this._removeFocusEventListeners();}this._$(false,true).off("keydown",this._F6NavigationHandler);};P.prototype.onresize=function(e){if(this.eOpenState!=sap.ui.core.OpenState.CLOSED&&this._oBlindLayer){var t=this;setTimeout(function(){t._updateBlindLayer();},0);}};P.prototype._updateBlindLayer=function(){if(this.eOpenState!=sap.ui.core.OpenState.CLOSED&&this._oBlindLayer){this._oBlindLayer.update(this._$(false,true));}};P.prototype.isInPopup=function(t){var p=this.getParentPopup(t);return p&&p.length>0;};P.prototype.getParentPopup=function(t){var T=t?t:this;var $=q(T instanceof E?T.getDomRef():T);return $.closest("[data-sap-ui-popup]");};P.prototype.getParentPopupId=function(t){var p=this.getParentPopup(t);return p.attr("data-sap-ui-popup");};P.prototype.addChildToPopup=function(p,c){var e="sap.ui.core.Popup.addFocusableContent-"+p;sap.ui.getCore().getEventBus().publish("sap.ui",e,{id:c});};P.prototype.removeChildFromPopup=function(p,c){var e="sap.ui.core.Popup.removeFocusableContent-"+p;sap.ui.getCore().getEventBus().publish("sap.ui",e,{id:c});};P.prototype.closePopup=function(p){var e="sap.ui.core.Popup.closePopup-"+p;sap.ui.getCore().getEventBus().publish("sap.ui",e);};P.prototype.increaseZIndex=function(p,i){var e="sap.ui.core.Popup.increaseZIndex-"+p;sap.ui.getCore().getEventBus().publish("sap.ui",e,{isFromParentPopup:i?i:false});};P.prototype.focusTabChain=function(p){var s=p.event.target,n=p.that.getMetadata().getName(),f;if((!p.$FocusablesContent||!p.$FocusablesFooter)||(!p.$FocusablesContent.length&&!p.$FocusablesFooter.length)){return;}if(s.id===p.firstFocusable){q.sap.log.debug("First dummy focus element was focused","",n);if(p.$FocusablesFooter.length>0){q.sap.log.debug("Last footer element will be focused","",n);f=p.$FocusablesFooter[p.$FocusablesFooter.length-1];}else{q.sap.log.debug("Last content element will be focused","",n);f=p.$FocusablesContent[p.$FocusablesContent.length-1];}}else if(s.id===p.lastFocusable){q.sap.log.debug("Last dummy focus element was focues","",n);if(p.$FocusablesContent.length>0){q.sap.log.debug("First content element will be focused","",n);f=p.$FocusablesContent[0];}else{q.sap.log.debug("First footer element will be focused","",n);f=p.$FocusablesFooter[0];}}if(f){q.sap.delayedCall(0,this,function(){var c=sap.ui.getCore().byId(f.id);if(c instanceof C){q.sap.log.debug("Focus will be handled by "+c.getMetadata().getName(),"",n);}else{q.sap.log.debug("oFocusDomRef will be focused","",n);}q.sap.focus(c?c:f);return c?c.getId():f.id;});}};return P;});
sap.ui.predefine('sap/ui/core/ScrollBar',['jquery.sap.global','sap/ui/Device','./Control','./library','jquery.sap.script','jquery.sap.trace'],function(q,D,C,l){"use strict";var S=l.ScrollBarAction;var a=C.extend("sap.ui.core.ScrollBar",{metadata:{library:"sap.ui.core",properties:{vertical:{type:"boolean",group:"Behavior",defaultValue:true},scrollPosition:{type:"int",group:"Behavior",defaultValue:null},size:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},contentSize:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},steps:{type:"int",group:"Dimension",defaultValue:null}},events:{scroll:{parameters:{action:{type:"sap.ui.core.ScrollBarAction"},forward:{type:"boolean"},newScrollPos:{type:"int"},oldScrollPos:{type:"int"}}}}}});a.prototype.init=function(){this._$ScrollDomRef=null;this._iOldScrollPos=0;this._iOldStep=0;this._bScrollPosIsChecked=false;this._bRTL=sap.ui.getCore().getConfiguration().getRTL();this._bSuppressScroll=false;this._iMaxContentDivSize=1000000;if(q.sap.touchEventMode==="ON"){sap.ui.requireSync("sap/ui/thirdparty/zyngascroll");this._iLastTouchScrollerPosition=null;this._iTouchStepTreshold=24;this._bSkipTouchHandling=false;this._oTouchScroller=new window.Scroller(q.proxy(this._handleTouchScroll,this),{bouncing:false});}};a.prototype.onBeforeRendering=function(){this.$("sb").unbind("scroll",this.onscroll);};a.prototype.onAfterRendering=function(){this._iSteps=this.getSteps();var c=this.getContentSize();this._bStepMode=!c;var s=this.getSize();if(q.sap.endsWith(s,"px")){s=s.substr(0,s.length-2);}else{s=this.getVertical()?this.$().height():this.$().width();}var b=null;var $=this.$("ffsize");if(D.browser.firefox){b=$.outerHeight();if(b===0){b=window.getComputedStyle(q("body").get(0))["font-size"];if(q.sap.endsWith(b,"px")){b=b.substr(0,b.length-2);}b=parseInt(b,10);}}$.remove();if(D.browser.webkit){if(!document.width){b=Math.round(40/(window.outerWidth/q(document).width()));}else{b=Math.round(40/(document.width/q(document).width()));}}if(this.getVertical()){if(D.browser.firefox){this._iFactor=b;}else if(D.browser.webkit){this._iFactor=b;}else{this._iFactor=Math.floor(s*0.125);}this._iFactorPage=D.browser.firefox?s-b:Math.floor(s*0.875);}else{if(D.browser.firefox){this._iFactor=10;this._iFactorPage=Math.floor(s*0.8);}else if(D.browser.webkit){this._iFactor=b;this._iFactorPage=Math.floor(s*0.875);}else{this._iFactor=7;this._iFactorPage=s-14;}}this._$ScrollDomRef=this.$("sb");if(this._bStepMode){if(this.getVertical()){var i=this._iSteps*this._iFactor;if(i>this._iMaxContentDivSize){this._iFactor=this._iFactor/(i/this._iMaxContentDivSize);}var d=this._$ScrollDomRef.height()+Math.ceil(this._iSteps*this._iFactor);this._$ScrollDomRef.find("div").height(d);}else{var d=this._$ScrollDomRef.width()+this._iSteps*this._iFactor;this._$ScrollDomRef.find("div").width(d);}}this.setCheckedScrollPosition(this.getScrollPosition()?this.getScrollPosition():0,true);this._$ScrollDomRef.bind("scroll",q.proxy(this.onscroll,this));if(q.sap.touchEventMode==="ON"){this._bSkipTouchHandling=true;var o={width:0,height:0};o[this.getVertical()?"height":"width"]=this._bStepMode?(this.getSteps()*this._iTouchStepTreshold):parseInt(this.getContentSize(),10);this._oTouchScroller.setDimensions(0,0,o.width,o.height);var e=this._$ScrollDomRef.get(0);if(e){var r=e.getBoundingClientRect();this._oTouchScroller.setPosition(r.left+e.clientLeft,r.top+e.clientTop);this._bSkipTouchHandling=false;}}};a.prototype.onmousewheel=function(e){if(this.$().is(":visible")){var o=e.originalEvent;var w=o.detail?o.detail:o.wheelDelta*(-1)/40;var f=w>0?true:false;if(q.sap.containsOrEquals(this._$ScrollDomRef[0],e.target)){this._doScroll(S.MouseWheel,f);}else{this._bMouseWheel=true;var p=null;if(this._bStepMode){p=w+this._iOldStep;}else{p=w*this._iFactor+this._iOldScrollPos;}this.setCheckedScrollPosition(p,true);}e.preventDefault();e.stopPropagation();return false;}};a.prototype.ontouchstart=function(e){var t=e.touches;var f=t[0];if(f&&f.target&&f.target.tagName.match(/input|textarea|select/i)){return;}if(this._oTouchScroller){this._oTouchScroller.doTouchStart(t,e.timeStamp);}if(t.length==1){e.preventDefault();}};a.prototype.ontouchmove=function(e){if(this._oTouchScroller){this._oTouchScroller.doTouchMove(e.touches,e.timeStamp,e.scale);}};a.prototype.ontouchend=function(e){if(this._oTouchScroller){this._oTouchScroller.doTouchEnd(e.timeStamp);}};a.prototype.ontouchcancel=function(e){if(this._oTouchScroller){this._oTouchScroller.doTouchEnd(e.timeStamp);}};a.prototype.onscroll=function(e){if(this._bSuppressScroll){this._bSuppressScroll=false;e.preventDefault();e.stopPropagation();return false;}var s=null;if(this._$ScrollDomRef){if(this.getVertical()){s=Math.round(this._$ScrollDomRef.scrollTop());}else{s=Math.round(this._$ScrollDomRef.scrollLeft());if(D.browser.firefox&&this._bRTL){s=Math.abs(s);}else if(D.browser.webkit&&this._bRTL){var o=this._$ScrollDomRef.get(0);s=o.scrollWidth-o.clientWidth-o.scrollLeft;}}}var d=s-this._iOldScrollPos;var f=d>0?true:false;if(d<0){d=d*(-1);}var b=S.Drag;if(d==this._iFactor){b=S.Step;}else if(d==this._iFactorPage){b=S.Page;}else if(this._bMouseWheel){b=S.MouseWheel;}if(this._bLargeDataScrolling&&b===S.Drag){this._eAction=b;this._bForward=f;if(D.browser.msie){if(this._scrollTimeout){window.clearTimeout(this._scrollTimeout);}this._scrollTimeout=window.setTimeout(this._onScrollTimeout.bind(this),300);}}else{this._doScroll(b,f);}e.preventDefault();e.stopPropagation();return false;};a.prototype._onScrollTimeout=function(){this._scrollTimeout=undefined;this._doScroll(this._eAction,this._bForward);this._eAction=undefined;this._bForward=undefined;this._bTouchScroll=undefined;};a.prototype.onmouseup=function(){if(this._bLargeDataScrolling&&(this._eAction||this._bForward||this._bTouchScroll)&&!D.browser.msie){this._doScroll(this._eAction,this._bForward);this._eAction=undefined;this._bForward=undefined;this._bTouchScroll=undefined;}};a.prototype.ontouchend=a.prototype.onmouseup;a.prototype._handleTouchScroll=function(L,t,z){if(this._bSkipTouchHandling){return;}var v=this.getVertical()?t:L;var p;if(this._bStepMode){p=Math.max(Math.round(v/this._iTouchStepTreshold),0);}else{p=Math.round(v);}if(this._iLastTouchScrollerPosition!==p){this._iLastTouchScrollerPosition=p;this.setCheckedScrollPosition(p,true);if(this._bLargeDataScrolling){this._bTouchScroll=true;}else{this.fireScroll();}}};a.prototype.unbind=function(o){if(o){this._$OwnerDomRef=q(o);if(this.getVertical()){this._$OwnerDomRef.unbind(D.browser.firefox?"DOMMouseScroll":"mousewheel",this.onmousewheel);}if(q.sap.touchEventMode==="ON"){this._$OwnerDomRef.unbind(this._getTouchEventType("touchstart"),q.proxy(this.ontouchstart,this));this._$OwnerDomRef.unbind(this._getTouchEventType("touchmove"),q.proxy(this.ontouchmove,this));this._$OwnerDomRef.unbind(this._getTouchEventType("touchend"),q.proxy(this.ontouchend,this));this._$OwnerDomRef.unbind(this._getTouchEventType("touchcancle"),q.proxy(this.ontouchcancle,this));}}};a.prototype.bind=function(o){if(o){this._$OwnerDomRef=q(o);if(this.getVertical()){this._$OwnerDomRef.bind(D.browser.firefox?"DOMMouseScroll":"mousewheel",q.proxy(this.onmousewheel,this));}if(q.sap.touchEventMode==="ON"){this._$OwnerDomRef.bind(this._getTouchEventType("touchstart"),q.proxy(this.ontouchstart,this));this._$OwnerDomRef.bind(this._getTouchEventType("touchmove"),q.proxy(this.ontouchmove,this));this._$OwnerDomRef.bind(this._getTouchEventType("touchend"),q.proxy(this.ontouchend,this));this._$OwnerDomRef.bind(this._getTouchEventType("touchcancle"),q.proxy(this.ontouchcancle,this));}}};a.prototype._getTouchEventType=function(t){return q.sap.touchEventMode==="SIM"?("sap"+t):t;};a.prototype.pageUp=function(){this._doScroll(S.Page,false);};a.prototype.pageDown=function(){this._doScroll(S.Page,true);};a.prototype.setScrollPosition=function(s){if(this._$ScrollDomRef){this.setCheckedScrollPosition(s,true);}else{this.setProperty("scrollPosition",s);}return this;};a.prototype.setCheckedScrollPosition=function(s,c){var i=Math.max(s,0);if(this._bStepMode===undefined){this._bStepMode=!this.getContentSize();}var b=i;if(this._bStepMode){i=Math.min(i,this.getSteps());b=i*this._iFactor;}i=Math.round(i);this._bSuppressScroll=!c;this.setProperty("scrollPosition",i,true);if(this.getVertical()){this._$ScrollDomRef.scrollTop(b);}else{if(D.browser.firefox&&this._bRTL){this._$ScrollDomRef.scrollLeft(-b);}else if(D.browser.webkit&&this._bRTL){var o=this._$ScrollDomRef.get(0);this._$ScrollDomRef.scrollLeft(o.scrollWidth-o.clientWidth-b);}else{this._$ScrollDomRef.scrollLeft(b);}}if(q.sap.touchEventMode==="ON"){var v=i;if(this._bStepMode){v=Math.round(i*this._iTouchStepTreshold);}this._oTouchScroller.__scrollTop=this.getVertical()?v:0;this._oTouchScroller.__scrollLeft=this.getVertical()?0:v;}};a.prototype.setContentSize=function(c){this.setProperty("contentSize",c,true);this._bStepMode=false;var s=this.$("sbcnt");if(s){if(this.getVertical()){s.height(c);}else{s.width(c);}}return this;};a.prototype._doScroll=function(e,f){var s=null;if(this._$ScrollDomRef){if(this.getVertical()){s=Math.round(this._$ScrollDomRef.scrollTop());}else{s=Math.round(this._$ScrollDomRef.scrollLeft());if(D.browser.firefox&&this._bRTL){s=Math.abs(s);}else if(D.browser.webkit&&this._bRTL){var o=this._$ScrollDomRef.get(0);s=o.scrollWidth-o.clientWidth-o.scrollLeft;}}}if(this._bStepMode){var i=Math.round(s/this._iFactor);var O=this._iOldStep;if(O!==i){this.setCheckedScrollPosition(i,false);q.sap.log.debug("-----STEPMODE-----: New Step: "+i+" --- Old Step: "+O+" --- Scroll Pos in px: "+s+" --- Action: "+e+" --- Direction is forward: "+f);this.fireScroll({action:e,forward:f,newScrollPos:i,oldScrollPos:O});this._iOldStep=i;}}else{s=Math.round(s);this.setProperty("scrollPosition",s,true);q.sap.log.debug("-----PIXELMODE-----: New ScrollPos: "+s+" --- Old ScrollPos: "+this._iOldScrollPos+" --- Action: "+e+" --- Direction is forward: "+f);this.fireScroll({action:e,forward:f,newScrollPos:s,oldScrollPos:this._iOldScrollPos});}if(Math.round(this._iFactor)==this._iFactor||!D.browser.msie){this._bSuppressScroll=false;}this._iOldScrollPos=s;this._bMouseWheel=false;q.sap.interaction.notifyScrollEvent({type:e});};a.prototype.onThemeChanged=function(){this.rerender();};a.prototype.getNativeScrollPosition=function(){if(this._$ScrollDomRef){if(this.getVertical()){return Math.round(this._$ScrollDomRef.scrollTop());}else{return Math.round(this._$ScrollDomRef.scrollLeft());}}return 0;};a.prototype.setNativeScrollPosition=function(n){var s=Math.round(n);if(this._$ScrollDomRef){if(this.getVertical()){this._$ScrollDomRef.scrollTop(s);}else{this._$ScrollDomRef.scrollLeft(s);}}};return a;});
sap.ui.predefine('sap/ui/core/ScrollBarRenderer',['jquery.sap.global','sap/ui/Device'],function(q,D){"use strict";var S={};S.render=function(r,s){var a=r;var R=sap.ui.getCore().getConfiguration().getRTL();a.addClass("sapUiScrollBar");var b;if(D.support.touch){b="sapUiScrollBarTouch";a.addClass(b);}var v=s.getVertical();var c=s.getSize();var C=s.getContentSize();var B=q.sap.scrollbarSize(b);var w=B.width;var h=B.height;if(D.browser.edge){if(!w){w="15";}if(!h){h="15";}}if(v){a.write("<div");a.writeControlData(s);a.write(" style=\"overflow:hidden;width:"+w+"px");if(c){a.write(";height:"+c);}a.write("\"");a.writeClasses();a.write(">");a.write("<div ");a.writeAttribute("id",s.getId()+"-sb");a.write(" style=\"width:"+w*2+"px;height:100%;overflow-y:scroll;overflow-x:hidden");if(R){if((!(D.browser.firefox&&D.browser.version==3.6))&&(!D.browser.safari)){a.write(";margin-right:-"+w+"px");}}else{a.write(";margin-left:-"+w+"px;");}a.write("\">");a.write("<div");a.writeAttribute("id",s.getId()+"-sbcnt");a.write(" style=\"width:"+w+"px");if(C){a.write(";height:"+C);}a.write("\"");a.write(">");a.write("</div>");a.write("</div>");a.write("<div> <span id="+s.getId()+"-ffsize"+" style='position: absolute; top: -9000px; left: -9000px; visibility: hidden; line-height: normal;'> FF Size</span></div>");a.write("</div>");}else{a.write("<div");a.writeControlData(s);a.write(" style=\"overflow:hidden;height:"+h+"px");if(c){a.write(";width:"+c);}a.write("\"");a.writeClasses();a.write(">");a.write("<div ");a.writeAttribute("id",s.getId()+"-sb");a.write(" style=\"height:"+h*2+"px;margin-top:-"+h+"px;overflow-x:scroll;overflow-y:hidden\">");a.write("<div");a.writeAttribute("id",s.getId()+"-sbcnt");a.write(" style=\"height:"+h+"px");if(C){a.write(";width:"+C);}a.write("\"");a.write(">");a.write("</div>");a.write("</div>");a.write("</div>");}};return S;},true);
sap.ui.predefine('sap/ui/core/SeparatorItem',['./Item','./library'],function(I,l){"use strict";var S=I.extend("sap.ui.core.SeparatorItem",{metadata:{library:"sap.ui.core"}});return S;});
sap.ui.predefine('sap/ui/core/Title',['./Element','./library'],function(E,l){"use strict";var T=l.TitleLevel;var a=E.extend("sap.ui.core.Title",{metadata:{library:"sap.ui.core",properties:{text:{type:"string",group:"Appearance",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},level:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:T.Auto},emphasized:{type:"boolean",group:"Appearance",defaultValue:false}}}});return a;});
sap.ui.predefine('sap/ui/core/TooltipBase',['jquery.sap.global','./Control','./Popup','./library'],function(q,C,P,l){"use strict";var O=l.OpenState;var T=C.extend("sap.ui.core.TooltipBase",{metadata:{"abstract":true,library:"sap.ui.core",properties:{text:{type:"string",group:"Misc",defaultValue:""},openDuration:{type:"int",group:"Behavior",defaultValue:200},closeDuration:{type:"int",group:"Behavior",defaultValue:200},myPosition:{type:"sap.ui.core.Dock",group:"Behavior",defaultValue:'begin top'},atPosition:{type:"sap.ui.core.Dock",group:"Behavior",defaultValue:'begin bottom'},offset:{type:"string",group:"Behavior",defaultValue:'10 3'},collision:{type:"sap.ui.core.Collision",group:"Behavior",defaultValue:'flip'},openDelay:{type:"int",group:"Misc",defaultValue:500},closeDelay:{type:"int",group:"Misc",defaultValue:100}},events:{closed:{}}}});T.prototype._getPopup=q.sap.getter((function(){var p=new P();p.setShadow(true);return p;}()));T.prototype.onfocusin=function(e){var s=q(e.target).control(0);if(s!=null){var d=s.getFocusDomRef();this.sStoredTooltip=null;if(d.title&&d.title!=""){this.sStoredTooltip=d.title;d.title="";}var p=this._getPopup();if(!(p.isOpen()&&p.getContent()==this)){sap.ui.getCore().getRenderManager().render(this,sap.ui.getCore().getStaticAreaRef(),true);}var v=d.getAttribute("aria-describedby");var i=this.getId()+"-title "+this.getId()+"-txt";if(v==null||v==""){d.setAttribute("aria-describedby",i);}else if(v.indexOf(i)==-1){d.setAttribute("aria-describedby",v+" "+i);}}};T.prototype.onfocusout=function(e){var s=q(e.target).control(0);if(s!=null){var d=s.getFocusDomRef();if(this.sStoredTooltip){d.title=this.sStoredTooltip;}var v=d.getAttribute("aria-describedby");var i=this.getId()+"-title "+this.getId()+"-txt";if(v&&v.indexOf(i)>=0){if(v.trim()==i){d.removeAttribute("aria-describedby");}else{v=v.replace(i,"");d.setAttribute("aria-describedby",v);}}}if(T.sOpenTimeout){q.sap.clearDelayedCall(T.sOpenTimeout);T.sOpenTimeout=undefined;}this.sCloseNowTimeout=q.sap.delayedCall(this.getCloseDelay(),this,"closePopup");};T.prototype.isStandardTooltip=function(t){return typeof t==="string"&&!!t.trim();};T.prototype.onmouseover=function(e){var E=q(e.target).control(0),c=q(e.currentTarget).control(0),L=q(e.relatedTarget).control(0);if(!E){return;}if(E===this){if(this.sCloseNowTimeout){q.sap.clearDelayedCall(this.sCloseNowTimeout);this.sCloseNowTimeout=null;}e.stopPropagation();e.preventDefault();return;}if(c===E||!this.isStandardTooltip(E.getTooltip())){if(this.sCloseNowTimeout){q.sap.clearDelayedCall(this.sCloseNowTimeout);this.sCloseNowTimeout=null;e.stopPropagation();e.preventDefault();}}if(L){if(L.getParent()){if(L.getParent()===c&&c===E){var o=L.getTooltip();if(!this.isStandardTooltip(o)&&(!o||!(o instanceof T))){if(this.sCloseNowTimeout){q.sap.clearDelayedCall(this.sCloseNowTimeout);this.sCloseNowTimeout=null;e.stopPropagation();e.preventDefault();}}}}}if(this._currentControl===E||!this.isStandardTooltip(E.getTooltip())){this.removeStandardTooltips(E);if(T.sOpenTimeout){q.sap.clearDelayedCall(T.sOpenTimeout);}T.sOpenTimeout=q.sap.delayedCall(this.getOpenDelay(),this,"openPopup",[this._currentControl]);e.stopPropagation();e.preventDefault();}};T.prototype.onmouseout=function(e){if(T.sOpenTimeout){q.sap.clearDelayedCall(T.sOpenTimeout);T.sOpenTimeout=undefined;}if(!this.sCloseNowTimeout){this.sCloseNowTimeout=q.sap.delayedCall(this.getCloseDelay(),this,"closePopup");}this.restoreStandardTooltips();e.stopPropagation();e.preventDefault();};T.prototype.closePopup=function(){var p=this._getPopup();if(this.sCloseNowTimeout){q.sap.clearDelayedCall(this.sCloseNowTimeout);}this.sCloseNowTimeout=undefined;p.attachClosed(this.handleClosed,this);p.close();this.restoreStandardTooltips();};T.prototype.handleClosed=function(){this._getPopup().detachClosed(this.handleClosed,this);this.fireClosed();};T.prototype.openPopup=function(s){if(!this.getVisible()){return;}if(s.getTooltip()!=null){if(this.sCloseNowTimeout){q.sap.clearDelayedCall(this.sCloseNowTimeout);this.sCloseNowTimeout=null;return;}var p=this._getPopup();if(p.isOpen()&&p.getContent()==this){return;}sap.ui.getCore().getRenderManager().render(this,sap.ui.getCore().getStaticAreaRef(),true);var d=s.getDomRef();p.setContent(this);p.setPosition(this.getMyPosition(),this.getAtPosition(),d,this.getOffset(),this.getCollision());p.setDurations(this.getOpenDuration(),this.getCloseDuration());p.open();this.removeStandardTooltips(this._currentControl);}};T.prototype.removeStandardTooltips=function(){var d=this._currentControl.getDomRef();if(!this.aStoredTooltips){this.aStoredTooltips=[];}else{return;}var t="";while(d&&!(d===document)){t=d.title;if(t){this.aStoredTooltips.push({domref:d,tooltip:t});d.title="";}d=d.parentNode;}if(this._currentControl.getTooltipDomRefs){var D=this._currentControl.getTooltipDomRefs();for(var i=0;i<D.length;i++){d=D[i];if(d){t=d.title;if(t){this.aStoredTooltips.push({domref:d,tooltip:t});d.title="";}}}}};T.prototype.restoreStandardTooltips=function(){var p=this._getPopup();var e=p.getOpenState();if(e===O.OPEN||e===O.OPENING){return;}if(T.sOpenTimeout){return;}if(this.aStoredTooltips){for(var i=0;i<this.aStoredTooltips.length;i++){var d=this.aStoredTooltips[i].domref;d.title=this.aStoredTooltips[i].tooltip;}}this.aStoredTooltips=null;};T.prototype._setParent=T.prototype.setParent;T.prototype.setParent=function(p,a){var _=this._getPopup();if(_&&_.isOpen()){this.closePopup();}this._setParent.apply(this,arguments);};T.prototype.onkeydown=function(e){if(e.ctrlKey&&e.which==q.sap.KeyCodes.I){var E=q(e.target).control(0);if(E!=null){if(this._currentControl===E||!this.isStandardTooltip(E.getTooltip())){this.removeStandardTooltips(E);this.openPopup(this._currentControl);e.preventDefault();e.stopPropagation();}}}else if(e.which==q.sap.KeyCodes.ESCAPE){if(T.sOpenTimeout){q.sap.clearDelayedCall(T.sOpenTimeout);T.sOpenTimeout=undefined;}var w=this.oPopup&&this.oPopup.isOpen();this.closePopup();if(w){e.preventDefault();e.stopPropagation();}}};T.prototype._closeOrPreventOpen=function(){var p=this._getPopup();if(p.isOpen()){this.closePopup();}else if(T.sOpenTimeout){q.sap.clearDelayedCall(T.sOpenTimeout);T.sOpenTimeout=undefined;}};return T;});
sap.ui.predefine('sap/ui/core/VariantLayoutData',['./LayoutData','./library'],function(L,l){"use strict";var V=L.extend("sap.ui.core.VariantLayoutData",{metadata:{library:"sap.ui.core",aggregations:{multipleLayoutData:{type:"sap.ui.core.LayoutData",multiple:true,singularName:"multipleLayoutData"}}}});return V;});
sap.ui.predefine('sap/ui/core/date/Gregorian',['jquery.sap.global','./UniversalDate','sap/ui/core/Locale','sap/ui/core/LocaleData'],function(q,U,L,a){"use strict";var G=U.extend("sap.ui.core.date.Gregorian",{constructor:function(){this.oDate=this.createDate(Date,arguments);this.sCalendarType=sap.ui.core.CalendarType.Gregorian;}});G.UTC=function(){return Date.UTC.apply(Date,arguments);};G.now=function(){return Date.now();};return G;});
sap.ui.predefine('sap/ui/core/date/Islamic',['jquery.sap.global','./UniversalDate'],function(q,U){"use strict";var I=U.extend("sap.ui.core.date.Islamic",{constructor:function(){var a=arguments;if(a.length>1){a=f(a);}this.oDate=this.createDate(Date,a);this.sCalendarType=sap.ui.core.CalendarType.Islamic;}});I.UTC=function(){var a=f(arguments);return Date.UTC.apply(Date,a);};I.now=function(){return Date.now();};var B=1400,G=1721425.5,c=1948439.5,d=-42521587200000,O=86400000;var C=null;function t(o){var a=o.year,b=o.month,k=o.day,l,n,r,M,D,L,J;L=0;if((b+1)>2){L=j(a)?-1:-2;}J=(G-1)+(365*(a-1))+Math.floor((a-1)/4)+(-Math.floor((a-1)/100))+Math.floor((a-1)/400)+Math.floor((((367*(b+1))-362)/12)+L+k);J=Math.floor(J)+0.5;D=J-c;M=Math.floor(D/29.530588853);if(M<0){l=Math.floor(M/12)+1;n=M%12;if(n<0){n+=12;}r=D-m(l,n)+1;}else{M++;while(g(M)>D){M--;}l=Math.floor(M/12)+1;n=M%12;r=(D-g(12*(l-1)+n))+1;}return{day:r,month:n,year:l};}function e(o){var a=o.year,b=o.month,k=o.day,M=a<1?m(a,b):g(12*(a-1)+b),J=k+M+c-1,l=Math.floor(J-0.5)+0.5,D=l-G,Q=Math.floor(D/146097),n=h(D,146097),r=Math.floor(n/36524),s=h(n,36524),u=Math.floor(s/1461),v=h(s,1461),y=Math.floor(v/365),Y=(Q*400)+(r*100)+(u*4)+y,w,x,z,A,E,F,L,H;if(!(r==4||y==4)){Y++;}z=G+(365*(Y-1))+Math.floor((Y-1)/4)-(Math.floor((Y-1)/100))+Math.floor((Y-1)/400);A=l-z;E=(G-1)+(365*(Y-1))+Math.floor((Y-1)/4)-(Math.floor((Y-1)/100))+Math.floor((Y-1)/400)+Math.floor((739/12)+((j(Y)?-1:-2))+1);L=0;if(l<E){L=0;}else{L=j(Y)?1:2;}w=Math.floor((((A+L)*12)+373)/367);F=(G-1)+(365*(Y-1))+Math.floor((Y-1)/4)-(Math.floor((Y-1)/100))+Math.floor((Y-1)/400);H=0;if(w>2){H=j(Y)?-1:-2;}F+=Math.floor((((367*w)-362)/12)+H+1);x=(l-F)+1;return{day:x,month:w-1,year:Y};}function f(a){var b=Array.prototype.slice.call(a),o,k;o={year:a[0],month:a[1],day:a[2]!==undefined?a[2]:1};k=e(o);b[0]=k.year;b[1]=k.month;b[2]=k.day;return b;}function i(){var D,o;C={};D=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyDateFormat();o=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyDateCalendarCustomizing();o=o||[];if(!D&&!o.length){q.sap.log.info("No calendar customizations.");return;}if((D&&!o.length)||(!D&&o.length)){q.sap.log.warning("There is a inconsistency between customization data ["+JSON.stringify(o)+"] and the date format ["+D+"]. Calendar customization won't be used.");return;}o.forEach(function(E){if(E.dateFormat===D){var a=p(E.gregDate);var b=new Date(Date.UTC(a.year,a.month-1,a.day));var M=b.getTime();var k=(M-d)/O;a=p(E.islamicMonthStart);var l=(a.year-1)*12+a.month-1;C[l]=k;}});q.sap.log.info("Working with date format: ["+D+"] and customization: "+JSON.stringify(o));}function p(D){return{year:parseInt(D.substr(0,4),10),month:parseInt(D.substr(4,2),10),day:parseInt(D.substr(6,2),10)};}function g(a){if(!C){i();}var b=C[a];if(!b){var y=Math.floor(a/12)+1;var k=a%12;b=m(y,k);}return b;}function m(y,a){return Math.ceil(29.5*a)+(y-1)*354+Math.floor((3+11*y)/30.0);}function h(a,b){return a-(b*Math.floor(a/b));}function j(y){return!(y%400)||(!(y%4)&&!!(y%100));}I.prototype._getIslamic=function(){return t({day:this.oDate.getDate(),month:this.oDate.getMonth(),year:this.oDate.getFullYear()});};I.prototype._setIslamic=function(o){var a=e(o);return this.oDate.setFullYear(a.year,a.month,a.day);};I.prototype._getUTCIslamic=function(){return t({day:this.oDate.getUTCDate(),month:this.oDate.getUTCMonth(),year:this.oDate.getUTCFullYear()});};I.prototype._setUTCIslamic=function(o){var a=e(o);return this.oDate.setUTCFullYear(a.year,a.month,a.day);};I.prototype.getDate=function(D){return this._getIslamic().day;};I.prototype.getMonth=function(){return this._getIslamic().month;};I.prototype.getYear=function(){return this._getIslamic().year-B;};I.prototype.getFullYear=function(){return this._getIslamic().year;};I.prototype.setDate=function(D){var o=this._getIslamic();o.day=D;return this._setIslamic(o);};I.prototype.setMonth=function(M,D){var o=this._getIslamic();o.month=M;if(D!==undefined){o.day=D;}return this._setIslamic(o);};I.prototype.setYear=function(y){var o=this._getIslamic();o.year=y+B;return this._setIslamic(o);};I.prototype.setFullYear=function(y,M,D){var o=this._getIslamic();o.year=y;if(M!==undefined){o.month=M;}if(D!==undefined){o.day=D;}return this._setIslamic(o);};I.prototype.getUTCDate=function(D){return this._getUTCIslamic().day;};I.prototype.getUTCMonth=function(){return this._getUTCIslamic().month;};I.prototype.getUTCFullYear=function(){return this._getUTCIslamic().year;};I.prototype.setUTCDate=function(D){var o=this._getUTCIslamic();o.day=D;return this._setUTCIslamic(o);};I.prototype.setUTCMonth=function(M,D){var o=this._getUTCIslamic();o.month=M;if(D!==undefined){o.day=D;}return this._setUTCIslamic(o);};I.prototype.setUTCFullYear=function(y,M,D){var o=this._getUTCIslamic();o.year=y;if(M!==undefined){o.month=M;}if(D!==undefined){o.day=D;}return this._setUTCIslamic(o);};return I;});
sap.ui.predefine('sap/ui/core/date/Japanese',['jquery.sap.global','./UniversalDate'],function(q,U,L){"use strict";var J=U.extend("sap.ui.core.date.Japanese",{constructor:function(){var A=arguments;if(A.length>1){A=b(A);}this.oDate=this.createDate(Date,A);this.sCalendarType=sap.ui.core.CalendarType.Japanese;}});J.UTC=function(){var A=b(arguments);return Date.UTC.apply(Date,A);};J.now=function(){return Date.now();};function t(g){var e=U.getEraByDate(sap.ui.core.CalendarType.Japanese,g.year,g.month,g.day),E=U.getEraStartDate(sap.ui.core.CalendarType.Japanese,e).year;return{era:e,year:g.year-E+1,month:g.month,day:g.day};}function a(j){var e=U.getEraStartDate(sap.ui.core.CalendarType.Japanese,j.era).year;return{year:e+j.year-1,month:j.month,day:j.day};}function b(A){var j,g,e,y=A[0];if(typeof y=="number"){if(y>=100){return A;}else{e=U.getCurrentEra(sap.ui.core.CalendarType.Japanese);y=[e,y];}}else if(!Array.isArray(y)){y=[];}j={era:y[0],year:y[1],month:A[1],day:A[2]!==undefined?A[2]:1};g=a(j);A[0]=g.year;return A;}J.prototype._getJapanese=function(){var g={year:this.oDate.getFullYear(),month:this.oDate.getMonth(),day:this.oDate.getDate()};return t(g);};J.prototype._setJapanese=function(j){var g=a(j);return this.oDate.setFullYear(g.year,g.month,g.day);};J.prototype._getUTCJapanese=function(){var g={year:this.oDate.getUTCFullYear(),month:this.oDate.getUTCMonth(),day:this.oDate.getUTCDate()};return t(g);};J.prototype._setUTCJapanese=function(j){var g=a(j);return this.oDate.setUTCFullYear(g.year,g.month,g.day);};J.prototype.getYear=function(){return this._getJapanese().year;};J.prototype.getFullYear=function(){return this._getJapanese().year;};J.prototype.getEra=function(){return this._getJapanese().era;};J.prototype.getUTCFullYear=function(){return this._getUTCJapanese().year;};J.prototype.getUTCEra=function(){return this._getUTCJapanese().era;};J.prototype.setYear=function(y){var j=this._getJapanese();j.year=y;return this._setJapanese(j);};J.prototype.setFullYear=function(y,m,d){var j=this._getJapanese();j.year=y;if(m!==undefined){j.month=m;}if(d!==undefined){j.day=d;}return this._setJapanese(j);};J.prototype.setEra=function(e,y,m,d){var E=U.getEraStartDate(sap.ui.core.CalendarType.Japanese,e),j=t(E);if(y!==undefined){j.year=y;}if(m!==undefined){j.month=m;}if(d!==undefined){j.day=d;}return this._setJapanese(j);};J.prototype.setUTCFullYear=function(y,m,d){var j=this._getUTCJapanese();j.year=y;if(m!==undefined){j.month=m;}if(d!==undefined){j.day=d;}return this._setUTCJapanese(j);};J.prototype.setUTCEra=function(e,y,m,d){var E=U.getEraStartDate(sap.ui.core.CalendarType.Japanese,e),j=t(E);if(y!==undefined){j.year=y;}if(m!==undefined){j.month=m;}if(d!==undefined){j.day=d;}return this._setUTCJapanese(j);};J.prototype.getWeek=function(){return U.getWeekByDate(this.sCalendarType,this.oDate.getFullYear(),this.getMonth(),this.getDate());};J.prototype.getUTCWeek=function(){return U.getWeekByDate(this.sCalendarType,this.oDate.getUTCFullYear(),this.getUTCMonth(),this.getUTCDate());};return J;});
sap.ui.predefine('sap/ui/core/date/Persian',['jquery.sap.global','./UniversalDate'],function(q,U){"use strict";var P=U.extend("sap.ui.core.date.Persian",{constructor:function(){var a=arguments;if(a.length>1){a=e(a);}this.oDate=this.createDate(Date,a);this.sCalendarType=sap.ui.core.CalendarType.Persian;}});P.UTC=function(){var a=e(arguments);return Date.UTC.apply(Date,a);};P.now=function(){return Date.now();};var B=1300;function t(G){var j=l(G.year,G.month+1,G.day);return h(j);}function c(a){var j=g(a.year,a.month+1,a.day);return m(j);}function e(a){var G=Array.prototype.slice.call(a),b,d;if(typeof a[0]!=="number"||typeof a[1]!=="number"||(a[2]!==undefined&&typeof a[2]!="number")){G[0]=NaN;G[1]=NaN;G[2]=NaN;return G;}b={year:a[0],month:a[1],day:a[2]!==undefined?a[2]:1};d=c(b);G[0]=d.year;G[1]=d.month;G[2]=d.day;return G;}function f(j){var b=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],a=b.length,d=j+621,k=-14,r=b[0],s,u,v,w,x,n,i;for(i=1;i<a;i+=1){s=b[i];u=s-r;if(j<s){break;}k=k+o(u,33)*8+o(p(u,33),4);r=s;}n=j-r;k=k+o(n,33)*8+o(p(n,33)+3,4);if(p(u,33)===4&&u-n===4){k+=1;}w=o(d,4)-o((o(d,100)+1)*3,4)-150;x=20+k-w;if(u-n<6){n=n-u+o(u+4,33)*33;}v=p(p(n+1,33)-1,4);if(v===-1){v=4;}return{leap:v,gy:d,march:x};}function g(j,a,b){while(a<1){a+=12;j--;}while(a>12){a-=12;j++;}var r=f(j);return l(r.gy,3,r.march)+(a-1)*31-o(a,7)*(a-7)+b-1;}function h(j){var a=m(j).year,b=a-621,r=f(b),d=l(a,3,r.march),i,n,k;k=j-d;if(k>=0){if(k<=185){n=1+o(k,31);i=p(k,31)+1;return{year:b,month:n-1,day:i};}else{k-=186;}}else{b-=1;k+=179;if(r.leap===1){k+=1;}}n=7+o(k,30);i=p(k,30)+1;return{year:b,month:n-1,day:i};}function l(a,b,i){var d=o((a+o(b-8,6)+100100)*1461,4)+o(153*p(b+9,12)+2,5)+i-34840408;d=d-o(o(a+100100+o(b-8,6),100)*3,4)+752;return d;}function m(a){var j,i,b,d,k;j=4*a+139361631;j=j+o(o(4*a+183187720,146097)*3,4)*4-3908;i=o(p(j,1461),4)*5+308;b=o(p(i,153),5)+1;d=p(o(i,153),12)+1;k=o(j,1461)-100100+o(8-d,6);return{year:k,month:d-1,day:b};}function o(a,b){return~~(a/b);}function p(a,b){return a-~~(a/b)*b;}P.prototype._getPersian=function(){return t({day:this.oDate.getDate(),month:this.oDate.getMonth(),year:this.oDate.getFullYear()});};P.prototype._setPersian=function(a){var G=c(a);return this.oDate.setFullYear(G.year,G.month,G.day);};P.prototype._getUTCPersian=function(){return t({day:this.oDate.getUTCDate(),month:this.oDate.getUTCMonth(),year:this.oDate.getUTCFullYear()});};P.prototype._setUTCPersian=function(a){var G=c(a);return this.oDate.setUTCFullYear(G.year,G.month,G.day);};P.prototype.getDate=function(d){return this._getPersian().day;};P.prototype.getMonth=function(){return this._getPersian().month;};P.prototype.getYear=function(){return this._getPersian().year-B;};P.prototype.getFullYear=function(){return this._getPersian().year;};P.prototype.setDate=function(d){var a=this._getPersian();a.day=d;return this._setPersian(a);};P.prototype.setMonth=function(M,d){var a=this._getPersian();a.month=M;if(d!==undefined){a.day=d;}return this._setPersian(a);};P.prototype.setYear=function(y){var a=this._getPersian();a.year=y+B;return this._setPersian(a);};P.prototype.setFullYear=function(y,M,d){var a=this._getPersian();a.year=y;if(M!==undefined){a.month=M;}if(d!==undefined){a.day=d;}return this._setPersian(a);};P.prototype.getUTCDate=function(d){return this._getUTCPersian().day;};P.prototype.getUTCMonth=function(){return this._getUTCPersian().month;};P.prototype.getUTCFullYear=function(){return this._getUTCPersian().year;};P.prototype.setUTCDate=function(d){var a=this._getUTCPersian();a.day=d;return this._setUTCPersian(a);};P.prototype.setUTCMonth=function(M,d){var a=this._getUTCPersian();a.month=M;if(d!==undefined){a.day=d;}return this._setUTCPersian(a);};P.prototype.setUTCFullYear=function(y,M,d){var a=this._getUTCPersian();a.year=y;if(M!==undefined){a.month=M;}if(d!==undefined){a.day=d;}return this._setUTCPersian(a);};return P;});
sap.ui.predefine('sap/ui/core/format/FileSizeFormat',['jquery.sap.global','sap/ui/base/Object','sap/ui/core/Locale','sap/ui/core/LocaleData','sap/ui/core/format/NumberFormat'],function(q,B,L,a,N){"use strict";var _=[{binaryFactor:1,decimalFactor:1,decimalUnit:"Byte",binaryUnit:"Byte"},{binaryFactor:1,decimalFactor:1,decimalUnit:"Bytes",binaryUnit:"Bytes"},{binaryFactor:Math.pow(2,10),decimalFactor:1e3,decimalUnit:"Kilobyte",binaryUnit:"Kibibyte"},{binaryFactor:Math.pow(2,20),decimalFactor:1e6,decimalUnit:"Megabyte",binaryUnit:"Mebibyte"},{binaryFactor:Math.pow(2,30),decimalFactor:1e9,decimalUnit:"Gigabyte",binaryUnit:"Gibibyte"},{binaryFactor:Math.pow(2,40),decimalFactor:1e12,decimalUnit:"Terabyte",binaryUnit:"Tebibyte"},{binaryFactor:Math.pow(2,50),decimalFactor:1e15,decimalUnit:"Petabyte",binaryUnit:"Pebibyte"},{binaryFactor:Math.pow(2,60),decimalFactor:1e18,decimalUnit:"Exabyte",binaryUnit:"Exbibyte"},{binaryFactor:Math.pow(2,70),decimalFactor:1e21,decimalUnit:"Zettabyte",binaryUnit:"Zebibyte"},{binaryFactor:Math.pow(2,80),decimalFactor:1e24,decimalUnit:"Yottabyte",binaryUnit:"Yobibyte"}];var F=B.extend("sap.ui.core.format.FileSizeFormat",{constructor:function(f){throw new Error();}});F.getInstance=function(f,l){return this.createInstance(f,l);};F.createInstance=function(f,l){var o=Object.create(this.prototype);if(f instanceof L){l=f;f=undefined;}if(!l){l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();}o.oLocale=l;o.oLocaleData=a.getInstance(l);o.oNumberFormat=N.getFloatInstance(f,l);o.oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.core",l.toString());o.bBinary=f?!!f.binaryFilesize:false;return o;};F.prototype.format=function(v){var V=null,o;if(typeof v=="string"){try{if(/^\s*[\+-]?0[xX]/.test(v)){V=parseInt(v,16);}else{V=parseFloat(v,10);}}catch(e){}}else if(typeof v=="number"){V=v;}if(V===null){return"NaN";}o=V;var u=c(V,this.bBinary),s=this.oNumberFormat.format(V/u.factor);if(!u.noSecondRounding){V=this.oNumberFormat.parse(s);if((this.bBinary&&Math.abs(V)>=1024)||(!this.bBinary&&Math.abs(V)>=1000)){u=c(V*u.factor,this.bBinary);s=this.oNumberFormat.format(o/u.factor);}}return this.oBundle.getText("FileSize."+u.unit,s);};F.prototype.parse=function(v){var u,b,V,e;if(!v){return NaN;}for(var i=0;i<_.length;i++){u=_[i];b=d(this.oBundle,u.decimalUnit,v);if(b){e=false;break;}else{b=d(this.oBundle,u.binaryUnit,v);if(b){e=true;break;}}}if(!b){b=v;e=false;u=_[0];}V=this.oNumberFormat.parse(b);return V*(e?u.binaryFactor:u.decimalFactor);};function c(f,e){var b=Math.abs(f),u,g;for(var i=_.length-1;i>=2;i--){u=_[i];g=e?u.binaryFactor:u.decimalFactor;if(b>=g){return{factor:g,unit:e?u.binaryUnit:u.decimalUnit,noSecondRounding:(i==_.length-1)};}}return{factor:1,unit:_[b>=2?1:0].decimalUnit};}function d(b,u,v){var p=b.getText("FileSize."+u),e;if(q.sap.startsWith(p,"{0}")){e=p.substr(3,p.length);if(q.sap.endsWithIgnoreCase(v,e)){return v.substr(0,v.length-e.length);}}else if(q.sap.endsWith(p,"{0}")){e=p.substr(0,p.length-3);if(q.sap.startsWithIgnoreCase(v,e)){return v.substr(e.length,v.length);}}else{e=p.split("{0}");if(e.length==2&&q.sap.startsWithIgnoreCase(v,e[0])&&q.sap.endsWithIgnoreCase(v,e[1])){return v.substr(e[0].length,v.length-e[1].length);}}return null;}return F;});
sap.ui.predefine('sap/ui/core/message/MessageMixin',[],function(){"use strict";var M=function(){this.refreshDataState=r;};function r(n,d){if(d.getChanges().messages){var m=d.getMessages();var l=sap.ui.core.LabelEnablement.getReferencingLabels(this);if(l&&l.length>0){var L=l[0];m.forEach(function(a){var b=sap.ui.getCore().byId(L);if(b.getMetadata().isInstanceOf("sap.ui.core.Label")&&b.getText){a.setAdditionalText(b.getText());}else{jQuery.sap.log.warning("sap.ui.core.message.Message: Can't create labelText."+"Label with id "+L+" is no valid sap.ui.core.Label.",this);}}.bind(this));}var o=sap.ui.getCore().getMessageManager().getMessageModel();o.checkUpdate();if(m&&m.length>0){this.setValueState(m[0].type);this.setValueStateText(m[0].message);}else{this.setValueState(sap.ui.core.ValueState.None);this.setValueStateText('');}}}return M;},true);
sap.ui.predefine('sap/ui/core/mvc/HTMLView',['jquery.sap.global','sap/ui/base/ManagedObject','sap/ui/core/DeclarativeSupport','sap/ui/core/library','sap/ui/model/resource/ResourceModel','./View'],function(q,M,D,l,R,V){"use strict";var a=l.mvc.ViewType;var H=V.extend("sap.ui.core.mvc.HTMLView",{metadata:{library:"sap.ui.core"}});sap.ui.htmlview=function(i,v){return sap.ui.view(i,v,a.HTML);};H._sType=a.HTML;H.asyncSupport=true;H._mTemplates={};H._mAllowedSettings={"viewName":true,"controller":true,"viewContent":true,"controllerName":true,"resourceBundleName":true,"resourceBundleUrl":true,"resourceBundleLocale":true,"resourceBundleAlias":true};H._getTemplate=function(t,o){var u=this._getViewUrl(t);var h=this._mTemplates[u];if(!h){h=this._loadTemplate(t,o);if(o&&o.async){var b=this;return h.then(function(_){b._mTemplates[u]=_;return Promise.resolve(_);});}else{this._mTemplates[u]=h;}}return o.async?Promise.resolve(h):h;};H.prototype.getControllerName=function(){return this._controllerName;};H._getViewUrl=function(t){return q.sap.getModulePath(t,".view.html");};H._loadTemplate=function(t,o){var r=q.sap.getResourceName(t,".view.html");return q.sap.loadResource(r,o);};H.prototype.initViewSettings=function(s){if(!s){throw new Error("mSettings must be given");}if(s.viewName&&s.viewContent){throw new Error("View name and view content are given. There is no point in doing this, so please decide.");}else if(!s.viewName&&!s.viewContent){throw new Error("Neither view name nor view content is given. One of them is required.");}var t=this;function I(){t._oTemplate=document.createElement("div");if(typeof h==="string"){t._oTemplate.innerHTML=h;}else{var n=h;var f=document.createDocumentFragment();for(var i=0;i<n.length;i++){f.appendChild(n.item(i));}t._oTemplate.appendChild(f);}var m=t._oTemplate.getElementsByTagName("template")[0];var p=t.getMetadata().getAllProperties();if(m){q.each(m.attributes,function(c,A){var N=D.convertAttributeToSettingName(A.name,t.getId());var v=A.value;var P=p[N];if(!s[N]){if(P){s[N]=D.convertValueToType(D.getPropertyDataType(P),v);}else if(H._mAllowedSettings[N]){s[N]=v;}}});t._oTemplate=m;}if(t._oTemplate.content){var f=t._oTemplate.content;t._oTemplate=document.createElement("div");t._oTemplate.appendChild(f);}if(s.controllerName){t._controllerName=s.controllerName;}if((s.resourceBundleName||s.resourceBundleUrl)&&(!s.models||!s.models[s.resourceBundleAlias])){var b=new R({bundleName:s.resourceBundleName,bundleUrl:s.resourceBundleUrl,bundleLocale:s.resourceBundleLocale});t.setModel(b,s.resourceBundleAlias);}}var h=s.viewContent;if(!h){h=H._getTemplate(s.viewName,{async:s.async});}if(s.async){return h.then(function(_){h=_;I();});}I();};H.prototype.onControllerConnected=function(c){var t=this;M.runWithPreprocessors(function(){D.compile(t._oTemplate,t);},{settings:this._fnSettingsPreprocessor});};H.prototype.exit=function(){this._oTemplate=null;V.prototype.exit.call(this);if(this._connectedControls){for(var i=0;i<this._connectedControls.length;i++){this._connectedControls[i].destroy();}this._connectedControls=null;}};H.prototype.connectControl=function(c){this._connectedControls=this._connectedControls||[];this._connectedControls.push(c);};return H;});
sap.ui.predefine('sap/ui/core/mvc/HTMLViewRenderer',['jquery.sap.global','./ViewRenderer'],function(q,V){"use strict";var H={};H.render=function(r,c){var a=r;a.write("<div");a.writeControlData(c);a.addClass("sapUiView");a.addClass("sapUiHTMLView");V.addDisplayClass(a,c);if(c.getWidth()){a.addStyle("width",c.getWidth());}if(c.getHeight()){a.addStyle("height",c.getHeight());}a.writeStyles();a.writeClasses();a.write(">");if(c._oTemplate){var h=c._oTemplate.innerHTML;var b=c.getContent();var d=[];var e=function(c){var t=H._getHTML(a,c,h);if(t){h=t;}else{d.push(c);}};if(b){if(Array.isArray(b)){for(var i=0;i<b.length;i++){e(b[i]);}}else if(b){e(b);}}a.write(h);for(var i=0;i<d.length;i++){a.renderControl(d[i]);}}a.write("</div>");};H._getHTML=function(r,c,h){var i=c.getId();h=h.replace(/(<div)/gi,"\n$1");var a=new RegExp('<div.*?data-sap-ui-id="'+i+'".*?></div>',"gi");var m=a.exec(h);if(m){h=h.replace(m[0],r.getHTML(c));return h;}else{return"";}};return H;},true);
sap.ui.predefine('sap/ui/core/mvc/JSONView',['jquery.sap.global','sap/ui/base/ManagedObject','sap/ui/core/library','sap/ui/model/resource/ResourceModel','./View'],function(q,M,l,R,V){"use strict";var a=l.mvc.ViewType;var J=V.extend("sap.ui.core.mvc.JSONView",{metadata:{library:"sap.ui.core"}});sap.ui.jsonview=function(i,v){return sap.ui.view(i,v,a.JSON);};J._sType=a.JSON;J.asyncSupport=true;J.prototype.initViewSettings=function(s){if(!s){throw new Error("mSettings must be given");}if(s.viewName&&s.viewContent){throw new Error("View name and view content are given. There is no point in doing this, so please decide.");}else if(!s.viewName&&!s.viewContent){throw new Error("Neither view name nor view content is given. One of them is required.");}var t=this;var i=function(){if((t._oJSONView.resourceBundleName||t._oJSONView.resourceBundleUrl)&&(!s.models||!s.models[t._oJSONView.resourceBundleAlias])){var m=new R({bundleName:t._oJSONView.resourceBundleName,bundleUrl:t._oJSONView.resourceBundleUrl});t.setModel(m,t._oJSONView.resourceBundleAlias);}};if(s.viewName){if(s.async){return this._loadTemplate(s.viewName,{async:true}).then(i);}else{this._loadTemplate(s.viewName);i();}}else if(s.viewContent){this.mProperties["viewContent"]=s.viewContent;if(typeof s.viewContent==="string"){this._oJSONView=q.parseJSON(s.viewContent);if(!this._oJSONView){throw new Error("error when parsing viewContent: "+s.viewContent);}}else if(typeof s.viewContent==="object"){this._oJSONView=s.viewContent;}else{throw new Error("viewContent must be a JSON string or object, but is a "+(typeof s.viewContent));}if(s.async){return Promise.resolve().then(i);}else{i();}}};J.prototype.onControllerConnected=function(c){var t=this;M.runWithPreprocessors(function(){t.applySettings({content:t._oJSONView.content},c);},{id:function(i){return t.createId(i);},settings:function(s){var m=this.getMetadata(),v=m.getJSONKeys(),k,o,K;for(k in s){if((K=v[k])!==undefined){o=s[k];switch(K._iKind){case 3:if(typeof o==="string"){s[k]=t.createId(o);}break;case 5:if(typeof o==="string"){s[k]=V._resolveEventHandler(o,c);}break;}}}}});};J.prototype._loadTemplate=function(t,o){var r=q.sap.getResourceName(t,".view.json");if(!o||!o.async){this._oJSONView=q.sap.loadResource(r);}else{var b=this;return q.sap.loadResource(r,o).then(function(j){b._oJSONView=j;});}};J.prototype.getControllerName=function(){return this._oJSONView.controllerName;};return J;});
sap.ui.predefine('sap/ui/core/mvc/JSONViewRenderer',['./ViewRenderer','sap/ui/core/Control'],function(V,C){"use strict";var J={};J.render=function(r,c){var a=r;a.write("<div");a.writeControlData(c);a.addClass("sapUiView");a.addClass("sapUiJSONView");V.addDisplayClass(a,c);if(c.getWidth()){a.addStyle("width",c.getWidth());}if(c.getHeight()){a.addStyle("height",c.getHeight());}a.writeStyles();a.writeClasses();a.write(">");var b=c.getContent();if(b){if(b instanceof Array&&!(b instanceof C)){for(var i=0;i<b.length;i++){a.renderControl(b[i]);}}else{a.renderControl(c.getContent());}}a.write("</div>");};return J;},true);
sap.ui.predefine('sap/ui/core/mvc/TemplateView',['jquery.sap.global','sap/ui/core/library','./View'],function(q,l,V){"use strict";var a=l.mvc.ViewType;var T=V.extend("sap.ui.core.mvc.TemplateView",{metadata:{library:"sap.ui.core"}});(function(){sap.ui.templateview=function(i,v){return sap.ui.view(i,v,a.Template);};T._sType=a.Template;T.prototype.getControllerName=function(){return this._sControllerName;};T._getViewUrl=function(t){return q.sap.getModulePath(t,".view.tmpl");};T.prototype.initViewSettings=function(s){if(!s){throw new Error("mSettings must be given");}if(!s.viewName){throw new Error("No view name is given.");}this._oTemplate=sap.ui.template({id:this.getId(),src:T._getViewUrl(s.viewName)});this._sControllerName=this._oTemplate._sControllerName;this._oTemplate=this._oTemplate.createControl(undefined,undefined,this);this.addContent(this._oTemplate);};}());return T;});
sap.ui.predefine('sap/ui/core/mvc/TemplateViewRenderer',['./ViewRenderer'],function(V){"use strict";var T={};T.render=function(r,c){var a=r;a.write("<div");a.writeControlData(c);a.addClass("sapUiView");a.addClass("sapUiTmplView");V.addDisplayClass(a,c);a.addStyle("width",c.getWidth());a.addStyle("height",c.getHeight());a.writeStyles();a.writeClasses();a.write(">");a.renderControl(c._oTemplate);a.write("</div>");};return T;},true);
sap.ui.predefine('sap/ui/core/mvc/XMLView.designtime',[],function(){"use strict";return{aggregations:{content:{domRef:":sap-domref"}}};},false);
sap.ui.predefine('sap/ui/core/search/OpenSearchProvider',['jquery.sap.global','sap/ui/core/library','./SearchProvider','jquery.sap.encoder'],function(q,l,S){"use strict";var O=S.extend("sap.ui.core.search.OpenSearchProvider",{metadata:{library:"sap.ui.core",properties:{suggestUrl:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},suggestType:{type:"string",group:"Misc",defaultValue:'json'}}}});O.prototype.suggest=function(v,c){var u=this.getSuggestUrl();if(!u){return;}u=u.replace("{searchTerms}",q.sap.encodeURL(v));var t=this.getSuggestType();var s;if(t&&t.toLowerCase()==="xml"){t="xml";s=function(d){var x=q(d);var i=x.find("Text");var a=[];i.each(function(){a.push(q(this).text());});c(v,a);};}else{t="json";s=function(d){c(v,d[1]);};}q.ajax({url:u,dataType:t,success:s,error:function(X,a,e){q.sap.log.fatal("The following problem occurred: "+a,X.responseText+","+X.status);}});};return O;});
sap.ui.predefine('sap/ui/core/search/SearchProvider',['jquery.sap.global','sap/ui/core/Element','sap/ui/core/library'],function(q,E,l){"use strict";var S=E.extend("sap.ui.core.search.SearchProvider",{metadata:{library:"sap.ui.core",properties:{icon:{type:"string",group:"Misc",defaultValue:null}}}});S.prototype.suggest=function(v,c){q.sap.log.warning("sap.ui.core.search.SearchProvider is the abstract base class for all SearchProviders. Do not create instances of this class, but use a concrete sub class instead.");};return S;});
sap.ui.predefine('sap/ui/core/util/Export',['jquery.sap.global','sap/ui/core/Control','./ExportColumn','./ExportRow','./ExportType','./File'],function(q,C,E,a,b,F){'use strict';function w(f,o){if(f){return function(){return f.apply(o,arguments);};}else{return f;}}function p(m){q.sap.log.warning("Usage of deprecated jQuery Promise method: '"+m+"'. "+"Please use the standard Promise methods 'then' / 'catch' instead!","","sap.ui.core.util.Export");}function c(P,o){var O=new Promise(P);o=o||O;var r=false,R=false;O.then(function(v){r=true;return v;},function(e){R=true;throw e;});var m={then:O.then,"catch":O["catch"]};function f(e){e.then=function(s,g){var A=[w(s,o),w(g,o)];return f(m.then.apply(e,A),o);};e["catch"]=function(g){var A=[w(g,o)];return f(m["catch"].apply(e,A),o);};[{jq:"done",es6:"then"},{jq:"fail",es6:"catch"},{jq:"always",es6:"then"}].forEach(function(g){e[g.jq]=function(){p(g.jq);var h=null;Array.prototype.concat.apply([],arguments).forEach(function(i){var W=w(i,o);var j=function(v){W.apply(this,arguments);return v;};var A=[j];if(g.jq==="always"){A.push(j);}if(!h){h=m[g.es6].apply(e,A);}else{h=h[g.es6].apply(h,A);}});return f(h,o);};});e.pipe=function(D,g){p("pipe");return e.then(D,g);};e.state=function(){p("state");if(r){return"resolved";}else if(R){return"rejected";}else{return"pending";}};return e;}return f(O);}var d=C.extend('sap.ui.core.util.Export',{metadata:{publicMethods:["generate","saveFile"],library:"sap.ui.core",aggregations:{exportType:{type:'sap.ui.core.util.ExportType',multiple:false},columns:{type:'sap.ui.core.util.ExportColumn',multiple:true,bindable:'bindable'},rows:{type:'sap.ui.core.util.ExportRow',multiple:true,bindable:'bindable'},_template:{type:'sap.ui.core.util.ExportRow',multiple:false,visibility:'hidden'}}}});d.getMetadata().getAggregation("rows")._doesNotRequireFactory=true;d.prototype.init=function(){this._oPromise=null;this._fnResolvePromise=null;this._oRowBindingArgs=null;};d.prototype.exit=function(){delete this._oPromise;delete this._fnResolvePromise;delete this._oRowBindingArgs;};d.prototype._createRowTemplate=function(){var t=new a(this.getId()+"-row"),e=this.getColumns();for(var i=0,l=e.length;i<l;i++){var o=e[i].getTemplate();if(o){t.addCell(o.clone("col"+i));}}return t;};d.prototype.bindAggregation=function(n,B){if(n==='rows'){this._oRowBindingArgs=arguments;return this;}return C.prototype.bindAggregation.apply(this,arguments);};d.prototype.updateRows=function(r){if(r==='change'&&this._fnResolvePromise){var s=this.getExportType()._generate(this);this.destroyAggregation('_template');this.unbindAggregation('rows');this._fnResolvePromise(s);this._oPromise=null;this._fnResolvePromise=null;}};d.prototype.generate=function(){var t=this;if(!this._oPromise){this._oPromise=c(function(r,e){t._fnResolvePromise=r;if(!t.hasModel()){e("Generate is not possible beause no model was set.");}else{var T=t._createRowTemplate();t.setAggregation('_template',T,true);C.prototype.bindAggregation.apply(t,t._oRowBindingArgs);if(t.getBinding("rows")){t.getBinding("rows").getContexts(0,t.getBinding("rows").getLength());}}},this);}return this._oPromise;};d.prototype.saveFile=function(f){return this.generate().then(function(s){var e=this.getExportType();F.save(s,f||"data",e.getFileExtension(),e.getMimeType(),e.getCharset(),e.getByteOrderMark());});};return d;});
sap.ui.predefine('sap/ui/core/util/ExportCell',['sap/ui/core/Element'],function(E){'use strict';var a=E.extend('sap.ui.core.util.ExportCell',{metadata:{library:"sap.ui.core",properties:{content:'string'}}});return a;});
sap.ui.predefine('sap/ui/core/util/ExportColumn',['sap/ui/base/ManagedObject','./ExportCell'],function(M,E){'use strict';var a=M.extend("sap.ui.core.util.ExportColumn",{metadata:{library:"sap.ui.core",properties:{name:"string"},aggregations:{template:{type:"sap.ui.core.util.ExportCell",multiple:false}}}});return a;});
sap.ui.predefine('sap/ui/core/util/ExportRow',['sap/ui/base/ManagedObject','./ExportCell'],function(M,E){'use strict';var a=M.extend("sap.ui.core.util.ExportRow",{metadata:{library:"sap.ui.core",aggregations:{cells:{type:"sap.ui.core.util.ExportCell",multiple:true}}}});return a;});
sap.ui.predefine('sap/ui/core/util/ExportType',['jquery.sap.global','sap/ui/base/ManagedObject'],function(q,M){'use strict';var E=M.extend('sap.ui.core.util.ExportType',{metadata:{library:"sap.ui.core",properties:{fileExtension:'string',mimeType:'string',charset:'string',byteOrderMark:{type:'boolean',defaultValue:undefined}}}});E.prototype.init=function(){this._oExport=null;};E.prototype._generate=function(e){this._oExport=e;var c=this.generate();this._oExport=null;return c;};E.prototype.generate=function(){return'';};E.prototype.getColumnCount=function(){if(this._oExport){return this._oExport.getColumns().length;}return 0;};E.prototype.getRowCount=function(){if(this._oExport&&this._oExport.getBinding("rows")){return this._oExport.getBinding("rows").getLength();}return 0;};E.prototype.columnGenerator=function(){var i=0,c=this._oExport.getColumns(),C=c.length;return{next:function(){if(i<C){var I=i;i++;return{value:{index:I,name:c[I].getName()},done:false};}else{return{value:undefined,done:true};}}};};E.prototype.cellGenerator=function(){var i=0,r=this._oExport.getAggregation('_template'),c=r.getCells(),C=c.length;return{next:function(){if(i<C){var I=i;i++;var m={};c[I].getCustomData().forEach(function(o){m[o.getKey()]=o.getValue();});return{value:{index:I,content:c[I].getContent(),customData:m},done:false};}else{return{value:undefined,done:true};}}};};E.prototype.rowGenerator=function(){var t=this,i=0,e=this._oExport,b=e.getBinding("rows"),B=e.getBindingInfo("rows"),c=b.getContexts(0,b.getLength()),C=c.length,r=e.getAggregation('_template');return{next:function(){if(i<C){var I=i;i++;r.setBindingContext(c[I],B.model);return{value:{index:I,cells:t.cellGenerator()},done:false};}else{return{value:undefined,done:true};}}};};return E;});
sap.ui.predefine('sap/ui/core/util/ExportTypeCSV',['./ExportType'],function(E){'use strict';var r=/[\r\n"\t;,]/;var a=/^[=\+\-@](?![\d.,]+(?:e[\+-]?\d+)?$)/i;var C=E.extend('sap.ui.core.util.ExportTypeCSV',{metadata:{library:"sap.ui.core",properties:{separatorChar:{type:'string',defaultValue:','}}}});C.prototype.setSeparatorChar=function(s){var s=this.validateProperty('separatorChar',s);if(s.length>1){throw new Error("Value of property \"separatorChar\" needs to be exactly one character or empty. "+"\""+s+"\" is "+s.length+" characters long.");}return this.setProperty('separatorChar',s);};C.prototype.init=function(){this.setProperty('fileExtension','csv',true);this.setProperty('mimeType','text/csv',true);this.setProperty('charset','utf-8',true);};C.prototype.escapeContent=function(v){if(!v){return v;}if(a.test(v)){v="'"+v;}var c=v.indexOf(this.getSeparatorChar())>-1;if(c||r.test(v)){v=v.replace(/"/g,'""');v='"'+v+'"';}return v;};C.prototype.generate=function(){var b=[];this.generateColumns(b);this.generateRows(b);return b.join('\r\n');};C.prototype.generateColumns=function(b){var c=[],o=this.columnGenerator(),d;while(!(d=o.next()).done){c.push(this.escapeContent(d.value.name));}b.push(c.join(this.getSeparatorChar()));};C.prototype.generateRows=function(b){var R=this.rowGenerator(),o;while(!(o=R.next()).done){var c=[];var d=o.value.cells,e;while(!(e=d.next()).done){c.push(this.escapeContent(e.value.content));}b.push(c.join(this.getSeparatorChar()));}};return C;});
sap.ui.predefine('sap/ui/core/util/File',['jquery.sap.global'],function(q){'use strict';var F={save:function(d,f,s,m,c,b){var a=f+'.'+s;if(typeof b==='undefined'&&c==='utf-8'&&s==='csv'){b=true;}if(b===true&&c==='utf-8'){d='\ufeff'+d;}if(window.Blob){var t='data:'+m;if(c){t+=';charset='+c;}var B=new window.Blob([d],{type:t});if(window.navigator.msSaveOrOpenBlob){window.navigator.msSaveOrOpenBlob(B,a);}else{var u=window.URL||window.webkitURL;var e=u.createObjectURL(B);var l=window.document.createElement('a');if('download'in l){var $=q(document.body);var g=q(l).attr({download:a,href:e,style:'display:none'});$.append(g);g.get(0).click();g.remove();}else{d=encodeURI(d);var w=window.open(t+","+d);if(!w){throw new Error("Could not download file. A popup blocker might be active.");}}}}}};return F;},true);
sap.ui.predefine('sap/ui/core/util/LibraryInfo',['jquery.sap.global','sap/ui/base/Object','jquery.sap.script'],function(q,B){"use strict";var L=B.extend("sap.ui.core.util.LibraryInfo",{constructor:function(){B.apply(this);this._oLibInfos={};},destroy:function(){B.prototype.destroy.apply(this,arguments);this._oLibInfos={};},getInterface:function(){return this;}});L.prototype._loadLibraryMetadata=function(l,c){l=l.replace(/\//g,".");if(this._oLibInfos[l]){q.sap.delayedCall(0,window,c,[this._oLibInfos[l]]);return;}var t=this,u,s,p=/themelib_(.*)/i.exec(l);if(!p){s=".library";u=q.sap.getModulePath(l,'/');}else{s=".theme";u=q.sap.getModulePath("sap.ui.core",'/themes/'+p[1]+"/");}q.ajax({url:u+s,dataType:"xml",error:function(x,a,e){q.sap.log.error("failed to load library details from '"+u+s+": "+a+", "+e);t._oLibInfos[l]={name:l,data:null,url:u};c(t._oLibInfos[l]);},success:function(d,S,x){t._oLibInfos[l]={name:l,data:d,url:u};c(t._oLibInfos[l]);}});};L.prototype._getLibraryInfo=function(l,c){this._loadLibraryMetadata(l,function(d){var r={libs:[],library:d.name,libraryUrl:d.url};if(d.data){var $=q(d.data);r.vendor=$.find("vendor").text();r.copyright=$.find("copyright").text();r.version=$.find("version").text();r.documentation=$.find("documentation").text();r.releasenotes=$.find("releasenotes").attr("url");r.componentInfo=L.prototype._getLibraryComponentInfo($);}c(r);});};L.prototype._getThirdPartyInfo=function(l,c){this._loadLibraryMetadata(l,function(d){var r={libs:[],library:d.name,libraryUrl:d.url};if(d.data){var $=q(d.data).find("appData").find("thirdparty").children();$.each(function(i,o){if(o.nodeName==="lib"){var a=q(o);var b=a.children("license");r.libs.push({displayName:a.attr("displayName"),homepage:a.attr("homepage"),license:{url:b.attr("url"),type:b.attr("type"),file:d.url+b.attr("file")}});}});}c(r);});};L.prototype._getDocuIndex=function(l,c){this._loadLibraryMetadata(l,function(d){var a=d.name,b=d.url,r={"docu":{},library:a,libraryUrl:b};if(!d.data){c(r);return;}var D=q(d.data).find("appData").find("documentation");var u=D.attr("indexUrl");if(!u){c(r);return;}if(D.attr("resolve")=="lib"){u=d.url+u;}q.ajax({url:u,dataType:"json",error:function(x,s,e){q.sap.log.error("failed to load library docu from '"+u+"': "+s+", "+e);c(r);},success:function(d,s,x){d.library=a;d.libraryUrl=b;c(d);}});});};L.prototype._getReleaseNotes=function(l,v,c){this._loadLibraryMetadata(l,function(d){if(!d.data){c({});return;}var V=q.sap.Version(v);var m=V.getMajor();var M=V.getMinor();var p=V.getPatch();var D=q(d.data).find("appData").find("releasenotes");var u=D.attr("url");if(!u){q.sap.log.warning("failed to load release notes for library "+l);c({});return;}if(V.getSuffix()==="-SNAPSHOT"){if(M%2!=0){M=(M+1);p=0;}v=m+"."+M+"."+p;}u=u.replace("{major}",m);u=u.replace("{minor}",M);u=u.replace("{patch}",p);if(D.attr("resolve")=="lib"){u=d.url+u;}q.ajax({url:u,dataType:"json",error:function(x,s,e){if(s==="parsererror"){q.sap.log.error("failed to parse release notes for library '"+l+", "+e);}else{q.sap.log.warning("failed to load release notes for library '"+l+", "+e);}c({});},success:function(d,s,x){c(d,v);}});});};L.prototype._getLibraryComponentInfo=function(d){var a={};var c=[];var D="";d.find("ownership > component").each(function(b,C){if(C.childElementCount===0){D=C.textContent;}else{var v=C.getElementsByTagName("name");if(v&&v.length>0){v=v[0].textContent;var e=C.getElementsByTagName("module");if(v&&e&&e.length>0){var m=[];for(var i=0;i<e.length;i++){var M=e[i].textContent.replace(/\//g,".");if(M){m.push(M);}}if(m.length>0){c.push({"component":v,"modules":m});}}}}});a["defaultComponent"]=D;if(c&&c.length>0){a["specialCases"]=c;}return a;};L.prototype._getActualComponent=function(c,m){function a(m,p){m=m.toLowerCase();p=p.toLowerCase();return(m===p||p.match(/\*$/)&&m.indexOf(p.slice(0,-1))===0||p.match(/\.*$/)&&m===p.slice(0,-2));}if(m){for(var k in c){if(!c[k]){q.sap.log.error("No library information deployed for "+k);continue;}var C;if(m.indexOf(k)===0){C=c[k].defaultComponent;}var s=c[k].specialCases;if(s){for(var i=0;i<s.length;i++){var S=s[i].modules;for(var j=0;j<S.length;j++){if(a(m,S[j])){C=s[i].component;}}}}if(C){return C;}}}};L.prototype._getDefaultComponent=function(l){return l&&l.componentInfo&&l.componentInfo.defaultComponent;};return L;});
sap.ui.predefine('sap/ui/core/util/XMLPreprocessor',['jquery.sap.global','sap/ui/base/BindingParser','sap/ui/base/ManagedObject','sap/ui/core/XMLTemplateProcessor','sap/ui/model/BindingMode','sap/ui/model/CompositeBinding','sap/ui/model/Context'],function(q,B,M,X,a,C,b){'use strict';var u={},N="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1",x="sap.ui.core.util.XMLPreprocessor",p=[x],P=x+"/insertFragment",s=x+"/getResolvedBinding",c=x+".process",v={},W=M.extend("sap.ui.core.util._with",{metadata:{properties:{any:"any"},aggregations:{child:{multiple:false,type:"sap.ui.core.util._with"}}}}),R=W.extend("sap.ui.core.util._repeat",{metadata:{aggregations:{list:{multiple:true,type:"n/a",_doesNotRequireFactory:true}}},updateList:function(){}});function d(w,S,i,j){function k(n){if(!j){j=w.getBinding("any");if(j instanceof C){j=j.getBindings();if(i!==undefined){j=j[i];}}}return Array.isArray(j)?j[n]:j;}function m(o){return o instanceof b?o.getPath():o.getModel().resolve(o.getPath(),o.getContext());}return{getInterface:function(n,o){var t,y,z;if(typeof n==="string"){o=n;n=undefined;}k();if(Array.isArray(j)){if(n>=0&&n<j.length){y=j[n];}else{throw new Error("Invalid index of part: "+n);}}else if(n!==undefined){throw new Error("Not the root formatter of a composite binding");}else if(o){y=j;}else{throw new Error("Missing path");}if(o){z=y.getModel();if(o.charAt(0)!=='/'){t=y instanceof b?y:z.createBindingContext(y.getPath(),y.getContext());}y=z.createBindingContext(o,t);if(!y){throw new Error("Model could not create binding context synchronously: "+z);}}return d(null,S,undefined,y);},getModel:function(n){var o=k(n);return o&&o.getModel();},getPath:function(n){var o=k(n);return o&&m(o);},getSetting:function(n){if(n==="bindingContexts"||n==="models"){throw new Error("Illegal argument: "+n);}return S[n];}};}function g(w,o,S,j){function k(I,i){var F=I.formatter;I.mode=a.OneTime;if(F&&F.requiresIContext===true){I.formatter=F.bind(null,d(w,S,i));}I.parameters=I.parameters||{};I.parameters.scope=j;}try{k(o);if(o.parts){o.parts.forEach(k);}w.bindProperty("any",o);return w.getBinding("any")?w.getAny():u;}finally{w.unbindProperty("any",true);}}function e(E,L){return E.namespaceURI===N&&l(E)===L;}function l(E){return E.localName||E.baseName;}function r(E){var m=E.getAttribute("template:require");if(m){q.sap.require.apply(q.sap,m.split(" "));}}function f(E){var A,o=E.attributes,t="<"+E.nodeName,i,n;for(i=0,n=o.length;i<n;i+=1){A=o.item(i);t+=" "+A.name+'="'+A.value+'"';}return t+(E.childNodes.length?">":"/>");}function h(E,i){i.visitNode(E);}return{plugIn:function(V,n,L){var o=v[n];if(V!==null&&typeof V!=="function"||V===h){throw new Error("Invalid visitor: "+V);}if(!n||n===N||n==="sap.ui.core"||n.indexOf(" ")>=0){throw new Error("Invalid namespace: "+n);}q.sap.log.debug("Plug-in visitor for namespace '"+n+"', local name '"+L+"'",V,x);if(L){n=n+" "+L;o=v[n]||o;}v[n]=V;return o||h;},visitNodeWrapper:h,process:function(o,V,S){var j=V.caller,D=q.sap.log.isLoggable(q.sap.log.Level.DEBUG,x),k=D,m=V.name,F={},t,w=0,y={},z=V._supportInfo,A=q.sap.log.isLoggable(q.sap.log.Level.WARNING,x);function E(i){return{getContext:function(n){var h1,i1,j1;n=n||"";if(n[0]==="{"){throw new Error("Must be a simple path, not a binding: "+n);}h1=B.simpleParser("{"+n+"}");i1=i.getModel(h1.model);if(!i1){throw new Error("Unknown model '"+h1.model+"': "+n);}j1=i1.resolve(h1.path,i.getBindingContext(h1.model));if(!j1){throw new Error("Cannot resolve path: "+n);}return i1.createBindingContext(j1);},getResult:function(n,h1){var i1=O(n,h1,i,true);if(i1===u){throw new Error("Binding not ready: "+n);}return i1;},getSettings:function(){return S;},getViewInfo:function(){return q.extend(true,{},V);},insertFragment:function(n,h1){Q(n,h1,i);},visitAttributes:function(n){d1(n,i);},visitChildNodes:function(n){e1(n,i);},visitNode:function(n){f1(n,i);},"with":function(n,h1){var i1,j1=false,t,k1=new W();if(!h1){i.setChild(k1);}for(t in n){i1=n[t];j1=true;k1.setModel(i1.getModel(),t);k1.bindObject({model:t,path:i1.getPath()});}return j1||h1?E(k1):this;}};}function G(i){if(D){q.sap.log.debug(K()+Array.prototype.slice.call(arguments,1).join(" "),i&&f(i),x);}}function H(i){if(D){q.sap.log.debug(K()+"Finished","</"+i.nodeName+">",x);}}function I(i,n){i=i+f(n);q.sap.log.error(i,j,x);throw new Error(j+": "+i);}function J(h1){var i1=h1.childNodes,j1,k1=[],i,n,l1=false;for(i=0,n=i1.length;i<n;i+=1){j1=i1.item(i);if(j1.nodeType===1){k1.push(j1);}}if(!k1.length||!e(k1[0],"then")){return null;}for(i=1,n=k1.length;i<n;i+=1){j1=k1[i];if(l1){I("Expected </"+h1.prefix+":if>, but instead saw ",j1);}if(e(j1,"else")){l1=true;}else if(!e(j1,"elseif")){I("Expected <"+h1.prefix+":elseif> or <"+h1.prefix+":else>, but instead saw ",k1[i]);}}return k1;}function K(){return(w<10?"[ ":"[")+w+"] ";}function L(t){return t&&t.charAt(0)==="."?q.sap.getObject(t.slice(1),undefined,y):q.sap.getObject(t);}function O(i,n,h1,i1,j1){var k1;q.sap.measure.average(s,"",p);k1=B.complexParser(i,y,i1,true,true)||i;if(k1.functionsNotFound){if(i1){g1(n,'Function name(s)',k1.functionsNotFound.join(", "),'not found');}q.sap.measure.end(s);return u;}if(typeof k1==="object"){k1=g(h1,k1,S,y);if(i1&&k1===u){g1(n,'Binding not ready');}}else if(j1){j1();}q.sap.measure.end(s);return k1;}function Q(i,n,h1){var i1,j1=m;h1.$mFragmentContexts=h1.$mFragmentContexts||{};if(h1.$mFragmentContexts[i]){I("Cyclic reference to fragment '"+i+"' ",n);}w++;G(n,"fragmentName =",i);h1.$mFragmentContexts[i]=true;m=i;q.sap.measure.average(P,"",p);i1=F[i];if(!i1){i1=X.loadTemplate(i,"fragment");F[i]=i1;}i1=n.ownerDocument.importNode(i1,true);q.sap.measure.end(P);r(i1);if(i1.namespaceURI==="sap.ui.core"&&l(i1)==="FragmentDefinition"){T(i1,h1,n);}else{n.parentNode.insertBefore(i1,n);f1(i1,h1);}n.parentNode.removeChild(n);m=j1;h1.$mFragmentContexts[i]=false;H(n);w--;}function T(i,n,h1){var i1;h1=h1||i;e1(i,n);while((i1=i.firstChild)){h1.parentNode.insertBefore(i1,h1);}}function U(i,n){var h1=g1.bind(null,i,'Constant test condition'),i1,j1=i.getAttribute("test"),k1;try{k1=O(j1,i,n,true,h1);if(k1===u){k1=false;}}catch(ex){g1(i,'Error in formatter:',ex);k1=undefined;}i1=!!k1&&k1!=="false";if(D){if(typeof k1==="string"){k1=JSON.stringify(k1);}else if(k1===undefined){k1="undefined";}else if(Array.isArray(k1)){k1="[object Array]";}G(i,"test ==",k1,"-->",i1);}return i1;}function Y(i,n,h1){var i1=n.value,j1;try{j1=O(i1,i,h1,false);if(j1===u){G(i,'Binding not ready for attribute',n.name);}else if(j1===undefined){G(i,"Removed attribute",n.name);i.removeAttribute(n.name);}else{if(D&&j1!==n.value){G(i,n.name,"=",j1);}n.value=j1;}}catch(ex){G(i,'Error in formatter:',ex);}}function Z(i,n){var t=i.getAttribute("name"),h1,i1,j1=i.getAttribute("value");if(!t||t.length<=1||t.lastIndexOf(".")!==0){I("Missing proper relative name in ",i);}t=t.slice(1);h1=L(j1);if(!h1){I("Invalid value in ",i);}i1=y[t];y[t]=h1;T(i,n);i.parentNode.removeChild(i);y[t]=i1;}function $(i,n){var t=i.getAttribute("name"),h1=u,i1;try{h1=O(t,i,n,true);if(h1!==u&&h1!==t){G(i,"name =",h1);}}catch(ex){g1(i,'Error in formatter:',ex);}var k1=sap.ui.require("sap/ui/core/CustomizingConfiguration");if(h1!==u&&k1){i1=k1.getViewExtension(m,h1,V.componentId);if(i1&&i1.className==="sap.ui.core.Fragment"&&i1.type==="XML"){Q(i1.fragmentName,i,n);return true;}}return false;}function _(i,n){var h1=i.getAttribute("fragmentName"),i1;try{i1=O(h1,i,n,true);}catch(ex){g1(i,'Error in formatter:',ex);return;}if(i1!==u){Q(i1,i,n);}}function a1(i,n){var h1=J(i),i1,j1;w++;if(h1){j1=i;i1=h1.shift();do{if(U(j1,n)){break;}j1=i1=h1.shift();}while(j1&&l(j1)==="elseif");}else if(U(i,n)){i1=i;}if(i1){T(i1,n,i);}i.parentNode.removeChild(i);H(i);w--;}function b1(n,h1){var i1=n.getAttribute("list")||"",j1=B.complexParser(i1,y,false,true,true),k1,l1,m1,n1,o1=n.getAttribute("var");if(o1===""){I("Missing variable name for ",n);}if(!j1){I("Missing binding for ",n);}if(j1.functionsNotFound){g1(n,'Function name(s)',j1.functionsNotFound.join(", "),'not found');}n1=new R();h1.setChild(n1);j1.mode=a.OneTime;n1.bindAggregation("list",j1);l1=n1.getBinding("list");n1.unbindAggregation("list",true);m1=j1.model;if(!l1){I("Missing model '"+m1+"' in ",n);}k1=l1.getContexts(j1.startIndex,j1.length);o1=o1||m1;n1.setModel(l1.getModel(),o1);w++;G(n,"Starting");k1.forEach(function(p1,i){var q1=(i===k1.length-1)?n:n.cloneNode(true);n1.setBindingContext(p1,o1);G(n,o1,"=",p1.getPath());T(q1,n1,n);});H(n);w--;n.parentNode.removeChild(n);}function c1(i,n){var h1,i1,j1,k1,l1=i.getAttribute("helper"),m1,n1=i.getAttribute("path"),o1,p1=i.getAttribute("var");if(p1===""){I("Missing variable name for ",i);}j1=new W();n.setChild(j1);h1=B.simpleParser("{"+n1+"}");p1=p1||h1.model;if(l1||p1){i1=n.getModel(h1.model);if(!i1){I("Missing model '"+h1.model+"' in ",i);}o1=i1.resolve(h1.path,n.getBindingContext(h1.model));if(!o1){I("Cannot resolve path for ",i);}m1=i1.createBindingContext(o1);if(l1){k1=L(l1);if(typeof k1!=="function"){I("Cannot resolve helper for ",i);}m1=k1(m1);}if(m1 instanceof b){i1=m1.getModel();o1=m1.getPath();}else if(m1!==undefined){if(typeof m1!=="string"||m1===""){I("Illegal helper result '"+m1+"' in ",i);}o1=m1;}j1.setModel(i1,p1);j1.bindObject({model:p1,path:o1});}else{j1.bindObject(n1);}w++;G(i,p1,"=",o1);if(j1.getBindingContext(p1)===n.getBindingContext(p1)){g1(i,'Set unchanged path:',o1);j1=n;}T(i,j1);i.parentNode.removeChild(i);H(i);w--;}function d1(n,h1){var i,i1,j1=n.attributes;for(i=j1.length-1;i>=0;i-=1){i1=j1.item(i);if(z){z({context:undefined,env:{caller:"visitAttributes",before:{name:i1.name,value:i1.value}}});}Y(n,i1,h1);if(z){z({context:undefined,env:{caller:"visitAttributes",after:{name:i1.name,value:i1.value}}});}}}function e1(h1,i1){var i,j1=h1.childNodes,n=j1.length,k1=new Array(n);for(i=0;i<n;i+=1){k1[i]=j1.item(i);}j1=null;for(i=0;i<n;i+=1){f1(k1[i],i1);}}function f1(n,i){var h1,i1;if(n.nodeType!==1){return;}if(z){z({context:n,env:{caller:"visitNode",before:{name:n.tagName}}});}if(n.namespaceURI===N){switch(l(n)){case"alias":Z(n,i);return;case"if":a1(n,i);return;case"repeat":b1(n,i);return;case"with":c1(n,i);return;default:I("Unexpected tag ",n);}}else if(n.namespaceURI==="sap.ui.core"){switch(l(n)){case"ExtensionPoint":if($(n,i)){return;}break;case"Fragment":if(n.getAttribute("type")==="XML"){_(n,i);return;}break;}}else{h1=v[n.namespaceURI+" "+l(n)]||v[n.namespaceURI];if(h1){w++;G(n,"Calling visitor");i1=h1(n,E(i));if(i1!==undefined){I("Unexpected return value from visitor for ",n);}H(n);w--;return;}}d1(n,i);e1(n,i);if(z){z({context:n,env:{caller:"visitNode",after:{name:n.tagName}}});}}function g1(i){if(A){if(!k){k=true;q.sap.log.warning("Warning(s) during processing of "+j,null,x);}q.sap.log.warning(K()+Array.prototype.slice.call(arguments,1).join(" "),i&&f(i),x);}}q.sap.measure.average(c,"",p);S=S||{};if(D){G(undefined,"Start processing",j);if(S.bindingContexts instanceof b){G(undefined,"undefined =",S.bindingContexts);}else{for(t in S.bindingContexts){G(undefined,t,"=",S.bindingContexts[t]);}}}if(z){z({context:o,env:{caller:"view",viewinfo:q.extend(true,{},V),settings:q.extend(true,{},S),clone:o.cloneNode(true),type:"template"}});}r(o);f1(o,new W({models:S.models,bindingContexts:S.bindingContexts}));G(undefined,"Finished processing",j);q.sap.measure.end(c);return o;}};},true);
sap.ui.predefine('sap/ui/fl/Utils',["jquery.sap.global","sap/ui/core/Component"],function(q,C){"use strict";var U={log:{error:function(m,d,c){q.sap.log.error(m,d,c);},warning:function(m,d,c){q.sap.log.warning(m,d,c);}},getXSRFTokenFromControl:function(c){var m;if(!c){return"";}if(c&&typeof c.getModel==="function"){m=c.getModel();return U._getXSRFTokenFromModel(m);}return"";},_getXSRFTokenFromModel:function(m){var h;if(!m){return"";}if(typeof m.getHeaders==="function"){h=m.getHeaders();if(h){return h["x-csrf-token"];}}return"";},getComponentClassName:function(c){var a;if(c){a=this.getAppComponentForControl(c);if(a){var v=this._getComponentStartUpParameter(a,"sap-app-id");if(v){return v;}if(a.getManifestEntry("sap.ui5")&&a.getManifestEntry("sap.ui5").appVariantId){return a.getManifestEntry("sap.ui5").appVariantId;}}}return U._getComponentName(a);},getAppComponentClassNameForComponent:function(c){return U.getComponentClassName(c);},getAppDescriptor:function(c){var m=null,o=null,a=null;if(c){o=this.getAppComponentForControl(c);if(o&&o.getMetadata){a=o.getMetadata();if(a&&a.getManifest){m=a.getManifest();}}}return m;},getSiteId:function(c){var s=null,o=null;if(c){o=this.getAppComponentForControl(c);if(o){s=this._getComponentStartUpParameter(o,"hcpApplicationId");}}return s;},getSiteIdByComponentData:function(c){var s=null;s=this._getStartUpParameter(c,"hcpApplicationId");return s;},isAppVariantMode:function(c){return(U.isVendorLayer()&&U.isApplicationVariant(c));},isBinding:function(p){var i=false;if(p&&typeof p==="string"&&p.substring(0,1)==="{"&&p.slice(-1)==="}"){i=true;}return i;},isVendorLayer:function(){if(U.getCurrentLayer(false)==="VENDOR"){return true;}return false;},isApplicationVariant:function(c){var f=U.getComponentClassName(c);var a=U.getAppComponentForControl(c);var s=U._getComponentName(a);return f!==s;},_getComponentStartUpParameter:function(c,p){var s=null;if(p){if(c&&c.getComponentData){s=this._getStartUpParameter(c.getComponentData(),p);}}return s;},_getStartUpParameter:function(c,p){if(c&&c.startupParameters&&p){if(q.isArray(c.startupParameters[p])){return c.startupParameters[p][0];}}},_getComponentName:function(c){var s="";if(c){s=c.getMetadata().getName();}if(s.length>0&&s.indexOf(".Component")<0){s+=".Component";}return s;},_getComponent:function(c){var o;if(c){o=sap.ui.getCore().getComponent(c);}return o;},_getComponentIdForControl:function(c){var s="",i=0;do{i++;s=U._getOwnerIdForControl(c);if(s){return s;}if(c&&typeof c.getParent==="function"){c=c.getParent();}else{return"";}}while(c&&i<100);return"";},getComponentForControl:function(c){return U._getComponentForControl(c);},getAppComponentForControl:function(c){var o;if(c instanceof sap.ui.core.Component){o=c;}else{o=this._getComponentForControl(c);}return this._getAppComponentForComponent(o);},_getComponentForControl:function(c){var o=null;var s=null;if(c){s=U._getComponentIdForControl(c);if(s){o=U._getComponent(s);}}return o;},_getAppComponentForComponent:function(c){var s=null;if(c&&c.getAppComponent){return c.getAppComponent();}if(c&&c.oComponentData&&c.oComponentData.appComponent){return c.oComponentData.appComponent;}if(c&&c.getManifestEntry){s=c.getManifestEntry("sap.app");}else{return c;}if(s&&s.type&&s.type!=="application"){if(c instanceof sap.ui.core.Component){c=this._getComponentForControl(c);}return this.getAppComponentForControl(c);}return c;},getViewForControl:function(c){return U.getFirstAncestorOfControlWithControlType(c,sap.ui.core.mvc.View);},getFirstAncestorOfControlWithControlType:function(c,a){if(c instanceof a){return c;}if(c&&typeof c.getParent==="function"){c=c.getParent();return U.getFirstAncestorOfControlWithControlType(c,a);}},hasControlAncestorWithId:function(c,a){var o;if(c===a){return true;}o=sap.ui.getCore().byId(c);while(o){if(o.getId()===a){return true;}if(typeof o.getParent==="function"){o=o.getParent();}else{return false;}}return false;},_isView:function(c){return c instanceof sap.ui.core.mvc.View;},_getOwnerIdForControl:function(c){return C.getOwnerIdFor(c);},getCurrentLayer:function(i){var u,l;if(i){return"USER";}u=this._getUriParameters();l=u.mParams["sap-ui-layer"];if(l&&l.length>0){return l[0];}return"CUSTOMER";},doesSharedVariantRequirePackage:function(){var c;c=U.getCurrentLayer(false);if((c==="VENDOR")||(c==="PARTNER")){return true;}if(c==="USER"){return false;}if(c==="CUSTOMER"){return false;}return false;},getClient:function(){var u,c;u=this._getUriParameters();c=u.mParams["sap-client"];if(c&&c.length>0){return c[0];}return undefined;},_getUriParameters:function(){return q.sap.getUriParameters();},isHotfixMode:function(){var u,i,I;u=this._getUriParameters();i=u.mParams["hotfix"];if(i&&i.length>0){I=i[0];}return(I==="true");},convertBrowserLanguageToISO639_1:function(b){if(!b||typeof b!=="string"){return"";}var n=b.indexOf("-");if((n<0)&&(b.length<=2)){return b.toUpperCase();}if(n>0&&n<=2){return b.substring(0,n).toUpperCase();}return"";},getCurrentLanguage:function(){var l=sap.ui.getCore().getConfiguration().getLanguage();return U.convertBrowserLanguageToISO639_1(l);},getControlType:function(c){var m;if(c&&typeof c.getMetadata==="function"){m=c.getMetadata();if(m&&typeof m.getElementName==="function"){return m.getElementName();}}},asciiToString:function(a){var b=a.split(",");var p="";q.each(b,function(i,c){p+=String.fromCharCode(c);});return p;},stringToAscii:function(s){var a="";for(var i=0;i<s.length;i++){a+=s.charCodeAt(i)+",";}a=a.substring(0,a.length-1);return a;},_fnCheckElementIsNoClone:function(e){var E=true;if(e.getBindingContext&&e.getBindingContext()){var b=e.getBindingContext().getPath().split("/");var l=b[b.length-1];E=isNaN(l);}return E;},checkControlId:function(c,a,s){var b=c instanceof sap.ui.base.ManagedObject?c.getId():c;if(!a){c=c instanceof sap.ui.base.ManagedObject?c:sap.ui.getCore().byId(b);a=U.getAppComponentForControl(c);}var i=sap.ui.base.ManagedObjectMetadata.isGeneratedId(b);if(!i||this.hasLocalIdSuffix(c,a)){return true;}else{var h=b.indexOf("--")!==-1;if(!s&&!h&&this._fnCheckElementIsNoClone(c)){this.log.warning("Generated id attribute found, to offer flexibility a stable control id is needed "+"to assign the changes to, but for this control the id was generated by SAPUI5",b);}return false;}},hasLocalIdSuffix:function(c,a){var s=(c instanceof sap.ui.base.ManagedObject)?c.getId():c;if(!a){this.log.error("determination of a local id suffix failed due to missing app component for "+s);return false;}return!!a.getLocalId(s);},_getAllUrlParameters:function(){return window.location.search.substring(1);},getUrlParameter:function(p){return q.sap.getUriParameters().get(p);},createDefaultFileName:function(n){var f=q.sap.uid().replace(/-/g,"_");if(n){f+='_'+n;}return f;},createNamespace:function(p,s){var r=p.reference.replace('.Component','');var n='apps/'+r+"/"+s+"/";return n;},isApplication:function(m){return(m&&m.getEntry("sap.app")&&m.getEntry("sap.app").type==="application");},getFlexReference:function(m){if(m){if(m.getEntry("sap.ui5")){if(m.getEntry("sap.ui5").appVariantId){return m.getEntry("sap.ui5").appVariantId;}if(m.getEntry("sap.ui5").componentName){return m.getEntry("sap.ui5").componentName+".Component";}}if(m.getEntry("sap.app")&&m.getEntry("sap.app").id){return m.getEntry("sap.app").id+".Component";}}this.log.warning("No Manifest received.");return"";}};return U;},true);
sap.ui.predefine('sap/ui/fl/changeHandler/Base',["sap/ui/fl/Utils","jquery.sap.global"],function(U,$){"use strict";var B={};B.setTextInChange=function(c,k,t,T){if(!c.texts){c.texts={};}if(!c.texts[k]){c.texts[k]={};}c.texts[k].value=t;c.texts[k].type=T;};return B;},true);
sap.ui.predefine('sap/ui/fl/changeHandler/BaseRename',["jquery.sap.global","./Base","sap/ui/fl/Utils"],function(q,B,U){"use strict";var a={createRenameChangeHandler:function(r){r.changePropertyName=r.changePropertyName||"newText";return{applyChange:function(c,C,p){var m=p.modifier;var P=r.propertyName;var o=c.getDefinition();var t=o.texts[r.changePropertyName];var v=t.value;if(o.texts&&t&&typeof(v)==="string"){if(U.isBinding(v)){m.setPropertyBinding(C,P,v);}else{m.setProperty(C,P,v);}return true;}else{U.log.error("Change does not contain sufficient information to be applied: ["+o.layer+"]"+o.namespace+"/"+o.fileName+"."+o.fileType);}},completeChangeContent:function(c,s,p){var C=c.getDefinition();var b=r.changePropertyName;var t=r.translationTextType;var o=p.modifier.bySelector(c.getSelector(),p.appComponent);C.content.originalControlType=p.modifier.getControlType(o);if(typeof(s.value)==="string"){B.setTextInChange(C,b,s.value,t);}else{throw new Error("oSpecificChangeInfo.value attribute required");}}};}};return a;},true);
sap.ui.predefine('sap/ui/fl/changeHandler/BaseTreeModifier',["sap/ui/fl/Utils","sap/ui/base/ManagedObject"],function(U,M){"use strict";return{bySelector:function(s,a,v){var c=this.getControlIdBySelector(s,a);return this._byId(c,v);},getControlIdBySelector:function(s,a){if(!s){return undefined;}if(typeof s==="string"){s={id:s};}var c=s.id;if(s.idIsLocal){if(a){c=a.createId(c);}else{throw new Error("App Component instance needed to get a control's id from selector");}}else{var p=/^application-[^-]*-[^-]*-component---/igm;var h=!!p.exec(s.id);if(h){c=c.replace(/^application-[^-]*-[^-]*-component---/g,"");if(a){c=a.createId(c);}else{throw new Error("App Component instance needed to get a control's id from selector");}}}return c;},getSelector:function(c,a,A){var C=c;if(c instanceof M){C=c.getId();}else{if(!a){throw new Error("App Component instance needed to get a selector from string id");}}if(A&&(A.id||A.idIsLocal)){throw new Error("A selector of control with the id '"+C+"' was requested, "+"but core properties were overwritten by the additionally passed information.");}var v=U.checkControlId(c,a);if(!v){throw new Error("Generated id attribute found - to offer flexibility a stable control id is needed to assign the changes to, but for this control the id was generated by SAPUI5 "+C);}var s=jQuery.extend(A||{},{id:"",idIsLocal:false},true);if(U.hasLocalIdSuffix(c,a)){var l=a.getLocalId(C);s.id=l;s.idIsLocal=true;}else{s.id=C;}return s;}};});
sap.ui.predefine('sap/ui/fl/changeHandler/JsControlTreeModifier',["sap/ui/fl/changeHandler/BaseTreeModifier","sap/ui/fl/Utils"],function(B,U){"use strict";var J={targets:"jsControlTree",setVisible:function(c,v){if(c.setVisible){this.unbindProperty(c,"visible");c.setVisible(v);}else{throw new Error("Provided control instance has no setVisible method");}},getVisible:function(c){if(c.getVisible){return c.getVisible();}else{throw new Error("Provided control instance has no getVisible method");}},setStashed:function(c,s){if(c.setStashed){if(c.setVisible){c.setVisible(!s);}c.setStashed(s);}else{throw new Error("Provided control instance has no setStashed method");}},bindProperty:function(c,p,b){c.bindProperty(p,b);},unbindProperty:function(c,p){if(c){c.unbindProperty(p,true);}},setProperty:function(c,p,P){var m=c.getMetadata().getPropertyLikeSetting(p);this.unbindProperty(c,p);if(m){var s=m._sMutator;c[s](P);}},getProperty:function(c,p){var m=c.getMetadata().getPropertyLikeSetting(p);if(m){var P=m._sGetter;return c[P]();}},setPropertyBinding:function(c,p,P){var s={};s[p]=P;c.applySettings(s);},createControl:function(c,a,v,s){if(this.bySelector(s,a)){throw new Error("Can't create a control with duplicated id "+s);}jQuery.sap.require(c);var C=jQuery.sap.getObject(c);var i=this.getControlIdBySelector(s,a);return new C(i);},byId:function(i){return this._byId(i);},_byId:function(i){return sap.ui.getCore().byId(i);},getId:function(c){return c.getId();},getParent:function(c){return c.getParent();},getControlType:function(c){return U.getControlType(c);},getAggregation:function(p,n){if(p){if(p.getMetadata){var m=p.getMetadata();var a=m.getAllAggregations();if(a){var A=a[n];if(A){return p[A._sGetter]();}}}}},insertAggregation:function(p,n,o,i){if(p){if(p.getMetadata){var m=p.getMetadata();var a=m.getAllAggregations();if(a){var A=a[n];if(A){if(A.multiple){var I=i||0;p[A._sInsertMutator](o,I);}else{p[A._sMutator](o);}}}}}},removeAggregation:function(c,n,o){if(c){if(c.getMetadata){var m=c.getMetadata();var a=m.getAllAggregations();if(a){var A=a[n];if(A){c[A._sRemoveMutator](o);}}}}},removeAllAggregation:function(c,n){if(c){if(c.getMetadata){var m=c.getMetadata();var a=m.getAllAggregations();if(a){var A=a[n];if(A){c[A._sRemoveAllMutator]();}}}}}};return jQuery.sap.extend(true,{},B,J);},true);
sap.ui.predefine('sap/ui/layout/AssociativeSplitter',['./Splitter','./SplitterRenderer'],function(S,a){"use strict";var A=S.extend("sap.ui.layout.AssociativeSplitter",{metadata:{associations:{associatedContentAreas:{type:"sap.ui.core.Control",multiple:true,singularName:"associatedContentArea"}}},renderer:a});A.prototype.init=function(){S.prototype.init.call(this);this._keyListeners={increase:this._onKeyboardResize.bind(this,"inc",1),decrease:this._onKeyboardResize.bind(this,"dec",1),increaseMore:this._onKeyboardResize.bind(this,"incMore",2),decreaseMore:this._onKeyboardResize.bind(this,"decMore",2),max:this._onKeyboardResize.bind(this,"max",1),min:this._onKeyboardResize.bind(this,"min",1)};this._enableKeyboardListeners();};A.prototype._enableKeyboardListeners=function(){S.prototype._enableKeyboardListeners.call(this);this.onsaprightmodifiers=this._keyListeners.increase;this.onsapleftmodifiers=this._keyListeners.decrease;this.onsapupmodifiers=this._keyListeners.decrease;this.onsapdownmodifiers=this._keyListeners.increase;this.onsapright=this._keyListeners.increaseMore;this.onsapdown=this._keyListeners.increaseMore;this.onsapleft=this._keyListeners.decreaseMore;this.onsapup=this._keyListeners.decreaseMore;this.onsapend=this._keyListeners.max;this.onsaphome=this._keyListeners.min;this._keyboardEnabled=true;};A.prototype.addAssociatedContentArea=function(c){this._needsInvalidation=true;_(c);return this.addAssociation("associatedContentAreas",c);};A.prototype.indexOfAssociatedContentArea=function(c){var d=this._getContentAreas();for(var i=0;i<d.length;i++){if(c==d[i]){return i;}}return-1;};A.prototype.insertAssociatedContentArea=function(c,I){var d=c.getId();this._needsInvalidation=true;_(c);var e=this.getAssociatedContentAreas();for(var i=0;i<e.length;i++){if(e[i]===d){e.splice(i,1);}}e.splice(I,0,d);this.setAssociation("associatedContentAreas",null);var t=this;e.forEach(function(d){t.addAssociation("associatedContentAreas",d);});};A.prototype.removeAssociatedContentArea=function(c){this.removeAssociation("associatedContentAreas",c);};A.prototype._getContentAreas=function(){var c=this.getAssociatedContentAreas()||[];var C=this.getContentAreas();var v=c.map(function(i){return sap.ui.getCore().byId(i);}).filter(function(o){return o;});return C.concat(v);};A.prototype.onmousedown=function(j){if(this._ignoreMouse){return;}if(jQuery(j.target).hasClass("sapUiLoSplitterBarIcon")){j.target=j.target.parentElement;}var i=this.getId();if(!j.target.id||j.target.id.indexOf(i+"-splitbar")!==0){return;}this._ignoreTouch=true;this._onBarMoveStart(j);this._oLastDOMclicked=j.target;};A.prototype.ondblclick=function(e){var i=this.getId(),B,c;if(!(e.target.contains(this._oLastDOMclicked)&&(this._oLastDOMclicked.id.indexOf(i+"-splitbar")>-1))){return;}B=parseInt(this._oLastDOMclicked.id.substr((i+"-splitbar-").length),10);c=this._getContentAreas()[B];c._currentPosition=this.getCalculatedSizes()[B];c._lastPosition=c._lastPosition||c._currentPosition;if(c._currentPosition===c._lastPosition){this._resizeContents(B,(this.getCalculatedSizes()[B])*-1,true);}else{this._resizeContents(B,c._lastPosition,true);c._lastPosition=null;}};A.prototype.ontouchstart=function(j){if(this._ignoreTouch){return;}if(jQuery(j.target).hasClass("sapUiLoSplitterBarIcon")){j.target=j.target.parentElement;}var i=this.getId();if(!j.target.id||j.target.id.indexOf(i+"-splitbar")!==0){return;}if(!j.changedTouches||!j.changedTouches[0]){return;}this._ignoreMouse=true;this._onBarMoveStart(j.changedTouches[0],true);};A.prototype._onBarMoveStart=function(j,t){var I=this.getId();this.disableAutoResize(true);var p=j[this._moveCord];var s=parseInt(j.target.id.substr((I+"-splitbar-").length),10);var c=parseInt(j.target.parentElement.id.substr((I+"-splitbar-").length),10);var B=(s+1)?s:c;var $=jQuery(j.target);var C=this.getCalculatedSizes();var d=this._bHorizontal?$.innerWidth():$.innerHeight();var e=this._getContentAreas();var l=e[B].getLayoutData();var L=e[B+1].getLayoutData();if(!l.getResizable()||!L.getResizable()){b(t);return;}var r=0-d;for(var i=0;i<=B;++i){r+=C[i]+d;}this._move={start:p,relStart:r,barNum:B,bar:jQuery(j.target),c1Size:C[B],c1MinSize:l?parseInt(l.getMinSize(),10):0,c2Size:C[B+1],c2MinSize:L?parseInt(L.getMinSize(),10):0};if(t){document.addEventListener("touchend",this._boundBarMoveEnd);document.addEventListener("touchmove",this._boundBarMove);}else{document.addEventListener("mouseup",this._boundBarMoveEnd);document.addEventListener("mousemove",this._boundBarMove);}this._$SplitterOverlay.css("display","block");this._$SplitterOverlay.appendTo(this.getDomRef());this._$SplitterOverlayBar.css(this._sizeDirNot,"");this._move["bar"].css("visibility","hidden");this._onBarMove(j);};A.prototype._resizeContents=function(l,p,f){var c,L,o,s,d,C,$,n,N,m,M,O,i,F,e,D;if(isNaN(p)){jQuery.sap.log.warning("Splitter: Received invalid resizing values - resize aborted.");return;}c=this._getContentAreas();L=c[l].getLayoutData();o=c[l+1].getLayoutData();s=L.getSize();d=o.getSize();C=this.$("content-"+l);$=this.$("content-"+(l+1));n=this._move.c1Size+p;N=this._move.c2Size-p;m=parseInt(L.getMinSize(),10);M=parseInt(o.getMinSize(),10);O=this.getOrientation();i=O==="Horizontal"?this.$().width():this.$().height();if(n<m){D=m-n;p+=D;n=m;N-=D;}else if(N<M){D=M-N;p-=D;N=M;n-=D;}if(f){if(s==="auto"&&d!=="auto"){e=this._pxToPercent(N,i);o.setSize(e);}else if(s!=="auto"&&d==="auto"){F=this._pxToPercent(n,i);L.setSize(F);}else{F=this._pxToPercent(n,i);e=this._pxToPercent(N,i);L.setSize(F);o.setSize(e);}}else{F=this._pxToPercent(n,i);e=this._pxToPercent(N,i);C.css(this._sizeType,F);$.css(this._sizeType,e);}};A.prototype._pxToPercent=function(p,f){return(p*100)/f+"%";};A.prototype._recalculateSizes=function(){var i,s,l,c,d,e;var f=[];var C=this._getContentAreas();var o=this.getOrientation();var g=this._calculateAvailableContentSize(f);var h=[];var j=[];var p=[];for(i=0;i<C.length;++i){l=C[i].getLayoutData();s=l?l.getSize():"auto";f.push(s);}this._calculatedSizes=[];for(i=0;i<f.length;++i){s=f[i];if(s.indexOf("px")>-1){e=parseInt(s,10);g-=e;this._calculatedSizes[i]=e;}else if(s.indexOf("%")>-1){p.push(i);}else if(s==="auto"){l=C[i].getLayoutData();if(l&&parseInt(l.getMinSize(),10)!==0){j.push(i);}else{h.push(i);}}else{jQuery.sap.log.error("Illegal size value: "+f[i]);}}var w=false;if(g<0){w=true;g=0;}var r=g;g=o==="Horizontal"?this.$().width():this.$().height();var P=p.length;for(i=0;i<P;++i){d=p[i];if(P===1&&C.length===1){c=g;}else{c=parseFloat(f[d])/100*g;}this._calculatedSizes[d]=c;r-=c;}g=r;if(g<0){w=true;g=0;}c=Math.floor(g/(j.length+h.length),0);var k=j.length;for(i=0;i<k;++i){d=j[i];var m=parseInt(C[d].getLayoutData().getMinSize(),10);if(m>c){this._calculatedSizes[d]=m;g-=m;}else{this._calculatedSizes[d]=c;g-=c;}}if(g<0){w=true;g=0;}r=g;var n=h.length;c=Math.floor(g/n,0);for(i=0;i<n;++i){d=h[i];this._calculatedSizes[d]=c;r-=c;}if(w){jQuery.sap.log.info("[Splitter] The set sizes and minimal sizes of the splitter contents are bigger "+"than the available space in the UI.");}this._calculatedSizes=this._calculatedSizes;};A.prototype._ensureAllSplittersCollapsed=function(B){var c=this._getContentAreas();var d=false;for(var i=0;i<c.length;i++){var s=c[i].getLayoutData().getSize().slice(0,-2);if(s==="0"||s==="au"){d=true;continue;}else if(i===(c.length-1)&&d){this._getContentAreas()[B+1].setLayoutData(new sap.ui.layout.SplitterLayoutData({size:"100%"}));}}};function _(c){var l=c.getLayoutData();if(l&&(!l.getResizable||!l.getSize||!l.getMinSize)){jQuery.sap.log.warning("Content \""+c.getId()+"\" for the Splitter contained wrong LayoutData. "+"The LayoutData has been replaced with default values.");l=null;}if(!l){c.setLayoutData(new sap.ui.layout.SplitterLayoutData());}}function b(t){var p=function(e){e.preventDefault();};var f=null;f=function(){document.removeEventListener("touchend",f);document.removeEventListener("touchmove",p);document.removeEventListener("mouseup",f);document.removeEventListener("mousemove",p);};if(t){this._ignoreMouse=true;document.addEventListener("touchend",f);document.addEventListener("touchmove",p);}else{document.addEventListener("mouseup",f);document.addEventListener("mousemove",p);}}return A;},false);
sap.ui.predefine('sap/ui/layout/BlockLayout',['sap/ui/core/Control','./library'],function(C,l){"use strict";var B=C.extend("sap.ui.layout.BlockLayout",{metadata:{library:"sap.ui.layout",properties:{background:{type:"sap.ui.layout.BlockBackgroundType",group:"Appearance",defaultValue:"Default"}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.layout.BlockLayoutRow",multiple:true}}}});B.CONSTANTS={breakPointM:600,breakPointL:1024,SIZES:{S:600,M:1024,L:1440,XL:null}};B.prototype.onBeforeRendering=function(){this._detachResizeHandler();};B.prototype.onAfterRendering=function(){this._parentResizeHandler=sap.ui.core.ResizeHandler.register(this,this._onParentResize.bind(this));this._onParentResize();};B.prototype.setBackground=function(n){var c=this.getBackground(),o=C.prototype.setProperty.apply(this,["background"].concat(Array.prototype.slice.call(arguments)));if(this.hasStyleClass("sapUiBlockLayoutBackground"+c)){this.removeStyleClass("sapUiBlockLayoutBackground"+c,true);}this.addStyleClass("sapUiBlockLayoutBackground"+n,true);this.invalidate();return o;};B.prototype._onParentResize=function(){var p,d=this.getDomRef(),w=d.clientWidth,s=B.CONSTANTS.SIZES;this._removeBreakpointClasses();for(p in s){if(s.hasOwnProperty(p)&&(s[p]===null||s[p]>w)){this.addStyleClass("sapUiBlockLayoutSize"+p,true);break;}}};B.prototype._removeBreakpointClasses=function(){var s=B.CONSTANTS.SIZES;for(var p in s){if(s.hasOwnProperty(p)){this.removeStyleClass("sapUiBlockLayoutSize"+p,true);}}};B.prototype._detachResizeHandler=function(){if(this._parentResizeHandler){sap.ui.core.ResizeHandler.deregister(this._parentResizeHandler);this._parentResizeHandler=null;}};B.prototype.exit=function(){this._detachResizeHandler();};return B;},true);
sap.ui.predefine('sap/ui/layout/BlockLayoutCell',['sap/ui/core/Control','./library'],function(C,l){"use strict";var B=C.extend("sap.ui.layout.BlockLayoutCell",{metadata:{library:"sap.ui.layout",properties:{title:{type:"string",group:"Appearance",defaultValue:null},titleAlignment:{type:"sap.ui.core.HorizontalAlign",group:"Appearance",defaultValue:"Begin"},titleLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:"Auto"},width:{type:"int",group:"Appearance",defaultValue:0}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}}});B.prototype.setWidth=function(w){this.setProperty("width",w);if(!this._getParentRowScrollable()){var p=this.getParent();if(p){p._checkGuidelinesAndUpdateCells();}}return this;};B.prototype._clearState=function(){this._parentRowScrollable=false;this._differentSBreakpointSize=false;};B.prototype._setDifferentSBreakpointSize=function(d,r){this._differentSBreakpointSize=d;this._widthToRowWidthRatio=r;};B.prototype._getDifferentSBreakpointSize=function(){return this._differentSBreakpointSize;};B.prototype._getWidthToRowWidthRatio=function(){return this._widthToRowWidthRatio;};B.prototype._setParentRowScrollable=function(s){this._parentRowScrollable=s;};B.prototype._getParentRowScrollable=function(){return this._parentRowScrollable;};return B;},true);
sap.ui.predefine('sap/ui/layout/BlockLayoutCellRenderer',['jquery.sap.global','./library'],function(q,l){"use strict";var B={};B.render=function(r,b){this.startCell(r,b);this.addContent(r,b);this.endCell(r);};B.startCell=function(r,b){r.write("<div");r.writeControlData(b);r.addClass("sapUiBlockLayoutCell");if(b._getDifferentSBreakpointSize()){this.setDifferentSBreakpointSize(r,b._getWidthToRowWidthRatio());}else{this.setWidth(r,b);}r.writeStyles();r.writeClasses();r.write(">");};B.setDifferentSBreakpointSize=function(r,w){switch(w){case 0.25:r.addClass("sapUiBlockSmallCell");break;case 0.5:r.addClass("sapUiBlockMediumCell");break;default:break;}};B.setWidth=function(r,b){if(b._getParentRowScrollable()){var w=b.getWidth();if(w!==0){r.addStyle("width",w+"%");}}else{var f=(b.getWidth()==0)?1:b.getWidth();this.addFlex(r,f);}};B.addFlex=function(r,f){r.addStyle("-webkit-flex",f);r.addStyle("-ms-flex",f);r.addStyle("flex",f);};B.addTitle=function(r,b){if(b.getTitle()){var a="sapUiBlockCell"+b.getTitleAlignment(),t="sapUiBlockCellTitle "+a;if(b.getContent().length===0){t+=" sapUiBlockCellTitleNoContent";}var c=b.getTitleLevel(),d=c==sap.ui.core.TitleLevel.Auto,e=d?"h2":c;r.write("<"+e+" id='"+this.getTitleId(b)+"' class='"+t+"'>");r.writeEscaped(b.getTitle());r.write("</"+e+">");}};B.getTitleId=function(b){return b.getId()+"-Title";};B.addContent=function(r,b){var c=b.getContent(),a="sapUiBlockCellContent ";if(b.getTitleAlignment()=="Center"){a+="sapUiBlockCellCenteredContent";}r.write("<div class='"+a+"' aria-labelledby='"+this.getTitleId(b)+"' >");this.addTitle(r,b);c.forEach(r.renderControl);r.write("</div>");};B.endCell=function(r){r.write("</div>");};return B;},true);
sap.ui.predefine('sap/ui/layout/BlockLayoutRenderer',['./library'],function(l){"use strict";var B={};B.render=function(r,b){this.startLayout(r,b);this.addContent(r,b);this.endLayout(r);};B.startLayout=function(r,b){var a=b.getBackground();b.addStyleClass("sapUiBlockLayoutBackground"+a);r.write("<div");r.writeControlData(b);r.addClass("sapUiBlockLayout");r.writeStyles();r.writeClasses();r.write(">");};B.addContent=function(r,b){var c=b.getContent(),o=sap.ui.layout.BlockRowColorSets,t=Object.keys(o).map(function(k){return o[k];}),n=t.length;c.forEach(function(a,i,R){var T=a.getRowColorSet()||t[i%n],C="sapUiBlockLayoutBackground"+T,p=(i&&R[i-1])||null;if(p&&p.hasStyleClass(C)){a.removeStyleClass(C);C+="Inverted";}if(C){a.addStyleClass(C);}r.renderControl(a);});};B.endLayout=function(r){r.write("</div>");};return B;},true);
sap.ui.predefine('sap/ui/layout/BlockLayoutRow',['jquery.sap.global','sap/ui/core/Control','./library'],function(q,C,l){"use strict";var B=C.extend("sap.ui.layout.BlockLayoutRow",{metadata:{library:"sap.ui.layout",properties:{scrollable:{type:"boolean",group:"Appearance",defaultValue:false},rowColorSet:{type:"sap.ui.layout.BlockRowColorSets",group:"Appearance"}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.layout.BlockLayoutCell",multiple:true,singularName:"content"}},associations:{accentCells:{type:"sap.ui.layout.BlockLayoutCell",multiple:true,singularName:"accentCell"}}}});B.CONSTANTS={maxScrollableCellsPerRow:10,minScrollableCellsPerRow:3,guidelineRatios:[0.25,0.5,0.75,1.0]};B.prototype.onBeforeRendering=function(){this._checkGuidelinesAndUpdateCells();};B.prototype.setRowColorSet=function(t){var a=Array.prototype.slice.call(arguments),o=C.prototype.setProperty.apply(this,["rowColorSet"].concat(a)),c="sapUiBlockLayoutBackground"+t,p=this.getParent(),b=p&&p.getBackground(),T=p&&p.indexOfAggregation("content",this),P=p&&p.getContent(),d=(T&&P[T-1])||null,n=(P&&P[T+1])||null,e=sap.ui.layout.BlockRowColorSets,f=Object.keys(e).map(function(k){return e[k];}),i=false;if(d&&d._hasStyleClass(c,b,i,t)){c+="Inverted";i=true;}f.forEach(function(s){var g="sapUiBlockLayoutBackground"+s,I=g+"Inverted";if(this._hasStyleClass(g,b,false,s)){this.removeStyleClass(g,true);}else if(this._hasStyleClass(I,b,true,s)){this.removeStyleClass(I,true);}},this);this.addStyleClass(c,true);if(n&&n._hasStyleClass(c,b,i,t)){n.setRowColorSet.apply(n,a);}this.invalidate();return o;};B.prototype.addAccentCell=function(i){var o,I=i&&i.getId?i.getId():i,a=Array.prototype.slice.call(arguments),b=sap.ui.layout.BlockBackgroundType,p=this.getParent(),L=p&&(p.getBackground()||"");o=this.addAssociation.apply(this,["accentCells"].concat(a));if(!p){return this;}if([b.Accent,b.Mixed].indexOf(L)===-1){q.sap.log.warning(I+" was not se as accent cell. Accent cells could be set only for 'Accent' and 'Mixed' layout backgrounds.");return this;}if(b.Mixed===L){this._processMixedCellStyles(I,this.getContent());}else if(b.Accent===L){this._processAccentCellStyles(this.getAccentCells(),this.getContent());}return o;};B.prototype._processMixedCellStyles=function(i,c){var p,P;if(!c||!c.length){q.sap.log.warning("No accent cells were set");return this;}p=this.getParent();P=p&&(p.hasStyleClass("sapUiBlockLayoutSizeL")||p.hasStyleClass("sapUiBlockLayoutSizeXL"));c.forEach(function(o){var a,u;if(P&&o.getId()===i&&o.getWidth()===1){o.addStyleClass("sapContrast").addStyleClass("sapContrastPlus");a=sap.ui.layout.BlockRowColorSets;u=this._hasStyleClass("sapUiBlockLayoutBackground"+a.ColorSet1,sap.ui.layout.BlockBackgroundType.Mixed,false,a.ColorSet1)||this._hasStyleClass("sapUiBlockLayoutBackground"+a.ColorSet1,sap.ui.layout.BlockBackgroundType.Mixed,true,a.ColorSet1);if(u){o.addStyleClass("sapUiBlockLayoutBackgroundContrast2");}}else if((!P||o.getId()!==i)&&(o.hasStyleClass("sapContrast")||o.hasStyleClass("sapContrastPlus"))){o.removeStyleClass("sapContrast").removeStyleClass("sapContrastPlus").removeStyleClass("sapUiBlockLayoutBackgroundContrast2");this.removeAssociation("accentCells",o);q.sap.log.warning(i+" was removed as accent cell. Only one cell at a time could be accented for Mixed layout background");}},this);return this;};B.prototype._processAccentCellStyles=function(a,r){var c,s,b,i=0,I=0,A=Array.prototype.slice.call(a);if(!a||!a.length){q.sap.log.warning("No accent cells were set");return this;}for(i=0;i<r.length;i++){c=r[i];s=c.getId();if(!A.length){break;}if(A.indexOf(s)>-1){I++;b="sapUiBlockLayoutBackgroundColorSetGray"+((I%2)+1);if(c.hasStyleClass(b)){continue;}A.splice(A.indexOf(s),1);c.removeStyleClass("sapUiBlockLayoutBackgroundColorSetGray1").removeStyleClass("sapUiBlockLayoutBackgroundColorSetGray2").addStyleClass(b);}}return this;};B.prototype._checkGuidelinesAndUpdateCells=function(){var t=this,c=this.getContent(),a=this._calcCellRatios(),d=this._checkDifferentSBreakpointCase(),g=this._guidelinesCheck();c.forEach(function(b,i){b._clearState();if(t.getScrollable()){b._setParentRowScrollable(true);}else if(d&&g){b._setDifferentSBreakpointSize(true,a[i]);}});if(!this.getScrollable()&&d&&g){this._rowSCase=true;this.addStyleClass("sapUiBlockRowSCase",true);}else{this._rowSCase=false;this.removeStyleClass("sapUiBlockRowSCase",true);}};B.prototype._guidelinesCheck=function(){if(this.getScrollable()){return this._checkScrollableCellsCount();}else{return this._checkNonScrollableGuidelines();}};B.prototype._calcCellRatios=function(){var c=[],t=0,a=this.getContent();a.forEach(function(b){var d=(b.getWidth()==0)?1:b.getWidth();t+=d;});a.forEach(function(b){var d=(b.getWidth()==0)?1:b.getWidth(),e=d/t;c.push(e);});return c;};B.prototype._checkNonScrollableGuidelines=function(){var t=this,c=this._calcCellRatios(),g=true;c.forEach(function(a){if(!t._isCellRatioIncluded(a)){g=false;}});if(!g){q.sap.log.error("In your BlockLayoutRow "+this.getId()+" you are using cell ratios that are "+"not recommended in the guidelines. Cells can be with width of 25% 50% 75% or 100% according to the guidelines.");}return g;};B.prototype._checkDifferentSBreakpointCase=function(){var c=this._calcCellRatios(),a=this.getContent();if(a.length==4||(a.length==3&&c[1]!=0.5)){return true;}return false;};B.prototype._isCellRatioIncluded=function(r){var g=B.CONSTANTS.guidelineRatios;for(var i=0;i<g.length;i++){if(g[i]===r){return true;}}return false;};B.prototype._checkScrollableCellsCount=function(){if(this.getContent().length>B.CONSTANTS.maxScrollableCellsPerRow){q.sap.log.error("You are using too much cells in your scrollable row: "+this.getId()+"."+"This is violating the BlockLayout guidelines, please consider changing your implementation. Max cells allowed: 10.");return false;}if(this.getContent().length<B.CONSTANTS.minScrollableCellsPerRow){q.sap.log.error("You are using not enough cells in your scrollable row: "+this.getId()+"."+"This is violating the BlockLayout guidelines, please consider changing your implementation. Min cells allowed: 3.");return false;}return true;};B.prototype._hasStyleClass=function(s,L,I,t){var b=sap.ui.layout.BlockBackgroundType,c=sap.ui.layout.BlockRowColorSets,i,S,e;if([b.Light,b.Mixed].indexOf(L)===-1){return this.hasStyleClass(s);}else if(this.hasStyleClass(s)){return true;}e=[[c.ColorSet1,c.ColorSet3],[c.ColorSet2,c.ColorSet4]];for(i=0;i<=e.length;i++){if(e[i]&&e[i].indexOf(t)>-1){break;}}if(!e[i]){return false;}S=e[i].map(function(a){return"sapUiBlockLayoutBackground"+a+(I?"Inverted":"");});return S.some(this.hasStyleClass,this);};return B;},true);
sap.ui.predefine('sap/ui/layout/BlockLayoutRowRenderer',['jquery.sap.global','./library'],function(q,l){"use strict";var B={};B.render=function(r,b){this.startRow(r,b);this.renderContent(r,b);this.endRow(r,b);};B.startRow=function(r,b){r.write("<div");r.writeControlData(b);r.addClass("sapUiBlockLayoutRow");this.addRowRenderingClass(r,b);r.writeStyles();r.writeClasses();r.write(">");};B.addRowRenderingClass=function(r,b){if(b.getScrollable()){r.addClass("sapUiBlockScrollingRow");if(b.getContent().length>=6){r.addClass("sapUiBlockScrollingNarrowCells");}}else{r.addClass("sapUiBlockHorizontalCellsRow");}if(b._rowSCase){r.addClass("sapUiBlockRowSCase");}};B.renderContent=function(r,b){var c=b.getContent(),s=b.getScrollable(),o=sap.ui.layout.BlockBackgroundType,L=b.getParent().getBackground(),a=b.getAccentCells();c.forEach(function(d){if(s){d.addStyleClass("sapUiBlockScrollableCell");}else{d.addStyleClass("sapUiBlockHorizontalCell");}});switch(L){case o.Mixed:b._processMixedCellStyles(a[0],c);break;case o.Accent:b._processAccentCellStyles(a,c);break;}c.forEach(r.renderControl);};B.endRow=function(r){r.write("</div>");};return B;},true);
sap.ui.predefine('sap/ui/layout/DynamicSideContent',['jquery.sap.global','sap/ui/core/Control','sap/ui/core/ResizeHandler'],function(q,C,R){"use strict";var D=C.extend("sap.ui.layout.DynamicSideContent",{metadata:{library:"sap.ui.layout",properties:{showSideContent:{type:"boolean",group:"Appearance",defaultValue:true},showMainContent:{type:"boolean",group:"Appearance",defaultValue:true},sideContentVisibility:{type:"sap.ui.layout.SideContentVisibility",group:"Appearance",defaultValue:sap.ui.layout.SideContentVisibility.ShowAboveS},sideContentFallDown:{type:"sap.ui.layout.SideContentFallDown",group:"Appearance",defaultValue:sap.ui.layout.SideContentFallDown.OnMinimumWidth},equalSplit:{type:"boolean",group:"Appearance",defaultValue:false},containerQuery:{type:"boolean",group:"Behavior",defaultValue:false},sideContentPosition:{type:"sap.ui.layout.SideContentPosition",group:"Appearance",defaultValue:sap.ui.layout.SideContentPosition.End}},defaultAggregation:"mainContent",events:{breakpointChanged:{parameters:{currentBreakpoint:{type:"string"}}}},aggregations:{mainContent:{type:"sap.ui.core.Control",multiple:true},sideContent:{type:"sap.ui.core.Control",multiple:true}}}});var S="S",M="M",L="L",X="XL",H="sapUiHidden",a="sapUiDSCSpan12",b="sapUiDSCMCFixed",c="sapUiDSCSCFixed",d=3,e=4,f=6,g=8,h=9,i=12,I="Invalid Breakpoint. Expected: S, M, L or XL",j="SCGridCell",k="MCGridCell",l=720,m=1024,n=1440;D.prototype.init=function(){this._bSuppressInitialFireBreakPointChange=true;};D.prototype.setShowSideContent=function(v,s){this.setProperty("showSideContent",v,true);this._SCVisible=v;if(!s&&this.$().length){this._setResizeData(this.getCurrentBreakpoint(),this.getEqualSplit());if(this._currentBreakpoint===S){this._MCVisible=true;}this._changeGridState();}return this;};D.prototype.setShowMainContent=function(v,s){this.setProperty("showMainContent",v,true);this._MCVisible=v;if(!s&&this.$().length){this._setResizeData(this.getCurrentBreakpoint(),this.getEqualSplit());if(this._currentBreakpoint===S){this._SCVisible=true;}this._changeGridState();}return this;};D.prototype.getShowSideContent=function(){if(this._currentBreakpoint===S){return this._SCVisible&&this.getProperty("showSideContent");}else{return this.getProperty("showSideContent");}};D.prototype.getShowMainContent=function(){if(this._currentBreakpoint===S){return this._MCVisible&&this.getProperty("showMainContent");}else{return this.getProperty("showMainContent");}};D.prototype.setEqualSplit=function(s){this._MCVisible=true;this._SCVisible=true;this.setProperty("equalSplit",s,true);if(this._currentBreakpoint){this._setResizeData(this._currentBreakpoint,s);this._changeGridState();}return this;};D.prototype.addSideContent=function(o){this.addAggregation("sideContent",o,true);this._rerenderControl(this.getAggregation("sideContent"),this.$(j));return this;};D.prototype.addMainContent=function(o){this.addAggregation("mainContent",o,true);this._rerenderControl(this.getAggregation("mainContent"),this.$(k));return this;};D.prototype.toggle=function(){if(this._currentBreakpoint===S){if(!this.getProperty("showMainContent")){this.setShowMainContent(true,true);this._MCVisible=false;}if(!this.getProperty("showSideContent")){this.setShowSideContent(true,true);this._SCVisible=false;}if(this._MCVisible&&!this._SCVisible){this._SCVisible=true;this._MCVisible=false;}else if(!this._MCVisible&&this._SCVisible){this._MCVisible=true;this._SCVisible=false;}this._changeGridState();}return this;};D.prototype.getCurrentBreakpoint=function(){return this._currentBreakpoint;};D.prototype.onBeforeRendering=function(){this._detachContainerResizeListener();this._SCVisible=this.getProperty("showSideContent");this._MCVisible=this.getProperty("showMainContent");if(!this.getContainerQuery()){this._iWindowWidth=q(window).width();this._setBreakpointFromWidth(this._iWindowWidth);this._setResizeData(this._currentBreakpoint,this.getEqualSplit());}};D.prototype.onAfterRendering=function(){if(this.getContainerQuery()){this._attachContainerResizeListener();this._adjustToScreenSize();}else{var t=this;q(window).resize(function(){t._adjustToScreenSize();});}this._changeGridState();this._initScrolling();};D.prototype.exit=function(){this._detachContainerResizeListener();if(this._oSCScroller){this._oSCScroller.destroy();this._oSCScroller=null;}if(this._oMCScroller){this._oMCScroller.destroy();this._oMCScroller=null;}};D.prototype._rerenderControl=function(o,$){if(this.getDomRef()){var r=sap.ui.getCore().createRenderManager();this.getRenderer().renderControls(r,o);r.flush($[0]);r.destroy();}return this;};D.prototype._initScrolling=function(){var s=this.getId(),o=s+"-"+j,p=s+"-"+k;if(!this._oSCScroller&&!this._oMCScroller){q.sap.require("sap.ui.core.delegate.ScrollEnablement");this._oSCScroller=new sap.ui.core.delegate.ScrollEnablement(this,null,{scrollContainerId:o,horizontal:false,vertical:true});this._oMCScroller=new sap.ui.core.delegate.ScrollEnablement(this,null,{scrollContainerId:p,horizontal:false,vertical:true});}};D.prototype._attachContainerResizeListener=function(){if(!this._sContainerResizeListener){this._sContainerResizeListener=R.register(this,q.proxy(this._adjustToScreenSize,this));}};D.prototype._detachContainerResizeListener=function(){if(this._sContainerResizeListener){R.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;}};D.prototype._getBreakPointFromWidth=function(w){if(w<=l&&this._currentBreakpoint!==S){return S;}else if((w>l)&&(w<=m)&&this._currentBreakpoint!==M){return M;}else if((w>m)&&(w<=n)&&this._currentBreakpoint!==L){return L;}else if(w>n&&this._currentBreakpoint!==X){return X;}return this._currentBreakpoint;};D.prototype._setBreakpointFromWidth=function(w){this._currentBreakpoint=this._getBreakPointFromWidth(w);if(this._bSuppressInitialFireBreakPointChange){this._bSuppressInitialFireBreakPointChange=false;}else{this.fireBreakpointChanged({currentBreakpoint:this._currentBreakpoint});}};D.prototype._adjustToScreenSize=function(){if(this.getContainerQuery()){this._iWindowWidth=this.$().parent().width();}else{this._iWindowWidth=q(window).width();}if(this._iWindowWidth!==this._iOldWindowWidth){this._iOldWindowWidth=this._iWindowWidth;this._oldBreakPoint=this._currentBreakpoint;this._setBreakpointFromWidth(this._iWindowWidth);if((this._oldBreakPoint!==this._currentBreakpoint)||(this._currentBreakpoint===M&&this.getSideContentFallDown()===sap.ui.layout.SideContentFallDown.OnMinimumWidth)){this._setResizeData(this._currentBreakpoint,this.getEqualSplit());this._changeGridState();}}};D.prototype._setResizeData=function(s,o){var p=this.getSideContentVisibility(),r=this.getSideContentFallDown();if(!o){switch(s){case S:this._setSpanSize(i,i);if(this.getProperty("showSideContent")&&this.getProperty("showMainContent")){this._SCVisible=p===sap.ui.layout.SideContentVisibility.AlwaysShow;}this._bFixedSideContent=false;break;case M:var t=Math.ceil((33.333/100)*this._iWindowWidth);if(r===sap.ui.layout.SideContentFallDown.BelowL||r===sap.ui.layout.SideContentFallDown.BelowXL||(t<=320&&r===sap.ui.layout.SideContentFallDown.OnMinimumWidth)){this._setSpanSize(i,i);this._bFixedSideContent=false;}else{this._setSpanSize(e,g);this._bFixedSideContent=true;}this._SCVisible=p===sap.ui.layout.SideContentVisibility.ShowAboveS||p===sap.ui.layout.SideContentVisibility.AlwaysShow;this._MCVisible=true;break;case L:if(r===sap.ui.layout.SideContentFallDown.BelowXL){this._setSpanSize(i,i);}else{this._setSpanSize(e,g);}this._SCVisible=p===sap.ui.layout.SideContentVisibility.ShowAboveS||p===sap.ui.layout.SideContentVisibility.ShowAboveM||p===sap.ui.layout.SideContentVisibility.AlwaysShow;this._MCVisible=true;this._bFixedSideContent=false;break;case X:this._setSpanSize(d,h);this._SCVisible=p!==sap.ui.layout.SideContentVisibility.NeverShow;this._MCVisible=true;this._bFixedSideContent=false;break;default:throw new Error(I);}}else{switch(s){case S:this._setSpanSize(i,i);this._SCVisible=false;break;default:this._setSpanSize(f,f);this._SCVisible=true;this._MCVisible=true;}this._bFixedSideContent=false;}return this;};D.prototype._shouldSetHeight=function(){var s,B,o,O,p,F,r;s=(this._iScSpan+this._iMcSpan)===i;B=this._MCVisible&&this._SCVisible;o=!this._MCVisible&&this._SCVisible;O=this._MCVisible&&!this._SCVisible;p=o||O;F=this._fixedSideContent;r=this.getSideContentVisibility()===sap.ui.layout.SideContentVisibility.NeverShow;return((s&&B)||p||F||r);};D.prototype._changeGridState=function(){var $=this.$(j),o=this.$(k),p=this.getProperty("showMainContent"),s=this.getProperty("showSideContent");if(this._bFixedSideContent){$.removeClass().addClass(c);o.removeClass().addClass(b);}else{$.removeClass(c);o.removeClass(b);}if(this._SCVisible&&this._MCVisible&&s&&p){if(!this._bFixedSideContent){o.removeClass().addClass("sapUiDSCSpan"+this._iMcSpan);$.removeClass().addClass("sapUiDSCSpan"+this._iScSpan);}if(this._shouldSetHeight()){$.css("height","100%").css("float","left");o.css("height","100%").css("float","left");}else{$.css("height","auto").css("float","none");o.css("height","auto").css("float","none");}}else if(!this._SCVisible&&!this._MCVisible){o.addClass(H);$.addClass(H);}else if(this._MCVisible&&p){o.removeClass().addClass(a);$.addClass(H);}else if(this._SCVisible&&s){$.removeClass().addClass(a);o.addClass(H);}else if(!p&&!s){o.addClass(H);$.addClass(H);}};D.prototype._setSpanSize=function(s,o){this._iScSpan=s;this._iMcSpan=o;};return D;},true);
sap.ui.predefine('sap/ui/layout/DynamicSideContentRenderer',[],function(){"use strict";var S="SIDE_CONTENT_LABEL";var D={};D.render=function(r,s){r.write("<div");r.writeControlData(s);r.addClass("sapUiDSC");r.writeClasses();r.addStyle("height","100%");r.writeStyles();r.write(">");this.renderSubControls(r,s);r.write("</div>");};D.renderSubControls=function(r,s){var i=s.getId(),b=s._shouldSetHeight(),p=sap.ui.getCore().getConfiguration().getRTL(),a=s.getSideContentPosition();if((a===sap.ui.layout.SideContentPosition.Begin&&!p)||(p&&a===sap.ui.layout.SideContentPosition.End)){this._renderSideContent(r,s,i,b);this._renderMainContent(r,s,i,b);}else{this._renderMainContent(r,s,i,b);this._renderSideContent(r,s,i,b);}};D.renderControls=function(r,c){var l=c.length,i=0;for(;i<l;i++){r.renderControl(c[i]);}};D._renderMainContent=function(r,s,i,b){r.write("<div id='"+i+"-MCGridCell'");if(s._iMcSpan){r.addClass("sapUiDSCSpan"+s._iMcSpan);r.writeClasses();}if(b){r.addStyle("height","100%");r.writeStyles();}r.write(">");this.renderControls(r,s.getMainContent());r.write("</div>");};D._renderSideContent=function(r,s,i,b){var a=sap.ui.Device.browser.firefox?"div":"aside";r.write("<"+a+" id='"+i+"-SCGridCell'");var m=sap.ui.getCore().getLibraryResourceBundle("sap.ui.layout");r.writeAttribute("aria-label",m.getText(S));r.writeAccessibilityState(s,{role:"complementary"});if(s._iScSpan){r.addClass("sapUiDSCSpan"+s._iScSpan);r.writeClasses();}if(b){r.addStyle("height","100%");r.writeStyles();}r.write(">");this.renderControls(r,s.getSideContent());r.write("</"+a+">");};return D;},true);
sap.ui.predefine('sap/ui/layout/FixFlex',["jquery.sap.global","sap/ui/core/Control","sap/ui/core/EnabledPropagator","sap/ui/core/ResizeHandler","./library",'sap/ui/core/delegate/ScrollEnablement'],function(q,C,E,R,l,S){"use strict";var F=C.extend("sap.ui.layout.FixFlex",{metadata:{library:"sap.ui.layout",properties:{vertical:{type:"boolean",group:"Appearance",defaultValue:true},fixFirst:{type:"boolean",group:"Misc",defaultValue:true},fixContentSize:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},minFlexSize:{type:"int",defaultValue:0}},aggregations:{fixContent:{type:"sap.ui.core.Control",multiple:true,singularName:"fixContent"},flexContent:{type:"sap.ui.core.Control",multiple:false}}}});E.call(F.prototype);F.prototype.init=function(){this._scroller=new S(this,null,{scrollContainerId:this.getId()});this._innerScroller=new S(this,this.getId()+"-FlexibleContainer",{scrollContainerId:this.getId()+"-Flexible"});};F.prototype.getScrollDelegate=function(){return this._innerScroller;};F.prototype._handlerResizeNoFlexBoxSupport=function(){var c=this.$(),f,$;if(!c.is(":visible")){return;}f=this.$("Fixed");$=this.$("Flexible");f.removeAttr("style");$.removeAttr("style");if(this.getVertical()){if(this.getFixContentSize()!=='auto'){f.height(this.getFixContentSize());}$.height(Math.floor(c.height()-f.height()));}else{if(this.getFixContentSize()!=='auto'){f.width(this.getFixContentSize());$.width(Math.floor(c.width()-f.width()));}else{$.width(Math.floor(c.width()-f.width()));f.width(Math.floor(f.width()));}}};F.prototype._deregisterControl=function(){if(this.sResizeListenerNoFlexBoxSupportId){R.deregister(this.sResizeListenerNoFlexBoxSupportId);this.sResizeListenerNoFlexBoxSupportId=null;}if(this.sResizeListenerNoFlexBoxSupportFixedId){R.deregister(this.sResizeListenerNoFlexBoxSupportFixedId);this.sResizeListenerNoFlexBoxSupportFixedId=null;}if(this.sResizeListenerFixFlexScroll){R.deregister(this.sResizeListenerFixFlexScroll);this.sResizeListenerFixFlexScroll=null;}if(this.sResizeListenerFixFlexScrollFlexPart){R.deregister(this.sResizeListenerFixFlexScrollFlexPart);this.sResizeListenerFixFlexScrollFlexPart=null;}if(this.sResizeListenerFixFlexContainerScroll){R.deregister(this.sResizeListenerFixFlexContainerScroll);this.sResizeListenerFixFlexContainerScroll=null;}};F.prototype._changeScrolling=function(){var n,d,$=this.$(),a=this.getMinFlexSize(),i=this.getVertical();if(i){n=this.$().height()-this.$("Fixed").height();d="height";}else{n=this.$().width()-this.$("Fixed").width();d="width";}if(n<=parseInt(this.getMinFlexSize(),10)){$.addClass("sapUiFixFlexScrolling");$.removeClass("sapUiFixFlexInnerScrolling");if(i){this._scroller.setVertical(true);this._innerScroller.setVertical(false);}else{this._scroller.setHorizontal(true);this._innerScroller.setHorizontal(false);}if(this.$("FlexibleContainer").children().height()>a){this.$("Flexible").attr("style","min-"+d+":"+a+"px");}else{this.$("Flexible").attr("style",d+":"+a+"px");}}else{$.addClass("sapUiFixFlexInnerScrolling");$.removeClass("sapUiFixFlexScrolling");if(i){this._scroller.setVertical(false);this._innerScroller.setVertical(true);}else{this._scroller.setHorizontal(false);this._innerScroller.setHorizontal(true);}this._changeFlexibleContainerScroll();this.$("Flexible").removeAttr("style");}};F.prototype._changeFlexibleContainerScroll=function(){var $=this.$("FlexibleContainer"),c=$.height(),a=$.children().height();if(c==a){return;}if(c>a){$.removeClass('sapUiFixFlexFlexibleContainerGrowing');}else{$.addClass('sapUiFixFlexFlexibleContainerGrowing');}};F.prototype.exit=function(){this._deregisterControl();if(this._scroller){this._scroller.destroy();this._scroller=null;}if(this._innerScroller){this._innerScroller.destroy();this._innerScroller=null;}};F.prototype.onBeforeRendering=function(){var s=this._scroller,i=this._innerScroller;this._deregisterControl();s.setVertical(false);s.setHorizontal(false);i.setVertical(true);i.setHorizontal(true);};F.prototype.onAfterRendering=function(){if(!q.support.hasFlexBoxSupport){this.sResizeListenerNoFlexBoxSupportFixedId=R.register(this.getDomRef("Fixed"),q.proxy(this._handlerResizeNoFlexBoxSupport,this));this.sResizeListenerNoFlexBoxSupportId=R.register(this.getDomRef(),q.proxy(this._handlerResizeNoFlexBoxSupport,this));this._handlerResizeNoFlexBoxSupport();}if(this.getMinFlexSize()!==0){this.sResizeListenerFixFlexScroll=R.register(this.getDomRef(),q.proxy(this._changeScrolling,this));this.sResizeListenerFixFlexScrollFlexPart=R.register(this.getDomRef("Fixed"),q.proxy(this._changeScrolling,this));var f=this.$("FlexibleContainer").children()[0];if(f){this.sResizeListenerFixFlexContainerScroll=R.register(f,q.proxy(this._changeFlexibleContainerScroll,this));}this._changeScrolling();}};return F;},true);
sap.ui.predefine('sap/ui/layout/FixFlexRenderer',['jquery.sap.global'],function(q){"use strict";var F={};F.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUiFixFlex');if(c.getMinFlexSize()!==0){r.addClass('sapUiFixFlexInnerScrolling');}if(!c.getVertical()){r.addClass('sapUiFixFlexRow');}if(!q.support.hasFlexBoxSupport){r.addClass('sapUiFixFlex-Legacy');}r.writeClasses();r.write('>');if(c.getFixFirst()){this.renderFixChild(r,c);this.renderFlexChild(r,c);}else{this.renderFlexChild(r,c);this.renderFixChild(r,c);}r.write('</div>');};F.renderFixChild=function(r,c){var f=c.getFixContent();r.write('<div id="'+c.getId()+'-Fixed" class="sapUiFixFlexFixed"');if(c.getFixContentSize()!=='auto'){if(c.getVertical()){r.addStyle('height',c.getFixContentSize());}else{r.addStyle('width',c.getFixContentSize());}r.writeStyles();}r.write('>');for(var i=0;i<f.length;i++){r.renderControl(f[i]);}r.write('</div>');};F.renderFlexChild=function(r,c){var f=c.getFlexContent();r.write('<div id="'+c.getId()+'-Flexible" class="sapUiFixFlexFlexible">');r.write('<div id="'+c.getId()+'-FlexibleContainer" class="sapUiFixFlexFlexibleContainer"');if(c.getMinFlexSize()!==0){if(c.getVertical()){r.write('style="min-height:'+c.getMinFlexSize()+'px"');}else{r.write('style="min-width:'+c.getMinFlexSize()+'px"');}}r.write('>');r.renderControl(f);r.write('</div>');r.write('</div>');};return F;},true);
sap.ui.predefine('sap/ui/layout/Grid',['jquery.sap.global','sap/ui/core/Control','./library'],function(q,C,l){"use strict";var G=C.extend("sap.ui.layout.Grid",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},vSpacing:{type:"float",group:"Dimension",defaultValue:1},hSpacing:{type:"float",group:"Dimension",defaultValue:1},position:{type:"sap.ui.layout.GridPosition",group:"Dimension",defaultValue:"Left"},defaultSpan:{type:"sap.ui.layout.GridSpan",group:"Behavior",defaultValue:"XL3 L3 M6 S12"},defaultIndent:{type:"sap.ui.layout.GridIndent",group:"Behavior",defaultValue:"XL0 L0 M0 S0"},containerQuery:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}}});(function(){G.prototype.init=function(){this._iBreakPointTablet=sap.ui.Device.media._predefinedRangeSets[sap.ui.Device.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=sap.ui.Device.media._predefinedRangeSets[sap.ui.Device.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=sap.ui.Device.media._predefinedRangeSets[sap.ui.Device.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];this._indentXLChanged=false;this._spanXLChanged=false;};G.prototype.onAfterRendering=function(){if(this.getContainerQuery()){this._sContainerResizeListener=sap.ui.core.ResizeHandler.register(this,q.proxy(this._onParentResize,this));this._onParentResize();}else{this._attachMediaContainerWidthChange(this._handleMediaChange,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD_EXTENDED);}};G.prototype.onBeforeRendering=function(){this._cleanup();};G.prototype.exit=function(){this._cleanup();};G.prototype._cleanup=function(){if(this._sContainerResizeListener){sap.ui.core.ResizeHandler.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;}this._detachMediaContainerWidthChange(this._handleMediaChange,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD_EXTENDED);};G.prototype._handleMediaChange=function(p){this._toggleClass(p.name);};G.prototype._setBreakPointTablet=function(b){this._iBreakPointTablet=b;};G.prototype._setBreakPointDesktop=function(b){this._iBreakPointDesktop=b;};G.prototype._setBreakPointLargeDesktop=function(b){this._iBreakPointLargeDesktop=b;};G.prototype.setDefaultIndent=function(d){if(/XL/gi.test(d)){this._setIndentXLChanged(true);}return this.setProperty("defaultIndent",d);};G.prototype._setIndentXLChanged=function(c){this._indentXLChanged=c;};G.prototype._getIndentXLChanged=function(){return this._indentXLChanged;};G.prototype.setDefaultSpan=function(d){if(/XL/gi.test(d)){this._setSpanXLChanged(true);}return this.setProperty("defaultSpan",d);};G.prototype._setSpanXLChanged=function(c){this._spanXLChanged=c;};G.prototype._getSpanXLChanged=function(){return this._spanXLChanged;};G.prototype._onParentResize=function(){var d=this.getDomRef();if(!d){this._cleanup();return;}if(!q(d).is(":visible")){return;}var c=d.clientWidth;if(c<=this._iBreakPointTablet){this._toggleClass("Phone");}else if((c>this._iBreakPointTablet)&&(c<=this._iBreakPointDesktop)){this._toggleClass("Tablet");}else if((c>this._iBreakPointDesktop)&&(c<=this._iBreakPointLargeDesktop)){this._toggleClass("Desktop");}else{this._toggleClass("LargeDesktop");}};G.prototype._toggleClass=function(m){var d=this.$();if(!d){return;}if(d.hasClass("sapUiRespGridMedia-Std-"+m)){return;}d.toggleClass("sapUiRespGridMedia-Std-"+m,true);if(m==="Phone"){d.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false);}else if(m==="Tablet"){d.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false);}else if(m==="LargeDesktop"){d.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false);}else{d.toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false);}this.fireEvent("mediaChanged",{media:m});};G.prototype._getLayoutDataForControl=function(c){var L=c.getLayoutData();if(!L){return undefined;}else if(L instanceof sap.ui.layout.GridData){return L;}else if(L.getMetadata().getName()=="sap.ui.core.VariantLayoutData"){var a=L.getMultipleLayoutData();for(var i=0;i<a.length;i++){var o=a[i];if(o instanceof sap.ui.layout.GridData){return o;}}}};G.prototype.onLayoutDataChange=function(e){if(this.getDomRef()){this.invalidate();}};G.prototype._getAccessibleRole=function(){return null;};G.prototype.getAccessibilityInfo=function(){return{children:this.getContent()};};}());return G;},true);
sap.ui.predefine('sap/ui/layout/GridData',['jquery.sap.global','sap/ui/core/LayoutData','./library'],function(q,L,l){"use strict";var G=L.extend("sap.ui.layout.GridData",{metadata:{library:"sap.ui.layout",properties:{span:{type:"sap.ui.layout.GridSpan",group:"Behavior",defaultValue:null},spanXL:{type:"int",group:"Behavior",defaultValue:null},spanL:{type:"int",group:"Behavior",defaultValue:null},spanM:{type:"int",group:"Behavior",defaultValue:null},spanS:{type:"int",group:"Behavior",defaultValue:null},indent:{type:"sap.ui.layout.GridIndent",group:"Behavior",defaultValue:null},indentXL:{type:"int",group:"Behavior",defaultValue:null},indentL:{type:"int",group:"Behavior",defaultValue:null},indentM:{type:"int",group:"Behavior",defaultValue:null},indentS:{type:"int",group:"Behavior",defaultValue:null},visibleXL:{type:"boolean",group:"Behavior",defaultValue:true},visibleL:{type:"boolean",group:"Behavior",defaultValue:true},visibleM:{type:"boolean",group:"Behavior",defaultValue:true},visibleS:{type:"boolean",group:"Behavior",defaultValue:true},moveBackwards:{type:"sap.ui.layout.GridIndent",group:"Misc",defaultValue:null},moveForward:{type:"sap.ui.layout.GridIndent",group:"Misc",defaultValue:null},linebreak:{type:"boolean",group:"Misc",defaultValue:false},linebreakXL:{type:"boolean",group:"Misc",defaultValue:false},linebreakL:{type:"boolean",group:"Misc",defaultValue:false},linebreakM:{type:"boolean",group:"Misc",defaultValue:false},linebreakS:{type:"boolean",group:"Misc",defaultValue:false},spanLarge:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},spanMedium:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},spanSmall:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentLarge:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentMedium:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentSmall:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},visibleOnLarge:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},visibleOnMedium:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},visibleOnSmall:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true}}}});(function(){G.prototype._setStylesInternal=function(s){if(s&&s.length>0){this._sStylesInternal=s;}else{this._sStylesInternal=undefined;}};G.prototype._getEffectiveSpanXLarge=function(){var s=this.getSpanXL();if(s&&(s>0)&&(s<13)){return s;}var S=/XL([1-9]|1[0-2])(?:\s|$)/i;var a=S.exec(this.getSpan());if(a){var b=a[0];if(b){b=b.toUpperCase();if(b.substr(0,2)==="XL"){return parseInt(b.substr(2),10);}}}return undefined;};G.prototype._getEffectiveSpanLarge=function(){var s=this.getSpanL();if(s&&(s>0)&&(s<13)){return s;}var S=/\bL([1-9]|1[0-2])(?:\s|$)/i;var a=S.exec(this.getSpan());if(a){var b=a[0];if(b){b=b.toUpperCase();if(b.substr(0,1)==="L"){return parseInt(b.substr(1),10);}}}return undefined;};G.prototype._getEffectiveSpanMedium=function(){var s=this.getSpanM();if(s&&(s>0)&&(s<13)){return s;}var S=/M([1-9]|1[0-2])(?:\s|$)/i;var a=S.exec(this.getSpan());if(a){var b=a[0];if(b){b=b.toUpperCase();if(b.substr(0,1)==="M"){return parseInt(b.substr(1),10);}}}return undefined;};G.prototype._getEffectiveSpanSmall=function(){var s=this.getSpanS();if(s&&(s>0)&&(s<13)){return s;}var S=/S([1-9]|1[0-2])(?:\s|$)/i;var a=S.exec(this.getSpan());if(a){var b=a[0];if(b){b=b.toUpperCase();if(b.substr(0,1)==="S"){return parseInt(b.substr(1),10);}}}return undefined;};G.prototype.init=function(){this._bLinebreakXLChanged=false;};G.prototype.setLinebreakXL=function(b){this.setProperty("linebreakXL",b);this._bLinebreakXLChanged=true;return this;};G.prototype._getLinebreakXLChanged=function(){return this._bLinebreakXLChanged;};G.prototype.setSpanLarge=function(s){this.setSpanL(s);q.sap.log.warning("Deprecated property spanLarge is used, please use spanL instead.");return this;};G.prototype.setSpanMedium=function(s){q.sap.log.warning("Deprecated property spanMedium is used, please use spanM instead.");return this.setSpanM(s);};G.prototype.setSpanSmall=function(s){q.sap.log.warning("Deprecated property spanSmall is used, please use spanS instead.");return this.setSpanS(s);};G.prototype.setIndentLarge=function(i){q.sap.log.warning("Deprecated property indentLarge is used, please use indentL instead.");return this.setIndentL(i);};G.prototype.setIndentMedium=function(i){q.sap.log.warning("Deprecated property indentMedium is used, please use indentM instead.");return this.setIndentM(i);};G.prototype.setIndentSmall=function(i){q.sap.log.warning("Deprecated property indentSmall is used, please use indentS instead.");return this.setIndentS(i);};G.prototype.setVisibleOnLarge=function(v){q.sap.log.warning("Deprecated property visibleOnLarge is used, please use visibleL instead.");return this.setVisibleL(v);};G.prototype.setVisibleOnMedium=function(v){q.sap.log.warning("Deprecated property visibleOnMedium is used, please use visibleM instead.");return this.setVisibleM(v);};G.prototype.setVisibleOnSmall=function(v){q.sap.log.warning("Deprecated property visibleOnSmall is used, please use visibleS instead.");return this.setVisibleS(v);};G.prototype.getSpanLarge=function(){q.sap.log.warning("Deprecated property spanLarge is used, please use spanL instead.");return this.getSpanL();};G.prototype.getSpanMedium=function(){q.sap.log.warning("Deprecated property spanMedium is used, please use spanM instead.");return this.getSpanM();};G.prototype.getSpanSmall=function(){q.sap.log.warning("Deprecated property spanSmall is used, please use spanS instead.");return this.getSpanS();};G.prototype.getIndentLarge=function(){q.sap.log.warning("Deprecated property indentLarge is used, please use indentL instead.");return this.getIndentL();};G.prototype.getIndentMedium=function(){q.sap.log.warning("Deprecated property indentMedium is used, please use indentM instead.");return this.getIndentM();};G.prototype.getIndentSmall=function(){q.sap.log.warning("Deprecated property indentSmall is used, please use indentS instead.");return this.getIndentS();};G.prototype.getVisibleOnLarge=function(){q.sap.log.warning("Deprecated property visibleOnLarge is used, please use visibleL instead.");return this.getVisibleL();};G.prototype.getVisibleOnMedium=function(){q.sap.log.warning("Deprecated property visibleOnMedium is used, please use visibleM instead.");return this.getVisibleM();};G.prototype.getVisibleOnSmall=function(){q.sap.log.warning("Deprecated property visibleOnSmall is used, please use visibleS instead.");return this.getVisibleS();};}());return G;},true);
sap.ui.predefine('sap/ui/layout/GridRenderer',['jquery.sap.global'],function(q){"use strict";var G={};G.render=function(r,c){var I=/^([X][L](?:[0-9]|1[0-1]))? ?([L](?:[0-9]|1[0-1]))? ?([M](?:[0-9]|1[0-1]))? ?([S](?:[0-9]|1[0-1]))?$/i;var S=/^([X][L](?:[1-9]|1[0-2]))? ?([L](?:[1-9]|1[0-2]))? ?([M](?:[1-9]|1[0-2]))? ?([S](?:[1-9]|1[0-2]))?$/i;r.write("<div");r.writeControlData(c);r.addClass("sapUiRespGrid");var M=c._getCurrentMediaContainerRange(sap.ui.Device.media.RANGESETS.SAP_STANDARD_EXTENDED).name;r.addClass("sapUiRespGridMedia-Std-"+M);var h=c.getHSpacing();if(h==0.5){h="05";}else if((h!==0)&&(h!==1)&&(h!==2)){h=1;}r.addClass("sapUiRespGridHSpace"+h);var v=c.getVSpacing();if(v==0.5){v="05";}else if((v!==0)&&(v!==1)&&(v!==2)){v=1;}r.addClass("sapUiRespGridVSpace"+v);var p=c.getPosition();if(p){p=p.toUpperCase();if(p===sap.ui.layout.GridPosition.Center.toUpperCase()){r.addClass("sapUiRespGridPosCenter");}else if(p===sap.ui.layout.GridPosition.Right.toUpperCase()){r.addClass("sapUiRespGridPosRight");}}r.writeClasses();var w=c.getWidth();if(w!=="100%"&&w!=="auto"&&w!=="inherit"){if(h==0){w="width: "+w;}else{w="width: -webkit-calc("+w+" - "+h+"rem); width: calc("+w+" - "+h+"rem); ";}r.writeAttribute("style",w);}var R=c._getAccessibleRole();var a;if(R){a={role:R};}r.writeAccessibilityState(c,a);r.write(">");var b=c.getContent();var d=c.getDefaultSpan();var e=["","XL3","L3","M6","S12"];var f=["","XL0","L0","M0","S0"];var D=S.exec(d);var g=c._getSpanXLChanged();var k=c._getIndentXLChanged();var n=c.getDefaultIndent();var o=I.exec(n);for(var i=0;i<b.length;i++){r.write("<div");var L=c._getLayoutDataForControl(b[i]);var C=false;if(L){var B=false;if(L.getLinebreak()===true){r.addClass("sapUiRespGridBreak");}else{if(L.getLinebreakXL()===true){B=true;r.addClass("sapUiRespGridBreakXL");}if(L.getLinebreakL()===true){if(!B&&!L._getLinebreakXLChanged()){r.addClass("sapUiRespGridBreakXL");}r.addClass("sapUiRespGridBreakL");}if(L.getLinebreakM()===true){r.addClass("sapUiRespGridBreakM");}if(L.getLinebreakS()===true){r.addClass("sapUiRespGridBreakS");}}var t;var u;var x=L.getSpan();if(!x||!x.lenght==0){t=D;}else{t=S.exec(x);if(/XL/gi.test(x)){C=true;}}if(t){for(var j=1;j<t.length;j++){var y=t[j];if(!y){y=D[j];if(!y){y=e[j];}}if(y.substr(0,1)==="L"){u=y.substr(1,2);}var z=L.getSpanXL();var A=L.getSpanL();var E=L.getSpanM();var F=L.getSpanS();y=y.toUpperCase();if((y.substr(0,2)==="XL")&&(z>0)&&(z<13)){r.addClass("sapUiRespGridSpanXL"+z);C=true;}else if((y.substr(0,1)==="L")&&(A>0)&&(A<13)){r.addClass("sapUiRespGridSpanL"+A);u=A;}else if((y.substr(0,1)==="M")&&(E>0)&&(E<13)){r.addClass("sapUiRespGridSpanM"+E);}else if((y.substr(0,1)==="S")&&(F>0)&&(F<13)){r.addClass("sapUiRespGridSpanS"+F);}else{if((y.substr(0,2)!=="XL")||g||C){r.addClass("sapUiRespGridSpan"+y);}}}if(!g&&!C){r.addClass("sapUiRespGridSpanXL"+u);}}var H;var J;var K=L.getIndent();if(!K||K.length==0){H=o;}else{H=I.exec(K);if(/XL/gi.test(K)){k=true;}}if(!H){H=o;if(!H){H=undefined;}}var N=L.getIndentXL();var O=L.getIndentL();var P=L.getIndentM();var Q=L.getIndentS();if(H){for(var j=1;j<H.length;j++){var T=H[j];if(!T){if(o&&o[j]){T=o[j];}else{T=f[j];}}if(T){T=T.toUpperCase();if(T.substr(0,1)==="L"){J=T.substr(1,2);}if((T.substr(0,2)==="XL")&&(N>0)&&(N<12)){r.addClass("sapUiRespGridIndentXL"+N);k=true;}else if((T.substr(0,1)==="L")&&(O>0)&&(O<12)){r.addClass("sapUiRespGridIndentL"+O);J=O;}else if((T.substr(0,1)==="M")&&(P>0)&&(P<12)){r.addClass("sapUiRespGridIndentM"+P);}else if((T.substr(0,1)==="S")&&(Q>0)&&(Q<12)){r.addClass("sapUiRespGridIndentS"+Q);}else{if(!(/^(XL0)? ?(L0)? ?(M0)? ?(S0)?$/.exec(T))){r.addClass("sapUiRespGridIndent"+T);}}}}if(!k){if(J&&J>0){r.addClass("sapUiRespGridIndentXL"+J);}}}var l=L.getVisibleL(),m=L.getVisibleM(),s=L.getVisibleS();if(!l&&m&&s){r.addClass("sapUiRespGridHiddenL");r.addClass("sapUiRespGridHiddenXL");}else if(!l&&!m&&s){r.addClass("sapUiRespGridVisibleS");}else if(l&&!m&&!s){r.addClass("sapUiRespGridVisibleL");r.addClass("sapUiRespGridVisibleXL");}else if(!l&&m&&!s){r.addClass("sapUiRespGridVisibleM");}else if(l&&!m&&s){r.addClass("sapUiRespGridHiddenM");}else if(l&&m&&!s){r.addClass("sapUiRespGridHiddenS");}var U=L.getMoveBackwards();if(U&&U.length>0){var V=I.exec(U);if(V){for(var j=1;j<V.length;j++){var W=V[j];if(W){r.addClass("sapUiRespGridBwd"+W.toUpperCase());}}}}var X=L.getMoveForward();if(X&&X.length>0){var Y=I.exec(X);if(Y){for(var j=1;j<Y.length;j++){var Z=Y[j];if(Z){r.addClass("sapUiRespGridFwd"+Z.toUpperCase());}}}}if(L._sStylesInternal){r.addClass(L._sStylesInternal);}}if(!L){var y="";if(D){for(var j=1;j<D.length;j++){y=D[j];if(!y){if((j==1)&&(D[j+1])){y="X"+D[j+1];}else{y=e[j];}}r.addClass("sapUiRespGridSpan"+y.toUpperCase());}}else{for(var j=1;j<e.length;j++){y=e[j];r.addClass("sapUiRespGridSpan"+y.toUpperCase());}}var T="";if(o){for(var j=1;j<o.length;j++){T=o[j];if(!T){if((j==1)&&(o[j+1])){T="X"+o[j+1];}else{T=f[j];}}if(((T.substr(0,1)!=="X")&&(T.substr(1,1)!=="0"))||((T.substr(0,1)=="X")&&(T.substr(2,1)!=="0"))){r.addClass("sapUiRespGridIndent"+T.toUpperCase());}}}}r.writeClasses();r.write(">");r.renderControl(b[i]);r.write("</div>");}r.write("</div>");};return G;},true);
sap.ui.predefine('sap/ui/layout/HorizontalLayout.designtime',[],function(){"use strict";return{aggregations:{content:{domRef:":sap-domref",actions:{move:"moveControls"}}},actions:{remove:{changeType:"hideControl"},reveal:{changeType:"unhideControl"}},name:{singular:"HORIZONTAL_LAYOUT_CONTROL_NAME",plural:"HORIZONTAL_LAYOUT_CONTROL_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/ui/layout/HorizontalLayout',['jquery.sap.global','sap/ui/core/Control','./library'],function(q,C,l){"use strict";var H=C.extend("sap.ui.layout.HorizontalLayout",{metadata:{library:"sap.ui.layout",properties:{allowWrapping:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},designTime:true}});H.prototype.getAccessibilityInfo=function(){return{children:this.getContent()};};return H;},true);
sap.ui.predefine('sap/ui/layout/HorizontalLayoutRenderer',['jquery.sap.global'],function(q){"use strict";var H={};H.render=function(r,c){var a=r;var n=!c.getAllowWrapping();a.write("<div");a.writeControlData(c);a.addClass("sapUiHLayout");if(n){a.addClass("sapUiHLayoutNoWrap");}a.writeClasses();a.write(">");var C=c.getContent();for(var i=0;i<C.length;i++){if(n){a.write("<div class='sapUiHLayoutChildWrapper'>");}a.renderControl(C[i]);if(n){a.write("</div>");}}a.write("</div>");};return H;},true);
sap.ui.predefine('sap/ui/layout/PaneContainer',['jquery.sap.global','./library','sap/ui/core/Element','./Splitter','./AssociativeSplitter'],function(q,l,E,S,A){"use strict";var P=E.extend("sap.ui.layout.PaneContainer",{metadata:{library:"sap.ui.layout",properties:{orientation:{type:"sap.ui.core.Orientation",group:"Behavior",defaultValue:sap.ui.core.Orientation.Horizontal}},defaultAggregation:"panes",aggregations:{panes:{type:"sap.ui.core.Element",multiple:true,singularName:"pane"}}}});P.prototype.init=function(){this._oSplitter=new A({orientation:this.getOrientation(),height:"100%"});this._oSplitter._bUseIconForSeparator=false;};P.prototype.setOrientation=function(o){this._oSplitter.setOrientation(o);return this.setProperty("orientation",o,true);};P.prototype._getPanesInInterval=function(f){return this.getPanes().filter(function(p){return p instanceof sap.ui.layout.SplitPane&&p._isInInterval(f);});};P.prototype.setLayoutData=function(L){return this._oSplitter.setLayoutData(L);};return P;},true);
sap.ui.predefine('sap/ui/layout/ResponsiveFlowLayout',['jquery.sap.global','sap/ui/core/Control','sap/ui/core/IntervalTrigger','sap/ui/core/theming/Parameters','./ResponsiveFlowLayoutData','./library'],function(q,C,I,P,R,l){"use strict";var a=C.extend("sap.ui.layout.ResponsiveFlowLayout",{metadata:{library:"sap.ui.layout",properties:{responsive:{type:"boolean",group:"Misc",defaultValue:true}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}}});(function(){a.prototype.init=function(){this._rows=[];this._bIsRegistered=false;this._proxyComputeWidths=q.proxy(d,this);this._iRowCounter=0;};a.prototype.exit=function(){delete this._rows;if(this._IntervalCall){q.sap.clearDelayedCall(this._IntervalCall);this._IntervalCall=undefined;}if(this._resizeHandlerComputeWidthsID){sap.ui.core.ResizeHandler.deregister(this._resizeHandlerComputeWidthsID);}delete this._resizeHandlerComputeWidthsID;delete this._proxyComputeWidths;if(this.oRm){this.oRm.destroy();delete this.oRm;}delete this._$DomRef;delete this._oDomRef;delete this._iRowCounter;};var u=function(t){var e=t.getContent();var r=[];var f=-1;var o={},L={};var s="";var h;var m=0,w=0,j=0;var B=false,M=false,k=false;for(var i=0;i<e.length;i++){m=R.MIN_WIDTH;w=R.WEIGHT;B=R.LINEBREAK;M=R.MARGIN;k=R.LINEBREAKABLE;h=_(e[i]);if(h instanceof R){B=h.getLinebreak();m=h.getMinWidth();w=h.getWeight();M=h.getMargin();k=h.getLinebreakable();}if(f<0||B){f++;r.push({height:-1,cont:[]});}j=r[f].cont.length;s=e[i].getId()+"-cont"+f+"_"+j;o={minWidth:m,weight:w,linebreakable:k,padding:M,control:e[i],id:s,breakWith:[]};var p=false;if(!k){for(var n=j;n>0;n--){L=r[f].cont[n-1];if(L.linebreakable){L.breakWith.push(o);p=true;break;}}}if(!p){r[f].cont.push(o);}}t._rows=r;};var g=function(o,$,t){var r=[];var e=10000000;var f=-1;var h=function(j){var k=q.sap.byId(o.cont[j].id);if(k.length>0){var m=k[0].offsetLeft;if(e>=m){r.push({cont:[]});f++;}e=m;r[f].cont.push(o.cont[j]);}};if(sap.ui.getCore().getConfiguration().getRTL()){for(var i=o.cont.length-1;i>=0;i--){h(i);}}else{for(var i=0;i<o.cont.length;i++){h(i);}}return r;};var b=function(o,w){var r=[];var e=-1;var f=0;var t=0;var i=0;var h=0,m=0;var j=0,k=0;for(j=0;j<o.cont.length;j++){f=0;t=0;for(k=i;k<=j;k++){t=t+o.cont[k].weight;}for(k=i;k<=j;k++){h=w/t*o.cont[k].weight;h=Math.floor(h);m=o.cont[k].minWidth;f+=Math.max(h,m);}if(e==-1||f>w){r.push({cont:[]});if(e!==-1){i=j;}e++;}r[e].cont.push(o.cont[j]);}return r;};var c=function(w,e){if(w.length!=e.length){return true;}for(var i=0;i<w.length;i++){if(w[i].cont.length!=e[i].cont.length){return true;}}return false;};a.prototype.renderContent=function(t,w){var r=t,e=0,W=[],i=0,f=0,j=0,h=0,k=0,p=0,o,m=0,n=0,B=[],s=[],v=this.getId(),H="",x=this._getRenderManager();for(i=0;i<r.length;i++){p=0;W.length=0;e=100;s.length=0;s.push("sapUiRFLRow");if(r[i].cont.length<=1){s.push("sapUiRFLCompleteRow");}var y=v+"-row"+this._iRowCounter;var S={};x.writeHeader(y,S,s);k=0;for(f=0;f<r[i].cont.length;f++){k+=r[i].cont[f].weight;}for(j=0;j<r[i].cont.length;j++){o=r[i].cont[j];m=0;n=0;if(o.breakWith.length>0){m=o.weight;n=o.minWidth;for(var z=0;z<o.breakWith.length;z++){m+=o.breakWith[z].weight;n+=o.breakWith[z].minWidth;}}H=r[i].cont[j].id;s.length=0;S={"min-width":o.breakWith.length>0?n:o.minWidth};p=100/k*o.weight;var A=S["min-width"]/w*100;var D=Math.ceil(A);var E=Math.floor(p);if(E!==100&&D>E){p=D;}else{p=E;}p=e<p?e:p;e-=p;W.push(p);if(e>0&&j===(r[i].cont.length-1)){p+=e;}s.push("sapUiRFLContainer");S["width"]=p+"%";S["min-width"]=S["min-width"]+"px";x.writeHeader(H,S,s);s.length=0;s.push("sapUiRFLContainerContent");if(o.breakWith.length>0){s.push("sapUiRFLMultiContainerContent");}if(o.padding){s.push("sapUiRFLPaddingClass");}var F=this._addContentClass(o.control,j);if(F){s.push(F);}S={};x.writeHeader("",S,s);if(o.breakWith.length>0){H=r[i].cont[j].id+"-multi0";s.length=0;S={"min-width":n+"px"};var G=100/m*o.weight;G=Math.floor(G);B.push(G);s.push("sapUiRFLMultiContent");S["width"]=G+"%";if(r[i].cont[j].padding){s.push("sapUiRFLPaddingClass");}x.writeHeader(H,S,s);var J=G;x.renderControl(o.control);x.write("</div>");for(h=0;h<o.breakWith.length;h++){H=o.breakWith[h].id+'-multi'+(h+1);s.length=0;S={"min-width":o.breakWith[h].minWidth+"px"};G=100/m*o.breakWith[h].weight;G=Math.floor(G);B.push(G);J+=G;if(J<100&&h===(o.breakWith.length-1)){G+=100-J;}s.push("sapUiRFLMultiContent");S["width"]=G+"%";if(o.breakWith[h].padding){s.push("sapUiRFLPaddingClass");}x.writeHeader(H,S,s);x.renderControl(o.breakWith[h].control);x.write("</div>");}}else{x.renderControl(o.control);}x.write("</div>");x.write("</div>");}x.write("</div>");this._iRowCounter++;}};var d=function(e){this._iRowCounter=0;this._oDomRef=this.getDomRef();if(this._oDomRef){var s=this.getId();var f=q(this._oDomRef).width();var r=false;if(this._rows){for(var i=0;i<this._rows.length;i++){var $=this._$DomRef.find("#"+s+"-row"+i);var t=b(this._rows[i],f);var o=g(this._rows[i],$,this);r=c(o,t);var h=this._getElementRect($);var p=this._rows[i].oRect;if(h&&p){r=r||(h.width!==p.width)&&(h.height!==p.height);}r=r||(typeof(e)==="boolean"&&e);if(this._bLayoutDataChanged||r){if(sap.ui.Device.browser.internet_explorer){q(this._oDomRef).empty();}else{this._oDomRef.innerHTML="";}this._bLayoutDataChanged=false;this.renderContent(t,f);}}if(this._oDomRef.innerHTML===""){this._getRenderManager().flush(this._oDomRef);for(var i=0;i<this._rows.length;i++){var T=this._getElementRect(q.sap.byId(s+"-row"+i));this._rows[i].oRect=T;}}if(this._rows.length===0){if(this._resizeHandlerComputeWidthsID){sap.ui.core.ResizeHandler.deregister(this._resizeHandlerComputeWidthsID);delete this._resizeHandlerComputeWidthsID;}}}}};a.prototype.onBeforeRendering=function(){u(this);if(this._resizeHandlerFullLengthID){sap.ui.core.ResizeHandler.deregister(this._resizeHandlerFullLengthID);delete this._resizeHandlerFullLengthID;}};a.prototype.onAfterRendering=function(e){this._oDomRef=this.getDomRef();this._$DomRef=q(this._oDomRef);this._proxyComputeWidths(true);if(this.getResponsive()){if(!this._resizeHandlerComputeWidthsID){this._resizeHandlerComputeWidthsID=sap.ui.core.ResizeHandler.register(this,this._proxyComputeWidths);}}else{if(this._resizeHandlerComputeWidthsID){sap.ui.core.ResizeHandler.deregister(this._resizeHandlerComputeWidthsID);delete this._resizeHandlerComputeWidthsID;}}};a.prototype.onThemeChanged=function(e){if(e.type==="LayoutDataChange"){this._bLayoutDataChanged=true;}if(!this._resizeHandlerComputeWidthsID){this._resizeHandlerComputeWidthsID=sap.ui.core.ResizeHandler.register(this,this._proxyComputeWidths);}u(this);this._proxyComputeWidths();};a.prototype.onLayoutDataChange=a.prototype.onThemeChanged;var _=function(o){var L=o.getLayoutData();if(!L){return undefined;}else if(L instanceof R){return L;}else if(L.getMetadata().getName()=="sap.ui.core.VariantLayoutData"){var e=L.getMultipleLayoutData();for(var i=0;i<e.length;i++){var f=e[i];if(f instanceof R){return f;}}}};a.prototype.addContent=function(o){if(o&&this._IntervalCall){q.sap.clearDelayedCall(this._IntervalCall);this._IntervalCall=undefined;}this.addAggregation("content",o);};a.prototype.insertContent=function(o,i){if(o&&this._IntervalCall){q.sap.clearDelayedCall(this._IntervalCall);this._IntervalCall=undefined;}this.insertAggregation("content",o,i);};a.prototype.removeContent=function(o){if(o&&this._IntervalCall){q.sap.clearDelayedCall(this._IntervalCall);this._IntervalCall=undefined;}this.removeAggregation("content",o);};a.prototype._getAccessibleRole=function(){return null;};a.prototype._addContentClass=function(o,i){return null;};a.prototype._getElementRect=function(e){var r=e&&e.rect();if(r){r.height=r.height.toFixed(1);r.width=r.width.toFixed(1);}return r;};a.prototype._getRenderManager=function(){if(!this.oRm){this.oRm=sap.ui.getCore().createRenderManager();this.oRm.writeStylesAndClasses=function(){this.writeStyles();this.writeClasses();};this.oRm.writeHeader=function(s,S,e){this.write('<div id="'+s+'"');if(S){for(var k in S){if(k==="width"&&S[k]==="100%"){this.addClass("sapUiRFLFullLength");}this.addStyle(k,S[k]);}}for(var i=0;i<e.length;i++){this.addClass(e[i]);}this.writeStylesAndClasses();this.write(">");};}return this.oRm;};}());return a;},true);
sap.ui.predefine('sap/ui/layout/ResponsiveFlowLayoutData',['jquery.sap.global','sap/ui/core/LayoutData','./library'],function(q,L,l){"use strict";var R=L.extend("sap.ui.layout.ResponsiveFlowLayoutData",{metadata:{library:"sap.ui.layout",properties:{minWidth:{type:"int",group:"Misc",defaultValue:100},weight:{type:"int",group:"Misc",defaultValue:1},linebreak:{type:"boolean",group:"Misc",defaultValue:false},margin:{type:"boolean",group:"Misc",defaultValue:true},linebreakable:{type:"boolean",group:"Misc",defaultValue:true}}}});R.MIN_WIDTH=100;R.WEIGHT=1;R.LINEBREAK=false;R.MARGIN=true;R.LINEBREAKABLE=true;R.prototype.setWeight=function(w){if(w>=1){this.setProperty("weight",w);}else{q.sap.log.warning("Values smaller than 1 are invalid. Default value '1' is used instead",this);this.setProperty("weight",R.WEIGHT);}return this;};R.prototype.setLinebreak=function(b){if(this.getLinebreakable()==false&&b){q.sap.log.warning("Setting 'linebreak' AND 'linebreakable' doesn't make any sense. Please set either 'linebreak' or 'linebreakable'",this);}else{this.setProperty("linebreak",b);}return this;};R.prototype.setLinebreakable=function(b){if(this.getLinebreak()===true&&b===false){q.sap.log.warning("Setting 'linebreak' AND 'linebreakable' doesn't make any sense. Please set either 'linebreak' or 'linebreakable'",this);}else{this.setProperty("linebreakable",b);}return this;};return R;},true);
sap.ui.predefine('sap/ui/layout/ResponsiveFlowLayoutRenderer',['jquery.sap.global'],function(q){"use strict";var R={};(function(){R.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUiRFL");r.writeClasses();var s=c._getAccessibleRole();var a;if(s){a={role:s};}r.writeAccessibilityState(c,a);r.write(">");r.write("</div>");};}());return R;},true);
sap.ui.predefine('sap/ui/layout/ResponsiveSplitter',["jquery.sap.global","./library","sap/ui/core/Control","./ResponsiveSplitterUtilities","./ResponsiveSplitterPage","./PaneContainer","./SplitPane","sap/ui/core/delegate/ItemNavigation"],function(q,l,C,R,c,P,S,I){"use strict";var d=C.extend("sap.ui.layout.ResponsiveSplitter",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'100%'},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'100%'}},defaultAggregation:"rootPaneContainer",aggregations:{rootPaneContainer:{type:"sap.ui.layout.PaneContainer",multiple:false},_pages:{type:"sap.ui.layout.ResponsiveSplitterPage",multiple:true,visibility:"hidden"}},associations:{defaultPane:{type:"sap.ui.layout.SplitPane",multiple:false}},events:{}}});var e={MAX_VISIBLE_BUTTONS:7};d.prototype.init=function(){this._aPaneContainers=[];this._aPanes=[];this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.layout");this.addEventDelegate({onAfterRendering:function(){this._initItemNavigation();}},this);};d.prototype.onBeforeRendering=function(){var r=this.getRootPaneContainer();if(r){r._oSplitter.addEventDelegate({onAfterRendering:function(){this._setSplitterBarsTooltips(r._oSplitter);this._updatePaginatorButtonsTooltips();}},this);this._createWidthIntervals();this._createPages();this._detachResizeHandler();}};d.prototype.onAfterRendering=function(){this._parentResizeHandler=sap.ui.core.ResizeHandler.register(this,this._onParentResize.bind(this));var r=this.getRootPaneContainer();if(r){this._onParentResize();}};d.prototype.exit=function(){this._detachResizeHandler();};d.prototype._setSplitterBarsTooltips=function(o,p){var s=o.$().find(" > .sapUiLoSplitterBar"),a=o.$().find(" > .sapUiLoSplitterContent"),b=this._oResourceBundle.getText("RESPONSIVE_SPLITTER_RESIZE")+" ",t=b,f,n,A,g;for(var i=0;i<a.length;i++){g=a[i].childNodes[0].id;A=sap.ui.getCore().byId(g);f=i+1;n=i+2;if(p){t+=this._oResourceBundle.getText("RESPONSIVE_SPLITTER_PANES",[p+"."+f,p+"."+n]);}else{t+=this._oResourceBundle.getText("RESPONSIVE_SPLITTER_PANES",[f,n]);}if(s[i]){s[i].setAttribute("title",t);t=b;}if(A instanceof sap.ui.layout.Splitter){this._setSplitterBarsTooltips(A,f);}}};d.prototype._updatePaginatorButtonsTooltips=function(){var v=Array.prototype.slice.call(this._getVisibleButtons()),h=this.getRootPaneContainer()._oSplitter.getAssociatedContentAreas().length,H=this._oResourceBundle.getText("RESPONSIVE_SPLITTER_HOME")+" ",a=this._oResourceBundle.getText("RESPONSIVE_SPLITTER_AND"),t="",b=this,o;if(v.length>0){o=v.shift();for(var i=1;i<=h;i++){H+=i;if(i<(h-1)){H+=", ";}else if(i===h-1){H+=" "+a+" ";}}o.setAttribute("title",H);[].forEach.call(v,function(B){t=b._oResourceBundle.getText("RESPONSIVE_SPLITTER_GOTO")+" "+(h+1);h+=1;B.setAttribute("title",t);});}};d.prototype._handlePaginatorButtonTap=function(E){var o=this._oItemNavigation.getFocusedIndex();if(q(E.target).hasClass("sapUiResponsiveSplitterPaginatorButton")){q(E.target).attr("tabindex",0);var p=parseInt(q(E.target).attr("page-index"),10);this.getAggregation("_pages").forEach(function(a){a.setVisible(false);});if(p!==0){var D=this._currentInterval.aPages.filter(function(a){return a.demandPane;});p=this._currentInterval.aPages.indexOf(D[p-1]);}this._activatePage(p,parseInt(q(E.target).attr("page-index"),10));}if(q(E.target).hasClass("sapUiResponsiveSplitterPaginatorNavButton")){if(q(E.target).hasClass("sapUiResponsiveSplitterPaginatorButtonForward")){this._handlePaginatorForward(E);}else{this._handlePaginatorBack(E);}this._setItemNavigation();this._oItemNavigation.focusItem(o);}this._setItemNavigation();};d.prototype.ontap=d.prototype._handlePaginatorButtonTap;d.prototype.onsapenter=d.prototype._handlePaginatorButtonTap;d.prototype.onsapspace=d.prototype._handlePaginatorButtonTap;d.prototype.onsapright=function(E){this._handleArrowNavigation(6,"Forward",E);};d.prototype.onsapleft=function(E){this._handleArrowNavigation(0,"Back",E);};d.prototype._initItemNavigation=function(){if(this._oItemNavigation){this._bPrevItemNavigation=true;this._clearItemNavigation();}this._oItemNavigation=new I();this._oItemNavigation.setCycling(false);this.addDelegate(this._oItemNavigation);this._setItemNavigation();if(this._bPrevItemNavigation){this._oItemNavigation.focusItem(0);}};d.prototype._setItemNavigation=function(){var b=this._getVisibleButtons(),D=[];this._oItemNavigation.setRootDomRef(this.$().find(".sapUiResponsiveSplitterPaginator")[0]);for(var i=0;i<b.length;i++){if(b[i]){D.push(b[i]);}}this._oItemNavigation.setItemDomRefs(D);};d.prototype._clearItemNavigation=function(){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;};d.prototype._handleArrowNavigation=function(b,D,E){if(E.target===this._getVisibleButtons()[b]){this["_handlePaginator"+D](E);this._setItemNavigation();}else{return;}};d.prototype._onParentResize=function(){var i=this._intervalHasChanged(),r=this.getRootPaneContainer();if(i&&r){this._arrangeContent();this._setPaginatorVisibility();}};d.prototype._detachResizeHandler=function(){if(this._parentResizeHandler){sap.ui.core.ResizeHandler.deregister(this._parentResizeHandler);this._parentResizeHandler=null;}};d.prototype._createWidthIntervals=function(){var B=[];this._aIntervals=[];R.visitPanes(this.getRootPaneContainer(),function(p){var r=p.getRequiredParentWidth();if(q.inArray(r,B)==-1){B.push(r);}});B.push(Number.NEGATIVE_INFINITY);B.push(Number.POSITIVE_INFINITY);B.sort(function(a,b){return a-b;});for(var i=0;i<B.length-1;i++){var o=new R.splitterInterval(B[i],B[i+1],this.getRootPaneContainer());this._aIntervals.push(o);}};d.prototype._createPages=function(){var m=this._getMaxPageCount();this.destroyAggregation("_pages",true);for(var i=0;i<m;i++){var p=new c();this.addAggregation("_pages",p,true);}};d.prototype._intervalHasChanged=function(){var w=this.getDomRef().clientWidth,o=null,a=this._aIntervals;for(var i=0;i<a.length;i++){if(a[i].iFrom<w&&w<=a[i].iTo){o=a[i];break;}}if(this._currentInterval!==o){this._currentInterval=o;return true;}return false;};d.prototype._setPaginatorVisibility=function(){var b=this.$().find(".sapUiResponsiveSplitterPaginatorButton"),n=this.$().find(".sapUiResponsiveSplitterPaginatorNavButton"),p=this.$().find(".sapUiResponsiveSplitterPaginator"),i=(this._getHiddenPanes().length+1),s=i<e.MAX_VISIBLE_BUTTONS;b.addClass("sapUiResponsiveSplitterHiddenElement");if(i>1){this.getDomRef().classList.add("sapUiRSVisiblePaginator");b=b.slice(0,s?i:e.MAX_VISIBLE_BUTTONS);b.removeClass("sapUiResponsiveSplitterHiddenElement");b.removeClass("sapUiResponsiveSplitterHiddenPaginatorButton");n.toggleClass("sapUiResponsiveSplitterHiddenPaginatorButton",s);p.toggleClass("sapUiResponsiveSplitterWithNavButtons",!s);}else{this.getDomRef().classList.remove("sapUiRSVisiblePaginator");}};d.prototype._getMaxPageCount=function(){var t=0;this._aIntervals.forEach(function(i){if(i.iPagesCount>t){t=i.iPagesCount;}});return t;};d.prototype._arrangeContent=function(){var p=this.getAggregation("_pages")||[];this._clearContent();p.forEach(function(o){o.setVisible(false);});this._fillPageContent(this.getRootPaneContainer());this._activatePage(0);};d.prototype._activatePage=function(p){var $=this.$().find(".sapUiResponsiveSplitterPaginatorButton"),o=this.$().find(".sapUiResponsiveSplitterPaginatorSelectedButton"),O=$.index(o),a=this.getAggregation("_pages")||[];a[O]&&a[O].setVisible(false);a[p]&&a[p].setVisible(true);o.removeClass("sapUiResponsiveSplitterPaginatorSelectedButton");$.eq(p).addClass("sapUiResponsiveSplitterPaginatorSelectedButton");o.attr("aria-checked",false);$.eq(p).attr("aria-checked",true);};d.prototype._fillPageContent=function(s){var b=s instanceof P,a=s instanceof S,o=s.getParent(),f=o instanceof P,p=this.getAggregation("_pages"),h,H,g,D,j,m;if(b&&p){this._aPaneContainers.push(s);H=this._getAllPanesInInterval(s,this._currentInterval.iFrom).length>0;g=s._oSplitter;if(f&&H){o._oSplitter.addAssociatedContentArea(g);}else if(!f){p[0].setContent(g);}s.getPanes().forEach(function(k){this._fillPageContent(k);},this);}else if(a&&p){this._assignDefault(s);this._aPanes.push(s);D=s.getDemandPane();h=this._getHiddenPanes();j=h.length;m=this._getMaxPageCount();if(s._isInInterval(this._currentInterval.iFrom)){o._oSplitter.addAssociatedContentArea(s.getContent());}else if(D&&(j<m)){for(var i=0;i<j;i++){p[i+1].setContent(h[i].getContent());}}else if(D&&j===m){for(var i=0;i<j;i++){p[i].setContent(h[i].getContent());}}else if(this._isDefault(s)){p[0].setContent(s.getContent());}}};d.prototype._isDefault=function(p){return this.getDefaultPane()===p.getId();};d.prototype._assignDefault=function(p){var D=this.getDefaultPane();this.setDefaultPane(D||p);};d.prototype._getAllPanesInInterval=function(p,f){var a=[];function v(p){p.getPanes().forEach(function(o){if(o instanceof P){v(o);}else if(o._isInInterval(f)){a.push(o);}});return a;}return v(p,f);};d.prototype._getHiddenPanes=function(){return this._aPanes.filter(function(p){return p.getDemandPane()&&!p._isInInterval(this._currentInterval.iFrom);},this);};d.prototype._clearContent=function(){this._aPaneContainers.forEach(function(p){p._oSplitter.removeAllAssociatedContentArea();});this._aPaneContainers=[];this._aPanes=[];};d.prototype._getVisibleButtons=function(){return this.$().find(".sapUiResponsiveSplitterPaginatorButton:not(.sapUiResponsiveSplitterHiddenElement, .sapUiResponsiveSplitterHiddenPaginatorButton)");};d.prototype._handlePaginatorButtonTap=function(E){var t=E.target,T=E.target.classList,p;if(T.contains("sapUiResponsiveSplitterPaginatorButton")){p=t.getAttribute("page-index");this._activatePage(p);}else if(T.contains("sapUiResponsiveSplitterPaginatorNavButton")){if(T.contains("sapUiResponsiveSplitterPaginatorButtonForward")){this._handlePaginatorForward(E);}else{this._handlePaginatorBack(E);}}};d.prototype._handlePaginatorForward=function(E){var v=this._getVisibleButtons(),h=this._getHiddenPanes().length,H=this.$().find(".sapUiResponsiveSplitterPaginatorButton.sapUiResponsiveSplitterHiddenElement"),$=H.filter(function(){return this.getAttribute("page-index")>=e.MAX_VISIBLE_BUTTONS&&this.getAttribute("page-index")<=h;});if($.length>0){v.first().addClass("sapUiResponsiveSplitterHiddenElement");$.last().removeClass("sapUiResponsiveSplitterHiddenElement");}};d.prototype._handlePaginatorBack=function(E){var v=this._getVisibleButtons(),m=this._getMaxPageCount()-e.MAX_VISIBLE_BUTTONS,h=this.$().find(".sapUiResponsiveSplitterPaginatorButton.sapUiResponsiveSplitterHiddenElement"),H=h.filter(function(){return this.getAttribute("page-index")<m;});if(H.length>0){v.last().addClass("sapUiResponsiveSplitterHiddenElement");H.last().removeClass("sapUiResponsiveSplitterHiddenElement");}};d.prototype.ontap=d.prototype._handlePaginatorButtonTap;d.prototype.onsapenter=d.prototype._handlePaginatorButtonTap;d.prototype.onsapspace=d.prototype._handlePaginatorButtonTap;return d;},true);
sap.ui.predefine('sap/ui/layout/ResponsiveSplitterPage',["jquery.sap.global","./library","sap/ui/core/Control"],function(q,l,C){"use strict";var R=C.extend("sap.ui.layout.ResponsiveSplitterPage",{metadata:{library:"sap.ui.layout",associations:{content:{type:"sap.ui.core.Control",multiple:false,singularName:"content"}}},getContent:function(){return sap.ui.getCore().byId(this.getAssociation("content"));},renderer:function(r,c){r.write("<div");r.addClass("sapUiResponsiveSplitterPage");r.writeControlData(c);r.writeClasses();r.write(">");var a=c.getContent();if(a){r.renderControl(a);}r.write("</div>");}});return R;},false);
sap.ui.predefine('sap/ui/layout/ResponsiveSplitterRenderer',['sap/ui/core/IconPool'],function(I){"use strict";var R={};I.insertFontFaceStyle();R.render=function(r,c){r.write("<div ");r.addClass("sapUiResponsiveSplitter");r.writeControlData(c);r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.writeClasses();r.write(">");var p=c.getAggregation("_pages");if(p){c.getAggregation("_pages").forEach(r.renderControl);this.renderPaginator(r,c);}r.write("</div>");};R.renderPaginator=function(r,c){var b=c._getMaxPageCount(),p=c.getAggregation("_pages")||[],B=sap.ui.getCore().getLibraryResourceBundle('sap.ui.layout');r.write("<div ");r.writeAttribute("role","navigation");r.addClass("sapUiResponsiveSplitterPaginator");r.writeClasses();r.write(">");r.write("<div ");r.addClass("sapUiResponsiveSplitterPaginatorNavButton");r.addClass("sapUiResponsiveSplitterHiddenPaginatorButton");r.addClass("sapUiResponsiveSplitterPaginatorButtonBack");r.writeClasses();r.write("></div>");r.write("<div ");r.addClass("sapUiResponsiveSplitterPaginatorButtons");r.writeClasses();r.writeAttribute("role","radiogroup");r.writeAttributeEscaped("aria-label",B.getText("RESPONSIVE_SPLITTER_ARIA_PAGINATOR_LABEL"));if(p.length>0){r.writeAttribute("aria-controls",p[0].getParent().getId());}r.write(">");for(var i=0;i<b;i++){r.write("<div tabindex='0' ");r.write("page-index='"+i+"'");if(i===0){r.addClass("sapUiResponsiveSplitterPaginatorSelectedButton");}r.addClass("sapUiResponsiveSplitterHiddenElement");r.addClass("sapUiResponsiveSplitterPaginatorButton");r.writeClasses();r.writeAttribute("role","radio");r.writeAttribute("aria-checked",false);r.write("></div>");}r.write("</div>");r.write("<div ");r.addClass("sapUiResponsiveSplitterPaginatorNavButton");r.addClass("sapUiResponsiveSplitterHiddenPaginatorButton");r.addClass("sapUiResponsiveSplitterPaginatorButtonForward");r.writeClasses();r.write("></div>");r.write("</div>");};return R;},true);
sap.ui.predefine('sap/ui/layout/ResponsiveSplitterUtilities',["jquery.sap.global","sap/ui/core/Control"],function(q,C){"use strict";var R={};R.visitPanes=function(p,c){var P,o;if(!p){return;}P=p.getPanes();for(var i=0;i<P.length;i++){o=P[i];if(o instanceof sap.ui.layout.SplitPane){c(o);}else{R.visitPanes(o,c);}}};R.splitterInterval=function(f,t,p){this.iFrom=f;this.iTo=t;this.iPagesCount=0;var m=[],P=[m];R.visitPanes(p,function(a){var w=a.getRequiredParentWidth();var b={demandPane:a.getDemandPane()};if(w<=f){m.push(b);}else{P.push(b);}});if(m.length==0){P.splice(0,1);}this.iPagesCount=P.length;this.aPages=P;};return R;},true);
sap.ui.predefine('sap/ui/layout/SplitPane',['jquery.sap.global','./library','sap/ui/core/Element'],function(q,l,E){"use strict";var S=E.extend("sap.ui.layout.SplitPane",{metadata:{library:"sap.ui.layout",properties:{demandPane:{type:"boolean",group:"Behavior",defaultValue:true},requiredParentWidth:{type:"int",defaultValue:800}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:false,singularName:"content"}}}});S.prototype.setLayoutData=function(L){var c=this.getContent();if(c){return c.setLayoutData(L);}else{return this;}};S.prototype.onLayoutDataChange=function(){var p=this.getParent();if(p){p._oSplitter._delayedResize();}};S.prototype._isInInterval=function(f){return this.getRequiredParentWidth()<=f;};return S;},true);
sap.ui.predefine('sap/ui/layout/Splitter',['jquery.sap.global','sap/ui/core/Control','./library'],function(q,C,l){"use strict";var S=C.extend("sap.ui.layout.Splitter",{metadata:{library:"sap.ui.layout",properties:{orientation:{type:"sap.ui.core.Orientation",group:"Behavior",defaultValue:sap.ui.core.Orientation.Horizontal},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'100%'},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'100%'}},defaultAggregation:"contentAreas",aggregations:{contentAreas:{type:"sap.ui.core.Control",multiple:true,singularName:"contentArea"}},events:{resize:{parameters:{id:{type:"string"},oldSizes:{type:"int[]"},newSizes:{type:"int[]"}}}}}});var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.layout");S.prototype.init=function(){this._needsInvalidation=false;this._liveResize=true;this._keyboardEnabled=true;this._bHorizontal=true;this._calculatedSizes=[];this._move={};this._resizeTimeout=null;this._resizeCallback=this._delayedResize.bind(this);this._resizeHandlerId=null;this._autoResize=true;this.enableAutoResize();this._boundBarMoveEnd=this._onBarMoveEnd.bind(this);this._boundBarMove=this._onBarMove.bind(this);this._switchOrientation();this._bRtl=sap.ui.getCore().getConfiguration().getRTL();this._keyListeners={increase:this._onKeyboardResize.bind(this,"inc",20),decrease:this._onKeyboardResize.bind(this,"dec",20),increaseMore:this._onKeyboardResize.bind(this,"incMore",20),decreaseMore:this._onKeyboardResize.bind(this,"decMore",20),max:this._onKeyboardResize.bind(this,"max",20),min:this._onKeyboardResize.bind(this,"min",20)};this._enableKeyboardListeners();this._isPreserved=false;sap.ui.getCore().getEventBus().subscribe("sap.ui","__preserveContent",this._preserveHandler,this);this._bUseIconForSeparator=true;};S.prototype.exit=function(){sap.ui.getCore().getEventBus().unsubscribe("sap.ui","__preserveContent",this._preserveHandler,this);this.disableAutoResize();delete this._resizeCallback;delete this._boundBarMoveEnd;delete this._boundBarMove;delete this._$SplitterOverlay;delete this._$SplitterOverlayBar;};S.prototype.triggerResize=function(f){if(f){this._resize();}else{this._delayedResize();}};S.prototype.getCalculatedSizes=function(){return this._calculatedSizes;};S.prototype.enableAutoResize=function(t){if(t&&!this._autoResize){return;}this._autoResize=true;var c=this;sap.ui.getCore().attachInit(function(){c._resizeHandlerId=sap.ui.core.ResizeHandler.register(c,c._resizeCallback);});this._delayedResize();};S.prototype.disableAutoResize=function(t){sap.ui.core.ResizeHandler.deregister(this._resizeHandlerId);if(!t){this._autoResize=false;}};S.prototype.enableLiveResize=function(){this._liveResize=true;this.$().toggleClass("sapUiLoSplitterAnimated",false);};S.prototype.disableLiveResize=function(){this._liveResize=false;this.$().toggleClass("sapUiLoSplitterAnimated",true);};S.prototype.enableKeyboardSupport=function(){var B=this.$().find(".sapUiLoSplitterBar");B.attr("tabindex","0");this._enableKeyboardListeners();};S.prototype.disableKeyboardSupport=function(){var B=this.$().find(".sapUiLoSplitterBar");B.attr("tabindex","-1");this._disableKeyboardListeners();};S.prototype.onBeforeRendering=function(){this._switchOrientation();};S.prototype.onAfterRendering=function(){this._$SplitterOverlay=this.$("overlay");this._$SplitterOverlayBar=this.$("overlayBar");this._$SplitterOverlay.detach();this._isPreserved=false;this._resize();};S.prototype.onLayoutDataChange=function(){this._delayedResize();};S.prototype.ontouchstart=function(j){if(this._ignoreTouch){return;}var i=this.getId();if(!j.target.id||j.target.id.indexOf(i+"-splitbar")!=0){return;}if(!j.changedTouches||!j.changedTouches[0]){return;}this._ignoreMouse=true;this._onBarMoveStart(j.changedTouches[0],true);};S.prototype.onmousedown=function(j){if(this._ignoreMouse){return;}var i=this.getId();if(!j.target.id||j.target.id.indexOf(i+"-splitbar")!=0){return;}this._ignoreTouch=true;this._onBarMoveStart(j);};S.prototype._onBarMoveStart=function(j,t){var I=this.getId();this.disableAutoResize(true);var p=j[this._moveCord];var B=parseInt(j.target.id.substr((I+"-splitbar-").length),10);var $=q(j.target);var c=this.getCalculatedSizes();var d=this._bHorizontal?$.innerWidth():$.innerHeight();var e=this._getContentAreas();var L=e[B].getLayoutData();var o=e[B+1].getLayoutData();if(!L.getResizable()||!o.getResizable()){a(t);return;}var R=0-d;for(var i=0;i<=B;++i){R+=c[i]+d;}this._move={start:p,relStart:R,barNum:B,bar:q(j.target),c1Size:c[B],c1MinSize:L?parseInt(L.getMinSize(),10):0,c2Size:c[B+1],c2MinSize:o?parseInt(o.getMinSize(),10):0};if(t){document.addEventListener("touchend",this._boundBarMoveEnd);document.addEventListener("touchmove",this._boundBarMove);}else{document.addEventListener("mouseup",this._boundBarMoveEnd);document.addEventListener("mousemove",this._boundBarMove);}this._$SplitterOverlay.css("display","block");this._$SplitterOverlay.appendTo(this.getDomRef());this._$SplitterOverlayBar.css(this._sizeDirNot,"");this._move["bar"].css("visibility","hidden");this._onBarMove(j);};S.prototype._onBarMove=function(j){if(j.preventDefault){j.preventDefault();}var e=j;if(j.changedTouches&&j.changedTouches[0]){e=j.changedTouches[0];}var p=e[this._moveCord];var d=(p-this._move.start);if(this.getOrientation()==sap.ui.core.Orientation.Horizontal&&this._bRtl){d=-d;}var c=this._move.c1Size+d;var f=this._move.c2Size-d;var i=(c>=0&&f>=0&&c>=this._move.c1MinSize&&f>=this._move.c2MinSize);if(i){this._$SplitterOverlayBar.css(this._sizeDir,this._move.relStart+d);if(this._liveResize){var m=(this._move["start"]-e[this._moveCord]);if(this.getOrientation()==sap.ui.core.Orientation.Horizontal&&this._bRtl){m=-m;}this._resizeContents(this._move["barNum"],-m,false);}}};S.prototype._onBarMoveEnd=function(j){this._ignoreMouse=false;this._ignoreTouch=false;var e=j;if(j.changedTouches&&j.changedTouches[0]){e=j.changedTouches[0];}var p=e[this._moveCord];var m=this._move["start"]-p;if(this.getOrientation()==sap.ui.core.Orientation.Horizontal&&this._bRtl){m=-m;}this._resizeContents(this._move["barNum"],-m,true);this._move["bar"].css("visibility","");this._$SplitterOverlay.css("display","");document.removeEventListener("mouseup",this._boundBarMoveEnd);document.removeEventListener("mousemove",this._boundBarMove);document.removeEventListener("touchend",this._boundBarMoveEnd);document.removeEventListener("touchmove",this._boundBarMove);this.enableAutoResize(true);q.sap.focus(this._move.bar);};S.prototype._resizeContents=function(L,p,f){if(isNaN(p)){q.sap.log.warning("Splitter: Received invalid resizing values - resize aborted.");return;}var c=this._getContentAreas();var o=c[L].getLayoutData();var d=c[L+1].getLayoutData();var s=o.getSize();var e=d.getSize();var $=this.$("content-"+L);var g=this.$("content-"+(L+1));var n=this._move.c1Size+p;var N=this._move.c2Size-p;var m=parseInt(o.getMinSize(),10);var M=parseInt(d.getMinSize(),10);var D;if(n<m){D=m-n;p+=D;n=m;N-=D;}else if(N<M){D=M-N;p-=D;N=M;n-=D;}if(f){if(s==="auto"&&e!=="auto"){d.setSize(N+"px");}else if(s!=="auto"&&e==="auto"){o.setSize(n+"px");}else{o.setSize(n+"px");d.setSize(N+"px");}}else{$.css(this._sizeType,n+"px");g.css(this._sizeType,N+"px");}};S.prototype._preserveHandler=function(c,e,d){var D=this.getDomRef();if(D&&q.contains(d.domNode,D)){this._isPreserved=true;}};S.prototype._delayedResize=function(d){if(d===undefined){d=0;}if(this.getDomRef()){q.sap.clearDelayedCall(this._resizeTimeout);q.sap.delayedCall(d,this,"_resize",[]);}};S.prototype._resizeBars=function(c){var i,B;var $=this.$();for(i=0;i<c.length-1;++i){B=this.$("splitbar-"+i);B.css(this._sizeTypeNot,"");}for(i=0;i<c.length-1;++i){B=this.$("splitbar-"+i);var s=this._bHorizontal?$.height():$.width();B.css(this._sizeType,"");B.css(this._sizeTypeNot,s+"px");}};S.prototype._resize=function(){if(this._isPreserved){return;}var i=0,B;var c=this._getContentAreas();this._resizeBars(c);var o=this.getCalculatedSizes();this._recalculateSizes();var n=this.getCalculatedSizes();var s=false;for(i=0;i<n.length;++i){if(n[i]!==0){s=true;break;}}if(!s){this._delayedResize(100);return;}var L=true;for(i=0;i<c.length;++i){var $=this.$("content-"+i);var d=c[i];$.css(this._sizeType,n[i]+"px");$.css(this._sizeTypeNot,"");var e=d.getLayoutData();var f=e&&e.getResizable();if(i>0){var R=f&&L;B=this.$("splitbar-"+(i-1));B.toggleClass("sapUiLoSplitterNoResize",!R);B.attr("tabindex",R&&this._keyboardEnabled?"0":"-1");}L=f;}this._resizeBars(c);if(_(o,n)){this.fireResize({oldSizes:o,newSizes:n});}};S.prototype._calculateAvailableContentSize=function(s){var i=0;var $=this.$();var f=this._bHorizontal?$.innerWidth():$.innerHeight();var A=0;var h=false;for(i=0;i<s.length;++i){var c=s[i];if(c.indexOf("%")>-1){A++;}if(s[i]=="auto"){h=true;}}A+=h?1:0;f-=A;var d=s.length-1;var e=0;for(i=0;i<d;++i){e+=this._bHorizontal?this.$("splitbar-"+i).innerWidth():this.$("splitbar-"+i).innerHeight();}return f-e;};S.prototype._recalculateSizes=function(){var i,s,L,c,d;var e=[];var f=this._getContentAreas();for(i=0;i<f.length;++i){L=f[i].getLayoutData();s=L?L.getSize():"auto";e.push(s);}this._calculatedSizes=[];var A=this._calculateAvailableContentSize(e);var g=[];var h=[];var p=[];var R=A;for(i=0;i<e.length;++i){s=e[i];var j;if(s.indexOf("px")>-1){j=parseInt(s,10);R-=j;this._calculatedSizes[i]=j;}else if(s.indexOf("%")>-1){p.push(i);}else if(e[i]=="auto"){L=f[i].getLayoutData();if(L&&parseInt(L.getMinSize(),10)!=0){h.push(i);}else{g.push(i);}}else{q.sap.log.error("Illegal size value: "+e[i]);}}var w=false;if(R<0){w=true;R=0;}var P=p.length;for(i=0;i<P;++i){d=p[i];c=Math.floor((parseFloat(e[d])/100)*A);this._calculatedSizes[d]=c;R-=c;}A=R;if(A<0){w=true;A=0;}c=Math.floor(A/(h.length+g.length),0);var k=h.length;for(i=0;i<k;++i){d=h[i];var m=parseInt(f[d].getLayoutData().getMinSize(),10);if(m>c){this._calculatedSizes[d]=m;A-=m;}else{this._calculatedSizes[d]=c;A-=c;}}if(A<0){w=true;A=0;}R=A;var n=g.length;c=Math.floor(A/n,0);for(i=0;i<n;++i){d=g[i];this._calculatedSizes[d]=c;R-=c;}if(w){q.sap.log.info("[Splitter] The set sizes and minimal sizes of the splitter contents are bigger "+"than the available space in the UI.");}};S.prototype._switchOrientation=function(){this._bHorizontal=this.getOrientation()===sap.ui.core.Orientation.Horizontal;if(this._bHorizontal){this._sizeDirNot="top";this._sizeTypeNot="height";this._sizeType="width";this._moveCord="pageX";if(this._bRtl){this._sizeDir="right";}else{this._sizeDir="left";}}else{this._moveCord="pageY";this._sizeType="height";this._sizeTypeNot="width";this._sizeDir="top";this._sizeDirNot="left";}var t=this.$();t.toggleClass("sapUiLoSplitterH",this._bHorizontal);t.toggleClass("sapUiLoSplitterV",!this._bHorizontal);};S.prototype._onKeyboardResize=function(t,s,e){var B=this.getId()+"-splitbar-";if(!e||!e.target||!e.target.id||e.target.id.indexOf(B)!==0){return;}var s=s;var i=999999;var c=parseInt(e.target.id.substr(B.length),10);var m=this.getCalculatedSizes();this._move.c1Size=m[c];this._move.c2Size=m[c+1];var d=0;switch(t){case"inc":d=s;break;case"incMore":d=s*10;break;case"dec":d=0-s;break;case"decMore":d=0-s*10;break;case"max":d=i;break;case"min":d=0-i;break;default:q.sap.log.warn("[Splitter] Invalid keyboard resize type");break;}this._resizeContents(c,d,true);};S.prototype._enableKeyboardListeners=function(){this.onsapright=this._keyListeners.increase;this.onsapdown=this._keyListeners.increase;this.onsapleft=this._keyListeners.decrease;this.onsapup=this._keyListeners.decrease;this.onsappageup=this._keyListeners.decreaseMore;this.onsappagedown=this._keyListeners.increaseMore;this.onsapend=this._keyListeners.max;this.onsaphome=this._keyListeners.min;this._keyboardEnabled=true;};S.prototype._disableKeyboardListeners=function(){delete this.onsapincreasemodifiers;delete this.onsapdecreasemodifiers;delete this.onsapendmodifiers;delete this.onsaphomemodifiers;this._keyboardEnabled=false;};S.prototype._getText=function(k,A){return(r?r.getText(k,A):k);};function _(s,c){if(s===c){return false;}if(!s||!c||s.length===undefined||c.length===undefined){return true;}if(s.length!=c.length){return true;}for(var i=0;i<s.length;++i){if(s[i]!==c[i]){return true;}}return false;}function a(t){var p=function(e){e.preventDefault();};var A=null;A=function(){document.removeEventListener("touchend",A);document.removeEventListener("touchmove",p);document.removeEventListener("mouseup",A);document.removeEventListener("mousemove",p);};if(t){this._ignoreMouse=true;document.addEventListener("touchend",A);document.addEventListener("touchmove",p);}else{document.addEventListener("mouseup",A);document.addEventListener("mousemove",p);}}function b(c){var L=c.getLayoutData();if(L&&(!L.getResizable||!L.getSize||!L.getMinSize)){q.sap.log.warning("Content \""+c.getId()+"\" for the Splitter contained wrong LayoutData. "+"The LayoutData has been replaced with default values.");L=null;}if(!L){c.setLayoutData(new sap.ui.layout.SplitterLayoutData());}}S.prototype.invalidate=function(o){var f=(o&&this.indexOfContentArea(o)!=-1)||(o&&o instanceof sap.ui.core.CustomData&&o.getWriteToDom())||(o===undefined);if(f||this._needsInvalidation){this._needsInvalidation=false;C.prototype.invalidate.apply(this,arguments);}};S.prototype.setOrientation=function(o){var R=this.setProperty("orientation",o,true);this._switchOrientation();this._delayedResize();this.$().find(".sapUiLoSplitterBar").attr("aria-orientation",this._bHorizontal?"vertical":"horizontal");return R;};S.prototype.setWidth=function(w){this.setProperty("width",w,true);this.$().css("width",this.getProperty("width"));return this;};S.prototype.setHeight=function(h){this.setProperty("height",h,true);this.$().css("height",this.getProperty("height"));return this;};S.prototype.addContentArea=function(c){this._needsInvalidation=true;b(c);return this.addAggregation("contentAreas",c);};S.prototype.removeContentArea=function(c){this._needsInvalidation=true;return this.removeAggregation("contentAreas",c);};S.prototype.removeAllContentArea=function(){this._needsInvalidation=true;return this.removeAllAggregation("contentAreas");};S.prototype.destroyContentArea=function(){this._needsInvalidation=true;return this.destroyAggregation("contentAreas");};S.prototype.insertContentArea=function(c,i){this._needsInvalidation=true;b(c);return this.insertAggregation("contentAreas",c,i);};S.prototype._getContentAreas=function(){return this.getContentAreas();};return S;},true);
sap.ui.predefine('sap/ui/layout/SplitterLayoutData',['jquery.sap.global','sap/ui/core/LayoutData','./library'],function(q,L,l){"use strict";var S=L.extend("sap.ui.layout.SplitterLayoutData",{metadata:{library:"sap.ui.layout",properties:{resizable:{type:"boolean",group:"Behavior",defaultValue:true},size:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'auto'},minSize:{type:"int",group:"Dimension",defaultValue:0}}}});return S;},true);
sap.ui.predefine('sap/ui/layout/SplitterRenderer',['jquery.sap.global'],function(q){"use strict";var S={};S.render=function(r,c){var h=c.getOrientation()===sap.ui.core.Orientation.Horizontal;var o=h?"sapUiLoSplitterH":"sapUiLoSplitterV";var a=sap.ui.getCore().getConfiguration().getAnimation();r.write("<div");r.writeControlData(c);r.addClass("sapUiLoSplitter");r.addClass(o);if(a&&!c._liveResize){r.addClass("sapUiLoSplitterAnimated");}r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.write(">");this.renderInitialContent(r,c);r.write("</div>");};S.renderInitialContent=function(r,c){var I=c.getId();var h=c.getOrientation()===sap.ui.core.Orientation.Horizontal;var s=h?"width":"height";var g="sap-icon://"+(h?"horizontal":"vertical")+"-grip";var C=c._getContentAreas();var l=C.length;var a=c.getCalculatedSizes();for(var i=0;i<l;++i){var L=C[i].getLayoutData();var b="0";if(a[i]){b=a[i]+"px";}else if(L){b=L.getSize();}r.write("<section "+"id=\""+I+"-content-"+i+"\" "+"style=\""+s+": "+b+";\" "+"class=\"sapUiLoSplitterContent\">");r.renderControl(C[i]);r.write("</section>");if(i<l-1){r.write("<div id=\""+I+"-splitbar-"+i+"\" "+"role=\"separator\" "+"title=\""+c._getText("SPLITTER_MOVE")+"\" "+"class=\"sapUiLoSplitterBar\" "+"aria-orientation=\""+(h?"vertical":"horizontal")+"\" "+"tabindex=\"0\">");if(c._bUseIconForSeparator){r.writeIcon(g,"sapUiLoSplitterBarIcon",{"id":I+"-splitbar-"+i+"-icon","title":null,"aria-label":null});}else{r.write("<span class='sapUiLoSplitterBarIcon'></span>");}r.write("</div>");}}r.write("<div id=\""+I+"-overlay\" class=\"sapUiLoSplitterOverlay\" style=\"display: none;\">"+"<div id=\""+I+"-overlayBar\" class=\"sapUiLoSplitterOverlayBar\">");if(c._bUseIconForSeparator){r.writeIcon(g,"sapUiLoSplitterBarIcon",{"id":I+"-splitbar-Overlay-icon","title":null,"aria-label":null});}else{r.write("<span class=\"sapUiLoSplitterBarIcon\"></span>");}r.write("</div>"+"</div>");};return S;},true);
sap.ui.predefine('sap/ui/layout/VerticalLayout.designtime',[],function(){"use strict";return{actions:{remove:{changeType:"hideControl"},reveal:{changeType:"unhideControl"}},aggregations:{content:{domRef:":sap-domref",actions:{move:"moveControls"}}},name:{singular:"VERTICAL_LAYOUT_CONTROL_NAME",plural:"VERTICAL_LAYOUT_NAME_PLURAL"}};},false);
sap.ui.predefine('sap/ui/layout/VerticalLayout',['jquery.sap.global','sap/ui/core/Control','sap/ui/core/EnabledPropagator','./library'],function(q,C,E,l){"use strict";var V=C.extend("sap.ui.layout.VerticalLayout",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},designTime:true}});V.prototype.setWidth=function(w){this.setProperty("width",w,true);if(this.getDomRef()){this.getDomRef().style.width=this.getWidth();}return this;};V.prototype.getAccessibilityInfo=function(){return{children:this.getContent()};};E.call(V.prototype);return V;},true);
sap.ui.predefine('sap/ui/layout/VerticalLayoutRenderer',['jquery.sap.global'],function(q){"use strict";var V={};V.render=function(r,v){var a=r;a.write("<DIV");a.writeControlData(v);a.addClass("sapUiVlt");a.addClass("sapuiVlt");if(v.getWidth()&&v.getWidth()!=''){a.addStyle("width",v.getWidth());}a.writeStyles();a.writeClasses();a.write(">");var c=v.getContent();for(var i=0;i<c.length;i++){a.write("<DIV class=\"sapUiVltCell sapuiVltCell\">");a.renderControl(c[i]);a.write("</DIV>");}a.write("</DIV>");};return V;},true);
sap.ui.predefine('sap/ui/layout/changeHandler/AddSimpleFormGroup',['sap/ui/fl/Utils','jquery.sap.global','sap/ui/fl/changeHandler/Base',"sap/ui/fl/changeHandler/JsControlTreeModifier"],function(U,q,B,J){"use strict";var A={};A.CONTENT_AGGREGATION="content";var m=function(M,s,c,g){var r;var C=-1;if(g===0){return g;}for(var i=0;i<c.length;i++){var t=M.getControlType(c[i]);if(s.indexOf(t)>-1){C++;if(C===g){r=c[i];return c.indexOf(r);}}}return c.length;};A.applyChange=function(c,f,p){var M=p.modifier;var v=p.view;var a=p.appComponent;var C=c.getDefinition();if(C.texts&&C.texts.groupLabel&&C.texts.groupLabel.value&&C.content&&C.content.group&&(C.content.group.selector||C.content.group.id)){var g=C.content.group.selector;var G;if(g){if(g.idIsLocal){G=a.createId(g.id);}else{G=g.id;}}else{G=C.content.group.id;}var l=C.texts.groupLabel.value;var b=M.getAggregation(f,A.CONTENT_AGGREGATION);var i;var r;if(typeof C.content.group.index==="number"){i=C.content.group.index;}else{r=C.content.group.relativeIndex;i=m(M,["sap.ui.core.Title"],b,r);}var t=M.createControl("sap.ui.core.Title",a,v,G);M.setProperty(t,"text",l);M.insertAggregation(f,"content",t,i,v);}else{U.log.error("Change does not contain sufficient information to be applied: ["+C.layer+"]"+C.namespace+"/"+C.fileName+"."+C.fileType);}return true;};A.completeChangeContent=function(c,s,p){var C=c.getDefinition();var a=p.appComponent;if(s.newLabel){B.setTextInChange(C,"groupLabel",s.newLabel,"XFLD");}else{throw new Error("oSpecificChangeInfo.newLabel attribute required");}if(!C.content){C.content={};}if(!C.content.group){C.content.group={};}if(s.newControlId){C.content.group.selector=J.getSelector(s.newControlId,a);}else{throw new Error("oSpecificChangeInfo.newControlId attribute required");}if(s.index===undefined){throw new Error("oSpecificChangeInfo.index attribute required");}else{C.content.group.relativeIndex=s.index;}};A.getControlIdFromChangeContent=function(c){var C;if(c&&c._oDefinition){C=c._oDefinition.content.group.id;}return C;};return A;},true);
sap.ui.predefine('sap/ui/layout/changeHandler/HideSimpleForm',['jquery.sap.global','sap/ui/fl/changeHandler/JsControlTreeModifier'],function(q,J){"use strict";var H={};H.applyChange=function(c,C,p){var m=p.modifier;var v=p.view;var a=p.appComponent;var o=c.getDefinition();var r=m.bySelector(o.content.elementSelector||o.content.sHideId,a,v);var b=m.getAggregation(C,"content");var s=-1;m.removeAllAggregation(C,"content");for(var i=0;i<b.length;++i){m.insertAggregation(C,"content",b[i],i);}if(o.changeType==="hideSimpleFormField"){b.some(function(f,d){if(f===r){s=d;m.setVisible(f,false);}if(s>=0&&d>s){if((m.getControlType(f)==="sap.m.Label")||(m.getControlType(f)==="sap.ui.core.Title")||(m.getControlType(f)==="sap.m.Title")||(m.getControlType(f)==="sap.m.Toolbar")){return true;}else{m.setVisible(f,false);}}});}else if(o.changeType==="removeSimpleFormGroup"){var t=C.getAggregation("form").getFormContainers()[0].getTitle();b.some(function(f,d){if(!t){m.setVisible(f,false);}else{if(f===r){s=d;}if(s>=0&&d>s){if((m.getControlType(f)==="sap.ui.core.Title")||(m.getControlType(f)==="sap.m.Title")||(m.getControlType(f)==="sap.m.Toolbar")){if(s===0){m.removeAggregation(C,"content",f,v);m.insertAggregation(C,"content",f,0,v);}return true;}else{m.setVisible(f,false);}}}});m.removeAggregation(C,"content",r,v);}return true;};H._getStableElement=function(e){if(e.getMetadata().getName()==="sap.ui.layout.form.FormContainer"){return e.getTitle()||e.getToolbar();}else if(e.getMetadata().getName()==="sap.ui.layout.form.FormElement"){return e.getLabel();}else{return e;}};H.completeChangeContent=function(c,s,p){var C=c.getDefinition();if(s.removedElement&&s.removedElement.id){var S=this._getStableElement(sap.ui.getCore().byId(s.removedElement.id));C.content.elementSelector=J.getSelector(S,p.appComponent);}else{throw new Error("oSpecificChangeInfo.removedElement.id attribute required");}};return H;},true);
sap.ui.predefine('sap/ui/layout/changeHandler/MoveSimpleForm',["jquery.sap.global","sap/ui/fl/changeHandler/JsControlTreeModifier","sap/ui/fl/Utils"],function(q,J,U){"use strict";var M={};M.CHANGE_TYPE_MOVE_FIELD="moveSimpleFormField";M.CHANGE_TYPE_MOVE_GROUP="moveSimpleFormGroup";M.sTypeTitle="sap.ui.core.Title";M.sTypeToolBar="sap.m.Toolbar";M.sTypeLabel="sap.m.Label";M.CONTENT_AGGREGATION="content";M.applyChange=function(C,s,p){var o=p.modifier;var v=p.view;var d=p.appComponent;var e=C.getContent();var h=e.movedElements[0];var j=o.getAggregation(s,M.CONTENT_AGGREGATION);if(C.getChangeType()===M.CHANGE_TYPE_MOVE_FIELD){var S=o.bySelector(h.elementSelector||h.element,d,v);var k=j.indexOf(S);var l=g(o,j,k);var t=o.bySelector(h.target.groupSelector||h.target.groupId,d,v);var T=j.indexOf(t);var n=o.bySelector(h.source.groupSelector||h.source.groupId,d,v);var r=j.indexOf(n);var u=a(o,j,T,h.target.fieldIndex,(r===T)&&(h.source.fieldIndex<h.target.fieldIndex));var w=g(o,j,u);var x=j.slice();var F=x.slice(k,k+l);var y,z,B,D;if(k<u){y=x.slice(0,k);B=x.slice(k+l,u+w);D=x.slice(u+w,x.length);x=y.concat(B.concat(F.concat(D)));}else if(k>u){z=x.slice(0,u+w);B=x.slice(u+w,k);D=x.slice(k+l,x.length);x=z.concat(F.concat(B.concat(D)));}if(k!=u){o.removeAllAggregation(s,M.CONTENT_AGGREGATION);for(var i=0;i<x.length;++i){o.insertAggregation(s,M.CONTENT_AGGREGATION,x[i],i);}}}else if(C.getChangeType()===M.CHANGE_TYPE_MOVE_GROUP){var E=[M.sTypeTitle,M.sTypeToolBar];var H=o.bySelector(h.elementSelector||h.element,d,v);var K=j.indexOf(H);var L=m(o,E,j,h.target.groupIndex);var t=j[L];var N=f(o,L,j,E);var O=f(o,K,j,E);var x=j.slice();x.splice(K,O);L=x.indexOf(t);var P=h.source.groupIndex<h.target.groupIndex?N:0;x=A(j,K,x,L+P,O);o.removeAllAggregation(s,M.CONTENT_AGGREGATION);for(var i=0;i<x.length;++i){o.insertAggregation(s,M.CONTENT_AGGREGATION,x[i],i);}}else{q.sap.log.warning("Unknown change type detected. Cannot apply to SimpleForm");}return true;};M.completeChangeContent=function(C,s,p){var S;var o=s.source.publicParent;var d=s.movedElements;if(d.length>1){q.sap.log.warning("Moving more than 1 Formelement is not yet supported.");}var e=d[0];e.element=sap.ui.getCore().byId(e.id);var h=q.extend({},s.source);var t=q.extend({},s.target);if(!t.parent){t.parent=sap.ui.getCore().byId(t.id);}if(!h.parent){h.parent=sap.ui.getCore().byId(h.id);}if(o&&e.element&&t.parent){if(s.changeType==="moveSimpleFormGroup"){S=b(o,e,h,t,p);}else if(s.changeType==="moveSimpleFormField"){S=c(o,e,h,t,p);}}else{q.sap.log.error("Element not found. This may caused by an instable id!");}var i=C.getDefinition();i.content.targetSelector=S.targetSelector;i.content.movedElements=S.movedElements;};var m=function(o,s,C,d){var r;var e=-1;for(var i=0;i<C.length;i++){var t=o.getControlType(C[i]);if(s.indexOf(t)>-1){e++;if(e===d){r=C[i];break;}}}return C.indexOf(r);};var I=function(e,i){if(i>=e.length||i===-1){return true;}var t=e[i].getMetadata().getName();return(M.sTypeTitle===t||M.sTypeToolBar===t);};var f=function(o,d,C,s){var i=0;for(i=d+1;i<C.length;++i){var t=o.getControlType(C[i]);if(s.indexOf(t)>-1){break;}}return i-d;};var g=function(o,e,i){return f(o,i,e,[M.sTypeTitle,M.sTypeToolBar,M.sTypeLabel]);};var a=function(o,C,i,F,u){if(!I(C,i)){q.sap.log.error("Illegal argument. iIndex has to point to a Label.");}else{F=u?F+1:F;var d=0;var e=i;var h;while(e<C.length&&d<F){++d;h=g(o,C,e);e+=h;}return e;}};var A=function(s,S,t,T,d){var r=t;for(var i=0;i<d;i++){r.splice(T+i,0,s[S+i]);}return r;};var b=function(s,d,S,t,p){var o=G(d.element);var e=J.getSelector(s,p.appComponent);var h={elementSelector:J.getSelector(o,p.appComponent),source:{groupIndex:d.sourceIndex},target:{groupIndex:d.targetIndex}};return{changeType:M.CHANGE_TYPE_MOVE_GROUP,targetSelector:e,movedElements:[h]};};var G=function(h){var r=h.getTitle();if(!r){r=h.getToolbar();}return r;};var c=function(s,d,S,t,p){var o=J.getSelector(s,p.appComponent);var l=J.getSelector(d.element.getLabel(),p.appComponent);var T=G(t.parent);var e=G(S.parent);var h=J.getSelector(T,p.appComponent);var i=J.getSelector(e,p.appComponent);var j={element:l,source:{groupSelector:i,fieldIndex:d.sourceIndex},target:{groupSelector:h,fieldIndex:d.targetIndex}};return{changeType:M.CHANGE_TYPE_MOVE_FIELD,targetSelector:o,movedElements:[j]};};return M;},true);
sap.ui.predefine('sap/ui/layout/changeHandler/RenameSimpleForm',["jquery.sap.global","sap/ui/fl/changeHandler/Base","sap/ui/fl/changeHandler/JsControlTreeModifier","sap/ui/fl/Utils"],function(q,B,J,U){"use strict";var R={};R.applyChange=function(c,C,p){var m=p.modifier;var v=p.view;var a=p.appComponent;var o=c.getDefinition();var s=o.content.elementSelector||o.content.sRenameId;var r=m.bySelector(s,a,v);if(o.texts&&o.texts.formText&&this._isProvided(o.texts.formText.value)){if(!C){throw new Error("no Control provided for renaming");}var V=o.texts.formText.value;m.setProperty(r,"text",V);return true;}else{U.log.error("Change does not contain sufficient information to be applied: ["+o.layer+"]"+o.namespace+"/"+o.fileName+"."+o.fileType);}};R.completeChangeContent=function(c,s,p){var C=c.getDefinition();if(!s.changeType){throw new Error("oSpecificChangeInfo.changeType attribute required");}if(s.renamedElement&&s.renamedElement.id){var r=sap.ui.getCore().byId(s.renamedElement.id);if(s.changeType==="renameLabel"){C.content.elementSelector=J.getSelector(r.getLabel(),p.appComponent);}else if(s.changeType==="renameTitle"){C.content.elementSelector=J.getSelector(r.getTitle(),p.appComponent);}}else{throw new Error("oSpecificChangeInfo.renamedElement attribute required");}if(this._isProvided(s.value)){B.setTextInChange(C,"formText",s.value,"XFLD");}else{throw new Error("oSpecificChangeInfo.value attribute required");}};R._isProvided=function(s){return typeof(s)==="string";};return R;},true);
sap.ui.predefine('sap/ui/layout/changeHandler/UnhideSimpleForm',['jquery.sap.global',"sap/ui/fl/changeHandler/JsControlTreeModifier"],function(q,J){"use strict";var U={};U.applyChange=function(c,C,p){var m=p.modifier;var v=p.view;var a=p.appComponent;var o=c.getDefinition();var b=m.bySelector(o.content.elementSelector||o.content.sUnhideId,a,v);var d=m.getAggregation(C,"content");var s=-1;if(o.changeType==="unhideSimpleFormField"){d.some(function(f,i){if(f===b){s=i;m.setVisible(f,true);}if(s>=0&&i>s){if((m.getControlType(f)==="sap.m.Label")||(m.getControlType(f)==="sap.ui.core.Title")){return true;}else{m.setVisible(f,true);}}});}return true;};U.completeChangeContent=function(c,s,p){var C=c.getDefinition();if(s.sUnhideId){var u=sap.ui.getCore().byId(s.sUnhideId);C.content.elementSelector=J.getSelector(u,p.appComponent);}else if(s.revealedElementId){var f=sap.ui.getCore().byId(s.revealedElementId||s.sUnhideId);C.content.elementSelector=J.getSelector(f.getLabel(),p.appComponent);}else{throw new Error("oSpecificChangeInfo.revealedElementId attribute required");}};return U;},true);
sap.ui.predefine('sap/ui/layout/flexibility/SimpleForm.flexibility',["sap/ui/layout/changeHandler/RenameSimpleForm","sap/ui/layout/changeHandler/MoveSimpleForm","sap/ui/layout/changeHandler/HideSimpleForm","sap/ui/layout/changeHandler/UnhideSimpleForm","sap/ui/layout/changeHandler/AddSimpleFormGroup"],function(R,M,H,U,A){"use strict";return{"renameLabel":R,"renameTitle":R,"moveSimpleFormField":M,"moveSimpleFormGroup":M,"hideSimpleFormField":H,"unhideSimpleFormField":U,"removeSimpleFormGroup":H,"addSimpleFormGroup":A};},true);
sap.ui.predefine('sap/ui/layout/form/Form.designtime',[],function(){"use strict";return{aggregations:{formContainers:{}}};},false);
sap.ui.predefine('sap/ui/layout/form/Form',['jquery.sap.global','sap/ui/core/Control','sap/ui/layout/library'],function(q,C,l){"use strict";var F=C.extend("sap.ui.layout.form.Form",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"formContainers",aggregations:{formContainers:{type:"sap.ui.layout.form.FormContainer",multiple:true,singularName:"formContainer"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},layout:{type:"sap.ui.layout.form.FormLayout",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designTime:true}});F.prototype.toggleContainerExpanded=function(c){var L=this.getLayout();if(L){L.toggleContainerExpanded(c);}};F.prototype.contentOnAfterRendering=function(f,c){var L=this.getLayout();if(L&&L.contentOnAfterRendering){L.contentOnAfterRendering(f,c);}};F.prototype.onLayoutDataChange=function(e){var L=this.getLayout();if(L&&L.onLayoutDataChange){L.onLayoutDataChange(e);}};F.prototype.onBeforeFastNavigationFocus=function(e){var L=this.getLayout();if(L&&L.onBeforeFastNavigationFocus){L.onBeforeFastNavigationFocus(e);}};F.prototype.setEditable=function(e){var o=this.getEditable();this.setProperty("editable",e,true);if(e!=o&&this.getDomRef()){if(e){this.$().addClass("sapUiFormEdit").addClass("sapUiFormEdit-CTX");this.$().removeAttr("aria-readonly");}else{this.$().removeClass("sapUiFormEdit").removeClass("sapUiFormEdit-CTX");this.$().attr("aria-readonly","true");}}return this;};F.prototype.setToolbar=function(t){t=sap.ui.layout.form.FormHelper.setToolbar.call(this,t);this.setAggregation("toolbar",t);return this;};F.prototype.invalidate=function(o){if(!this._bNoInvalidate){C.prototype.invalidate.apply(this,arguments);}};F.prototype.getContainerRenderedDomRef=function(c){var L=this.getLayout();if(L&&L.getContainerRenderedDomRef){return L.getContainerRenderedDomRef(c);}else{return null;}};F.prototype.getElementRenderedDomRef=function(e){var L=this.getLayout();if(L&&L.getElementRenderedDomRef){return L.getElementRenderedDomRef(e);}else{return null;}};return F;},true);
sap.ui.predefine('sap/ui/layout/form/FormContainer.designtime',[],function(){"use strict";return{aggregations:{formElements:{domRef:function(e){var d=e.getDomRef();if(!d&&e.getFormElements().length===0){var g=e.getTitle()||e.getToolbar();if(g){return g.getDomRef();}}else{return d;}}}}};},false);
sap.ui.predefine('sap/ui/layout/form/FormContainer',['jquery.sap.global','sap/ui/core/Element','sap/ui/core/EnabledPropagator','sap/ui/core/theming/Parameters','sap/ui/layout/library'],function(q,E,a,P,l){"use strict";var F=E.extend("sap.ui.layout.form.FormContainer",{metadata:{library:"sap.ui.layout",properties:{expanded:{type:"boolean",group:"Misc",defaultValue:true},expandable:{type:"boolean",group:"Misc",defaultValue:false},visible:{type:"boolean",group:"Misc",defaultValue:true}},defaultAggregation:"formElements",aggregations:{formElements:{type:"sap.ui.layout.form.FormElement",multiple:true,singularName:"formElement"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designTime:true}});F.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.layout");};F.prototype.exit=function(){if(this._oExpandButton){this._oExpandButton.destroy();delete this._oExpandButton;}this._rb=undefined;};F.prototype.setExpandable=function(e){this.setProperty("expandable",e);if(e){var t=this;if(!this._oExpandButton){this._oExpandButton=sap.ui.layout.form.FormHelper.createButton.call(this,this.getId()+"--Exp",b);this._oExpandButton.setParent(this);}_(t);}return this;};F.prototype.setExpanded=function(e){this.setProperty("expanded",e,true);var t=this;_(t);var f=this.getParent();if(f&&f.toggleContainerExpanded){f.toggleContainerExpanded(t);}return this;};F.prototype.setToolbar=function(t){t=sap.ui.layout.form.FormHelper.setToolbar.call(this,t);this.setAggregation("toolbar",t);return this;};F.prototype.contentOnAfterRendering=function(f,c){var p=this.getParent();if(p&&p.contentOnAfterRendering){p.contentOnAfterRendering(f,c);}};F.prototype.onLayoutDataChange=function(e){var p=this.getParent();if(p&&p.onLayoutDataChange){p.onLayoutDataChange(e);}};F.prototype._checkProperties=function(){var r=0;if(this.getExpandable()&&(!this.getTitle()||this.getToolbar())){q.sap.log.warning("Expander only displayed if title is set",this.getId(),"FormContainer");r=1;}return r;};F.prototype.getRenderedDomRef=function(){var t=this;var f=this.getParent();if(f&&f.getContainerRenderedDomRef){return f.getContainerRenderedDomRef(t);}else{return null;}};F.prototype.getElementRenderedDomRef=function(e){var f=this.getParent();if(f&&f.getElementRenderedDomRef){return f.getElementRenderedDomRef(e);}else{return null;}};function _(c){if(!c._oExpandButton){return;}var i,I,t,T;if(c.getExpanded()){i=P._getThemeImage('sapUiFormContainerColImageURL');I=P._getThemeImage('sapUiFormContainerColImageDownURL');t="-";T=c._rb.getText("FORM_COLLAPSE");}else{i=P._getThemeImage('sapUiFormContainerExpImageURL');I=P._getThemeImage('sapUiFormContainerExpImageDownURL');t="+";T=c._rb.getText("FORM_EXPAND");}if(i){t="";}sap.ui.layout.form.FormHelper.setButtonContent(c._oExpandButton,t,T,i,I);}function b(e){this.setExpanded(!this.getExpanded());}return F;},true);
sap.ui.predefine('sap/ui/layout/form/FormElement.designtime',['sap/ui/layout/form/Form','sap/ui/layout/form/FormContainer','sap/ui/layout/form/ResponsiveGridLayout'],function(F,a,R){"use strict";return{domRef:function(f){var p=f.getParent();if(p instanceof a){p=p.getParent();if(p instanceof F){var l=p.getLayout();if(l instanceof R){var b=f.getFields();var L=f.getLabel();if(typeof(L)==="string"){if(f.getLabelControl){L=f.getLabelControl();}else{L=null;}}if(L){b.unshift(L);}return b.filter(function(e){return e.getDomRef&&e.getDomRef();}).map(function(e){var d=e.getDomRef();return d.parentNode;});}}}}};},false);
sap.ui.predefine('sap/ui/layout/form/FormElement',['jquery.sap.global','sap/ui/core/Element','sap/ui/core/EnabledPropagator','sap/ui/layout/library'],function(q,E,a,l){"use strict";var F=E.extend("sap.ui.layout.form.FormElement",{metadata:{library:"sap.ui.layout",properties:{visible:{type:"boolean",group:"Misc",defaultValue:true}},defaultAggregation:"fields",aggregations:{label:{type:"sap.ui.core.Label",altTypes:["string"],multiple:false},fields:{type:"sap.ui.core.Control",multiple:true,singularName:"field"}},designTime:true}});F.prototype.init=function(){this._oFieldDelegate={oElement:this,onAfterRendering:e};};F.prototype.exit=function(){if(this._oLabel){this._oLabel.destroy();delete this._oLabel;}this._oFieldDelegate=undefined;};F.prototype.setLabel=function(A){if(!this._oLabel){var o=this.getLabel();if(o&&o.isRequired){o.isRequired=o._sapuiIsRequired;o._sapuiIsRequired=undefined;o.disableRequiredChangeCheck(false);}}this.setAggregation("label",A);var L=A;if(typeof L==="string"){if(!this._oLabel){this._oLabel=sap.ui.layout.form.FormHelper.createLabel(L);this._oLabel.setParent(this);this._oLabel.disableRequiredChangeCheck(true);if(this._oLabel.isRequired){this._oLabel.isRequired=_;}}else{this._oLabel.setText(L);}}else{if(this._oLabel){this._oLabel.destroy();delete this._oLabel;}if(L&&L.isRequired){L._sapuiIsRequired=L.isRequired;L.isRequired=_;L.disableRequiredChangeCheck(true);}}b(this);return this;};F.prototype.getLabelControl=function(){if(this._oLabel){return this._oLabel;}else{return this.getLabel();}};F.prototype.addField=function(o){this.addAggregation("fields",o);c.call(this,o);b(this);return this;};F.prototype.insertField=function(o,i){this.insertAggregation("fields",o,i);c.call(this,o);b(this);return this;};F.prototype.removeField=function(o){var r=this.removeAggregation("fields",o);d.call(this,r);b(this);return r;};F.prototype.removeAllFields=function(){var r=this.removeAllAggregation("fields");for(var i=0;i<r.length;i++){var R=r[i];d.call(this,R);}b(this);return r;};F.prototype.destroyFields=function(){var g=this.getFields();for(var i=0;i<g.length;i++){var o=g[i];d.call(this,o);}this.destroyAggregation("fields");b(this);return this;};F.prototype.updateFields=function(){var g=this.getFields();var o;var i=0;for(i=0;i<g.length;i++){o=g[i];d.call(this,o);}this.updateAggregation("fields");g=this.getFields();for(i=0;i<g.length;i++){o=g[i];c.call(this,o);}b(this);return this;};F.prototype.enhanceAccessibilityState=function(o,A){var L=this.getLabelControl();if(L&&L!=o){var s=A["labelledby"];if(!s){s=L.getId();}else{var g=s.split(" ");if(q.inArray(L.getId(),g)<0){g.splice(0,0,L.getId());s=g.join(" ");}}A["labelledby"]=s;}return A;};F.prototype.onLayoutDataChange=function(o){var p=this.getParent();if(p&&p.onLayoutDataChange){p.onLayoutDataChange(o);}};F.prototype.getRenderedDomRef=function(){var t=this;var C=this.getParent();if(C&&C.getElementRenderedDomRef){return C.getElementRenderedDomRef(t);}else{return null;}};function _(){if(this.getRequired&&this.getRequired()){return true;}var o=this.getParent();var g=o.getFields();for(var i=0;i<g.length;i++){var h=g[i];if(h.getRequired&&h.getRequired()===true){return true;}}return false;}function b(o){var g=o.getFields();var h=g.length>0?g[0]:null;var L=o._oLabel;if(L){L.setLabelFor(h);}L=o.getLabel();if(L instanceof sap.ui.core.Control){L.setAlternativeLabelFor(h);}}function c(o){o.addDelegate(this._oFieldDelegate);if(o.getMetadata().getProperty("required")){o.attachEvent("_change",f,this);}}function d(o){o.removeDelegate(this._oFieldDelegate);if(o.getMetadata().getProperty("required")){o.detachEvent("_change",f,this);}}function e(o){var p=this.oElement.getParent();if(p&&p.contentOnAfterRendering){p.contentOnAfterRendering(this.oElement,o.srcControl);}}function f(o){if(o.getParameter("name")=="required"){var L=this.getLabelControl();if(L){L.invalidate();}}}return F;},true);
sap.ui.predefine('sap/ui/layout/form/FormLayout',['jquery.sap.global','sap/ui/core/Control','./Form','sap/ui/layout/library'],function(q,C,F,l){"use strict";var a=C.extend("sap.ui.layout.form.FormLayout",{metadata:{library:"sap.ui.layout",properties:{backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:sap.ui.layout.BackgroundDesign.Translucent}}}});a.prototype.contentOnAfterRendering=function(f,c){if(sap.ui.layout.form.FormHelper.bArrowKeySupport){q(c.getFocusDomRef()).data("sap.InNavArea",true);}};a.prototype.toggleContainerExpanded=function(c){var e=c.getExpanded();if(this.getDomRef()){if(e){c.$("content").css("display","");}else{c.$("content").css("display","none");}}};a.prototype.getLayoutDataForElement=function(e,t){var L=e.getLayoutData();var c=q.sap.getObject(t);if(!L){return undefined;}else if(L instanceof c){return L;}else if(L.getMetadata().getName()=="sap.ui.core.VariantLayoutData"){var b=L.getMultipleLayoutData();for(var i=0;i<b.length;i++){var o=b[i];if(o instanceof c){return o;}}}};a.prototype.onsapright=function(e){if(sap.ui.layout.form.FormHelper.bArrowKeySupport){var r=sap.ui.getCore().getConfiguration().getRTL();var t=this;if(!r){this.navigateForward(e,t);}else{this.navigateBack(e,t);}}};a.prototype.onsapleft=function(e){if(sap.ui.layout.form.FormHelper.bArrowKeySupport){var r=sap.ui.getCore().getConfiguration().getRTL();var t=this;if(!r){this.navigateBack(e,t);}else{this.navigateForward(e,t);}}};a.prototype.onsapdown=function(e){if(sap.ui.layout.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E instanceof sap.ui.layout.form.FormElement){n=this.findFieldBelow(c,E);}else if(E&&E instanceof sap.ui.layout.form.FormContainer){n=this.findFirstFieldOfNextElement(E,0);}if(n){q.sap.focus(n);e.preventDefault();}}};a.prototype.onsapup=function(e){if(sap.ui.layout.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E instanceof sap.ui.layout.form.FormElement){n=this.findFieldAbove(c,E);}else if(E&&E instanceof sap.ui.layout.form.FormContainer){var f=E.getParent();i=f.indexOfFormContainer(E);n=this.findLastFieldOfLastElementInPrevContainer(f,i-1);}if(n){q.sap.focus(n);e.preventDefault();}}};a.prototype.onsaphome=function(e){if(sap.ui.layout.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;var o=E.getParent();var f=o.getParent();i=f.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(f,i);if(n){q.sap.focus(n);e.preventDefault();}}};a.prototype.onsaptop=function(e){if(sap.ui.layout.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var r=this.findElement(c);var E=r.element;var n;var o;if(E&&E instanceof sap.ui.layout.form.FormElement){o=E.getParent();}else if(E&&E instanceof sap.ui.layout.form.FormContainer){o=E;}var f=o.getParent();n=this.findFirstFieldOfForm(f);if(n){q.sap.focus(n);e.preventDefault();}}};a.prototype.onsapend=function(e){if(sap.ui.layout.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;var o=E.getParent();var f=o.getParent();i=f.indexOfFormContainer(o);n=this.findLastFieldOfLastElementInPrevContainer(f,i);if(n){q.sap.focus(n);e.preventDefault();}}};a.prototype.onsapbottom=function(e){if(sap.ui.layout.form.FormHelper.bArrowKeySupport){var c=e.srcControl;var r=this.findElement(c);var E=r.element;var n;var o;if(E&&E instanceof sap.ui.layout.form.FormElement){o=E.getParent();}else if(E&&E instanceof sap.ui.layout.form.FormContainer){o=E;}var f=o.getParent();var b=f.getFormContainers();var L=b.length;n=this.findLastFieldOfLastElementInPrevContainer(f,L-1);if(n){q.sap.focus(n);e.preventDefault();}}};a.prototype.onsapexpand=function(e){var c=e.srcControl;var r=this.findElement(c);var E=r.element;var o;if(E instanceof sap.ui.layout.form.FormContainer){o=E;}else{o=E.getParent();}if(o.getExpandable()){o.setExpanded(true);}};a.prototype.onsapcollapse=function(e){var c=e.srcControl;var r=this.findElement(c);var E=r.element;var o;if(E instanceof sap.ui.layout.form.FormContainer){o=E;}else{o=E.getParent();}if(o.getExpandable()){o.setExpanded(false);}};a.prototype.onsapskipforward=function(e){var c=e.srcControl;var r=this.findElement(c);var E=r.element;c=r.rootControl;var n;var o;if(E&&E instanceof sap.ui.layout.form.FormElement){o=E.getParent();}else if(E&&E instanceof sap.ui.layout.form.FormContainer){o=E;}var f=o.getParent();var i=f.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(f,i+1);if(n){q.sap.focus(n);e.preventDefault();}};a.prototype.onsapskipback=function(e){var c=e.srcControl;var r=this.findElement(c);var E=r.element;c=r.rootControl;var n;var o;if(E&&E instanceof sap.ui.layout.form.FormElement){o=E.getParent();}else if(E&&E instanceof sap.ui.layout.form.FormContainer){o=E;}var f=o.getParent();var b=f.getFormContainers();var i=f.indexOfFormContainer(o);while(!n&&i>=0){var p=b[i-1];if(!p.getExpandable()||p.getExpanded()){n=this.findFirstFieldOfFirstElementInPrevContainer(f,i-1);}i=i-1;}if(n){q.sap.focus(n);e.preventDefault();}};a.prototype.onBeforeFastNavigationFocus=function(e){if(q.contains(this.getDomRef(),e.source)){e.srcControl=q(e.source).control(0);if(e.forward){this.onsapskipforward(e);}else{this.onsapskipback(e);}}else{var n=e.forward?this.findFirstFieldOfForm(this.getParent()):this.findFirstFieldOfLastContainerOfForm(this.getParent());if(n){q.sap.focus(n);e.preventDefault();}}};a.prototype.findElement=function(c){var e=c.getParent();var r=c;while(e&&!(e instanceof sap.ui.layout.form.FormElement)&&!(e&&e instanceof sap.ui.layout.form.FormContainer)&&!(e&&e instanceof F)){r=e;e=e.getParent();}return({rootControl:r,element:e});};a.prototype.navigateForward=function(e){var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E instanceof sap.ui.layout.form.FormElement){if(c==E.getLabelControl()){i=-1;}else{i=E.indexOfField(c);}n=this.findNextFieldOfElement(E,i+1);if(!n){var o=E.getParent();i=o.indexOfFormElement(E);n=this.findFirstFieldOfNextElement(o,i+1);if(!n){var f=o.getParent();i=f.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(f,i+1);}}}else if(E&&E instanceof sap.ui.layout.form.FormContainer){n=this.findFirstFieldOfNextElement(E,0);}if(n){q.sap.focus(n);e.preventDefault();}};a.prototype.tabForward=function(e){var f;var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E instanceof sap.ui.layout.form.FormElement){if(c==E.getLabelControl()){i=-1;}else{i=E.indexOfField(c);}n=this.findNextFieldOfElement(E,i+1,true);if(!n){var o=E.getParent();i=o.indexOfFormElement(E);n=this.findFirstFieldOfNextElement(o,i+1,true);if(!n){f=o.getParent();i=f.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(f,i+1,true);}}}else if(E&&E instanceof sap.ui.layout.form.FormContainer){n=this.findFirstFieldOfNextElement(E,0,true);if(!n){f=E.getParent();i=f.indexOfFormContainer(E);n=this.findFirstFieldOfFirstElementInNextContainer(f,i+1,true);}}if(n){q.sap.focus(n);e.preventDefault();}};a.prototype.findNextFieldOfElement=function(e,s,t){var f=e.getFields();var L=f.length;var n;for(var i=s;i<L;i++){var o=f[i];var d=this._getDomRef(o);if(t==true){if((!o.getEditable||o.getEditable())&&(!o.getEnabled||o.getEnabled())&&d){n=d;break;}}else{if((!o.getEnabled||o.getEnabled())&&d){n=d;break;}}}return n;};a.prototype.findFirstFieldOfNextElement=function(c,s,t){var e=c.getFormElements();var L=e.length;var n;var i=s;while(!n&&i<L){var E=e[i];if(t==true){n=this.findNextFieldOfElement(E,0,true);}else{n=this.findNextFieldOfElement(E,0);}i++;}return n;};a.prototype.findFirstFieldOfForm=function(f){var c=f.getFormContainers();var n;var o=c[0];if(!o.getExpandable()||o.getExpanded()){n=this.findFirstFieldOfNextElement(o,0);}return n;};a.prototype.findFirstFieldOfLastContainerOfForm=function(f){var n;var c=f.getFormContainers();var i=c.length;while(!n&&i>=0){var p=c[i-1];if(!p.getExpandable()||p.getExpanded()){n=this.findFirstFieldOfFirstElementInPrevContainer(f,i-1);}i=i-1;}return n;};a.prototype.findFirstFieldOfFirstElementInNextContainer=function(f,s,t){var c=f.getFormContainers();var L=c.length;var n;var i=s;while(!n&&i<L){var o=c[i];if(o.getExpandable()&&t){n=o._oExpandButton.getFocusDomRef();if(n){break;}}if(!o.getExpandable()||o.getExpanded()){if(t==true){n=this.findFirstFieldOfNextElement(o,0,true);}else{n=this.findFirstFieldOfNextElement(o,0);}}i++;}return n;};a.prototype.findFirstFieldOfFirstElementInPrevContainer=function(f,s){var c=f.getFormContainers();var L=c.length;var n;var i=s;while(!n&&i<L&&i>=0){var o=c[i];if(!o.getExpandable()||o.getExpanded()){n=this.findFirstFieldOfNextElement(o,0);}i++;}return n;};a.prototype.navigateBack=function(e){var f;var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E instanceof sap.ui.layout.form.FormElement){if(c==E.getLabelControl()){i=0;}else{i=E.indexOfField(c);}n=this.findPrevFieldOfElement(E,i-1);if(!n){var o=E.getParent();i=o.indexOfFormElement(E);n=this.findLastFieldOfPrevElement(o,i-1);if(!n){f=o.getParent();i=f.indexOfFormContainer(o);n=this.findLastFieldOfLastElementInPrevContainer(f,i-1);}}}else if(E&&E instanceof sap.ui.layout.form.FormContainer){f=E.getParent();i=f.indexOfFormContainer(E);n=this.findLastFieldOfLastElementInPrevContainer(f,i-1);}if(n){q.sap.focus(n);e.preventDefault();}};a.prototype.tabBack=function(e){var f;var c=e.srcControl;var i=0;var n;var r=this.findElement(c);var E=r.element;c=r.rootControl;if(E&&E instanceof sap.ui.layout.form.FormElement){if(c==E.getLabelControl()){i=0;}else{i=E.indexOfField(c);}n=this.findPrevFieldOfElement(E,i-1,true);if(!n){var o=E.getParent();i=o.indexOfFormElement(E);n=this.findLastFieldOfPrevElement(o,i-1,true);if(!n){f=o.getParent();i=f.indexOfFormContainer(o);if(o.getExpandable()){n=o._oExpandButton.getFocusDomRef();}if(!n){n=this.findLastFieldOfLastElementInPrevContainer(f,i-1,true);}}}}else if(E&&E instanceof sap.ui.layout.form.FormContainer){f=E.getParent();i=f.indexOfFormContainer(E);n=this.findLastFieldOfLastElementInPrevContainer(f,i-1,true);}if(n){q.sap.focus(n);e.preventDefault();}};a.prototype.findPrevFieldOfElement=function(e,s,t){var f=e.getFields();var n;for(var i=s;i>=0;i--){var o=f[i];var d=this._getDomRef(o);if(t==true){if((!o.getEditable||o.getEditable())&&(!o.getEnabled||o.getEnabled())&&d){n=d;break;}}else{if((!o.getEnabled||o.getEnabled())&&d){n=d;break;}}}return n;};a.prototype.findLastFieldOfPrevElement=function(c,s,t){var e=c.getFormElements();var n;var i=s;while(!n&&i>=0){var E=e[i];var L=E.getFields().length;if(t==true){n=this.findPrevFieldOfElement(E,L-1,true);}else{n=this.findPrevFieldOfElement(E,L-1);}i--;}return n;};a.prototype.findLastFieldOfLastElementInPrevContainer=function(f,s,t){var c=f.getFormContainers();var n;var i=s;while(!n&&i>=0){var o=c[i];if(o.getExpandable()&&!o.getExpanded()&&t){n=o._oExpandButton.getFocusDomRef();if(n){break;}}if(!o.getExpandable()||o.getExpanded()){var L=o.getFormElements().length;if(t==true){n=this.findLastFieldOfPrevElement(o,L-1,true);}else{n=this.findLastFieldOfPrevElement(o,L-1,0);}}i--;}return n;};a.prototype.findFieldBelow=function(c,e){var o=e.getParent();var i=o.indexOfFormElement(e);var n=this.findFirstFieldOfNextElement(o,i+1);if(!n){var f=o.getParent();i=f.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(f,i+1);}return n;};a.prototype.findFieldAbove=function(c,e){var o=e.getParent();var b=o.indexOfFormElement(e);var E=o.getFormElements();var n;var i=b-1;while(!n&&i>=0){var m=E[i];n=this.findPrevFieldOfElement(m,0);i--;}if(!n){var f=o.getParent();b=f.indexOfFormContainer(o);n=this.findLastFieldOfLastElementInPrevContainer(f,b-1);}return n;};a.prototype._getDomRef=function(c){var d=c.getFocusDomRef();if(!q(d).is(":sapFocusable")){d=undefined;}return d;};a.prototype.getContainerRenderedDomRef=function(c){if(this.getDomRef()){return q.sap.domById(c.getId());}else{return null;}};a.prototype.getElementRenderedDomRef=function(e){if(this.getDomRef()){return q.sap.domById(e.getId());}else{return null;}};return a;},true);
sap.ui.predefine('sap/ui/layout/form/FormLayoutRenderer',['jquery.sap.global'],function(q){"use strict";var F={};F.render=function(r,l){var a=r;var f=l.getParent();if(f&&f instanceof sap.ui.layout.form.Form){this.renderForm(a,l,f);}};F.renderForm=function(r,l,f){var t=f.getToolbar();r.write("<div");r.writeControlData(l);r.addClass(this.getMainClass());if(t){r.addClass("sapUiFormToolbar");}this.addBackgroundClass(r,l);r.writeClasses();r.write(">");if(t){r.renderControl(t);}else{var s=sap.ui.core.theming.Parameters.get('sap.ui.layout.FormLayout:sapUiFormTitleSize');this.renderTitle(r,f.getTitle(),undefined,false,s,f.getId());}this.renderContainers(r,l,f);r.write("</div>");};F.getMainClass=function(){return"sapUiFormLayout";};F.addBackgroundClass=function(r,l){var b=l.getBackgroundDesign();if(b!=sap.ui.layout.BackgroundDesign.Transparent){r.addClass("sapUiFormBackgr"+b);}};F.renderContainers=function(r,l,f){var c=f.getFormContainers();for(var i=0,a=c.length;i<a;i++){var C=c[i];if(C.getVisible()){this.renderContainer(r,l,C);}}};F.renderContainer=function(r,l,c){var e=c.getExpandable();var t=c.getToolbar();var T=c.getTitle();r.write("<section");r.writeElementData(c);r.addClass("sapUiFormContainer");if(t){r.addClass("sapUiFormContainerToolbar");}else if(T){r.addClass("sapUiFormContainerTitle");}if(c.getTooltip_AsString()){r.writeAttributeEscaped('title',c.getTooltip_AsString());}r.writeClasses();this.writeAccessibilityStateContainer(r,c);r.write(">");if(t){r.renderControl(t);}else{this.renderTitle(r,T,c._oExpandButton,e,sap.ui.core.TitleLevel.H4,c.getId());}if(e){r.write("<div id='"+c.getId()+"-content'");if(!c.getExpanded()){r.addStyle("display","none");r.writeStyles();}r.write(">");}var E=c.getFormElements();for(var j=0,a=E.length;j<a;j++){var o=E[j];if(o.getVisible()){this.renderElement(r,l,o);}}if(e){r.write("</div>");}r.write("</section>");};F.renderElement=function(r,l,e){var L=e.getLabelControl();r.write("<div");r.writeElementData(e);r.addClass("sapUiFormElement");if(L){r.addClass("sapUiFormElementLbl");}r.writeClasses();r.write(">");if(L){r.renderControl(L);}var f=e.getFields();if(f&&f.length>0){for(var k=0,a=f.length;k<a;k++){var o=f[k];r.renderControl(o);}}r.write("</div>");};F.renderTitle=function(r,t,e,E,l,c){if(t){var L=sap.ui.core.theming.Parameters.get('sap.ui.layout.FormLayout:sapUiFormSubTitleSize');if(l){L=l;}if(typeof t!=="string"&&t.getLevel()!=sap.ui.core.TitleLevel.Auto){L=t.getLevel();}r.write("<"+L+" ");r.addClass("sapUiFormTitle");r.addClass("sapUiFormTitle"+L);if(typeof t!=="string"){r.writeElementData(t);if(t.getTooltip_AsString()){r.writeAttributeEscaped('title',t.getTooltip_AsString());}if(t.getEmphasized()){r.addClass("sapUiFormTitleEmph");}}else{r.writeAttribute("id",c+"--title");}r.writeClasses();r.write(">");if(E&&e){r.renderControl(e);}if(typeof t==="string"){r.writeEscaped(t,true);}else{var i=t.getIcon();if(i){var C=[];var a={"title":null};a["id"]=t.getId()+"-ico";r.writeIcon(i,C,a);}r.writeEscaped(t.getText(),true);}r.write("</"+L+">");}};F.writeAccessibilityStateContainer=function(r,c){var a={role:"form"};var t=c.getTitle();var T=c.getToolbar();if(T){if(!c.getAriaLabelledBy()||c.getAriaLabelledBy().length==0){a["labelledby"]=T.getId();}}else if(t){var i="";if(typeof t=="string"){i=c.getId()+"--title";}else{i=t.getId();}a["labelledby"]=i;}r.writeAccessibilityState(c,a);};return F;},true);
sap.ui.predefine('sap/ui/layout/form/FormRenderer',['jquery.sap.global'],function(q){"use strict";var F={};F.render=function(r,f){var a=r;var l=f.getLayout();a.write("<div");a.writeControlData(f);a.addClass("sapUiForm");a.writeAttribute("data-sap-ui-customfastnavgroup","true");var c=sap.ui.layout.form.FormHelper.addFormClass();if(c){a.addClass(c);}if(f.getEditable()){a.addClass("sapUiFormEdit");a.addClass("sapUiFormEdit-CTX");}if(f.getWidth()){a.addStyle("width",f.getWidth());}if(f.getTooltip_AsString()){a.writeAttributeEscaped('title',f.getTooltip_AsString());}a.writeClasses();a.writeStyles();var A={role:"form"};var t=f.getTitle();var T=f.getToolbar();if(T){if(!f.getAriaLabelledBy()||f.getAriaLabelledBy().length==0){A["labelledby"]=T.getId();}}else if(t){var i="";if(typeof t=="string"){i=f.getId()+"--title";}else{i=t.getId();}A["labelledby"]={value:i,append:true};}a.writeAccessibilityState(f,A);a.write(">");if(l){a.renderControl(l);}else{q.sap.log.warning("Form \""+f.getId()+"\" - Layout missing!","Renderer","Form");}a.write("</div>");};return F;},true);
sap.ui.predefine('sap/ui/layout/form/GridContainerData',['jquery.sap.global','sap/ui/core/LayoutData','sap/ui/layout/library'],function(q,L,l){"use strict";var G=L.extend("sap.ui.layout.form.GridContainerData",{metadata:{library:"sap.ui.layout",properties:{halfGrid:{type:"boolean",group:"Misc",defaultValue:false}}}});return G;},true);
sap.ui.predefine('sap/ui/layout/form/GridElementData',['jquery.sap.global','sap/ui/core/LayoutData','sap/ui/layout/library'],function(q,L,l){"use strict";var G=L.extend("sap.ui.layout.form.GridElementData",{metadata:{library:"sap.ui.layout",properties:{hCells:{type:"sap.ui.layout.form.GridElementCells",group:"Appearance",defaultValue:'auto'},vCells:{type:"int",group:"Appearance",defaultValue:1}}}});return G;},true);
sap.ui.predefine('sap/ui/layout/form/GridLayout',['jquery.sap.global','./FormLayout','./GridContainerData','./GridElementData','sap/ui/layout/library'],function(q,F,G,a,l){"use strict";var b=F.extend("sap.ui.layout.form.GridLayout",{metadata:{library:"sap.ui.layout",properties:{singleColumn:{type:"boolean",group:"Misc",defaultValue:false}}}});b.prototype.toggleContainerExpanded=function(c){this.invalidate();};b.prototype.onAfterRendering=function(){var f=this.getParent();if(f){var c=f.getFormContainers();for(var i=0;i<c.length;i++){var C=c[i];if(C.getExpandable()){C._oExpandButton.$().attr("tabindex","-1");}}}};b.prototype.contentOnAfterRendering=function(f,c){F.prototype.contentOnAfterRendering.apply(this,arguments);if(c.getMetadata().getName()!="sap.ui.commons.Image"){c.$().css("width","100%");}};b.prototype.onLayoutDataChange=function(e){if(this.getDomRef()){this.invalidate();}};b.prototype.onsaptabnext=function(e){this.tabForward(e);};b.prototype.onsaptabprevious=function(e){this.tabBack(e);};b.prototype.findFieldOfElement=function(e,s,L){if(!L){return F.prototype.findPrevFieldOfElement.apply(this,arguments);}if(!e.getVisible()){return null;}var f=e.getFields();var n;var I=f.length;s=I-1;for(var i=s;i>=0;i--){var o=f[i];var c=o.$().offset().left;if(L<c&&i!=0){continue;}var d=this._getDomRef(o);if((!o.getEnabled||o.getEnabled())&&d){n=d;break;}}return n;};b.prototype.findFieldBelow=function(c,e){var C=e.getParent();var d=C.indexOfFormElement(e);var n;if(C.getVisible()){var E=C.getFormElements();var m=E.length;var i=d+1;var L=c.$().offset().left;while(!n&&i<m){var N=E[i];n=this.findFieldOfElement(N,0,L);i++;}}if(!n){var f=C.getParent();d=f.indexOfFormContainer(C);n=this.findFirstFieldOfFirstElementInNextContainer(f,d+1);}return n;};b.prototype.findFieldAbove=function(c,e){var C=e.getParent();var d=C.indexOfFormElement(e);var n;if(C.getVisible()){var E=C.getFormElements();var i=d-1;var L=c.$().offset().left;while(!n&&i>=0){var N=E[i];n=this.findFieldOfElement(N,0,L);i--;}}if(!n){var f=C.getParent();d=f.indexOfFormContainer(C);n=this.findLastFieldOfLastElementInPrevContainer(f,d-1);}return n;};b.prototype.getContainerRenderedDomRef=function(c){return null;};b.prototype.getElementRenderedDomRef=function(e){if(this.getDomRef()){var s=this.getSingleColumn();var c=e.getParent();var C=this.getLayoutDataForElement(c,"sap.ui.layout.form.GridContainerData");var t=this;if((s||!C||!C.getHalfGrid())&&!this.getRenderer().checkFullSizeElement(t,e)){return q.sap.domById(e.getId());}}return null;};return b;},true);
sap.ui.predefine('sap/ui/layout/form/GridLayoutRenderer',['jquery.sap.global','sap/ui/core/Renderer','./FormLayoutRenderer'],function(q,R,F){"use strict";var G=R.extend(F);G.renderForm=function(r,l,f){var s=l.getSingleColumn();var c=16;var S=false;var C=0;var a=f.getFormContainers();var b=a.length;var i=0;var o;var d;var t=f.getToolbar();var T=f.getTitle();if(s){c=c/2;C=c;}else{C=c/2;for(i=0;i<b;i++){d=this.getContainerData(l,a[i]);if(d&&d.getHalfGrid()){S=true;break;}}}r.write("<table role=\"presentation\"");r.writeControlData(l);r.write(" cellpadding=\"0\" cellspacing=\"0\"");r.addStyle("border-collapse","collapse");r.addStyle("table-layout","fixed");r.addStyle("width","100%");r.addClass("sapUiGrid");this.addBackgroundClass(r,l);if(t){r.addClass("sapUiFormToolbar");}r.writeStyles();r.writeClasses();r.write(">");r.write("<colgroup>");r.write("<col span="+C+">");if(S){r.write("<col class = \"sapUiGridSpace\"span=1>");}if(!s){r.write("<col span="+C+">");}r.write("</colgroup><tbody>");if(t||T){var e=c;if(S){e++;}r.write("<tr class=\"sapUiGridTitle\"><th colspan="+e+">");if(t){r.renderControl(t);}else{var g=sap.ui.core.theming.Parameters.get('sap.ui.layout.FormLayout:sapUiFormTitleSize');this.renderTitle(r,T,undefined,false,g,f.getId());}r.write("</th></tr>");}i=0;var h;var j;while(i<b){o=a[i];o._checkProperties();if(o.getVisible()){d=this.getContainerData(l,o);if(d&&d.getHalfGrid()&&!s){h=a[i+1];j=undefined;if(h&&h.getVisible()){j=this.getContainerData(l,h);}if(j&&j.getHalfGrid()){h._checkProperties();this.renderContainerHalfSize(r,l,o,h,c);i++;}else{this.renderContainerHalfSize(r,l,o,undefined,c);}}else{this.renderContainerFullSize(r,l,o,c,S);}}i++;}if(!!sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version==9){r.write("<tr style=\"visibility:hidden;\">");for(i=0;i<c;i++){r.write("<td style=\"visibility:hidden; padding:0; height: 0;\"></td>");}if(S){r.write("<td style=\"visibility:hidden; padding:0; height: 0;\"></td>");}r.write("</tr>");}r.write("</tbody></table>");};G.renderContainerFullSize=function(r,l,c,C,s){var e=c.getExpandable();var t=c.getTooltip_AsString();var T=c.getToolbar();var o=c.getTitle();if(T||o){var a=C;if(s){a++;}r.write("<tr class=\"sapUiGridConteinerFirstRow\"><td colspan="+a);r.addClass("sapUiGridHeader");if(t){r.writeAttributeEscaped('title',t);}if(T){r.addClass("sapUiFormContainerToolbar");}else if(o){r.addClass("sapUiFormContainerTitle");}r.writeClasses();r.write(">");if(T){r.renderControl(T);}else{this.renderTitle(r,c.getTitle(),c._oExpandButton,e,false,c.getId());}r.write("</td></tr>");}if(!e||c.getExpanded()){var E=c.getFormElements();var b;var d=[];var f;var g=false;for(var j=0,h=E.length;j<h;j++){b=E[j];if(b.getVisible()){f=d[0]&&(d[0][0]==C);r.write("<tr");if(!g){g=true;if(!T&&!o){r.addClass("sapUiGridConteinerFirstRow");}}if(!this.checkFullSizeElement(l,b)&&d[0]!="full"&&!f){r.writeElementData(b);r.addClass("sapUiFormElement");}r.writeClasses();r.write(">");if(!f){d=this.renderElement(r,l,b,false,C,s,d);}else{d.splice(0,1);}r.write("</tr>");if(d[0]=="full"||f){j=j-1;}}}if(d.length>0){for(var i=0;i<d.length;i++){r.write("<tr></tr>");}}}};G.renderContainerHalfSize=function(r,l,c,C,a){var b=a/2;var e=c.getExpandable();var t=c.getTooltip_AsString();var T;var o=c.getTitle();var d;var f=c.getToolbar();var g;var E=[];if(!e||c.getExpanded()){E=c.getFormElements();}var L=E.length;var h=[];var j=0;var k=false;if(C){k=C.getExpandable();T=C.getTooltip_AsString();d=C.getTitle();g=C.getToolbar();if(!k||C.getExpanded()){h=C.getFormElements();}j=h.length;}if(o||d||f||g){r.write("<tr class=\"sapUiGridConteinerFirstRow\"><td colspan="+b);r.addClass("sapUiGridHeader");if(t){r.writeAttributeEscaped('title',t);}if(f){r.addClass("sapUiFormContainerToolbar");}else if(o){r.addClass("sapUiFormContainerTitle");}r.writeClasses();r.write(">");if(f){r.renderControl(f);}else if(o){this.renderTitle(r,o,c._oExpandButton,e,false,c.getId());}r.write("</td><td></td><td colspan="+b);r.addClass("sapUiGridHeader");if(T){r.writeAttributeEscaped('title',T);}if(g){r.addClass("sapUiFormContainerToolbar");}else if(d){r.addClass("sapUiFormContainerTitle");}r.writeClasses();r.write(">");if(g){r.renderControl(g);}else if(d){this.renderTitle(r,d,C._oExpandButton,k,false,C.getId());}r.write("</td></tr>");}if((!e||c.getExpanded())||(!k||C.getExpanded())){var m=[],n=[];var p=0,s=0;var u;var v;var w;var x;var y=false;while(p<L||s<j){u=E[p];v=h[s];w=m[0]&&(m[0][0]==b);x=n[0]&&(n[0][0]==b);if((u&&u.getVisible())||(v&&v.getVisible())||w||x){r.write("<tr");if(!y){y=true;if(!f&&!o&&!g&&!d){r.addClass("sapUiGridConteinerFirstRow");}}r.writeClasses();r.write(">");if(!w){if(u&&u.getVisible()&&(!e||c.getExpanded())){m=this.renderElement(r,l,u,true,b,false,m);}else{r.write("<td colspan="+b+"></td>");}if(m[0]!="full"){p++;}}else{if(m[0][2]>0){r.write("<td colspan="+m[0][2]+"></td>");}m.splice(0,1);}r.write("<td></td>");if(!x){if(v&&v.getVisible()&&(!k||C.getExpanded())){n=this.renderElement(r,l,v,true,b,false,n);}else{r.write("<td colspan="+b+"></td>");}if(n[0]!="full"){s++;}}else{if(n[0][2]>0){r.write("<td colspan="+n[0][2]+"></td>");}n.splice(0,1);}r.write("</tr>");}else{p++;s++;}}if(m.length>0||n.length>0){for(var i=0;i<m.length||i<n.length;i++){r.write("<tr></tr>");}}}};G.renderElement=function(r,l,e,h,c,s,a){var L=e.getLabelControl();var b=0;var f=e.getFields();var C=0;var A=0;var m=false;var d=1;var g=1;var x=0;if(this.checkFullSizeElement(l,e)){if(a.length>0&&a[0]!="full"){q.sap.log.error("Element \""+e.getId()+"\" - Too much fields for one row!","Renderer","GridLayout");return a;}if(s){c=c+1;}if(L&&a[0]!="full"){r.write("<td colspan="+c+" class=\"sapUiFormElementLbl sapUiGridLabelFull\">");r.renderControl(L);r.write("</td>");return["full"];}else{a.splice(0,1);g=this.getElementData(l,f[0]).getVCells();r.write("<td colspan="+c);if(g>1&&h){r.write(" rowspan="+g);for(x=0;x<g-1;x++){a.push([c,undefined,false]);}}r.write(" >");r.renderControl(f[0]);r.write("</td>");return a;}}if(a.length>0&&a[0][0]>0){c=c-a[0][0]+a[0][2];m=a[0][1];b=a[0][2];a.splice(0,1);}var j=b;var E;var k="";if(L||b>0){j=3;if(L&&b==0){E=this.getElementData(l,L);if(E){k=E.getHCells();if(k!="auto"&&k!="full"){j=parseInt(k,10);}}}r.write("<td colspan="+j+" class=\"sapUiFormElementLbl\">");if(L){r.renderControl(L);}c=c-j;r.write("</td>");}if(f&&f.length>0){var n=c;var o=f.length;var p;var i=0;var t=0;for(i=0,t=f.length;i<t;i++){p=f[i];E=this.getElementData(l,p);if(E&&E.getHCells()!="auto"){n=n-parseInt(E.getHCells(),10);o=o-1;}}var u=0;for(i=0,u=0,t=f.length;i<t;i++){p=f[i];E=this.getElementData(l,p);k="auto";d=1;g=1;if(E){k=E.getHCells();g=E.getVCells();}if(k=="auto"){if(n>0){d=Math.floor(n/o);if(d<1){d=1;}u++;A=A+d;if((u==o)&&(n>A)){d=d+(n-A);}}else{d=1;}}else{d=parseInt(k,10);}C=C+d;if(C>c){q.sap.log.error("Element \""+e.getId()+"\" - Too much fields for one row!","Renderer","GridLayout");C=C-d;break;}if(g>1){for(x=0;x<g-1;x++){if(L){b=j;}if(a.length>x){a[x][0]=a[x][0]+d;a[x][2]=b;}else{a.push([j+d,undefined,b]);}}}if(s&&C>=Math.floor(c/2)&&!m){d=d+1;m=true;if(g>1){for(x=0;x<g-1;x++){a[x][1]=true;}}}r.write("<td");if(d>1){r.write(" colspan="+d);}if(g>1){r.write(" rowspan="+g);}r.write(" >");r.renderControl(p);r.write("</td>");}}if(C<c){var v=c-C;if(!h&&s&&!m){v++;}r.write("<td colspan="+v+" ></td>");}return a;};G.checkFullSizeElement=function(l,e){var f=e.getFields();if(f.length==1&&this.getElementData(l,f[0])&&this.getElementData(l,f[0]).getHCells()=="full"){return true;}else{return false;}};G.getContainerData=function(l,c){return l.getLayoutDataForElement(c,"sap.ui.layout.form.GridContainerData");};G.getElementData=function(l,c){return l.getLayoutDataForElement(c,"sap.ui.layout.form.GridElementData");};return G;},true);
sap.ui.predefine('sap/ui/layout/form/ResponsiveGridLayout',['jquery.sap.global','sap/ui/layout/Grid','sap/ui/layout/GridData','./FormLayout','sap/ui/layout/library'],function(q,G,a,F,l){"use strict";var R=F.extend("sap.ui.layout.form.ResponsiveGridLayout",{metadata:{library:"sap.ui.layout",properties:{labelSpanXL:{type:"int",group:"Misc",defaultValue:-1},labelSpanL:{type:"int",group:"Misc",defaultValue:4},labelSpanM:{type:"int",group:"Misc",defaultValue:2},labelSpanS:{type:"int",group:"Misc",defaultValue:12},adjustLabelSpan:{type:"boolean",group:"Misc",defaultValue:true},emptySpanXL:{type:"int",group:"Misc",defaultValue:-1},emptySpanL:{type:"int",group:"Misc",defaultValue:0},emptySpanM:{type:"int",group:"Misc",defaultValue:0},emptySpanS:{type:"int",group:"Misc",defaultValue:0},columnsXL:{type:"int",group:"Misc",defaultValue:-1},columnsL:{type:"int",group:"Misc",defaultValue:2},columnsM:{type:"int",group:"Misc",defaultValue:1},singleContainerFullSize:{type:"boolean",group:"Misc",defaultValue:true},breakpointXL:{type:"int",group:"Misc",defaultValue:1440},breakpointL:{type:"int",group:"Misc",defaultValue:1024},breakpointM:{type:"int",group:"Misc",defaultValue:600}}}});sap.ui.core.Control.extend("sap.ui.layout.form.ResponsiveGridLayoutPanel",{metadata:{aggregations:{"content":{type:"sap.ui.layout.Grid",multiple:false}},associations:{"container":{type:"sap.ui.layout.form.FormContainer",multiple:false},"layout":{type:"sap.ui.layout.form.ResponsiveLayout",multiple:false}}},getLayoutData:function(){var C=sap.ui.getCore().byId(this.getContainer());var L=sap.ui.getCore().byId(this.getLayout());var o;if(L&&C){o=L.getLayoutDataForElement(C,"sap.ui.layout.GridData");}if(o){return o;}else{return this.getAggregation("layoutData");}},getCustomData:function(){var C=sap.ui.getCore().byId(this.getContainer());if(C){return C.getCustomData();}},refreshExpanded:function(){var C=sap.ui.getCore().byId(this.getContainer());if(C){if(C.getExpanded()){this.$().removeClass("sapUiRGLContainerColl");}else{this.$().addClass("sapUiRGLContainerColl");}}},renderer:function(r,p){var C=sap.ui.getCore().byId(p.getContainer());var L=sap.ui.getCore().byId(p.getLayout());var o=p.getContent();var E=C.getExpandable();var t=C.getTooltip_AsString();var T=C.getToolbar();var i=C.getTitle();r.write("<div");r.writeControlData(p);r.addClass("sapUiRGLContainer");if(E&&!C.getExpanded()){r.addClass("sapUiRGLContainerColl");}if(T){r.addClass("sapUiFormContainerToolbar");}else if(i){r.addClass("sapUiFormContainerTitle");}if(t){r.writeAttributeEscaped('title',t);}r.writeClasses();L.getRenderer().writeAccessibilityStateContainer(r,C);r.write(">");if(T){r.renderControl(T);}else if(C.getTitle()){L.getRenderer().renderTitle(r,i,C._oExpandButton,E,false,C.getId());}if(o){r.write("<div");r.addClass("sapUiRGLContainerCont");r.writeClasses();r.write(">");r.renderControl(o);r.write("</div>");}r.write("</div>");}});R.prototype.init=function(){this.mContainers={};this.oDummyLayoutData=new a(this.getId()+"--Dummy");};R.prototype.exit=function(){var t=this;for(var C in this.mContainers){h(t,C);}if(this._mainGrid){this._mainGrid.destroy();delete this._mainGrid;}this.oDummyLayoutData.destroy();this.oDummyLayoutData=undefined;};R.prototype.onBeforeRendering=function(E){var o=this.getParent();if(!o||!(o instanceof sap.ui.layout.form.Form)){return;}o._bNoInvalidate=true;var t=this;_(t,o);k(t,o);o._bNoInvalidate=false;};R.prototype.onAfterRendering=function(E){if(this._mainGrid&&this._mainGrid.__bIsUsed){for(var C in this.mContainers){if(this.mContainers[C][1]._sContainerResizeListener){sap.ui.core.ResizeHandler.deregister(this.mContainers[C][1]._sContainerResizeListener);this.mContainers[C][1]._sContainerResizeListener=null;}}}};R.prototype.contentOnAfterRendering=function(o,C){F.prototype.contentOnAfterRendering.apply(this,arguments);if(C.getWidth&&(!C.getWidth()||C.getWidth()=="auto")&&C.getMetadata().getName()!="sap.ui.commons.Image"){C.$().css("width","100%");}};R.prototype.toggleContainerExpanded=function(C){var s=C.getId();if(this.mContainers[s]&&this.mContainers[s][0]){var p=this.mContainers[s][0];p.refreshExpanded();}};R.prototype.onLayoutDataChange=function(E){var s=E.srcControl;if(s instanceof sap.ui.layout.form.FormContainer){if(this._mainGrid){this._mainGrid.onLayoutDataChange(E);}}else if(!(s instanceof sap.ui.layout.form.FormElement)){var p=s.getParent();if(p instanceof sap.ui.layout.form.FormElement){var C=p.getParent();var i=C.getId();if(this.mContainers[i]&&this.mContainers[i][1]){this.mContainers[i][1].onLayoutDataChange(E);}}}};R.prototype.onsapup=function(E){this.onsapleft(E);};R.prototype.onsapdown=function(E){this.onsapright(E);};R.prototype.getContainerRenderedDomRef=function(C){if(this.getDomRef()){var s=C.getId();if(this.mContainers[s]){if(this.mContainers[s][0]){var p=this.mContainers[s][0];return p.getDomRef();}else if(this.mContainers[s][1]){var o=this.mContainers[s][1];return o.getDomRef();}}}return null;};R.prototype.getElementRenderedDomRef=function(E){return null;};function _(L,o){var C=o.getFormContainers();var j=C.length;var v=0;var V=0;var n=[];var p;var r;var s;var t;var i=0;for(i=0;i<j;i++){s=C[i];s._checkProperties();if(s.getVisible()){v++;n.push(s);}}for(i=0;i<v;i++){s=n[i];if(s.getVisible()){V++;t=s.getId();p=undefined;r=undefined;var u=n[i+1];if(L.mContainers[t]&&L.mContainers[t][1]){r=L.mContainers[t][1];}else{r=d(L,s);}var T=s.getTitle();var w=s.getToolbar();if(w||T||s.getExpandable()){if(L.mContainers[t]&&L.mContainers[t][0]){p=L.mContainers[t][0];}else{p=b(L,s,r);f(r,true);}g(p,s,V,u,v);}else{if(L.mContainers[t]&&L.mContainers[t][0]){c(L.mContainers[t][0]);}f(r,false);g(r,s,V,u,v);}L.mContainers[t]=[p,r];}}var O=m(L.mContainers);if(v<O){for(t in L.mContainers){var x=false;for(i=0;i<j;i++){s=C[i];if(t==s.getId()&&s.getVisible()){x=true;break;}}if(!x){h(L,t);}}}}function b(L,C,o){var s=C.getId();var p=new sap.ui.layout.form.ResponsiveGridLayoutPanel(s+"---Panel",{container:C,layout:L,content:o});return p;}function c(p){p.setContent("");p.setLayout("");p.setContainer("");p.destroy();}function d(L,C){var I=C.getId()+"--Grid";var o=new G(I,{vSpacing:0,hSpacing:0,containerQuery:true});o.__myParentLayout=L;o.__myParentContainerId=C.getId();o.addStyleClass("sapUiFormResGridCont");o.getContent=function(){var C=sap.ui.getCore().byId(this.__myParentContainerId);if(C){var n=[];var E=C.getFormElements();var p;var r;for(var i=0;i<E.length;i++){var s=E[i];if(s.getVisible()){r=s.getLabelControl();if(r){n.push(r);}p=s.getFields();for(var j=0;j<p.length;j++){n.push(p[j]);}}}return n;}else{return false;}};o._getLayoutDataForControl=function(j){var L=this.__myParentLayout;var n=L.getLayoutDataForElement(j,"sap.ui.layout.GridData");var E=j.getParent();var p=E.getLabelControl();if(n){if(p==j){n._setStylesInternal("sapUiFormElementLbl");}return n;}else{var C=sap.ui.getCore().byId(this.__myParentContainerId);var r=L.getLayoutDataForElement(C,"sap.ui.layout.GridData");var s=C.getParent();var t=L.getLabelSpanL();var u=L.getLabelSpanM();var v=L.getLabelSpanS();if(L.getAdjustLabelSpan()){if(s.getFormContainers().length>=1&&L.getColumnsM()>1){u=L.getLabelSpanL();}if(r){if(r._getEffectiveSpanLarge()==12){t=L.getLabelSpanM();u=L.getLabelSpanM();}}if(s.getFormContainers().length==1||L.getColumnsL()==1){t=L.getLabelSpanM();u=L.getLabelSpanM();}}var w=L.getLabelSpanXL();if(w<0){w=t;}if(p==j){L.oDummyLayoutData.setSpan("XL"+w+" L"+t+" M"+u+" S"+v);L.oDummyLayoutData.setLinebreak(true);L.oDummyLayoutData._setStylesInternal("sapUiFormElementLbl");return L.oDummyLayoutData;}else{var x=12-L.getEmptySpanL();var M=12-L.getEmptySpanM();var S=12-L.getEmptySpanS();var X=x;var y=L.getEmptySpanXL();if(y>-1){X=12-y;}var z;if(p){var A=L.getLayoutDataForElement(p,"sap.ui.layout.GridData");if(A){z=A._getEffectiveSpanLarge();if(z){t=z;}z=A._getEffectiveSpanXLarge();if(z){w=z;}if(w<0){w=t;}z=A._getEffectiveSpanMedium();if(z){u=z;}z=A._getEffectiveSpanSmall();if(z){v=z;}}if(w<12){X=X-w;}if(t<12){x=x-t;}if(u<12){M=M-u;}if(v<12){S=S-v;}}var B=E.getFields();var D=B.length;var H=1;var J=false;for(var i=0;i<D;i++){var K=B[i];if(K!=j){var N=L.getLayoutDataForElement(K,"sap.ui.layout.GridData");if(N){z=N._getEffectiveSpanLarge();if(z&&z<x){x=x-z;}var O=N._getEffectiveSpanXLarge();if(O){if(O<X){X=X-O;}}else{if(z&&z<X){X=X-z;}}z=N._getEffectiveSpanMedium();if(z&&z<M){M=M-z;}z=N._getEffectiveSpanSmall();if(z&&z<S){S=S-z;}}else{H++;}}else{if(H==1){J=true;}}}var P,Q,T,U=12;if(J){var V=X-Math.floor(X/H)*H;P=Math.floor(X/H)+V;V=x-Math.floor(x/H)*H;Q=Math.floor(x/H)+V;V=M-Math.floor(M/H)*H;T=Math.floor(M/H)+V;if(v<12){V=S-Math.floor(S/H)*H;U=Math.floor(S/H)+V;}}else{P=Math.floor(X/H);Q=Math.floor(x/H);T=Math.floor(M/H);if(v<12){U=Math.floor(S/H);}}L.oDummyLayoutData.setSpan("XL"+P+" L"+Q+" M"+T+" S"+U);L.oDummyLayoutData.setLinebreak(J&&!p);L.oDummyLayoutData._setStylesInternal(undefined);return L.oDummyLayoutData;}return n;}};o._onParentResizeOrig=o._onParentResize;o._onParentResize=function(){if(!this.getDomRef()){this._cleanup();return;}if(!q(this.getDomRef()).is(":visible")){return;}var L=this.__myParentLayout;if(!L._mainGrid||!L._mainGrid.__bIsUsed){var j=L.getParent().getFormContainers();var n;for(var i=0;i<j.length;i++){if(j[i].getVisible()){n=j[i];break;}}if(!n||!L.mContainers[n.getId()]||n.getId()!=this.__myParentContainerId){return;}if(L.mContainers[this.__myParentContainerId][0]){var D=L.mContainers[this.__myParentContainerId][0].getDomRef();var p=D.clientWidth;if(p<=L.getBreakpointM()){this._toggleClass("Phone");}else if((p>L.getBreakpointM())&&(p<=L.getBreakpointL())){this._toggleClass("Tablet");}else if((p>L.getBreakpointL())&&(p<=L.getBreakpointXL())){this._toggleClass("Desktop");}else{this._toggleClass("LargeDesktop");}}else{this._setBreakPointTablet(L.getBreakpointM());this._setBreakPointDesktop(L.getBreakpointL());this._setBreakPointLargeDesktop(L.getBreakpointXL());this._onParentResizeOrig();}}else{var $=L._mainGrid.$();if($.hasClass("sapUiRespGridMedia-Std-Phone")){this._toggleClass("Phone");}else if($.hasClass("sapUiRespGridMedia-Std-Tablet")){this._toggleClass("Tablet");}else if($.hasClass("sapUiRespGridMedia-Std-Desktop")){this._toggleClass("Desktop");}else{this._toggleClass("LargeDesktop");}}};o._getAccessibleRole=function(){var C=sap.ui.getCore().byId(this.__myParentContainerId);var L=this.__myParentLayout;if(L._mainGrid&&L._mainGrid.__bIsUsed&&!C.getToolbar()&&!C.getTitle()&&!C.getExpandable()){return"form";}};o.getUIArea=function(){var L=this.__myParentLayout;if(L){return L.getUIArea();}else{return null;}};return o;}function e(o){if(o.__myParentContainerId){o.__myParentContainerId=undefined;}o.__myParentLayout=undefined;o.destroy();}function f(o,O){if(O){if(o.__originalGetLayoutData){o.getLayoutData=o.__originalGetLayoutData;delete o.__originalGetLayoutData;}}else if(!o.__originalGetLayoutData){o.__originalGetLayoutData=o.getLayoutData;o.getLayoutData=function(){var L=this.__myParentLayout;var C=sap.ui.getCore().byId(this.__myParentContainerId);var i;if(C){i=L.getLayoutDataForElement(C,"sap.ui.layout.GridData");}if(i){return i;}else{return this.getAggregation("layoutData");}};}}function g(C,o,v,i,V){var L;if(C instanceof sap.ui.layout.form.ResponsiveGridLayoutPanel){L=sap.ui.getCore().byId(C.getLayout());}else{L=C.__myParentLayout;}var j=L.getLayoutDataForElement(o,"sap.ui.layout.GridData");if(!j){var n=L.getColumnsM();var p=L.getColumnsL();var r=L.getColumnsXL();var s=(v%p)==1;var t=(v%p)==0;var u=v>(V-p+(V%p));var w=v<=p;var x=(v%n)==1;var y=(v%n)==0;var z=v>(V-n+(V%n));var A=v<=n;var B=false;var D=t;var E=u;var H=w;if(r>0){B=(v%r)==1;D=(v%r)==0;E=v>(V-r+(V%r));H=v<=r;}if(i){var I=L.getLayoutDataForElement(i,"sap.ui.layout.GridData");if(I&&(I.getLinebreak()||I.getLinebreakXL())){D=true;E=false;}if(I&&(I.getLinebreak()||I.getLinebreakL())){t=true;u=false;}if(I&&(I.getLinebreak()||I.getLinebreakM())){y=true;z=false;}}var S="";if(D){S="sapUiFormResGridLastContXL";}if(t){if(S){S=S+" ";}S=S+"sapUiFormResGridLastContL";}if(y){if(S){S=S+" ";}S=S+"sapUiFormResGridLastContM";}if(E){if(S){S=S+" ";}S=S+"sapUiFormResGridLastRowXL";}if(u){if(S){S=S+" ";}S=S+"sapUiFormResGridLastRowL";}if(z){if(S){S=S+" ";}S=S+"sapUiFormResGridLastRowM";}if(H){if(S){S=S+" ";}S=S+"sapUiFormResGridFirstRowXL";}if(w){if(S){S=S+" ";}S=S+"sapUiFormResGridFirstRowL";}if(A){if(S){S=S+" ";}S=S+"sapUiFormResGridFirstRowM";}j=C.getLayoutData();if(!j){j=new a(C.getId()+"--LD",{linebreakL:s,linebreakM:x});C.setLayoutData(j);}else{j.setLinebreakL(s);j.setLinebreakM(x);}if(r>0){j.setLinebreakXL(B);}j._setStylesInternal(S);}}function h(L,C){var i=L.mContainers[C];var o=i[1];if(o){e(o);}var p=i[0];if(p){c(p);}delete L.mContainers[C];}function k(L,o){var C=o.getFormContainers();var v=[];var n;var p=0;var r=0;var i=0;var j=0;for(i=0;i<C.length;i++){n=C[i];if(n.getVisible()){p++;v.push(n);}}if(p>1||!L.getSingleContainerFullSize()){var s=Math.floor(12/L.getColumnsM());var S=Math.floor(12/L.getColumnsL());var t;var D="";var u=L.getColumnsXL();if(u>=0){t=Math.floor(12/u);D=D+"XL"+t+" ";}D=D+"L"+S+" M"+s+" S12";if(!L._mainGrid){L._mainGrid=new G(o.getId()+"--Grid",{defaultSpan:D,hSpacing:0,vSpacing:0,containerQuery:true}).setParent(L);L._mainGrid.addStyleClass("sapUiFormResGridMain");L._mainGrid._onParentResizeOrig=L._mainGrid._onParentResize;L._mainGrid._onParentResize=function(){this._onParentResizeOrig();for(var A in L.mContainers){L.mContainers[A][1]._onParentResize();}};}else{L._mainGrid.setDefaultSpan(D);var w=L._mainGrid.getContent();r=w.length;var E=false;for(i=0;i<r;i++){var x=w[i];n=undefined;if(x.getContainer){n=sap.ui.getCore().byId(x.getContainer());}else{n=sap.ui.getCore().byId(x.__myParentContainerId);}if(n&&n.getVisible()){var V=v[j];if(n!=V){E=true;break;}var y=L.mContainers[n.getId()];if(y[0]&&y[0]!=x){E=true;break;}if(!y[0]&&y[1]&&y[1]!=x){E=true;break;}j++;}else{L._mainGrid.removeContent(x);}}if(E){L._mainGrid.removeAllContent();r=0;}}L._mainGrid._setBreakPointTablet(L.getBreakpointM());L._mainGrid._setBreakPointDesktop(L.getBreakpointL());L._mainGrid._setBreakPointLargeDesktop(L.getBreakpointXL());L._mainGrid.__bIsUsed=true;if(r<p){var z=0;if(r>0){z=r--;}for(i=z;i<C.length;i++){n=C[i];if(n.getVisible()){var A=n.getId();if(L.mContainers[A]){if(L.mContainers[A][0]){L._mainGrid.addContent(L.mContainers[A][0]);}else if(L.mContainers[A][1]){L._mainGrid.addContent(L.mContainers[A][1]);}}}}}}else if(L._mainGrid){L._mainGrid.__bIsUsed=false;}}function m(o){var L=0;if(!Object.keys){q.each(o,function(){L++;});}else{L=Object.keys(o).length;}return L;}return R;},true);
sap.ui.predefine('sap/ui/layout/form/ResponsiveGridLayoutRenderer',['jquery.sap.global','sap/ui/core/Renderer','./FormLayoutRenderer'],function(q,R,F){"use strict";var a=R.extend(F);a.getMainClass=function(){return"sapUiFormResGrid";};a.renderContainers=function(r,l,f){var c=f.getFormContainers();var v=[];var L=0;for(var i=0;i<c.length;i++){var C=c[i];if(C.getVisible()){L++;v.push(C);}}if(L>0){if(L>1||!l.getSingleContainerFullSize()){r.renderControl(l._mainGrid);}else if(l.mContainers[v[0].getId()][0]){r.renderControl(l.mContainers[v[0].getId()][0]);}else{r.renderControl(l.mContainers[v[0].getId()][1]);}}};return a;},true);
sap.ui.predefine('sap/ui/layout/form/ResponsiveLayout',['jquery.sap.global','sap/ui/layout/ResponsiveFlowLayout','sap/ui/layout/ResponsiveFlowLayoutData','./FormLayout','sap/ui/layout/library'],function(q,R,a,F,l){"use strict";var b=F.extend("sap.ui.layout.form.ResponsiveLayout",{metadata:{library:"sap.ui.layout"}});sap.ui.core.Control.extend("sap.ui.layout.form.ResponsiveLayoutPanel",{metadata:{aggregations:{"content":{type:"sap.ui.layout.ResponsiveFlowLayout",multiple:false}},associations:{"container":{type:"sap.ui.layout.form.FormContainer",multiple:false},"layout":{type:"sap.ui.layout.form.ResponsiveLayout",multiple:false}}},getLayoutData:function(){var C=sap.ui.getCore().byId(this.getContainer());var L=sap.ui.getCore().byId(this.getLayout());var i;if(L&&C){i=L.getLayoutDataForElement(C,"sap.ui.layout.ResponsiveFlowLayoutData");}return i;},getCustomData:function(){var C=sap.ui.getCore().byId(this.getContainer());if(C){return C.getCustomData();}},refreshExpanded:function(){var C=sap.ui.getCore().byId(this.getContainer());if(C){if(C.getExpanded()){this.$().removeClass("sapUiRLContainerColl");}else{this.$().addClass("sapUiRLContainerColl");}}},renderer:function(r,P){var C=sap.ui.getCore().byId(P.getContainer());var L=sap.ui.getCore().byId(P.getLayout());var i=P.getContent();if(!C||!L){return;}var E=C.getExpandable();var t=C.getTooltip_AsString();var T=C.getToolbar();var j=C.getTitle();r.write("<div");r.writeControlData(P);r.addClass("sapUiRLContainer");if(E&&!C.getExpanded()){r.addClass("sapUiRLContainerColl");}if(T){r.addClass("sapUiFormContainerToolbar");}else if(j){r.addClass("sapUiFormContainerTitle");}if(t){r.writeAttributeEscaped('title',t);}r.writeClasses();L.getRenderer().writeAccessibilityStateContainer(r,C);r.write(">");if(T){r.renderControl(T);}else if(C.getTitle()){L.getRenderer().renderTitle(r,j,C._oExpandButton,E,false,C.getId());}if(i){r.write("<div");r.addClass("sapUiRLContainerCont");r.writeClasses();r.write(">");r.renderControl(i);r.write("</div>");}r.write("</div>");}});b.prototype.init=function(){this.mContainers={};this._defaultLayoutData=new a({margin:false});};b.prototype.exit=function(){var t=this;for(var C in this.mContainers){m(t,C);}if(this._mainRFLayout){this._mainRFLayout.destroy();delete this._mainRFLayout;}this._defaultLayoutData.destroy();delete this._defaultLayoutData;};b.prototype.onBeforeRendering=function(E){var i=this.getParent();if(!i||!(i instanceof sap.ui.layout.form.Form)){return;}i._bNoInvalidate=true;var t=this;_(t,i);o(t,i);i._bNoInvalidate=false;};b.prototype.contentOnAfterRendering=function(i,C){F.prototype.contentOnAfterRendering.apply(this,arguments);if(C.getWidth&&(!C.getWidth()||C.getWidth()=="auto")&&C.getMetadata().getName()!="sap.ui.commons.Image"){C.$().css("width","100%");}};b.prototype.toggleContainerExpanded=function(C){var s=C.getId();if(this.mContainers[s]&&this.mContainers[s][0]){var P=this.mContainers[s][0];P.refreshExpanded();}};b.prototype.onLayoutDataChange=function(E){var s=E.srcControl;var C;var i;var j;if(s instanceof sap.ui.layout.form.FormContainer){if(this._mainRFLayout){this._mainRFLayout.onLayoutDataChange(E);}}else if(s instanceof sap.ui.layout.form.FormElement){i=s.getParent().getId();if(this.mContainers[i]&&this.mContainers[i][1]){this.mContainers[i][1].onLayoutDataChange(E);}}else{var P=s.getParent();if(P instanceof sap.ui.layout.form.FormElement){C=P.getParent();i=C.getId();j=P.getId();if(this.mContainers[i]&&this.mContainers[i][2]&&this.mContainers[i][2][j]){this.mContainers[i][2][j][0].onLayoutDataChange(E);}}}};b.prototype.onsapup=function(E){this.onsapleft(E);};b.prototype.onsapdown=function(E){this.onsapright(E);};b.prototype.getContainerRenderedDomRef=function(C){if(this.getDomRef()){var s=C.getId();if(this.mContainers[s]){if(this.mContainers[s][0]){var P=this.mContainers[s][0];return P.getDomRef();}else if(this.mContainers[s][1]){var r=this.mContainers[s][1];return r.getDomRef();}}}return null;};b.prototype.getElementRenderedDomRef=function(E){if(this.getDomRef()){var C=E.getParent();var s=E.getId();var i=C.getId();if(this.mContainers[i]){if(this.mContainers[i][2]){var r=this.mContainers[i][2];if(r[s]){var j=r[s][0];return j.getDomRef();}}}}return null;};function _(L,j){var C=j.getFormContainers();var r;var s;var t=C.length;var v=0;var P;var u;var i=0;for(i=0;i<t;i++){r=C[i];r._checkProperties();if(r.getVisible()){v++;s=r.getId();P=undefined;u=undefined;if(L.mContainers[s]&&L.mContainers[s][1]){u=L.mContainers[s][1];}else{u=f(L,r,undefined);}var T=r.getTitle();var w=r.getToolbar();if(w||T||r.getExpandable()){if(L.mContainers[s]&&L.mContainers[s][0]){P=L.mContainers[s][0];}else{P=c(L,r,u);g(u,true);}u.removeStyleClass("sapUiRLContainer");}else{if(L.mContainers[s]&&L.mContainers[s][0]){d(L.mContainers[s][0]);g(u,false);}u.addStyleClass("sapUiRLContainer");}var x=e(L,r,u);L.mContainers[s]=[P,u,x];}}var O=p(L.mContainers);if(v<O){for(s in L.mContainers){var y=false;for(i=0;i<t;i++){r=C[i];if(s==r.getId()&&r.getVisible()){y=true;break;}}if(!y){m(L,s);}}}}function c(L,C,r){var s=C.getId();var P=new sap.ui.layout.form.ResponsiveLayoutPanel(s+"--Panel",{container:C,layout:L,content:r});return P;}function d(P){P.setContent("");P.setLayout("");P.setContainer("");P.destroy();}function e(L,C,j){var s=C.getId();var E=C.getFormElements();var r=E.length;var v=0;var t={};if(L.mContainers[s]&&L.mContainers[s][2]){t=L.mContainers[s][2];}var u;var w;var x=-1;var y;var z;var i=0;for(i=0;i<r;i++){y=E[i];if(y.getVisible()){z=y.getId();n(L,C,y,t,j,i);if(t[z]){u=t[z][0];x=j.indexOfContent(u);if(x!=v){j.removeContent(u);j.insertContent(u,v);x=v;}}else{u=f(L,C,y);u.addStyleClass("sapUiRLElement");if(y.getLabel()){u.addStyleClass("sapUiRLElementWithLabel");}t[z]=[u,undefined];x++;j.insertContent(u,x);}var A=y.getFields();if(y.getLabel()&&A.length>1){if(t[z][1]){w=t[z][1];}else{w=f(L,C,y,true);w.addStyleClass("sapUiRLElementFields");t[z][1]=w;}h(L,w,A);}else{if(t[z][1]){w=t[z][1];k(w);t[z][1]=undefined;}}v++;}}var O=p(t);if(v<O){for(z in t){var B=false;for(i=0;i<r;i++){y=E[i];if(z==y.getId()&&y.getVisible()){B=true;break;}}if(!B){if(t[z][1]){w=t[z][1];k(w);}u=t[z][0];j.removeContent(u);k(u);delete t[z];}}}return t;}function f(L,C,E,i){var I;if(E&&!i){I=E.getId()+"--RFLayout";}else if(E&&i){I=E.getId()+"--content--RFLayout";}else if(C){I=C.getId()+"--RFLayout";}else{return false;}var r=new R(I);r.__myParentLayout=L;r.__myParentContainerId=C.getId();if(E){r.__myParentElementId=E.getId();if(!i){r.getContent=function(){var E=sap.ui.getCore().byId(this.__myParentElementId);if(E){var j=[];var s=E.getLabelControl();var t=E.getFields();if(!s||t.length<=1){j=t;if(s){j.unshift(s);}}else{var L=this.__myParentLayout;var u=this.__myParentContainerId;var v=E.getId();if(s){j.push(s);}if(L.mContainers[u]&&L.mContainers[u][2]&&L.mContainers[u][2][v]&&L.mContainers[u][2][v][1]){j.push(L.mContainers[u][2][v][1]);}}return j;}else{return false;}};r._addContentClass=function(j,s){if(s==0){var E=sap.ui.getCore().byId(this.__myParentElementId);if(E){var t=E.getLabelControl();if(j==t){return"sapUiFormElementLbl";}}}return null;};}else{r.getContent=function(){var E=sap.ui.getCore().byId(this.__myParentElementId);if(E){return E.getFields();}else{return false;}};}}else if(C){r._getAccessibleRole=function(){var C=sap.ui.getCore().byId(this.__myParentContainerId);var L=this.__myParentLayout;if(L._mainRFLayout&&!C.getToolbar()&&!C.getTitle()&&!C.getExpandable()){return"form";}};}if((E&&!i)||(!E&&!C.getToolbar()&&!C.getTitle()&&!C.getExpandable())){g(r,false);}else{r.setLayoutData(new a({margin:false}));}return r;}function g(r,O){if(O){if(r.__originalGetLayoutData){r.getLayoutData=r.__originalGetLayoutData;delete r.__originalGetLayoutData;}}else if(!r.__originalGetLayoutData){r.__originalGetLayoutData=r.getLayoutData;r.getLayoutData=function(){var L=this.__myParentLayout;var C=sap.ui.getCore().byId(this.__myParentContainerId);var E=sap.ui.getCore().byId(this.__myParentElementId);var i;if(E){i=L.getLayoutDataForElement(E,"sap.ui.layout.ResponsiveFlowLayoutData");}else if(C){i=L.getLayoutDataForElement(C,"sap.ui.layout.ResponsiveFlowLayoutData");}if(i){return i;}else if(E){return L._defaultLayoutData;}};}}function h(L,r,j){var s;var w=0;for(var i=0;i<j.length;i++){var t=j[i];s=L.getLayoutDataForElement(t,"sap.ui.layout.ResponsiveFlowLayoutData");if(s){w=w+s.getWeight();}else{w++;}}s=r.getLayoutData();if(s){s.setWeight(w);}else{r.setLayoutData(new a({weight:w}));}}function k(r){if(r.__myParentContainerId){r.__myParentContainerId=undefined;}if(r.__myParentElementId){r.__myParentElementId=undefined;}r.__myParentLayout=undefined;r.destroy();}function m(L,C){var i=L.mContainers[C];var r;var E=i[2];if(E){for(var s in E){if(E[s][1]){k(E[s][1]);}r=E[s][0];k(r);delete E[s];}}r=i[1];if(r){r.removeAllContent();k(r);}var P=i[0];if(P){d(P);}delete L.mContainers[C];}function n(L,C,E,r,i,I){var s=E.getId();var j=s+"--RFLayout";var t=sap.ui.getCore().byId(j);if(!r[s]&&t){var O=t.__myParentContainerId;r[s]=L.mContainers[O][2][s];i.insertContent(t,I);t.__myParentContainerId=C.getId();if(r[s][1]){r[s][1].__myParentContainerId=C.getId();}delete L.mContainers[O][2][s];}}function o(L,r){var C=r.getFormContainers();var v=[];var s;var t=0;var u=0;var i=0;var j=0;for(i=0;i<C.length;i++){s=C[i];if(s.getVisible()){t++;v.push(s);}}if(t>1){if(!L._mainRFLayout){L._mainRFLayout=new R(r.getId()+"--RFLayout").setParent(L);}else{var w=L._mainRFLayout.getContent();u=w.length;var E=false;for(i=0;i<u;i++){var x=w[i];s=undefined;if(x.getContainer){s=sap.ui.getCore().byId(x.getContainer());}else{s=sap.ui.getCore().byId(x.__myParentContainerId);}if(s&&s.getVisible()){var V=v[j];if(s!=V){E=true;break;}var y=L.mContainers[s.getId()];if(y[0]&&y[0]!=x){E=true;break;}if(!y[0]&&y[1]&&y[1]!=x){E=true;break;}j++;}else{L._mainRFLayout.removeContent(x);}}if(E){L._mainRFLayout.removeAllContent();u=0;}}if(u<t){var S=0;if(u>0){S=u--;}for(i=S;i<t;i++){s=v[i];var z=s.getId();if(L.mContainers[z]){if(L.mContainers[z][0]){L._mainRFLayout.addContent(L.mContainers[z][0]);}else if(L.mContainers[z][1]){L._mainRFLayout.addContent(L.mContainers[z][1]);}}}}}}function p(O){var L=0;if(!Object.keys){q.each(O,function(){L++;});}else{L=Object.keys(O).length;}return L;}return b;},true);
sap.ui.predefine('sap/ui/layout/form/ResponsiveLayoutRenderer',['jquery.sap.global','sap/ui/core/Renderer','./FormLayoutRenderer'],function(q,R,F){"use strict";var a=R.extend(F);a.getMainClass=function(){return"sapUiFormResLayout";};a.renderContainers=function(r,l,f){var c=f.getFormContainers();var v=[];var L=0;for(var i=0;i<c.length;i++){var C=c[i];if(C.getVisible()){L++;v.push(C);}}if(L>0){if(L>1){r.renderControl(l._mainRFLayout);}else if(l.mContainers[v[0].getId()][0]){r.renderControl(l.mContainers[v[0].getId()][0]);}else{r.renderControl(l.mContainers[v[0].getId()][1]);}}};return a;},true);
sap.ui.predefine('sap/ui/layout/form/SimpleForm.designtime',[],function(){"use strict";var h=function(f){if(f.getTitle()){return true;}else{var s=f.getParent().getParent();return s.getContent().some(function(c){return c.getVisible();});}};return{name:function(e){var t=e.getMetadata().getName();if(t==="sap.ui.layout.form.SimpleForm"){return{singular:"GROUP_CONTROL_NAME",plural:"GROUP_CONTROL_NAME_PLURAL"};}else if(t==="sap.ui.layout.form.FormContainer"){return{singular:"FIELD_CONTROL_NAME",plural:"FIELD_CONTROL_NAME_PLURAL"};}},aggregations:{content:{ignore:true},form:{inHiddenTree:true,getIndex:function(s,f){var i=0;var F=s.getAggregation("form").getFormContainers();if(f){i=F.indexOf(f)+1;}else{var t=F[F.length-1].getTitle();if(t!==null){i=F.length;}}return i;},ignore:false,childNames:function(e){var t=e.getMetadata().getName();if(t==="sap.ui.layout.form.SimpleForm"){return{singular:"GROUP_CONTROL_NAME",plural:"GROUP_CONTROL_NAME_PLURAL"};}else if(t==="sap.ui.layout.form.FormContainer"){return{singular:"FIELD_CONTROL_NAME",plural:"FIELD_CONTROL_NAME_PLURAL"};}},beforeMove:function(s){if(s){s._bChangedByMe=true;}},afterMove:function(s){if(s){s._bChangedByMe=false;}},actions:{move:function(m){var t=m.getMetadata().getName();var M;if(t==="sap.ui.layout.form.FormContainer"){M={changeType:"moveSimpleFormGroup"};}else if(t==="sap.ui.layout.form.FormElement"){M={changeType:"moveSimpleFormField"};}return M;},rename:function(e){var t=e.getMetadata().getName();var i=true;var r;if(t==="sap.ui.layout.form.FormContainer"){if(e.getToolbar()||!e.getTitle()){i=false;}r={changeType:"renameTitle",isEnabled:i,domRef:function(c){if(c.getTitle&&c.getTitle()){return c.getTitle().getDomRef();}}};}else if(t==="sap.ui.layout.form.FormElement"){r={changeType:"renameLabel",isEnabled:i,domRef:function(c){return c.getLabel().getDomRef();}};}return r;},remove:function(r){var t=r.getMetadata().getName();var c;var i=true;if(t==="sap.ui.layout.form.FormContainer"){c="removeSimpleFormGroup";if(!r.getToolbar()&&!h.call(this,r)){i=false;}}else if(t==="sap.ui.layout.form.FormElement"){c="hideSimpleFormField";}else{return undefined;}return{changeType:c,isEnabled:i,getConfirmationText:function(r){var C=false;if(r.getMetadata().getName()==="sap.ui.layout.form.FormContainer"&&r.getToolbar&&r.getToolbar()){var T=r.getToolbar().getContent();if(T.length>1){C=true;}else if((T.length===1)&&(!T[0].getMetadata().isInstanceOf("sap.ui.core.Label")&&!T[0]instanceof sap.ui.core.Title&&!T[0]instanceof sap.m.Title)){C=true;}}if(C){var o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.layout");return o.getText("MSG_REMOVING_TOOLBAR");}},getState:function(s){var C=s.getContent();return{content:C.map(function(e){return{element:e,visible:e.getVisible?e.getVisible():undefined,index:C.indexOf(e)};})};},restoreState:function(s,S){s.removeAllContent();S.content.forEach(function(e){s.insertContent(e.element,e.index);if(e.element.setVisible){e.element.setVisible(e.visible);}});}};},createContainer:function(e){var t=e.getMetadata().getName();var c;if(t==="sap.ui.layout.form.FormElement"){return null;}else if(t==="sap.ui.layout.form.SimpleForm"){c={changeType:"addSimpleFormGroup",isEnabled:function(s){var f=s.getAggregation("form");var F=f.getFormContainers();for(var i=0;i<F.length;i++){if(F[i].getToolbar&&F[i].getToolbar()){return false;}}return true;},getCreatedContainerId:function(n){var T=sap.ui.getCore().byId(n);var p=T.getParent().getId();return p;}};}else if(t==="sap.ui.layout.form.FormContainer"){c={changeType:"addSimpleFormGroup",isEnabled:function(f){if(f.getToolbar&&f.getToolbar()){return false;}return true;},getCreatedContainerId:function(n){var T=sap.ui.getCore().byId(n);var p=T.getParent().getId();return p;}};}return c;},reveal:function(p){var t=p.getMetadata().getName();if(t==="sap.ui.layout.form.FormContainer"){return{changeType:"unhideSimpleFormField",getInvisibleElements:function(s){var e=[];var c=s.getContent();c.forEach(function(f){if(f instanceof sap.m.Label&&!f.getDomRef()){e.push(f.getParent());}});return e;}};}}},getStableElements:function(e){var s=[];var l;var t;if(e.getMetadata().getName()==="sap.ui.layout.form.FormElement"){l=e.getLabel();if(l){s.push(l);}s=s.concat(e.getFields());}else if(e.getMetadata().getName()==="sap.ui.layout.form.FormContainer"){t=e.getTitle()||e.getToolbar();if(t){s[0]=t;}e.getFormElements().forEach(function(f){l=f.getLabel();if(l){s.push(l);}s=s.concat(f.getFields());});}return s;}}}};},false);
sap.ui.predefine('sap/ui/layout/form/SimpleForm',['jquery.sap.global','sap/ui/core/Control','sap/ui/layout/ResponsiveFlowLayoutData','./Form','./FormContainer','./FormElement','./FormLayout','sap/ui/layout/library'],function(q,C,R,F,a,b,c,l){"use strict";var S=C.extend("sap.ui.layout.form.SimpleForm",{metadata:{library:"sap.ui.layout",properties:{maxContainerCols:{type:"int",group:"Appearance",defaultValue:2},minWidth:{type:"int",group:"Appearance",defaultValue:-1},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:null},labelMinWidth:{type:"int",group:"Misc",defaultValue:192},layout:{type:"sap.ui.layout.form.SimpleFormLayout",group:"Misc",defaultValue:sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout},labelSpanXL:{type:"int",group:"Misc",defaultValue:-1},labelSpanL:{type:"int",group:"Misc",defaultValue:4},labelSpanM:{type:"int",group:"Misc",defaultValue:2},labelSpanS:{type:"int",group:"Misc",defaultValue:12},adjustLabelSpan:{type:"boolean",group:"Misc",defaultValue:true},emptySpanXL:{type:"int",group:"Misc",defaultValue:-1},emptySpanL:{type:"int",group:"Misc",defaultValue:0},emptySpanM:{type:"int",group:"Misc",defaultValue:0},emptySpanS:{type:"int",group:"Misc",defaultValue:0},columnsXL:{type:"int",group:"Misc",defaultValue:-1},columnsL:{type:"int",group:"Misc",defaultValue:2},columnsM:{type:"int",group:"Misc",defaultValue:1},singleContainerFullSize:{type:"boolean",group:"Misc",defaultValue:true},breakpointXL:{type:"int",group:"Misc",defaultValue:1440},breakpointL:{type:"int",group:"Misc",defaultValue:1024},breakpointM:{type:"int",group:"Misc",defaultValue:600},backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:sap.ui.layout.BackgroundDesign.Translucent}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Element",multiple:true,singularName:"content"},form:{type:"sap.ui.layout.form.Form",multiple:false,visibility:"hidden"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designTime:true}});S.prototype.init=function(){this._iMaxWeight=8;this._iLabelWeight=3;this._iCurrentWidth=0;var i=new F(this.getId()+"--Form");i.getTitle=function(){return this.getParent().getTitle();};i._origInvalidate=i.invalidate;i.invalidate=function(O){this._origInvalidate(O);if(this._bIsBeingDestroyed){return;}var j=this.getParent();if(j){j._formInvalidated(O);}};i.getAriaLabelledBy=function(){var j=this.getParent();if(j){return j.getAriaLabelledBy();}else{return null;}};this.setAggregation("form",i);this._aElements=null;this._aLayouts=[];this._changedFormContainers=[];this._changedFormElements=[];};S.prototype.exit=function(){var j=this.getAggregation("form");j.invalidate=j._origInvalidate;if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}for(var i=0;i<this._aLayouts.length;i++){var L=sap.ui.getCore().byId(this._aLayouts[i]);if(L&&L.destroy){L.destroy();}}this._aLayouts=[];this._aElements=null;this._changedFormContainers=[];this._changedFormElements=[];};S.prototype.onBeforeRendering=function(){this._bChangedByMe=true;if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}var i=this;var j=this.getAggregation("form");if(!j.getLayout()){_(i);}d(i);this._bChangedByMe=false;};S.prototype.onAfterRendering=function(){if(this.getLayout()==sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout){this._bChangedByMe=true;this.$().css("visibility","hidden");this._applyLinebreaks();this._sResizeListenerId=sap.ui.core.ResizeHandler.register(this.getDomRef(),q.proxy(this._resize,this));this._bChangedByMe=false;}};S.prototype.setEditable=function(E){this._bChangedByMe=true;this.setProperty("editable",E,true);var i=this.getAggregation("form");i.setEditable(E);this._bChangedByMe=false;return this;};S.prototype.setToolbar=function(T){this._bChangedByMe=true;var i=this.getAggregation("form");i.setToolbar(T);this._bChangedByMe=false;return this;};S.prototype.getToolbar=function(){var i=this.getAggregation("form");return i.getToolbar();};S.prototype.indexOfContent=function(O){var j=this._aElements;if(j){for(var i=0;i<j.length;i++){if(j[i]==O){return i;}}}return-1;};S.prototype.addContent=function(E){E=this.validateAggregation("content",E,true);if(this.indexOfContent(E)>=0){q.sap.log.warning("SimpleForm.addContent: Content element '"+E+"' already assigned. Please remove before adding!",this);this.removeContent(E);}if(!this._aElements){this._aElements=[];}this._bChangedByMe=true;var L=this._aElements.length;var i;var j=this.getAggregation("form");var k;var A;var P;var B;if(E instanceof sap.ui.core.Title||E.getMetadata().isInstanceOf("sap.ui.core.Toolbar")){k=t(this,E);j.addFormContainer(k);this._changedFormContainers.push(k);}else if(E.getMetadata().isInstanceOf("sap.ui.core.Label")){if(L>0){i=this._aElements[L-1];P=i.getParent();if(P instanceof b){k=P.getParent();}else if(P instanceof a){k=P;}}if(!k){k=t(this);j.addFormContainer(k);this._changedFormContainers.push(k);}A=p(this,k,E);}else{if(L>0){i=this._aElements[L-1];P=i.getParent();if(P instanceof b){k=P.getParent();A=P;B=g(this,E);if(B instanceof R&&!e(this,B)){if(B.getLinebreak()){A=p(this,k);}}}else if(P instanceof a){k=P;A=p(this,k);}}else{k=t(this);j.addFormContainer(k);this._changedFormContainers.push(k);A=p(this,k);}h(this,E,5,false,true);A.addField(E);x(this._changedFormElements,A);}this._aElements.push(E);E.attachEvent("_change",y,this);this.invalidate();this._bChangedByMe=false;return this;};S.prototype.insertContent=function(E,I){E=this.validateAggregation("content",E,true);if(this.indexOfContent(E)>=0){q.sap.log.warning("SimpleForm.insertContent: Content element '"+E+"' already assigned. Please remove before insert!",this);this.removeContent(E);}if(!this._aElements){this._aElements=[];}var L=this._aElements.length;var N;if(I<0){N=0;}else if(I>L){N=L;}else{N=I;}if(N!==I){q.sap.log.warning("SimpleForm.insertContent: index '"+I+"' out of range [0,"+L+"], forced to "+N);}if(N==L){this.addContent(E);return this;}this._bChangedByMe=true;var O=this._aElements[N];var j=this.getAggregation("form");var k;var A;var B;var D;var G;var H=0;var J;var K;var M;var P;var i=0;var Q;if(E instanceof sap.ui.core.Title||E.getMetadata().isInstanceOf("sap.ui.core.Toolbar")){if(I==0&&!(O instanceof sap.ui.core.Title||O.getMetadata().isInstanceOf("sap.ui.core.Toolbar"))){k=O.getParent().getParent();if(E instanceof sap.ui.core.Title){k.setTitle(E);}else{k.setToolbar(E);}}else{k=t(this,E);if(O instanceof sap.ui.core.Title||O.getMetadata().isInstanceOf("sap.ui.core.Toolbar")){B=O.getParent();G=j.indexOfFormContainer(B);}else{D=O.getParent();B=D.getParent();G=j.indexOfFormContainer(B)+1;H=B.indexOfFormElement(D);if(!O.getMetadata().isInstanceOf("sap.ui.core.Label")){J=D.indexOfField(O);if(J>0||D.getLabel()){A=p(this,k);this._changedFormElements.push(A);x(this._changedFormElements,D);K=D.getFields();for(i=J;i<K.length;i++){Q=K[i];A.addField(Q);}H++;}}M=B.getFormElements();for(i=H;i<M.length;i++){k.addFormElement(M[i]);}}j.insertFormContainer(k,G);}this._changedFormContainers.push(k);}else if(E.getMetadata().isInstanceOf("sap.ui.core.Label")){if(O instanceof sap.ui.core.Title||O.getMetadata().isInstanceOf("sap.ui.core.Toolbar")){B=O.getParent();G=j.indexOfFormContainer(B);P=j.getFormContainers();if(G==0){k=t(this);j.insertFormContainer(k,G);this._changedFormContainers.push(k);}else{k=P[G-1];}A=p(this,k,E);}else if(O.getMetadata().isInstanceOf("sap.ui.core.Label")){B=O.getParent().getParent();H=B.indexOfFormElement(O.getParent());A=r(this,B,E,H);}else{D=O.getParent();B=D.getParent();H=B.indexOfFormElement(D)+1;J=D.indexOfField(O);if(J==0&&!D.getLabel()){A=D;A.setLabel(E);h(this,E,this._iLabelWeight,false,true,this.getLabelMinWidth());}else{A=r(this,B,E,H);x(this._changedFormElements,D);K=D.getFields();for(i=J;i<K.length;i++){Q=K[i];A.addField(Q);}}}this._changedFormElements.push(A);}else{if(O instanceof sap.ui.core.Title||O.getMetadata().isInstanceOf("sap.ui.core.Toolbar")){B=O.getParent();G=j.indexOfFormContainer(B);if(G==0){k=t(this);j.insertFormContainer(k,G);this._changedFormContainers.push(k);}else{P=j.getFormContainers();k=P[G-1];}M=k.getFormElements();if(M.length==0){A=p(this,k);}else{A=M[M.length-1];}A.addField(E);}else if(O.getMetadata().isInstanceOf("sap.ui.core.Label")){D=O.getParent();k=D.getParent();H=k.indexOfFormElement(D);if(H==0){A=r(this,k,null,0);}else{M=k.getFormElements();A=M[H-1];}A.addField(E);}else{A=O.getParent();J=A.indexOfField(O);A.insertField(E,J);}x(this._changedFormElements,A);h(this,E,5,false,true);}this._aElements.splice(N,0,E);E.attachEvent("_change",y,this);this.invalidate();this._bChangedByMe=false;return this;};S.prototype.removeContent=function(E){var j=null;var I=-1;var i=0;if(this._aElements){if(typeof(E)=="string"){E=sap.ui.getCore().byId(E);}if(typeof(E)=="object"){for(i=0;i<this._aElements.length;i++){if(this._aElements[i]==E){E=i;break;}}}if(typeof(E)=="number"){if(E<0||E>=this._aElements.length){q.sap.log.warning("Element.removeAggregation called with invalid index: Items, "+E);}else{I=E;j=this._aElements[I];}}}if(j){this._bChangedByMe=true;var k=this.getAggregation("form");var A;var B;var D;var G;if(j instanceof sap.ui.core.Title||j.getMetadata().isInstanceOf("sap.ui.core.Toolbar")){A=j.getParent();A.setTitle(null);A.setToolbar(null);if(I>0){D=A.getFormElements();var H=k.indexOfFormContainer(A);var P=k.getFormContainers()[H-1];if(D.length>0&&!D[0].getLabel()){var J=P.getFormElements();var L=J[J.length-1];G=D[0].getFields();for(i=0;i<G.length;i++){L.addField(G[i]);}x(this._changedFormElements,L);A.removeFormElement(D[0]);D[0].destroy();D.splice(0,1);}for(i=0;i<D.length;i++){P.addFormElement(D[i]);}x(this._changedFormContainers,P);k.removeFormContainer(A);A.destroy();}}else if(j.getMetadata().isInstanceOf("sap.ui.core.Label")){B=j.getParent();A=B.getParent();B.setLabel(null);var K=A.indexOfFormElement(B);if(K==0){if(B.getFields().lenght==0){A.removeFormElement(B);B.destroy();if(A.getFormElements().length==0){k.removeFormContainer(A);A.destroy();}}else{x(this._changedFormElements,B);}}else{D=A.getFormElements();var M=D[K-1];G=B.getFields();for(i=0;i<G.length;i++){M.addField(G[i]);}x(this._changedFormElements,M);A.removeFormElement(B);B.destroy();if(A.getFormElements().length==0){k.removeFormContainer(A);A.destroy();}}}else{B=j.getParent();B.removeField(j);if(B.getFields().length==0&&!B.getLabel()){A=B.getParent();A.removeFormElement(B);B.destroy();if(A.getFormElements().length==0){k.removeFormContainer(A);A.destroy();}}else{x(this._changedFormElements,B);}}this._aElements.splice(I,1);j.setParent(null);j.detachEvent("_change",y,this);o(this,j);this.invalidate();this._bChangedByMe=false;return j;}return null;};S.prototype.removeAllContent=function(){var i=0;if(this._aElements){this._bChangedByMe=true;var k=this.getAggregation("form");var A=k.getFormContainers();for(i=0;i<A.length;i++){var B=A[i];B.setTitle(null);B.setToolbar(null);var D=B.getFormElements();for(var j=0;j<D.length;j++){var E=D[j];E.setLabel(null);E.removeAllFields();}B.destroyFormElements();}k.destroyFormContainers();for(i=0;i<this._aElements.length;i++){var G=this._aElements[i];o(this,G);G.detachEvent("_change",y,this);}var H=this._aElements;this._aElements=null;this.invalidate();this._bChangedByMe=false;return H;}else{return[];}};S.prototype.destroyContent=function(){var E=this.removeAllContent();if(E){this._bChangedByMe=true;for(var i=0;i<E.length;i++){E[i].destroy();}this.invalidate();this._bChangedByMe=false;}return this;};S.prototype.getContent=function(){if(!this._aElements){this._aElements=this.getAggregation("content",[]);}return this._aElements.slice();};S.prototype.setLayout=function(L){this._bChangedByMe=true;var O=this.getLayout();this.setProperty("layout",L);if(L!=O){var A=this;_(A);var B=this.getAggregation("form");var D=B.getFormContainers();var E;var G;var H;for(var i=0;i<D.length;i++){var I=D[i];this._changedFormContainers.push(I);H=I.getLayoutData();if(H){H.destroy();}n(this,I);E=I.getFormElements();for(var j=0;j<E.length;j++){var J=E[j];x(this._changedFormElements,J);H=J.getLayoutData();if(H){H.destroy();}m(this,J);var K=J.getLabel();if(K){o(this,K);h(this,K,this._iLabelWeight,false,true,this.getLabelMinWidth());}G=J.getFields();for(var k=0;k<G.length;k++){var M=G[k];o(this,M);h(this,M,5,false,true);}}}}this._bChangedByMe=false;return this;};S.prototype.clone=function(I){this._bChangedByMe=true;var k=C.prototype.clone.apply(this,arguments);var A=this.getContent();for(var i=0;i<A.length;i++){var E=A[i];var L=E.getLayoutData();var B=E.clone(I);if(L){if(L.getMetadata().getName()=="sap.ui.core.VariantLayoutData"){var D=L.getMultipleLayoutData();for(var j=0;j<D.length;j++){if(e(this,D[j])){k._aLayouts.push(B.getLayoutData().getMultipleLayoutData()[j].getId());}}}else if(e(this,L)){k._aLayouts.push(B.getLayoutData().getId());}}k.addContent(B);}this._bChangedByMe=false;return k;};function _(T){var i=T.getAggregation("form");var L=i.getLayout();if(L){L.destroy();}switch(T.getLayout()){case sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout:q.sap.require("sap.ui.layout.form.ResponsiveLayout");i.setLayout(new sap.ui.layout.form.ResponsiveLayout(T.getId()+"--Layout"));break;case sap.ui.layout.form.SimpleFormLayout.GridLayout:q.sap.require("sap.ui.layout.form.GridLayout");q.sap.require("sap.ui.layout.form.GridContainerData");q.sap.require("sap.ui.layout.form.GridElementData");i.setLayout(new sap.ui.layout.form.GridLayout(T.getId()+"--Layout"));break;case sap.ui.layout.form.SimpleFormLayout.ResponsiveGridLayout:q.sap.require("sap.ui.layout.form.ResponsiveGridLayout");q.sap.require("sap.ui.layout.GridData");i.setLayout(new sap.ui.layout.form.ResponsiveGridLayout(T.getId()+"--Layout"));break;default:break;}}function d(T){T._changedFormContainers=[];var L=T.getLayout();var j=T.getAggregation("form").getLayout();j.setBackgroundDesign(T.getBackgroundDesign());switch(L){case sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout:T._applyLinebreaks();break;case sap.ui.layout.form.SimpleFormLayout.GridLayout:w(T);break;case sap.ui.layout.form.SimpleFormLayout.ResponsiveGridLayout:j.setLabelSpanXL(T.getLabelSpanXL());j.setLabelSpanL(T.getLabelSpanL());j.setLabelSpanM(T.getLabelSpanM());j.setLabelSpanS(T.getLabelSpanS());j.setAdjustLabelSpan(T.getAdjustLabelSpan());j.setEmptySpanXL(T.getEmptySpanXL());j.setEmptySpanL(T.getEmptySpanL());j.setEmptySpanM(T.getEmptySpanM());j.setEmptySpanS(T.getEmptySpanS());j.setColumnsXL(T.getColumnsXL());j.setColumnsL(T.getColumnsL());j.setColumnsM(T.getColumnsM());j.setSingleContainerFullSize(T.getSingleContainerFullSize());j.setBreakpointXL(T.getBreakpointXL());j.setBreakpointL(T.getBreakpointL());j.setBreakpointM(T.getBreakpointM());break;default:break;}for(var i=0;i<T._changedFormElements.length;i++){var k=T._changedFormElements[i];switch(L){case sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout:u(T,k);break;case sap.ui.layout.form.SimpleFormLayout.GridLayout:break;default:break;}v(T,k);}T._changedFormElements=[];}function e(T,L){var i=L.getId(),j=" "+T._aLayouts.join(" ")+" ";return j.indexOf(" "+i+" ")>-1;}function f(T,W,L,i,M){var j=new R({weight:W,linebreak:L===true,linebreakable:i===true});if(M){j.setMinWidth(M);}T._aLayouts.push(j.getId());return j;}function g(T,i){var L;switch(T.getLayout()){case sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout:L=c.prototype.getLayoutDataForElement(i,"sap.ui.layout.ResponsiveFlowLayoutData");break;case sap.ui.layout.form.SimpleFormLayout.GridLayout:L=c.prototype.getLayoutDataForElement(i,"sap.ui.layout.form.GridElementData");break;case sap.ui.layout.form.SimpleFormLayout.ResponsiveGridLayout:L=c.prototype.getLayoutDataForElement(i,"sap.ui.layout.GridData");break;default:break;}return L;}function h(T,i,W,L,j,M){var k;switch(T.getLayout()){case sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout:k=g(T,i);if(!k||!e(T,k)){k=i.getLayoutData();if(k&&k.getMetadata().getName()=="sap.ui.core.VariantLayoutData"){k.addMultipleLayoutData(f(T,W,L,j,M));}else if(!k){i.setLayoutData(f(T,W,L,j,M));}else{q.sap.log.warning("ResponsiveFlowLayoutData can not be set on Field "+i.getId(),"_createFieldLayoutData","SimpleForm");}}break;case sap.ui.layout.form.SimpleFormLayout.GridLayout:break;default:break;}}function m(T,E){switch(T.getLayout()){case sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout:E.setLayoutData(new R({linebreak:true,margin:false}));break;case sap.ui.layout.form.SimpleFormLayout.GridLayout:break;default:break;}}function n(T,i){switch(T.getLayout()){case sap.ui.layout.form.SimpleFormLayout.ResponsiveLayout:i.setLayoutData(new R({minWidth:280}));break;case sap.ui.layout.form.SimpleFormLayout.GridLayout:if(T.getMaxContainerCols()>1){i.setLayoutData(new sap.ui.layout.form.GridContainerData({halfGrid:true}));}else{i.setLayoutData(new sap.ui.layout.form.GridContainerData({halfGrid:false}));}break;default:break;}}function o(T,E){var L=g(T,E);if(L){var j=L.getId();for(var i=0;i<T._aLayouts.length;i++){var I=T._aLayouts[i];if(j==I){L.destroy();T._aLayouts.splice(i,1);break;}}}}function p(T,i,L){var E=s(T,L);i.addFormElement(E);return E;}function r(T,i,L,I){var E=s(T,L);i.insertFormElement(E,I);return E;}function s(T,L){var E=new b();m(T,E);if(L){L.addStyleClass("sapUiFormLabel-CTX");E.setLabel(L);if(!g(T,L)){h(T,L,T._iLabelWeight,false,true,T.getLabelMinWidth());}}E.setVisible(false);return E;}function t(T,i){var j=new a();n(T,j);if(i){if(i instanceof sap.ui.core.Title){j.setTitle(i);}else if(i.getMetadata().isInstanceOf("sap.ui.core.Toolbar")){j.setToolbar(i);}}return j;}function u(T,E){var M=T._iMaxWeight;var j=E.getFields();var k;var L=j.length;var A=E.getLabel();var B;var i=0;if(A&&g(T,A)){M=M-g(T,A).getWeight();}for(i=0;i<j.length;i++){k=j[i];B=g(T,k);if(B instanceof R&&!e(T,B)){M=M-B.getWeight();L--;}}var W=Math.floor(M/L);var D=M%L;for(i=0;i<j.length;i++){k=j[i];B=g(T,k);var G=W;if(!B){h(T,k,G,false,i==0);}else if(e(T,B)&&B instanceof R){if(D>0){G++;D--;}B.setWeight(G);}}}function v(T,E){var j=E.getFields();var V=false;for(var i=0;i<j.length;i++){var k=j[i];if(!k.getVisible||k.getVisible()){V=true;break;}}if(E.getVisible()!=V){E.setVisible(V);}}S.prototype._applyLinebreaks=function(){var j=this.getAggregation("form"),k=j.getFormContainers();var D=this.getDomRef();var A=this.$();for(var i=1;i<k.length;i++){var B=k[i],L=B.getLayoutData();if(!D||A.outerWidth(true)>this.getMinWidth()){if(i%this.getMaxContainerCols()==0){L.setLinebreak(true);}else{L.setLinebreak(false);}}else{L.setLinebreak(true);}}if(D&&A.css("visibility")=="hidden"){var E=this;setTimeout(function(){if(E.getDomRef()){E.$().css("visibility","");}},10);}};function w(T){var j=T.getAggregation("form");var k=j.getFormContainers();var L=k.length;for(var i=0;i<L;i++){var A=k[i];if((i==L-1)&&(L%2>0)){A.getLayoutData().setHalfGrid(false);}else if(!A.getLayoutData().getHalfGrid()){A.getLayoutData().setHalfGrid(true);}}}S.prototype._resize=function(){this._bChangedByMe=true;if(this._iCurrentWidth==this.$().outerWidth()){return;}this._iCurrentWidth=this.$().outerWidth();this._applyLinebreaks();this._bChangedByMe=false;};function x(j,k){var A=false;for(var i=0;i<j.length;i++){var B=j[i];if(B==k){A=true;break;}}if(!A){j.push(k);}}function y(E){if(E.getParameter("name")=="visible"){var i=E.oSource.getParent();v(this,i);}}function z(A){var E=[];var B=A.getFormContainers();for(var i=0;i<B.length;i++){var D=B[i];var T=D.getTitle();if(T){E.push(T);}else{var G=D.getToolbar();if(G){E.push(G);}}var H=D.getFormElements();for(var j=0;j<H.length;j++){var I=H[j];var L=I.getLabel();if(L){E.push(L);}var J=I.getFields();for(var k=0;k<J.length;k++){var K=J[k];E.push(K);}}}return E;}S.prototype._formInvalidated=function(O){if(!this._bChangedByMe){var k=z(this.getAggregation("form"));var i=0;var j=0;var A=false;if(!this._aElements||k.length<this._aElements.length){A=true;}else{for(i=0;i<k.length;i++){var E=k[i];var B=this._aElements[j];if(E===B){j++;}else{var D=k[i+1];if(D===B){this.insertContent(E,i);break;}D=this._aElements[j+1];if(D===E){A=true;break;}break;}}}if(A){this.removeAllContent();for(i=0;i<k.length;i++){var G=k[i];this.addContent(G);}}}};return S;},true);
sap.ui.predefine('sap/ui/layout/form/SimpleFormRenderer',['jquery.sap.global'],function(q){"use strict";var S={};S.render=function(r,c){c._bChangedByMe=true;r.write("<div");r.writeControlData(c);r.addClass("sapUiSimpleForm");if(c.getWidth()){r.addStyle("width",c.getWidth());}r.writeStyles();r.writeClasses();r.write(">");var f=c.getAggregation("form");r.renderControl(f);r.write("</div>");c._bChangedByMe=false;};return S;},true);
sap.ui.predefine('sap/ui/model/ClientTreeBindingAdapter',['jquery.sap.global','sap/ui/model/TreeBinding','sap/ui/model/ClientTreeBinding','./TreeBindingAdapter','sap/ui/model/ChangeReason'],function(q,T,C,a,b){"use strict";var c=function(){if(!(this instanceof T)||this._bIsAdapted){return;}a.apply(this);for(var f in c.prototype){if(c.prototype.hasOwnProperty(f)){this[f]=c.prototype[f];}}this._invalidTree=true;this.setNumberOfExpandedLevels(this.mParameters.numberOfExpandedLevels||0);};c.prototype.setNumberOfExpandedLevels=function(n){this._iNumberOfExpandedLevels=parseInt(n,10);};c.prototype.getNumberOfExpandedLevels=function(){return this._iNumberOfExpandedLevels;};c.prototype.nodeHasChildren=function(n){if(!n){return false;}else if(n.isArtificial){return true;}else{return C.prototype.hasChildren.call(this,n.context);}};c.prototype.resetData=function(o,p){var r=C.prototype.resetData.call(this,o,p);this._aRowIndexMap=[];this._oRootNode=undefined;this._iPageSize=0;this._iThreshold=0;if(!p||p.reason!==b.Sort){this.clearSelection();this._createTreeState(true);}return r;};c.prototype._calculateGroupID=function(n){var B=this.getPath();var g;if(n.context){var s=n.context.getPath();if(B!="/"){var m=s.match(B+"(.*)");if(m!=null&&m[1]){g=m[1];}else{q.sap.log.warning("CTBA: BindingPath/ContextPath matching problem!");}}if(!g){g=s;}if(q.sap.startsWith(g,"/")){g=g.substring(1,g.length);}g=n.parent.groupID+g.replace(/\//g,"_")+"/";}else if(n.context===null){g="/";}return g;};c.prototype.expand=function(){this._buildTree();a.prototype.expand.apply(this,arguments);};c.prototype.collapse=function(){this._buildTree();a.prototype.collapse.apply(this,arguments);};c.prototype._buildTree=function(s,l){if(this._invalidTree){s=s||0;l=l||this.getRootContexts().length;this._invalidTree=false;this._aRowIndexMap=[];a.prototype._buildTree.call(this,s,l);}};c.prototype.findNode=function(){this._buildTree();return a.prototype.findNode.apply(this,arguments);};c.prototype.setSelectedIndex=function(){this._buildTree();return a.prototype.setSelectedIndex.apply(this,arguments);};c.prototype.setSelectionInterval=function(){this._buildTree();return a.prototype.setSelectionInterval.apply(this,arguments);};c.prototype.addSelectionInterval=function(){this._buildTree();a.prototype.addSelectionInterval.apply(this,arguments);};c.prototype.removeSelectionInterval=function(){this._buildTree();a.prototype.removeSelectionInterval.apply(this,arguments);};c.prototype.clearSelection=function(){this._buildTree();a.prototype.clearSelection.apply(this,arguments);};c.prototype.selectAll=function(){this._buildTree();a.prototype.selectAll.apply(this,arguments);};c.prototype._calculateRequestLength=function(m,s){return m;};c.prototype.getLength=function(){this._buildTree();return a.prototype.getLength.apply(this,arguments);};c.prototype._fireChange=function(){this._invalidTree=true;this.constructor.prototype._fireChange.apply(this,arguments);};return c;},true);
sap.ui.predefine('sap/ui/model/SelectionModel',['jquery.sap.global','sap/ui/base/EventProvider'],function(q,E){"use strict";var S=E.extend("sap.ui.model.SelectionModel",{constructor:function(s){E.apply(this);this.iSelectionMode=s||S.SINGLE_SELECTION;this.aSelectedIndices=[];this.iLeadIndex=-1;this.fnSort=function(a,b){return a-b;};this.fnSortReverse=function(a,b){return b-a;};}});S.SINGLE_SELECTION=0;S.MULTI_SELECTION=1;S.prototype.getSelectionMode=function(){return this.iSelectionMode;};S.prototype.setSelectionMode=function(s){this.iSelectionMode=s||S.SINGLE_SELECTION;};S.prototype.isSelectedIndex=function(i){return q.inArray(i,this.aSelectedIndices)!==-1;};S.prototype.getLeadSelectedIndex=function(){return this.iLeadIndex;};S.prototype.setLeadSelectedIndex=function(l){this.setSelectionInterval(l,l);return this;};S.prototype.getMinSelectionIndex=function(){if(this.aSelectedIndices.length>0){var i=this.aSelectedIndices.sort(this.fnSort);return i[0];}else{return-1;}};S.prototype.getMaxSelectionIndex=function(){if(this.aSelectedIndices.length>0){var i=this.aSelectedIndices.sort(this.fnSortReverse);return i[0];}else{return-1;}};S.prototype.getSelectedIndices=function(){var i=this.aSelectedIndices.sort(this.fnSort);return i;};S.prototype.setSelectionInterval=function(f,t){if(this.iSelectionMode===S.SINGLE_SELECTION){f=t;}var F=Math.min(f,t);var T=Math.max(f,t);var o=this.aSelectedIndices.slice();var l={};var c=[];for(var i=0;i<o.length;i++){l[o[i]]=true;if(o[i]<f||o[i]>t){c.push(o[i]);}}var s=[];for(var I=F;I<=T;I++){s.push(I);if(!l[I]){c.push(I);}}this._update(s,t,c);return this;};S.prototype.addSelectionInterval=function(f,t){if(this.iSelectionMode===S.SINGLE_SELECTION){return this.setSelectionInterval(f,t);}var F=Math.min(f,t);var T=Math.max(f,t);var c=[];var s=this.aSelectedIndices;for(var i=F;i<=T;i++){if(q.inArray(i,s)===-1){s.push(i);c.push(i);}}this._update(s,T,c);return this;};S.prototype.moveSelectionInterval=function(s,m){var c=[];var a=this.aSelectedIndices;var l=this.iLeadIndex;for(var i=0;i<a.length;i++){var I=a[i];if(I>=s){c.push(a[i]);a[i]+=m;c.push(a[i]);if(I===this.iLeadIndex){l+=m;}}}this._update(a,l,c);return this;};S.prototype.removeSelectionInterval=function(f,t){if(this.iSelectionMode===S.SINGLE_SELECTION){f=t;}var F=Math.min(f,t);var T=Math.max(f,t);var c=[];var s=this.aSelectedIndices;var l=this.iLeadIndex;for(var i=F;i<=T;i++){var I=q.inArray(i,s);if(I>-1){s.splice(I,1);c.push(i);}if(i===this.iLeadIndex){l=-1;}}this._update(s,l,c);return this;};S.prototype.sliceSelectionInterval=function(f,t){var F=Math.min(f,t);var T=Math.max(f,t);var c=[];var r=[];var o=this.aSelectedIndices.slice(0);var s=this.aSelectedIndices;var l=this.iLeadIndex;var R=T-F+1;for(var I=T;I>=F;I--){var a=q.inArray(I,s);if(a>-1){s.splice(a,1);r.push(I);}if(I===this.iLeadIndex){l=-1;}}for(var I=0;I<s.length;I++){var O=s[I];if(O>=F){var n=s[I]-R;if(O===l){l=n;}s[I]=n;if(q.inArray(n,o)===-1){c.push(n);}}}for(var i=0;i<r.length;i++){var I=o[o.length-1-i];if(q.inArray(I,c)===-1){c.push(I);}}for(var i=0;i<r.length;i++){if(q.inArray(r[i],s)===-1&&q.inArray(r[i],c)===-1){c.push(r[i]);}}this._update(s,l,c);return this;};S.prototype.clearSelection=function(){if(this.aSelectedIndices.length>0||this.iLeadIndex!==-1){this._update([],-1,this.aSelectedIndices.slice());}return this;};S.prototype.attachSelectionChanged=function(d,f,l){this.attachEvent("selectionChanged",d,f,l);return this;};S.prototype.detachSelectionChanged=function(f,l){this.detachEvent("selectionChanged",f,l);return this;};S.prototype.fireSelectionChanged=function(a){this.fireEvent("selectionChanged",a);return this;};S.prototype._update=function(s,l,c,b){var p={rowIndices:c&&c.sort(this.fnSort),selectAll:b};this.aSelectedIndices=s;p.oldIndex=this.iLeadIndex;if(this.iLeadIndex!==l){this.iLeadIndex=l;p.leadIndex=this.iLeadIndex;}if(c.length>0||typeof p.leadIndex!=="undefined"){this.fireSelectionChanged(p);}};S.prototype.selectAll=function(t){var o=this.aSelectedIndices.slice();var l={};var c=[];var s=[];var i=0;for(i=0;i<o.length;i++){l[o[i]]=true;if(o[i]>t){c.push(o[i]);}}for(i=0;i<=t;i++){s.push(i);if(!l[i]){c.push(i);}}this._update(s,0,c,true);return this;};return S;});
sap.ui.predefine('sap/ui/model/TreeAutoExpandMode',['jquery.sap.global'],function(q){"use strict";var T={Sequential:"Sequential",Bundled:"Bundled"};return T;},true);
sap.ui.predefine('sap/ui/model/TreeBindingAdapter',['jquery.sap.global','sap/ui/model/TreeBinding','sap/ui/model/ClientTreeBinding','sap/ui/model/TreeAutoExpandMode','sap/ui/model/ChangeReason','sap/ui/model/TreeBindingUtils','sap/ui/model/odata/OperationMode'],function(q,T,C,c,d,e,O){"use strict";var f=function(){if(!(this instanceof T)||this._bIsAdapted){return;}for(var a in f.prototype){if(f.prototype.hasOwnProperty(a)){this[a]=f.prototype[a];}}this.mParameters=this.mParameters||{};this._aRowIndexMap=[];this._iThreshold=0;this._iPageSize=0;this.setAutoExpandMode(this.mParameters.autoExpandMode||c.Sequential);if(this.mParameters.collapseRecursive===undefined){this.bCollapseRecursive=true;}else{this.bCollapseRecursive=!!this.mParameters.collapseRecursive;}this._createTreeState();this._bIsAdapted=true;};f.prototype.getCurrentTreeState=function(){var D=";";var E={};for(var g in this._mTreeState.expanded){E[g]=true;}var m={};for(var g in this._mTreeState.collapsed){m[g]=true;}var s={};for(var g in this._mTreeState.selected){s[g]=true;}return{_getExpandedList:function(){return Object.keys(E).join(D);},_getCollapsedList:function(){return Object.keys(m).join(D);},_getSelectedList:function(){return Object.keys(s).join(D);},_isExpanded:function(g){return!!E[g];},_isCollapsed:function(g){return!!m[g];},_remove:function(g){delete E[g];delete m[g];delete s[g];}};};f.prototype.setTreeState=function(t){this._oInitialTreeState=t;};f.prototype.setAutoExpandMode=function(a){this._autoExpandMode=a;};f.prototype.getLength=function(){if(!this._oRootNode){return 0;}return this._oRootNode.magnitude;};f.prototype.getContextByIndex=function(i){if(this.isInitial()){return;}var n=this.findNode(i);return n?n.context:undefined;};f.prototype.getNodeByIndex=function(i){if(this.isInitial()){return;}if(i>=this.getLength()){return undefined;}return this.findNode(i);};f.prototype.findNode=function(p){if(this.isInitial()){return;}var P=typeof p;var F;var s=[];if(P==="number"){F=this._aRowIndexMap[p];if(!F){var i=-1;this._match(this._oRootNode,s,1,function(n){if(i===p){return true;}i+=1;});F=s[0];}}return F;};f.prototype._createTreeState=function(r){if(!this._mTreeState||r){this._mTreeState={expanded:{},collapsed:{},selected:{},deselected:{}};}};f.prototype._updateTreeState=function(p){p=p||{};var t=p.expanded?this._mTreeState.expanded:this._mTreeState.collapsed;var s=p.expanded?this._mTreeState.collapsed:this._mTreeState.expanded;var n=this._getNodeState(p.groupID);if(!n){n=p.fallbackNodeState||this._createNodeState({groupID:p.groupID,expanded:p.expanded,sum:p.sum});}delete s[p.groupID];t[p.groupID]=n;n.expanded=p.expanded;return n;};f.prototype._createNodeState=function(p){if(!p.groupID){return;}var i;var I;if(this._oInitialTreeState){i=this._oInitialTreeState._isExpanded(p.groupID);I=this._oInitialTreeState._isCollapsed(p.groupID);this._oInitialTreeState._remove(p.groupID);}var b=p.expanded||i||false;var a=p.selected||false;var n={groupID:p.groupID,expanded:b,sections:p.sections||[{startIndex:0,length:this._iPageSize}],sum:p.sum||false,selected:a};if(i||I){this._updateTreeState({groupID:p.groupID,fallbackNodeState:n,expanded:i,collapsed:I});}return n;};f.prototype._getNodeState=function(g){var E=this._mTreeState.expanded[g];var o=this._mTreeState.collapsed[g];var s=this._mTreeState.selected[g];var D=this._mTreeState.deselected[g];return E||o||s||D;};f.prototype._updateNodeSections=function(g,n){var N=this._getNodeState(g);if(!N){return;}else if(!n){return;}else if(n.length<=0){return;}else if(n.startIndex<0){return;}N.sections=e.mergeSections(N.sections,n);return N.sections;};f.prototype._increaseSections=function(){var I=function(n){if(!n){return;}var m=this._getMaxGroupSize(n);var N=n.nodeState;if(m===undefined){var a=[];for(var i=0;i<N.sections.length;i++){var o=N.sections[i];o.length=Math.max(o.length,this._iPageSize);a=e.mergeSections(a,o);}N.sections=a;}};this._map(this._oRootNode,I);};f.prototype._getMaxGroupSize=function(n){var m=0;if(n.isArtificial){var i=this.oModel.isList(this.sPath,this.getContext());if(this.bDisplayRootNode&&!i&&!this._bRootMissing){m=1;}else{m=this._getGroupSize(n)||0;}}else{m=this.nodeHasChildren(n)?this._getGroupSize(n):0;}return m;};f.prototype.getContexts=function(s,l,t,r){if(this.isInitial()){return[];}if(!l){l=this.oModel.iSizeLimit;}if(!t){t=0;}if(l>this._iPageSize){this._iPageSize=l;this._increaseSections();}this._iThreshold=Math.max(this._iThreshold,t);this._aRowIndexMap=[];this._buildTree(s,l);var n=[];if(this._oRootNode){n=this._retrieveNodeSection(this._oRootNode,s,l);}this._updateRowIndexMap(n,s);var a=[];var m;for(var i=0;i<n.length;i++){var N=n[i];if(!N.context){m=m||{};var p=N.parent;m[p.groupID]=p;this._updateNodeSections(p.groupID,{startIndex:N.positionInParent,length:1});}a.push(N.context);}if(m){var b=this;q.each(m,function(g,N){N.magnitude=0;N.numberOfTotals=0;b._loadChildContexts(N);});a=[];for(var j=0;j<n.length;j++){var N=n[j];a.push(N.context);}}if(r){return n;}else{return a;}};f.prototype.getNodes=function(s,l,t){return this.getContexts(s,l,t,true);};f.prototype._updateRowIndexMap=function(n,s){this._aRowIndexMap=[];for(var i=0;i<n.length;i++){this._aRowIndexMap[s+i]=n[i];}};f.prototype._retrieveNodeSection=function(n,s,l){var N=-1;var a=[];this._match(this._oRootNode,[],l,function(n,p,P){if(!n||!n.isArtificial){N++;}if(N>=s&&N<s+l){if(!n){n=this._createNode({parent:P,positionInParent:p});P.children[p]=n;}a.push(n);return true;}});return a;};f.prototype._buildTree=function(s,l){this._oRootNode=undefined;var r=null;var R=this._calculateGroupID({context:r,parent:null});var o=this._getNodeState(R);if(!o){var o=this._createNodeState({groupID:R,sum:true,sections:[{startIndex:s,length:l}]});this._updateTreeState({groupID:o.groupID,fallbackNodeState:o,expanded:true});}this._oRootNode=this._createNode({context:r,parent:null,level:this.bDisplayRootNode&&!(r===null)?0:-1,nodeState:o,isLeaf:false,autoExpand:this.getNumberOfExpandedLevels()+1});this._oRootNode.isArtificial=true;if(this._mTreeState.expanded[this._oRootNode.groupID]){this._loadChildContexts(this._oRootNode);}};f.prototype._calculateRequestLength=function(m,s){var r;if(!m){r=s.length;}else{r=Math.max(Math.min(s.length,m-s.startIndex),0);}return r;};f.prototype._loadChildContexts=function(n){var N=n.nodeState;var m=this._getMaxGroupSize(n);if(m>0){if(!n.children[m-1]){n.children[m-1]=undefined;}N.leafCount=m;}if(this.bClientOperation){N.sections=[{startIndex:0,length:m}];}for(var i=0;i<N.sections.length;i++){var o=N.sections[i];var r=this._calculateRequestLength(m,o);if(n.autoExpand>=0&&this._autoExpandMode===c.Bundled){r=Math.max(0,m);}var a;if(n.isArtificial){a=this.getRootContexts(o.startIndex,r,this._iThreshold);}else{a=this.nodeHasChildren(n)?this.getNodeContexts(n.context,o.startIndex,r,this._iThreshold):[];}for(var j=0;j<a.length;j++){var b=a[j];if(!b){continue;}var g=j+o.startIndex;var h=n.children[g];var u={context:a[j],parent:n,level:n.level+1,positionInParent:g,autoExpand:Math.max(n.autoExpand-1,-1)};if(h){h.context=u.context;h.parent=u.parent;h.level=u.level;h.positionInParent=u.positionInParent;h.magnitude=0;h.numberOfTotals=0;h.autoExpand=u.autoExpand;var G;if(b){G=this._calculateGroupID(h);}h.groupID=G;}else{h=this._createNode(u);}h.nodeState=this._getNodeState(h.groupID);if(!h.nodeState){h.nodeState=this._createNodeState({groupID:h.groupID,expanded:false});}h.nodeState.parentGroupID=n.groupID;h.isLeaf=!this.nodeHasChildren(h);n.children[g]=h;if(h.isLeaf){n.numberOfLeafs+=1;}if(h.parent.nodeState.selectAllMode&&!this._mTreeState.deselected[h.groupID]){this.setNodeSelection(h.nodeState,true);}if((h.autoExpand>0||h.nodeState.expanded)&&this.isGrouped()){if(!this._mTreeState.collapsed[h.groupID]&&!h.isLeaf){if(h.autoExpand>0&&h.parent.nodeState.selectAllMode&&!this._mTreeState.deselected[h.groupID]){if(h.nodeState.selectAllMode===undefined){h.nodeState.selectAllMode=true;}}this._updateTreeState({groupID:h.nodeState.groupID,fallbackNodeState:h.nodeState,expanded:true});this._loadChildContexts(h);}n.magnitude+=Math.max(h.magnitude||0,0);n.numberOfLeafs+=h.numberOfLeafs;}}}n.magnitude+=Math.max(m||0,0);};f.prototype.isGrouped=function(){return true;};f.prototype._calculateGroupID=function(n){q.sap.log.error("TreeBindingAdapter#_calculateGroupID: Not implemented. Needs to be implemented in respective sub-classes.");};f.prototype._createNode=function(p){p=p||{};var o=p.context;var l=p.level||0;var n={context:o,level:l,children:p.children||[],parent:p.parent,nodeState:p.nodeState,isLeaf:p.isLeaf||false,positionInParent:p.positionInParent,magnitude:p.magnitude||0,numberOfTotals:p.numberOfTotals||0,numberOfLeafs:p.numberOfLeafs||0,autoExpand:p.autoExpand||0,absoluteNodeIndex:p.absoluteNodeIndex||0,totalNumberOfLeafs:0};if(o!==undefined){n.groupID=this._calculateGroupID(n);}return n;};f.prototype.expand=function(i){var n=this.findNode(i);if(!n){return;}this._updateTreeState({groupID:n.nodeState.groupID,fallbackNodeState:n.nodeState,expanded:true});this._fireChange({reason:d.Expand});};f.prototype.expandToLevel=function(l){this._mTreeState.collapsed={};this.setNumberOfExpandedLevels(l);this._fireChange({reason:d.Expand});};f.prototype.isExpanded=function(i){var n=this.findNode(i);return n&&n.nodeState?n.nodeState.expanded:false;};f.prototype.collapse=function(p,s){var n;var t=this;if(typeof p==="object"){n=p;}else if(typeof p==="number"){var N=this.findNode(p);if(!N){return;}n=N.nodeState;}this._updateTreeState({groupID:n.groupID,fallbackNodeState:n,expanded:false});n.selectAllMode=false;if(this.bCollapseRecursive){var g=n.groupID;q.each(this._mTreeState.expanded,function(G,o){if(q.sap.startsWith(G,g)){t._updateTreeState({groupID:G,expanded:false});}});}q.each(this._mTreeState.selected,function(G,o){if(q.sap.startsWith(G,g)&&G!==g){o.selectAllMode=false;t.setNodeSelection(o,false);}});if(!s){this._fireChange({reason:d.Collapse});}};f.prototype.collapseToLevel=function(l){if(!l||l<0){l=0;}var t=this;q.each(this._mTreeState.expanded,function(g,n){var N=t._getGroupIdLevel(g)-1;if(N===l){t.collapse(n,true);}});this._fireChange({reason:d.Collapse});};f.prototype._map=function(n,m){m.call(this,n);if(!n){return;}for(var i=0;i<n.children.length;i++){var o=n.children[i];this._map(o,m);}if(this._afterMapHook){this._afterMapHook(n,m);}};f.prototype._match=function(n,r,m,M,p,P){if(r.length===m){return true;}var N=M.call(this,n,p,P);if(N){r.push(n);}if(!n){return false;}for(var i=0;i<n.children.length;i++){var o=n.children[i];var b=this._match(o,r,m,M,i,n);if(b){return true;}}return this._afterMatchHook?this._afterMatchHook(n,r,m,M,p,P):false;};f.prototype.toggleIndex=function(i){var n=this.findNode(i);if(!n){return;}if(n.nodeState.expanded){this.collapse(i);}else{this.expand(i);}};f.prototype._getGroupIdLevel=function(g){if(g==null){q.sap.log.warning("assertion failed: no need to determine level of group ID = null");return-1;}return g.split("/").length-2;};f.prototype._getGroupSize=function(n){return this.getChildCount(n.context);};f.prototype.setNodeSelection=function(n,i){if(!n.groupID){return;}n.selected=i;if(i){this._mTreeState.selected[n.groupID]=n;delete this._mTreeState.deselected[n.groupID];}else{delete this._mTreeState.selected[n.groupID];this._mTreeState.deselected[n.groupID]=n;}};f.prototype.isIndexSelected=function(r){var n=this.getNodeByIndex(r);return n&&n.nodeState?n.nodeState.selected:false;};f.prototype.isIndexSelectable=function(r){var n=this.getNodeByIndex(r);return this._isNodeSelectable(n);};f.prototype._isNodeSelectable=function(n){return!!n&&!n.isArtificial;};f.prototype.setSelectedIndex=function(r){var n=this.findNode(r);if(n&&this._isNodeSelectable(n)){var o=this._clearSelection();var i=o.rowIndices.indexOf(r);if(i>=0){o.rowIndices.splice(i,1);}else{o.rowIndices.push(r);}o.leadGroupID=n.groupID;o.leadIndex=r;this.setNodeSelection(n.nodeState,true);this._publishSelectionChanges(o);}else{q.sap.log.warning("TreeBindingAdapter: The selection was ignored. Please make sure to only select rows, for which data has been fetched to the client. For AnalyticalTables, some rows might not be selectable at all.");}};f.prototype.getSelectedIndex=function(){if(!this._sLeadSelectionGroupID||q.isEmptyObject(this._mTreeState.selected)){return-1;}var n=-1;var m=function(N){if(!N||!N.isArtificial){n++;}if(N){if(N.groupID===this._sLeadSelectionGroupID){return true;}}};this._match(this._oRootNode,[],1,m);return n;};f.prototype.getSelectedIndices=function(){var r=[];var t=this;if(q.isEmptyObject(this._mTreeState.selected)){return r;}var n=Object.keys(this._mTreeState.selected).length;var N=-1;var m=function(o){if(!o||!o.isArtificial){N++;}if(o){if(o.nodeState&&o.nodeState.selected&&!o.isArtificial){r.push(N);t._aRowIndexMap[N]=o;return true;}}};this._match(this._oRootNode,[],n,m);return r;};f.prototype.getSelectedNodesCount=function(){var s;if(this._oRootNode&&this._oRootNode.nodeState.selectAllMode){var g,v,p,G;v=0;for(g in this._mTreeState.expanded){G=this._mTreeState.expanded[g];if(!G.selectAllMode&&G.leafCount!==undefined){v+=G.leafCount;}}for(g in this._mTreeState.selected){G=this._mTreeState.selected[g];p=this._mTreeState.expanded[G.parentGroupID];if(p&&!p.selectAllMode){v--;}}for(g in this._mTreeState.deselected){G=this._mTreeState.deselected[g];p=this._mTreeState.expanded[G.parentGroupID];if(p&&p.selectAllMode){v++;}}s=this._getSelectableNodesCount(this._oRootNode)-v;}else{s=Object.keys(this._mTreeState.selected).length;}return s;};f.prototype._getSelectableNodesCount=function(n){if(n){return n.magnitude;}else{return 0;}};f.prototype.getSelectedContexts=function(){var r=[];var t=this;if(q.isEmptyObject(this._mTreeState.selected)){return r;}var n=Object.keys(this._mTreeState.selected).length;var N=-1;var m=function(o){if(!o||!o.isArtificial){N++;}if(o){if(o.nodeState&&o.nodeState.selected&&!o.isArtificial){r.push(o.context);t._aRowIndexMap[N]=o;return true;}}};this._match(this._oRootNode,[],n,m);return r;};f.prototype.setSelectionInterval=function(F,t){var m=this._clearSelection();var s=this._setSelectionInterval(F,t,true);var I={};var r=[];for(var i=0;i<m.rowIndices.length;i++){var a=m.rowIndices[i];I[a]=true;}for(i=0;i<s.rowIndices.length;i++){a=s.rowIndices[i];if(I[a]){delete I[a];}else{I[a]=true;}}for(a in I){if(I[a]){r.push(parseInt(a,10));}}this._publishSelectionChanges({rowIndices:r,oldIndex:m.oldIndex,leadIndex:s.leadIndex,leadGroupID:s.leadGroupID});};f.prototype._setSelectionInterval=function(F,t,s){var n=Math.min(F,t);var N=Math.max(F,t);var a=[];var b=[];var i=Math.abs(N-n)+1;var o;var g=-1;var m=function(h){if(!h||!h.isArtificial){g++;}if(h){if(g>=n&&g<=N){if(this._isNodeSelectable(h)){if(h.nodeState.selected!==!!s){b.push(g);}if(h.groupID===this._sLeadSelectionGroupID){o=g;}this.setNodeSelection(h.nodeState,!!s);}return true;}}};this._match(this._oRootNode,a,i,m);var p={rowIndices:b,oldIndex:o,leadIndex:o&&!s?-1:undefined};if(a.length>0&&s){var l=a[a.length-1];p.leadGroupID=l.groupID;p.leadIndex=N;}return p;};f.prototype.addSelectionInterval=function(F,t){var p=this._setSelectionInterval(F,t,true);this._publishSelectionChanges(p);};f.prototype.removeSelectionInterval=function(F,t){var p=this._setSelectionInterval(F,t,false);this._publishSelectionChanges(p);};f.prototype.selectAll=function(){this._mTreeState.deselected={};var p={rowIndices:[],oldIndex:-1,selectAll:true};var n=-1;this._map(this._oRootNode,function(N){if(!N||!N.isArtificial){n++;}if(N){if(N.groupID===this._sLeadSelectionGroupID){p.oldIndex=n;}if(this._isNodeSelectable(N)){if(N.nodeState.selected!==true){p.rowIndices.push(n);}this.setNodeSelection(N.nodeState,true);p.leadGroupID=N.groupID;p.leadIndex=n;}if(N.nodeState.expanded){N.nodeState.selectAllMode=true;}}});this._publishSelectionChanges(p);};f.prototype._clearSelection=function(){var n=-1;var o=-1;var m=0;var a=[];for(var g in this._mTreeState.selected){if(g){m++;}}var M=function(N){if(!N||!N.isArtificial){n++;}if(N){if(this._mTreeState.selected[N.groupID]){if(!N.isArtificial){a.push(n);}this.setNodeSelection(N.nodeState,false);N.nodeState.selectAllMode=false;if(N.groupID===this._sLeadSelectionGroupID){o=n;}return true;}}};this._match(this._oRootNode,[],m,M);if(this._oRootNode&&this._oRootNode.nodeState&&this._oRootNode.isArtificial){this._oRootNode.nodeState.selectAllMode=false;}return{rowIndices:a,oldIndex:o,leadIndex:-1};};f.prototype.clearSelection=function(s){var o=this._clearSelection();if(!s){this._publishSelectionChanges(o);}};f.prototype._publishSelectionChanges=function(p){p.oldIndex=p.oldIndex||this.getSelectedIndex();p.rowIndices.sort(function(a,b){return a-b;});if(p.leadIndex>=0&&p.leadGroupID){this._sLeadSelectionGroupID=p.leadGroupID;}else if(p.leadIndex===-1){this._sLeadSelectionGroupID=undefined;}else{p.leadIndex=p.oldIndex;}if(p.rowIndices.length>0||(p.leadIndex!=undefined&&p.leadIndex!==-1)){this.fireSelectionChanged(p);}};f.prototype.setCollapseRecursive=function(b){this.bCollapseRecursive=!!b;};f.prototype.getCollapseRecursive=function(){return this.bCollapseRecursive;};f.prototype.attachSelectionChanged=function(D,F,l){this.attachEvent("selectionChanged",D,F,l);return this;};f.prototype.detachSelectionChanged=function(F,l){this.detachEvent("selectionChanged",F,l);return this;};f.prototype.fireSelectionChanged=function(a){this.fireEvent("selectionChanged",a);return this;};return f;},true);
sap.ui.predefine('sap/ui/model/TreeBindingCompatibilityAdapter',['jquery.sap.global','sap/ui/model/TreeBinding','sap/ui/model/ClientTreeBinding','sap/ui/model/ChangeReason','sap/ui/model/TreeBindingUtils'],function(q,T,C,a,b){"use strict";var c=function(B,t){var d=t;q.extend(B,{_init:function(e){this._bExpandFirstLevel=e;this.mContextInfo={};this._initContexts();if(e&&!this._bFirstLevelExpanded){this._expandFirstLevel();}},_initContexts:function(s){this.aContexts=this.getRootContexts(0,Number.MAX_VALUE);for(var i=0,l=this.aContexts.length;i<l;i++){var o=this._getContextInfo(this.aContexts[i]);this._setContextInfo({oContext:this.aContexts[i],iLevel:0,bExpanded:o?o.bExpanded:false});}if(this._bExpandFirstLevel&&!this._bFirstLevelExpanded){this._expandFirstLevel(s);}},_expandFirstLevel:function(s){var d=this;if(this.aContexts&&this.aContexts.length>0){q.each(this.aContexts.slice(),function(i,o){if(!s){d._loadChildContexts(o);}d._getContextInfo(o).bExpanded=true;});this._bFirstLevelExpanded=true;}},_fnFireFilter:B._fireFilter,_fireFilter:function(){this._fnFireFilter.apply(this,arguments);this._initContexts(true);this._restoreContexts(this.aContexts);},_fnFireChange:B._fireChange,_fireChange:function(){this._fnFireChange.apply(this,arguments);this._initContexts(true);this._restoreContexts(this.aContexts);},_restoreContexts:function(e){var d=this;var n=[];q.each(e.slice(),function(i,o){var f=d._getContextInfo(o);if(f&&f.bExpanded){n.push.apply(n,d._loadChildContexts(o));}});if(n.length>0){this._restoreContexts(n);}},_loadChildContexts:function(o){var e=this._getContextInfo(o);var I=q.inArray(o,this.aContexts);var n=this.getNodeContexts(o,0,Number.MAX_VALUE);for(var i=0,l=n.length;i<l;i++){this.aContexts.splice(I+i+1,0,n[i]);var f=this._getContextInfo(n[i]);this._setContextInfo({oParentContext:o,oContext:n[i],iLevel:e.iLevel+1,bExpanded:f?f.bExpanded:false});}return n;},_getContextInfo:function(o){return o?this.mContextInfo[o.getPath()]:undefined;},_setContextInfo:function(D){if(D&&D.oContext){this.mContextInfo[D.oContext.getPath()]=D;}},getLength:function(){return this.aContexts?this.aContexts.length:0;},getContexts:function(s,l){return this.aContexts.slice(s,s+l);},getNodes:function(s,l){var e=this.getContexts(s,s+l);var n=[];for(var i=0;i<e.length;i++){var o=this._getContextInfo(e[i])||{};var f=e[i];n.push({context:f,level:o.iLevel,parent:o.oParentContext,nodeState:{expanded:o.bExpanded,collapsed:!o.bExpanded,selected:false}});}return n;},hasChildren:function(){return true;},nodeHasChildren:function(){return true;},getContextByIndex:function(r){return this.aContexts[r];},getLevel:function(o){var e=this._getContextInfo(o);return e?e.iLevel:-1;},isExpanded:function(r){var o=this.getContextByIndex(r);var e=this._getContextInfo(o);return e?e.bExpanded:false;},expandContext:function(o){var e=this._getContextInfo(o);if(e&&!e.bExpanded){this.storeSelection();this._loadChildContexts(o);e.bExpanded=true;this._fireChange();this.restoreSelection();}},expand:function(r){this.expandContext(this.getContextByIndex(r));},collapseContext:function(o,s){var e=this._getContextInfo(o);if(e&&e.bExpanded){this.storeSelection();for(var i=this.aContexts.length-1;i>0;i--){if(this._getContextInfo(this.aContexts[i]).oParentContext===o){this.aContexts.splice(i,1);}}e.bExpanded=false;if(!s){this._fireChange();}this.restoreSelection();}},collapse:function(r){this.collapseContext(this.getContextByIndex(r));},collapseToLevel:function(l){if(!l||l<0){l=0;}var e=this.aContexts.slice();for(var i=e.length-1;i>=0;i--){var f=this.getLevel(e[i]);if(f!=-1&&f>=l){this.collapseContext(e[i],true);}}this._fireChange();},toggleContext:function(o){var e=this._getContextInfo(o);if(e){if(e.bExpanded){this.collapseContext(o);}else{this.expandContext(o);}}},toggleIndex:function(r){this.toggleContext(this.getContextByIndex(r));},storeSelection:function(){var s=d.getSelectedIndices();var S=[];q.each(s,function(i,v){S.push(d.getContextByIndex(v));});this._aSelectedContexts=S;},restoreSelection:function(){d.clearSelection();var _=this._aSelectedContexts;q.each(this.aContexts,function(i,o){if(q.inArray(o,_)>=0){d.addSelectionInterval(i,i);}});this._aSelectedContexts=undefined;},attachSelectionChanged:function(){return undefined;},clearSelection:function(){d._oSelection.clearSelection();},attachSort:function(){},detachSort:function(){}});B._init(t.getExpandFirstLevel());};return c;},true);
sap.ui.predefine('sap/ui/model/analytics/AnalyticalBinding',['jquery.sap.global','sap/ui/model/TreeBinding','sap/ui/model/ChangeReason','sap/ui/model/Filter','sap/ui/model/FilterOperator','sap/ui/model/FilterType','sap/ui/model/Sorter','sap/ui/model/odata/CountMode','./odata4analytics','./BatchResponseCollector','./AnalyticalVersionInfo'],function(Q,T,C,F,a,b,S,c,d,B,A){"use strict";var f=T.extend("sap.ui.model.analytics.AnalyticalBinding",{constructor:function(m,p,o,s,e,P){T.call(this,m,p,o,e,P);this.sEntitySetName=(P&&P.entitySet)?P.entitySet:undefined;this.bArtificalRootContext=false;this.aApplicationFilter=this._convertDeprecatedFilterObjects(e);this.aControlFilter=undefined;this.aSorter=s?s:[];this.aMaxAggregationLevel=[];this.aAggregationLevel=[];this.oPendingRequests={};this.oPendingRequestHandle=[];this.oGroupedRequests={};this.bUseBatchRequests=(P&&P.useBatchRequests===true)?true:false;this.bProvideTotalSize=(P&&P.provideTotalResultSize===false)?false:true;this.bProvideGrandTotals=(P&&P.provideGrandTotals===false)?false:true;this.bReloadSingleUnitMeasures=(P&&P.reloadSingleUnitMeasures===false)?false:true;this.bUseAcceleratedAutoExpand=(P&&P.useAcceleratedAutoExpand===false)?false:true;this.bNoPaging=(P&&P.noPaging===true)?true:false;this.iTotalSize=-1;this.mServiceKey={};this.mServiceLength={};this.mServiceFinalLength={};this.mKeyIndex={};this.mFinalLength=this.mServiceFinalLength;this.mLength={};this.mMultiUnitKey={};this.aMultiUnitLoadFactor={};this.bNeedsUpdate=false;this.mEntityKey={};this.sCustomParams=this.oModel.createCustomParams({custom:this.mParameters.custom});this.oAnalyticalQueryResult=null;this.aAnalyticalInfo=[];this.mAnalyticalInfoByProperty={};this.aBatchRequestQueue=[];if(P&&P.countMode==c.None){Q.sap.log.fatal("requested count mode is ignored; OData requests will include $inlinecout options");}else if(P&&(P.countMode==c.Request||P.countMode==c.Both)){Q.sap.log.warning("default count mode is ignored; OData requests will include $inlinecout options");}else if(this.oModel.sDefaultCountMode==c.Request){Q.sap.log.warning("default count mode is ignored; OData requests will include $inlinecout options");}this.iModelVersion=A.getVersion(this.oModel);if(this.iModelVersion===null){Q.sap.log.error("The AnalyticalBinding does not support Models other than sap.ui.model.odata.ODataModel version 1 or 2.");return;}this.aAllDimensionSortedByName=null;this.aInitialAnalyticalInfo=(P==undefined?[]:P.analyticalInfo);this.bInitial=true;}});function t(o,e){return function(){if(!o.__supportUID){o.__supportUID=Q.sap.uid();}return{type:"sap.ui.model.analytics.AnalyticalBinding",analyticalError:e,analyticalBindingId:o.__supportUID};};}f.prototype.setContext=function(o){if(this.oContext!==o){this.oContext=o;this.oDataState=null;if(!this.isRelative()){return;}var r=this.oModel.resolve(this.sPath,this.oContext);if(r){this.resetData();this._initialize();this._fireChange({reason:C.Context});}}};f.prototype.initialize=function(){if(this.oModel.oMetadata&&this.oModel.oMetadata.isLoaded()&&this.isInitial()){var i=this.isRelative();if(!i||(i&&this.oContext)){this._initialize();}this._fireRefresh({reason:C.Refresh});}return this;};f.prototype._initialize=function(){if(this.oModel.oMetadata&&this.oModel.oMetadata.isLoaded()){this.bInitial=false;this.oAnalyticalQueryResult=this.oModel.getAnalyticalExtensions().findQueryResultByName(this._getEntitySet());if(!this.oAnalyticalQueryResult){throw("Error in AnalyticalBinding - The QueryResult '"+this._getEntitySet()+"' could not be retrieved. Please check your service definition.");}this.updateAnalyticalInfo(this.aInitialAnalyticalInfo);this.aAllDimensionSortedByName=this.oAnalyticalQueryResult.getAllDimensionNames().concat([]).sort();this._fireRefresh({reason:C.Refresh});}};f.prototype.getRootContexts=function(p){if(this.isInitial()){return[];}var i=(p&&p.numberOfExpandedLevels?p.numberOfExpandedLevels+1:1);var r=null;var R=this._getRequestId(f._requestType.groupMembersQuery,{groupId:null});if(this.bArtificalRootContext&&!this._cleanupGroupingForCompletedRequest(R)){return r;}r=this._getContextsForParentContext(null);if(r.length==1){return r;}if(i<=1){if(i==1){this._considerRequestGrouping([R,this._getRequestId(f._requestType.groupMembersQuery,{groupId:"/"})]);this.getNodeContexts(this.getModel().getContext("/"),{startIndex:p.startIndex,length:p.length,threshold:p.threshold,level:0,numberOfExpandedLevels:0});}}else{var e=this._prepareGroupMembersAutoExpansionRequestIds("/",p.numberOfExpandedLevels);e.push(R);this._considerRequestGrouping(e);this.getNodeContexts(this.getModel().getContext("/"),{startIndex:p.startIndex,length:p.length,threshold:p.threshold,level:0,numberOfExpandedLevels:p.numberOfExpandedLevels});}if(r.length>1){Q.sap.log.fatal("assertion failed: grand total represented by a single entry");}return r;};f.prototype.getNodeContexts=function(o,p){if(this.isInitial()){return[];}var s,l,i,L,n,e;if(typeof p=="object"){s=p.startIndex;l=p.length;i=p.threshold;L=p.level;n=p.numberOfExpandedLevels;e=p.supressRequest;}else{s=arguments[1];l=arguments[2];i=arguments[3];L=arguments[4];n=arguments[5];e=arguments[6];}var g=this._getContextsForParentContext(o,s,l,i,L,n,e);return g;};f.prototype.ContextsAvailabilityStatus={ALL:2,SOME:1,NONE:0};f.prototype.hasAvailableNodeContexts=function(o,l){var g=this._getGroupIdFromContext(o,l);if(this._getKeys(g)!=undefined){if(this.mFinalLength[g]==true){return f.prototype.ContextsAvailabilityStatus.ALL;}else{return f.prototype.ContextsAvailabilityStatus.SOME;}}else{return f.prototype.ContextsAvailabilityStatus.NONE;}};f.prototype.getGroupSize=function(o,l){if(o===undefined){return 0;}var g=this._getGroupIdFromContext(o,l);return this.mFinalLength[g]?this.mLength[g]:-1;};f.prototype.getTotalSize=function(){if(!this.bProvideTotalSize){Q.sap.log.fatal("total size of result explicitly turned off, but getter invoked");}return+this.iTotalSize;};f.prototype.hasChildren=function(o,p){if(o===undefined){return false;}if(o==null){return true;}var i=p.level;if(i==0){return true;}if(this.aAggregationLevel.length<i){return false;}return Q.inArray(this.aAggregationLevel[i-1],this.aMaxAggregationLevel)<this.aMaxAggregationLevel.length-1;};f.prototype.hasMeasures=function(){var h=false;for(var p in this.oMeasureDetailsSet){if(this.oMeasureDetailsSet.hasOwnProperty(p)){h=true;break;}}return h;};f.prototype.getDimensionDetails=function(){return this.oDimensionDetailsSet;};f.prototype.getMeasureDetails=function(){return this.oMeasureDetailsSet;};f.prototype.providesGrandTotal=function(){return this.bProvideGrandTotals;};f.prototype.getProperty=function(p){if(this.isInitial()){return{};}return this.oAnalyticalQueryResult.getEntityType().findPropertyByName(p);};f.prototype.getFilterablePropertyNames=function(){if(this.isInitial()){return[];}return this.oAnalyticalQueryResult.getEntityType().getFilterablePropertyNames();};f.prototype.getSortablePropertyNames=function(){if(this.isInitial()){return[];}return this.oAnalyticalQueryResult.getEntityType().getSortablePropertyNames();};f.prototype.getPropertyLabel=function(p){if(this.isInitial()){return"";}return this.oAnalyticalQueryResult.getEntityType().getLabelOfProperty(p);};f.prototype.getPropertyHeading=function(p){if(this.isInitial()){return"";}return this.oAnalyticalQueryResult.getEntityType().getHeadingOfProperty(p);};f.prototype.getPropertyQuickInfo=function(p){if(this.isInitial()){return"";}return this.oAnalyticalQueryResult.getEntityType().getQuickInfoOfProperty(p);};f.prototype.isMeasure=function(p){return Q.inArray(p,this.aMeasureName)!==-1;};f.prototype.filter=function(e,s){if(!e){e=[];}if(e instanceof F){e=[e];}e=this._convertDeprecatedFilterObjects(e);if(s==b.Application){this.aApplicationFilter=e;}else{this.aControlFilter=e;}this.iTotalSize=-1;this._abortAllPendingRequests();this.resetData();this._fireRefresh({reason:C.Filter});return this;};f.prototype.sort=function(s){if(s instanceof S){s=[s];}this.aSorter=s?s:[];this._abortAllPendingRequests();this.resetData(undefined,{reason:C.Sort});this._fireRefresh({reason:C.Sort});return this;};f.prototype.getGroupName=function(o,l){if(o===undefined){return"";}var g=this.aAggregationLevel[l-1],D=this.oAnalyticalQueryResult.findDimensionByPropertyName(g),v=this.mAnalyticalInfoByProperty[g].formatter,p=o.getProperty(g),e,s,G;if(D&&this.oDimensionDetailsSet[g].textPropertyName){e=D.getTextProperty();}var h,i,j;if(e){h=D.getTextProperty().name;j=this.mAnalyticalInfoByProperty[h].formatter;i=o.getProperty(h);}if(!e){s=v?v(p):p;G=((D.getLabelText())?D.getLabelText()+': ':'')+s;}else{s=v?v(p,i):p;G=((D.getLabelText())?D.getLabelText()+': ':'')+s;var k=j?j(i,p):i;if(k){G+=' - '+k;}}return G;};f.prototype.updateAnalyticalInfo=function(e,g){if(!this.oModel.oMetadata||!this.oModel.oMetadata.isLoaded()||this.isInitial()){this.aInitialAnalyticalInfo=e;return;}if(Q.sap.equal(this._aLastChangedAnalyticalInfo,e)){if(g){setTimeout(function(){this._fireChange({reason:C.Change});}.bind(this),0);}return;}this._aLastChangedAnalyticalInfo=[];for(var j=0;j<e.length;j++){this._aLastChangedAnalyticalInfo[j]=Q.extend({},e[j]);}var p=this.oDimensionDetailsSet;this.mAnalyticalInfoByProperty={};this.aMaxAggregationLevel=[];this.aAggregationLevel=[];this.aMeasureName=[];if(this.iAnalyticalInfoVersionNumber==undefined){this.iAnalyticalInfoVersionNumber=1;}else if(this.iAnalyticalInfoVersionNumber>999){this.iAnalyticalInfoVersionNumber=1;}else{this.iAnalyticalInfoVersionNumber=this.iAnalyticalInfoVersionNumber+1;}this.oMeasureDetailsSet={};this.oDimensionDetailsSet={};for(var i=0;i<e.length;i++){var D=this.oAnalyticalQueryResult.findDimensionByPropertyName(e[i].name);if(D&&(e[i].inResult==true||e[i].visible==true)){e[i].dimensionPropertyName=D.getName();var o=this.oDimensionDetailsSet[D.getName()];if(!o){o={};o.name=D.getName();o.aAttributeName=[];o.grouped=false;this.oDimensionDetailsSet[D.getName()]=o;this.aMaxAggregationLevel.push(o.name);if(e[i].grouped==true){this.aAggregationLevel.push(o.name);}}if(e[i].grouped==true){if(Q.inArray(D.getName(),this.getSortablePropertyNames())==-1){Q.sap.log.fatal("property "+D.getName()+" must be sortable in order to be used as grouped dimension");}o.grouped=true;}if(D.getName()==e[i].name){o.keyPropertyName=e[i].name;}var h=D.getTextProperty();if(h&&h.name==e[i].name){o.textPropertyName=e[i].name;}if(D.findAttributeByName(e[i].name)){o.aAttributeName.push(e[i].name);}o.analyticalInfo=e[i];}var m=this.oAnalyticalQueryResult.findMeasureByPropertyName(e[i].name);if(m&&(e[i].inResult==true||e[i].visible==true)){e[i].measurePropertyName=m.getName();var M=this.oMeasureDetailsSet[m.getName()];if(!M){M={};M.name=m.getName();this.oMeasureDetailsSet[m.getName()]=M;this.aMeasureName.push(M.name);}if(m.getRawValueProperty().name==e[i].name){M.rawValuePropertyName=e[i].name;}var k=m.getFormattedValueProperty();if(k&&k.name==e[i].name){M.formattedValuePropertyName=e[i].name;}M.analyticalInfo=e[i];}this.mAnalyticalInfoByProperty[e[i].name]=e[i];}for(var l in this.oMeasureDetailsSet){var u=this.oAnalyticalQueryResult.findMeasureByName(l).getUnitProperty();if(u){this.oMeasureDetailsSet[l].unitPropertyName=u.name;}}var n=function(q){var N=[];for(var r in q){N.push(r.name);}return N.sort().join(";");};if(n(p)!=n(this.oDimensionDetailsSet)){this.iTotalSize=-1;}this.aAnalyticalInfo=e;this.resetData();this.bNeedsUpdate=false;if(g){this._fireChange({reason:C.Change});}};f.prototype.getAnalyticalInfoForColumn=function(s){return this.mAnalyticalInfoByProperty[s];};f.prototype.loadGroups=function(g){var G=[];for(var s in g){G.push(s);this._resetData(s);var e=g[s];for(var i=0;i<e.length;i++){var o=e[i];this._getContextsForParentGroupId(s,o.startIndex,o.length,o.threshold);}var r=[];for(var j=-1,h;(h=G[++j])!==undefined;){r.push(this._getRequestId(f._requestType.groupMembersQuery,{groupId:h}));}this._considerRequestGrouping(r);}};f.prototype.getAnalyticalQueryResult=function(){return this.oAnalyticalQueryResult;};f._requestType={groupMembersQuery:1,totalSizeQuery:2,groupMembersAutoExpansionQuery:3,levelMembersQuery:4,reloadMeasuresQuery:5};f._artificialRootContextGroupId="artificialRootContext";f.prototype._getContextsForParentContext=function(p,s,l,i,L,n,e){if(p===undefined){return[];}if(p&&p.getPath()=="/"+f._artificialRootContextGroupId){p=this.getModel().getContext("/");}var P=this._getGroupIdFromContext(p,L);return this._getContextsForParentGroupId(P,s,l,i,n,e);};f.prototype._getContextsForParentGroupId=function(p,s,l,e,n,g){if(p===undefined){return[];}if(!s){s=0;}if(!l){l=this.oModel.iSizeLimit;}if(this.mFinalLength[p]&&this.mLength[p]<s+l){l=this.mLength[p]-s;if(l<0){Q.sap.log.fatal("invalid start index greater than total group length passed");}}if(!e){e=0;}if(!n){n=0;}if(p==null){if(n>0){Q.sap.log.fatal("invalid request to determine nodes of root context");return null;}}else{if(this._getGroupIdLevel(p)>=this.aAggregationLevel.length&&n>0){Q.sap.log.fatal("invalid request to determine nodes of context with group ID "+p);return null;}if(this._getGroupIdLevel(p)+n>this.aAggregationLevel.length){n=this.aAggregationLevel.length-this._getGroupIdLevel(p)-1;}}var h=[],L,G,o,m;var k=p==null?0:this._getGroupIdLevel(p)+1;if(!this.aMultiUnitLoadFactor[k]){this.aMultiUnitLoadFactor[k]=1;}var q=n>0&&p!=null;if(q){var M=this._getGroupIdLevel(p);var r=M+n;var D=true;if(!g){o=this._calculateRequiredGroupExpansion(p,r,s,l+e);D=o.groupId_Missing==null;D=D||o.groupId_Missing.length<p.length||o.groupId_Missing.substring(0,p.length)!=p;}if(D){h=this._getLoadedContextsForGroup(p,s,l);}else{m=l+e;}L=!D;m=Math.ceil(m*this.aMultiUnitLoadFactor[k]);}else{h=this._getLoadedContextsForGroup(p,s,l,g);L=false;if(!g){G=this._calculateRequiredGroupSection(p,s,l,e,h);var P=G.length>0&&l<G.length;L=(h.length!=l&&!(this.mFinalLength[p]&&h.length>=this.mLength[p]-s))||P;G.length=Math.ceil(G.length*this.aMultiUnitLoadFactor[k]);}}if(!L){this._cleanupGroupingForCompletedRequest(this._getRequestId(f._requestType.groupMembersQuery,{groupId:p}));}var E=false;if(this.oModel.getServiceMetadata()){if(L){var N=this.bProvideTotalSize&&this.iTotalSize==-1&&!this._isRequestPending(this._getRequestId(f._requestType.totalSizeQuery));E=true;var u;if(this.bUseBatchRequests){if(q){u=this._prepareGroupMembersAutoExpansionRequestIds(p,n);for(var i=-1,R;(R=u[++i])!==undefined;){if(this._isRequestPending(R)){E=false;break;}}if(E){this.aBatchRequestQueue.push([f._requestType.groupMembersAutoExpansionQuery,p,o,m,n]);}}else{E=!this._isRequestPending(this._getRequestId(f._requestType.groupMembersQuery,{groupId:p}));if(E){this.aBatchRequestQueue.push([f._requestType.groupMembersQuery,p,G.startIndex,G.length]);u=[this._getRequestId(f._requestType.groupMembersQuery,{groupId:p})];}}if(E&&N){u.push(this._getRequestId(f._requestType.totalSizeQuery));this._considerRequestGrouping(u);this.aBatchRequestQueue.push([f._requestType.totalSizeQuery]);}if(E){if(p==null){this._abortAllPendingRequests();}Promise.resolve().then(f.prototype._processRequestQueue.bind(this));}}else{var v;if(q){u=this._prepareGroupMembersAutoExpansionRequestIds(p,n);for(var j=-1,w;(w=u[++j])!==undefined;){if(this._isRequestPending(w)){E=false;break;}}if(E){v=this._prepareGroupMembersAutoExpansionQueryRequest(f._requestType.groupMembersAutoExpansionQuery,p,o,m,n);}}else{E=!this._isRequestPending(this._getRequestId(f._requestType.groupMembersQuery,{groupId:p}));if(E){v=this._prepareGroupMembersQueryRequest(f._requestType.groupMembersQuery,p,G.startIndex,G.length);u=[v.sRequestId];}}if(E){if(p==null){this._abortAllPendingRequests();}this._executeQueryRequest(v);if(N&&!v.bIsFlatListRequest){u.push(this._getRequestId(f._requestType.totalSizeQuery));this._considerRequestGrouping(u);this._executeQueryRequest(this._prepareTotalSizeQueryRequest(f._requestType.totalSizeQuery));}}}}}return h;};f.prototype._processRequestQueue=function(r){if(r===undefined||r===null){r=this.aBatchRequestQueue||[];}if(r.length==0){return;}var R=[];var e=false;var i,o,g;for(i=-1;(g=r[++i])!==undefined;){if(g[0]==f._requestType.groupMembersQuery){o=f.prototype._prepareGroupMembersQueryRequest.apply(this,g);e=e||o.bIsFlatListRequest;R.push(o);}}for(i=-1;(g=r[++i])!==undefined;){o=null;switch(g[0]){case f._requestType.groupMembersQuery:continue;case f._requestType.totalSizeQuery:if(!e){o=f.prototype._prepareTotalSizeQueryRequest.apply(this,g);R.push(o);}break;case f._requestType.groupMembersAutoExpansionQuery:o=f.prototype._prepareGroupMembersAutoExpansionQueryRequest.apply(this,g);for(var j=-1,l;(l=o.aGroupMembersAutoExpansionRequestDetails[++j])!==undefined;){R.push(l);}break;case f._requestType.reloadMeasuresQuery:{var h=g[1];for(var k=-1,m;(m=h[++k])!==undefined;){R.push(m);}break;}default:Q.sap.log.fatal("unhandled request type "+r[i][0]);continue;}}if(R.length>1){this._executeBatchRequest(R);}else{this._executeQueryRequest(R[0]);}if(r===this.aBatchRequestQueue){this.aBatchRequestQueue=[];}};f.prototype._prepareGroupMembersQueryRequest=function(r,g,s,L){var G=[];var o=new d.QueryResultRequest(this.oAnalyticalQueryResult);o.setResourcePath(this._getResourcePath());o.getSortExpression().clear();var e=0,h=-1;if(g){G=this._getGroupIdComponents(g);e=h=G.length;var u=0;for(var j=0,p=0;j<e;p++){if(this.oDimensionDetailsSet[this.aMaxAggregationLevel[p]].grouped==false){++u;}else{++j;}}e=h=e+u;if(this.aMaxAggregationLevel.length>0){while(this.oDimensionDetailsSet[this.aMaxAggregationLevel[h]].grouped==false){if(++h==this.aMaxAggregationLevel.length){break;}}}}var I=h>=this.aMaxAggregationLevel.length-1;var q=this.aMaxAggregationLevel.slice(0,h+1);o.setAggregationLevel(q);for(var i=0;i<q.length;i++){var D=this.oDimensionDetailsSet[q[i]];var v=(D.textPropertyName!=undefined);o.includeDimensionKeyTextAttributes(D.name,true,v,D.aAttributeName);if(D.grouped){o.getSortExpression().addSorter(q[i],d.SortOrder.Ascending);}}var w=o.getFilterExpression();w.clear();if(this.aApplicationFilter){w.addUI5FilterConditions(this.aApplicationFilter);}if(this.aControlFilter){w.addUI5FilterConditions(this.aControlFilter);}if(e>=1){for(var k=0,l=G.length;k<l;k++){w.removeConditions(this.aAggregationLevel[k]);w.addCondition(this.aAggregationLevel[k],a.EQ,G[k]);}}var x;var y;var z;var M;var E=[];if(g!=null||this.bProvideGrandTotals){o.setMeasures(this.aMeasureName);for(var H in this.oMeasureDetailsSet){M=this.oMeasureDetailsSet[H];if(!I&&this.mAnalyticalInfoByProperty[H].total==false){x=false;y=false;z=false;}else{x=(M.rawValuePropertyName!=undefined);y=(M.formattedValuePropertyName!=undefined);z=(M.unitPropertyName!=undefined);if(z){if(Q.inArray(M.unitPropertyName,E)==-1){E.push(M.unitPropertyName);}}}o.includeMeasureRawFormattedValueUnit(M.name,x,y,z);}for(var n in q){var J;if((J=Q.inArray(q[n],E))!=-1){E.splice(J,1);}}}var K=o.getSortExpression();for(var m=0;m<this.aSorter.length;m++){if(this.aSorter[m]){K.addSorter(this.aSorter[m].sPath,this.aSorter[m].bDescending?d.SortOrder.Descending:d.SortOrder.Ascending);}}if(L==0){Q.sap.log.fatal("unhandled case: load 0 entities of sub group");}var N=this._getKeyIndexMapping(g,s);if(!this.bNoPaging){o.setResultPageBoundaries(N.iServiceKeyIndex+1,N.iServiceKeyIndex+L);}o.setRequestOptions(null,!this.mFinalLength[g]);return{iRequestType:r,sRequestId:this._getRequestId(f._requestType.groupMembersQuery,{groupId:g}),oAnalyticalQueryRequest:o,sGroupId:g,aSelectedUnitPropertyName:E,aAggregationLevel:q,bIsFlatListRequest:I&&e==0,bIsLeafGroupsRequest:I,iStartIndex:s,iLength:L,oKeyIndexMapping:N};};f.prototype._prepareTotalSizeQueryRequest=function(r){var o=new d.QueryResultRequest(this.oAnalyticalQueryResult);o.setResourcePath(this._getResourcePath());o.setAggregationLevel(this.aMaxAggregationLevel);o.setMeasures([]);var e=o.getFilterExpression();e.clear();if(this.aApplicationFilter){e.addUI5FilterConditions(this.aApplicationFilter);}if(this.aControlFilter){e.addUI5FilterConditions(this.aControlFilter);}o.setRequestOptions(null,null,true);o.setRequestOptions(null,true);return{iRequestType:r,sRequestId:this._getRequestId(f._requestType.totalSizeQuery),oAnalyticalQueryRequest:o};};f.prototype._prepareGroupMembersAutoExpansionQueryRequest=function(r,g,G,L,n){var e=this;var p=function(G,o){var u=[];if(G.groupId_Missing==null){Q.sap.log.fatal("missing group Id not present");return u;}var q=e._getGroupIdComponents(G.groupId_Missing);var s=q.length;if(s>o){Q.sap.log.fatal("the given group ID is too deep for requested level for auto expansion");return u;}var k=[];for(var i=0;i<s;i++){var l=e.aAggregationLevel[i];var V=q[i];var K=e._getFilterOperatorMatchingPropertySortOrder(l);k[i]=new F(l,K,V);}var M=null;if(G.startIndex_Missing>0){var N=e._getKey(G.groupId_Missing,G.startIndex_Missing-1);var O=e.oModel.getObject("/"+N);var P=e.aAggregationLevel[s];var U=O[P];M=new F(P,e._getFilterOperatorMatchingPropertySortOrder(P,false),U);}for(var w=0;w<o;w++){var W=[];var X=Math.min(s,w+1);for(var Y=0;Y<X;Y++){var Z=[];var $=Math.min(s,Y+1);var _=G.startIndex_Missing>0;for(var a1=0;a1<$;a1++){var b1=new F("x",a.EQ,"x");b1=Q.extend(true,b1,k[a1]);if($>1&&a1<$-1){b1.sOperator=a.EQ;}if(a1==s-1&&w>s-1&&!_){if(b1.sOperator==a.GT){b1.sOperator=a.GE;}else{b1.sOperator=a.LE;}}Z.push(b1);}if(Z.length>0){W.push(new F(Z,true));if(w>s-1&&Y==s-1&&_){var c1=[];for(var j=0;j<Z.length;j++){var d1=new F("x",a.EQ,"x");d1=Q.extend(true,d1,Z[j]);c1.push(d1);}c1[s-1].sOperator=a.EQ;c1.push(M);W.push(new F(c1,true));break;}}}if(W.length>0){u[w]=new F(W,false);}else{u[w]=null;}}return u;};var h=function(r,g,w,K,x,L,M,U){var N=new d.QueryResultRequest(e.oAnalyticalQueryResult);N.setResourcePath(e._getResourcePath());N.getSortExpression().clear();var O=0,P=-1;O=P=w-1;var V=0;for(var i=0,W=0;i<O;W++){if(e.oDimensionDetailsSet[e.aMaxAggregationLevel[W]].grouped==false){++V;}else{++i;}}O=P=O+V;if(e.aMaxAggregationLevel.length>0){while(e.oDimensionDetailsSet[e.aMaxAggregationLevel[P]].grouped==false){if(++P==e.aMaxAggregationLevel.length){break;}}}var X=P>=e.aMaxAggregationLevel.length-1;var Y=e.aMaxAggregationLevel.slice(0,P+1);N.setAggregationLevel(Y);for(var l=0;l<Y.length;l++){var Z=e.oDimensionDetailsSet[Y[l]];var $=(Z.textPropertyName!=undefined);N.includeDimensionKeyTextAttributes(Z.name,true,$,Z.aAttributeName);if(Z.grouped){N.getSortExpression().addSorter(Y[l],d.SortOrder.Ascending);}}var _=N.getFilterExpression();_.clear();if(e.aApplicationFilter){_.addUI5FilterConditions(e.aApplicationFilter);}if(e.aControlFilter){_.addUI5FilterConditions(e.aControlFilter);}if(K){_.addUI5FilterConditions([K]);}var a1;var b1;var c1;var d1;var e1=[];N.setMeasures(e.aMeasureName);for(var f1 in e.oMeasureDetailsSet){d1=e.oMeasureDetailsSet[f1];if(!X&&e.mAnalyticalInfoByProperty[f1].total==false){a1=false;b1=false;c1=false;}else{a1=(d1.rawValuePropertyName!=undefined);b1=(d1.formattedValuePropertyName!=undefined);c1=(d1.unitPropertyName!=undefined);if(c1){if(Q.inArray(d1.unitPropertyName,e1)==-1){e1.push(d1.unitPropertyName);}}}N.includeMeasureRawFormattedValueUnit(d1.name,a1,b1,c1);}for(var j in Y){var g1;if((g1=Q.inArray(Y[j],e1))!=-1){e1.splice(g1,1);}}var h1=N.getSortExpression();for(var k=0;k<e.aSorter.length;k++){if(e.aSorter[k]){h1.addSorter(e.aSorter[k].sPath,e.aSorter[k].bDescending?d.SortOrder.Descending:d.SortOrder.Ascending);}}if(L==0){Q.sap.log.fatal("unhandled case: load 0 entities of sub group");}var i1=x;if(!U){i1=0;}else{var j1=0;for(var k1 in e.mServiceKey){if(k1.split("/").length===w+1){j1+=e.mServiceKey[k1].length;}}i1=Math.max(i1,j1);}if(!e.bNoPaging){N.setResultPageBoundaries(i1+1,L);}return{iRequestType:r,sRequestId:null,oAnalyticalQueryRequest:N,iLevel:w,aSelectedUnitPropertyName:e1,aAggregationLevel:Y,bIsFlatListRequest:X,bIsLeafGroupsRequest:X,iStartIndex:x,iLength:L,bAvoidLengthUpdate:M};};var m=[];var R=[];if(!G){Q.sap.log.fatal("no first missing group member specified");}var o=this._getGroupIdLevel(g)+n+1;var q=e._getGroupIdComponents(G.groupId_Missing);var s=q.length;var u=p(G,o);var v;for(var w=1;w<=o;w++){var x;if(w>=s+2){x=0;v=undefined;}else if(w==s+1){x=G.startIndex_Missing;v=G.groupId_Missing;}else if(s>0){if(w==s){v=G.groupId_Missing;}else{v=this._getGroupIdAncestors(G.groupId_Missing,-(s-w))[0];}var y=this._getGroupIdAncestors(G.groupId_Missing,-(s-w+1))[0];if(!y){Q.sap.log.fatal("failed to determine group id at parent level; group ID = "+g+", level = "+w);}x=this._findKeyIndex(y,this.mEntityKey[v]);if(x==-1){Q.sap.log.fatal("failed to determine position of value "+v+" in group "+y);}v=y;x++;}var z=L>w?Math.ceil((L-w)/(o-w+1)):L;var D=u[w-1];if(this.bUseAcceleratedAutoExpand){var E=h(f._requestType.levelMembersQuery,g,w,D,x,z,false,D==null?true:false);E.sGroupId_Missing_AtLevel=v;E.sRequestId=this._getRequestId(f._requestType.levelMembersQuery,{groupId:g,level:w});m.push(E);R.push(E.sRequestId);}else if(D&&D.aFilters.length>0){if(!D._bMultiFilter||D.bAnd){Q.sap.log.fatal("level filter in wrong shape; cannot break it up");}for(var i=0;i<D.aFilters.length;i++){var H=D.aFilters[i];var I=h(f._requestType.levelMembersQuery,g,w,H,x,z,false,D==null?true:false);I.sGroupId_Missing_AtLevel=v;I.sRequestId=this._getRequestId(f._requestType.levelMembersQuery,{groupId:g,level:w,tupleIndex:i});m.push(I);R.push(I.sRequestId);}}else{var J=h(f._requestType.levelMembersQuery,g,w,null,x,z,false,D==null?true:false);J.sGroupId_Missing_AtLevel=v;J.sRequestId=this._getRequestId(f._requestType.levelMembersQuery,{groupId:g,level:w});m.push(J);R.push(J.sRequestId);}}return{iRequestType:r,aRequestId:R,aGroupMembersAutoExpansionRequestDetails:m,sGroupId:g,iLength:L};};f.prototype._prepareReloadMeasurePropertiesQueryRequest=function(r,g,m){var o=new d.QueryResultRequest(this.oAnalyticalQueryResult);o.setResourcePath(this._getResourcePath());o.getSortExpression().clear();var e=g.aAggregationLevel;o.setAggregationLevel(e);var I=g.bIsLeafGroupsRequest;var h=o.getFilterExpression();h.clear();if(this.aApplicationFilter){h.addUI5FilterConditions(this.aApplicationFilter);}if(this.aControlFilter){h.addUI5FilterConditions(this.aControlFilter);}var k=[];for(var i=0;i<e.length;i++){var l=new F(e[i],a.EQ,m.oEntry[e[i]]);k.push(l);}h.addUI5FilterConditions(k);var n;var p;var q;var M;var s=[];o.setMeasures(m.aReloadMeasurePropertyName);for(var u in this.oMeasureDetailsSet){M=this.oMeasureDetailsSet[u];if(Q.inArray(M.name,m.aReloadMeasurePropertyName)==-1){continue;}if(!I&&this.mAnalyticalInfoByProperty[u].total==false){n=false;p=false;q=false;}else{n=(M.rawValuePropertyName!=undefined);p=(M.formattedValuePropertyName!=undefined);q=(M.unitPropertyName!=undefined);if(q){if(Q.inArray(M.unitPropertyName,s)==-1){s.push(M.unitPropertyName);}}}o.includeMeasureRawFormattedValueUnit(M.name,n,p,q);}for(var j in e){var v;if((v=Q.inArray(e[j],s))!=-1){s.splice(v,1);}}return{iRequestType:r,sRequestId:this._getRequestId(f._requestType.reloadMeasuresQuery,{multiUnitEntryKey:this.oModel.getKey(m.oEntry)}),oAnalyticalQueryRequest:o,aSelectedUnitPropertyName:s,aAggregationLevel:e,oMultiUnitRepresentative:m};};f.prototype._prepareGroupMembersAutoExpansionRequestIds=function(g,n){var m=this._getGroupIdLevel(g)+1;var i=m+n;var r=[];for(var l=m;l<=i;l++){r.push(this._getRequestId(f._requestType.levelMembersQuery,{groupId:g,level:l}));}return r;};f.prototype._getQueryODataRequestOptions=function(o,p){p=p||{};try{o.getFilterExpression().checkValidity();}catch(e){Q.sap.log.fatal("filter expression is not valid",e.toString());return undefined;}var s=o.getURIQueryOptionValue("$select");var g=o.getURIQueryOptionValue("$filter");var O=o.getURIQueryOptionValue("$orderby");var h=o.getURIQueryOptionValue("$skip");var j=o.getURIQueryOptionValue("$top");var I=o.getURIQueryOptionValue("$inlinecount");if(this.mParameters&&this.mParameters["filter"]){g+="and ("+this.mParameters["filter"]+")";}var P=[];if(s!==null){P.push("$select="+s);}if(g!==null){P.push("$filter="+g);}if(O!==null){P.push("$orderby="+O);}if(h!==null){P.push("$skip="+h);}if(j!==null){P.push("$top="+j);}if(I!==null){P.push("$inlinecount="+I);}if(p.encode===true){for(var i=0;i<P.length;i++){P[i]=P[i].replace(/\ /g,"%20");}}return P;};f.prototype._executeBatchRequest=function(r){var e=this.iAnalyticalInfoVersionNumber;var g=this;var h=[],E=[];function l(){g.fireDataReceived({__simulateAsyncAnalyticalBinding:true});}var R=new B();function s(D,j){R.success(j);}function m(D,j){R.error(j||D);}for(var i=-1,o;(o=r[++i])!==undefined;){var n=o.oAnalyticalQueryRequest,G=o.sGroupId;if(n.getURIQueryOptionValue("$select")==null){this.fireDataRequested({__simulateAsyncAnalyticalBinding:true});G=null;this.mServiceLength[G]=this.mLength[G]=1;this.mServiceFinalLength[G]=true;this._setServiceKey(this._getKeyIndexMapping(G,0),f._artificialRootContextGroupId);this.bNeedsUpdate=true;setTimeout(l);this.bArtificalRootContext=true;continue;}var p=n.getURIToQueryResultEntries();if(!this.oContext&&p[0]!=="/"){p="/"+p;}if(!this._isRequestPending(o.sRequestId)){this._registerNewRequest(o.sRequestId);if(this.iModelVersion===A.V1){h.push(this.oModel.createBatchOperation(p.replace(/\ /g,"%20"),"GET"));}else if(this.iModelVersion===A.V2){var u=this._getQueryODataRequestOptions(n,{encode:true});if(this.sCustomParams){u.push(this.sCustomParams);}var q=this.oModel.read(p.replace(/\ /g,"%20"),{success:s,error:m,context:this.oContext,urlParameters:u});h.push(q);}E.push(o);}}if(h.length>0){Q.sap.log.debug("AnalyticalBinding: executing batch request with "+E.length+" operations");var v;var w=this._getIdForNewRequestHandle();this.fireDataRequested();if(this.iModelVersion===A.V1){this.oModel.addBatchReadOperations(h);v=this.oModel.submitBatch(x,y,true,true);this.oModel.fireRequestSent({url:this.oModel.sServiceUrl+"/$batch",type:"POST",async:true,info:"",infoObject:{}});}else{v={abort:function(){for(var j=0;j<h.length;j++){h[j].abort();}}};R.setup({executedRequests:E,binding:this,success:x,error:y});}this._registerNewRequestHandle(w,v);}function x(D,z){g._deregisterHandleOfCompletedRequest(w);if(E.length!=D.__batchResponses.length){Q.sap.log.fatal("assertion failed: received "+D.__batchResponses.length+" responses for "+E.length+" read operations in the batch request");}if(e!=g.iAnalyticalInfoVersionNumber){for(var j=0;j<E.length;j++){var H=E[j].sRequestId;if(H!==undefined){g._deregisterCompletedRequest(H);g._cleanupGroupingForCompletedRequest(H);}}g.fireDataReceived({data:[]});return;}var I=0;for(var k=0;k<D.__batchResponses.length;k++){if(D.__batchResponses[k].data!=undefined){if(D.__batchResponses[k].data.results.length==0){I++;}switch(E[k].iRequestType){case f._requestType.groupMembersQuery:g._processGroupMembersQueryResponse(E[k],D.__batchResponses[k].data);break;case f._requestType.totalSizeQuery:g._processTotalSizeQueryResponse(E[k],D.__batchResponses[k].data);break;case f._requestType.levelMembersQuery:g._processLevelMembersQueryResponse(E[k],D.__batchResponses[k].data);break;case f._requestType.reloadMeasuresQuery:g._processReloadMeasurePropertiesQueryResponse(E[k],D.__batchResponses[k].data);break;default:Q.sap.log.fatal("invalid request type "+E[k].iRequestType);continue;}}g._deregisterCompletedRequest(E[k].sRequestId);g._cleanupGroupingForCompletedRequest(E[k].sRequestId);}if(g.mParameters&&g.mParameters.numberOfExpandedLevels>0){if(I==D.__batchResponses.length){g.mLength["/"]=0;g.mFinalLength["/"]=true;}}var O=true;var J;g.fireDataReceived({data:D});var V={};if(g.iModelVersion===A.V1){J=g.oModel._getBatchErrors(D);if(J.length>0){O=false;V=g.oModel._handleError(J[0]);}g.oModel.fireRequestCompleted({url:z.requestUri,type:"POST",async:true,info:"",infoObject:{},success:O,errorobject:O?{}:V});if(O){g.oModel.checkUpdate();}}}function y(k){if(k&&k.statusText!="abort"){g._deregisterHandleOfCompletedRequest(w);for(var j=-1,z;(z=E[++j])!==undefined;){g._deregisterCompletedRequest(z.sRequestId);g._cleanupGroupingForCompletedRequest(z.sRequestId);}}if(e!=g.iAnalyticalInfoVersionNumber){return;}var V=k;if(g.iModelVersion===A.V1){V=g.oModel._handleError(k);}g.oModel.fireRequestCompleted({url:"",type:"POST",async:true,info:"",infoObject:{},success:false,errorobject:V});if(g.iModelVersion===A.V1){g.oModel.fireRequestFailed(V);}g.fireDataReceived();}};f.prototype._executeQueryRequest=function(r){if(r.iRequestType==f._requestType.groupMembersAutoExpansionQuery){for(var i=-1,o;(o=r.aGroupMembersAutoExpansionRequestDetails[++i])!==undefined;){this._executeQueryRequest(o);}return;}var e=this.iAnalyticalInfoVersionNumber;var g=r.oAnalyticalQueryRequest,G=r.sGroupId;var p=g.getURIToQueryResultEntitySet();var P=this._getQueryODataRequestOptions(g);if(!P){return;}var h=this;if(g.getURIQueryOptionValue("$select")==null){this.fireDataRequested({__simulateAsyncAnalyticalBinding:true});G=null;this.mServiceLength[G]=this.mLength[G]=1;this.mServiceFinalLength[G]=true;this._setServiceKey(this._getKeyIndexMapping(G,0),f._artificialRootContextGroupId);this.bNeedsUpdate=true;setTimeout(function(){if(h._cleanupGroupingForCompletedRequest(r.sRequestId)){h.fireDataReceived({__simulateAsyncAnalyticalBinding:true});}});this.bArtificalRootContext=true;return;}this._registerNewRequest(r.sRequestId);this.fireDataRequested();for(var j=0;j<P.length;j++){P[j]=P[j].replace(/\ /g,"%20");}Q.sap.log.debug("AnalyticalBinding: executing query request");var R=this._getIdForNewRequestHandle();if(this.iModelVersion===A.V1){this.oModel._loadData(p,P,s,E,false,u,l);}else{if(this.sCustomParams){P.push(this.sCustomParams);}var k=this.oModel.read(p,{success:s,error:E,context:this.oContext,urlParameters:P});h._registerNewRequestHandle(R,k);}function s(D){h._deregisterHandleOfCompletedRequest(R);if(e!=h.iAnalyticalInfoVersionNumber){h._deregisterCompletedRequest(r.sRequestId);return;}switch(r.iRequestType){case f._requestType.groupMembersQuery:h._processGroupMembersQueryResponse(r,D);break;case f._requestType.totalSizeQuery:h._processTotalSizeQueryResponse(r,D);break;case f._requestType.levelMembersQuery:h._processLevelMembersQueryResponse(r,D);break;case f._requestType.reloadMeasuresQuery:h._processReloadMeasurePropertiesQueryResponse(r,D);break;default:Q.sap.log.fatal("invalid request type "+r.iRequestType);break;}h._deregisterCompletedRequest(r.sRequestId);if(h.iModelVersion===A.V2){l(D);}}function l(D){if(e!=h.iAnalyticalInfoVersionNumber){return;}if(h._cleanupGroupingForCompletedRequest(r.sRequestId)){h.fireDataReceived({data:D});}}function E(m){if(m&&m.statusText=="abort"){h.fireDataReceived();return;}h._deregisterHandleOfCompletedRequest(R);h._deregisterCompletedRequest(r.sRequestId);h._cleanupGroupingForCompletedRequest(r.sRequestId);if(e!=h.iAnalyticalInfoVersionNumber){return;}h.fireDataReceived();}function u(k){h._registerNewRequestHandle(R,k);}};f.prototype._abortAllPendingRequests=function(){this._abortAllPendingRequestsByHandle();this._clearAllPendingRequests();};f.prototype._processGroupMembersQueryResponse=function(R,D){var G=R.sGroupId,s=R.aSelectedUnitPropertyName,e=R.aAggregationLevel,n=R.oKeyIndexMapping.iIndex,u=R.oKeyIndexMapping.iServiceKeyIndex,L=R.iLength,K=R.oKeyIndexMapping,v=G==null?0:this._getGroupIdLevel(G)+1;var U=(s.length>0);var P,w;var x;var y=0;var z;var E,H=[];var O=D.results.length;var I=this._getServiceKeys(G,K.iIndex-1);P=undefined;if(I&&I.length>0){for(var i=0,J=I.length;i<J;i++){D.results[i-J]=this.oModel.getObject("/"+I[i]);}var M=D.results[-I.length];P="";for(var j=0;j<e.length;j++){P+=M[e[j]]+"|";}}z=I&&I.length==1;for(var h=0;h<O;h++){var N=D.results[h];if(U){w="";for(var g=0;g<e.length;g++){w+=N[e[g]]+"|";}if(P==w){if(x===undefined){if(h==0){x=-I.length;K.iServiceKeyIndex-=I.length-1;}else{x=h-1;}}var V=-1,W=D.results[h-1];for(var k=0;k<s.length;k++){if(W[s[k]]!=N[s[k]]){V=k;break;}}if(V==-1){Q.sap.log.fatal("assertion failed: no deviating units found for result entries "+(h-1)+" and "+h,null,null,t(this,"NO_DEVIATING_UNITS"));}}if((P!=w||h==O-1)&&x!==undefined){var X=[];for(var l=x;l<h;l++){X.push(D.results[l]);}if(P==w){X.push(D.results[h]);}var Y=[];for(var m=0;m<s.length;m++){var Z=s[m];for(var o=1;o<X.length;o++){if(X[o-1][Z]!=X[o][Z]){Y.push(Z);break;}}}var $=this._createMultiUnitRepresentativeEntry(G,D.results[x],s,Y,R.bIsFlatListRequest);if($.aReloadMeasurePropertyName.length>0){E=this._prepareReloadMeasurePropertiesQueryRequest(f._requestType.reloadMeasuresQuery,R,$);if(E.oAnalyticalQueryRequest&&E.oAnalyticalQueryRequest.getURIQueryOptionValue("$select")!=null){H.push(E);}}var _=this._setAdjacentMultiUnitKeys(K,$,X);var a1;if($.bIsNewEntry){a1=X.length-1;}else{a1=_;}if(z){z=false;}if(a1<0){Q.sap.log.fatal("assertion failed: iDiscardedEntriesCount must be non-negative");}y+=a1;var b1=this.oModel._getKey($.oEntry);var c1=this.oModel.getContext('/'+b1);this._getGroupIdFromContext(c1,v);this.mEntityKey[e1]=b1;x=undefined;if(P!=w){z=this._setServiceKey(K,this.oModel._getKey(N));}}else if(P!=w){z=this._setServiceKey(K,this.oModel._getKey(N));}P=w;}else{this._setServiceKey(K,this.oModel._getKey(N));}if(!R.bIsLeafGroupsRequest){var d1=this._getKey(G,K.iIndex-1),e1=this._getGroupIdFromContext(this.oModel.getContext('/'+d1),v);this.mEntityKey[e1]=d1;}}var f1=[];if(this.bReloadSingleUnitMeasures&&H.length>0){if(this.bUseBatchRequests){this.aBatchRequestQueue.push([f._requestType.reloadMeasuresQuery,H]);Promise.resolve().then(f.prototype._processRequestQueue.bind(this));}else{for(var q=0;q<H.length;q++){var g1=H[q];this._executeQueryRequest(g1);}}for(var p=0;p<H.length;p++){var h1=H[p];f1.push(h1.sRequestId);}this._considerRequestGrouping(f1);}if(I&&I.length>0){for(var r=0,i1=I.length;r<i1;r++){delete D.results[r-i1];}}if(U){y+=this._mergeLoadedKeyIndexWithSubsequentIndexes(K,e,s,R.bIsFlatListRequest);}if(!R.bAvoidLengthUpdate){var j1=false;if(D.__count){this.mServiceLength[G]=parseInt(D.__count,10);this.mLength[G]=this.mServiceLength[G]-y;this.mFinalLength[G]=true;if(R.bIsFlatListRequest){this.iTotalSize=D.__count;}j1=true;}if(this.mServiceLength[G]<u+O){this.mServiceLength[G]=u+O;this.mLength[G]=n+O-y;this.mFinalLength[G]=false;}if(O<L||L===undefined){this.mServiceLength[G]=u+O;this.mLength[G]=n+K.iIndex-n;this.mFinalLength[G]=true;j1=true;}if(O==0){this.mLength[G]=this.mServiceLength[G]=0;this.mFinalLength[G]=true;j1=true;}if(!j1&&this.mLength[G]!==undefined&&y>0){this.mLength[G]-=y;}}this.bNeedsUpdate=true;if(y>0){if(D.results.length-y>0){this.aMultiUnitLoadFactor[e.length]=D.results.length/(D.results.length-y);}if(this.aMultiUnitLoadFactor[e.length]<1.5){this.aMultiUnitLoadFactor[e.length]=2;}}Q.sap.log.info("MultiUnit Situation in Group ("+G+"), discarded: "+y+", load-factor is now: "+this.aMultiUnitLoadFactor[e.length]);};f.prototype._processTotalSizeQueryResponse=function(r,D){if(D.__count==undefined){Q.sap.log.fatal("missing entity count in query result");return;}this.iTotalSize=D.__count;};f.prototype._processLevelMembersQueryResponse=function(r,D){var e=this;var p,P;var g=function(h,I){var G={iRequestType:f._requestType.groupMembersQuery,sRequestId:e._getRequestId(f._requestType.groupMembersQuery,{groupId:p}),oAnalyticalQueryRequest:r.oAnalyticalQueryRequest,sGroupId:p,aSelectedUnitPropertyName:r.aSelectedUnitPropertyName,aAggregationLevel:r.aAggregationLevel,bIsFlatListRequest:r.bIsFlatListRequest,bIsLeafGroupsRequest:r.bIsLeafGroupsRequest,iStartIndex:h?r.iStartIndex:0,iLength:r.iLength,bAvoidLengthUpdate:r.bAvoidLengthUpdate};if(h&&r.iStartIndex>0&&(r.sGroupId_Missing_AtLevel!=G.sGroupId||e._getKeys(G.sGroupId)===undefined)){var s=e._getParentGroupId(G.sGroupId);var j=e._findKeyIndex(s,e.mEntityKey[G.sGroupId]);if(j==-1){Q.sap.log.fatal("assertion failed: failed to determine position of "+G.sGroupId+" in group "+s);}if(j>0&&e._getKey(s,j-1)!==undefined){var k=e._getKey(s,j-1);var l=e._getGroupIdFromContext(e.oModel.getContext('/'+k),e._getGroupIdLevel(G.sGroupId));e.mFinalLength[l]=true;G.iStartIndex=0;}}if(I){G.iLength=P.length;}G.oKeyIndexMapping=e._getKeyIndexMapping(G.sGroupId,G.iStartIndex);var m=Q.extend(true,{},D);m.results=P;e._processGroupMembersQueryResponse(G,m);};if(D.results.length==0){return;}p=this._getGroupIdFromContext(this.oModel.getContext("/"+this.oModel._getKey(D.results[0])),r.iLevel-1);P=[];var h=true;for(var i=0;i<D.results.length;i++){var E=D.results[i];var o=this.oModel.getContext("/"+this.oModel._getKey(D.results[i]));var s=this._getGroupIdFromContext(o,r.iLevel-1);if(p==s){P.push(E);if(i<D.results.length-1){continue;}}g(h,D.results.length==r.iLength&&i==D.results.length-1);h=false;if(p!=s){P=[E];}p=s;}if(D.results.length>1&&P.length==1){g(h,D.results.length==r.iLength);}};f.prototype._processReloadMeasurePropertiesQueryResponse=function(r,D){var m=r.oMultiUnitRepresentative;var M=this.oModel.getKey(m.oEntry);if(D.results.length!=1){Q.sap.log.fatal("assertion failed: more than one entity for reloaded measure properties of entity with key "+M);return;}var R=D.results[0];var o=this.oModel.getObject("/"+M);if(!o){Q.sap.log.fatal("assertion failed: no entity found with key "+M);return;}var e=m.aReloadMeasurePropertyName;for(var i=0;i<e.length;i++){o[e[i]]=R[e[i]];}};f.prototype._getLoadedContextsForGroup=function(g,s,l,e){var h=[],o,k=this._getKeys(g),K;if(!k){return h;}if(!s){s=0;}if(!l){l=this.oModel.iSizeLimit;if(this.mFinalLength[g]){l=this.mLength[g];}}if(e){i=s||0;K=k(i);while(K){o=this.oModel.getContext('/'+K);h.push(o);i++;K=k(i);}return h;}for(var i=s;i<s+l;i++){K=k(i);if(!K){break;}o=this.oModel.getContext('/'+K);h.push(o);}return h;};f.prototype._calculateRequiredGroupSection=function(g,s,l,e,h){var k,m,p,P,r,o={},K=this._getKeys(g),n;m=s;k=0;if(!K){P=s;p=s+l;}else{for(var i=s-1;i>=Math.max(s-e,0);i--){n=K(i);if(!n){P=i+1;break;}}for(var j=s+l;j<s+l+e;j++){n=K(j);if(!n){p=j;break;}}}r=s-P;if(P&&s>e&&r<e){if(h.length!==l){m=s-e;}else{m=P-e;}k=e;}m=Math.max(m,0);if(m===s){m+=h.length;}if(h.length!==l){k+=l-h.length;}r=p-s-l;if(r==0){k+=e;}if(p&&r<e&&r>0){if(m>s){m=p;k+=e;}}if(this.mFinalLength[g]&&this.mLength[g]<(k+m)){k=this.mLength[g]-m;}o.startIndex=m;o.length=k;return o;};f.prototype._calculateRequiredGroupExpansion=function(g,e,s,l){var n={groupId_Missing:null,length_Missing:0};var h=this;var j=function(g,e,s,l){var L=h._getGroupIdLevel(g);if(L==e){var u=h._getLoadedContextsForGroup(g,s,l);var v=s+u.length-1;if(u.length>=l){return n;}else if(h.mFinalLength[g]){if(u.length>=h.mLength[g]){return{groupId_Missing:null,length_Missing:l-u.length};}else{return{groupId_Missing:g,startIndex_Missing:v+1,length_Missing:l-u.length};}}else{return{groupId_Missing:g,startIndex_Missing:v+1,length_Missing:l-u.length};}}var w=h._getLoadedContextsForGroup(g,s,l);var k=l,x=s+w.length-1;for(var i=-1,y;(y=w[++i])!==undefined;){k--;var G=j(h._getGroupIdFromContext(y,L+1),e,0,k);if(G.groupId_Missing==null){if(G.length_Missing==0){return G;}else{k=G.length_Missing;}}else{return G;}if(k==0){break;}}if(h.mFinalLength[g]||k==0){return{groupId_Missing:null,length_Missing:k};}else{return{groupId_Missing:g,startIndex_Missing:x+1,length_Missing:k};}};var L=this._getGroupIdLevel(g);if(L==e+1){g=this._getParentGroupId(g);--L;}if(g==null||L>e){return n;}var k=l,m=s;while(g!=null){var G=j(g,e,m,k);if(G.groupId_Missing!=null){return G;}else if(G.length_Missing==0){return G;}else{var o=false;while(!o){var p=this._getParentGroupId(g);if(p==null){g=p;--L;break;}var q=this.mEntityKey[g];if(!q){return n;}var r=this._findKeyIndex(p,q);if(r==-1){return n;}if(r==this._getKeyCount(p)-1){if(this.mFinalLength[p]){g=p;--L;continue;}else{return{groupId_Missing:p,startIndex_Missing:r+1,length_Missing:k};}}else{q=this._getKey(p,r+1);g=this._getGroupIdFromContext(this.oModel.getContext('/'+q),L);o=true;}}m=0;k=G.length_Missing;}}return{groupId_Missing:null,length_Missing:k};};f.prototype._getResourcePath=function(){return this.isRelative()?this.oModel.resolve(this.sPath,this.getContext()):this.sPath;};f.prototype._getEntitySet=function(){var e=this.sEntitySetName;if(!e){e=this.sPath.split("/")[1];if(e.indexOf("(")!=-1){e=e.split("(")[0]+"Results";}}return e;};f.prototype._getEffectiveSortOrder=function(p){for(var i=0;i<this.aSorter.length;i++){if(this.aSorter[i]&&this.aSorter[i].sPath==p){return this.aSorter[i].bDescending?d.SortOrder.Descending:d.SortOrder.Ascending;}}return null;};f.prototype._getFilterOperatorMatchingPropertySortOrder=function(p,w){var s;switch(this._getEffectiveSortOrder(p)){case d.SortOrder.Ascending:if(w){s=a.GE;}else{s=a.GT;}break;case d.SortOrder.Descending:if(w){s=a.LE;}else{s=a.LT;}break;default:s=a.GT;}return s;};f.prototype._convertDeprecatedFilterObjects=function(e){if(!e){return e;}var O=sap.ui.require("sap/ui/model/odata/Filter");if(typeof O==='function'){for(var i=0,l=e.length;i<l;i++){if(e[i]instanceof O){e[i]=e[i].convert();}}}return e;};f.prototype._getGroupIdFromContext=function(o,l){if(!o){return null;}var g="/";var D=null;if(l>this.aAggregationLevel.length){Q.sap.log.fatal("assertion failed: aggregation level deeper than number of current aggregation levels");}for(var i=0;i<l;i++){D=o.getProperty(this.aAggregationLevel[i]);if(D!=null){g+=encodeURIComponent(D)+"/";}else{g+="@/";}}return g;};f.prototype._getGroupIdLevel=function(g){if(g==null){Q.sap.log.fatal("assertion failed: no need to determine level of group ID = null");return-1;}return g.split("/").length-2;};f.prototype._getGroupIdComponents=function(g){if(g==null){return null;}var G=g.split("/");var D=[];for(var i=1;i<G.length-1;i++){if(G[i]=="@"){D[i-1]=null;}else{D[i-1]=decodeURIComponent(G[i]);}}return D;};f.prototype._getGroupIdAncestors=function(g,n){if(!n){return[];}if(g==null){Q.sap.log.fatal("group ID null does not have ancestors");return[];}if(g=="/"){if(Math.abs(n)==1){return[null];}else{Q.sap.log.fatal("invalid level count "+n+" for ancestors of groupId "+g);return[];}}var G=g.split("/");var e=[],s="";var h=0,k=G.length-3;if(n>0){if(n-1>k){Q.sap.log.fatal("invalid level count "+n+" for ancestors of groupId "+g);}else{k=n-1;}}else if(-(n+1)>k){Q.sap.log.fatal("invalid level count "+n+" for ancestors of groupId "+g);}else{h=k+1+n;for(var i=0;i<h;i++){s+=G[i]+"/";}}for(var j=h;j<=k;j++){s+=G[j]+"/";e.push(s);}return e;};f.prototype._getParentGroupId=function(g){return this._getGroupIdAncestors(g,-1)[0];};f.prototype._removeDuplicatesFromStringArray=function(e){var o={};for(var i=0;i<e.length;i++){o[e[i]]=true;}var u=[];for(var s in o){u.push(s);}return u;};f.prototype._getIdForNewRequestHandle=function(){if(this.oPendingRequestHandle===undefined){this.oPendingRequestHandle=[];}for(var i=0;i<this.oPendingRequestHandle.length;i++){if(this.oPendingRequestHandle[i]===undefined){return i;}}this.oPendingRequestHandle[this.oPendingRequestHandle.length]=undefined;return this.oPendingRequestHandle.length-1;};f.prototype._registerNewRequestHandle=function(r,R){if(this.oPendingRequestHandle[r]!==undefined){Q.sap.log.fatal("request handle ID already in use");}this.oPendingRequestHandle[r]=R;};f.prototype._deregisterHandleOfCompletedRequest=function(r){if(Q.isEmptyObject(this.oPendingRequestHandle)){Q.sap.log.warning("No request handles to be cleared. Previous abort/resetData?");return;}if(this.oPendingRequestHandle[r]===undefined){Q.sap.log.fatal("no handle found for this request ID");}this.oPendingRequestHandle[r]=undefined;};f.prototype._abortAllPendingRequestsByHandle=function(){for(var i=0;i<this.oPendingRequestHandle.length;i++){if(this.oPendingRequestHandle[i]){if(this.oPendingRequestHandle[i]!==undefined){this.oPendingRequestHandle[i].abort();}}}this.oPendingRequestHandle=[];};f.prototype._getRequestId=function(r,p){switch(r){case f._requestType.groupMembersQuery:if(p.groupId===undefined){Q.sap.log.fatal("missing group ID");}return f._requestType.groupMembersQuery+(p.groupId==null?"":p.groupId);case f._requestType.levelMembersQuery:if(p.level===undefined){Q.sap.log.fatal("missing level");}if(p.groupId===undefined){Q.sap.log.fatal("missing groupId");}return""+f._requestType.levelMembersQuery+p.level+(p.tupleIndex?"-"+p.tupleIndex:"");case f._requestType.totalSizeQuery:return f._requestType.totalSizeQuery;case f._requestType.reloadMeasuresQuery:if(!p.multiUnitEntryKey){Q.sap.log.fatal("missing multi unit entry key");}return f._requestType.reloadMeasuresQuery+p.multiUnitEntryKey;default:Q.sap.log.fatal("invalid request type "+r);return-1;}};f.prototype._registerNewRequest=function(r){if(r==undefined||r==""){Q.sap.log.fatal("missing request ID");return;}if(!this.oPendingRequests[r]){this.oPendingRequests[r]=1;}else{++this.oPendingRequests[r];}};f.prototype._considerRequestGrouping=function(r){for(var i=-1,R;(R=r[++i])!==undefined;){if(this.oGroupedRequests[R]===undefined){this.oGroupedRequests[R]={};}var g=this.oGroupedRequests[R];for(var j=0;j<r.length;j++){g[r[j]]=true;}}};f.prototype._isRequestPending=function(r){return this.oPendingRequests[r]!=undefined&&this.oPendingRequests[r]>0;};f.prototype._deregisterCompletedRequest=function(r){if(Q.isEmptyObject(this.oPendingRequests)){Q.sap.log.warning("There are no pending requests which could be set to 'completed'.");return;}if(!this.oPendingRequests[r]){Q.sap.log.fatal("assertion failed: there is no pending request ID "+r);}if(this.oPendingRequests[r]==1){delete this.oPendingRequests[r];}else{--this.oPendingRequests[r];}};f.prototype._cleanupGroupingForCompletedRequest=function(r){if(this._isRequestPending(r)){return false;}var g=true;if(this.oGroupedRequests[r]!=undefined){for(var o in this.oGroupedRequests[r]){if(this.oPendingRequests[o]){g=false;break;}}}if(g){var R=this.oGroupedRequests[r];delete this.oGroupedRequests[r];for(var O in R){if(O!=r){this._cleanupGroupingForCompletedRequest(O);}}}return g;};f.prototype._getKeyIndexMapping=function(g,s){var k=this.mKeyIndex[g];var e=this.mServiceKey[g];var i=s;if(k!==undefined){var l=s;if(l>0){while(--l>0){if(k[l]!==undefined){break;}}}var L;if(l==0){L=0;}else{if(k[l]>=0){L=k[l];}else if(k[l+1]===undefined){L=k[l]=="ZERO"?0:-k[l];while(e[L+1]!==undefined){++L;}}else{L=Math.abs(k[l+1])-1;}if(e[L]===undefined){Q.sap.log.fatal("assertion failed: no service key at iLastOccupiedServiceKeyIndex = "+L);}}var D=s-l;i=L+D;}var K={sGroupId:g,iIndex:s,iServiceKeyIndex:i};return K;};f.prototype._moveKeyIndexMapping=function(k,i){return this._getKeyIndexMapping(k.sGroupId,k.iIndex+i);};f.prototype._getKey=function(g,i){var s=this.mKeyIndex[g][i];if(s===undefined){return undefined;}if(s>=0){return this.mServiceKey[g][s];}if(this.mMultiUnitKey[g]===undefined){Q.sap.log.fatal("assertion failed: missing expected multi currency key for group with ID "+g);return null;}var k=this.mMultiUnitKey[g][i];if(k===undefined){Q.sap.log.fatal("assertion failed: missing expected multi currency key for group with ID "+g+" at pos "+i);return null;}return k;};f.prototype._getKeys=function(g){if(this.mKeyIndex[g]===undefined){return undefined;}var e=this;return function(i){return e._getKey(g,i);};};f.prototype._getServiceKeys=function(g,I){var k=this.mKeyIndex[g];if(k===undefined){return undefined;}var s=this.mServiceKey[g],e=k[I];if(e===undefined){return undefined;}if(e>=0){return[s[e]];}var G=[];if(k[I+1]===undefined){e=k[I]=="ZERO"?0:-k[I];while(s[e]!==undefined){G.push(s[e++]);}}else{e=k[I]=="ZERO"?0:-k[I];for(var i=e,n=Math.abs(k[I+1]);i<n;i++){G.push(s[i]);}}return G;};f.prototype._getKeyCount=function(g){if(this.mKeyIndex[g]===undefined){return undefined;}return this.mKeyIndex[g].length;};f.prototype._findKeyIndex=function(g,k){var K=this.mKeyIndex[g];var s=this.mServiceKey[g];var m=this.mMultiUnitKey[g];for(var i=0;i<this.mLength[g];i++){if(K[i]<0){if(m[i]==k){return i;}}else if(s[K[i]]==k){return i;}}return-1;};f.prototype._setServiceKey=function(k,s){if(!this.mServiceKey[k.sGroupId]){this.mServiceKey[k.sGroupId]=[];}if(!this.mKeyIndex[k.sGroupId]){this.mKeyIndex[k.sGroupId]=[];}var n=this.mServiceKey[k.sGroupId][k.iServiceKeyIndex]===undefined;this.mServiceKey[k.sGroupId][k.iServiceKeyIndex++]=s;this.mKeyIndex[k.sGroupId][k.iIndex++]=k.iServiceKeyIndex-1;return n;};f.prototype._setAdjacentMultiUnitKeys=function(k,m,M){if(!this.mServiceKey[k.sGroupId]){this.mServiceKey[k.sGroupId]=[];}if(!this.mKeyIndex[k.sGroupId]){this.mKeyIndex[k.sGroupId]=[];}if(!this.mMultiUnitKey[k.sGroupId]){this.mMultiUnitKey[k.sGroupId]=[];}--k.iIndex;--k.iServiceKeyIndex;this.mMultiUnitKey[k.sGroupId][k.iIndex]=this.oModel._getKey(m.oEntry);this.mKeyIndex[k.sGroupId][k.iIndex++]=k.iServiceKeyIndex>0?-k.iServiceKeyIndex:"ZERO";var n=0;for(var i=0;i<M.length;i++){if(!this.mServiceKey[k.sGroupId][k.iServiceKeyIndex]){++n;}this.mServiceKey[k.sGroupId][k.iServiceKeyIndex++]=this.oModel._getKey(M[i]);}return n;};f.prototype._mergeLoadedKeyIndexWithSubsequentIndexes=function(k,e,s,I){var K=this.mKeyIndex[k.sGroupId],g=this.mServiceKey[k.sGroupId],m=this.mMultiUnitKey[k.sGroupId],D=0,n=k.iServiceKeyIndex,h=k.iIndex;var M,o;if(K===undefined){return D;}var N=false;var p=g[n-1],j=g[n];if(j===undefined){return D;}if(p===undefined){Q.sap.log.fatal("assertion failed: missing expected entry before given key index");return D;}var P=this.oModel.getObject("/"+p);var l=this.oModel.getObject("/"+j);var q="",r="";for(var i=0;i<e.length;i++){q+=P[e[i]]+"|";r+=l[e[i]]+"|";}N=q==r;var u=h;if(u>=this.mLength[k.sGroupId]){Q.sap.log.fatal("assertion failed: service key exists,but no corresponding key index found");return D;}while(K[u]===undefined||Math.abs(K[u])<n){++u;}if(N){if(Math.abs(K[u])==n&&K[u]<0){if(u>h){if(K[h-1]<0){m[u]=undefined;K.splice(h,u-h+1);m.splice(h,u-h+1);}else{K[h-1]=-K[h-1];m[h-1]=m[u];m[u]=undefined;K.splice(h,u-h+1);m.splice(h,u-h+1);D=1;}}}else if(Math.abs(K[u])>n){var v=u-1;if(K[v]>0){M=this._createMultiUnitRepresentativeEntry(k.sGroupId,P,s,undefined,I);o=this.oModel._getKey(M.oEntry);K[v]=-K[v];m[v]=o;if(v>h){K.splice(h,v-h);m.splice(h,v-h);}if(M.bIsNewEntry){D=1;}else{D=0;}}else if(K[h-1]<0){if(u>h){m[v]=undefined;K.splice(h,v-h+1);m.splice(h,v-h+1);}}else{K[h-1]=-K[h-1];m[h-1]=m[v];m[v]=undefined;K.splice(h,v-h+1);m.splice(h,v-h+1);}}else if(K[u]==n){if(u>h){if(K[h-1]<0){K.splice(h,u-h+1);m.splice(h,u-h+1);D=1;}else{M=this._createMultiUnitRepresentativeEntry(k.sGroupId,P,s,undefined,I);o=this.oModel._getKey(M.oEntry);if(!M.bIsNewEntry){Q.sap.log.fatal("assertion failed: multi-unit entry already existed before");}K[h-1]=-K[h-1];m[h-1]=o;K.splice(h,u-h+1);m.splice(h,u-h+1);D=1;}}}else{Q.sap.log.fatal("assertion failed: uncovered case detected");return D;}}else if(K[u]>n){Q.sap.log.fatal("unstable query result for group ID "+k.sGroupId+": entries have been removed or added. Complete reload required");}else if(u-h>0){K.splice(h,u-h);m.splice(h,u-h);}return D;};f.prototype._createMultiUnitRepresentativeEntry=function(g,r,s,D,i){var m=Q.extend(true,{},r);var R=[];for(var M in this.oMeasureDetailsSet){var o=this.oMeasureDetailsSet[M];if(!i&&!this.mAnalyticalInfoByProperty[M].total){if(o.rawValuePropertyName!=undefined){m[o.rawValuePropertyName]=undefined;}if(o.formattedValuePropertyName!=undefined){m[o.formattedValuePropertyName]=undefined;}}else{if(o.rawValuePropertyName!=undefined){m[o.rawValuePropertyName]=null;}if(o.formattedValuePropertyName!=undefined){m[o.formattedValuePropertyName]="*";}}if(D){if(!o.unitPropertyName||Q.inArray(o.unitPropertyName,D)==-1){R.push(o.rawValuePropertyName);}}}for(var k=0;k<s.length;k++){if(Q.inArray(s[k],D)!=-1){m[s[k]]="*";}}var e="";for(var l=0;l<this.aAllDimensionSortedByName.length;l++){var h=m[this.aAllDimensionSortedByName[l]];var j=h===""?'""':h;j=j===undefined?"":j;e+=(j+",");}e+="-multiple-units-not-dereferencable";var n;if(this.mMultiUnitKey[g]&&(n=Q.inArray(e,this.mMultiUnitKey[g]))!=-1){return{oEntry:this.oModel.getObject("/"+e),bIsNewEntry:false,iIndex:n,aReloadMeasurePropertyName:R};}m.__metadata.uri=e;delete m.__metadata["self"];delete m.__metadata["self_link_extensions"];m["^~volatile"]=true;this.oModel._importData(m,{});var p=this.oModel._getKey(m);this.oModel.getContext('/'+p)["_volatile"]=true;return{oEntry:m,bIsNewEntry:true,aReloadMeasurePropertyName:R};};f.prototype._clearAllPendingRequests=function(){this.oPendingRequests={};this.oGroupedRequests={};};f.prototype.resetData=function(o){var g=o?o.getPath():undefined;this._resetData(g);};f.prototype._resetData=function(g){if(g){delete this.mServiceKey[g];delete this.mServiceLength[g];delete this.mServiceFinalLength[g];delete this.mKeyIndex[g];delete this.mLength[g];delete this.mMultiUnitKey[g];delete this.mEntityKey[g];}else{this.mServiceKey={};this.mServiceLength={};this.mServiceFinalLength={};this.mFinalLength=this.mServiceFinalLength;this.mKeyIndex={};this.mLength={};this.mMultiUnitKey={};this.mEntityKey={};}};f.prototype.refresh=function(e){f.prototype._refresh.apply(this,arguments);};f.prototype._refresh=function(e,m,E){var g=false;if(!e){if(E){var r=this.oModel.resolve(this.sPath,this.oContext);var o=this.oModel.oMetadata._getEntityTypeByPath(r);if(o&&(o.entityType in E)){g=true;}}if(m&&!g){Q.each(this.mServiceKey,function(i,n){Q.each(n,function(i,k){if(k in m){g=true;return false;}});if(g){return false;}});}if(!m&&!E){g=true;}}if(e||g){this._abortAllPendingRequests();this.resetData();this.bNeedsUpdate=false;this._fireRefresh({reason:C.Refresh});}};f.prototype.checkUpdate=function(e,m){var g=false;if(!e){if(this.bNeedsUpdate||!m){g=true;}else{Q.each(this.mServiceKey,function(i,n){Q.each(n,function(i,k){if(k in m){g=true;return false;}});if(g){return false;}});}}if(e||g){this.bNeedsUpdate=false;this._fireChange({reason:C.Change});}};f.prototype.getDownloadUrl=function(s){var o=new d.QueryResultRequest(this.oAnalyticalQueryResult);o.setResourcePath(this._getResourcePath());var e=[];var g=[];for(var D in this.oDimensionDetailsSet){e.push(D);}o.setAggregationLevel(e);for(var h in this.oDimensionDetailsSet){var n=this.oDimensionDetailsSet[h];var I=(n.textPropertyName!=undefined);o.includeDimensionKeyTextAttributes(n.name,true,I,n.aAttributeName);}for(var M in this.oMeasureDetailsSet){g.push(M);}o.setMeasures(g);for(var p in this.oMeasureDetailsSet){var q=this.oMeasureDetailsSet[p];var r=(q.rawValuePropertyName!=undefined);var u=(q.formattedValuePropertyName!=undefined);var v=(q.unitPropertyName!=undefined);o.includeMeasureRawFormattedValueUnit(q.name,r,u,v);}var w=o.getSortExpression();w.clear();for(var i=0;i<this.aSorter.length;i++){if(this.aSorter[i]){w.addSorter(this.aSorter[i].sPath,this.aSorter[i].bDescending?d.SortOrder.Descending:d.SortOrder.Ascending);}}var x=o.getFilterExpression();x.clear();if(this.aApplicationFilter){x.addUI5FilterConditions(this.aApplicationFilter);}if(this.aControlFilter){x.addUI5FilterConditions(this.aControlFilter);}var P=o.getURIToQueryResultEntitySet();var y=this._getQueryODataRequestOptions(o);if(!y){return undefined;}var E=[];for(var k=0,m=this.aAnalyticalInfo.length;k<m;k++){var z=this.aAnalyticalInfo[k];if((z.visible||z.inResult)&&z.name!==""){E.push(z.name);if(this.oMeasureDetailsSet[z.name]!=undefined&&this.oMeasureDetailsSet[z.name].unitPropertyName!=undefined){E.push(this.oMeasureDetailsSet[z.name].unitPropertyName);}}}for(var j=0,l=y.length;j<l;j++){if(/^\$select/i.test(y[j])){y[j]="$select="+E.join(",");break;}}if(s){y.splice(0,0,"$format="+encodeURIComponent(s));}if(this.sCustomParams){y.push(this.sCustomParams);}if(P){return this.oModel._createRequestUrl(P,null,y);}};return f;});
sap.ui.predefine('sap/ui/model/analytics/AnalyticalTreeBindingAdapter',['jquery.sap.global','sap/ui/model/TreeBinding','./AnalyticalBinding','sap/ui/model/TreeAutoExpandMode','sap/ui/model/ChangeReason','sap/ui/model/odata/ODataTreeBindingAdapter','sap/ui/model/TreeBindingAdapter','sap/ui/model/TreeBindingUtils'],function(q,T,A,a,C,O,b,c){"use strict";var d=function(){if(!(this instanceof T)||this._bIsAdapted){return;}O.apply(this);for(var f in d.prototype){if(d.prototype.hasOwnProperty(f)){this[f]=d.prototype[f];}}this.setAutoExpandMode(this.mParameters.autoExpandMode||a.Bundled);};d.prototype.getGrandTotalContext=function(){if(this._oRootNode){return this._oRootNode.context;}};d.prototype.getGrandTotalNode=function(){if(this._oRootNode){return this._oRootNode;}};d.prototype.getGrandTotalContextInfo=function(){return this._oRootNode;};d.prototype.getLength=function(){if(!this._oRootNode){return 0;}if(this._oRootNode&&this._oWatermark&&this._isRunningInAutoExpand(a.Bundled)){if(this._oWatermark.groupID===this._oRootNode.groupID){return this._oRootNode.magnitude+this._oRootNode.numberOfTotals;}return this._oWatermark.absoluteNodeIndex+this._oRootNode.numberOfTotals+1;}return this._oRootNode.magnitude+this._oRootNode.numberOfTotals;};d.prototype.getContextByIndex=function(i){if(this._oRootNode&&i===(this.getLength()-1)&&this.providesGrandTotal()&&this.hasTotaledMeasures()){return this._oRootNode.context;}var n=this.findNode(i);if(!n||!n.context){n={context:this.getContexts(i,1,0)[0]};}return n?n.context:undefined;};d.prototype.getNodeByIndex=function(i){if(i===(this.getLength()-1)&&this.providesGrandTotal()&&this.hasTotaledMeasures()){return this._oRootNode;}if(i>=this.getLength()){return undefined;}return this.findNode(i);};d.prototype._isNodeSelectable=function(n){if(!n){return false;}return n.isLeaf&&!n.isArtificial;};d.prototype.getContexts=function(s,l,t,r){if(!l){l=this.oModel.iSizeLimit;}if(!t){t=0;}this._iPageSize=l;this._iThreshold=Math.max(this._iThreshold,t);this._aRowIndexMap=[];this._buildTree(s,l);var n=[];if(this._oRootNode){n=this._retrieveNodeSection(this._oRootNode,s,l);}this._updateRowIndexMap(n,s);var e=[];var m;for(var i=0;i<n.length;i++){var N=n[i];if(this._isRunningInAutoExpand(a.Bundled)&&this._oWatermark){if(N.groupID===this._oWatermark.groupID||(this._oWatermark.groupID===this._oRootNode.groupID&&(s+i+1)==this.getLength()-1)){this._autoExpandPaging();}}if(!N.context){m=m||{};var p=N.parent;m[p.groupID]=p;this._updateNodeSections(p.groupID,{startIndex:N.positionInParent,length:1});}e.push(N.context);}if(m){var f=this;q.each(m,function(g,N){N.magnitude=0;N.numberOfTotals=0;f._loadChildContexts(N,{absoluteNodeIndex:N.absoluteNodeIndex});});e=[];for(var j=0;j<n.length;j++){var N=n[j];e.push(N.context);}}if(r){return n;}else{return e;}};d.prototype._autoExpandPaging=function(){var e=this.getNodeContexts(this._oWatermark.context,{startIndex:this._oWatermark.startIndex,length:this._iPageSize,threshold:this._iThreshold,level:this._oWatermark.level,numberOfExpandedLevels:this._oWatermark.autoExpand});return e;};d.prototype._afterMatchHook=function(n,r,m,M,p,P){if(n.sumNode&&n!==this._oRootNode){if(r.length===m){return true;}var N=M.call(this,n.sumNode,n.sumNode.positionInParent,P);if(N){r.push(n.sumNode);}}};d.prototype._afterMapHook=function(n,m){if(n.sumNode&&n!==this._oRootNode){m.call(this,n.sumNode);}};d.prototype._createSumNode=function(n){var s;if(this.bProvideGrandTotals&&!this.mParameters.sumOnTop&&this.hasTotaledMeasures()&&n.children.length>1){s=this._createNode({parent:n.parent,positionInParent:n.children.length,context:n.context,level:n.level});s.nodeState=this._createNodeState({groupID:s.groupID,sum:true,expanded:false});}return s;};d.prototype._buildTree=function(s,l){this._oRootNode=undefined;this._oWatermark=undefined;var n=this.mParameters&&this.getNumberOfExpandedLevels();var r=this.getRootContexts({startIndex:0,length:this._iPageSize,threshold:this._iThreshold,numberOfExpandedLevels:this._autoExpandMode===a.Bundled?n:undefined});var R;if(r==null){q.sap.log.warning("AnalyticalTreeBindingAdapter: No Dimensions given. An artificial rootContext has be created. Please check your Table/Service definition for dimension columns!");}else{R=r[0];}if(!R){return;}var o=this._getNodeState("/");if(!o){o=this._updateTreeState({groupID:"/",expanded:true,sum:true});this._updateNodeSections("/",{startIndex:0,length:l});}this._oRootNode=this._createNode({context:R,parent:null,level:0,nodeState:o,isLeaf:false,autoExpand:n,absoluteNodeIndex:-1});this._oRootNode.isArtificial=true;this._loadChildContexts(this._oRootNode,{absoluteNodeIndex:-1});};d.prototype._loadChildContexts=function(n,r){var N=n.nodeState;var m=this.getGroupSize(n.context,n.level);if(m>=0){if(!n.children[m-1]){n.children[m-1]=undefined;}if(n.level===this.aAggregationLevel.length){N.leafCount=m;}n.sumNode=this._createSumNode(n);}for(var i=0;i<N.sections.length;i++){var o=N.sections[i];if(o.startIndex>n.children.length){continue;}var R;if(m===-1){R=o.length;}else{R=Math.min(o.length,m-o.startIndex);}var s=false;if(n.autoExpand>=0&&this._isRunningInAutoExpand(a.Bundled)){s=true;R=Math.max(0,m);}var e=this.getNodeContexts(n.context,{startIndex:o.startIndex,length:R,threshold:s?0:this._iThreshold,level:n.level,supressRequest:s});for(var j=0;j<e.length;j++){var f=e[j];var g=j+o.startIndex;var h=n.children[g];var u={context:e[j],parent:n,level:n.level+1,positionInParent:g,autoExpand:Math.max(n.autoExpand-1,-1),absoluteNodeIndex:(++r.absoluteNodeIndex)};if(h){h.context=u.context;h.parent=u.parent;h.level=u.level;h.positionInParent=u.positionInParent;h.magnitude=0;h.numberOfTotals=0;h.totalNumberOfLeafs=0;h.autoExpand=u.autoExpand;h.absoluteNodeIndex=u.absoluteNodeIndex;var G;if(f){G=this._calculateGroupID(h);}h.groupID=G;}else{h=this._createNode(u);}h.nodeState=this._getNodeState(h.groupID);if(!h.nodeState){h.nodeState=this._createNodeState({groupID:h.groupID,expanded:false});}h.nodeState.parentGroupID=n.groupID;h.isLeaf=!this.nodeHasChildren(h);n.children[g]=h;if(h.isLeaf){n.numberOfLeafs+=1;}if(h.parent.nodeState.selectAllMode&&!this._mTreeState.deselected[h.groupID]&&h.isLeaf){this.setNodeSelection(h.nodeState,true);}if((h.autoExpand>=0||h.nodeState.expanded)&&this.isGrouped()){if(!this._mTreeState.collapsed[h.groupID]){if(h.autoExpand>=0&&h.parent.nodeState.selectAllMode&&!this._mTreeState.deselected[h.groupID]){if(h.nodeState.selectAllMode===undefined){h.nodeState.selectAllMode=true;}}this._updateTreeState({groupID:h.nodeState.groupID,fallbackNodeState:h.nodeState,expanded:true});this._loadChildContexts(h,r);}n.magnitude+=h.magnitude;n.numberOfTotals+=h.numberOfTotals;n.numberOfLeafs+=h.numberOfLeafs;}if(h&&h.isLeaf){n.totalNumberOfLeafs=m;}else{n.totalNumberOfLeafs+=h.totalNumberOfLeafs;}}}m=this._isRunningInAutoExpand(a.Bundled)?n.children.length:m;n.magnitude+=Math.max(m||0,0);if(!m&&!this._isRunningInAutoExpand(a.Bundled)){q.sap.log.warning("AnalyticalTreeBindingAdapter: iMaxGroupSize("+m+") is undefined for node '"+n.groupID+"'!");}if(n.sumNode||(n===this._oRootNode&&this.providesGrandTotal()&&this.hasTotaledMeasures())){n.numberOfTotals+=1;}if(this._isRunningInAutoExpand(a.Bundled)&&n.autoExpand!=-1){if(!this._oWatermark&&!n.isLeaf&&!this.mFinalLength[n.groupID]){this._oWatermark={groupID:n.groupID,context:n.context,absoluteNodeIndex:n.absoluteNodeIndex,startIndex:n.children.length,level:n.level,autoExpand:n.autoExpand};}}};d.prototype._calculateGroupID=function(n){var g;var m=this.aAggregationLevel.length;if(!this.isGrouped()&&n&&n.positionInParent){g="/"+n.positionInParent+"/";}else{if(n.level>m){g=this._getGroupIdFromContext(n.context,m);g+=n.positionInParent+"/";}else{g=this._getGroupIdFromContext(n.context,n.level);}}return g;};d.prototype.collapse=function(p){var n,N;if(typeof p==="object"){n=p;}else if(typeof p==="number"){N=this.findNode(p);if(!N){return;}n=N.nodeState;}this._updateTreeState({groupID:n.groupID,expanded:false});n.selectAllMode=false;var e=false;if(this.bCollapseRecursive||this._isRunningInAutoExpand(a.Bundled)){var g=n.groupID;if(this._isRunningInAutoExpand(a.Bundled)&&this._oWatermark&&q.sap.startsWith(this._oWatermark.groupID,g)){if(N&&N.parent){this._oWatermark={groupID:N.parent.groupID,context:N.parent.context,absoluteNodeIndex:N.parent.absoluteNodeIndex,startIndex:N.positionInParent+1,level:N.parent.level,autoExpand:N.parent.autoExpand};}this._autoExpandPaging();e=true;}var t=this;q.each(this._mTreeState.expanded,function(G,o){if(q.sap.startsWith(G,g)){t._updateTreeState({groupID:G,expanded:false});}});q.each(this._mTreeState.selected,function(G,o){if(q.sap.startsWith(G,g)){o.selectAllMode=false;t.setNodeSelection(o,false);}});}if(!e){this._fireChange({reason:C.Collapse});}};d.prototype.collapseToLevel=function(l){this.setNumberOfExpandedLevels(l,true);b.prototype.collapseToLevel.call(this,l);};d.prototype.nodeHasChildren=function(n){if(!n||!n.parent||n.nodeState.sum){return false;}else if(n.isArtificial){return true;}else{return A.prototype.hasChildren.call(this,n.context,{level:n.level});}};d.prototype.resetData=function(o,p){var r=A.prototype.resetData.call(this,o,p);this._aRowIndexMap=[];this._oRootNode=undefined;this._oWatermark=undefined;this._iPageSize=0;this._iThreshold=0;if(!p||p.reason!==C.Sort){this.clearSelection();this._createTreeState(true);}return r;};d.prototype.hasTotaledMeasures=function(){var h=false;q.each(this.getMeasureDetails()||[],function(i,m){if(m.analyticalInfo.total){h=true;return false;}});return h;};d.prototype.isGrouped=function(){return(this.aAggregationLevel.length>0);};d.prototype._isRunningInAutoExpand=function(s){if(this.getNumberOfExpandedLevels()>0&&this._autoExpandMode===s){return true;}else{return false;}};d.prototype.setNumberOfExpandedLevels=function(l,s){l=l||0;if(l<0){q.sap.log.warning("AnalyticalTreeBindingAdapter: numberOfExpanded levels was set to 0. Negative values are prohibited.");l=0;}if(!s){this.resetData();}this.mParameters.numberOfExpandedLevels=l;};d.prototype.getNumberOfExpandedLevels=function(){return this.mParameters.numberOfExpandedLevels;};d.prototype._getSelectableNodesCount=function(n){if(n){return n.totalNumberOfLeafs;}else{return 0;}};return d;},true);
sap.ui.predefine('sap/ui/model/analytics/AnalyticalVersionInfo',['jquery.sap.global'],function(q){"use strict";var A={NONE:null,V1:1,V2:2,getVersion:function(o){var v;var O;if(o&&o.getMetadata){O=o.getMetadata().getName();}switch(O){case"sap.ui.model.odata.ODataModel":v=this.V1;break;case"sap.ui.model.odata.v2.ODataModel":v=this.V2;break;default:v=this.NONE;q.sap.log.info("AnalyticalVersionInfo.getVersion(...) - The given object is no instance of ODataModel V1 or V2!");break;}return v;}};return A;},true);
sap.ui.predefine('sap/ui/model/analytics/BatchResponseCollector',function(){"use strict";function B(p){if(p){this.setup(p);}}B.TYPE_SUCCESS="success";B.TYPE_ERROR="error";B.prototype.setup=function(p){this.iRequestCollectionCount=0;this.aCollectedSuccesses=[];this.aCollectedErrors=[];this.aExecutedRequestDetails=p.executedRequests;this.oAnalyticalBinding=p.binding;this.fnSuccessHandler=p.success;this.fnErrorHandler=p.error;};B.prototype.success=function(r){this.collect(r,B.TYPE_SUCCESS);};B.prototype.error=function(r){this.collect(r,B.TYPE_ERROR);};B.prototype.collect=function(r,R){this.iRequestCollectionCount++;if(R===B.TYPE_SUCCESS){this.aCollectedSuccesses.push(r);}else{this.aCollectedErrors.push(r);}var o=(this.aCollectedSuccesses.length+this.aCollectedErrors.length);if(o===this.aExecutedRequestDetails.length){if((this.aCollectedSuccesses.length===o)&&this.aCollectedErrors.length===0){this.fnSuccessHandler.call(window,{__batchResponses:this.aCollectedSuccesses},{requestUri:this.oAnalyticalBinding.oModel.sServiceUrl+"/$batch"});}else{this.fnErrorHandler.call(window,this.aCollectedErrors[0]||{});}}};return B;},true);
sap.ui.predefine('sap/ui/model/analytics/ODataModelAdapter',['jquery.sap.global','./AnalyticalBinding',"./AnalyticalTreeBindingAdapter",'./odata4analytics','./AnalyticalVersionInfo'],function(q,A,a,o,b){"use strict";var O=function(){var m=b.getVersion(this);if(this.iModelVersion===b.NONE||this.getAnalyticalExtensions){return;}this._mPreadapterFunctions={bindList:this.bindList,bindTree:this.bindTree};for(var f in O.prototype){if(O.prototype.hasOwnProperty(f)){this[f]=O.prototype[f];}}if(m===b.V1&&this.isCountSupported()){q.sap.log.info("ODataModelAdapter: switched ODataModel to use inlinecount (mandatory for the AnalyticalBinding)");this.setCountSupported(false);}};O.prototype.bindList=function(p,c,s,f,P){if(P&&P.analyticalInfo){var B=new A(this,p,c,s,f,P);a.apply(B);return B;}else{return this._mPreadapterFunctions.bindList.apply(this,arguments);}};O.prototype.bindTree=function(p,c,f,P){if(P&&P.analyticalInfo){var B=new A(this,p,c,[],f,P);return B;}else{return this._mPreadapterFunctions.bindTree.apply(this,arguments);}};O.prototype.getAnalyticalExtensions=function(){if(this.oOData4SAPAnalyticsModel!=undefined&&this.oOData4SAPAnalyticsModel!=null){return this.oOData4SAPAnalyticsModel;}var m=b.getVersion(this);if(m===b.V2&&!(this.oMetadata&&this.oMetadata.isLoaded())){throw"Failed to get the analytical extensions. The metadata have not been loaded by the model yet."+"Register for the 'metadataLoaded' event of the ODataModel(v2) to know when the analytical extensions can be retrieved.";}var s=null;if(arguments.length==1){var c=arguments[0];var r=q.sap.syncGetText(c);if(r.success){s=r.data;}}try{this.oOData4SAPAnalyticsModel=new o.Model(new o.Model.ReferenceByModel(this),{sAnnotationJSONDoc:s});}catch(e){throw"Failed to instantiate analytical extensions for given OData model: "+e.message;}return this.oOData4SAPAnalyticsModel;};O.prototype.setAnalyticalExtensions=function(c){this.oOData4SAPAnalyticsModel=c;};return O;},true);
sap.ui.predefine('sap/ui/model/analytics/odata4analytics',['jquery.sap.global','sap/ui/model/Filter','sap/ui/model/FilterOperator','sap/ui/model/Sorter','./AnalyticalVersionInfo'],function(q,F,c,S,A){"use strict";var o=o||{};o.constants={};o.constants["SAP_NAMESPACE"]="http://www.sap.com/Protocols/SAPData";o.constants["VERSION"]="0.7";o.helper={tokenizeNametoLabelText:function(n){var l="";l=n.replace(/^P_(.*)/,"$1");l=l.replace(/([^A-Z0-9_]+)([A-Z0-9_])/g,"$1 $2");l=l.replace(/([A-Z0-9_]{2,})([A-Z0-9_])([^A-Z0-9_]+)/g,"$1 $2$3");l=l.replace(/(.*) _E$/,"$1");l=l.replace(/(.*) _(.*)/g,"$1 $2");return l;}};o.Model=function(m,p){this._init(m,p);};o.Model.ReferenceByURI=function(u){return{sServiceURI:u};};o.Model.ReferenceByModel=function(m){return{oModel:m};};o.Model.ReferenceWithWorkaround=function(m,w){return{oModelReference:m,aWorkaroundID:w};};o.Model.prototype={_init:function(m,p){if(typeof p=="string"){throw"Deprecated second argument: Adjust your invocation by passing an object with a property sAnnotationJSONDoc as a second argument instead";}this._mParameter=p;var t=this;this._oActivatedWorkarounds={};if(m&&m.aWorkaroundID){for(var i=-1,I;(I=m.aWorkaroundID[++i])!==undefined;){this._oActivatedWorkarounds[I]=true;}m=m.oModelReference;}if(!m||(!m.sServiceURI&&!m.oModel)){throw"Usage with oModelReference being an instance of Model.ReferenceByURI or Model.ReferenceByModel";}if(m.oModel){this._oModel=m.oModel;this._iVersion=A.getVersion(this._oModel);a();}else{if(p&&p.modelVersion===A.V2){var V=sap.ui.requireSync("sap/ui/model/odata/v2/ODataModel");this._oModel=new V(m.sServiceURI);this._iVersion=A.V2;a();}else{var O=sap.ui.requireSync("sap/ui/model/odata/ODataModel");this._oModel=new O(m.sServiceURI);this._iVersion=A.V1;a();}}if(this._oModel.getServiceMetadata().dataServices==undefined){throw"Model could not be loaded";}function a(){if(!t._oModel.getServiceMetadata()){t._oModel.attachMetadataLoaded(b);}else{b();}}function b(){if(t.bIsInitialized){return;}t.bIsInitialized=true;if(p&&p.sAnnotationJSONDoc){t.mergeV2Annotations(p.sAnnotationJSONDoc);}t._interpreteMetadata(t._oModel.getServiceMetadata().dataServices);}},_interpreteMetadata:function(M){this._oQueryResultSet={};this._oParameterizationSet={};this._oEntityTypeSet={};this._oEntitySetSet={};this._oEntityTypeNameToEntitySetMap={};var a=this._oModel.getServiceMetadata().dataServices.schema[0];for(var j=-1,C;(C=a.entityContainer[++j])!==undefined;){if(C.isDefaultEntityContainer=="true"){this._oDefaultEntityContainer=C;break;}}var e=a.entityType;var Q=[],P=[],u=[];for(var k=-1,T;(T=e[++k])!==undefined;){var b=false;if(T.extensions!=undefined){for(var l=-1,E;(E=T.extensions[++l])!==undefined;){if(E.namespace==o.constants.SAP_NAMESPACE&&E.name=="semantics"){b=true;switch(E.value){case"aggregate":Q.push(T);break;case"parameters":P.push(T);break;default:u.push(T);}}if(b){continue;}}if(!b){u.push(T);}}else{u.push(T);}}for(var m=-1,d;(d=u[++m])!==undefined;){var f=new o.EntityType(this._oModel.getServiceMetadata(),a,d);this._oEntityTypeSet[f.getQName()]=f;var g=this._getEntitySetsOfType(a,f.getQName());if(g.length==0){throw"Invalid consumption model: No entity set for entity type "+f.getQName()+" found";}if(g.length>1){throw"Unsupported consumption model: More than one entity set for entity type "+f.getQName()+" found";}var h=new o.EntitySet(this._oModel.getServiceMetadata(),a,g[0][0],g[0][1],f);this._oEntitySetSet[h.getQName()]=h;this._oEntityTypeNameToEntitySetMap[f.getQName()]=h;}var i={};for(var n=-1,v;(v=P[++n])!==undefined;){var w=new o.EntityType(this._oModel.getServiceMetadata(),a,v);this._oEntityTypeSet[w.getQName()]=w;var x=this._getEntitySetsOfType(a,w.getQName());if(x.length==0){throw"Invalid consumption model: No entity set for parameter entity type "+w.getQName()+" found";}if(x.length>1){throw"Unsupported consumption model: More than one entity set for parameter entity type "+w.getQName()+" found";}var y=new o.EntitySet(this._oModel.getServiceMetadata(),a,x[0][0],x[0][1],w);this._oEntitySetSet[y.getQName()]=y;this._oEntityTypeNameToEntitySetMap[w.getQName()]=y;var z=new o.Parameterization(w,y);this._oParameterizationSet[z.getName()]=z;i[w.getQName()]=z;var B=w.getQName();if(a.association!=undefined){for(var p=-1,D;(D=a.association[++p])!==undefined;){if(D.referentialConstraint==undefined){continue;}var G=null;if(D.end[0].type==B&&D.end[0].multiplicity=="*"&&D.end[1].multiplicity=="1"){G=D.end[1].type;}else if(D.end[1].type==B&&D.end[1].multiplicity=="*"&&D.end[0].multiplicity=="1"){G=D.end[0].type;}if(!G){continue;}if(D.referentialConstraint.dependent.propertyRef.length!=1){continue;}var H=z.findParameterByName(D.referentialConstraint.dependent.propertyRef[0].name);if(H==null){continue;}var V=this._oEntityTypeSet[G];var I=this._oEntityTypeNameToEntitySetMap[G];H.setValueSetEntity(V,I);}}}for(var r=-1,J;(J=Q[++r])!==undefined;){var K=new o.EntityType(this._oModel.getServiceMetadata(),a,J);this._oEntityTypeSet[K.getQName()]=K;var L=K.getQName();var N=null;var O=null;if(a.association!=undefined){for(var s=-1,R;(R=a.association[++s])!==undefined;){var U=null;if(R.end[0].type==L){U=R.end[1].type;}else if(R.end[1].type==L){U=R.end[0].type;}else{continue;}var W=null;W=i[U];if(W!=null){if(N!=null){throw"LIMITATION: Unable to handle multiple parameter entity types of query entity "+K.name;}else{N=W;O=R;}}}}var X=this._getEntitySetsOfType(a,K.getQName());if(X.length!=1){throw"Invalid consumption model: There must be exactly one entity set for an entity type annotated with aggregating semantics";}var Y=new o.EntitySet(this._oModel.getServiceMetadata(),a,X[0][0],X[0][1],K);this._oEntitySetSet[Y.getQName()]=Y;this._oEntityTypeNameToEntitySetMap[K.getQName()]=Y;var Z=new o.QueryResult(this,K,Y,N);this._oQueryResultSet[Z.getName()]=Z;if(N){N.setTargetQueryResult(Z,O);}if(a.association!=undefined){for(var t=-1,$;($=a.association[++t])!==undefined;){if($.referentialConstraint==undefined){continue;}var _=null;if($.end[0].type==L&&$.end[0].multiplicity=="*"&&$.end[1].multiplicity=="1"){_=$.end[1].type;}else if($.end[1].type==L&&$.end[1].multiplicity=="*"&&$.end[0].multiplicity=="1"){_=$.end[0].type;}if(!_){continue;}if($.referentialConstraint.dependent.propertyRef.length!=1){continue;}var a1=Z.findDimensionByName($.referentialConstraint.dependent.propertyRef[0].name);if(a1==null){continue;}var b1=this._oEntityTypeNameToEntitySetMap[_];a1.setMembersEntitySet(b1);}}}},oUI5ODataModelAnnotatableObject:{objectName:"schema",keyPropName:"namespace",extensions:true,aSubObject:[{objectName:"entityType",keyPropName:"name",extensions:true,aSubObject:[{objectName:"property",keyPropName:"name",aSubObject:[],extensions:true}]},{objectName:"entityContainer",keyPropName:"name",extensions:false,aSubObject:[{objectName:"entitySet",keyPropName:"name",extensions:true,aSubObject:[]}]}]},mergeV2Annotations:function(a){var b=null;try{b=JSON.parse(a);}catch(e){return;}var m;try{m=this._oModel.getServiceMetadata().dataServices;}catch(e){return;}for(var p in b){if(!(this.oUI5ODataModelAnnotatableObject.objectName==p)){continue;}if(!(b[p]instanceof Array)){continue;}this.mergeV2AnnotationLevel(m[this.oUI5ODataModelAnnotatableObject.objectName],b[this.oUI5ODataModelAnnotatableObject.objectName],this.oUI5ODataModelAnnotatableObject);break;}return;},mergeV2AnnotationLevel:function(M,a,u){for(var i=-1,b;(b=a[++i])!==undefined;){for(var j=-1,d;(d=M[++j])!==undefined;){if(!(b[u.keyPropName]==d[u.keyPropName])){continue;}if(b["extensions"]!=undefined){if(d["extensions"]==undefined){d["extensions"]=[];}for(var l=-1,e;(e=b["extensions"][++l])!==undefined;){var f=false;for(var m=-1,g;(g=d["extensions"][++m])!==undefined;){if(e.name==g.name&&e.namespace==g.namespace){g.value=e.value;f=true;break;}}if(!f){d["extensions"].push(e);}}}for(var k=-1,U;(U=u.aSubObject[++k])!==undefined;){for(var p in b){if(!(U.objectName==p)){continue;}if(!(b[U.objectName]instanceof Array)){continue;}if((d[U.objectName]==undefined)||(!(d[U.objectName]instanceof Array))){continue;}this.mergeV2AnnotationLevel(d[U.objectName],b[U.objectName],U);break;}}}}return;},findQueryResultByName:function(n){var Q=this._oQueryResultSet[n];if(!Q&&this._oDefaultEntityContainer){var s=this._oDefaultEntityContainer.name+"."+n;Q=this._oQueryResultSet[s];}return Q;},getAllQueryResultNames:function(){if(this._aQueryResultNames){return this._aQueryResultNames;}this._aQueryResultNames=new Array(0);for(var n in this._oQueryResultSet){this._aQueryResultNames.push(this._oQueryResultSet[n].getName());}return this._aQueryResultNames;},getAllQueryResults:function(){return this._oQueryResultSet;},getODataModel:function(){return this._oModel;},_getEntitySetsOfType:function(s,Q){var e=[];for(var i=-1,E;(E=s.entityContainer[++i])!==undefined;){for(var j=-1,a;(a=E.entitySet[++j])!==undefined;){if(a.entityType==Q){e.push([E,a]);}}}return e;},_mParameter:null,_oModel:null,_oDefaultEntityContainer:null,_aQueryResultNames:null,_oQueryResultSet:null,_oParameterizationSet:null,_oEntityTypeSet:null,_oEntitySetSet:null,_oEntityTypeNameToEntitySetMap:null,_oActivatedWorkarounds:null};o.QueryResult=function(m,e,E,p){this._init(m,e,E,p);};o.QueryResult.prototype={_init:function(m,e,E,p,a){this._oModel=m;this._oEntityType=e;this._oEntitySet=E;this._oParameterization=p;this._oDimensionSet={};this._oMeasureSet={};var P=e.getTypeDescription().property;var b={};for(var i=-1,d;(d=P[++i])!==undefined;){if(d.extensions==undefined){continue;}for(var j=-1,f;(f=d.extensions[++j])!==undefined;){if(!f.namespace==o.constants.SAP_NAMESPACE){continue;}switch(f.name){case"aggregation-role":switch(f.value){case"dimension":{var D=new o.Dimension(this,d);this._oDimensionSet[D.getName()]=D;break;}case"measure":{var M=new o.Measure(this,d);this._oMeasureSet[M.getName()]=M;break;}case"totaled-properties-list":this._oTotaledPropertyListProperty=d;break;default:}break;case"attribute-for":{var g=new o.DimensionAttribute(this,d);var k=g.getKeyProperty();b[k.name]=g;break;}default:}}}for(var s in b){var h=b[s];h.getDimension().addAttribute(h);}if(m._oActivatedWorkarounds.IdentifyTextPropertiesByName){var l=[];for(var n in this._oDimensionSet){var r=this._oDimensionSet[n];if(!r.getTextProperty()){var T=null;T=e.findPropertyByName(n+"Name");if(!T){T=e.findPropertyByName(n+"Text");}if(!T){T=e.findPropertyByName(n+"Desc");}if(!T){T=e.findPropertyByName(n+"Description");}if(T){r.setTextProperty(T);l.push(T.name);}}}for(var t=-1,u;(u=l[++t])!==undefined;){delete this._oDimensionSet[u];}}},getName:function(){return this.getEntitySet().getQName();},getParameterization:function(){return this._oParameterization;},getAllDimensionNames:function(){if(this._aDimensionNames){return this._aDimensionNames;}this._aDimensionNames=[];for(var n in this._oDimensionSet){this._aDimensionNames.push(this._oDimensionSet[n].getName());}return this._aDimensionNames;},getAllDimensions:function(){return this._oDimensionSet;},getAllMeasureNames:function(){if(this._aMeasureNames){return this._aMeasureNames;}this._aMeasureNames=[];for(var n in this._oMeasureSet){this._aMeasureNames.push(this._oMeasureSet[n].getName());}return this._aMeasureNames;},getAllMeasures:function(){return this._oMeasureSet;},findDimensionByName:function(n){return this._oDimensionSet[n];},findDimensionByPropertyName:function(n){if(this._oDimensionSet[n]){return this._oDimensionSet[n];}for(var d in this._oDimensionSet){var D=this._oDimensionSet[d];var t=D.getTextProperty();if(t&&t.name==n){return D;}if(D.findAttributeByName(n)){return D;}}return null;},getTotaledPropertiesListProperty:function(){return this._oTotaledPropertyListProperty;},findMeasureByName:function(n){return this._oMeasureSet[n];},findMeasureByPropertyName:function(n){if(this._oMeasureSet[n]){return this._oMeasureSet[n];}for(var m in this._oMeasureSet){var M=this._oMeasureSet[m];var f=M.getFormattedValueProperty();if(f&&f.name==n){return M;}}return null;},getModel:function(){return this._oModel;},getEntityType:function(){return this._oEntityType;},getEntitySet:function(){return this._oEntitySet;},_oModel:null,_oEntityType:null,_oEntitySet:null,_oParameterization:null,_aDimensionNames:null,_oDimensionSet:null,_aMeasureNames:null,_oMeasureSet:null,_oTotaledPropertyListProperty:null};o.Parameterization=function(e,E){this._init(e,E);};o.Parameterization.prototype={_init:function(e,E){this._oEntityType=e;this._oEntitySet=E;this._oParameterSet={};var p=e.getTypeDescription().property;for(var i=-1,P;(P=p[++i])!==undefined;){if(P.extensions==undefined){continue;}for(var j=-1,a;(a=P.extensions[++j])!==undefined;){if(!a.namespace==o.constants.SAP_NAMESPACE){continue;}switch(a.name){case"parameter":{var b=new o.Parameter(this,P);this._oParameterSet[b.getName()]=b;break;}default:}}}},setTargetQueryResult:function(Q,a){this._oQueryResult=Q;var s=this._oEntityType.getSchema().namespace+"."+a.name;var n=this._oEntityType.getTypeDescription().navigationProperty;if(!n){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type";}for(var i=-1,N;(N=n[++i])!==undefined;){if(N.relationship==s){this._oNavPropToQueryResult=N.name;}}if(!this._oNavPropToQueryResult){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type";}},getTargetQueryResult:function(){if(!this._oQueryResult){throw"No target query result set";}return this._oQueryResult;},getName:function(){return this.getEntitySet().getQName();},getAllParameterNames:function(){if(this._aParameterNames){return this._aParameterNames;}this._aParameterNames=[];for(var n in this._oParameterSet){this._aParameterNames.push(this._oParameterSet[n].getName());}return this._aParameterNames;},getAllParameters:function(){return this._oParameterSet;},findParameterByName:function(n){return this._oParameterSet[n];},getNavigationPropertyToQueryResult:function(){return this._oNavPropToQueryResult;},getEntityType:function(){return this._oEntityType;},getEntitySet:function(){return this._oEntitySet;},_oEntityType:null,_oEntitySet:null,_oQueryResult:null,_oNavPropToQueryResult:null,_aParameterNames:null,_oParameterSet:null};o.Parameter=function(p,P){this._init(p,P);};o.Parameter.prototype={_init:function(p,P){this._oParameterization=p;this._oProperty=P;var e=p.getEntityType();if(P.extensions!=undefined){for(var i=-1,E;(E=P.extensions[++i])!==undefined;){if(!E.namespace==o.constants.SAP_NAMESPACE){continue;}switch(E.name){case"parameter":switch(E.value){case"mandatory":this._bRequired=true;break;case"optional":this._bRequired=false;break;default:throw"Invalid annotation value for parameter property";}break;case"label":this._sLabelText=E.value;break;case"text":this._oTextProperty=e.findPropertyByName(E.value);break;case"upper-boundary":this._bIntervalBoundaryParameter=true;this._oUpperIntervalBoundaryParameterProperty=e.findPropertyByName(E.value);break;case"lower-boundary":this._bIntervalBoundaryParameter=true;this._oLowerIntervalBoundaryParameterProperty=e.findPropertyByName(E.value);break;default:}}}if(!this._sLabelText){this._sLabelText="";}},setValueSetEntity:function(e,E){this._oValueSetEntityType=e;this._oValueSetEntitySet=E;},getTextProperty:function(){return this._oTextProperty;},getLabelText:function(){if(!this._sLabelText&&this._oParameterization._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=o.helper.tokenizeNametoLabelText(this.getName());}return this._sLabelText;},isOptional:function(){return(!this._bRequired);},isIntervalBoundary:function(){return this._bIntervalBoundaryParameter;},isLowerIntervalBoundary:function(){return(this._oUpperIntervalBoundaryParameterProperty?true:false);},getPeerIntervalBoundaryParameter:function(){var p=null;if(this._oLowerIntervalBoundaryParameterProperty){p=this._oLowerIntervalBoundaryParameterProperty.name;}else{p=this._oUpperIntervalBoundaryParameterProperty.name;}if(!p){throw"Parameter is not an interval boundary";}return this._oParameterization.findParameterByName(p);},isValueSetAvailable:function(){return(this._oValueSetEntityType?true:false);},getName:function(){return this._oProperty.name;},getProperty:function(){return this._oProperty;},getContainingParameterization:function(){return this._oParameterization;},getURIToValueEntitySet:function(s){var u=null;u=(s?s:"")+"/"+this._oValueSetEntitySet.getQName();return u;},_oParameterization:null,_oProperty:null,_sLabelText:null,_oTextProperty:null,_bRequired:false,_bIntervalBoundaryParameter:false,_oLowerIntervalBoundaryParameterProperty:null,_oUpperIntervalBoundaryParameterProperty:null,_oValueSetEntityType:null,_oValueSetEntitySet:null};o.Dimension=function(Q,p){this._init(Q,p);};o.Dimension.prototype={_init:function(Q,p){this._oQueryResult=Q;this._oProperty=p;this._oAttributeSet={};},setMembersEntitySet:function(e){this._oMembersEntitySet=e;},getName:function(){return this._oProperty.name;},getKeyProperty:function(){return this._oProperty;},getTextProperty:function(){if(!this._oTextProperty){this._oTextProperty=this._oQueryResult.getEntityType().getTextPropertyOfProperty(this.getName());}return this._oTextProperty;},setTextProperty:function(t){this._oTextProperty=t;},getLabelText:function(){if(!this._sLabelText){this._sLabelText=this._oQueryResult.getEntityType().getLabelOfProperty(this.getName());}if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=o.helper.tokenizeNametoLabelText(this.getName());}return(this._sLabelText==null?"":this._sLabelText);},getSuperOrdinateDimension:function(){if(!this._sSuperOrdinateDimension){var s=this._oQueryResult.getEntityType().getSuperOrdinatePropertyOfProperty(this.getName()).name;this._sSuperOrdinateDimension=this._oQueryResult.findDimensionByName(s);}return this._sSuperOrdinateDimension;},getHierarchy:function(){if(!this._oHierarchy){this._oHierarchy=this._oQueryResult.getEntityType().getHierarchy(this._oProperty.name);}return this._oHierarchy;},getAllAttributeNames:function(){if(this._aAttributeNames){return this._aAttributeNames;}this._aAttributeNames=[];for(var n in this._oAttributeSet){this._aAttributeNames.push(this._oAttributeSet[n].getName());}return this._aAttributeNames;},getAllAttributes:function(){return this._oAttributeSet;},findAttributeByName:function(n){return this._oAttributeSet[n];},addAttribute:function(d){this._oAttributeSet[d.getName()]=d;},getContainingQueryResult:function(){return this._oQueryResult;},hasMasterData:function(){return this._oMembersEntitySet!=null?true:false;},getMasterDataEntitySet:function(){return this._oMembersEntitySet;},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sSuperOrdinateDimension:null,_aAttributeNames:null,_oAttributeSet:null,_oMembersEntitySet:null,_oHierarchy:null};o.DimensionAttribute=function(Q,p){this._init(Q,p);};o.DimensionAttribute.prototype={_init:function(Q,p){this._oQueryResult=Q;this._oProperty=p;if(p.extensions!=undefined){for(var i=-1,e;(e=p.extensions[++i])!==undefined;){if(!e.namespace==o.constants.SAP_NAMESPACE){continue;}switch(e.name){case"attribute-for":this._sDimensionName=e.value;break;case"label":this._sLabelText=e.value;break;case"text":this._oTextProperty=Q.getEntityType().findPropertyByName(e.value);break;default:}}}},getName:function(){return this._oProperty.name;},getKeyProperty:function(){return this._oProperty;},getTextProperty:function(){return this._oTextProperty;},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=o.helper.tokenizeNametoLabelText(this.getName());}return this._sLabelText;},getDimension:function(){return this._oQueryResult.findDimensionByName(this._sDimensionName);},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sDimensionName:null};o.Measure=function(Q,p){this._init(Q,p);};o.Measure.prototype={_init:function(Q,p){this._oQueryResult=Q;this._oProperty=p;if(p.extensions!=undefined){for(var i=-1,e;(e=p.extensions[++i])!==undefined;){if(!e.namespace==o.constants.SAP_NAMESPACE){continue;}switch(e.name){case"label":this._sLabelText=e.value;break;case"text":this._oTextProperty=Q.getEntityType().findPropertyByName(e.value);break;case"unit":this._oUnitProperty=Q.getEntityType().findPropertyByName(e.value);break;default:}}}if(!this._sLabelText){this._sLabelText="";}},getName:function(){return this._oProperty.name;},getRawValueProperty:function(){return this._oProperty;},getFormattedValueProperty:function(){return this._oTextProperty;},getUnitProperty:function(){return this._oUnitProperty;},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=o.helper.tokenizeNametoLabelText(this.getName());}return this._sLabelText;},isUpdatable:function(){if(this._bIsUpdatable!=null){return this._bIsUpdatable;}var u=this._oQueryResult.getEntitySet().getUpdatablePropertyNameSet();return(u[this.getName()]!=undefined);},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_oUnitProperty:null,_bIsUpdatable:null};o.EntitySet=function(m,s,C,e,E){this._init(m,s,C,e,E);};o.EntitySet.prototype={_init:function(m,s,C,e,E){this._oEntityType=E;this._oEntitySet=e;this._oContainer=C;this._oSchema=s;this._oModel=m;if(s.entityContainer.length>1){this._sQName=C.name+"."+e.name;}else{this._sQName=e.name;}},getQName:function(){return this._sQName;},getSetDescription:function(){return this._oEntitySet;},getEntityType:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},getUpdatablePropertyNameSet:function(){if(this._oUpdatablePropertyNames){return this._oUpdatablePropertyNames;}this._oUpdatablePropertyNames={};var s=true;if(this._oEntitySet.extensions!=undefined){for(var j=-1,e;(e=this._oEntitySet.extensions[++j])!==undefined;){if(e.namespace==o.constants.SAP_NAMESPACE&&e.name=="updatable"){if(e.value=="false"){s=false;break;}}}}if(!s){return this._oUpdatablePropertyNames;}var p=this._oEntityType.getTypeDescription().property;for(var i=-1,P;(P=p[++i])!==undefined;){var b=true;if(P.extensions==undefined){continue;}for(var k=-1,E;(E=P.extensions[++k])!==undefined;){if(E.namespace!=o.constants.SAP_NAMESPACE){continue;}if(E.name=="updatable"){if(E.value=="false"){b=false;break;}}}if(b){this._oUpdatablePropertyNames[P.name]=true;}}return this._oUpdatablePropertyNames;},_oEntityType:null,_oEntitySet:null,_oContainer:null,_oSchema:null,_oModel:null,_sQName:null,_oUpdatablePropertyNames:null};o.EntityType=function(m,s,e){this._init(m,s,e);};o.EntityType.propertyFilterRestriction={SINGLE_VALUE:"single-value",MULTI_VALUE:"multi-value",INTERVAL:"interval"};o.EntityType.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._aKeyProperties=[];this._oPropertySet={};this._aFilterablePropertyNames=[];this._aSortablePropertyNames=[];this._aRequiredFilterPropertyNames=[];this._oPropertyFilterRestrictionSet={};this._oPropertyHeadingsSet={};this._oPropertyQuickInfosSet={};this._sQName=s.namespace+"."+e.name;var r={};var R=null;for(var i=-1,p;(p=e.key.propertyRef[++i])!==undefined;){this._aKeyProperties.push(p.name);}for(var k=-1,P;(P=e.property[++k])!==undefined;){this._oPropertySet[P.name]=P;this._aFilterablePropertyNames.push(P.name);this._aSortablePropertyNames.push(P.name);if(P.extensions==undefined){continue;}for(var j=-1,E;(E=P.extensions[++j])!==undefined;){if(!E.namespace==o.constants.SAP_NAMESPACE){continue;}switch(E.name){case"filterable":if(E.value=="false"){this._aFilterablePropertyNames.pop(P.name);}break;case"sortable":if(E.value=="false"){this._aSortablePropertyNames.pop(P.name);}break;case"required-in-filter":if(E.value=="true"){this._aRequiredFilterPropertyNames.push(P.name);}break;case"filter-restriction":if(E.value==o.EntityType.propertyFilterRestriction.SINGLE_VALUE||E.value==o.EntityType.propertyFilterRestriction.MULTI_VALUE||E.value==o.EntityType.propertyFilterRestriction.INTERVAL){this._oPropertyFilterRestrictionSet[P.name]=E.value;}break;case"hierarchy-node-for":if(!(R=r[P.name])){R=r[P.name]={};}R.dimensionName=E.value;break;case"hierarchy-parent-node-for":case"hierarchy-parent-nod":if(!(R=r[E.value])){R=r[E.value]={};}R.parentNodeIDProperty=P;break;case"hierarchy-level-for":if(!(R=r[E.value])){R=r[E.value]={};}R.levelProperty=P;break;case"hierarchy-drill-state-for":case"hierarchy-drill-stat":if(!(R=r[E.value])){R=r[E.value]={};}R.drillStateProperty=P;break;default:}}}this._oRecursiveHierarchySet={};for(var h in r){var H=r[h];var a=this._oPropertySet[h];var d=this._oPropertySet[H.dimensionName];if(d==null){d=a;}this._oRecursiveHierarchySet[d.name]=new o.RecursiveHierarchy(e,a,H.parentNodeIDProperty,H.levelProperty,d);}},getProperties:function(){return this._oPropertySet;},findPropertyByName:function(p){return this._oPropertySet[p];},getKeyProperties:function(){return this._aKeyProperties;},getLabelOfProperty:function(p){var P=this._oPropertySet[p];if(P==null){throw"no such property with name "+p;}if(P.extensions!=undefined){for(var i=-1,e;(e=P.extensions[++i])!==undefined;){if(!e.namespace==o.constants.SAP_NAMESPACE){continue;}if(e.name=="label"){return e.value;}}}return null;},getHeadingOfProperty:function(p){var P=this._oPropertySet[p];if(P==null){throw"no such property with name "+p;}var s=null;if(P.extensions!=undefined){for(var i=-1,e;(e=P.extensions[++i])!==undefined;){if(!e.namespace==o.constants.SAP_NAMESPACE){continue;}if(e.name=="heading"){return e.value;}if(e.name=="label"){s=e.value;}}}return s;},getQuickInfoOfProperty:function(p){var P=this._oPropertySet[p];if(P==null){throw"no such property with name "+p;}var s=null;if(P.extensions!=undefined){for(var i=-1,e;(e=P.extensions[++i])!==undefined;){if(!e.namespace==o.constants.SAP_NAMESPACE){continue;}if(e.name=="quickinfo"){return e.value;}if(e.name=="label"){s=e.value;}}}return s;},getTextPropertyOfProperty:function(p){var P=this._oPropertySet[p];if(P==null){throw"no such property with name "+p;}if(P.extensions!=undefined){for(var i=-1,e;(e=P.extensions[++i])!==undefined;){if(e.name=="text"){return this.findPropertyByName(e.value);}}}return null;},getSuperOrdinatePropertyOfProperty:function(p){var P=this._oPropertySet[p];if(P==null){throw"no such property with name "+p;}if(P.extensions!=undefined){for(var i=-1,e;(e=P.extensions[++i])!==undefined;){if(e.name=="super-ordinate"){return this.findPropertyByName(e.value);}}}return null;},getFilterablePropertyNames:function(){return this._aFilterablePropertyNames;},getSortablePropertyNames:function(){return this._aSortablePropertyNames;},getRequiredFilterPropertyNames:function(){return this._aRequiredFilterPropertyNames;},getPropertiesWithFilterRestrictions:function(){return this._oPropertyFilterRestrictionSet;},getAllHierarchyPropertyNames:function(){if(this._aHierarchyPropertyNames){return this._aHierarchyPropertyNames;}this._aHierarchyPropertyNames=[];for(var n in this._oRecursiveHierarchySet){this._aHierarchyPropertyNames.push(this._oRecursiveHierarchySet[n].getNodeValueProperty().name);}return this._aHierarchyPropertyNames;},getHierarchy:function(n){if(this._oRecursiveHierarchySet[n]==undefined){return null;}return this._oRecursiveHierarchySet[n];},getQName:function(){return this._sQName;},getTypeDescription:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_sQName:null,_aKeyProperties:null,_oPropertySet:null,_aFilterablePropertyNames:null,_aRequiredFilterPropertyNames:null,_oPropertyFilterRestrictionSet:null,_aHierarchyPropertyNames:null,_oRecursiveHierarchySet:null};o.RecursiveHierarchy=function(e,n,p,N,a){this._init(e,n,p,N,a);};o.RecursiveHierarchy.prototype={_init:function(e,n,p,N,a){this._oEntityType=e;this._oNodeIDProperty=n;this._oParentNodeIDProperty=p;this._oNodeLevelProperty=N;this._oNodeValueProperty=a;},isRecursiveHierarchy:function(){return true;},isLeveledHierarchy:function(){return false;},getNodeIDProperty:function(){return this._oNodeIDProperty;},getParentNodeIDProperty:function(){return this._oParentNodeIDProperty;},getNodeLevelProperty:function(){return this._oNodeLevelProperty;},getNodeValueProperty:function(){return this._oNodeValueProperty;},_oNodeIDProperty:null,_oParentNodeIDProperty:null,_oNodeLevelProperty:null,_oNodeValueProperty:null};o.FilterExpression=function(m,s,e){this._init(m,s,e);};o.FilterExpression.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._aConditionUI5Filter=[];this._aUI5FilterArray=[];},_renderPropertyFilterValue:function(f,p){return q.sap.encodeURL(this._oModel.getODataModel().formatValue(f,p));},clear:function(){this._aConditionUI5Filter=[];this._aUI5FilterArray=[];},_addCondition:function(p,O,v,V){for(var i=-1,u;(u=this._aConditionUI5Filter[++i])!==undefined;){if(u.sPath==p&&u.sOperator==O&&u.oValue1==v&&u.oValue2==V){return;}}this._aConditionUI5Filter.push(new F(p,O,v,V));},_addUI5FilterArray:function(u){this._aUI5FilterArray.push(u);},addCondition:function(p,O,v,V){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw"Cannot add filter condition for unknown property name "+p;}var f=this._oEntityType.getFilterablePropertyNames();if(q.inArray(p,f)===-1){throw"Cannot add filter condition for not filterable property name "+p;}this._addCondition(p,O,v,V);return this;},removeConditions:function(p){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw"Cannot remove filter conditions for unknown property name "+p;}for(var i=0;i<this._aConditionUI5Filter.length;i++){var u=this._aConditionUI5Filter[i];if(u.sPath==p){this._aConditionUI5Filter.splice(i--,1);}}return this;},addSetCondition:function(p,v){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw"Cannot add filter condition for unknown property name "+p;}var f=this._oEntityType.getFilterablePropertyNames();if(q.inArray(p,f)===-1){throw"Cannot add filter condition for not filterable property name "+p;}for(var i=-1,V;(V=v[++i])!==undefined;){this._addCondition(p,c.EQ,V);}return this;},addUI5FilterConditions:function(u){if(!q.isArray(u)){throw"Argument is not an array";}if(u.length==0){return this;}var h=false;for(var i=0;i<u.length;i++){if(u[i].aFilters!=undefined){h=true;break;}}if(h){this._addUI5FilterArray(u);}else{for(var j=0;j<u.length;j++){this.addCondition(u[j].sPath,u[j].sOperator,u[j].oValue1,u[j].oValue2);}}return this;},getExpressionAsUI5FilterArray:function(){var f=this._aConditionUI5Filter.concat([]);for(var i=-1,a;(a=this._aUI5FilterArray[++i])!==undefined;){for(var j=-1,b;(b=a[++j])!==undefined;){f.push(b);}}return f;},getPropertiesReferencedByUI5FilterArray:function(u,r){for(var i=-1,U;(U=u[++i])!==undefined;){if(U.aFilters!=undefined){this.getPropertiesReferencedByUI5FilterArray(U.aFilters,r);}else{if(r[U.sPath]==undefined){r[U.sPath]=[];}r[U.sPath].push(U);}}},getReferencedProperties:function(){var r={};for(var i=-1,u;(u=this._aConditionUI5Filter[++i])!==undefined;){if(r[u.sPath]==undefined){r[u.sPath]=[];}r[u.sPath].push(u);}for(var j=-1,U;(U=this._aUI5FilterArray[++j])!==undefined;){this.getPropertiesReferencedByUI5FilterArray(U,r);}return r;},renderUI5Filter:function(u){var p=this._oEntityType.findPropertyByName(u.sPath);if(p==null){throw"Cannot add filter condition for unknown property name "+u.sPath;}var f=null;switch(u.sOperator){case c.BT:f="("+u.sPath+" "+c.GE.toLowerCase()+" "+this._renderPropertyFilterValue(u.oValue1,p.type)+" and "+u.sPath+" "+c.LE.toLowerCase()+" "+this._renderPropertyFilterValue(u.oValue2,p.type)+")";break;case c.Contains:f="substringof("+this._renderPropertyFilterValue(u.oValue1,"Edm.String")+","+u.sPath+")";break;case c.StartsWith:case c.EndsWith:f=u.sOperator.toLowerCase()+"("+u.sPath+","+this._renderPropertyFilterValue(u.oValue1,"Edm.String")+")";break;default:f=u.sPath+" "+u.sOperator.toLowerCase()+" "+this._renderPropertyFilterValue(u.oValue1,p.type);}return f;},renderUI5MultiFilter:function(u){var U=[];var O="";var l=u.bAnd==true?" and ":" or ";for(var i=-1,a;(a=u.aFilters[++i])!==undefined;){if(a.aFilters!=undefined){U.push(a);continue;}O+=(O==""?"":l)+"("+this.renderUI5Filter(a)+")";}if(U.length>0){for(var j=-1,m;(m=U[++j])!==undefined;){O+=(O==""?"":l)+"("+this.renderUI5MultiFilter(m)+")";}}return O;},renderUI5FilterArray:function(u){if(u.length==0){return"";}var O="";u.sort(function(a,b){if(a.sPath==b.sPath){return 0;}if(a.sPath>b.sPath){return 1;}else{return-1;}});var p=u[0].sPath;var s="";var n=[],U=[];for(var i=-1,d;(d=u[++i])!==undefined;){if(d.aFilters!=undefined){U.push(d);continue;}if(p!=d.sPath){if(s!=""){O+=(O==""?"":" and ")+"("+s+")";}s="";if(n.length>0){for(var j=-1,N;(N=n[++j])!==undefined;){s+=(s==""?"":" and ")+this.renderUI5Filter(N);}O+=(O==""?"":" and ")+"("+s+")";s="";}p=d.sPath;n=[];}if(d.sOperator==c.NE){n.push(d);continue;}s+=(s==""?"":" or ")+this.renderUI5Filter(d);}if(s!=""){O+=(O==""?"":" and ")+"("+s+")";}if(n.length>0){s="";for(var k=-1,e;(e=n[++k])!==undefined;){s+=(s==""?"":" and ")+this.renderUI5Filter(e);}O+=(O==""?"":" and ")+"("+s+")";}if(U.length>0){for(var l=-1,m;(m=U[++l])!==undefined;){O+=(O==""?"":" and ")+"("+this.renderUI5MultiFilter(m)+")";}}return O;},getURIFilterOptionValue:function(){var O=this.renderUI5FilterArray(this._aConditionUI5Filter);for(var i=-1,u;(u=this._aUI5FilterArray[++i])!==undefined;){O+=(O==""?"":" and ")+"("+this.renderUI5FilterArray(u)+")";}return O;},checkValidity:function(){var r=this._oEntityType.getRequiredFilterPropertyNames();var p=this.getReferencedProperties();for(var i=-1,P;(P=r[++i])!==undefined;){if(p[P]==undefined){throw"filter expression does not contain required property "+P;}}var a=this._oEntityType.getPropertiesWithFilterRestrictions();for(var s in a){var f=a[s];if(f==o.EntityType.propertyFilterRestriction.SINGLE_VALUE){if(p[s]!=undefined){if(p[s].length>1){var t=p[s][0].oValue1;for(var j=0;j<p[s].length;j++){if(p[s][j].oValue1!=t||p[s][j].sOperator!=c.EQ){throw"filter expression may use "+s+" only with a single EQ condition";}}}}}}return true;},getEntityType:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_aFilterCondition:null};o.SortOrder={Ascending:"asc",Descending:"desc"};o.SortExpression=function(m,s,e){this._init(m,s,e);};o.SortExpression.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._aSortCondition=[];},_containsSorter:function(p){var r=null;for(var i=-1,C;(C=this._aSortCondition[++i])!==undefined;){if(C.property.name===p){r={sorter:C,index:i};break;}}return r;},_removeFromArray:function(a,f,t){var r=a.slice((t||f)+1||a.length);a.length=f<0?a.length+f:f;return a.push.apply(a,r);},clear:function(){this._aSortCondition=[];},addSorter:function(p,s){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw"Cannot add sort condition for unknown property name "+p;}var e=this._containsSorter(p);if(e!=null){e.sorter.order=s;return this;}var a=this._oEntityType.getSortablePropertyNames();if(q.inArray(p,a)===-1){throw"Cannot add sort condition for not sortable property name "+p;}this._aSortCondition.push({property:P,order:s});return this;},removeSorter:function(p){if(!p){return;}var s=this._containsSorter(p);if(s){this._removeFromArray(this._aSortCondition,s.index);}},getExpressionsAsUI5SorterArray:function(){var s=[];for(var i=-1,C;(C=this._aSortCondition[++i])!==undefined;){s.push(new S(C.property.name,C.order==o.SortOrder.Descending));}return s;},getExpressionAsUI5Sorter:function(){var s=this.getExpressionsAsUI5SorterArray();if(s.length==0){return null;}else{return s[0];}},getURIOrderByOptionValue:function(s){if(this._aSortCondition.length==0){return"";}var O="";for(var i=-1,C;(C=this._aSortCondition[++i])!==undefined;){if(!s[C.property.name]){continue;}O+=(O==""?"":",")+C.property.name+" "+C.order;}return O;},getEntityType:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_aSortCondition:null};o.ParameterizationRequest=function(p){this._init(p);};o.ParameterizationRequest.prototype={_init:function(p){if(!p){throw"No parameterization given";}this._oParameterization=p;this._oParameterValueAssignment=[];},_renderParameterKeyValue:function(k,p){return q.sap.encodeURL(this._oParameterization.getTargetQueryResult().getModel().getODataModel().formatValue(k,p));},getParameterization:function(){return this._oParameterization;},setParameterValue:function(p,v,t){var P=this._oParameterization.findParameterByName(p);if(!P){throw"Invalid parameter name "+p;}if(t!=null){if(!P.isIntervalBoundary()){throw"Range value cannot be applied to parameter "+p+" accepting only single values";}if(!P.isLowerIntervalBoundary()){throw"Range value given, but parameter "+p+" does not hold the lower boundary";}}if(!P.isIntervalBoundary()){if(v==null){delete this._oParameterValueAssignment[p];}else{this._oParameterValueAssignment[p]=v;}}else{if(v==null&&t!=null){throw"Parameter "+p+": An upper boundary cannot be given without the lower boundary";}if(v==null){delete this._oParameterValueAssignment[p];t=null;}else{this._oParameterValueAssignment[p]=v;}var u=P.getPeerIntervalBoundaryParameter();if(t==null){t=v;}if(v==null){delete this._oParameterValueAssignment[u.getName()];}else{this._oParameterValueAssignment[u.getName()]=t;}}return;},getURIToParameterizationEntitySet:function(s){return(s?s:"")+"/"+this._oParameterization.getEntitySet().getQName();},getURIToParameterizationEntry:function(s){var d=this._oParameterization.getAllParameters();for(var D in d){if(this._oParameterValueAssignment[D]==undefined){throw"Parameter "+D+" has no value assigned";}}var k="",f=true;for(var p in this._oParameterValueAssignment){k+=(f?"":",")+p+"="+this._renderParameterKeyValue(this._oParameterValueAssignment[p],d[p].getProperty().type);f=false;}return(s?s:"")+"/"+this._oParameterization.getEntitySet().getQName()+"("+k+")";},_oParameterization:null,_oParameterValueAssignment:null};o.QueryResultRequest=function(Q,p){this._init(Q);};o.QueryResultRequest.prototype={_init:function(Q,p){this._oQueryResult=Q;this._oParameterizationRequest=p;this._oAggregationLevel={};this._oMeasures={};this._bIncludeEntityKey=false;this._oFilterExpression=null;this._oSortExpression=null;this._oSelectedPropertyNames=null;},setParameterizationRequest:function(p){this._oParameterizationRequest=p;},setResourcePath:function(r){this._sResourcePath=r;if(this._sResourcePath.indexOf("/")!=0){throw"Missing leading / (slash) for resource path";}if(this._oQueryResult.getParameterization()){var l=r.lastIndexOf("/");if(l==-1){throw"Missing navigation from parameter entity set to query result in resource path";}var n=r.substring(l+1);if(n!=this._oQueryResult.getParameterization().getNavigationPropertyToQueryResult()){throw"Invalid navigation property from parameter entity set to query result in resource path";}}},getParameterizationRequest:function(){return this._oParameterizationRequest;},getQueryResult:function(){return this._oQueryResult;},setAggregationLevel:function(d){this._oAggregationLevel={};if(!d){d=this._oQueryResult.getAllDimensionNames();}this.addToAggregationLevel(d);this._oSelectedPropertyNames=null;},addToAggregationLevel:function(d){if(!d){return;}this._oSelectedPropertyNames=null;for(var i=-1,D;(D=d[++i])!==undefined;){if(!this._oQueryResult.findDimensionByName(D)){throw D+" is not a valid dimension name";}this._oAggregationLevel[D]={key:true,text:false,attributes:null};}},removeFromAggregationLevel:function(d){if(!d){return;}this._oSelectedPropertyNames=null;for(var i=-1,D;(D=d[++i])!==undefined;){if(!this._oQueryResult.findDimensionByName(D)){throw D+" is not a valid dimension name";}if(this._oAggregationLevel[D]!=undefined){delete this._oAggregationLevel[D];this.getSortExpression().removeSorter(D);}}},getAggregationLevel:function(){var d=[];for(var D in this._oAggregationLevel){d.push(D);}return d;},getAggregationLevelDetails:function(d){if(this._oAggregationLevel[d]==undefined){throw"Aggregation level does not include dimension "+d;}return this._oAggregationLevel[d];},setMeasures:function(m){if(!m){m=this._oQueryResult.getAllMeasureNames();}this._oSelectedPropertyNames=null;this._oMeasures={};for(var i=-1,M;(M=m[++i])!==undefined;){if(!this._oQueryResult.findMeasureByName(M)){throw M+" is not a valid measure name";}this._oMeasures[M]={value:true,text:false,unit:false};}},getMeasureNames:function(){var m=[];for(var M in this._oMeasures){m.push(M);}return m;},includeDimensionKeyTextAttributes:function(d,I,b,a){this._oSelectedPropertyNames=null;var D=[];if(d){if(this._oAggregationLevel[d]==undefined){throw d+" is not included in the aggregation level";}D.push(d);}else{for(var n in this._oAggregationLevel){D.push(n);}a=null;}for(var i=-1,s;(s=D[++i])!==undefined;){if(I!=null){this._oAggregationLevel[s].key=I;}if(b!=null){this._oAggregationLevel[s].text=b;}if(a!=null){this._oAggregationLevel[s].attributes=a;}}},includeMeasureRawFormattedValueUnit:function(m,I,b,a){this._oSelectedPropertyNames=null;var M=[];if(m){if(this._oMeasures[m]==undefined){throw m+" is not part of the query result";}M.push(m);}else{for(var n in this._oMeasures){M.push(n);}}for(var i=-1,s;(s=M[++i])!==undefined;){if(I!=null){this._oMeasures[s].value=I;}if(b!=null){this._oMeasures[s].text=b;}if(a!=null){this._oMeasures[s].unit=a;}}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oQueryResult.getEntityType();this._oFilterExpression=new o.FilterExpression(this._oQueryResult.getModel(),e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oQueryResult.getEntityType();this._oSortExpression=new o.SortExpression(e.getModel(),e.getSchema(),e);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},setRequestOptions:function(i,I,r){if(i!=null){this._bIncludeEntityKey=i;}if(I!=null){this._bIncludeCount=I;}if(r!=null){this._bReturnNoEntities=r;}},setResultPageBoundaries:function(s,e){if(s!=null&&typeof s!=="number"){throw"Start value must be null or numeric";}if(e!==null&&typeof e!=="number"){throw"End value must be null or numeric";}if(s==null){s=1;}if(s<1||s>(e==null?s:e)){throw"Invalid values for requested page boundaries";}this._iSkipRequestOption=(s>1)?s-1:null;this._iTopRequestOption=(e!=null)?(e-s+1):null;},getResultPageBoundaries:function(){var e=null;if(this._iTopRequestOption!=null){if(this._iSkipRequestOption==null){e=1;}else{e=this._iSkipRequestOption+this._iTopRequestOption;}}return{start:(this._iSkipRequestOption==null)?1:this._iSkipRequestOption,end:e};},getURIToQueryResultEntitySet:function(s){var u=null;if(this._sResourcePath!=null){u=(s?s:"")+this._sResourcePath;}else if(this._oQueryResult.getParameterization()){if(!this._oParameterizationRequest){throw"Missing parameterization request";}else{u=this._oParameterizationRequest.getURIToParameterizationEntry(s)+"/"+this._oQueryResult.getParameterization().getNavigationPropertyToQueryResult();}}else{u=(s?s:"")+"/"+this._oQueryResult.getEntitySet().getQName();}return u;},getURIQueryOptionValue:function(Q){var s=null;switch(Q){case"$select":{var a="";this._oSelectedPropertyNames={};var d=null;for(var D in this._oAggregationLevel){var b=this._oQueryResult.findDimensionByName(D);var e=this._oAggregationLevel[D];if(e.key==true){d=b.getKeyProperty().name;if(this._oSelectedPropertyNames[d]==undefined){a+=(a==""?"":",")+d;this._oSelectedPropertyNames[d]=true;}}if(e.text==true&&b.getTextProperty()){d=b.getTextProperty().name;if(this._oSelectedPropertyNames[d]==undefined){a+=(a==""?"":",")+d;this._oSelectedPropertyNames[d]=true;}}if(e.attributes){for(var i=-1,f;(f=e.attributes[++i])!==undefined;){d=b.findAttributeByName(f).getName();if(this._oSelectedPropertyNames[d]==undefined){a+=(a==""?"":",")+d;this._oSelectedPropertyNames[d]=true;}}}}var m;for(var M in this._oMeasures){var g=this._oQueryResult.findMeasureByName(M);var h=this._oMeasures[M];if(h.value==true){m=g.getRawValueProperty().name;if(this._oSelectedPropertyNames[m]==undefined){a+=(a==""?"":",")+m;this._oSelectedPropertyNames[m]=true;}}if(h.text==true&&g.getFormattedValueProperty()){m=g.getFormattedValueProperty().name;if(this._oSelectedPropertyNames[m]==undefined){a+=(a==""?"":",")+m;this._oSelectedPropertyNames[m]=true;}}if(h.unit==true&&g.getUnitProperty()){m=g.getUnitProperty().name;if(this._oSelectedPropertyNames[m]==undefined){a+=(a==""?"":",")+m;this._oSelectedPropertyNames[m]=true;}}}if(this._bIncludeEntityKey){var k=this._oQueryResult.getEntityType().getTypeDescription().key.propertyRef;for(var j=-1,K;(K=k[++j])!==undefined;){a+=(a==""?"":",")+K.name;}}s=(a?a:null);break;}case"$filter":{var l=null;if(this._oFilterExpression){l=this._oFilterExpression.getURIFilterOptionValue();}s=(l?l:null);break;}case"$orderby":{var n=null;if(this._oSortExpression){n=this._oSortExpression.getURIOrderByOptionValue(this._oSelectedPropertyNames);}s=(n?n:null);break;}case"$top":{s=null;if(this._bReturnNoEntities){s=0;}else if(this._iTopRequestOption!==null){s=this._iTopRequestOption;}break;}case"$skip":{s=null;if(!this._bReturnNoEntities){s=this._iSkipRequestOption;}break;}case"$inlinecount":{s=(this._bIncludeCount==true?"allpages":null);break;}default:break;}return s;},getURIToQueryResultEntries:function(s,r){if(!r){r=this.getURIToQueryResultEntitySet(s);}this.getFilterExpression().checkValidity();var a=this.getURIQueryOptionValue("$select");var f=this.getURIQueryOptionValue("$filter");var b=this.getURIQueryOptionValue("$orderby");var t=this.getURIQueryOptionValue("$top");var d=this.getURIQueryOptionValue("$skip");var i=this.getURIQueryOptionValue("$inlinecount");var u=r;var Q=false;if(a!==null){u+="?$select="+a;Q=true;}if(this._oFilterExpression&&f!==null){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$filter="+f;}if(this._oSortExpression&&b!==null){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$orderby="+b;}if((this._iTopRequestOption||this._bReturnNoEntities)&&t!==null){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$top="+t;}if(this._iSkipRequestOption&&d!==null){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$skip="+d;}if(this._bIncludeCount&&i!==null){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$inlinecount="+i;}return u;},_oQueryResult:null,_oParameterizationRequest:null,_sResourcePath:null,_oAggregationLevel:null,_oMeasures:null,_bIncludeEntityKey:null,_bIncludeCount:null,_bReturnNoEntities:null,_oFilterExpression:null,_oSortExpression:null,_iSkipRequestOption:null,_iTopRequestOption:null};o.ParameterValueSetRequest=function(p){this._init(p);};o.ParameterValueSetRequest.prototype={_init:function(p){this._oParameter=p;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null;},includeParameterText:function(i){if(i!=null){this._oValueSetResult.text=i;}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oParameter.getContainingParameterization().getEntityType();var m=this._oParameter.getContainingParameterization().getTargetQueryResult().getModel();this._oFilterExpression=new o.FilterExpression(m,e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oParameter.getContainingParameterization().getEntityType();this._oSortExpression=new o.SortExpression(e.getModel(),e.getSchema(),e);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},getURIQueryOptionValue:function(Q){var s=null;switch(Q){case"$select":{var a="";a+=(a==""?"":",")+this._oParameter.getProperty().name;if(this._oValueSetResult.text==true&&this._oParameter.getTextProperty()){a+=(a==""?"":",")+this._oParameter.getTextProperty().name;}s=(a?a:null);break;}case"$filter":{var f=null;if(this._oFilterExpression){f=this._oFilterExpression.getURIFilterOptionValue();}s=(f?f:null);break;}case"$orderby":{var b=null;if(this._oSortExpression){b=this._oSortExpression.getURIOrderByOptionValue();}s=(b?b:null);break;}default:break;}return s;},getURIToParameterValueSetEntries:function(s){var r=null;r=(s?s:"")+"/"+this._oParameter.getContainingParameterization().getEntitySet().getQName();this.getFilterExpression().checkValidity();var a=this.getURIQueryOptionValue("$select");var f=this.getURIQueryOptionValue("$filter");var b=this.getURIQueryOptionValue("$orderby");var u=r;var Q=false;if(a){u+="?$select="+a;Q=true;}if(this._oFilterExpression&&f){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$filter="+f;}if(this._oSortExpression&&b){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$orderby="+b;}return u;},_oParameter:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};o.DimensionMemberSetRequest=function(d,p,u){this._init(d,p,u);};o.DimensionMemberSetRequest.prototype={_init:function(d,p,u){this._oDimension=d;this._oParameterizationRequest=p;this._bUseMasterData=u;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null;if(this._oParameterizationRequest!=null&&this._bUseMasterData==true){throw"LIMITATION: parameterized master data entity sets are not yet implemented";}if(this._bUseMasterData){this._oEntitySet=this._oDimension.getMasterDataEntitySet();}else{this._oEntitySet=this._oDimension.getContainingQueryResult().getEntitySet();if(this._oDimension.getContainingQueryResult().getParameterization()&&!this._oParameterizationRequest){throw"Missing parameterization request";}}},setParameterizationRequest:function(p){this._oParameterizationRequest=p;},includeDimensionTextAttributes:function(i,I){this._oValueSetResult.text={text:false,attributes:false};if(i==true){this._oValueSetResult.text=true;}if(I==true){this._oValueSetResult.attributes=true;}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oEntitySet.getEntityType();var m=this._oDimension.getContainingQueryResult().getModel();this._oFilterExpression=new o.FilterExpression(m,e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){this._oSortExpression=new o.SortExpression(this._oEntityType.getModel(),this._oEntityType.getSchema(),this._oEntityType);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},setRequestOptions:function(i){if(i!=null){this._bIncludeCount=i;}},setResultPageBoundaries:function(s,e){if(s!=null&&typeof s!=="number"){throw"Start value must be null or numeric";}if(e!==null&&typeof e!=="number"){throw"End value must be null or numeric";}if(s==null){s=1;}if(s<1||s>(e==null?s:e)){throw"Invalid values for requested page boundaries";}this._iSkipRequestOption=(s>1)?s-1:null;this._iTopRequestOption=(e!=null)?(e-s+1):null;},getResultPageBoundaries:function(){var e=null;if(this._iTopRequestOption!=null){if(this._iSkipRequestOption==null){e=1;}else{e=this._iSkipRequestOption+this._iTopRequestOption;}}return{start:(this._iSkipRequestOption==null)?1:this._iSkipRequestOption,end:e};},getURIQueryOptionValue:function(Q){var s=null;switch(Q){case"$select":{var a="";var e=this._oEntitySet.getEntityType();var K=e.getKeyProperties();var b=[];if(this._bUseMasterData){for(var i=-1,d;(d=K[++i])!==undefined;){a+=(a==""?"":",")+d;var f=e.getTextPropertyOfProperty(d);if(f){if(this._oValueSetResult.text==true){a+=","+f.name;}b.push(f.name);}}}else{a+=(a==""?"":",")+this._oDimension.getKeyProperty().name;if(this._oValueSetResult.text==true&&this._oDimension.getTextProperty()){a+=(a==""?"":",")+this._oDimension.getTextProperty().name;}}if(this._oValueSetResult.attributes){if(this._bUseMasterData){var g=e.getProperties();for(var p in g){var I=false;for(var j=-1,h;(h=K[++j])!==undefined;){if(p==h){I=true;break;}}if(I){continue;}for(var k=-1,m;(m=b[++k])!==undefined;){if(p==m){I=true;break;}}if(!I){a+=","+p;}}}else{var n=this._oDimension.getAllAttributeNames();for(var l=-1,r;(r=n[++l])!==undefined;){a+=(a==""?"":",")+this._oDimension.findAttributeByName(r).getName();}}}s=(a?a:null);break;}case"$filter":{var t=null;if(this._oFilterExpression){t=this._oFilterExpression.getURIFilterOptionValue();}s=(t?t:null);break;}case"$orderby":{var u=null;if(this._oSortExpression){u=this._oSortExpression.getURIOrderByOptionValue();}s=(u?u:null);break;}case"$top":{if(this._iTopRequestOption!==null){s=this._iTopRequestOption;}break;}case"$skip":{s=this._iSkipRequestOption;break;}case"$inlinecount":{s=(this._bIncludeCount==true?"allpages":null);break;}default:break;}return s;},getURIToDimensionMemberEntitySet:function(s){var r=null;if(!this._bUseMasterData&&this._oParameterizationRequest){r=this._oParameterizationRequest.getURIToParameterizationEntry(s)+"/"+this._oDimension.getContainingQueryResult().getParameterization().getNavigationPropertyToQueryResult();}else{r=(s?s:"")+"/"+this._oEntitySet.getQName();}return r;},getURIToDimensionMemberEntries:function(s){var r=this.getURIToDimensionMemberEntitySet(s);this.getFilterExpression().checkValidity();var a=this.getURIQueryOptionValue("$select");var f=this.getURIQueryOptionValue("$filter");var b=this.getURIQueryOptionValue("$orderby");var t=this.getURIQueryOptionValue("$top");var d=this.getURIQueryOptionValue("$skip");var i=this.getURIQueryOptionValue("$inlinecount");var u=r;var Q=false;if(a){u+="?$select="+a;Q=true;}if(this._oFilterExpression&&f){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$filter="+f;}if(this._oSortExpression&&b){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$orderby="+b;}if(this._iTopRequestOption&&t){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$top="+t;}if(this._iSkipRequestOption&&d){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$skip="+d;}if(this._bIncludeCount&&i){if(!Q){u+="?";Q=true;}else{u+="&";}u+="$inlinecount="+i;}return u;},_oDimension:null,_oParameterizationRequest:null,_oEntitySet:null,_bUseMasterData:false,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null,_bIncludeCount:null,_iSkipRequestOption:0,_iTopRequestOption:null};return o;},true);
sap.ui.predefine('sap/ui/model/control/ControlModel',['jquery.sap.global','sap/ui/model/Model','./ControlPropertyBinding'],function(q,M,C){"use strict";var a=M.extend("sap.ui.model.control.ControlModel",{constructor:function(c){M.apply(this,arguments);this.oControl=c;this.oControl.attachEvent("_change",this.checkUpdate,this);this.oElements=[];}});a.prototype.destroy=function(){this.oControl.detachEvent("_change",this.checkUpdate,this);};a.prototype.addFacadeComponent=function(e){var i=q.inArray(e,this.oElements);if(i<0){this.oElements.push(e);e.attachEvent("_change",this.checkUpdate,this);}};a.prototype.removeFacadeComponent=function(e){var i=q.inArray(e,this.oElements);if(i>=0){this.oElements.splice(i,1);e.detachEvent("_change",this.checkUpdate,this);}};a.prototype.bindProperty=function(p,c){c=c||this.oControl;if(c!==this.oControl){this.addFacadeComponent(c);}return new C(this,p,c);};a.prototype.checkUpdate=function(e){if(this._onchange){this._onchange(e);}if(this.aBindings.length){var b=this.aBindings.slice(0);q.each(b,function(i,B){B.checkUpdate();});}};return a;});
sap.ui.predefine('sap/ui/model/control/ControlPropertyBinding',['sap/ui/model/PropertyBinding'],function(P){"use strict";var C=P.extend("sap.ui.model.control.ControlPropertyBinding",{constructor:function(m,p,c){P.apply(this,arguments);this.oValue=this._getValue();}});C.prototype.getValue=function(){return this.oValue;};C.prototype.setValue=function(v){this.oValue=v;this.oContext.setProperty(this.sPath,v);};C.prototype._getValue=function(){return this.oContext.getProperty(this.sPath);};C.prototype.setContext=function(c){this.oContext=c;this.checkUpdate();};C.prototype.checkUpdate=function(){var v=this._getValue();if(v!==this.oValue){this.oValue=v;this._fireChange();}};return C;});
sap.ui.predefine('sap/ui/model/odata/AnnotationHelper',["jquery.sap.global","sap/ui/base/BindingParser","./_AnnotationHelperBasics","./_AnnotationHelperExpression"],function(q,B,a,E){'use strict';function c(f,b){if(!b){return f;}function d(){return f.call(this,b.apply(this,arguments));}return d;}var A={createPropertySetting:function(p,r){var m=false,P;p=p.slice();p.forEach(function(v,i){switch(typeof v){case"boolean":case"number":case"undefined":m=true;break;case"string":P=B.complexParser(v,null,true,true);if(P!==undefined){if(P.functionsNotFound){throw new Error("Function name(s) "+P.functionsNotFound.join(", ")+" not found");}p[i]=v=P;}case"object":if(!v||typeof v!=="object"||!("path"in v)){m=true;}break;default:throw new Error("Unsupported part: "+v);}});P={formatter:r,parts:p};if(m){B.mergeParts(P);}if(P.parts.length===0){P=P.formatter&&P.formatter();if(typeof P==="string"){P=B.complexParser.escape(P);}}else if(P.parts.length===1){r=P.formatter;P=P.parts[0];if(r){P.formatter=c(r,P.formatter);}}return P;},format:function(i,r){if(arguments.length===1){r=i.getObject("");}return E.getExpression(i,r,true);},getNavigationPath:function(i,r){if(arguments.length===1){r=i.getObject("");}var R=a.followPath(i,r);return R?"{"+R.navigationProperties.join("/")+"}":"";},gotoEntitySet:function(C){var e,s,r=C.getObject(),R;if(typeof r==="string"){e=r;}else{R=a.followPath(C,r);e=R&&R.associationSetEnd&&R.associationSetEnd.entitySet;}if(e){s=C.getModel().getODataEntitySet(e,true);}if(!s){q.sap.log.warning(C.getPath()+": found '"+e+"' which is not a name of an entity set",undefined,"sap.ui.model.odata.AnnotationHelper");}return s;},gotoEntityType:function(C){var e=C.getProperty(""),r=C.getModel().getODataEntityType(e,true);if(!r){q.sap.log.warning(C.getPath()+": found '"+e+"' which is not a name of an entity type",undefined,"sap.ui.model.odata.AnnotationHelper");}return r;},gotoFunctionImport:function(C){var f=C.getProperty("String"),r=C.getModel().getODataFunctionImport(f,true);if(!r){q.sap.log.warning(C.getPath()+": found '"+f+"' which is not a name of a function import",undefined,"sap.ui.model.odata.AnnotationHelper");}return r;},isMultiple:function(i,r){if(arguments.length===1){r=i.getObject("");}var R=a.followPath(i,r);if(R){if(R.navigationAfterMultiple){throw new Error('Association end with multiplicity "*" is not the last one: '+r.AnnotationPath);}return String(R.isMultiple);}return"";},resolvePath:function(C){var r=a.followPath(C,C.getObject());if(!r){q.sap.log.warning(C.getPath()+": Path could not be resolved ",undefined,"sap.ui.model.odata.AnnotationHelper");}return r?r.resolvedPath:undefined;},simplePath:function(i,r){if(arguments.length===1){r=i.getObject("");}return E.getExpression(i,r,false);}};A.format.requiresIContext=true;A.getNavigationPath.requiresIContext=true;A.isMultiple.requiresIContext=true;A.simplePath.requiresIContext=true;return A;},true);
sap.ui.predefine('sap/ui/model/odata/ODataAnnotations',['./AnnotationParser','jquery.sap.global','sap/ui/Device','sap/ui/base/EventProvider'],function(A,q,D,E){"use strict";var O=E.extend("sap.ui.model.odata.ODataAnnotations",{constructor:function(o){E.apply(this,arguments);if(arguments.length!==1){if(typeof arguments[2]==="object"){o=arguments[2];}o.urls=arguments[0];o.metadata=arguments[1];}this.oMetadata=o.metadata;this.oAnnotations=o.annotationData?o.annotationData:{};this.bLoaded=false;this.bAsync=o&&o.async;this.xPath=null;this.oError=null;this.bValidXML=true;this.oRequestHandles=[];this.oLoadEvent=null;this.oFailedEvent=null;this.mCustomHeaders=o.headers?q.extend({},o.headers):{};if(o.urls){this.addUrl(o.urls);if(!this.bAsync){if(this.oError){q.sap.log.error("OData annotations could not be loaded: "+this.oError.message);}}}},metadata:{publicMethods:["parse","getAnnotationsData","attachFailed","detachFailed","attachLoaded","detachLoaded"]}});O.prototype.getAnnotationsData=function(){return this.oAnnotations;};O.prototype.isLoaded=function(){return this.bLoaded;};O.prototype.isFailed=function(){return this.oError!==null;};O.prototype.fireLoaded=function(a){this.fireEvent("loaded",a);return this;};O.prototype.attachLoaded=function(d,f,l){this.attachEvent("loaded",d,f,l);return this;};O.prototype.detachLoaded=function(f,l){this.detachEvent("loaded",f,l);return this;};O.prototype.fireFailed=function(a){this.fireEvent("failed",a);return this;};O.prototype.attachFailed=function(d,f,l){this.attachEvent("failed",d,f,l);return this;};O.prototype.detachFailed=function(f,l){this.detachEvent("failed",f,l);return this;};O.prototype.setHeaders=function(h){this.mCustomHeaders=q.extend({},h);};O.prototype._createXMLDocument=function(x,X){var o=null;if(typeof x==="string"){X=x;x=null;}if(D.browser.msie){o=new ActiveXObject("Microsoft.XMLDOM");o.preserveWhiteSpace=true;if(X.indexOf(" xmlns:xml=")>-1){X=X.replace(' xmlns:xml="http://www.w3.org/XML/1998/namespace"',"").replace(" xmlns:xml='http://www.w3.org/XML/1998/namespace'","");}o.loadXML(X);}else if(x){o=x;}else if(window.DOMParser){o=new DOMParser().parseFromString(X,'application/xml');}else{q.sap.log.fatal("The browser does not support XML parsing. Annotations are not available.");}return o;};O.prototype._documentHasErrors=function(x){return(x.getElementsByTagName("parsererror").length>0||(x.parseError&&x.parseError.errorCode!==0));};O.prototype._mergeAnnotationData=function(a,s){if(!this.oAnnotations){this.oAnnotations={};}A.merge(this.oAnnotations,a);this.bLoaded=true;if(!s){this.fireLoaded({annotations:a});}};O.prototype.setXML=function(x,X,o){var d={success:function(){},error:function(){},fireEvents:false};o=q.extend({},d,o);var a=this._createXMLDocument(x,X);var p=function(a){var r={xmlDoc:a};var b=A.parse(this.oMetadata,a);if(b){r.annotations=b;o.success(r);this._mergeAnnotationData(b,!o.fireEvents);}else{o.error(r);if(o.fireEvents){this.fireFailed(r);}}}.bind(this,a);if(this._documentHasErrors(a)){o.error({xmlDoc:a});return false;}else{var m=this.oMetadata.getServiceMetadata();if(!m||q.isEmptyObject(m)){this.oMetadata.attachLoaded(p);}else{p();}return true;}};O.prototype.addUrl=function(u){var t=this;var U=u;if(Array.isArray(u)&&u.length==0){return Promise.resolve({annotations:this.oAnnotations});}if(!Array.isArray(u)){U=[u];}return new Promise(function(r,R){var l=0;var m={annotations:null,success:[],fail:[]};var f=function(a){l++;if(a.type==="success"){m.success.push(a);}else{m.fail.push(a);}if(l===U.length){m.annotations=t.oAnnotations;if(m.success.length>0){var s={annotations:t.oAnnotations,results:m};t.fireLoaded(s);}if(m.success.length<U.length){var e=new Error("At least one annotation failed to load/parse/merge");e.annotations=m.annotations;e.success=m.success;e.fail=m.fail;R(e);}else{r(m);}}};var i=0;if(t.bAsync){var p=Promise.resolve();for(i=0;i<U.length;++i){var L=t._loadFromUrl.bind(t,U[i]);p=p.then(L,L).then(f,f);}}else{for(i=0;i<U.length;++i){t._loadFromUrl(U[i]).then(f,f);}}});};O.prototype._loadFromUrl=function(u){var t=this;return new Promise(function(r,R){var a={url:u,async:t.bAsync,headers:q.extend({},t.mCustomHeaders,{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()})};var o;var f=function(j,S){if(o&&o.bSuppressErrorHandlerCall){return;}t.oError={type:"fail",url:u,message:S,statusCode:j.statusCode,statusText:j.statusText,responseText:j.responseText};if(t.bAsync){t.oFailedEvent=q.sap.delayedCall(0,t,t.fireFailed,[t.oError]);}else{t.fireFailed(t.oError);}R(t.oError);};var s=function(d,S,j){t.setXML(j.responseXML,j.responseText,{success:function(m){r({type:"success",url:u,message:S,statusCode:j.statusCode,statusText:j.statusText,responseText:j.responseText});},error:function(m){f(j,"Malformed XML document");},url:u});};q.ajax(a).done(s).fail(f);});};O.prototype.destroy=function(){for(var i=0;i<this.oRequestHandles.length;++i){if(this.oRequestHandles[i]){this.oRequestHandles[i].bSuppressErrorHandlerCall=true;this.oRequestHandles[i].abort();this.oRequestHandles[i]=null;}}E.prototype.destroy.apply(this,arguments);if(this.oLoadEvent){q.sap.clearDelayedCall(this.oLoadEvent);}if(this.oFailedEvent){q.sap.clearDelayedCall(this.oFailedEvent);}};return O;});
sap.ui.predefine('sap/ui/model/odata/ODataContextBinding',['sap/ui/model/ContextBinding','sap/ui/model/ChangeReason'],function(C,a){"use strict";var O=C.extend("sap.ui.model.odata.ODataContextBinding",{constructor:function(m,p,c,P,e){C.call(this,m,p,c,P,e);}});O.prototype.initialize=function(){var t=this,r=this.oModel.resolve(this.sPath,this.oContext),d=this.oModel._getObject(this.sPath,this.oContext),R=this.oModel._isReloadNeeded(r,d,this.mParameters);if(this.oModel.oMetadata.isLoaded()){if(r&&R){this.fireDataRequested();}this.oModel.createBindingContext(this.sPath,this.oContext,this.mParameters,function(c){t.oElementContext=c;t._fireChange({reason:a.Context});if(r&&R){t.fireDataReceived();}},R);}};O.prototype.refresh=function(f,c){var t=this,k,s,b=false,r=this.oModel.resolve(this.sPath,this.oContext);if(c){s=this.oModel._getObject(this.sPath,this.oContext);if(s){k=this.oModel._getKey(s);if(k in c){b=true;}}}else{b=true;}if(f||b){if(r){this.fireDataRequested();}this.oModel.createBindingContext(this.sPath,this.oContext,this.mParameters,function(o){if(t.oElementContext===o){if(f){t._fireChange({reason:a.Context});}}else{t.oElementContext=o;t._fireChange({reason:a.Context});}if(r){t.fireDataReceived();}},true);}};O.prototype.setContext=function(c){var t=this,r,d,R;if(this.oContext!==c&&this.isRelative()){this.oContext=c;r=this.oModel.resolve(this.sPath,this.oContext);d=this.oModel._getObject(this.sPath,this.oContext);R=this.oModel._isReloadNeeded(r,d,this.mParameters);if(r&&R){this.fireDataRequested();}this.oModel.createBindingContext(this.sPath,this.oContext,this.mParameters,function(c){t.oElementContext=c;t._fireChange({reason:a.Context});if(r&&R){t.fireDataReceived();}},R);}};return O;});
sap.ui.predefine('sap/ui/model/odata/ODataListBinding',['jquery.sap.global','sap/ui/model/ChangeReason','sap/ui/model/Filter','sap/ui/model/FilterType','sap/ui/model/ListBinding','sap/ui/model/Sorter','./ODataUtils','./CountMode'],function(q,C,F,a,L,S,O,b){"use strict";var c=L.extend("sap.ui.model.odata.ODataListBinding",{constructor:function(m,p,o,s,f,P){L.apply(this,arguments);this.sFilterParams=null;this.sSortParams=null;this.sRangeParams=null;this.sCustomParams=this.oModel.createCustomParams(this.mParameters);this.iStartIndex=0;this.bPendingChange=false;this.aKeys=[];this.bInitial=true;this.sCountMode=(P&&P.countMode)||this.oModel.sDefaultCountMode;this.bRefresh=false;this.bNeedsUpdate=false;this.bDataAvailable=false;this.bIgnoreSuspend=false;if(!this.oModel.getServiceMetadata()){var t=this,d=function(e){t.bInitial=false;t._initSortersFilters();t.oModel.detachMetadataLoaded(d);};this.oModel.attachMetadataLoaded(this,d);}else{this.bInitial=false;this._initSortersFilters();}var r=this.oModel._getObject(this.sPath,this.oContext);this.aExpandRefs=r;if(q.isArray(r)&&!s&&!f){this.aKeys=r;this.iLength=r.length;this.bLengthFinal=true;this.bDataAvailable=true;}else if(r===null&&this.oModel.resolve(this.sPath,this.oContext)){this.aKeys=[];this.iLength=0;this.bLengthFinal=true;this.bDataAvailable=true;}else{if(this.oModel.getServiceMetadata()){this.resetData();}}}});c.prototype.getContexts=function(s,l,t){if(this.bInitial){return[];}this.iLastLength=l;this.iLastStartIndex=s;this.iLastThreshold=t;if(!s){s=0;}if(!l){l=this.oModel.iSizeLimit;if(this.bLengthFinal&&this.iLength<l){l=this.iLength;}}if(!t){t=0;}var d=true,e=this._getContexts(s,l),o={},f;f=this.calculateSection(s,l,t,e);d=e.length!=l&&!(this.bLengthFinal&&e.length>=this.iLength-s);if(this.oModel.getServiceMetadata()){if(!this.bPendingRequest&&f.length>0&&(d||l<f.length)){this.loadData(f.startIndex,f.length);e.dataRequested=true;}}if(this.bRefresh){if(this.bLengthFinal&&this.iLength==0){this.loadData(f.startIndex,f.length,true);e.dataRequested=true;}this.bRefresh=false;}else{for(var i=0;i<e.length;i++){o[e[i].getPath()]=e[i].getObject();}if(this.bUseExtendedChangeDetection){if(this.aLastContexts&&s<this.iLastEndIndex){var g=this;var D=q.sap.arrayDiff(this.aLastContexts,e,function(h,n){return q.sap.equal(h&&g.oLastContextData&&g.oLastContextData[h.getPath()],n&&o&&o[n.getPath()]);},true);e.diff=D;}}this.iLastEndIndex=s+l;this.aLastContexts=e.slice(0);this.oLastContextData=q.sap.extend(true,{},o);}return e;};c.prototype.getCurrentContexts=function(){return this.aLastContexts||[];};c.prototype._getContexts=function(s,l){var d=[],o,k;if(!s){s=0;}if(!l){l=this.oModel.iSizeLimit;if(this.bLengthFinal&&this.iLength<l){l=this.iLength;}}for(var i=s;i<s+l;i++){k=this.aKeys[i];if(!k){break;}o=this.oModel.getContext('/'+k);d.push(o);}return d;};c.prototype.calculateSection=function(s,l,t,d){var e,f,p,P,r,o={},k;f=s;e=0;for(var i=s;i>=Math.max(s-t,0);i--){k=this.aKeys[i];if(!k){P=i+1;break;}}for(var j=s+l;j<s+l+t;j++){k=this.aKeys[j];if(!k){p=j;break;}}r=s-P;if(P&&s>t&&r<t){if(d.length!=l){f=s-t;}else{f=P-t;}e=t;}f=Math.max(f,0);if(f==s){f+=d.length;}if(d.length!=l){e+=l-d.length;}r=p-s-l;if(r==0){e+=t;}if(p&&r<t&&r>0){if(f>s){f=p;e+=t;}}if(this.bLengthFinal&&this.iLength<(e+f)){e=this.iLength-f;}o.startIndex=f;o.length=e;return o;};c.prototype.setContext=function(o){if(this.oContext!=o){this.oContext=o;if(this.isRelative()){this._initSortersFilters();if(!this.bInitial){var r=this.oModel._getObject(this.sPath,this.oContext);this.aExpandRefs=r;if(q.isArray(r)&&!this.aSorters.length>0&&!this.aFilters.length>0){this.aKeys=r;this.iLength=r.length;this.bLengthFinal=true;this._fireChange({reason:C.Context});}else if(!this.oModel.resolve(this.sPath,this.oContext)||r===null){this.aKeys=[];this.iLength=0;this.bLengthFinal=true;this._fireChange({reason:C.Context});}else{this.refresh();}}}}};c.prototype.getDownloadUrl=function(f){var p=[],P;if(f){p.push("$format="+encodeURIComponent(f));}if(this.sSortParams){p.push(this.sSortParams);}if(this.sFilterParams){p.push(this.sFilterParams);}if(this.sCustomParams){p.push(this.sCustomParams);}P=this.oModel.resolve(this.sPath,this.oContext);if(P){return this.oModel._createRequestUrl(P,null,p);}};c.prototype.loadData=function(s,l,p){var t=this,I=false;if(s||l){this.sRangeParams="$skip="+s+"&$top="+l;this.iStartIndex=s;}else{s=this.iStartIndex;}var P=[];if(this.sRangeParams){P.push(this.sRangeParams);}if(this.sSortParams){P.push(this.sSortParams);}if(this.sFilterParams){P.push(this.sFilterParams);}if(this.sCustomParams){P.push(this.sCustomParams);}if(!this.bLengthFinal&&(this.sCountMode==b.Inline||this.sCountMode==b.Both)){P.push("$inlinecount=allpages");I=true;}function f(D){q.each(D.results,function(i,h){t.aKeys[s+i]=t.oModel._getKey(h);});if(I&&D.__count){t.iLength=parseInt(D.__count,10);t.bLengthFinal=true;}if(t.iLength<s+D.results.length){t.iLength=s+D.results.length;t.bLengthFinal=false;}if(D.results.length<l||l===undefined){t.iLength=s+D.results.length;t.bLengthFinal=true;}if(s==0&&D.results.length==0){t.iLength=0;t.bLengthFinal=true;}t.oRequestHandle=null;t.bPendingRequest=false;t.bNeedsUpdate=true;t.bIgnoreSuspend=true;}function d(D){t.fireDataReceived({data:D});}function e(E,A){t.oRequestHandle=null;t.bPendingRequest=false;if(!A){t.aKeys=[];t.iLength=0;t.bLengthFinal=true;t.bDataAvailable=true;t._fireChange({reason:C.Change});}t.fireDataReceived();}function u(h){t.oRequestHandle=h;}var g=this.sPath,o=this.oContext;if(this.isRelative()){g=this.oModel.resolve(g,o);}if(g){if(p){var U=this.oModel._createRequestUrl(g,null,P);this.fireDataRequested();this.oModel.fireRequestSent({url:U,method:"GET",async:true});setTimeout(function(){t.bNeedsUpdate=true;t.checkUpdate();t.oModel.fireRequestCompleted({url:U,method:"GET",async:true,success:true});t.fireDataReceived({data:{}});},0);}else{this.bPendingRequest=true;this.fireDataRequested();this.oModel._loadData(g,P,f,e,false,u,d);}}};c.prototype.getLength=function(){if(this.bLengthFinal||this.iLength==0){return this.iLength;}else{var A=this.iLastThreshold||this.iLastLength||10;return this.iLength+A;}};c.prototype.isLengthFinal=function(){return this.bLengthFinal;};c.prototype._getLength=function(){var t=this;var p=[];if(this.sFilterParams){p.push(this.sFilterParams);}if(this.mParameters&&this.mParameters.custom){var o={custom:{}};q.each(this.mParameters.custom,function(s,v){o.custom[s]=v;});p.push(this.oModel.createCustomParams(o));}function _(D){t.iLength=parseInt(D,10);t.bLengthFinal=true;}function d(e){var E="Request for $count failed: "+e.message;if(e.response){E+=", "+e.response.statusCode+", "+e.response.statusText+", "+e.response.body;}q.sap.log.warning(E);}var P=this.oModel.resolve(this.sPath,this.oContext);if(P){var u=this.oModel._createRequestUrl(P+"/$count",null,p);var r=this.oModel._createRequest(u,"GET",false);r.headers["Accept"]="text/plain, */*;q=0.5";this.oModel._request(r,_,d,undefined,undefined,this.oModel.getServiceMetadata());}};c.prototype.refresh=function(f,m,e){var d=false;if(!f){if(e){var r=this.oModel.resolve(this.sPath,this.oContext);var E=this.oModel.oMetadata._getEntityTypeByPath(r);if(E&&(E.entityType in e)){d=true;}}if(m&&!d){q.each(this.aKeys,function(i,k){if(k in m){d=true;return false;}});}if(!m&&!e){d=true;}}if(f||d){this.abortPendingRequest();this.resetData();this._fireRefresh({reason:C.Refresh});}};c.prototype._fireRefresh=function(A){if(this.oModel.resolve(this.sPath,this.oContext)){this.bRefresh=true;this.fireEvent("refresh",A);}};c.prototype.initialize=function(){if(this.oModel.oMetadata.isLoaded()){if(this.bDataAvailable){this._fireChange({reason:C.Change});}else{this._fireRefresh({reason:C.Refresh});}}};c.prototype.checkUpdate=function(f,m){var d=this.sChangeReason?this.sChangeReason:C.Change,e=false,l,o,t=this,r,R;if(this.bSuspended&&!this.bIgnoreSuspend){return;}if(!f&&!this.bNeedsUpdate){r=this.oModel._getObject(this.sPath,this.oContext);R=q.isArray(r)&&!q.sap.equal(r,this.aExpandRefs);this.aExpandRefs=r;if(R){if(this.aSorters.length>0||this.aFilters.length>0){this.refresh();return;}else{this.aKeys=r;this.iLength=r.length;this.bLengthFinal=true;e=true;}}else if(m){q.each(this.aKeys,function(i,k){if(k in m){e=true;return false;}});}else{e=true;}if(e&&this.aLastContexts){e=false;var g=this._getContexts(this.iLastStartIndex,this.iLastLength,this.iLastThreshold);if(this.aLastContexts.length!=g.length){e=true;}else{q.each(this.aLastContexts,function(i,h){l=t.oLastContextData[h.getPath()];o=g[i].getObject();if(!q.sap.equal(l,o,true)){e=true;return false;}});}}}if(f||e||this.bNeedsUpdate){this.bNeedsUpdate=false;this._fireChange({reason:d});}this.sChangeReason=undefined;this.bIgnoreSuspend=false;};c.prototype.resetData=function(){this.aKeys=[];this.iLength=0;this.bLengthFinal=false;this.sChangeReason=undefined;this.bDataAvailable=false;if(this.oModel.isCountSupported()&&(this.sCountMode==b.Request||this.sCountMode==b.Both)){this._getLength();}};c.prototype.abortPendingRequest=function(){if(this.oRequestHandle){this.oRequestHandle.abort();this.oRequestHandle=null;this.bPendingRequest=false;}};c.prototype.sort=function(s,r){var d=false;if(!s){s=[];}if(s instanceof S){s=[s];}this.aSorters=s;this.createSortParams(s);if(!this.bInitial){this.aKeys=[];this.abortPendingRequest();this.sChangeReason=C.Sort;this._fireRefresh({reason:this.sChangeReason});this._fireSort({sorter:s});d=true;}if(r){return d;}else{return this;}};c.prototype.createSortParams=function(s){this.sSortParams=O.createSortParams(s);};c.prototype.filter=function(f,s,r){var d=false;if(!f){f=[];}if(f instanceof F){f=[f];}if(s==a.Application){this.aApplicationFilters=f;}else{this.aFilters=f;}if(!f||!q.isArray(f)||f.length==0){this.aFilters=[];}if(!this.aApplicationFilters||!q.isArray(this.aApplicationFilters)||this.aApplicationFilters.length===0){this.aApplicationFilters=[];}this.createFilterParams(this.aFilters,this.aApplicationFilters);if(!this.bInitial){this.resetData();this.abortPendingRequest();this.sChangeReason=C.Filter;this._fireRefresh({reason:this.sChangeReason});if(s==a.Application){this._fireFilter({filters:this.aApplicationFilters});}else{this._fireFilter({filters:this.aFilters});}d=true;}if(r){return d;}else{return this;}};c.prototype.createFilterParams=function(d,A){var f,s=O._createFilterParams(d,this.oModel.oMetadata,this.oEntityType),e=O._createFilterParams(A,this.oModel.oMetadata,this.oEntityType);if(s){f=s;}if(e){if(s){f="("+f+")"+"%20and%20"+"("+e+")";}else{f=e;}}if(f){this.sFilterParams="$filter="+f;}else{this.sFilterParams=undefined;}};c.prototype._initSortersFilters=function(){var r=this.oModel.resolve(this.sPath,this.oContext);if(!r){return;}this.oEntityType=this._getEntityType();this.createSortParams(this.aSorters);this.createFilterParams(this.aFilters.concat(this.aApplicationFilters));};c.prototype._getEntityType=function(){var r=this.oModel.resolve(this.sPath,this.oContext);if(r){var e=this.oModel.oMetadata._getEntityTypeByPath(r);return e;}return undefined;};c.prototype.resume=function(){this.bIgnoreSuspend=false;L.prototype.resume.apply(this,arguments);};return c;});
sap.ui.predefine('sap/ui/model/odata/ODataModel',['jquery.sap.global','sap/ui/model/BindingMode','sap/ui/model/Context','sap/ui/model/Model','./ODataUtils','./CountMode','./ODataContextBinding','./ODataListBinding','./ODataMetadata','./ODataPropertyBinding','./ODataTreeBinding','sap/ui/model/odata/ODataMetaModel','sap/ui/thirdparty/URI','sap/ui/thirdparty/datajs'],function(q,B,C,M,O,a,b,c,d,e,f,g,U,h){"use strict";var m=M.extend("sap.ui.model.odata.ODataModel",{constructor:function(s,j,u,p,H,t,w,l){M.apply(this,arguments);var i,r,k,A=null,L,n,D,S,o,v,x=this;if(typeof(s)==="object"){j=s;s=j.serviceUrl;}if(typeof j==="object"){u=j.user;p=j.password;H=j.headers;t=j.tokenHandling;l=j.loadMetadataAsync;w=j.withCredentials;k=j.maxDataServiceVersion;i=j.useBatch;r=j.refreshAfterChange;A=j.annotationURI;L=j.loadAnnotationsJoined;D=j.defaultCountMode;n=j.metadataNamespaces;S=j.serviceUrlParams;o=j.metadataUrlParams;v=j.skipMetadataAnnotationParsing;j=j.json;}this.oServiceData={};this.sDefaultBindingMode=B.OneWay;this.mSupportedBindingModes={"OneWay":true,"OneTime":true,"TwoWay":true};this.bCountSupported=true;this.bJSON=j;this.bCache=true;this.aPendingRequestHandles=[];this.oRequestQueue={};this.aBatchOperations=[];this.oHandler;this.bTokenHandling=t!==false;this.bWithCredentials=w===true;this.bUseBatch=i===true;this.bRefreshAfterChange=r!==false;this.sMaxDataServiceVersion=k;this.bLoadMetadataAsync=!!l;this.bLoadAnnotationsJoined=L===undefined?true:L;this.sAnnotationURI=A;this.sDefaultCountMode=D||a.Both;this.oMetadataLoadEvent=null;this.oMetadataFailedEvent=null;this.bSkipMetadataAnnotationParsing=v;this.oHeaders={};this.setHeaders(H);this.oData={};this.oMetadata=null;this.oAnnotations=null;this.aUrlParams=[];if(s.indexOf("?")==-1){this.sServiceUrl=s;}else{var y=s.split("?");this.sServiceUrl=y[0];if(y[1]){this.aUrlParams.push(y[1]);}}if(sap.ui.getCore().getConfiguration().getStatistics()){this.aUrlParams.push("sap-statistics=true");}this.sServiceUrl=this.sServiceUrl.replace(/\/$/,"");var z=this._createRequestUrl("$metadata",undefined,o);if(!m.mServiceData[z]){m.mServiceData[z]={};}this.oServiceData=m.mServiceData[z];if(this.bTokenHandling&&this.oServiceData.securityToken){this.oHeaders["x-csrf-token"]=this.oServiceData.securityToken;}this.sUser=u;this.sPassword=p;this.oHeaders["Accept-Language"]=sap.ui.getCore().getConfiguration().getLanguageTag();if(!this.oServiceData.oMetadata){this.oServiceData.oMetadata=new d(z,{async:this.bLoadMetadataAsync,user:this.sUser,password:this.sPassword,headers:this.mCustomHeaders,namespaces:n,withCredentials:this.bWithCredentials});}this.oMetadata=this.oServiceData.oMetadata;this.pAnnotationsLoaded=this.oMetadata.loaded();if(this.sAnnotationURI||!this.bSkipMetadataAnnotationParsing){var E=this._getAnnotationParser();if(!this.bSkipMetadataAnnotationParsing){if(!this.bLoadMetadataAsync){this.addAnnotationXML(this.oMetadata.sMetadataBody,!!this.sAnnotationURI);}else{this.pAnnotationsLoaded=this.oMetadata.loaded().then(function(F,P){if(this.bDestroyed){return Promise.reject();}return this.addAnnotationXML(P["metadataString"],F);}.bind(this,!!this.sAnnotationURI));}}if(this.sAnnotationURI){if(this.bLoadMetadataAsync){this.pAnnotationsLoaded=this.pAnnotationsLoaded.then(E.addUrl.bind(E,this.sAnnotationURI));}else{this.pAnnotationsLoaded=Promise.all([this.pAnnotationsLoaded,E.addUrl(this.sAnnotationURI)]);}}}if(S){this.aUrlParams=this.aUrlParams.concat(O._createUrlParamsArray(S));}this.onMetadataLoaded=function(F){x._initializeMetadata();x.initialize();};this.onMetadataFailed=function(F){x.fireMetadataFailed(F.getParameters());};if(!this.oMetadata.isLoaded()){this.oMetadata.attachLoaded(this.onMetadataLoaded);this.oMetadata.attachFailed(this.onMetadataFailed);}if(this.oMetadata.isFailed()){this.refreshMetadata();}if(this.oMetadata.isLoaded()){this._initializeMetadata(true);}if(this.bJSON){if(this.sMaxDataServiceVersion==="3.0"){this.oHeaders["Accept"]="application/json;odata=fullmetadata";}else{this.oHeaders["Accept"]="application/json";}this.oHandler=h.jsonHandler;}else{this.oHeaders["Accept"]="application/atom+xml,application/atomsvc+xml,application/xml";this.oHandler=h.atomHandler;}this.oHeaders["MaxDataServiceVersion"]="2.0";if(this.sMaxDataServiceVersion){this.oHeaders["MaxDataServiceVersion"]=this.sMaxDataServiceVersion;}this.oHeaders["DataServiceVersion"]="2.0";},metadata:{publicMethods:["create","remove","update","submitChanges","getServiceMetadata","read","hasPendingChanges","refresh","refreshMetadata","resetChanges","isCountSupported","setCountSupported","setDefaultCountMode","getDefaultCountMode","forceNoCache","setProperty","getSecurityToken","refreshSecurityToken","setHeaders","getHeaders","setUseBatch"]}});m.M_EVENTS={RejectChange:"rejectChange",MetadataLoaded:"metadataLoaded",MetadataFailed:"metadataFailed",AnnotationsLoaded:"annotationsLoaded",AnnotationsFailed:"annotationsFailed"};m.mServiceData={};m.prototype.fireRejectChange=function(A){this.fireEvent("rejectChange",A);return this;};m.prototype.attachRejectChange=function(D,F,l){this.attachEvent("rejectChange",D,F,l);return this;};m.prototype.detachRejectChange=function(F,l){this.detachEvent("rejectChange",F,l);return this;};m.prototype._initializeMetadata=function(D){var t=this;this.bUseBatch=this.bUseBatch||this.oMetadata.getUseBatch();var i=function(j){if(!!j){t.metadataLoadEvent=q.sap.delayedCall(0,t,i);}else{if(t.oMetadata){t.fireMetadataLoaded({metadata:t.oMetadata});q.sap.log.debug("ODataModel fired metadataloaded");}}};if(this.sAnnotationURI&&this.bLoadAnnotationsJoined){if(this.oAnnotations&&(this.oAnnotations.bInitialized||this.oAnnotations.isFailed())){i(!this.bLoadMetadataAsync);}else{this.oAnnotations.attachEventOnce("loaded",function(){i(true);});}}else{i(D);}};m.prototype.fireAnnotationsLoaded=function(A){if(!this.bLoadMetadataAsync){setTimeout(this.fireEvent.bind(this,"annotationsLoaded",A),0);}else{this.fireEvent("annotationsLoaded",A);}return this;};m.prototype.attachAnnotationsLoaded=function(D,F,l){this.attachEvent("annotationsLoaded",D,F,l);return this;};m.prototype.detachAnnotationsLoaded=function(F,l){this.detachEvent("annotationsLoaded",F,l);return this;};m.prototype.fireAnnotationsFailed=function(A){if(!this.bLoadMetadataAsync){setTimeout(this.fireEvent.bind(this,"annotationsFailed",A),0);}else{this.fireEvent("annotationsFailed",A);}q.sap.log.debug("ODataModel fired annotationsfailed");return this;};m.prototype.attachAnnotationsFailed=function(D,F,l){this.attachEvent("annotationsFailed",D,F,l);return this;};m.prototype.detachAnnotationsFailed=function(F,l){this.detachEvent("annotationsFailed",F,l);return this;};m.prototype.fireMetadataLoaded=function(A){this.fireEvent("metadataLoaded",A);return this;};m.prototype.attachMetadataLoaded=function(D,F,l){this.attachEvent("metadataLoaded",D,F,l);return this;};m.prototype.detachMetadataLoaded=function(F,l){this.detachEvent("metadataLoaded",F,l);return this;};m.prototype.fireMetadataFailed=function(A){this.fireEvent("metadataFailed",A);return this;};m.prototype.attachMetadataFailed=function(D,F,l){this.attachEvent("metadataFailed",D,F,l);return this;};m.prototype.detachMetadataFailed=function(F,l){this.detachEvent("metadataFailed",F,l);return this;};m.prototype.refreshMetadata=function(){if(this.oMetadata&&this.oMetadata.refresh){this.oMetadata.refresh();}};m.prototype._createRequestUrl=function(p,o,u,i,j){var k,r,s,l="";if(p&&p.indexOf('?')!=-1){s=p.substr(p.indexOf('?')+1);p=p.substr(0,p.indexOf('?'));}r=this._normalizePath(p,o);if(!i){l=this.sServiceUrl+r;}else{l=r.substr(r.indexOf('/')+1);}k=O._createUrlParamsArray(u);if(this.aUrlParams){k=k.concat(this.aUrlParams);}if(s){k.push(s);}if(k.length>0){l+="?"+k.join("&");}if(j===undefined){j=true;}if(j===false){var t=q.now();var n=l.replace(/([?&])_=[^&]*/,"$1_="+t);l=n+((n===l)?(/\?/.test(l)?"&":"?")+"_="+t:"");}return l;};m.prototype._loadData=function(p,P,s,E,i,H,j){var r,R,t=this;function _(D,o){var v=D,w={};if(o.statusCode==204){if(s){s(null);}if(j){j(null);}t.fireRequestCompleted({url:R.requestUri,type:"GET",async:R.async,info:"Accept headers:"+t.oHeaders["Accept"],infoObject:{acceptHeaders:t.oHeaders["Accept"]},success:true});return;}if(!v){q.sap.log.fatal("The following problem occurred: No data was retrieved by service: "+o.requestUri);t.fireRequestCompleted({url:R.requestUri,type:"GET",async:R.async,info:"Accept headers:"+t.oHeaders["Accept"],infoObject:{acceptHeaders:t.oHeaders["Accept"]},success:false});return false;}if(t.bUseBatch){var x=t._getBatchErrors(D);if(x.length>0){k(x[0]);return false;}if(v.__batchResponses&&v.__batchResponses.length>0){v=v.__batchResponses[0].data;}else{q.sap.log.fatal("The following problem occurred: No data was retrieved by service: "+o.requestUri);}}n=n.concat(v.results);if(v.__next){var y=new U(v.__next);R.requestUri=y.absoluteTo(o.requestUri).toString();l(R);}else{q.sap.extend(v.results,n);if(v.results&&!q.isArray(v.results)){v=v.results;}t._importData(v,w);if(t.sChangeKey&&w){var z=t.sChangeKey.substr(t.sChangeKey.lastIndexOf('/')+1);if(w[z]){delete t.oRequestQueue[t.sChangeKey];t.sChangeKey=null;}}if(s){s(v);}t.checkUpdate(false,false,w);if(j){j(v);}t.fireRequestCompleted({url:R.requestUri,type:"GET",async:R.async,info:"Accept headers:"+t.oHeaders["Accept"],infoObject:{acceptHeaders:t.oHeaders["Accept"]},success:true});}}function k(o){if(t.bTokenHandling&&o.response){var T=t._getHeader("x-csrf-token",o.response.headers);if(!R.bTokenReset&&o.response.statusCode=='403'&&T&&T.toLowerCase()=="required"){t.resetSecurityToken();R.bTokenReset=true;l();return;}}var v=t._handleError(o);if(E){E(o,r&&r.bAborted);}t.fireRequestCompleted({url:R.requestUri,type:"GET",async:R.async,info:"Accept headers:"+t.oHeaders["Accept"],infoObject:{acceptHeaders:t.oHeaders["Accept"]},success:false,errorobject:v});if(!r||!r.bAborted){v.url=R.requestUri;t.fireRequestFailed(v);}}function l(){if(t.bUseBatch){t.updateSecurityToken();var o=U.parse(R.requestUri).query;var v=t._createRequestUrl(p,null,o,t.bUseBatch);R=t._createRequest(v,"GET",true);var w=t._createBatchRequest([R],true);r=t._request(w,_,k,h.batchHandler,undefined,t.getServiceMetadata());}else{r=t._request(R,_,k,t.oHandler,undefined,t.getServiceMetadata());}if(H){var W={abort:function(){r.bAborted=true;r.abort();}};H(W);}}var n=[];var u=this._createRequestUrl(p,null,P,null,i||this.bCache);R=this._createRequest(u,"GET",true);this.fireRequestSent({url:R.requestUri,type:"GET",async:R.async,info:"Accept headers:"+this.oHeaders["Accept"],infoObject:{acceptHeaders:this.oHeaders["Accept"]}});l();};m.prototype._importData=function(D,k){var t=this,l,K,r,E;if(D.results){l=[];q.each(D.results,function(i,j){l.push(t._importData(j,k));});return l;}else{K=this._getKey(D);E=this.oData[K];if(!E){E=D;this.oData[K]=E;}q.each(D,function(n,p){if(p&&(p.__metadata&&p.__metadata.uri||p.results)&&!p.__deferred){r=t._importData(p,k);if(q.isArray(r)){E[n]={__list:r};}else{E[n]={__ref:r};}}else if(!p||!p.__deferred){E[n]=p;}});k[K]=true;return K;}};m.prototype._removeReferences=function(D){var t=this,l;if(D.results){l=[];q.each(D.results,function(i,j){l.push(t._removeReferences(j));});return l;}else{q.each(D,function(p,o){if(o){if(o["__ref"]||o["__list"]){delete D[p];}}});return D;}};m.prototype._restoreReferences=function(D){var t=this,l,r=[];if(D.results){l=[];q.each(D.results,function(i,j){l.push(t._restoreReferences(j));});return l;}else{q.each(D,function(p,o){if(o&&o["__ref"]){var i=t._getObject("/"+o["__ref"]);if(i){delete o["__ref"];D[p]=i;t._restoreReferences(i);}}else if(o&&o["__list"]){q.each(o["__list"],function(j,E){var i=t._getObject("/"+o["__list"][j]);if(i){r.push(i);t._restoreReferences(i);}});delete o["__list"];o.results=r;r=[];}});return D;}};m.prototype.removeData=function(){this.oData={};};m.prototype.initialize=function(){var i=this.aBindings.slice(0);q.each(i,function(I,o){o.initialize();});};m.prototype.refresh=function(F,r){if(r){this.removeData();}this._refresh(F);};m.prototype._refresh=function(F,i,E){var j=this.aBindings.slice(0);q.each(j,function(I,o){o.refresh(F,i,E);});};m.prototype.checkUpdate=function(F,A,i,j){if(A){if(!this.sUpdateTimer){this.sUpdateTimer=q.sap.delayedCall(0,this,function(){this.checkUpdate(F,false,i);});}return;}if(this.sUpdateTimer){q.sap.clearDelayedCall(this.sUpdateTimer);this.sUpdateTimer=null;}var k=this.aBindings.slice(0);q.each(k,function(I,o){if(!j||this.isMetaModelPath(o.getPath())){o.checkUpdate(F,i);}}.bind(this));};m.prototype.bindProperty=function(p,o,P){var i=new e(this,p,o,P);return i;};m.prototype.bindList=function(p,o,s,F,P){var i=new c(this,p,o,s,F,P);return i;};m.prototype.bindTree=function(p,o,F,P){var i=new f(this,p,o,F,P);return i;};m.prototype.createBindingContext=function(p,o,P,i,r){var r=!!r,F=this.resolve(p,o);if(typeof o=="function"){i=o;o=null;}if(typeof P=="function"){i=P;P=null;}if(!F){if(i){i(null);}return null;}var D=this._getObject(p,o),k,n,t=this;if(!r){r=this._isReloadNeeded(F,D,P);}if(!r){k=this._getKey(D);n=this.getContext('/'+k);if(i){i(n);}return n;}if(i){var I=!q.sap.startsWith(p,"/");if(F){var j=[],s=this.createCustomParams(P);if(s){j.push(s);}this._loadData(F,j,function(D){k=D?t._getKey(D):undefined;if(k&&o&&I){var l=o.getPath();l=l.substr(1);if(t.oData[l]){t.oData[l][p]={__ref:k};}}n=t.getContext('/'+k);i(n);},function(){i(null);});}else{i(null);}}};m.prototype._isReloadNeeded=function(F,D,p){var n,N=[],s,S=[];if(!F){return false;}if(!D){return true;}if(p&&p["expand"]){n=p["expand"].replace(/\s/g,"");N=n.split(',');}if(N){for(var i=0;i<N.length;i++){var j=N[i].indexOf("/");if(j!==-1){var k=N[i].slice(0,j);var l=N[i].slice(j+1);N[i]=[k,l];}}}for(var i=0;i<N.length;i++){var o=N[i];if(q.isArray(o)){var r=D[o[0]];var t=o[1];if(!r||(r&&r.__deferred)){return true;}else{if(r){if(r.__list&&r.__list.length>0){for(var u=0;u<r.__list.length;u++){var P="/"+r.__list[u];var v=this.getObject(P);var R=this._isReloadNeeded(P,v,{expand:t});if(R){return true;}}}else if(r.__ref){var P="/"+r.__ref;var v=this.getObject(P);var R=this._isReloadNeeded(P,v,{expand:t});if(R){return true;}}}}}else{if(D[o]===undefined||(D[o]&&D[o].__deferred)){return true;}}}if(p&&p["select"]){s=p["select"].replace(/\s/g,"");S=s.split(',');}for(var i=0;i<S.length;i++){if(D[S[i]]===undefined){return true;}}if(S.length==0){var E=this.oMetadata._getEntityTypeByPath(F);if(!E){return false;}else{for(var i=0;i<E.property.length;i++){if(D[E.property[i].name]===undefined){return true;}}}}return false;};m.prototype.destroyBindingContext=function(o){};m.prototype.createCustomParams=function(p){var i=[],j,s={expand:true,select:true};for(var n in p){if(n in s){i.push("$"+n+"="+q.sap.encodeURL(p[n]));}if(n=="custom"){j=p[n];for(var n in j){if(n.indexOf("$")==0){q.sap.log.warning("Trying to set OData parameter "+n+" as custom query option!");}else{i.push(n+"="+q.sap.encodeURL(j[n]));}}}}return i.join("&");};m.prototype.bindContext=function(p,o,P){var i=new b(this,p,o,P);return i;};m.prototype.setCountSupported=function(i){this.bCountSupported=i;};m.prototype.isCountSupported=function(){return this.bCountSupported;};m.prototype.setDefaultCountMode=function(s){this.sDefaultCountMode=s;};m.prototype.getDefaultCountMode=function(){return this.sDefaultCountMode;};m.prototype._getKey=function(o,D){var k,u;if(o instanceof C){k=o.getPath().substr(1);}else if(o&&o.__metadata&&o.__metadata.uri){u=o.__metadata.uri;k=u.substr(u.lastIndexOf("/")+1);}if(D){k=decodeURIComponent(k);}return k;};m.prototype.getKey=function(o,D){return this._getKey(o,D);};m.prototype.createKey=function(s,k,D){var E=this.oMetadata._getEntityTypeByPath(s),K=s,t=this,n,v,p;K+="(";if(E.key.propertyRef.length==1){n=E.key.propertyRef[0].name;p=this.oMetadata._getPropertyMetadata(E,n);v=O.formatValue(k[n],p.type);K+=D?v:encodeURIComponent(v);}else{q.each(E.key.propertyRef,function(i,P){if(i>0){K+=",";}n=P.name;p=t.oMetadata._getPropertyMetadata(E,n);v=O.formatValue(k[n],p.type);K+=n;K+="=";K+=D?v:encodeURIComponent(v);});}K+=")";return K;};m.prototype.getProperty=function(p,o,i){var v=this._getObject(p,o);if(i==null||i==undefined){return v;}if(!q.isPlainObject(v)){return v;}v=q.sap.extend(true,{},v);if(i==true){return this._restoreReferences(v);}else{return this._removeReferences(v);}};m.prototype._getObject=function(p,o){var n=this.isLegacySyntax()?this.oData:null,r=this.resolve(p,o),s,D,i,j,k,l;if(this.oMetadata&&r&&r.indexOf('/#')>-1){if(this.isMetaModelPath(r)){s=r.indexOf('/##');l=this.getMetaModel();if(!this.bMetaModelLoaded){return null;}D=r.substr(0,s);i=r.substr(s+3);j=l.getMetaContext(D);n=l.getProperty(i,j);}else{n=this.oMetadata._getAnnotation(r);}}else{if(o){k=o.getPath();k=k.substr(1);n=this.oData[k];}if(!p){return n;}var P=p.split("/"),I=0;if(!P[0]){n=this.oData;I++;}while(n&&P[I]){n=n[P[I]];if(n){if(n.__ref){n=this.oData[n.__ref];}else if(n.__list){n=n.__list;}else if(n.__deferred){n=undefined;}}I++;}}return n;};m.prototype.updateSecurityToken=function(){if(this.bTokenHandling){if(!this.oServiceData.securityToken){this.refreshSecurityToken();}if(this.bTokenHandling){this.oHeaders["x-csrf-token"]=this.oServiceData.securityToken;}}};m.prototype.resetSecurityToken=function(){delete this.oServiceData.securityToken;delete this.oHeaders["x-csrf-token"];};m.prototype.getSecurityToken=function(){var t=this.oServiceData.securityToken;if(!t){this.refreshSecurityToken();t=this.oServiceData.securityToken;}return t;};m.prototype.refreshSecurityToken=function(s,E,A){var t=this,u,T;A=A===true;u=this._createRequestUrl("/");var r=this._createRequest(u,"GET",A);r.headers["x-csrf-token"]="Fetch";function _(D,R){if(R){T=t._getHeader("x-csrf-token",R.headers);if(T){t.oServiceData.securityToken=T;t.oHeaders["x-csrf-token"]=T;}else{t.resetSecurityToken();t.bTokenHandling=false;}}if(s){s(D,R);}}function i(o){t.resetSecurityToken();t.bTokenHandling=false;t._handleError(o);if(E){E(o);}}return this._request(r,_,i,undefined,undefined,this.getServiceMetadata());};m.prototype._submitRequest=function(r,i,s,E,H,I){var t=this,R,j={};function _(D,o){if(i&&H){var n=t._getBatchErrors(D);if(n.length>0){k(n[0]);return false;}if(D.__batchResponses&&D.__batchResponses.length>0){R=D.__batchResponses[0].data;if(!R&&D.__batchResponses[0].__changeResponses){R=D.__batchResponses[0].__changeResponses[0].data;}}D=R;}if(I){if(D&&D.__batchResponses){q.each(D.__batchResponses,function(p,o){if(o&&o.data){t._importData(o.data,j);}});}}t._handleETag(r,o,i);t._updateRequestQueue(r,i);if(t._isRefreshNeeded(r,o)){t._refresh(false,r.keys,r.entityTypes);}if(s){s(D,o);}}function k(o){if(t.bTokenHandling&&o.response){var T=t._getHeader("x-csrf-token",o.response.headers);if(!r.bTokenReset&&o.response.statusCode=='403'&&T&&T.toLowerCase()=="required"){t.resetSecurityToken();r.bTokenReset=true;l();return;}}t._handleError(o);if(E){E(o);}}function l(){if(t.bTokenHandling&&r.method!=="GET"){t.updateSecurityToken();if(t.bTokenHandling){r.headers["x-csrf-token"]=t.oServiceData.securityToken;}}if(i){return t._request(r,_,k,h.batchHandler,undefined,t.getServiceMetadata());}else{return t._request(r,_,k,t.oHandler,undefined,t.getServiceMetadata());}}return l();};m.prototype._createBatchRequest=function(n,A){var u,r,o={},p={},K={},E={};p.__batchRequests=n;u=this.sServiceUrl+"/$batch";if(this.aUrlParams.length>0){u+="?"+this.aUrlParams.join("&");}q.extend(o,this.mCustomHeaders,this.oHeaders);delete o["Content-Type"];r={headers:o,requestUri:u,method:"POST",data:p,user:this.sUser,password:this.sPassword,async:A};if(A){r.withCredentials=this.bWithCredentials;}q.each(n,function(i,s){if(s["__changeRequests"]){q.each(s["__changeRequests"],function(j,t){if(t.keys&&t.method!="POST"){q.each(t.keys,function(k,l){K[k]=l;});}else if(t.entityTypes&&t.method=="POST"){q.each(t.entityTypes,function(l,k){E[l]=k;});}});}});r.keys=K;r.entityTypes=E;return r;};m.prototype._handleETag=function(r,R,k){var u,E,l,n,o,p;if(k){o=r.data.__batchRequests;p=R.data.__batchResponses;if(p&&o){for(var i=0;i<o.length;i++){l=o[i].__changeRequests;if(p[i]){n=p[i].__changeResponses;if(l&&n){for(var j=0;j<l.length;j++){if(l[j].method=="MERGE"||l[j].method=="PUT"){u=l[j].requestUri.replace(this.sServiceUrl+'/','');if(!q.sap.startsWith(u,"/")){u="/"+u;}E=this._getObject(u);if(E&&E.__metadata&&n[j].headers&&n[j].headers.ETag){E.__metadata.etag=n[j].headers.ETag;}}}}}else{q.sap.log.warning("could not update ETags for batch request: corresponding response for request missing");}}}else{q.sap.log.warning("could not update ETags for batch request: no batch responses/requests available");}}else{u=r.requestUri.replace(this.sServiceUrl+'/','');if(!q.sap.startsWith(u,"/")){u="/"+u;}E=this._getObject(u);if(E&&E.__metadata&&R.headers.ETag){E.__metadata.etag=R.headers.ETag;}}};m.prototype._handleBatchErrors=function(r,D){this._getBatchErrors(D);this._handleETag();};m.prototype._getBatchErrors=function(D){var E=[],s;q.each(D.__batchResponses,function(i,o){if(o.message){s="The following problem occurred: "+o.message;if(o.response){s+=o.response.statusCode+","+o.response.statusText+","+o.response.body;}E.push(o);q.sap.log.fatal(s);}if(o.__changeResponses){q.each(o.__changeResponses,function(i,j){if(j.message){s="The following problem occurred: "+j.message;if(j.response){s+=j.response.statusCode+","+j.response.statusText+","+j.response.body;}E.push(j);q.sap.log.fatal(s);}});}});return E;};m.prototype._handleError=function(E){var p={},t;var s="The following problem occurred: "+E.message;p.message=E.message;if(E.response){if(this.bTokenHandling){t=this._getHeader("x-csrf-token",E.response.headers);if(E.response.statusCode=='403'&&t&&t.toLowerCase()=="required"){this.resetSecurityToken();}}s+=E.response.statusCode+","+E.response.statusText+","+E.response.body;p.statusCode=E.response.statusCode;p.statusText=E.response.statusText;p.responseText=E.response.body;}q.sap.log.fatal(s);return p;};m.prototype.getData=function(p,o,i){return this.getProperty(p,o,i);};m.prototype._getETag=function(p,P,E){var s,i,I;if(E){s=E;}else{if(P&&P.__metadata){s=P.__metadata.etag;}else if(p){i=p.replace(this.sServiceUrl+'/','');I=i.indexOf("?");if(I>-1){i=i.substr(0,I);}if(this.oData.hasOwnProperty(i)){s=this.getProperty('/'+i+'/__metadata/etag');}}}return s;};m.prototype._createRequest=function(u,s,A,p,E){var o={},i;q.extend(o,this.mCustomHeaders,this.oHeaders);i=this._getETag(u,p,E);if(i&&s!="GET"){o["If-Match"]=i;}if(this.bJSON&&s!="DELETE"&&this.sMaxDataServiceVersion==="2.0"){o["Content-Type"]="application/json";}if(s=="MERGE"&&!this.bUseBatch){o["x-http-method"]="MERGE";s="POST";}var r={headers:o,requestUri:u,method:s,user:this.sUser,password:this.sPassword,async:A};if(p){r.data=p;}if(A){r.withCredentials=this.bWithCredentials;}return r;};m.prototype._isRefreshNeeded=function(r,R){var i=false,E,j=[],t=this;if(!this.bRefreshAfterChange){return i;}if(r.data&&q.isArray(r.data.__batchRequests)){if(R){j=t._getBatchErrors(R.data);q.each(j,function(I,o){if(o.response&&o.response.statusCode=="412"){E=o.response.statusCode;return false;}});if(!!E){return false;}}q.each(r.data.__batchRequests,function(I,o){if(q.isArray(o.__changeRequests)){q.each(o.__changeRequests,function(I,k){i=i||t._isRefreshNeeded(k);return!i;});}return!i;});}else{if(r.method==="GET"){return false;}else{if(R&&R.statusCode=="412"){i=false;}else{i=true;}}}return i;};m.prototype.update=function(p,D,P){var s,E,i,r,u,o,j,R,k,S,K,l,A=false;if(P instanceof C||arguments.length>3){o=P;s=arguments[3];E=arguments[4];i=arguments[5];}else{o=P.context||P.oContext;s=P.success||P.fnSuccess;E=P.error||P.fnError;j=P.eTag||P.sETag;i=typeof(P.merge)=="undefined"?P.bMerge===true:P.merge===true;A=typeof(P.async)=="undefined"?P.bAsync===true:P.async===true;l=P.urlParameters;}u=this._createRequestUrl(p,o,l,this.bUseBatch);if(i){r=this._createRequest(u,"MERGE",A,D,j);}else{r=this._createRequest(u,"PUT",A,D,j);}p=this._normalizePath(p,o);S=this._getObject(p);r.keys={};if(S){K=this._getKey(S);r.keys[K]=true;}if(this.bUseBatch){k=this._createBatchRequest([{__changeRequests:[r]}],A);R=this._submitRequest(k,this.bUseBatch,s,E,true);}else{R=this._submitRequest(r,this.bUseBatch,s,E);}return R;};m.prototype.create=function(p,D,P){var r,o,u,R,E,i,s,j,A=false,k;if(P&&typeof(P)=="object"&&!(P instanceof C)){i=P.context;s=P.success;k=P.urlParameters;j=P.error;A=P.async===true;}else{i=P;s=arguments[3];j=arguments[4];}u=this._createRequestUrl(p,i,k,this.bUseBatch);r=this._createRequest(u,"POST",A,D);p=this._normalizePath(p,i);E=this.oMetadata._getEntityTypeByPath(p);r.entityTypes={};if(E){r.entityTypes[E.entityType]=true;}if(this.bUseBatch){o=this._createBatchRequest([{__changeRequests:[r]}],A);R=this._submitRequest(o,this.bUseBatch,s,j,true);}else{R=this._submitRequest(r,this.bUseBatch,s,j);}return R;};m.prototype.remove=function(p,P){var o,E,s,S,i,r,u,j,k,l,_,n,R,t,A=false,v=this;if((P&&P instanceof C)||arguments[2]){o=P;S=arguments[2];i=arguments[3];}else if(P){o=P.context||P.oContext;S=P.success||P.fnSuccess;i=P.error||P.fnError;j=P.eTag||P.sETag;l=P.payload||P.oPayload;A=typeof(P.async)=="undefined"?P.bAsync===true:P.async===true;t=P.urlParameters;}_=function(D,w){E=u.substr(u.lastIndexOf('/')+1);if(E.indexOf('?')!=-1){E=E.substr(0,E.indexOf('?'));}delete v.oData[E];delete v.mContexts["/"+E];if(S){S(D,w);}};u=this._createRequestUrl(p,o,t,this.bUseBatch);r=this._createRequest(u,"DELETE",A,l,j);p=this._normalizePath(p,o);s=this._getObject(p);r.keys={};if(s){k=this._getKey(s);r.keys[k]=true;}if(this.bUseBatch){n=this._createBatchRequest([{__changeRequests:[r]}],A);R=this._submitRequest(n,this.bUseBatch,_,i,true);}else{R=this._submitRequest(r,this.bUseBatch,_,i);}return R;};m.prototype.callFunction=function(F,p){var r,o,u,R,i,P,j,s,E,A,k="GET",l={},t=this;if(p&&typeof(p)=="object"){k=p.method?p.method:k;P=p.urlParameters;j=p.context;s=p.success;E=p.error;A=p.async===true;}else{k=p;P=arguments[2];j=arguments[3];s=arguments[4];E=arguments[5];A=arguments[6]===true;}i=this.oMetadata._getFunctionImportMetadata(F,k);if(i){u=this._createRequestUrl(F,j,null,this.bUseBatch);var n=U(u);if(i.parameter!=null){q.each(P,function(v,w){var x=q.grep(i.parameter,function(z){return z.name==v&&z.mode=="In";});if(x!=null&&x.length>0){var y=x[0];l[v]=O.formatValue(w,y.type);}else{q.sap.log.warning("Parameter "+v+" is not defined for function call "+F+"!");}});}if(k==="GET"){return t.read(F,j,l,true,s,E);}else{q.each(l,function(v,w){n.addQuery(v,w);});r=this._createRequest(n.toString(),k,A);if(this.bUseBatch){o=this._createBatchRequest([{__changeRequests:[r]}],A);R=this._submitRequest(o,this.bUseBatch,s,E,true);}else{R=this._submitRequest(r,this.bUseBatch,s,E);}return R;}}};m.prototype.read=function(p,P){var r,u,R,o,i,j,A,s,E,F,S,k,l,n,t,v;if(P&&typeof(P)=="object"&&!(P instanceof C)){i=P.context;j=P.urlParameters;A=P.async!==false;s=P.success;E=P.error;F=P.filters;S=P.sorters;}else{i=P;j=arguments[2];A=arguments[3]!==false;s=arguments[4];E=arguments[5];}A=A!==false;v=O._createUrlParamsArray(j);l=O.createSortParams(S);if(l){v.push(l);}if(F&&!this.oMetadata){q.sap.log.fatal("Tried to use filters in read method before metadata is available.");}else{t=this._normalizePath(p,i);n=this.oMetadata&&this.oMetadata._getEntityTypeByPath(t);k=O.createFilterParams(F,this.oMetadata,n);if(k){v.push(k);}}u=this._createRequestUrl(p,i,v,this.bUseBatch);r=this._createRequest(u,"GET",A);if(this.bUseBatch){o=this._createBatchRequest([r],A);R=this._submitRequest(o,this.bUseBatch,s,E,true);}else{R=this._submitRequest(r,this.bUseBatch,s,E);}return R;};m.prototype.createBatchOperation=function(p,s,D,P){var o={},E,S,k,i;q.extend(o,this.mCustomHeaders,this.oHeaders);if(q.sap.startsWith(p,"/")){p=p.substr(1);}if(P){E=P.sETag;}if(s!="GET"){E=this._getETag(p,D,E);if(E){o["If-Match"]=E;}}if(this.bJSON){if(s!="DELETE"&&s!="GET"&&this.sMaxDataServiceVersion==="2.0"){o["Content-Type"]="application/json";}}else{o["Content-Type"]="application/atom+xml";}var r={requestUri:p,method:s.toUpperCase(),headers:o};if(D){r.data=D;}if(s!="GET"&&s!="POST"){if(p&&p.indexOf("/")!=0){p='/'+p;}S=this._getObject(p);if(S){k=this._getKey(S);r.keys={};r.keys[k]=true;}}else if(s=="POST"){var n=p;if(p.indexOf('?')!=-1){n=p.substr(0,p.indexOf('?'));}i=this.oMetadata._getEntityTypeByPath(n);if(i){r.entityTypes={};r.entityTypes[i.entityType]=true;}}return r;};m.prototype.addBatchReadOperations=function(r){if(!q.isArray(r)||r.length<=0){q.sap.log.warning("No array with batch operations provided!");return false;}var t=this;q.each(r,function(i,R){if(R.method!="GET"){q.sap.log.warning("Batch operation should be a GET operation!");return false;}t.aBatchOperations.push(R);});};m.prototype.addBatchChangeOperations=function(i){if(!q.isArray(i)||i.length<=0){return false;}q.each(i,function(I,o){if(o.method!="POST"&&o.method!="PUT"&&o.method!="MERGE"&&o.method!="DELETE"){q.sap.log.warning("Batch operation should be a POST/PUT/MERGE/DELETE operation!");return false;}});this.aBatchOperations.push({__changeRequests:i});};m.prototype.clearBatch=function(){this.aBatchOperations=[];};m.prototype.submitBatch=function(s,E,A,i){var r,R,t=this;function _(D,k){if(s){s(D,k,t._getBatchErrors(D));}}if(!(typeof(s)=="function")){var o=A;var j=E;A=s;s=j;E=o;}A=A!==false;if(this.aBatchOperations.length<=0){q.sap.log.warning("No batch operations in batch. No request will be triggered!");return false;}r=this._createBatchRequest(this.aBatchOperations,A);R=this._submitRequest(r,true,_,E,false,i);this.clearBatch();return R;};m.prototype.getServiceMetadata=function(){if(this.oMetadata&&this.oMetadata.isLoaded()){return this.oMetadata.getServiceMetadata();}};m.prototype.getServiceAnnotations=function(){if(this.oAnnotations&&this.oAnnotations.getAnnotationsData){return this.oAnnotations.getAnnotationsData();}};m.prototype.submitChanges=function(s,E,p){var r,P,t=this,i,j,T,k,S,K;if(this.sChangeKey){i=this.sChangeKey.replace(this.sServiceUrl,'');S=this._getObject(i);P=S;if(q.isPlainObject(S)){P=q.sap.extend(true,{},S);if(P.__metadata){T=P.__metadata.type;k=P.__metadata.etag;delete P.__metadata;if(T||k){P.__metadata={};}if(T){P.__metadata.type=T;}if(!!k){P.__metadata.etag=k;}}q.each(P,function(u,v){if(v&&v.__deferred){delete P[u];}});var o=this.oMetadata._getEntityTypeByPath(i);if(o){var n=this.oMetadata._getNavigationPropertyNames(o);q.each(n,function(I,N){delete P[N];});}P=this._removeReferences(P);}if(p&&p.sETag){j=p.sETag;}r=this._createRequest(this.sChangeKey,"MERGE",true,P,j);if(this.sUrlParams){r.requestUri+="?"+this.sUrlParams;}r.keys={};if(S){K=this._getKey(S);r.keys[K]=true;}this.oRequestQueue[this.sChangeKey]=r;}if(q.isEmptyObject(this.oRequestQueue)){return undefined;}if(this.bUseBatch){var l=[];q.each(this.oRequestQueue,function(K,u){delete u._oRef;var R=q.sap.extend(true,{},u);u._oRef=R;R.requestUri=R.requestUri.replace(t.sServiceUrl+'/','');R.data._bCreate?delete R.data._bCreate:false;l.push(R);});r=this._createBatchRequest([{__changeRequests:l}],true);this._submitRequest(r,this.bUseBatch,s,E,true);}else{q.each(this.oRequestQueue,function(K,u){delete u._oRef;var R=q.sap.extend(true,{},u);u._oRef=R;if(R.data&&R.data._bCreate){delete R.data._bCreate;}t._submitRequest(R,this.bUseBatch,s,E,true);});}return undefined;};m.prototype._updateRequestQueue=function(r,k){var l,n,o,t=this;if(k){l=r.data.__batchRequests;if(l){for(var i=0;i<l.length;i++){n=l[i].__changeRequests;if(n){for(var j=0;j<n.length;j++){o=n[j];q.each(this.oRequestQueue,function(K,p){if(p._oRef===o&&K!==t.sChangeKey){delete t.oRequestQueue[K];delete t.oData[K];delete t.mContexts["/"+K];}else if(t.sChangeKey&&K===t.sChangeKey){delete t.oRequestQueue[K];t.sChangeKey=null;}});}}}}}else{q.each(this.oRequestQueue,function(K,p){if(p._oRef===r&&K!==t.sChangeKey){delete t.oRequestQueue[K];delete t.oData[K];delete t.mContexts["/"+K];}else if(t.sChangeKey&&K===t.sChangeKey){delete t.oRequestQueue[K];t.sChangeKey=null;}});}};m.prototype.resetChanges=function(s,E){var p;if(this.sChangeKey){p=this.sChangeKey.replace(this.sServiceUrl,'');this._loadData(p,null,s,E);}};m.prototype.setProperty=function(p,v,o,A){var P,E={},D={},s=this._createRequestUrl(p,o),j=p.substring(0,p.lastIndexOf("/")),k,l,n={},r=false;if(!this.resolve(p,o)){return false;}s=s.replace(this.sServiceUrl+'/','');s=s.substring(0,s.indexOf("/"));s=this.sServiceUrl+'/'+s;P=p.substr(p.lastIndexOf("/")+1);D=this._getObject(j,o);if(!D){return false;}l=j.split("/");for(var i=l.length-1;i>=0;i--){E=this._getObject(l.join("/"),o);if(E){k=this._getKey(E);if(k){break;}}l.splice(i-1,1);}if(!k){k=this._getKey(o);}if(k){n[k]=true;}if(D._bCreate){D[P]=v;r=true;this.checkUpdate(false,A,n);}else{if(!this.sChangeKey){this.sChangeKey=s;}if(this.sChangeKey==s){D[P]=v;r=true;this.checkUpdate(false,A,n);}else{this.fireRejectChange({rejectedValue:v,oldValue:D[P]});}}return r;};m.prototype._isHeaderPrivate=function(H){switch(H.toLowerCase()){case"accept":case"accept-language":case"maxdataserviceversion":case"dataserviceversion":return true;case"x-csrf-token":return this.bTokenHandling;default:return false;}};m.prototype.setHeaders=function(H){var i={},t=this;if(H){q.each(H,function(s,j){if(t._isHeaderPrivate(s)){q.sap.log.warning("Not allowed to modify private header: "+s);}else{i[s]=j;}});this.mCustomHeaders=i;}else{this.mCustomHeaders={};}if(this.oAnnotations){this.oAnnotations.setHeaders(this.mCustomHeaders);}};m.prototype.getHeaders=function(){return q.extend({},this.mCustomHeaders,this.oHeaders);};m.prototype._getHeader=function(F,H){var s;for(s in H){if(s.toLowerCase()===F.toLowerCase()){return H[s];}}return null;};m.prototype.hasPendingChanges=function(){return this.sChangeKey!=null;};m.prototype.updateBindings=function(F){this.checkUpdate(F);};m.prototype.forceNoCache=function(F){this.bCache=!F;};m.prototype.setTokenHandlingEnabled=function(t){this.bTokenHandling=t;};m.prototype.setUseBatch=function(u){this.bUseBatch=u;};m.prototype.formatValue=function(v,t){return O.formatValue(v,t);};m.prototype.deleteCreatedEntry=function(o){if(o){var p=o.getPath();delete this.mContexts[p];if(q.sap.startsWith(p,"/")){p=p.substr(1);}delete this.oRequestQueue[p];delete this.oData[p];}};m.prototype.createEntry=function(p,P){var E={},k,u,r;if(!q.sap.startsWith(p,"/")){p="/"+p;}var o=this.oMetadata._getEntityTypeByPath(p);if(!o){return undefined;}if(typeof P==="object"&&!q.isArray(P)){E=P;}else{for(var i=0;i<o.property.length;i++){var j=o.property[i];var l=q.inArray(j.name,P)>-1;if(!P||l){E[j.name]=this._createPropertyValue(j.type);if(l){P.splice(P.indexOf(j.name),1);}}}if(P){}}E._bCreate=true;k=p.substring(1)+"('"+q.sap.uid()+"')";this.oData[k]=E;E.__metadata={type:""+o.entityType};u=this._createRequestUrl(p);r=this._createRequest(u,"POST",true,E);r.entityTypes={};r.entityTypes[o.entityType]=true;this.oRequestQueue[k]=r;return this.getContext("/"+k);};m.prototype._createPropertyValue=function(t){var T=this.oMetadata._splitName(t);var n=T[1];var s=T[0];if(n.toUpperCase()!=='EDM'){var o={};var j=this.oMetadata._getObjectMetadata("complexType",s,n);for(var i=0;i<j.property.length;i++){var p=j.property[i];o[p.name]=this._createPropertyValue(p.type);}return o;}else{return this._getDefaultPropertyValue(s,n);}};m.prototype._getDefaultPropertyValue=function(t,n){return undefined;};m.prototype._normalizePath=function(p,o){if(p&&p.indexOf('?')!=-1){p=p.substr(0,p.indexOf('?'));}if(!o&&!q.sap.startsWith(p,"/")){p='/'+p;q.sap.log.warning(this+" path "+p+" should be absolute if no Context is set");}return this.resolve(p,o);};m.prototype.setRefreshAfterChange=function(r){this.bRefreshAfterChange=r;};m.prototype.isList=function(p,o){var p=this.resolve(p,o);return p&&p.substr(p.lastIndexOf("/")).indexOf("(")===-1;};m.prototype.isMetaModelPath=function(p){return p.indexOf("##")==0||p.indexOf("/##")>-1;};m.prototype._request=function(r,s,E,H,o,i){if(this.bDestroyed){return{abort:function(){}};}var t=this;function w(j){return function(){var I=q.inArray(R,t.aPendingRequestHandles);if(I>-1){t.aPendingRequestHandles.splice(I,1);}if(!(R&&R.bSuppressErrorHandlerCall)){j.apply(this,arguments);}};}var R=h.request(r,w(s||h.defaultSuccess),w(E||h.defaultError),H,o,i);if(r.async!==false){this.aPendingRequestHandles.push(R);}return R;};m.prototype.destroy=function(){this.bDestroyed=true;if(this.aPendingRequestHandles){for(var i=this.aPendingRequestHandles.length-1;i>=0;i--){var r=this.aPendingRequestHandles[i];if(r&&r.abort){r.bSuppressErrorHandlerCall=true;r.abort();}}delete this.aPendingRequestHandles;}if(!!this.oMetadataLoadEvent){q.sap.clearDelayedCall(this.oMetadataLoadEvent);}if(!!this.oMetadataFailedEvent){q.sap.clearDelayedCall(this.oMetadataFailedEvent);}if(this.oMetadata){this.oMetadata.detachLoaded(this.onMetadataLoaded);this.oMetadata.detachFailed(this.onMetadataFailed);if(!this.oMetadata.isLoaded()&&!this.oMetadata.hasListeners("loaded")){this.oMetadata.destroy();delete this.oServiceData.oMetadata;}delete this.oMetadata;}if(this.oAnnotations){this.oAnnotations.detachFailed(this.onAnnotationsFailed);this.oAnnotations.detachLoaded(this.onAnnotationsLoaded);this.oAnnotations.destroy();delete this.oAnnotations;}M.prototype.destroy.apply(this,arguments);};m.prototype._getAnnotationParser=function(A){if(!this.oAnnotations){var i=sap.ui.requireSync("sap/ui/model/odata/ODataAnnotations");this.oAnnotations=new i({annotationData:A,url:null,metadata:this.oMetadata,async:this.bLoadMetadataAsync,headers:this.mCustomHeaders});this.oAnnotations.attachFailed(this.onAnnotationsFailed,this);this.oAnnotations.attachLoaded(this.onAnnotationsLoaded,this);}return this.oAnnotations;};m.prototype.onAnnotationsFailed=function(E){this.fireAnnotationsFailed(E.getParameters());};m.prototype.onAnnotationsLoaded=function(E){this.fireAnnotationsLoaded(E.getParameters());};m.prototype.addAnnotationUrl=function(u){var j=[].concat(u),k=[],A=[],E=[],t=this;q.each(j,function(i,s){var I=s.indexOf("$metadata");if(I>=0){if(I==0){s=t.sServiceUrl+'/'+s;}k.push(s);}else{A.push(s);}});return this.oMetadata._addUrl(k).then(function(p){return Promise.all(q.map(p,function(P){E=E.concat(P.entitySets);return t.addAnnotationXML(P["metadataString"]);}));}).then(function(){return t._getAnnotationParser().addUrl(A);}).then(function(p){return{annotations:p.annotations,entitySets:E};});};m.prototype.addAnnotationXML=function(x,s){return new Promise(function(r,i){this._getAnnotationParser().setXML(null,x,{success:r,error:i,fireEvents:!s});}.bind(this));};m.prototype.getMetaModel=function(){var t=this;if(!this.oMetaModel){this.oMetaModel=new g(this.oMetadata,this.oAnnotations,{addAnnotationUrl:this.addAnnotationUrl.bind(this),annotationsLoadedPromise:this.oMetadata.isLoaded()&&(!this.oAnnotations||this.oAnnotations.isLoaded())?null:this.pAnnotationsLoaded});this.oMetaModel.loaded().then(function(){t.bMetaModelLoaded=true;t.checkUpdate(false,false,null,true);});}return this.oMetaModel;};return m;});
sap.ui.predefine('sap/ui/model/odata/ODataTreeBinding',['jquery.sap.global','sap/ui/model/TreeBinding','./CountMode'],function(q,T,C){"use strict";var O=T.extend("sap.ui.model.odata.ODataTreeBinding",{constructor:function(m,p,c,f,P){T.apply(this,arguments);this.bPendingRequest=false;this.oFinalLengths={};this.oLengths={};this.oKeys={};this.bNeedsUpdate=false;this.bHasTreeAnnotations=this._hasTreeAnnotations();this.oRootContext=null;this.iNumberOfExpandedLevels=P&&P.numberOfExpandedLevels;this.sCountMode=(P&&P.countMode)||this.oModel.sDefaultCountMode;if(!this.bHasTreeAnnotations){if(!P||!P.navigation){q.sap.log.error("A navigation paths parameter object has to be defined");this.oNavigationPaths={};}else{this.oNavigationPaths=P.navigation;}}else{q.sap.log.warning("Tree hierarchy annotations are deprecated and may not work correctly with the sap.ui.model.odata.ODataModel."+" Please use the sap.ui.model.odata.v2.ODataModel (since version 1.28) instead which fully supports hierarchy annotations.");}}});O.prototype.getRootContexts=function(s,l,t){var n=null,r={numberOfExpandedLevels:this.iNumberOfExpandedLevels},R=[],b=true,a=this;if(this.bHasTreeAnnotations){r.level=0;if(!this.bDisplayRootNode){r.level=1;}}else{n=this.oModel.resolve(this.getPath(),this.getContext());r.navPath=this._getNavPath(this.getPath());if(r.numberOfExpandedLevels>0){var A=n;for(var i=0;i<r.numberOfExpandedLevels;i++){var N=this._getNavPath(A);r.navPath+="/"+N;A+="/"+N;}}var I=this.oModel.isList(this.sPath,this.getContext());if(I){this.bDisplayRootNode=true;}else{b=false;this.oModel.createBindingContext(n,null,{expand:r.navPath},function(o){R=[o];if(a.oRootContext!==o){a.oRootContext=o;a._processODataObject(o.getObject(),n,r.navPath);a.bNeedsUpdate=true;}},this.bRefresh);this.bRefresh=false;}}if(b){if(!this.bDisplayRootNode){R=this._getContextsForNodeId(n,0,1,0,r);}else{R=this._getContextsForNodeId(n,s,l,t,r);}}if(!this.bDisplayRootNode&&R.length>0){this.oRootContext=R[0];R=this.getNodeContexts(R[0],s,l,t);}return R;};O.prototype.getNodeContexts=function(c,s,l,t){var n,r={};if(this.bHasTreeAnnotations){var d=c.getProperty(this.oTreeProperties["hierarchy-drill-state-for"]);if(d=="leaf"){return[];}n=c.getProperty(this.oTreeProperties["hierarchy-node-for"]);r.level=parseInt(c.getProperty(this.oTreeProperties["hierarchy-level-for"]),10)+1;}else{var N=this._getNavPath(c.getPath());if(!N){return[];}n=this.oModel.resolve(N,c);r.navPath=this.oNavigationPaths[N];}return this._getContextsForNodeId(n,s,l,t,r);};O.prototype.hasChildren=function(c){if(!c){return false;}if(this.bHasTreeAnnotations){var d=c.getProperty(this.oTreeProperties["hierarchy-drill-state-for"]);return d==="expanded"||d==="collapsed";}else{var n=this._getNavPath(c.getPath());var p=c.getPath()+"/"+n;return n&&this.oLengths[p]>0;}};O.prototype.getChildCount=function(c){if(this.bHasTreeAnnotations){var h;if(!c){if(this.oRootContext){h=this.oRootContext.getProperty(this.oTreeProperties["hierarchy-node-for"]);}else{h="000000";}}else{h=c.getProperty(this.oTreeProperties["hierarchy-node-for"]);}return this.oLengths[h];}else{if(!c){return this.oLengths[this.getPath()];}return this.oLengths[c.getPath()+"/"+this._getNavPath(c.getPath())];}};O.prototype._getContextsForNodeId=function(n,s,l,t,p){var c=[],L,k;if(!s){s=0;}if(!l){l=this.oModel.iSizeLimit;}if(!t){t=0;}if(this.bHasTreeAnnotations){if(n==null){n="000000";}if(p.level==0){p.level++;}}if(this.oFinalLengths[n]&&this.oLengths[n]<l){l=this.oLengths[n];}if(this.oKeys[n]){for(var i=s;i<s+l;i++){k=this.oKeys[n][i];if(!k){break;}c.push(this.oModel.getContext('/'+k));}}L=c.length!=l&&!(this.oFinalLengths[n]&&c.length>=this.oLengths[n]);if(this.oModel.getServiceMetadata()){if(!this.bPendingRequest&&L){var P=[];if(this.bHasTreeAnnotations){if(p.numberOfExpandedLevels>0){var a=p.level+p.numberOfExpandedLevels;P.push("$filter="+this.oTreeProperties["hierarchy-level-for"]+" le '0"+a+"'");}else{P.push("$filter="+this.oTreeProperties["hierarchy-level-for"]+" eq '0"+p.level+"' and "+this.oTreeProperties["hierarchy-parent-node-for"]+" eq '"+n+"'");}}else{if(p.navPath){P.push("$expand="+p.navPath);}}this._loadSubNodes(n,s,l,t,P,p);}}return c;};O.prototype._getCountForNodeId=function(n,s,l,t,p){var a=this;var P=[];function _(d){a.oFinalLengths[n]=true;a.oLengths[n]=parseInt(d,10);}function b(e){var E="Request for $count failed: "+e.message;if(e.response){E+=", "+e.response.statusCode+", "+e.response.statusText+", "+e.response.body;}q.sap.log.warning(E);}var c;if(this.bHasTreeAnnotations){c=this.oModel.resolve(this.getPath(),this.getContext());P.push("$filter="+this.oTreeProperties["hierarchy-parent-node-for"]+" eq '"+n+"'");}else{c=n;}if(c){var u=this.oModel._createRequestUrl(c+"/$count",null,P);var r=this.oModel._createRequest(u,"GET",false);r.headers["Accept"]="text/plain, */*;q=0.5";this.oModel._request(r,_,b,undefined,undefined,this.oModel.getServiceMetadata());}};O.prototype._loadSubNodes=function(n,s,l,t,p,P){var a=this,I=false;if(s||l){p.push("$skip="+s+"&$top="+l);}if(!a.bHasTreeAnnotations&&!this.oFinalLengths[n]&&(this.sCountMode==C.Inline||this.sCountMode==C.Both)){p.push("$inlinecount=allpages");I=true;}function S(d){if(d.results){if(!a.bHasTreeAnnotations){if(I&&d.__count){a.oLengths[n]=parseInt(d.__count,10);a.oFinalLengths[n]=true;}else{if(a.oModel.isCountSupported()){a._getCountForNodeId(n);}}a.oKeys[n]=[];for(var i=0;i<d.results.length;i++){var E=d.results[i];var k=a.oModel._getKey(E);a._processODataObject(E,"/"+k,P.navPath);a.oKeys[n][i+s]=k;}}else{var L={};for(var i=0;i<d.results.length;i++){var E=d.results[i];n=E[a.oTreeProperties["hierarchy-parent-node-for"]];if(i==0){L[n]=s;}else if(L[n]==undefined){L[n]=0;}if(!(n in a.oKeys)){a.oKeys[n]=[];a._getCountForNodeId(n);}a.oKeys[n][L[n]]=a.oModel._getKey(E);L[n]++;}}}else{a.oKeys[null]=a.oModel._getKey(d);if(!a.bHasTreeAnnotations){a._processODataObject(d,n,P.navPath);}}a.oRequestHandle=null;a.bPendingRequest=false;a.bNeedsUpdate=true;}function c(){a.fireDataReceived();}function e(d){a.oRequestHandle=null;a.bPendingRequest=false;a.fireDataReceived();}function u(h){a.oRequestHandle=h;}if(n){if(!this.oFinalLengths[n]){this.bPendingRequest=true;this.fireDataRequested();var A;if(this.bHasTreeAnnotations){A=this.oModel.resolve(this.getPath(),this.getContext());}else{A=n;}this.oModel._loadData(A,p,S,e,false,u,c);}}};O.prototype.resetData=function(c){if(c){var p=c.getPath();delete this.oKeys[p];delete this.oLengths[p];delete this.oFinalLengths[p];}else{this.oKeys={};this.oLengths={};this.oFinalLengths={};this.oRootContext=null;}};O.prototype.refresh=function(f,c,e){var b=false;if(!f){if(e){var r=this.oModel.resolve(this.sPath,this.oContext);var E=this.oModel.oMetadata._getEntityTypeByPath(r);if(E&&(E.entityType in e)){b=true;}}if(c&&!b){q.each(this.oKeys,function(i,n){q.each(n,function(i,k){if(k in c){b=true;return false;}});if(b){return false;}});}if(!c&&!e){b=true;}}if(f||b){this.resetData();this.bNeedsUpdate=false;this.bRefresh=true;this._fireChange();}};O.prototype.filter=function(f){q.sap.log.warning("Filtering is currently not possible in the ODataTreeBinding");return this;};O.prototype.checkUpdate=function(f,c){var b=false;if(!f){if(this.bNeedsUpdate||!c){b=true;}else{q.each(this.oKeys,function(i,n){q.each(n,function(i,k){if(k in c){b=true;return false;}});if(b){return false;}});}}if(f||b){this.bNeedsUpdate=false;this._fireChange();}};O.prototype._getNavPath=function(p){var a=this.oModel.resolve(p,this.getContext());if(!a){return;}var P=a.split("/"),e=P[P.length-1],n;var c=e.split("(")[0];if(c&&this.oNavigationPaths[c]){n=this.oNavigationPaths[c];}return n;};O.prototype._processODataObject=function(o,p,n){var N=[],t=this;if(n&&n.indexOf("/")>-1){N=n.split("/");n=N[0];N.splice(0,1);}var r=this.oModel._getObject(p);if(q.isArray(r)){this.oKeys[p]=r;this.oLengths[p]=r.length;this.oFinalLengths[p]=true;}if(n&&o[n]){if(q.isArray(r)){q.each(r,function(i,R){var o=t.getModel().getData("/"+R);t._processODataObject(o,"/"+R+"/"+n,N.join("/"));});}else if(typeof r==="object"){t._processODataObject(o,p+"/"+n,N.join("/"));}}};O.prototype._hasTreeAnnotations=function(){var m=this.oModel,M=m.oMetadata,a=m.resolve(this.getPath(),this.getContext()),e=M._getEntityTypeByPath(a),t=M.mNamespaces["sap"],b=this;this.oTreeProperties={"hierarchy-level-for":false,"hierarchy-parent-node-for":false,"hierarchy-node-for":false,"hierarchy-drill-state-for":false};if(!e){q.sap.log.fatal("EntityType for path "+a+" could not be found.");return false;}q.each(e.property,function(i,p){if(!p.extensions){return true;}q.each(p.extensions,function(i,E){var n=E.name;if(E.namespace===t&&n in b.oTreeProperties&&!b.oTreeProperties[n]){b.oTreeProperties[n]=p.name;}});});var c=false;q.each(this.oTreeProperties,function(i,o){if(!o){c=true;return false;}});return!c;};return O;});
sap.ui.predefine('sap/ui/model/odata/ODataTreeBindingAdapter',['jquery.sap.global','sap/ui/model/TreeBinding','./v2/ODataTreeBinding','sap/ui/model/TreeBindingAdapter','sap/ui/model/TreeAutoExpandMode','sap/ui/model/ChangeReason','sap/ui/model/TreeBindingUtils','./OperationMode'],function(q,T,O,a,b,C,c,d){"use strict";var e=function(){if(!(this instanceof T)||this._bIsAdapted){return;}a.apply(this);for(var f in e.prototype){if(e.prototype.hasOwnProperty(f)){this[f]=e.prototype[f];}}this.mParameters=this.mParameters||{};this._aRowIndexMap=[];this._iThreshold=0;this._iPageSize=0;this.setAutoExpandMode(this.mParameters.autoExpandMode||b.Sequential);if(this.mParameters.collapseRecursive===undefined){this.bCollapseRecursive=true;}else{this.bCollapseRecursive=!!this.mParameters.collapseRecursive;}this._createTreeState();if(this.mParameters.treeState&&this.sOperationMode==d.Client){this.setTreeState(this.mParameters.treeState);}};e.prototype.nodeHasChildren=function(n){if(!n){return false;}else if(n.isArtificial){return true;}else{return O.prototype.hasChildren.call(this,n.context);}};e.prototype._calculateGroupID=function(n){var g="";var G="";if(n.context===null){return"/";}if(n.parent){g=n.parent.groupID;g=g[g.length-1]!=="/"?g+"/":g;if(this.bHasTreeAnnotations){G=n.context.getProperty(this.oTreeProperties["hierarchy-node-for"])+"/";}else{G=n.context.sPath.substring(1)+"/";}}else{if(this.bHasTreeAnnotations){g="/";G=n.context.getProperty(this.oTreeProperties["hierarchy-node-for"])+"/";}else{g="/";G=n.context.sPath[0]==="/"?n.context.sPath.substring(1):n.context.sPath;}}var s=g+G;return s;};e.prototype.resetData=function(o,p){var r=O.prototype.resetData.call(this,o,p);this._aRowIndexMap=[];this._oRootNode=undefined;this._iPageSize=0;this._iThreshold=0;if(!p||p.reason!==C.Sort){this.clearSelection();this._createTreeState(true);}return r;};return e;},true);
sap.ui.predefine('sap/ui/model/odata/ODataTreeBindingFlat',['jquery.sap.global','sap/ui/model/Filter','sap/ui/model/TreeBinding','sap/ui/model/odata/v2/ODataTreeBinding','sap/ui/model/ChangeReason','sap/ui/model/TreeBindingUtils'],function(q,F,T,O,C,c){"use strict";var d=function(){if(!(this instanceof T)||this._bIsAdapted){return;}for(var f in d.prototype){if(d.prototype.hasOwnProperty(f)){this[f]=d.prototype[f];}}this.mParameters=this.mParameters||{};this._iPageSize=0;this._aNodes=this._aNodes||[];this._aNodeCache=[];this._aCollapsed=this._aCollapsed||[];this._aExpanded=this._aExpanded||[];this._aRemoved=[];this._aAdded=[];this._aNodeChanges=[];this._aAllChangedNodes=[];this._mSubtreeHandles={};this._iLowestServerLevel=null;this._aExpandedAfterSelectAll=this._aExpandedAfterSelectAll||[];this._mSelected=this._mSelected||{};this._mDeselected=this._mDeselected||{};this._bSelectAll=false;this._iLengthDelta=0;if(this.mParameters.collapseRecursive===undefined){this.bCollapseRecursive=true;}else{this.bCollapseRecursive=!!this.mParameters.collapseRecursive;}this._bIsAdapted=true;this._bReadOnly=true;};d.prototype.setNumberOfExpandedLevels=function(l){this.resetData();O.prototype.setNumberOfExpandedLevels.apply(this,arguments);};d.prototype.getContexts=function(s,l,t,r){if(this.isInitial()){return[];}s=s||0;l=l||this.oModel.sizeLimit;t=t||0;this._iPageSize=l;this._iThreshold=t;if(this._aNodes.length==0&&!this.isLengthFinal()){this._loadData(s,l+t);}var R=[];var n=this._retrieveNodeSection(s,l);this._aNodeCache=[];var S;var a=0;var L=0;var g={};for(var i=0;i<n.length;i++){var N=n[i];this._aNodeCache[s+i]=N&&N.context?N:undefined;R.push(N.context);if(!N.context){if(N.serverIndex!=undefined){if(S==undefined){S=N.serverIndex;}L=N.serverIndex;}else if(N.positionInParent!=undefined){var p=N.parent;g[p.key]=g[p.key]||[];g[p.key].push(N);}}}a=1+Math.max(L-(S||0),0);if(S!=undefined&&a){this._loadData(S,a+t);}for(var m in g){var o=this._calculateRequestParameters(g[m]);this._loadChildren(g[m][0].parent,o.skip,o.top);}if(r){return n;}else{return R;}};d.prototype._calculateRequestParameters=function(m){var p=m[0].parent;var M=m[0].positionInParent;var a=Math.min(M+Math.max(this._iThreshold,m.length),p.children.length);for(var i=M;i<a;i++){var o=p.children[i];if(o){break;}}return{skip:M,top:i-M};};d.prototype._retrieveNodeSection=function(s,l){return this._bReadOnly?this._indexRetrieveNodeSection(s,l):this._mapRetrieveNodeSection(s,l);};d.prototype._mapRetrieveNodeSection=function(s,l){var n=-1;var N=[];this._map(function(o,r,i,I,p){n++;if(n>=s){if(!o){if(i=="serverIndex"){o={serverIndex:I};}else if(i=="positionInParent"){o={positionInParent:I,parent:p};}}N.push(o);}if(N.length>=l){r.broken=true;}});return N;};d.prototype._indexRetrieveNodeSection=function(s,l){var i,n=[],N,o;for(i=s;i<s+l;i++){N=this.getNodeInfoByRowIndex(i);if(N.index!==undefined&&N.index<this._aNodes.length){o=this._aNodes[N.index];if(!o){o={serverIndex:N.index};}}else if(N.parent){o=N.parent.children[N.childIndex];if(!o){o={parent:N.parent,positionInParent:N.childIndex};}}if(o){n.push(o);o=null;}}return n;};d.prototype.getNodes=function(s,l,t){var n=this.getContexts(s,l,t,true);return n;};d.prototype._map=function(m){var r={broken:false};var f=function(n){if(n.addedSubtrees.length>0&&!n.nodeState.collapsed){for(var j=0;j<n.addedSubtrees.length;j++){var s=n.addedSubtrees[j];t(n,s);if(r.broken){return;}}}};var t=function(n,s){var S=s._getSubtree();if(s){if(q.isArray(S)){if(s._oSubtreeRoot){b(S,s._oSubtreeRoot.serverIndex,s._oSubtreeRoot,s._oSubtreeRoot.originalLevel||0,n.level+1);}else{b(S,null,null,0,n.level+1);}}else{s._oSubtreeRoot.level=n.level+1;a(s._oSubtreeRoot,false,s._oNewParentNode,-1,s._oSubtreeRoot);}}};var a=function(n,I,p,P,o){if(!I){if(!n.nodeState.removed||o==n){m(n,r,"positionInParent",P,p);if(r.broken){return;}}}f(n);if(r.broken){return;}if(n&&n.children&&n.nodeState.expanded){for(var i=0;i<n.children.length;i++){var e=n.children[i];if(e&&!e.nodeState.removed&&!e.nodeState.reinserted){e.level=n.level+1;}if(e&&!e.nodeState.removed){a(e,false,n,i,o);}else if(!e){m(e,r,"positionInParent",i,n);}if(r.broken){return;}}}};var b=function(e,s,I,S,n){for(var i=0;i<e.length;i++){var N=e[i];if(N&&N.nodeState&&N.nodeState.removed&&N!=I){if(!N.initiallyCollapsed){i+=N.magnitude;}continue;}if(N&&S>=0&&n>=0){N.level=N.originalLevel||0;var l=(N.level-S)||0;N.level=n+l||0;}if(s===null){m(N,r,"newNode");}else{m(N,r,"serverIndex",s+i);}if(r.broken){return;}if(N&&N.nodeState){if(!N.initiallyCollapsed&&N.nodeState.collapsed){i+=N.magnitude;}else{if(N.initiallyCollapsed&&N.nodeState.expanded){a(N,true);if(r.broken){return;}}else if(!N.initiallyCollapsed&&N.nodeState.expanded){f(N);}}}if(r.broken){return;}}};b(this._aNodes,0,null);};d.prototype._loadData=function(s,t){var r="level <= "+this.getNumberOfExpandedLevels()+"-"+s+"-"+t;if(this.mRequestHandles[r]){return;}function _(D){var e,k,I,i,b=function(n,h){if(!n.isDeepOne&&!n.initiallyCollapsed&&n.serverIndex<I&&n.serverIndex+n.magnitude>=I){return true;}};delete this.mRequestHandles[r];if(!this._bLengthFinal){var g=D.__count?parseInt(D.__count,10):0;this._aNodes[g-1]=undefined;this._bLengthFinal=true;}if(D.results&&D.results.length>0){for(i=0;i<D.results.length;i++){e=D.results[i];k=this.oModel.getKey(e);I=s+i;var m=e[this.oTreeProperties["hierarchy-node-descendant-count-for"]];if(m<0){m=0;q.sap.log.error("The entry data with key '"+k+"' under binding path '"+this.getPath()+"' has a negative 'hierarchy-node-descendant-count-for' which isn't allowed.");}var n=this._aNodes[I]=this._aNodes[I]||{key:k,context:this.oModel.getContext("/"+k),magnitude:m,level:e[this.oTreeProperties["hierarchy-level-for"]],originalLevel:e[this.oTreeProperties["hierarchy-level-for"]],initiallyCollapsed:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="collapsed",nodeState:{isLeaf:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="leaf",expanded:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="expanded",collapsed:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="collapsed",selected:this._mSelected[k]?this._mSelected[k].nodeState.selected:false},children:[],addedSubtrees:[],serverIndex:I,parent:null};this._iLowestServerLevel=Math.min(this._iLowestServerLevel,n.level);if(this._bSelectAll){if(!this._aExpandedAfterSelectAll.some(b)){this.setNodeSelection(n,true);}}}}this.oModel.callAfterUpdate(function(){this.fireDataReceived({data:D});}.bind(this));this._fireChange({reason:C.Change});}function a(e){delete this.mRequestHandles[r];var A=e.statusCode==0;if(!A){this._aNodes=[];this._bLengthFinal=true;this._fireChange({reason:C.Change});}this.fireDataReceived();}var u=["$skip="+s,"$top="+t];if(!this._bLengthFinal){u.push("$inlinecount=allpages");}if(this.sCustomParams){u.push(this.sCustomParams);}this.fireDataRequested();var l=new F(this.oTreeProperties["hierarchy-level-for"],"LE",this.getNumberOfExpandedLevels());var f=[l];if(this.aApplicationFilters){f=f.concat(this.aApplicationFilters);}this.mRequestHandles[r]=this.oModel.read(this.getPath(),{context:this.oContext,urlParameters:u,filters:[new F({filters:f,and:true})],sorters:this.aSorters||[],success:_.bind(this),error:a.bind(this),groupId:this.sRefreshGroupId?this.sRefreshGroupId:this.sGroupId});};d.prototype._propagateMagnitudeChange=function(p,D){while(p!=null&&(p.initiallyCollapsed||p.isDeepOne)){p.magnitude+=D;p=p.parent;}};d.prototype._loadChildren=function(p,s,t){var r=""+p.key+"-"+s+"-"+t;if(this.mRequestHandles[r]){return;}function _(D){delete this.mRequestHandles[r];if(p.childCount==undefined&&D&&D.__count){var b=D.__count?parseInt(D.__count,10):0;p.childCount=b;p.children[b-1]=undefined;this._propagateMagnitudeChange(p,b);this._cleanTreeStateMaps();}if(D.results&&D.results.length>0){for(var i=0;i<D.results.length;i++){var e=D.results[i];var k=this.oModel.getKey(e);var n=p.children[s+i]=p.children[s+i]||{key:k,context:this.oModel.getContext("/"+k),magnitude:0,level:p.level+1,originalLevel:p.level+1,initiallyCollapsed:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="collapsed",nodeState:{isLeaf:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="leaf",expanded:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="expanded",collapsed:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="collapsed",selected:this._mSelected[k]?this._mSelected[k].nodeState.selected:false},positionInParent:s+i,children:[],addedSubtrees:[],parent:p,originalParent:p,isDeepOne:true,containingServerIndex:p.containingServerIndex||p.serverIndex};if(this._bSelectAll&&this._aExpandedAfterSelectAll.indexOf(p)===-1){this.setNodeSelection(n,true);}}}this.oModel.callAfterUpdate(function(){this.fireDataReceived({data:D});}.bind(this));this._fireChange({reason:C.Change});}function a(e){delete this.mRequestHandles[r];var A=e.statusCode==0;if(!A){if(p.childCount==undefined){p.children=[];p.childCount=0;this._fireChange({reason:C.Change});}}this.fireDataReceived();}var u=["$skip="+s,"$top="+t];if(p.childCount==undefined){u.push("$inlinecount=allpages");}if(this.sCustomParams){u.push(this.sCustomParams);}this.fireDataRequested();var l=new F(this.oTreeProperties["hierarchy-parent-node-for"],"EQ",p.context.getProperty(this.oTreeProperties["hierarchy-node-for"]));var f=[l];if(this.aApplicationFilters){f=f.concat(this.aApplicationFilters);}this.mRequestHandles[r]=this.oModel.read(this.getPath(),{context:this.oContext,urlParameters:u,filters:[new F({filters:f,and:true})],sorters:this.aSorters||[],success:_.bind(this),error:a.bind(this),groupId:this.sRefreshGroupId?this.sRefreshGroupId:this.sGroupId});};d.prototype.findNode=function(r){return this._bReadOnly?this._indexFindNode(r):this._mapFindNode(r);};d.prototype._mapFindNode=function(r){if(this.isInitial()){return;}var f=this._aNodeCache[r];if(f){return f;}var n=-1;this._map(function(N,R,i,I,p){n++;if(n===r){f=N;R.broken=true;}});return f;};d.prototype._indexFindNode=function(r){if(this.isInitial()){return;}var n=this._aNodeCache[r];if(n){return n;}var N=this.getNodeInfoByRowIndex(r),n;if(N.parent){n=N.parent.children[N.childIndex];}else{n=this._aNodes[N.index];}this._aNodeCache[r]=n;return n;};d.prototype.toggleIndex=function(r){var t=this.findNode(r);if(t){if(t.nodeState.expanded){this.collapse(t);}else{this.expand(t);}}};d.prototype.expand=function(r,s){var t=r;if(typeof r!=="object"){t=this.findNode(r);}t.nodeState.expanded=true;t.nodeState.collapsed=false;var i=this._aCollapsed.indexOf(t);if(i!=-1){this._aCollapsed.splice(i,1);}this._aExpanded.push(t);this._sortNodes(this._aExpanded);if(t.serverIndex!==undefined){this._aNodeChanges[t.serverIndex]=true;}if(this._bSelectAll){this._aExpandedAfterSelectAll.push(t);}if(t.initiallyCollapsed&&t.childCount==undefined){this._loadChildren(t,0,this._iPageSize);}else{this._propagateMagnitudeChange(t.parent,t.magnitude);}this._cleanTreeStateMaps();this._aNodeCache=[];if(!s){this._fireChange({reason:C.Expand});}};d.prototype.expandToLevel=function(l){if(l>this.getNumberOfExpandedLevels()){this.setNumberOfExpandedLevels(l);}};d.prototype.collapse=function(r,s){var t=r;if(typeof r!=="object"){t=this.findNode(r);}t.nodeState.expanded=false;t.nodeState.collapsed=true;var i=this._aExpanded.indexOf(t);if(i!=-1){this._aExpanded.splice(i,1);}if(this._bSelectAll){i=this._aExpandedAfterSelectAll.indexOf(t);if(i!==-1){this._aExpandedAfterSelectAll.splice(i,1);}}this._aCollapsed.push(t);this._sortNodes(this._aCollapsed);if(t.isDeepOne){this._propagateMagnitudeChange(t.parent,t.magnitude*-1);}if(t.serverIndex!==undefined){this._aNodeChanges[t.serverIndex]=true;}this._cleanUpSelection();this._cleanTreeStateMaps();this._aNodeCache=[];if(!s){this._fireChange({reason:C.Collapse});}};d.prototype.collapseToLevel=function(l){if(l<this.getNumberOfExpandedLevels()){if(this.bCollapseRecursive){for(var k in this._mSelected){var s=this._mSelected[k];if(s.level>l){this.setNodeSelection(s,false);}}}this.setNumberOfExpandedLevels(l);}};d.prototype._getInvisibleSelectedNodes=function(){var a=[];var i=true;var f=function(n,b){if(n.nodeState.collapsed||(n.nodeState.removed&&!n.nodeState.reinserted)){i=false;b.broken=true;}};for(var k in this._mSelected){var s=this._mSelected[k];i=true;this._up(s,f,false);if(!i){a.push(s);}}return a;};d.prototype._cleanUpSelection=function(f){var i=this._getInvisibleSelectedNodes();i.forEach(function(s){if(s.key==this._sLeadSelectionKey){this._sLeadSelectionKey=null;}if(this.bCollapseRecursive||f){this.setNodeSelection(s,false);}}.bind(this));};d.prototype._isInSubtree=function(a,o){var i=false;var f=function(n,b){if(n==a){b.broken=true;i=true;}};this._up(o,f,false);return i;};d.prototype._up=function(n,u,o){var r={broken:false};var p=this._getParent(n,o);if(p){this._structuralUp(p,u,r,o);}else{this._flatUp(n,u,r,true);}};d.prototype._structuralUp=function(n,u,b,o){var p=n;do{u(p,b);if(b.broken){return;}n=p;p=this._getParent(p);}while(p);this._flatUp(n,u,b);};d.prototype._flatUp=function(n,u,b,I){var s=n.serverIndex,i=I?s-1:s,o,p;for(;i>=0;i--){if(this._aNodeChanges[i]){o=this._aNodes[i];if(o.initiallyCollapsed){continue;}if(o.serverIndex+o.magnitude>=s){u(o,b);if(b.broken){return;}p=this._getParent(o);if(p){this._structuralUp(p,u,b);return;}}else{continue;}}}};d.prototype._getParent=function(n,o){return o?n.originalParent:n.parent;};d.prototype._cleanTreeStateMaps=function(){this._iLengthDelta=this._bReadOnly?this._indexCleanTreeStateMaps():this._mapCleanTreeStateMaps();};d.prototype._indexCleanTreeStateMaps=function(){return this._calcIndexDelta(this._aNodes.length);};d.prototype._mapCleanTreeStateMaps=function(){var a=this._aCollapsed.concat(this._aRemoved).concat(this._aExpanded).concat(this._aAdded),v=true,V,D=0,f=function(n,B){if(n.nodeState.collapsed||(n.nodeState.removed&&!n.nodeState.reinserted)){v=false;B.broken=true;}},s={};var b=[[0,1],[-1,0]];a.forEach(function(n){if(s[n.key]){return;}else{s[n.key]=true;}if(n.nodeState.added){if(!n.nodeState.removed||n.nodeState.reinserted){v=true;this._up(n,f,false);if(v){D++;}}}else{if(n.nodeState.collapsed||n.nodeState.expanded||n.nodeState.removed){v=true;this._up(n,f,false);if(v){if(n.nodeState.removed&&!n.nodeState.reinserted){if(n.isDeepOne||n.initiallyCollapsed){D-=1;}else{D-=(n.magnitude+1);}}else{if(n.nodeState.collapsed&&n.serverIndex!==undefined&&!n.initiallyCollapsed){D-=n.magnitude;}if(n.nodeState.expanded&&(n.isDeepOne||n.initiallyCollapsed)){D+=n.children.length;}}}if(n.nodeState.reinserted){V=v;v=true;this._up(n,f,true);var i=(b[v|0][V|0]);if(!!i){if(n.isDeepOne){D+=i*1;}else{if(n.initiallyCollapsed){D+=i;}else{D+=i*(1+n.magnitude);}}}}}}}.bind(this));return D;};d.prototype.isLengthFinal=function(){return this._bLengthFinal;};d.prototype.getLength=function(){return this._aNodes.length+this._iLengthDelta;};d.prototype.getContextByIndex=function(r){if(this.isInitial()){return;}var n=this.findNode(r);return n&&n.context;};d.prototype.getNodeByIndex=function(r){if(this.isInitial()){return;}var n=this.findNode(r);return n;};d.prototype.isExpanded=function(r){var n=this.findNode(r);return n&&n.nodeState.expanded;};d.prototype.hasChildren=function(o){if(!o){return false;}var n=this._findNodeByContext(o);var N=n&&n.node;return!(N&&N.nodeState.isLeaf);};d.prototype.nodeHasChildren=function(n){return!(n&&n.nodeState.isLeaf);};d.prototype.setNodeSelection=function(n,i){n.nodeState.selected=i;if(i){delete this._mDeselected[n.key];this._mSelected[n.key]=n;}else{delete this._mSelected[n.key];this._mDeselected[n.key]=n;if(n.key===this._sLeadSelectionKey){this._sLeadSelectionKey=null;}}};d.prototype.isIndexSelected=function(r){var n=this.findNode(r);return n&&n.nodeState?n.nodeState.selected:false;};d.prototype.isIndexSelectable=function(r){var n=this.findNode(r);return!!n;};d.prototype._clearSelection=function(){return this._bReadOnly?this._indexClearSelection():this._mapClearSelection();};d.prototype._indexClearSelection=function(){var o=-1,a=[],s,n,r;this._bSelectAll=false;this._aExpandedAfterSelectAll=[];for(s in this._mSelected){n=this._mSelected[s];this.setNodeSelection(n,false);r=this.getRowIndexByNode(n);a.push(r);if(this._sLeadSelectionKey==s){o=r;}}return{rowIndices:a,oldIndex:o,leadIndex:-1};};d.prototype._mapClearSelection=function(){var n=-1;var o=-1;var m=0;var a=[];this._bSelectAll=false;this._aExpandedAfterSelectAll=[];for(var k in this._mSelected){if(k){m++;}}this._map(function(N,r,i,I,p){n++;if(N&&N.nodeState.selected){this.setNodeSelection(N,false);a.push(n);if(this._sLeadSelectionKey==N.key){o=n;}if(a.length==m){r.broken=true;}}}.bind(this));return{rowIndices:a,oldIndex:o,leadIndex:-1};};d.prototype.setSelectedIndex=function(r){var n=this.findNode(r);if(n){var o=this._clearSelection();var i=o.rowIndices.indexOf(r);if(i>=0){o.rowIndices.splice(i,1);}else{o.rowIndices.push(r);}o.leadKey=n.key;o.leadIndex=r;this.setNodeSelection(n,true);this._publishSelectionChanges(o);}else{q.sap.log.warning("ODataTreeBindingFlat: The selection of index '"+r+"' was ignored. Please make sure to only select rows, for which data has been fetched to the client.");}};d.prototype.getSelectedIndex=function(){return this._bReadOnly?this._indexGetSelectedIndex():this._mapGetSelectedIndex();};d.prototype._indexGetSelectedIndex=function(){if(!this._sLeadSelectionKey||q.isEmptyObject(this._mSelected)){return-1;}var s=this._mSelected[this._sLeadSelectionKey];if(s){return this.getRowIndexByNode(s);}else{return-1;}};d.prototype._mapGetSelectedIndex=function(){if(!this._sLeadSelectionKey||q.isEmptyObject(this._mSelected)){return-1;}var n=-1;this._map(function(N,r){n++;if(N){if(N.key===this._sLeadSelectionKey){r.broken=true;}}}.bind(this));return n;};d.prototype.getSelectedIndices=function(){return this._bReadOnly?this._indexGetSelectedIndices():this._mapGetSelectedIndices();};d.prototype._indexGetSelectedIndices=function(){var n=this._getSelectedNodesInfo();return n.map(function(N){return N.rowIndex;});};d.prototype._mapGetSelectedIndices=function(){var r=[];if(q.isEmptyObject(this._mSelected)){return r;}var n=-1;this._map(function(N){n++;if(N){if(N.nodeState&&N.nodeState.selected){r.push(n);}}});return r;};d.prototype.getSelectedNodesCount=function(){var s;if(this._bSelectAll){if(this._bReadOnly){var r=[],n=0,k;this._aExpandedAfterSelectAll.sort(function(a,b){var A=this._getRelatedServerIndex(a);var B=this._getRelatedServerIndex(b);if(A==B&&a.isDeepOne&&b.isDeepOne){return a.originalLevel-b.originalLevel;}return A-B;}.bind(this));var l=-1,N,e,i;for(i=0;i<this._aExpandedAfterSelectAll.length;i++){N=this._aExpandedAfterSelectAll[i];e=this._getRelatedServerIndex(N);if(e<=l&&!N.initiallyCollapsed){continue;}if(N.initiallyCollapsed){l=e;}else{l=e+N.magnitude;}r.push(N);n+=N.magnitude;}var f=function(N,b){if(r.indexOf(N)!==-1){n--;b.broken=true;}};for(k in this._mSelected){this._up(this._mSelected[k],f,true);}var I;var g=function(N,b){if(N.nodeState.collapsed||(N.nodeState.removed&&!N.nodeState.reinserted)||r.indexOf(N)!==-1){I=false;b.broken=true;}};for(k in this._mDeselected){I=true;this._up(this._mDeselected[k],g,true);if(I){n++;}}s=this.getLength()-n;}else{s=0;this._map(function(N,R,a,b,p){var P;if(N){if(N.nodeState.selected){s++;}}else if(N===undefined&&a==="serverIndex"){var j=true;for(var i=b-1;i>=0;i--){if(this._aNodeChanges[i]){P=this._aNodes[i];if(P.serverIndex+P.magnitude>=b&&this._aExpandedAfterSelectAll.indexOf(P)!==-1){j=false;break;}}}if(j){s++;}}}.bind(this));}}else{var h=this._getInvisibleSelectedNodes();s=Math.max(Object.keys(this._mSelected).length-h.length,0);}return s;};d.prototype.getSelectedContexts=function(){return this._bReadOnly?this._indexGetSelectedContexts():this._mapGetSelectedContexts();};d.prototype._indexGetSelectedContexts=function(){var n=this._getSelectedNodesInfo();return n.map(function(N){return N.node.context;});};d.prototype._mapGetSelectedContexts=function(){var r=[];if(q.isEmptyObject(this._mSelected)){return r;}var m=function(n){if(n){if(n.nodeState.selected&&!n.isArtificial){r.push(n.context);}}};this._map(m);return r;};d.prototype.setSelectionInterval=function(f,t){var m=this._clearSelection();var s=this._setSelectionInterval(f,t,true);var I={};var r=[];var a;for(var i=0;i<m.rowIndices.length;i++){a=m.rowIndices[i];I[a]=true;}for(i=0;i<s.rowIndices.length;i++){a=s.rowIndices[i];if(I[a]){delete I[a];}else{I[a]=true;}}for(a in I){if(I[a]){r.push(parseInt(a,10));}}this._publishSelectionChanges({rowIndices:r,oldIndex:m.oldIndex,leadIndex:s.leadIndex,leadKey:s.leadKey});};d.prototype._setSelectionInterval=function(f,t,s){return this._bReadOnly?this._indexSetSelectionInterval(f,t,s):this._mapSetSelectionInterval(f,t,s);};d.prototype._indexSetSelectionInterval=function(f,t,s){var n=Math.min(f,t),N=Math.max(f,t),a=[],b=[],o,e,i,p;s=!!s;for(i=n;i<=N;i++){e=this.findNode(i);if(e){if(e.nodeState.selected!==s){b.push(i);}if(e.key===this._sLeadSelectionKey){o=i;}this.setNodeSelection(e,s);a.push(e);}}p={rowIndices:b,oldIndex:o,leadIndex:o&&!s?-1:undefined};if(a.length>0&&s){p.leadKey=a[a.length-1].key;p.leadIndex=N;}return p;};d.prototype._mapSetSelectionInterval=function(f,t,s){var n=Math.min(f,t);var N=Math.max(f,t);var a=[];var b=[];var i=Math.abs(N-n)+1;var o;var e=-1;var m=function(g,r,I,h,P){e++;if(g){if(e>=n&&e<=N){if(g.nodeState.selected!==!!s){b.push(e);}if(g.key===this._sLeadSelectionKey){o=e;}this.setNodeSelection(g,!!s);a.push(g);if(a.length===i){r.broken=true;}}}}.bind(this);this._map(m);var p={rowIndices:b,oldIndex:o,leadIndex:o&&!s?-1:undefined};if(a.length>0&&s){var l=a[a.length-1];p.leadKey=l.key;p.leadIndex=N;}return p;};d.prototype.addSelectionInterval=function(f,t){var p=this._setSelectionInterval(f,t,true);this._publishSelectionChanges(p);};d.prototype.removeSelectionInterval=function(f,t){var p=this._setSelectionInterval(f,t,false);this._publishSelectionChanges(p);};d.prototype.selectAll=function(){this._bReadOnly?this._indexSelectAll():this._mapSelectAll();};d.prototype._indexSelectAll=function(){this._bSelectAll=true;this._aExpandedAfterSelectAll=[];var p={rowIndices:[],oldIndex:-1,selectAll:true};var l=this.getLength(),i,n;for(i=0;i<l;i++){n=this.findNode(i);if(n&&!n.isArtificial){if(n.key===this._sLeadSelectionKey){p.oldIndex=i;}if(!n.nodeState.selected){p.rowIndices.push(i);}this.setNodeSelection(n,true);p.leadKey=n.key;p.leadIndex=i;}}this._publishSelectionChanges(p);};d.prototype._mapSelectAll=function(){this._bSelectAll=true;this._aExpandedAfterSelectAll=[];var p={rowIndices:[],oldIndex:-1,selectAll:true};var n=-1;this._map(function(N){if(!N||!N.isArtificial){n++;}if(N){if(N.key===this._sLeadSelectionKey){p.oldIndex=n;}if(N){if(!N.isArtificial&&!N.nodeState.selected){p.rowIndices.push(n);}this.setNodeSelection(N,true);p.leadKey=N.key;p.leadIndex=n;}}}.bind(this));this._publishSelectionChanges(p);};d.prototype.clearSelection=function(s){var o=this._clearSelection();if(!s){this._publishSelectionChanges(o);}};d.prototype._publishSelectionChanges=function(p){p.oldIndex=p.oldIndex||this.getSelectedIndex();p.rowIndices.sort(function(a,b){return a-b;});if(p.leadIndex>=0&&p.leadKey){this._sLeadSelectionKey=p.leadKey;}else if(p.leadIndex===-1){this._sLeadSelectionKey=undefined;}else{p.leadIndex=p.oldIndex;}if(p.rowIndices.length>0||(p.leadIndex!=undefined&&p.leadIndex!==-1)){this.fireSelectionChanged(p);}};d.prototype.setCollapseRecursive=function(b){this.bCollapseRecursive=!!b;};d.prototype.resetData=function(){O.prototype.resetData.apply(this,arguments);this._aNodes=[];this._aCollapsed=[];this._aExpanded=[];this._aExpandedAfterSelectAll=[];this._mSelected={};this._mDeselected={};this._aRemoved=[];this._aNodeChanges=[];this._aAllChangedNodes=[];this._bLengthFinal=false;this._iLowestServerLevel=null;this._bSelectAll=false;this._iLengthDelta=0;};d.prototype._findNodeByContext=function(o){for(var i in this._aNodeCache){if(this._aNodeCache[i]&&this._aNodeCache[i].context==o){return{node:this._aNodeCache[i],index:parseInt(i,10)};}}var n=-1;var N;this._map(function(a,r,I,b,p){n++;if(a){if(a.context===o){N=a;r.broken=true;}}});return{node:N,index:n};};d.prototype._getCorrectChangeGroup=function(k){return this.oModel._resolveGroup(k).groupId;};d.prototype.createEntry=function(p){var a=this.oModel.resolve(this.getPath(),this.getContext());var n;if(a){p=p||{};p.groupId=this._getCorrectChangeGroup(a);p.refreshAfterChange=false;n=this.oModel.createEntry(a,p);}else{q.sap.log.warning("ODataTreeBindingFlat: createEntry failed, as the binding path could not be resolved.");}return n;};d.prototype.submitChanges=function(p){p=p||{};var a=this.oModel.resolve(this.getPath(),this.getContext());if(!a){q.sap.log.warning("ODataTreeBindingFlat: submitChanges failed, because the binding-path could nit be resolved.");return;}p.groupId=this._getCorrectChangeGroup(a);var o=p.success||q.noop;var f=p.error||q.noop;p.success=function(D){o(D);var s=false;if(D.__batchResponses&&D.__batchResponses[0]&&D.__batchResponses[0].__changeResponses&&D.__batchResponses[0].__changeResponses.length>0){var b=D.__batchResponses[0].__changeResponses;for(var i=0;i<b.length;i++){var r=b[i];var S=parseInt(r.statusCode,10);if(S<200||S>299){s=true;break;}}if(s){}else{this._refresh(true);}}else{q.sap.log.warning("ODataTreeBindingFlat.submitChanges - success: Batch-request response does not contain change response.");}}.bind(this);p.error=function(e){f(e);};this._generateSubmitData();this.oModel.submitChanges(p);};d.prototype._generateSubmitData=function(){var I=false;var f=function(N,b){if(N.nodeState.removed&&!N.nodeState.reinserted){I=true;b.broken=true;}};var p=[];var t=function(N){if((N.isDeepOne||N.serverIndex>=0)&&p.indexOf(N)==-1){p.push(N);}if(N.nodeState.added){this._generateDeleteRequest(N);}}.bind(this);this._aAllChangedNodes.forEach(function(N){I=false;this._up(N,f,false);if(I){t(N);}else{if(N.nodeState.removed&&!N.nodeState.reinserted){t(N);}else{var P=N.parent.context.getProperty(this.oTreeProperties["hierarchy-node-for"]);this.oModel.setProperty(this.oTreeProperties["hierarchy-parent-node-for"],P,N.context);}}}.bind(this));p.sort(function(a,b){var A=this._getRelatedServerIndex(a);var B=this._getRelatedServerIndex(b);if(A==B&&a.isDeepOne&&b.isDeepOne){return a.originalLevel-b.originalLevel;}return A-B;}.bind(this));var n=function(D){var b=false;this._up(D,function(P,B){if(P.nodeState.removed&&!P.nodeState.reinserted){b=true;B.broken=true;}},true);return b;}.bind(this);for(var i=0;i<p.length;i++){var D=p[i];if(!n(D)){this._generateDeleteRequest(D);q.sap.log.debug("ODataTreeBindingFlat: DELETE "+D.key);}}};d.prototype._nodeIsOnTopLevel=function(n){if(n&&n.serverIndex>=0){var p=n.parent==null;if(p){if(n.originalLevel==this._iLowestServerLevel){return true;}else{return false;}}}else{q.sap.log.warning("ODataTreeBindingFlat.nodeIsOnTopLevel: Node is not defined or not a server-indexed node.");}};d.prototype._generateDeleteRequest=function(n){var o=n.context;if(n.nodeState.added){this.oModel.deleteCreatedEntry(o);}else{var a=this.oModel.resolve(this.getPath(),this.getContext());var D=this.oModel.remove(o.getPath(),{groupId:this._getCorrectChangeGroup(a),refreshAfterChange:false});return D;}};d.prototype._trackChangedNode=function(n){if(this._aAllChangedNodes.indexOf(n)==-1){this._aAllChangedNodes.push(n);}};d.prototype.addContexts=function(p,v){var n=this._findNodeByContext(p),N=n.node,m=this.getModel(),o,a;if(N){this._bReadOnly=false;if(N.nodeState&&N.nodeState.isLeaf){N.nodeState.isLeaf=false;N.nodeState.collapsed=true;}if(!q.isArray(v)){if(v instanceof sap.ui.model.Context){v=[v];}else{q.sap.log.warning("ODataTreeBinding.addContexts(): The child node argument is not of type sap.ui.model.Context.");}}var b=function(f){return function(){return[f];};};v=v.slice();v.reverse();for(var j=0;j<v.length;j++){var a=v[j];if(!a||!(a instanceof sap.ui.model.Context)){q.sap.log.warning("ODataTreeBindingFlat.addContexts(): no valid child context given!");return;}var o=this._mSubtreeHandles[a.getPath()];this._ensureHierarchyNodeIDForContext(a);if(o&&o._isRemovedSubtree){q.sap.log.info("ODataTreeBindingFlat.addContexts(): Existing context added '"+a.getPath()+"'");o._oNewParentNode=N;o._oSubtreeRoot.nodeState.reinserted=true;o._oSubtreeRoot.originalParent=o._oSubtreeRoot.originalParent||o._oSubtreeRoot.parent;o._oSubtreeRoot.parent=N;o._oSubtreeRoot.containingSubtreeHandle=o;a=o.getContext();this._trackChangedNode(o._oSubtreeRoot);this._mSubtreeHandles[a.getPath()];}else{q.sap.log.info("ODataTreeBindingFlat.addContexts(): Newly created context added.");this._ensureHierarchyNodeIDForContext(a);var f={context:a,key:m.getKey(a),parent:N,nodeState:{isLeaf:true,collapsed:false,expanded:false,selected:false,added:true},addedSubtrees:[],children:[],magnitude:0};this._trackChangedNode(f);this._aAdded.push(f);o={_getSubtree:b(f),_oSubtreeRoot:null,_oNewParentNode:N};}o._iContainingServerIndex=N.serverIndex||N.containingServerIndex;N.addedSubtrees.unshift(o);if(N.serverIndex!==undefined){this._aNodeChanges[N.serverIndex]=true;}}this._aNodeCache=[];this._cleanTreeStateMaps();this._fireChange({reason:C.Add});}else{q.sap.log.warning("The given parent context could not be found in the tree. No new sub-nodes were added!");}};d.prototype._ensureHierarchyNodeIDForContext=function(o){if(o){var n=o.getProperty(this.oTreeProperties["hierarchy-node-for"]);if(o.bCreated&&!n){this.oModel.setProperty(this.oTreeProperties["hierarchy-node-for"],q.sap.uid(),o);}}};d.prototype.removeContext=function(o){var t=this;var n=this._findNodeByContext(o);var N=n.node;var i=n.index;if(N){this._bReadOnly=false;N.nodeState.removed=true;this._aRemoved.push(N);this._trackChangedNode(N);if(N.serverIndex!==undefined){this._aNodeChanges[N.serverIndex]=true;}if(N.containingSubtreeHandle&&N.parent!=null){var a=N.parent.addedSubtrees.indexOf(N.containingSubtreeHandle);if(a!=-1){N.parent.addedSubtrees.splice(a,1);N.nodeState.reinserted=false;N.parent=null;}}this._aNodeCache=[];this.setNodeSelection(N,false);this._cleanUpSelection(true);this._cleanTreeStateMaps();this._fireChange({reason:C.Remove});this._mSubtreeHandles[o.getPath()]={_removedFromVisualIndex:i,_isRemovedSubtree:true,_oSubtreeRoot:N,_getSubtree:function(){if(N.serverIndex!=undefined&&!N.initiallyCollapsed){return t._aNodes.slice(N.serverIndex,N.serverIndex+N.magnitude+1);}else{return N;}},getContext:function(){return o;},_restore:function(){N.nodeState.removed=false;var b=t._aRemoved.indexOf(N);if(b!=-1){t._aRemoved.splice(b,1);}this._aNodeCache=[];t._cleanTreeStateMaps();t._fireChange({reason:C.Add});}};return o;}else{q.sap.log.warning("ODataTreeBinding.removeContexts(): The given context is not part of the tree. Was it removed already?");}};d.prototype._getRelatedServerIndex=function(n){if(n.serverIndex===undefined){return n.containingServerIndex;}else{return n.serverIndex;}};d.prototype.getNodeInfoByRowIndex=function(r){var i=0,e=0,n,t,v=-1;while(i<this._aCollapsed.length||e<this._aExpanded.length){if(this._aCollapsed[i]&&this._aExpanded[e]){if(this._getRelatedServerIndex(this._aCollapsed[i])>this._getRelatedServerIndex(this._aExpanded[e])){n=this._aExpanded[e];e++;t=false;}else{n=this._aCollapsed[i];i++;t=true;}}else if(this._aCollapsed[i]){n=this._aCollapsed[i];i++;t=true;}else{n=this._aExpanded[e];e++;t=false;}if(r<=this._getRelatedServerIndex(n)){break;}if(t){if(!n.isDeepOne&&!n.initiallyCollapsed&&n.serverIndex>v){r+=n.magnitude;v=n.serverIndex+n.magnitude;}}else{if(n.serverIndex>v){if(!n.isDeepOne&&n.initiallyCollapsed){r-=n.magnitude;}if(r<=n.serverIndex){return this._calcDirectIndex(n,r+n.magnitude-n.serverIndex-1);}}}}return{index:r};};d.prototype._calcDirectIndex=function(n,a){var i,m,o;for(i=0;i<n.children.length;i++){o=n.children[i];if(a===0){return{parent:n,childIndex:i};}m=o?o.magnitude:0;a--;if(!o||o.nodeState.collapsed){continue;}if(a<m){return this._calcDirectIndex(o,a);}else{a-=m;}}};d.prototype.getRowIndexByNode=function(n){var D=0;var o;var i;if(n.isDeepOne){while(n.parent){D+=n.positionInParent+1;for(i=0;i<n.positionInParent;i++){o=n.parent.children[i];if(o&&o.nodeState.expanded){D+=o.magnitude;}}n=n.parent;}}return this._calcIndexDelta(n.serverIndex)+n.serverIndex+D;};d.prototype._getSelectedNodesInfo=function(){var n=[];if(q.isEmptyObject(this._mSelected)){return n;}var i=true;var f=function(N,b){if(N.nodeState.collapsed||(N.nodeState.removed&&!N.nodeState.reinserted)){i=false;b.broken=true;}};for(var k in this._mSelected){var s=this._mSelected[k];i=true;this._up(s,f,false);if(i){n.push({node:s,rowIndex:this.getRowIndexByNode(s)});}}n.sort(function(N,o){return N.rowIndex-o.rowIndex;});return n;};d.prototype._calcIndexDelta=function(e){var m={};this._aCollapsed.forEach(function(n){if(n.serverIndex>=0&&n.serverIndex<e&&!n.isDeepOne&&!n.initiallyCollapsed){m[n.serverIndex]=n.magnitude;}});var l=0;var a=0;for(var i=0;i<this._aCollapsed.length;i++){var o=this._aCollapsed[i];if(this._getRelatedServerIndex(o)>=e){break;}if(!o.isDeepOne){if(o.serverIndex>=l&&!o.initiallyCollapsed){a-=o.magnitude;l=o.serverIndex+o.magnitude;}else{}}else{}}var E=0;var I=function(n){var f=false;var g=n.serverIndex||n.containingServerIndex;for(var j in m){if(g>j&&g<j+m[j]){f=true;break;}}return f;};for(i=0;i<this._aExpanded.length;i++){var b=this._aExpanded[i];if(this._getRelatedServerIndex(b)>=e){break;}if(b.isDeepOne){var p=b.parent;var y=false;while(p){if(p.nodeState.collapsed){y=true;break;}p=p.parent;}var f=I(b);if(!y&&!f){E+=b.children.length;}}else if(b.initiallyCollapsed){var f=I(b);if(!f){E+=b.children.length;}}}return E+a;};d.prototype._sortNodes=function(n){var s=function(a,b){var A=this._getRelatedServerIndex(a);var B=this._getRelatedServerIndex(b);return A-B;}.bind(this);n.sort(s);};d.prototype.attachSelectionChanged=function(D,f,l){this.attachEvent("selectionChanged",D,f,l);return this;};d.prototype.detachSelectionChanged=function(f,l){this.detachEvent("selectionChanged",f,l);return this;};d.prototype.fireSelectionChanged=function(a){this.fireEvent("selectionChanged",a);return this;};d.prototype.getRootContexts=function(){};d.prototype.getNodeContexts=function(){};return d;},true);
sap.ui.predefine('sap/ui/model/odata/_AnnotationHelperBasics',['jquery.sap.global','sap/ui/base/BindingParser'],function(q,B){'use strict';var a="sap.ui.model.odata.AnnotationHelper",r=/[\\\{\}:]/,b,d=/^(\/dataServices\/schema\/\d+\/entityContainer\/\d+\/entitySet\/\d+)(?:\/|$)/,f=/^(\/dataServices\/schema\/\d+\/entityType\/\d+)(?:\/|$)/,p=[a],P=a+"/followPath",u={"Edm.Boolean":"sap.ui.model.odata.type.Boolean","Edm.Byte":"sap.ui.model.odata.type.Byte","Edm.DateTime":"sap.ui.model.odata.type.DateTime","Edm.DateTimeOffset":"sap.ui.model.odata.type.DateTimeOffset","Edm.Decimal":"sap.ui.model.odata.type.Decimal","Edm.Double":"sap.ui.model.odata.type.Double","Edm.Float":"sap.ui.model.odata.type.Single","Edm.Guid":"sap.ui.model.odata.type.Guid","Edm.Int16":"sap.ui.model.odata.type.Int16","Edm.Int32":"sap.ui.model.odata.type.Int32","Edm.Int64":"sap.ui.model.odata.type.Int64","Edm.SByte":"sap.ui.model.odata.type.SByte","Edm.Single":"sap.ui.model.odata.type.Single","Edm.String":"sap.ui.model.odata.type.String","Edm.Time":"sap.ui.model.odata.type.Time"};b={descend:function(o,v,e){var t=q.extend({},o);b.expectType(o,typeof v==="number"?"array":"object");t.path=o.path+"/"+v;t.value=o.value[v];if(e===true){t.asExpression=true;}else if(e){b.expectType(t,e);}return t;},error:function(o,m,c){m=o.path+": "+m;q.sap.log.error(m,b.toErrorString(o.value),c||a);throw new SyntaxError(m);},expectType:function(o,e){var E,v=o.value;if(e==="array"){E=!Array.isArray(v);}else{E=typeof v!==e||v===null||Array.isArray(v);}if(E){b.error(o,"Expected "+e);}},followPath:function(i,R){var A,s,c,e,I,m=i.getModel(),g,o={associationSetEnd:undefined,navigationAfterMultiple:false,isMultiple:false,navigationProperties:[],resolvedPath:undefined},S;q.sap.measure.average(P,"",p);s=b.getPath(R);c=s!==undefined&&b.getStartingPoint(i,s);if(!c){q.sap.measure.end(P);return undefined;}g=s.split("/");while(s&&g.length&&c){S=g[0];I=S.indexOf("@");if(I===0){c+="/"+S.slice(1);g.shift();continue;}e=m.getObject(c);A=m.getODataAssociationEnd(e,S);if(A){o.associationSetEnd=m.getODataAssociationSetEnd(e,S);o.navigationProperties.push(S);if(o.isMultiple){o.navigationAfterMultiple=true;}o.isMultiple=A.multiplicity==="*";c=m.getODataEntityType(A.type,true);g.shift();continue;}c=m.getODataProperty(e,g,true);}o.resolvedPath=c;q.sap.measure.end(P);return o;},getPath:function(R){if(R){if(R.hasOwnProperty("AnnotationPath")){return R.AnnotationPath;}if(R.hasOwnProperty("Path")){return R.Path;}if(R.hasOwnProperty("PropertyPath")){return R.PropertyPath;}if(R.hasOwnProperty("NavigationPropertyPath")){return R.NavigationPropertyPath;}}return undefined;},getStartingPoint:function(i,s){var e,m=f.exec(i.getPath()),M;if(m){return m[1];}m=d.exec(i.getPath());if(m){if(!s){return m[1];}M=i.getModel();e=M.getObject(m[1]);return M.getODataEntityType(e.entityType,true);}return undefined;},property:function(o,v,e){return b.descend(o,v,e).value;},resultToString:function(R,e,w){var v=R.value;function c(A){var C,s;A=A&&!R.ignoreTypeInPath&&R.type;if(A||r.test(v)){s="{path:"+b.toJSON(v);if(A){s+=",type:'"+u[R.type]+"'";C=b.toJSON(R.constraints);if(C&&C!=="{}"){s+=",constraints:"+C;}}return s+"}";}return"{"+v+"}";}function g(R){switch(R.type){case"Edm.Boolean":case"Edm.Double":case"Edm.Int32":return String(R.value);default:return b.toJSON(R.value);}}switch(R.result){case"binding":return(e?"$":"")+c(w);case"composite":if(e){throw new Error("Trying to embed a composite binding into an expression binding");}return v;case"constant":if(R.type==="edm:Null"){return e?"null":null;}if(e){return g(R);}return typeof v==="string"?B.complexParser.escape(v):String(v);case"expression":return e?v:"{="+v+"}";}},toErrorString:function(v){var j;if(typeof v!=="function"){try{j=b.toJSON(v);if(j!==undefined&&j!=="null"){return j;}}catch(e){}}return String(v);},toJSON:function(v){var s,e=false,R="",i,c;s=JSON.stringify(v);if(s===undefined){return undefined;}for(i=0;i<s.length;i+=1){switch(c=s.charAt(i)){case"'":R+="\\'";break;case'"':if(e){R+=c;e=false;}else{R+="'";}break;case"\\":if(e){R+="\\\\";}e=!e;break;default:if(e){R+="\\";e=false;}R+=c;}}return R;}};return b;},false);
sap.ui.predefine('sap/ui/model/odata/_AnnotationHelperExpression',['jquery.sap.global','./_AnnotationHelperBasics','sap/ui/base/BindingParser','sap/ui/base/ManagedObject','sap/ui/core/format/DateFormat','sap/ui/model/odata/ODataUtils'],function(q,B,a,M,D,O){'use strict';var A="sap.ui.model.odata.AnnotationHelper",d="\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])",s="[-+]?\\d+(?:\\.\\d+)?",m="9007199254740991",b="-"+m,p=[A],P=A+"/getExpression",t="(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(\\.\\d{1,12})?)?",E={Bool:/^true$|^false$/i,Float:new RegExp("^"+s+"(?:[eE][-+]?\\d+)?$|^NaN$|^-INF$|^INF$"),Date:new RegExp("^"+d+"$"),DateTimeOffset:new RegExp("^"+d+"T"+t+"(?:Z|[-+](?:0\\d|1[0-3]):[0-5]\\d|[-+]14:00)$","i"),Decimal:new RegExp("^"+s+"$"),Guid:/^[A-F0-9]{8}-(?:[A-F0-9]{4}-){3}[A-F0-9]{12}$/i,Int:/^[-+]?\d{1,19}$/,TimeOfDay:new RegExp("^"+t+"$")},c,r=/^\{@i18n>[^\\\{\}:]+\}$/,f=/^\d+$/,o={And:"&&",Eq:"===",Ge:">=",Gt:">",Le:"<=",Lt:"<",Ne:"!==",Not:"!",Or:"||"},g=/^(\/dataServices\/schema\/\d+)(?:\/|$)/,T={"Edm.Boolean":"boolean","Edm.Byte":"number","Edm.Date":"date","Edm.DateTime":"datetime","Edm.DateTimeOffset":"datetime","Edm.Decimal":"decimal","Edm.Double":"number","Edm.Float":"number","Edm.Guid":"string","Edm.Int16":"number","Edm.Int32":"number","Edm.Int64":"decimal","Edm.SByte":"number","Edm.Single":"number","Edm.String":"string","Edm.Time":"time","Edm.TimeOfDay":"time"},h={Bool:"Edm.Boolean",Float:"Edm.Double",Date:"Edm.Date",DateTimeOffset:"Edm.DateTimeOffset",Decimal:"Edm.Decimal",Guid:"Edm.Guid",Int:"Edm.Int64",String:"Edm.String",TimeOfDay:"Edm.TimeOfDay"},j={"boolean":false,"date":true,"datetime":true,"decimal":true,"number":false,"string":false,"time":true};c={adjustOperands:function(e,i){if(e.result!=="constant"&&e.category==="number"&&i.result==="constant"&&i.type==="Edm.Int64"){i.category="number";}if(e.result!=="constant"&&e.category==="decimal"&&i.result==="constant"&&i.type==="Edm.Int32"){i.category="decimal";i.type=e.type;}if(e.result==="constant"&&e.category==="date"&&i.result!=="constant"&&i.category==="datetime"){i.category="date";}},apply:function(i,e){var n=B.descend(e,"Name","string"),k=B.descend(e,"Parameters");switch(n.value){case"odata.concat":return c.concat(i,k);case"odata.fillUriTemplate":return c.fillUriTemplate(i,k);case"odata.uriEncode":return c.uriEncode(i,k);default:B.error(n,"unknown function: "+n.value);}},concat:function(I,e){var k=e.asExpression,l=[],R,n=[];B.expectType(e,"array");e.value.forEach(function(u,i){R=c.parameter(I,e,i);k=k||R.result==="expression";n.push(R);});n.forEach(function(R){if(k){c.wrapExpression(R);}if(R.type!=='edm:Null'){l.push(B.resultToString(R,k,e.withType));}});R=k?{result:"expression",value:l.join("+")}:{result:"composite",value:l.join("")};R.type="Edm.String";return R;},conditional:function(i,e){var C=c.parameter(i,e,0,"Edm.Boolean"),k=c.parameter(i,e,1),l=c.parameter(i,e,2),n=k.type,w=e.withType;if(k.type==="edm:Null"){n=l.type;}else if(l.type!=="edm:Null"&&k.type!==l.type){B.error(e,"Expected same type for second and third parameter, types are '"+k.type+"' and '"+l.type+"'");}return{result:"expression",type:n,value:B.resultToString(c.wrapExpression(C),true,false)+"?"+B.resultToString(c.wrapExpression(k),true,w)+":"+B.resultToString(c.wrapExpression(l),true,w)};},constant:function(i,e,k){var v=e.value;B.expectType(e,"string");if(k==="String"){if(r.test(v)){return{ignoreTypeInPath:true,result:"binding",type:"Edm.String",value:v.slice(1,-1)};}else if(i.getSetting&&i.getSetting("bindTexts")){return{result:"binding",type:"Edm.String",ignoreTypeInPath:true,value:"/##"+c.replaceIndexes(i.getModel(),e.path)};}k="Edm.String";}else if(!E[k].test(v)){B.error(e,"Expected "+k+" value but instead saw '"+v+"'");}else{k=h[k];if(k==="Edm.Int64"&&O.compare(v,b,true)>=0&&O.compare(v,m,true)<=0){k="Edm.Int32";}}return{result:"constant",type:k,value:v};},expression:function(i,e){var R=e.value,S,k;B.expectType(e,"object");if(R.hasOwnProperty("Type")){k=B.property(e,"Type","string");S=B.descend(e,"Value");}else{["And","Apply","Bool","Date","DateTimeOffset","Decimal","Float","Eq","Ge","Gt","Guid","If","Int","Le","Lt","Ne","Not","Null","Or","Path","PropertyPath","String","TimeOfDay"].forEach(function(l){if(R.hasOwnProperty(l)){k=l;S=B.descend(e,l);}});}switch(k){case"Apply":return c.apply(i,S);case"If":return c.conditional(i,S);case"Path":case"PropertyPath":return c.path(i,S);case"Bool":case"Date":case"DateTimeOffset":case"Decimal":case"Float":case"Guid":case"Int":case"String":case"TimeOfDay":return c.constant(i,S,k);case"And":case"Eq":case"Ge":case"Gt":case"Le":case"Lt":case"Ne":case"Or":return c.operator(i,S,k);case"Not":return c.not(i,S);case"Null":return{result:"constant",value:"null",type:"edm:Null"};default:B.error(e,"Unsupported OData expression");}},formatOperand:function(e,i,R,w){var k;if(R.result==="constant"){switch(R.category){case"boolean":case"number":return R.value;case"date":k=c.parseDate(R.value);if(!k){B.error(B.descend(e,i),"Invalid Date "+R.value);}return String(k.getTime());case"datetime":k=c.parseDateTimeOffset(R.value);if(!k){B.error(B.descend(e,i),"Invalid DateTime "+R.value);}return String(k.getTime());case"time":return String(c.parseTimeOfDay(R.value).getTime());}}if(w){c.wrapExpression(R);}return B.resultToString(R,true);},getExpression:function(i,R,w){var k;if(R===undefined){return undefined;}q.sap.measure.average(P,"",p);if(!c.simpleParserWarningLogged&&M.bindingParser===a.simpleParser){q.sap.log.warning("Complex binding syntax not active",null,A);c.simpleParserWarningLogged=true;}try{k=c.expression(i,{asExpression:false,path:i.getPath(),value:R,withType:w});q.sap.measure.end(P);return B.resultToString(k,false,w);}catch(e){q.sap.measure.end(P);if(e instanceof SyntaxError){return"Unsupported: "+a.complexParser.escape(B.toErrorString(R));}throw e;}},fillUriTemplate:function(I,e){var i,n,k=[],l="",u,v=e.value,R,w=c.parameter(I,e,0,"Edm.String");k.push('odata.fillUriTemplate(',B.resultToString(w,true),',{');for(i=1;i<v.length;i+=1){u=B.descend(e,i,"object");n=B.property(u,"Name","string");R=c.expression(I,B.descend(u,"Value"),true);k.push(l,B.toJSON(n),":",B.resultToString(R,true));l=",";}k.push("})");return{result:"expression",value:k.join(""),type:"Edm.String"};},not:function(i,e){var k;e.asExpression=true;k=c.expression(i,e);return{result:"expression",value:"!"+B.resultToString(c.wrapExpression(k),true),type:"Edm.Boolean"};},operator:function(i,e,k){var l=k==="And"||k==="Or"?"Edm.Boolean":undefined,n=c.parameter(i,e,0,l),u=c.parameter(i,e,1,l),v,N,V,w;if(n.type!=="edm:Null"&&u.type!=="edm:Null"){n.category=T[n.type];u.category=T[u.type];c.adjustOperands(n,u);c.adjustOperands(u,n);if(n.category!==u.category){B.error(e,"Expected two comparable parameters but instead saw "+n.type+" and "+u.type);}v=n.category==="decimal"?",true":"";N=j[n.category];}V=c.formatOperand(e,0,n,!N);w=c.formatOperand(e,1,u,!N);return{result:"expression",value:N?"odata.compare("+V+","+w+v+")"+o[k]+"0":V+o[k]+w,type:"Edm.Boolean"};},parameter:function(i,e,I,k){var l=B.descend(e,I),R;l.asExpression=true;R=c.expression(i,l);if(k&&k!==R.type){B.error(l,"Expected "+k+" but instead saw "+R.type);}return R;},parseDate:function(v){return D.getDateInstance({pattern:"yyyy-MM-dd",strictParsing:true,UTC:true}).parse(v);},parseDateTimeOffset:function(v){var e=E.DateTimeOffset.exec(v);if(e&&e[1]&&e[1].length>4){v=v.replace(e[1],e[1].slice(0,4));}return D.getDateTimeInstance({pattern:"yyyy-MM-dd'T'HH:mm:ss.SSSX",strictParsing:true}).parse(v.toUpperCase());},parseTimeOfDay:function(v){if(v.length>12){v=v.slice(0,12);}return D.getTimeInstance({pattern:"HH:mm:ss.SSS",strictParsing:true,UTC:true}).parse(v);},path:function(i,e){var k=e.value,C={},l,I,n,u=i.getModel(),v={getModel:function(){return u;},getPath:function(){return e.path;}},w,R={result:"binding",value:k},x;B.expectType(e,"string");x=B.followPath(v,{"Path":k});if(x&&x.resolvedPath){w=u.getProperty(x.resolvedPath);R.type=w.type;switch(w.type){case"Edm.DateTime":C.displayFormat=w["sap:display-format"];break;case"Edm.Decimal":C.precision=w.precision;C.scale=w.scale;n=w["Org.OData.Validation.V1.Minimum"];if(n&&n.String){C.minimum=n.String;l=n["Org.OData.Validation.V1.Exclusive"];if(l){C.minimumExclusive=l.Bool||"true";}}n=w["Org.OData.Validation.V1.Maximum"];if(n&&n.String){C.maximum=n.String;l=n["Org.OData.Validation.V1.Exclusive"];if(l){C.maximumExclusive=l.Bool||"true";}}break;case"Edm.String":C.maxLength=w.maxLength;I=w["com.sap.vocabularies.Common.v1.IsDigitSequence"];if(I){C.isDigitSequence=I.Bool||"true";}break;}if(w.nullable==="false"){C.nullable="false";}R.constraints=C;}else{q.sap.log.warning("Could not find property '"+k+"' starting from '"+e.path+"'",null,A);}return R;},replaceIndexes:function(e,k){var l,n=k.split('/'),u,R;function v(w,i){var x=e.getProperty(u+"/"+w);if(typeof x==="string"){n[i]="[${"+w+"}==="+B.toJSON(x)+"]";return true;}return false;}l=g.exec(k);if(!l){return k;}u=l[1];if(!v("namespace",3)){return k;}for(var i=4;i<n.length;i++){u=u+"/"+n[i];if(f.test(n[i])&&!v("name",i)){R=e.getProperty(u+"/RecordType");if(R){if(R==="com.sap.vocabularies.UI.v1.DataFieldForAction"){v("Action/String",i);}else if(R==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){v("Target/AnnotationPath",i);}else if(R.indexOf("com.sap.vocabularies.UI.v1.DataField")===0){v("Value/Path",i);}}}}return n.join('/');},simpleParserWarningLogged:false,uriEncode:function(i,e){var R=c.parameter(i,e,0);if(R.result==="constant"){if(R.type==="Edm.Date"){R.type="Edm.DateTime";R.value=R.value+"T00:00:00Z";}else if(R.type==="Edm.TimeOfDay"){R.type="Edm.Time";R.value="PT"+R.value.slice(0,2)+"H"+R.value.slice(3,5)+"M"+R.value.slice(6,8)+"S";}}return{result:"expression",value:'odata.uriEncode('+B.resultToString(R,true)+","+B.toJSON(R.type)+")",type:"Edm.String"};},wrapExpression:function(R){if(R.result==="expression"){R.value="("+R.value+")";}return R;}};return c;},false);
sap.ui.predefine('sap/ui/model/odata/type/Boolean',['jquery.sap.global','sap/ui/core/Core','sap/ui/model/FormatException','sap/ui/model/odata/type/ODataType','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,C,F,O,P,V){"use strict";function g(){return a("EnterYesOrNo",[b(true),b(false)]);}function a(k,p){return sap.ui.getCore().getLibraryResourceBundle().getText(k,p);}function b(v){return a(v?"YES":"NO");}function s(t,c){var n=c&&c.nullable;t.oConstraints=undefined;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){q.sap.log.warning("Illegal nullable: "+n,null,t.getName());}}var E=O.extend("sap.ui.model.odata.type.Boolean",{constructor:function(f,c){O.apply(this,arguments);s(this,c);}});E.prototype.formatValue=function(v,t){if(v===null||v===undefined){return null;}switch(this.getPrimitiveType(t)){case"any":case"boolean":return v;case"string":return b(v);default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};E.prototype.parseValue=function(v,S){var c;if(v===null||v===""){return null;}switch(this.getPrimitiveType(S)){case"boolean":return v;case"string":c=v.trim().toLowerCase();if(c===b(true).toLowerCase()){return true;}if(c===b(false).toLowerCase()){return false;}throw new P(g());default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}};E.prototype.validateValue=function(v){if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(g());}return;}if(typeof v!=="boolean"){throw new V("Illegal "+this.getName()+" value: "+v);}};E.prototype.getName=function(){return"sap.ui.model.odata.type.Boolean";};return E;});
sap.ui.predefine('sap/ui/model/odata/type/Byte',['sap/ui/model/odata/type/Int'],function(I){"use strict";var r={minimum:0,maximum:255};var B=I.extend("sap.ui.model.odata.type.Byte",{constructor:function(){I.apply(this,arguments);}});B.prototype.getName=function(){return"sap.ui.model.odata.type.Byte";};B.prototype.getRange=function(){return r;};return B;});
sap.ui.predefine('sap/ui/model/odata/type/Date',['jquery.sap.global','sap/ui/core/format/DateFormat','sap/ui/model/FormatException','sap/ui/model/odata/type/ODataType','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,D,F,O,P,V){"use strict";var r=/\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\d|3[01])/,d="2014-11-27",m;function g(t){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterDate",[t.formatValue(d,"string")]);}function a(t){var f;if(!t.oFormat){f=q.extend({strictParsing:true},t.oFormatOptions);f.UTC=true;t.oFormat=D.getDateInstance(f);}return t.oFormat;}function b(){if(!m){m=D.getDateInstance({pattern:'yyyy-MM-dd',strictParsing:true,UTC:true});}return m;}function s(t,c){var n=c&&c.nullable;t.oConstraints=undefined;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){q.sap.log.warning("Illegal nullable: "+n,null,t.getName());}}var E=O.extend("sap.ui.model.odata.type.Date",{constructor:function(f,c){O.apply(this,arguments);this.oFormatOptions=f;s(this,c);}});E.prototype._handleLocalizationChange=function(){this.oFormat=null;};E.prototype.formatValue=function(v,t){var o;if(v===undefined||v===null){return null;}switch(this.getPrimitiveType(t)){case"any":return v;case"string":o=b().parse(v);return o?a(this).format(o):v;default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};E.prototype.getName=function(){return"sap.ui.model.odata.type.Date";};E.prototype.parseValue=function(v,S){var R;if(v===""||v===null){return null;}switch(this.getPrimitiveType(S)){case"string":R=a(this).parse(v);if(!R){throw new P(g(this));}return b().format(R);default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}};E.prototype.validateValue=function(v){if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(g(this));}return;}else if(typeof v!=="string"||!r.test(v)){throw new V("Illegal "+this.getName()+" value: "+v);}};return E;});
sap.ui.predefine('sap/ui/model/odata/type/DateTime',['jquery.sap.global','sap/ui/model/odata/type/DateTimeBase'],function(q,D){"use strict";function a(t,c){var A={};if(c){switch(c.displayFormat){case"Date":A.isDateOnly=true;break;case undefined:break;default:q.sap.log.warning("Illegal displayFormat: "+c.displayFormat,null,t.getName());}A.nullable=c.nullable;}return A;}var b=D.extend("sap.ui.model.odata.type.DateTime",{constructor:function(f,c){D.call(this,f,a(this,c));}});b.prototype.getName=function(){return"sap.ui.model.odata.type.DateTime";};return b;});
sap.ui.predefine('sap/ui/model/odata/type/DateTimeBase',["jquery.sap.global","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/odata/type/ODataType","sap/ui/model/ParseException","sap/ui/model/ValidateException"],function(q,D,F,O,P,V){"use strict";var d=new Date(2014,10,27,13,47,26);function i(t){return t.oConstraints&&t.oConstraints.isDateOnly;}function g(t){return sap.ui.getCore().getLibraryResourceBundle().getText(i(t)?"EnterDate":"EnterDateTime",[t.formatValue(d,"string")]);}function a(t){var f;if(!t.oFormat){f=q.extend({strictParsing:true},t.oFormatOptions);if(i(t)){f.UTC=true;t.oFormat=D.getDateInstance(f);}else{delete f.UTC;t.oFormat=D.getDateTimeInstance(f);}}return t.oFormat;}function s(t,c){var p;t.oConstraints=undefined;if(c){switch(c.nullable){case undefined:case true:case"true":break;case false:case"false":t.oConstraints=t.oConstraints||{};t.oConstraints.nullable=false;break;default:q.sap.log.warning("Illegal nullable: "+c.nullable,null,t.getName());}if(c.isDateOnly===true){t.oConstraints=t.oConstraints||{};t.oConstraints.isDateOnly=true;}p=c.precision;if(p!==undefined){if(p===Math.floor(p)&&p>=1&&p<=12){t.oConstraints=t.oConstraints||{};t.oConstraints.precision=p;}else if(p!==0){q.sap.log.warning("Illegal precision: "+p,null,t.getName());}}}t._handleLocalizationChange();}var b=O.extend("sap.ui.model.odata.type.DateTimeBase",{constructor:function(f,c){O.apply(this,arguments);s(this,c);this.oFormat=null;this.oFormatOptions=f;},metadata:{"abstract":true}});b.prototype.formatValue=function(v,t){if(v===null||v===undefined){return null;}switch(this.getPrimitiveType(t)){case"any":return v;case"string":return a(this).format(v);default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};b.prototype.parseValue=function(v,S){var r;if(v===null||v===""){return null;}switch(this.getPrimitiveType(S)){case"string":r=a(this).parse(v);if(!r){throw new P(g(this));}return r;default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}};b.prototype._handleLocalizationChange=function(){this.oFormat=null;};b.prototype.validateValue=function(v){if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(g(this));}return;}else if(v instanceof Date){return;}throw new V("Illegal "+this.getName()+" value: "+v);};return b;});
sap.ui.predefine('sap/ui/model/odata/type/DateTimeOffset',["jquery.sap.global","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/odata/type/DateTimeBase"],function(q,D,F,a){"use strict";var b=a.extend("sap.ui.model.odata.type.DateTimeOffset",{constructor:function(f,c){var v;a.call(this,f,{nullable:c?c.nullable:undefined,precision:c?c.precision:undefined});this.rDateTimeOffset=undefined;this.bV4=false;if(c){v=c.V4;if(v===true){this.bV4=true;}else if(v!==undefined&&v!==false){q.sap.log.warning("Illegal V4: "+v,null,this.getName());}}}});function g(t){var p="yyyy-MM-dd'T'HH:mm:ss",P;if(!t.oModelFormat){P=t.oConstraints&&t.oConstraints.precision;if(P){p+="."+q.sap.padRight("","S",P);}t.oModelFormat=D.getDateInstance({pattern:p+"X",strictParsing:true});}return t.oModelFormat;}b.prototype.formatValue=function(v,t){var d;if(typeof v==="string"&&this.getPrimitiveType(t)==="string"){d=g(this).parse(v);if(!d){throw new F("Illegal "+this.getName()+" value: "+v);}v=d;}return a.prototype.formatValue.call(this,v,t);};b.prototype.getName=function(){return"sap.ui.model.odata.type.DateTimeOffset";};b.prototype.parseValue=function(v,s){var r=a.prototype.parseValue.call(this,v,s);return this.bV4&&r!==null?g(this).format(r):r;};b.prototype.setV4=function(){this.bV4=true;return this;};b.prototype.validateValue=function(v){var p;if(this.bV4){if(typeof v==="string"){if(!this.rDateTimeOffset){p=this.oConstraints&&this.oConstraints.precision;this.rDateTimeOffset=new RegExp("^"+"\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])"+"T"+"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d"+(p?"(\\.\\d{1,"+p+"})?":"")+")?"+"(?:Z|[-+](?:0\\d|1[0-3]):[0-5]\\d|[-+]14:00)$","i");}if(this.rDateTimeOffset.test(v)){return;}}else if(v){v=v.toString();}}a.prototype.validateValue.call(this,v);};return b;});
sap.ui.predefine('sap/ui/model/odata/type/Decimal',['jquery.sap.global','sap/ui/core/format/NumberFormat','sap/ui/model/FormatException',"sap/ui/model/odata/ODataUtils",'sap/ui/model/odata/type/ODataType','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,N,F,B,O,P,V){"use strict";var r=/^[-+]?(\d+)(?:\.(\d+))?$/;function g(t){var f,S;if(!t.oFormat){f={groupingEnabled:true,maxIntegerDigits:Infinity};S=a(t);if(S!==Infinity){f.minFractionDigits=f.maxFractionDigits=S;}f=q.extend(f,t.oFormatOptions);f.parseAsString=true;t.oFormat=N.getFloatInstance(f);}return t.oFormat;}function a(t){return(t.oConstraints&&t.oConstraints.scale)||0;}function b(k,p){return sap.ui.getCore().getLibraryResourceBundle().getText(k,p);}function s(t,c){var n,p,v,S,d;function l(j,k){q.sap.log.warning("Illegal "+k+": "+j,null,t.getName());}function e(j,k,m,o){var u=typeof j==="string"?parseInt(j,10):j;if(u===undefined){return k;}if(typeof u!=="number"||isNaN(u)||u<m){l(j,o);return k;}return u;}function f(j,k){if(j){if(j.match(r)){return j;}l(j,k);}}function h(j,k){if(j===true||j==="true"){return true;}if(j!==undefined&&j!==false&&j!=="false"){l(j,k);}}function i(j,k,m){if(k!==m){t.oConstraints=t.oConstraints||{};t.oConstraints[j]=k;}}t.oConstraints=undefined;if(c){n=c.nullable;v=c.precision;d=c.scale;S=d==="variable"?Infinity:e(d,0,0,"scale");p=e(v,Infinity,1,"precision");if(S!==Infinity&&p<=S){q.sap.log.warning("Illegal scale: must be less than precision (precision="+v+", scale="+d+")",null,t.getName());S=Infinity;}i("precision",p,Infinity);i("scale",S,0);if(n===false||n==="false"){i("nullable",false,true);}else if(n!==undefined&&n!==true&&n!=="true"){l(n,"nullable");}i("minimum",f(c.minimum,"minimum"));i("minimumExclusive",h(c.minimumExclusive,"minimumExclusive"));i("maximum",f(c.maximum,"maximum"));i("maximumExclusive",h(c.maximumExclusive,"maximumExclusive"));}t._handleLocalizationChange();}var D=O.extend("sap.ui.model.odata.type.Decimal",{constructor:function(f,c){O.apply(this,arguments);this.oFormatOptions=f;s(this,c);}});D.prototype.formatValue=function(v,t){if(v===null||v===undefined){return null;}switch(this.getPrimitiveType(t)){case"any":return v;case"float":return parseFloat(v);case"int":return Math.floor(parseFloat(v));case"string":return g(this).format(v);default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};D.prototype.parseValue=function(v,S){var R;if(v===null||v===""){return null;}switch(this.getPrimitiveType(S)){case"string":R=g(this).parse(v);if(!R){throw new P(sap.ui.getCore().getLibraryResourceBundle().getText("EnterNumber"));}if(R.indexOf(".")>=0){R=R.replace(/0+$/,"").replace(/\.$/,"");}break;case"int":case"float":R=N.getFloatInstance({maxIntegerDigits:Infinity,decimalSeparator:".",groupingEnabled:false}).format(v);break;default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}return R;};D.prototype._handleLocalizationChange=function(){this.oFormat=null;};D.prototype.validateValue=function(v){var f,i,m,M,c,d,e,p,S;if(v===null&&(!this.oConstraints||this.oConstraints.nullable!==false)){return;}if(typeof v!=="string"){throw new V(b("EnterNumber"));}m=r.exec(v);if(!m){throw new V(b("EnterNumber"));}i=m[1].length;f=(m[2]||"").length;S=a(this);p=(this.oConstraints&&this.oConstraints.precision)||Infinity;d=this.oConstraints&&this.oConstraints.minimum;M=this.oConstraints&&this.oConstraints.maximum;if(f>S){if(S===0){throw new V(b("EnterInt"));}else if(i+S>p){throw new V(b("EnterNumberIntegerFraction",[p-S,S]));}throw new V(b("EnterNumberFraction",[S]));}if(S===Infinity){if(i+f>p){throw new V(b("EnterNumberPrecision",[p]));}}else if(i>p-S){throw new V(b("EnterNumberInteger",[p-S]));}if(d){e=this.oConstraints&&this.oConstraints.minimumExclusive;if(B.compare(d,v,true)>=(e?0:1)){throw new V(b(e?"EnterNumberMinExclusive":"EnterNumberMin",[this.formatValue(d,"string")]));}}if(M){c=this.oConstraints&&this.oConstraints.maximumExclusive;if(B.compare(M,v,true)<=(c?0:-1)){throw new V(b(c?"EnterNumberMaxExclusive":"EnterNumberMax",[this.formatValue(M,"string")]));}}};D.prototype.getName=function(){return"sap.ui.model.odata.type.Decimal";};return D;});
sap.ui.predefine('sap/ui/model/odata/type/Double',['jquery.sap.global','sap/ui/core/format/NumberFormat','sap/ui/model/FormatException','sap/ui/model/odata/type/ODataType','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,N,F,O,P,V){"use strict";function g(){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterNumber");}function a(t){var f;if(!t.oFormat){f=q.extend({groupingEnabled:true},t.oFormatOptions);t.oFormat=N.getFloatInstance(f);}return t.oFormat;}function i(t){return!t.oConstraints||t.oConstraints.nullable!==false;}function s(t,c){var n=c&&c.nullable;t.oConstraints=undefined;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){q.sap.log.warning("Illegal nullable: "+n,null,t.getName());}t._handleLocalizationChange();}var D=O.extend("sap.ui.model.odata.type.Double",{constructor:function(f,c){O.apply(this,arguments);this.oFormatOptions=f;s(this,c);}});D.prototype.formatValue=function(v,t){var f,b;if(v===null||v===undefined){return null;}b=typeof v!=="number"?parseFloat(v):v;switch(this.getPrimitiveType(t)){case"any":return v;case"float":return b;case"int":return Math.floor(b);case"string":if(b&&(Math.abs(b)>=1e15||Math.abs(b)<1e-4)){f=a(this).oFormatOptions;return b.toExponential().replace("e","\u00a0E").replace(".",f.decimalSeparator).replace("+",f.plusSign).replace("-",f.minusSign);}return a(this).format(b);default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};D.prototype.parseValue=function(v,S){var r;if(v===null||v===""){return null;}switch(this.getPrimitiveType(S)){case"string":r=a(this).parse(v);if(isNaN(r)){throw new P(g());}break;case"int":case"float":r=v;break;default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}return r;};D.prototype._handleLocalizationChange=function(){this.oFormat=null;};D.prototype.validateValue=function(v){if(v===null&&i(this)){return;}if(typeof v==="number"){return;}throw new V(g());};D.prototype.getName=function(){return"sap.ui.model.odata.type.Double";};return D;});
sap.ui.predefine('sap/ui/model/odata/type/Guid',['jquery.sap.global','sap/ui/model/FormatException','sap/ui/model/odata/type/ODataType','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,F,O,P,V){"use strict";var r=/[-\s]/g,a=/^[A-F0-9]{8}-([A-F0-9]{4}-){3}[A-F0-9]{12}$/i;function g(){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterGuid");}function s(t,c){var n=c&&c.nullable;t.oConstraints=undefined;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){q.sap.log.warning("Illegal nullable: "+n,null,t.getName());}}var E=O.extend("sap.ui.model.odata.type.Guid",{constructor:function(f,c){O.apply(this,arguments);s(this,c);}});E.prototype.formatValue=function(v,t){if(v===undefined||v===null){return null;}switch(this.getPrimitiveType(t)){case"any":case"string":return v;default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};E.prototype.getName=function(){return"sap.ui.model.odata.type.Guid";};E.prototype.parseValue=function(v,S){var R;if(v===""||v===null){return null;}if(this.getPrimitiveType(S)!=="string"){throw new P("Don't know how to parse "+this.getName()+" from "+S);}R=v.replace(r,'');if(R.length!==32){return v;}R=R.slice(0,8)+'-'+R.slice(8,12)+'-'+R.slice(12,16)+'-'+R.slice(16,20)+'-'+R.slice(20);return R.toUpperCase();};E.prototype.validateValue=function(v){if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(g());}return;}if(typeof v!=="string"){throw new V("Illegal "+this.getName()+" value: "+v);}if(!a.test(v)){throw new V(g());}};return E;});
sap.ui.predefine('sap/ui/model/odata/type/Int',['jquery.sap.global','sap/ui/core/format/NumberFormat','sap/ui/model/FormatException','sap/ui/model/odata/type/ODataType','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,N,F,O,P,V){"use strict";function g(t){var f;if(!t.oFormat){f=q.extend({groupingEnabled:true},t.oFormatOptions);t.oFormat=N.getIntegerInstance(f);}return t.oFormat;}function a(k,p){return sap.ui.getCore().getLibraryResourceBundle().getText(k,p);}function s(t,c){var n=c&&c.nullable;t.oConstraints=undefined;switch(n){case false:case"false":t.oConstraints={nullable:false};break;case true:case"true":case undefined:break;default:q.sap.log.warning("Illegal nullable: "+n,null,t.getName());}t._handleLocalizationChange();}var I=O.extend("sap.ui.model.odata.type.Int",{constructor:function(f,c){O.apply(this,arguments);this.oFormatOptions=f;s(this,c);},metadata:{"abstract":true}});I.prototype._handleLocalizationChange=function(){this.oFormat=null;};I.prototype.formatValue=function(v,t){if(v===undefined||v===null){return null;}switch(this.getPrimitiveType(t)){case"string":return g(this).format(v);case"int":return Math.floor(v);case"float":case"any":return v;default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};I.prototype.parseValue=function(v,S){var r;if(v===null||v===""){return null;}switch(this.getPrimitiveType(S)){case"string":r=g(this).parse(v);if(isNaN(r)){throw new P(a("EnterInt"));}return r;case"float":return Math.floor(v);case"int":return v;default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}};I.prototype.validateValue=function(v){var r=this.getRange();if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(a("EnterInt"));}return;}if(typeof v!=="number"){throw new V(v+" (of type "+typeof v+") is not a valid "+this.getName()+" value");}if(Math.floor(v)!==v){throw new V(a("EnterInt"));}if(v<r.minimum){throw new V(a("EnterNumberMin",[this.formatValue(r.minimum,"string")]));}if(v>r.maximum){throw new V(a("EnterNumberMax",[this.formatValue(r.maximum,"string")]));}};return I;});
sap.ui.predefine('sap/ui/model/odata/type/Int16',['sap/ui/model/odata/type/Int'],function(I){"use strict";var r={minimum:-32768,maximum:32767};var a=I.extend("sap.ui.model.odata.type.Int16",{constructor:function(){I.apply(this,arguments);}});a.prototype.getName=function(){return"sap.ui.model.odata.type.Int16";};a.prototype.getRange=function(){return r;};return a;});
sap.ui.predefine('sap/ui/model/odata/type/Int32',['sap/ui/model/odata/type/Int'],function(I){"use strict";var r={minimum:-2147483648,maximum:2147483647};var a=I.extend("sap.ui.model.odata.type.Int32",{constructor:function(){I.apply(this,arguments);}});a.prototype.getName=function(){return"sap.ui.model.odata.type.Int32";};a.prototype.getRange=function(){return r;};return a;});
sap.ui.predefine('sap/ui/model/odata/type/Int64',['jquery.sap.global','sap/ui/model/odata/type/ODataType','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/core/format/NumberFormat','sap/ui/model/ValidateException'],function(q,O,F,P,N,V){"use strict";var r=/^[-+]?(\d+)$/,R={minimum:"-9223372036854775808",maximum:"9223372036854775807"},s={minimum:"-9007199254740991",maximum:"9007199254740991"};function c(t,v,R){var A,m,n;m=r.exec(v);if(m){n=v.charAt(0)==='-';A=n?R.minimum.slice(1):R.maximum;if(m[1].length<A.length){return undefined;}if(m[1].length>A.length||m[1]>A){if(n){return a("EnterNumberMin",[t.formatValue(R.minimum,"string")]);}else{return a("EnterNumberMax",[t.formatValue(R.maximum,"string")]);}}return undefined;}return a("EnterInt");}function g(t){var f;if(!t.oFormat){f=q.extend({groupingEnabled:true},t.oFormatOptions);f.parseAsString=true;t.oFormat=N.getIntegerInstance(f);}return t.oFormat;}function a(k,p){return sap.ui.getCore().getLibraryResourceBundle().getText(k,p);}function i(t){return!t.oConstraints||t.oConstraints.nullable!==false;}function b(t,C){var n=C&&C.nullable;if(n===false||n==="false"){t.oConstraints=t.oConstraints||{};t.oConstraints.nullable=false;}else if(n!==undefined&&n!==true&&n!=="true"){q.sap.log.warning("Illegal nullable: "+n,null,t.getName());}t._handleLocalizationChange();}var I=O.extend("sap.ui.model.odata.type.Int64",{constructor:function(f,C){O.apply(this,arguments);this.oFormatOptions=f;b(this,C);}});I.prototype.formatValue=function(v,t){var e;if(v===null||v===undefined){return null;}switch(this.getPrimitiveType(t)){case"any":return v;case"float":case"int":e=c(this,v,s);if(e){throw new F(e);}return parseInt(v,10);case"string":return g(this).format(v);default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};I.prototype.getName=function(){return"sap.ui.model.odata.type.Int64";};I.prototype._handleLocalizationChange=function(){this.oFormat=null;};I.prototype.parseValue=function(v,S){var d;if(v===null||v===""){return null;}switch(this.getPrimitiveType(S)){case"string":d=g(this).parse(v);if(!d){throw new P(a("EnterInt"));}break;case"int":case"float":d=N.getIntegerInstance({maxIntegerDigits:Infinity,groupingEnabled:false}).format(v);break;default:throw new P("Don't know how to parse "+this.getName()+" from "+S);}return d;};I.prototype.validateValue=function(v){var e;if(v===null&&i(this)){return;}if(typeof v==="string"){e=c(this,v,R);if(e){throw new V(e);}return;}throw new V(a("EnterInt"));};return I;});
sap.ui.predefine('sap/ui/model/odata/type/ODataType',['sap/ui/model/SimpleType'],function(S){"use strict";var O=S.extend("sap.ui.model.odata.type.ODataType",{constructor:function(f,c){},metadata:{"abstract":true}});O.prototype.getInterface=function(){return this;};O.prototype.setConstraints=function(c){};O.prototype.setFormatOptions=function(f){};return O;});
sap.ui.predefine('sap/ui/model/odata/type/Raw',["sap/ui/model/FormatException","sap/ui/model/odata/type/ODataType","sap/ui/model/ParseException","sap/ui/model/ValidateException"],function(F,O,P,V){"use strict";var R=O.extend("sap.ui.model.odata.type.Raw",{constructor:function(f,c){O.apply(this,arguments);if(f!==undefined||c!==undefined||arguments.length>2){throw new Error("Unsupported arguments");}}});R.prototype.formatValue=function(v,t){if(t==="any"){return v;}throw new F("Type 'sap.ui.model.odata.type.Raw' does not support formatting");};R.prototype.getName=function(){return"sap.ui.model.odata.type.Raw";};R.prototype.parseValue=function(){throw new P("Type 'sap.ui.model.odata.type.Raw' does not support parsing");};R.prototype.validateValue=function(){throw new V("Type 'sap.ui.model.odata.type.Raw' does not support validating");};return R;});
sap.ui.predefine('sap/ui/model/odata/type/SByte',['sap/ui/model/odata/type/Int'],function(I){"use strict";var r={minimum:-128,maximum:127};var S=I.extend("sap.ui.model.odata.type.SByte",{constructor:function(){I.apply(this,arguments);}});S.prototype.getName=function(){return"sap.ui.model.odata.type.SByte";};S.prototype.getRange=function(){return r;};return S;});
sap.ui.predefine('sap/ui/model/odata/type/Single',['jquery.sap.global','sap/ui/core/format/NumberFormat','sap/ui/model/FormatException','sap/ui/model/odata/type/ODataType','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,N,F,O,P,V){"use strict";if(!Math.fround){var a=new window.Float32Array(1);Math.fround=function(v){a[0]=v;return a[0];};}function g(){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterNumber");}function b(t){var f;if(!t.oFormat){f=q.extend({groupingEnabled:true},t.oFormatOptions);t.oFormat=N.getFloatInstance(f);}return t.oFormat;}function i(t){return!t.oConstraints||t.oConstraints.nullable!==false;}function s(t,c){var n=c&&c.nullable;t.oConstraints=undefined;if(n===false||n==="false"){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){q.sap.log.warning("Illegal nullable: "+n,null,t.getName());}t._handleLocalizationChange();}var S=O.extend("sap.ui.model.odata.type.Single",{constructor:function(f,c){O.apply(this,arguments);this.oFormatOptions=f;s(this,c);}});S.prototype.formatValue=function(v,t){var f;if(v===null||v===undefined){return null;}f=typeof v!=="number"?parseFloat(v):v;switch(this.getPrimitiveType(t)){case"any":return v;case"float":return f;case"int":return Math.floor(f);case"string":return b(this).format(parseFloat(f.toPrecision(7)));default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};S.prototype.parseValue=function(v,c){var r;if(v===null||v===""){return null;}switch(this.getPrimitiveType(c)){case"string":r=b(this).parse(v);if(isNaN(r)){throw new P(g());}break;case"int":case"float":r=v;break;default:throw new P("Don't know how to parse "+this.getName()+" from "+c);}return Math.fround(r);};S.prototype._handleLocalizationChange=function(){this.oFormat=null;};S.prototype.validateValue=function(v){if(v===null&&i(this)){return;}if(typeof v==="number"){return;}throw new V(g());};S.prototype.getName=function(){return"sap.ui.model.odata.type.Single";};return S;});
sap.ui.predefine('sap/ui/model/odata/type/String',['jquery.sap.global','sap/ui/model/FormatException','sap/ui/model/odata/type/ODataType','sap/ui/model/ParseException','sap/ui/model/ValidateException','sap/ui/model/type/String'],function(q,F,O,P,V,S){"use strict";var r=/^\d+$/,a=/^0*(?=\d)/,z="00000000000000000000000000000000000000000000000000000000000000000000000000000000";function f(v,l){if(v.length>=l){return v;}while(z.length<l){z=z+z;}return z.slice(0,l-v.length)+v;}function i(v,c){return c&&c.isDigitSequence&&v&&v.match(r);}function s(t,c){var I,m,n;t.oConstraints=undefined;if(c){m=c.maxLength;if(typeof m==="string"){m=parseInt(m,10);}if(typeof m==="number"&&!isNaN(m)&&m>0){t.oConstraints={maxLength:m};}else if(m!==undefined){q.sap.log.warning("Illegal maxLength: "+c.maxLength,null,t.getName());}I=c.isDigitSequence;if(I===true||I==="true"){t.oConstraints=t.oConstraints||{};t.oConstraints.isDigitSequence=true;}else if(I!==undefined&&I!==false&&I!=="false"){q.sap.log.warning("Illegal isDigitSequence: "+I,null,t.getName());}n=c.nullable;if(n===false||n==="false"){t.oConstraints=t.oConstraints||{};t.oConstraints.nullable=false;}else if(n!==undefined&&n!==true&&n!=="true"){q.sap.log.warning("Illegal nullable: "+n,null,t.getName());}}}var E=O.extend("sap.ui.model.odata.type.String",{constructor:function(o,c){O.apply(this,arguments);s(this,c);}});E.prototype.formatValue=function(v,t){if(v===null&&this.getPrimitiveType(t)==="string"){return"";}if(i(v,this.oConstraints)){v=v.replace(a,"");}return S.prototype.formatValue.call(this,v,t);};E.prototype.parseValue=function(v,b){var R;R=v===""?null:S.prototype.parseValue.apply(this,arguments);if(i(R,this.oConstraints)){R=R.replace(a,"");if(this.oConstraints.maxLength){R=f(R,this.oConstraints.maxLength);}}return R;};E.prototype.validateValue=function(v){var c=this.oConstraints||{},m=c.maxLength;if(v===null){if(c.nullable!==false){return;}}else if(typeof v!=="string"){throw new V("Illegal "+this.getName()+" value: "+v);}else if(c.isDigitSequence){if(!v.match(r)){throw new V(sap.ui.getCore().getLibraryResourceBundle().getText("EnterDigitsOnly"));}if(m&&v.length>m){throw new V(sap.ui.getCore().getLibraryResourceBundle().getText("EnterMaximumOfDigits",[m]));}return;}else if(!m||v.length<=m){return;}throw new V(sap.ui.getCore().getLibraryResourceBundle().getText(m?"EnterTextMaxLength":"EnterText",[m]));};E.prototype.getName=function(){return"sap.ui.model.odata.type.String";};return E;});
sap.ui.predefine('sap/ui/model/odata/type/Time',['jquery.sap.global','sap/ui/core/format/DateFormat','sap/ui/model/FormatException','sap/ui/model/odata/type/ODataType','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,D,F,O,P,V){"use strict";var d={__edmType:"Edm.Time",ms:49646000};function g(o){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterTime",[o.formatValue(d,"string")]);}function a(o){var f;if(!o.oFormat){f=q.extend({strictParsing:true},o.oFormatOptions);f.UTC=true;o.oFormat=D.getTimeInstance(f);}return o.oFormat;}function i(o){return typeof o==="object"&&o.__edmType==="Edm.Time"&&typeof o.ms==="number";}function s(o,C){var n=C&&C.nullable;o.oConstraints=undefined;if(n===false||n==="false"){o.oConstraints={nullable:false};}else if(n!==undefined&&n!==true&&n!=="true"){q.sap.log.warning("Illegal nullable: "+n,null,o.getName());}}function t(o){if(!i(o)){throw new F("Illegal sap.ui.model.odata.type.Time value: "+c(o));}return new Date(o.ms);}function b(o){return{__edmType:"Edm.Time",ms:((o.getUTCHours()*60+o.getUTCMinutes())*60+o.getUTCSeconds())*1000+o.getUTCMilliseconds()};}function c(v){try{return JSON.stringify(v);}catch(e){return String(v);}}var T=O.extend("sap.ui.model.odata.type.Time",{constructor:function(f,C){O.apply(this,arguments);s(this,C);this.oFormatOptions=f;}});T.prototype.formatValue=function(v,e){if(v===undefined||v===null){return null;}switch(this.getPrimitiveType(e)){case"any":return v;case"string":return a(this).format(t(v));default:throw new F("Don't know how to format "+this.getName()+" to "+e);}};T.prototype.getName=function(){return"sap.ui.model.odata.type.Time";};T.prototype.parseValue=function(v,S){var o;if(v===""||v===null){return null;}if(this.getPrimitiveType(S)!=="string"){throw new P("Don't know how to parse "+this.getName()+" from "+S);}o=a(this).parse(v);if(!o){throw new P(g(this));}return b(o);};T.prototype.validateValue=function(v){if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(g(this));}return;}if(!i(v)){throw new V("Illegal "+this.getName()+" value: "+c(v));}};T.prototype._handleLocalizationChange=function(){this.oFormat=null;};return T;});
sap.ui.predefine('sap/ui/model/odata/type/TimeOfDay',["jquery.sap.global","jquery.sap.strings","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(q,Q,D,F,P,V,O){"use strict";function g(t){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterTime",[t.formatValue("13:47:26","string")]);}function a(t){var p="HH:mm:ss",i;if(!t.oModelFormat){i=t.oConstraints&&t.oConstraints.precision;if(i){p+="."+q.sap.padRight("","S",i);}t.oModelFormat=D.getTimeInstance({pattern:p,strictParsing:true,UTC:true});}return t.oModelFormat;}function b(t){var f;if(!t.oUiFormat){f=q.extend({strictParsing:true},t.oFormatOptions);f.UTC=true;t.oUiFormat=D.getTimeInstance(f);}return t.oUiFormat;}function s(t,c){var n=c&&c.nullable,p=c&&c.precision;t.oConstraints=undefined;if(n===false){t.oConstraints={nullable:false};}else if(n!==undefined&&n!==true){q.sap.log.warning("Illegal nullable: "+n,null,t.getName());}if(p===Math.floor(p)&&p>0&&p<=12){t.oConstraints=t.oConstraints||{};t.oConstraints.precision=p;}else if(p!==undefined&&p!==0){q.sap.log.warning("Illegal precision: "+p,null,t.getName());}}var T=O.extend("sap.ui.model.odata.type.TimeOfDay",{constructor:function(f,c){O.apply(this,arguments);this.oModelFormat=undefined;this.rTimeOfDay=undefined;this.oUiFormat=undefined;s(this,c);this.oFormatOptions=f;}});T.prototype._handleLocalizationChange=function(){this.oUiFormat=null;};T.prototype.formatValue=function(v,t){var d,i;if(v===undefined||v===null){return null;}switch(this.getPrimitiveType(t)){case"any":return v;case"string":i=v.indexOf(".");if(i>=0){v=v.slice(0,i+4);}d=a(this).parse(v);if(d){return b(this).format(d);}throw new F("Illegal "+this.getName()+" value: "+v);default:throw new F("Don't know how to format "+this.getName()+" to "+t);}};T.prototype.getName=function(){return"sap.ui.model.odata.type.TimeOfDay";};T.prototype.parseValue=function(v,S){var d;if(v===""||v===null){return null;}if(this.getPrimitiveType(S)!=="string"){throw new P("Don't know how to parse "+this.getName()+" from "+S);}d=b(this).parse(v);if(!d){throw new P(g(this));}return a(this).format(d);};T.prototype.validateValue=function(v){var p;if(v===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new V(g(this));}return;}if(!this.rTimeOfDay){p=this.oConstraints&&this.oConstraints.precision;this.rTimeOfDay=new RegExp("^(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d"+(p?"(\\.\\d{1,"+p+"})?":"")+")?$");}if(!this.rTimeOfDay.test(v)){throw new V("Illegal sap.ui.model.odata.type.TimeOfDay value: "+v);}};return T;});
sap.ui.predefine('sap/ui/model/odata/v2/BatchMode',function(){"use strict";var B={None:"None",Group:"Group"};return B;},true);
sap.ui.predefine('sap/ui/model/odata/v4/AnnotationHelper',["../_AnnotationHelperBasics","./_AnnotationHelperExpression"],function(B,E){"use strict";var r=/[\\\{\}:]/,a=/\/\$count$/,A={getNavigationBinding:function(p){p=A.getNavigationPath(p);if(r.test(p)){throw new Error("Invalid OData identifier: "+p);}return p?"{"+p+"}":p;},getNavigationPath:function(p){var i;if(!p||p[0]==="@"){return"";}if(a.test(p)){return p.slice(0,-7);}i=p.indexOf("@");if(i>-1){p=p.slice(0,i);}if(p[p.length-1]==="/"){p=p.slice(0,-1);}if(p.indexOf(".")){p=p.split("/").filter(function(s){return s.indexOf(".")<0;}).join("/");}return p;},isMultiple:function(p,d){var i;if(!p||p[0]==="@"){return false;}if(a.test(p)){return true;}i=p.indexOf("@");if(i>-1){p=p.slice(0,i);}if(p[p.length-1]!=="/"){p+="/";}p="/"+d.schemaChildName+"/"+p+"$isCollection";return d.context.getObject(p)===true;},value:function(R,d){var p=d.context.getPath();if(p.slice(-1)==="/"){p=p.slice(0,-1);}return E.getExpression({asExpression:false,model:d.context.getModel(),path:p,value:R});}};return A;},true);
sap.ui.predefine('sap/ui/model/odata/v4/Context',["sap/ui/model/Context","./lib/_Helper","./lib/_SyncPromise"],function(B,_,a){"use strict";function c(o){return o&&JSON.parse(JSON.stringify(o));}function f(o,p,e){var E,P=[o.fetchValue(p)],r=o.getPath(p);if(e){P.push(o.oModel.getMetaModel().fetchUI5Type(r));}return a.all(P).then(function(R){var t=R[1],v=R[0];if(v&&typeof v==="object"){E=new Error("Accessed value is not primitive: "+r);E.isNotPrimitive=true;throw E;}return e?t.formatValue(v,"string"):v;});}var C=B.extend("sap.ui.model.odata.v4.Context",{constructor:function(m,b,p,i,o){B.call(this,m,p);this.oBinding=b;this.oCreatePromise=o&&Promise.resolve(o).then(function(){});this.oSyncCreatePromise=o&&a.resolve(o);this.iIndex=i;}});C.prototype.checkUpdate=function(){this.oModel.getDependentBindings(this).forEach(function(d){d.checkUpdate();});};C.prototype.created=function(){return this.oCreatePromise;};C.prototype["delete"]=function(g){var t=this;if(this.isTransient()){return t.oBinding._delete(g,"n/a",t);}return this.requestCanonicalPath().then(function(s){return t.oBinding._delete(g,s.slice(1),t);});};C.prototype.deregisterChange=function(p,l){this.oBinding.deregisterChange(p,l,this.iIndex);};C.prototype.destroy=function(){this.oModel.getDependentBindings(this).forEach(function(d){d.setContext(undefined);});this.oBinding=undefined;this.oModel=undefined;B.prototype.destroy.apply(this);};C.prototype.fetchAbsoluteValue=function(p){return this.oBinding.fetchAbsoluteValue(p);};C.prototype.fetchCanonicalPath=function(){return this.oModel.getMetaModel().fetchCanonicalPath(this);};C.prototype.fetchValue=function(p,l){return this.oBinding.fetchValue(p,l,this.iIndex);};C.prototype.getBinding=function(){return this.oBinding;};C.prototype.getCanonicalPath=a.createGetMethod("fetchCanonicalPath",true);C.prototype.getGroupId=function(){return this.oBinding.getGroupId();};C.prototype.getIndex=function(){if(this.oBinding.aContexts&&this.oBinding.aContexts[-1]){return this.iIndex+1;}return this.iIndex;};C.prototype.getObject=function(p){var s=this.fetchValue(p);if(!s.isFulfilled()){return undefined;}return c(s.getResult());};C.prototype.getProperty=function(p,e){var E,s=f(this,p,e);if(s.isRejected()){E=s.getResult();if(E.isNotPrimitive){throw E;}}return s.isFulfilled()?s.getResult():undefined;};C.prototype.getQueryOptions=function(){return this.oBinding.getQueryOptions(this.oBinding.getContext());};C.prototype.getUpdateGroupId=function(){return this.oBinding.getUpdateGroupId();};C.prototype.hasPendingChangesForPath=function(p){return this.oBinding.hasPendingChangesForPath(_.buildPath(this.iIndex,p));};C.prototype.isTransient=function(){var s=this.oSyncCreatePromise;return s&&(s.getResult()===s);};C.prototype.requestCanonicalPath=a.createRequestMethod("fetchCanonicalPath");C.prototype.requestObject=function(p){return Promise.resolve(this.fetchValue(p)).then(function(r){return c(r);});};C.prototype.requestProperty=function(p,e){return Promise.resolve(f(this,p,e));};C.prototype.resetChangesForPath=function(p){this.oBinding.resetChangesForPath(_.buildPath(this.iIndex,p));};C.prototype.toString=function(){var i="";if(this.iIndex!==undefined){i="["+this.iIndex+(this.isTransient()?"|transient":"")+"]";}return this.sPath+i;};C.prototype.updateValue=function(g,p,v,e,P){var t=this;P=_.buildPath(this.iIndex,P);if(this.isTransient()){e="n/a";}if(e){return this.oBinding.updateValue(g,p,v,e,P);}return this.requestCanonicalPath().then(function(e){return t.oBinding.updateValue(g,p,v,e.slice(1),P);});};return{create:function(m,b,p,i,o){if(p[0]!=="/"){throw new Error("Not an absolute path: "+p);}if(p.slice(-1)==="/"){throw new Error("Unsupported trailing slash: "+p);}return new C(m,b,p,i,o);}};},false);
sap.ui.predefine('sap/ui/model/odata/v4/ODataBinding',["./lib/_Helper"],function(_){"use strict";function O(){}O.prototype.getGroupId=function(){return this.sGroupId||(this.bRelative&&this.oContext&&this.oContext.getGroupId&&this.oContext.getGroupId())||this.oModel.getGroupId();};O.prototype.getUpdateGroupId=function(){return this.sUpdateGroupId||(this.bRelative&&this.oContext&&this.oContext.getUpdateGroupId&&this.oContext.getUpdateGroupId())||this.oModel.getUpdateGroupId();};O.prototype.hasPendingChanges=function(){return this.hasPendingChangesForPath("")||this.hasPendingChangesInDependents();};O.prototype.hasPendingChangesForPath=function(p){var c;if(!this.oCachePromise.isFulfilled()){return false;}c=this.oCachePromise.getResult();if(c){return c.hasPendingChangesForPath(p);}if(this.oContext&&this.oContext.hasPendingChangesForPath){return this.oContext.hasPendingChangesForPath(_.buildPath(this.sPath,p));}return false;};O.prototype.hasPendingChangesInDependents=function(){return this.oModel.getDependentBindings(this).some(function(d){var c;if(!d.oCachePromise.isFulfilled()){return false;}c=d.oCachePromise.getResult();return c&&c.hasPendingChangesForPath("")||d.hasPendingChangesInDependents();});};O.prototype.isInitial=function(){throw new Error("Unsupported operation: isInitial");};O.prototype.isRefreshable=function(){return!this.bRelative||this.oContext&&!this.oContext.getBinding;};O.prototype.refresh=function(g){if(!this.isRefreshable()){throw new Error("Refresh on this binding is not supported");}if(this.hasPendingChanges()){throw new Error("Cannot refresh due to pending changes");}this.oModel.checkGroupId(g);this.refreshInternal(g);};O.prototype.resetChanges=function(){this.resetChangesForPath("");this.resetChangesInDependents();};O.prototype.resetChangesForPath=function(p){var c;if(!this.oCachePromise.isFulfilled()){return;}c=this.oCachePromise.getResult();if(c){c.resetChangesForPath(p);}else if(this.oContext&&this.oContext.resetChangesForPath){this.oContext.resetChangesForPath(_.buildPath(this.sPath,p));}};O.prototype.resetChangesInDependents=function(){this.oModel.getDependentBindings(this).forEach(function(d){var c;if(!d.oCachePromise.isFulfilled()){return;}c=d.oCachePromise.getResult();if(c){c.resetChangesForPath("");}d.resetChangesInDependents();});};O.prototype.resume=function(){throw new Error("Unsupported operation: resume");};O.prototype.suspend=function(){throw new Error("Unsupported operation: suspend");};return function(p){jQuery.extend(p,O.prototype);};},false);
sap.ui.predefine('sap/ui/model/odata/v4/ODataContextBinding',["jquery.sap.global","sap/ui/model/Binding","sap/ui/model/ChangeReason","sap/ui/model/ContextBinding","./Context","./lib/_Cache","./lib/_Helper","./lib/_SyncPromise","./ODataParentBinding"],function(q,B,C,a,b,_,c,d,e){"use strict";var s="sap.ui.model.odata.v4.ODataContextBinding",S={change:true,dataReceived:true,dataRequested:true};var O=a.extend("sap.ui.model.odata.v4.ODataContextBinding",{constructor:function(m,p,o,P){var i=p.indexOf("(...)");a.call(this,m,p);if(p.slice(-1)==="/"){throw new Error("Invalid path: "+p);}this.oCachePromise=d.resolve();this.mCacheByContext=undefined;this.sGroupId=undefined;this.oOperation=undefined;this.sRefreshGroupId=undefined;this.sUpdateGroupId=undefined;if(i>=0){this.oOperation={bAction:undefined,oMetadataPromise:undefined,mParameters:{},sResourcePath:undefined};if(i!==this.sPath.length-5){throw new Error("The path must not continue after a deferred operation: "+this.sPath);}}this.applyParameters(q.extend(true,{},P));this.oElementContext=this.bRelative?null:b.create(this.oModel,this,p);this.setContext(o);m.bindingCreated(this);},metadata:{publicMethods:[]}});e(O.prototype);O.prototype._delete=function(g,E){var t=this;if(this.sPath===""&&this.oContext["delete"]){return this.oContext["delete"](g);}if(this.hasPendingChanges()){throw new Error("Cannot delete due to pending changes");}return this.deleteFromCache(g,E,"",function(){t.oElementContext.destroy();t.oElementContext=null;t._fireChange({reason:C.Remove});});};O.prototype._requestOperationMetadata=function(){var m=this.oModel.getMetaModel(),o,p;if(!this.oOperation.oMetadataPromise){p=this.sPath.lastIndexOf("/");o=this.sPath.slice(p+1,-5);this.oOperation.oMetadataPromise=m.requestObject("/"+o).then(function(M){if(!M){throw new Error("Unknown operation: "+o);}if(Array.isArray(M)&&M[0].$kind==="Action"){return M;}if(Array.isArray(M)&&M[0].$kind==="Function"){throw new Error("Functions without import not supported: "+o);}if(M.$kind==="ActionImport"){return m.requestObject("/"+M.$Action);}if(M.$kind==="FunctionImport"){return m.requestObject("/"+M.$Function);}throw new Error("Not an operation: "+o);}).then(function(f){if(f.length!==1){throw new Error("Unsupported operation overloading: "+o);}return f[0];});}return this.oOperation.oMetadataPromise;};O.prototype.applyParameters=function(p){var o;this.mQueryOptions=this.oModel.buildQueryOptions(undefined,p,true);o=this.oModel.buildBindingParameters(p,["$$groupId","$$updateGroupId"]);this.sGroupId=o.$$groupId;this.sUpdateGroupId=o.$$updateGroupId;this.mParameters=p;if(!this.oOperation){this.oCachePromise=this.makeCache(this.oContext);this.checkUpdate();}};O.prototype.attachEvent=function(E){if(!(E in S)){throw new Error("Unsupported event '"+E+"': v4.ODataContextBinding#attachEvent");}return a.prototype.attachEvent.apply(this,arguments);};O.prototype.checkUpdate=function(){var t=this;function u(){t.oModel.getDependentBindings(t).forEach(function(D){D.checkUpdate();});}if(arguments.length>0){throw new Error("Unsupported operation: v4.ODataContextBinding#checkUpdate "+"must not be called with parameters");}this.oCachePromise.then(function(o){if(o&&t.bRelative&&t.oContext.fetchCanonicalPath){t.oContext.fetchCanonicalPath().then(function(f){if(o.$canonicalPath!==f){t.refreshInternal();}else{u();}})["catch"](function(E){t.oModel.reportError("Failed to update "+t,s,E);});}else{u();}});};O.prototype.deleteFromCache=function(g,E,p,f){var o;if(this.oOperation){throw new Error("Cannot delete a deferred operation");}if(!this.oCachePromise.isFulfilled()){throw new Error("DELETE request not allowed");}o=this.oCachePromise.getResult();if(o){g=g||this.getUpdateGroupId();if(g!=="$auto"&&g!=="$direct"){throw new Error("Illegal update group ID: "+g);}return o._delete(g,E,p,f);}return this.oContext.getBinding().deleteFromCache(g,E,c.buildPath(this.oContext.iIndex,this.sPath,p),f);};O.prototype.deregisterChange=function(p,l){var o;if(!this.oCachePromise.isFulfilled()){return;}o=this.oCachePromise.getResult();if(o){o.deregisterChange(p,l);}else if(this.oContext){this.oContext.deregisterChange(c.buildPath(this.sPath,p),l);}};O.prototype.destroy=function(){if(this.oElementContext){this.oElementContext.destroy();}this.oModel.bindingDestroyed(this);this.oCachePromise=undefined;a.prototype.destroy.apply(this);};O.prototype.execute=function(g){var t=this;function f(o,p){var h,E,i,j,P,k;g=g||t.getGroupId();t.oOperation.bAction=o.$kind==="Action";if(t.oOperation.bAction){h=_.createSingle(t.oModel.oRequestor,(p+t.sPath).slice(1,-5),t.getQueryOptions(t.oContext),true);if(t.bRelative&&t.oContext.getBinding){i=t.sPath.lastIndexOf("/");E=t.oContext.getObject(i>=0?t.sPath.slice(0,i):"")["@odata.etag"];}k=h.post(g,t.oOperation.mParameters,E);}else{j=o.$Parameter;P=[];if(j){j.forEach(function(l){var n=l.$Name;if(n in t.oOperation.mParameters){if(l.$IsCollection){throw new Error("Unsupported: collection parameter");}P.push(encodeURIComponent(n)+"="+encodeURIComponent(c.formatLiteral(t.oOperation.mParameters[n],l.$Type)));}});}t.oOperation.sResourcePath=t.sPath.replace("...",P.join(','));h=_.createSingle(t.oModel.oRequestor,(p+t.oOperation.sResourcePath).slice(1),t.getQueryOptions(t.oContext));k=h.fetchValue(g);}t.oCachePromise=d.resolve(h);return k;}this.oModel.checkGroupId(g);if(!this.oOperation){throw new Error("The binding must be deferred: "+this.sPath);}if(this.bRelative){if(!this.oContext){throw new Error("Unresolved binding: "+this.sPath);}if(this.oContext.isTransient&&this.oContext.isTransient()){throw new Error("Execute for transient context not allowed: "+this.oModel.resolve(this.sPath,this.oContext));}if(this.oContext.getPath().indexOf("(...)")>=0){throw new Error("Nested deferred operation bindings not supported: "+this.oModel.resolve(this.sPath,this.oContext));}}return this._requestOperationMetadata().then(function(o){if(t.bRelative){if(!t.oContext.getBinding){return f(o,t.oContext.getPath()==="/"?"/":t.oContext.getPath()+"/");}return t.getContext().requestCanonicalPath().then(function(p){return f(o,p+"/");});}return f(o,"");}).then(function(r){t._fireChange({reason:C.Change});})["catch"](function(E){t.oModel.reportError("Failed to execute "+t.sPath,s,E);throw E;});};O.prototype.fetchAbsoluteValue=function(p){var t=this;return this.oCachePromise.then(function(o){var r;if(o){r=t.oModel.resolve(t.sPath,t.oContext);if(p===r||p.lastIndexOf(r+"/")===0){return t.fetchValue(p.slice(r.length+1));}}if(t.oContext&&t.oContext.fetchAbsoluteValue){return t.oContext.fetchAbsoluteValue(p);}});};O.prototype.fetchValue=function(p,l){var t=this;return this.oCachePromise.then(function(o){var D=false,g;if(o){g=t.sRefreshGroupId||t.getGroupId();t.sRefreshGroupId=undefined;return o.fetchValue(g,p,function(){D=true;t.fireDataRequested();},l).then(function(v){if(D){t.fireDataReceived();}return v;},function(E){if(D){t.oModel.reportError("Failed to read path "+t.sPath,s,E);t.fireDataReceived(E.canceled?undefined:{error:E});}throw E;});}if(t.oContext&&t.oContext.fetchValue){return t.oContext.fetchValue(c.buildPath(t.sPath,p),l);}});};O.prototype.makeCache=function(o){var v,Q,t=this;function f(p){var g=(t.oOperation&&t.oOperation.sResourcePath)||t.sPath;return _.createSingle(t.oModel.oRequestor,c.buildPath(p,g).slice(1),Q);}if(!this.bRelative){o=undefined;}else if(!o||o.fetchCanonicalPath&&!Object.keys(this.mParameters).length){return d.resolve();}Q=this.getQueryOptions(o);v=o&&(o.fetchCanonicalPath?o.fetchCanonicalPath():o.getPath());return this.createCache(f,v);};O.prototype.refreshInternal=function(g){var t=this;this.oCachePromise.then(function(o){if(!t.oElementContext){t.oElementContext=b.create(t.oModel,t,t.oModel.resolve(t.sPath,t.oContext));if(!o){t._fireChange({reason:C.Refresh});}}if(o){if(!t.oOperation||!t.oOperation.bAction){t.sRefreshGroupId=g;t.oCachePromise=t.makeCache(t.oContext);t.mCacheByContext=undefined;t._fireChange({reason:C.Refresh});}}t.oModel.getDependentBindings(t).forEach(function(D){D.refreshInternal(g);});});};O.prototype.setContext=function(o){if(this.oContext!==o){if(this.bRelative&&(this.oContext||o)){if(this.oElementContext){this.oElementContext.destroy();this.oElementContext=null;}this.oCachePromise=d.resolve();if(o){this.oElementContext=b.create(this.oModel,this,this.oModel.resolve(this.sPath,o));if(!this.oOperation&&(this.mParameters||!o.getBinding)){this.oCachePromise=this.makeCache(o);}}B.prototype.setContext.call(this,o);}else{this.oContext=o;}}};O.prototype.setParameter=function(p,v){if(!this.oOperation){throw new Error("The binding must be deferred: "+this.sPath);}if(v===undefined){throw new Error("Missing value for parameter: "+p);}this.oOperation.mParameters[p]=v;return this;};O.prototype.toString=function(){return s+": "+(this.bRelative?this.oContext+"|":"")+this.sPath;};return O;},true);
sap.ui.predefine('sap/ui/model/odata/v4/ODataListBinding',["jquery.sap.global","sap/ui/model/Binding","sap/ui/model/ChangeReason","sap/ui/model/FilterOperator","sap/ui/model/FilterType","sap/ui/model/ListBinding","sap/ui/model/Sorter","sap/ui/model/odata/OperationMode","./Context","./lib/_Cache","./lib/_Helper","./lib/_SyncPromise","./ODataParentBinding"],function(q,B,C,F,a,L,S,O,b,_,c,d,e){"use strict";var s="sap.ui.model.odata.v4.ODataListBinding",m={change:true,dataReceived:true,dataRequested:true,refresh:true};var f=L.extend("sap.ui.model.odata.v4.ODataListBinding",{constructor:function(M,p,o,v,g,P){L.call(this,M,p);if(p.slice(-1)==="/"){throw new Error("Invalid path: "+p);}this.aApplicationFilters=c.toArray(g);this.oCachePromise=d.resolve();this.sChangeReason=undefined;this.oDiff=undefined;this.aFilters=[];this.mPreviousContextsByPath={};this.aPreviousData=[];this.sRefreshGroupId=undefined;this.aSorters=c.toArray(v);this.applyParameters(q.extend(true,{},P));this.setContext(o);M.bindingCreated(this);}});e(f.prototype);f.prototype._delete=function(g,E,o){var t=this;if(!o.isTransient()&&this.hasPendingChanges()){throw new Error("Cannot delete due to pending changes");}return this.deleteFromCache(g,E,String(o.iIndex),function(I){var i,n;if(I===-1){o.destroy();delete t.aContexts[-1];}else{for(i=I;i<t.aContexts.length;i+=1){o=t.aContexts[i];n=t.aContexts[i+1];if(o&&!n){t.mPreviousContextsByPath[o.getPath()]=o;delete t.aContexts[i];}else if(!o&&n){t.aContexts[i]=b.create(t.oModel,t,t.sPath+"/"+i,i);}else{o.checkUpdate();}}t.aContexts.pop();}t.iMaxLength-=1;t._fireChange({reason:C.Remove});});};f.prototype.applyParameters=function(p,g){var o=this.oModel.buildBindingParameters(p,["$$groupId","$$operationMode","$$updateGroupId"]),h;h=o.$$operationMode||this.oModel.sOperationMode;if(!h&&(this.aSorters.length||this.aApplicationFilters.length)){throw new Error("Unsupported operation mode: "+h);}this.sOperationMode=h;this.sGroupId=o.$$groupId;this.sUpdateGroupId=o.$$updateGroupId;this.mQueryOptions=this.oModel.buildQueryOptions(undefined,p,true);this.mParameters=p;this.mCacheByContext=undefined;this.oCachePromise=this.makeCache(this.oContext);this.reset(g);};f.prototype.attachEvent=function(E){if(!(E in m)){throw new Error("Unsupported event '"+E+"': v4.ODataListBinding#attachEvent");}return L.prototype.attachEvent.apply(this,arguments);};f.prototype.buildOrderbyOption=function(g,o){var h=[],t=this;g.forEach(function(i){if(i instanceof S){h.push(i.sPath+(i.bDescending?" desc":""));}else{throw new Error("Unsupported sorter: "+i+" - "+t);}});if(o){h.push(o);}return h.join(',');};f.prototype.checkUpdate=function(){var t=this;function u(){t._fireChange({reason:C.Change});t.oModel.getDependentBindings(t).forEach(function(D){D.checkUpdate();});}if(arguments.length>0){throw new Error("Unsupported operation: v4.ODataListBinding#checkUpdate "+"must not be called with parameters");}this.oCachePromise.then(function(o){if(o&&t.bRelative&&t.oContext.fetchCanonicalPath){t.oContext.fetchCanonicalPath().then(function(g){if(o.$canonicalPath!==g){t.refreshInternal();}else{u();}})["catch"](function(E){t.oModel.reportError("Failed to update "+t,s,E);});}else{u();}});};f.prototype.create=function(i){var o=this.oCachePromise.getResult(),g,h,r,t=this;if(this.aContexts[-1]){throw new Error("Must not create twice");}if(!o||!this.oCachePromise.isFulfilled()){throw new Error("Create on this binding is not supported");}r=this.oModel.resolve(this.sPath,this.oContext);h=r.slice(1);g=b.create(this.oModel,this,r+"/-1",-1,o.create(this.getUpdateGroupId(),h,"",i,function(){g.destroy();delete t.aContexts[-1];t._fireChange({reason:C.Remove});},function(E){t.oModel.reportError("POST on '"+h+"' failed; will be repeated automatically",s,E);}));this.aContexts[-1]=g;g.created().then(function(){t.iMaxLength+=1;});this._fireChange({reason:C.Add});return g;};f.prototype.createContexts=function(r,R,g){var h=false,o=this.oContext,i,l=this.bLengthFinal,M=this.oModel,p=M.resolve(this.sPath,o),P,t=this;for(i=r.start;i<r.start+R;i+=1){if(this.aContexts[i]===undefined){h=true;P=p+"/"+i;if(P in this.mPreviousContextsByPath){this.aContexts[i]=this.mPreviousContextsByPath[P];delete this.mPreviousContextsByPath[P];this.aContexts[i].checkUpdate();}else{this.aContexts[i]=b.create(M,this,P,i);}}}if(Object.keys(this.mPreviousContextsByPath).length){sap.ui.getCore().addPrerenderingTask(function(){Object.keys(t.mPreviousContextsByPath).forEach(function(p){t.mPreviousContextsByPath[p].destroy();delete t.mPreviousContextsByPath[p];});});}if(g!==undefined){if(this.aContexts.length>g){this.aContexts.length=g;}this.iMaxLength=g;this.bLengthFinal=true;}else{if(this.aContexts.length>this.iMaxLength){this.iMaxLength=Infinity;}if(R<r.length){this.iMaxLength=r.start+R;if(this.aContexts.length>this.iMaxLength){this.aContexts.length=this.iMaxLength;}}this.bLengthFinal=this.aContexts.length===this.iMaxLength;}if(this.bLengthFinal!==l){h=true;}return h;};f.prototype.deleteFromCache=function(g,E,p,h){var o=this.oCachePromise.getResult();if(!this.oCachePromise.isFulfilled()){throw new Error("DELETE request not allowed");}if(o){g=g||this.getUpdateGroupId();if(g!=="$auto"&&g!=="$direct"){throw new Error("Illegal update group ID: "+g);}return o._delete(g,E,p,h);}return this.oContext.getBinding().deleteFromCache(g,E,c.buildPath(this.oContext.iIndex,this.sPath,p),h);};f.prototype.deregisterChange=function(p,l,i){var o=this.oCachePromise.getResult();if(!this.oCachePromise.isFulfilled()){return;}if(o){o.deregisterChange(c.buildPath(i,p),l);}else if(this.oContext){this.oContext.deregisterChange(c.buildPath(this.sPath,i,p),l);}};f.prototype.destroy=function(){this.aContexts.forEach(function(o){o.destroy();});if(this.aContexts[-1]){this.aContexts[-1].destroy();}this.oModel.bindingDestroyed(this);this.oCachePromise=undefined;L.prototype.destroy.apply(this);};f.prototype.enableExtendedChangeDetection=function(D,k){if(k!==undefined){throw new Error("Unsupported property 'key' with value '"+k+"' in binding info for "+this);}return L.prototype.enableExtendedChangeDetection.apply(this,arguments);};f.prototype.fetchAbsoluteValue=function(p){var t=this;return this.oCachePromise.then(function(o){var i,P,r;if(o){r=t.oModel.resolve(t.sPath,t.oContext)+"/";if(p.lastIndexOf(r)===0){p=p.slice(r.length);i=parseInt(p,10);P=p.indexOf("/");p=P>0?p.slice(P+1):"";return t.fetchValue(p,undefined,i);}}if(t.oContext&&t.oContext.fetchAbsoluteValue){return t.oContext.fetchAbsoluteValue(p);}});};f.prototype.fetchFilter=function(o,A,g,h){var n=[],t=this;function i(p,r){var u=p.join(r);return p.length>1?"("+u+")":u;}function j(p,E){var r,v=c.formatLiteral(p.oValue1,E),u=decodeURIComponent(p.sPath);switch(p.sOperator){case F.BT:r=u+" ge "+v+" and "+u+" le "+c.formatLiteral(p.oValue2,E);break;case F.EQ:case F.GE:case F.GT:case F.LE:case F.LT:case F.NE:r=u+" "+p.sOperator.toLowerCase()+" "+v;break;case F.Contains:case F.EndsWith:case F.StartsWith:r=p.sOperator.toLowerCase()+"("+u+","+v+")";break;default:throw new Error("Unsupported operator: "+p.sOperator);}return r;}function k(p,r){var u=[],v={};p.forEach(function(w){v[w.sPath]=v[w.sPath]||[];v[w.sPath].push(w);});p.forEach(function(w){var x;if(w.aFilters){u.push(k(w.aFilters,w.bAnd).then(function(y){return"("+y+")";}));return;}x=v[w.sPath];if(!x){return;}delete v[w.sPath];u.push(l(x));});return d.all(u).then(function(w){return w.join(r?" and ":" or ");});}function l(G){var M=t.oModel.oMetaModel,p=M.getMetaContext(t.oModel.resolve(t.sPath,o)),P=M.fetchObject(G[0].sPath,p);return P.then(function(r){var u;if(!r){throw new Error("Type cannot be determined, no metadata for path: "+p.getPath());}u=G.map(function(v){return j(v,r.$Type);});return i(u," or ");});}return d.all([k(A,true),k(g,true)]).then(function(p){if(p[0]){n.push(p[0]);}if(p[1]){n.push(p[1]);}if(h){n.push(h);}return i(n,") and (");});};f.prototype.fetchValue=function(p,l,i){var t=this;return this.oCachePromise.then(function(o){if(o){return o.fetchValue(undefined,c.buildPath(i,p),undefined,l);}if(t.oContext){return t.oContext.fetchValue(c.buildPath(t.sPath,i,p),l);}});};f.prototype.filter=function(v,g){if(this.sOperationMode!==O.Server){throw new Error("Operation mode has to be sap.ui.model.odata.OperationMode.Server");}if(this.hasPendingChanges()){throw new Error("Cannot filter due to pending changes");}if(g===a.Control){this.aFilters=c.toArray(v);}else{this.aApplicationFilters=c.toArray(v);}this.mCacheByContext=undefined;this.oCachePromise=this.makeCache(this.oContext);this.reset(C.Filter);return this;};f.prototype.getContexts=function(i,l,M){var g,o=this.oContext,h,D=false,j=false,G,p,r,R=!!this.sChangeReason,k,t=this;q.sap.log.debug(this+"#getContexts("+i+", "+l+", "+M+")",undefined,s);if(i!==0&&this.bUseExtendedChangeDetection){throw new Error("Unsupported operation: v4.ODataListBinding#getContexts,"+" first parameter must be 0 if extended change detection is enabled, but is "+i);}if(M!==undefined&&this.bUseExtendedChangeDetection){throw new Error("Unsupported operation: v4.ODataListBinding#getContexts,"+" third parameter must not be set if extended change detection is enabled");}if(this.bRelative&&!o){return[];}g=this.sChangeReason||C.Change;this.sChangeReason=undefined;i=i||0;l=l||this.oModel.iSizeLimit;if(!M||M<0){M=0;}k=this.aContexts[-1]?i-1:i;if(!this.bUseExtendedChangeDetection||!this.oDiff){r=this.getReadRange(k,l,M);p=this.oCachePromise.then(function(n){if(n){G=t.sRefreshGroupId||t.getGroupId();t.sRefreshGroupId=undefined;return n.read(r.start,r.length,G,function(){D=true;t.fireDataRequested();});}else{return o.fetchValue(t.sPath).then(function(u){var v;u=u||[];v=u.$count;u=u.slice(r.start,r.start+r.length);u.$count=v;return{value:u};});}});if(p.isFulfilled()&&R){p=Promise.resolve(p);}p.then(function(n){var u;if(!t.bRelative||t.oContext===o){u=t.createContexts(r,n.value.length,n.value.$count);if(t.bUseExtendedChangeDetection){t.oDiff={aDiff:t.getDiff(n.value,k),iLength:l};}if(j&&u){t._fireChange({reason:g});}}if(D){t.fireDataReceived();}},function(E){if(D){t.fireDataReceived(E.canceled?undefined:{error:E});}throw E;})["catch"](function(E){t.oModel.reportError("Failed to get contexts for "+t.oModel.sServiceUrl+t.oModel.resolve(t.sPath,t.oContext).slice(1)+" with start index "+i+" and length "+l,s,E);});j=true;}this.iCurrentBegin=k;this.iCurrentEnd=k+l;if(k===-1){h=this.aContexts.slice(0,k+l);h.unshift(this.aContexts[-1]);}else{h=this.aContexts.slice(k,k+l);}if(this.bUseExtendedChangeDetection){if(this.oDiff&&l!==this.oDiff.iLength){throw new Error("Extended change detection protocol violation: Expected "+"getContexts(0,"+this.oDiff.iLength+"), but got getContexts(0,"+l+")");}h.dataRequested=!this.oDiff;h.diff=this.oDiff?this.oDiff.aDiff:[];}this.oDiff=undefined;return h;};f.prototype.getCurrentContexts=function(){var g,l=Math.min(this.iCurrentEnd,this.iMaxLength)-this.iCurrentBegin;if(this.iCurrentBegin===-1){g=this.aContexts.slice(0,this.iCurrentBegin+l);g.unshift(this.aContexts[-1]);}else{g=this.aContexts.slice(this.iCurrentBegin,this.iCurrentBegin+l);}while(g.length<l){g.push(undefined);}return g;};f.prototype.getDiff=function(r,g){var D,n,t=this;n=r.map(function(E,i){return t.bDetectUpdates?JSON.stringify(E):t.aContexts[g+i].getPath();});D=q.sap.arraySymbolDiff(this.aPreviousData,n);this.aPreviousData=n;return D;};f.prototype.getDistinctValues=function(){throw new Error("Unsupported operation: v4.ODataListBinding#getDistinctValues");};f.prototype.getLength=function(){var l=this.bLengthFinal?this.iMaxLength:this.aContexts.length+10;if(this.aContexts[-1]){l+=1;}return l;};f.prototype.getReadRange=function(g,l,M){var h=this.aContexts;function j(g,E){var i;for(i=g;i<E;i+=1){if(h[i]===undefined){return true;}}return false;}if(j(g+l,g+l+M/2)){l+=M;}if(j(Math.max(g-M/2,0),g)){l+=M;g-=M;if(g<0){l+=g;g=0;}}return{length:l,start:g};};f.prototype.isLengthFinal=function(){return this.bLengthFinal;};f.prototype.makeCache=function(o){var v,g,Q,t=this;function h(p,i){var j=t.buildOrderbyOption(t.aSorters,Q&&Q.$orderby);return _.create(t.oModel.oRequestor,c.buildPath(p,t.sPath).slice(1),t.mergeQueryOptions(Q,j,i));}if(this.bRelative){if(!o||o.fetchCanonicalPath&&!Object.keys(this.mParameters).length&&!this.aSorters.length&&!this.aFilters.length&&!this.aApplicationFilters.length){return d.resolve();}}else{o=undefined;}Q=this.getQueryOptions(o);v=o&&(o.fetchCanonicalPath?o.fetchCanonicalPath():o.getPath());g=this.fetchFilter(o,this.aApplicationFilters,this.aFilters,Q&&Q.$filter);return this.createCache(h,v,g);};f.prototype.mergeQueryOptions=function(Q,o,g){var r;function h(p,v){if(v&&(!Q||Q[p]!==v)){if(!r){r=Q?JSON.parse(JSON.stringify(Q)):{};}r[p]=v;}}h("$orderby",o);h("$filter",g);return r||Q;};f.prototype.refreshInternal=function(g){var t=this;this.sRefreshGroupId=g;this.oCachePromise.then(function(o){if(o){t.mCacheByContext=undefined;t.oCachePromise=t.makeCache(t.oContext);}t.reset(C.Refresh);t.oModel.getDependentBindings(t).forEach(function(D){if(!D.getContext().created()){D.refreshInternal(g);}});});};f.prototype.reset=function(g){var t=this;if(this.aContexts){this.aContexts.forEach(function(o){t.mPreviousContextsByPath[o.getPath()]=o;});}this.aContexts=[];this.iCurrentBegin=this.iCurrentEnd=0;this.iMaxLength=Infinity;this.bLengthFinal=false;if(g){this.sChangeReason=g;this._fireRefresh({reason:g});}};f.prototype.setContext=function(o){if(this.oContext!==o){if(this.bRelative){this.reset();this.oCachePromise=this.makeCache(o);B.prototype.setContext.call(this,o);}else{this.oContext=o;}}};f.prototype.sort=function(v){if(this.sOperationMode!==O.Server){throw new Error("Operation mode has to be sap.ui.model.odata.OperationMode.Server");}if(this.hasPendingChanges()){throw new Error("Cannot sort due to pending changes");}this.aSorters=c.toArray(v);this.mCacheByContext=undefined;this.oCachePromise=this.makeCache(this.oContext);this.reset(C.Sort);return this;};f.prototype.toString=function(){return s+": "+(this.bRelative?this.oContext+"|":"")+this.sPath;};return f;},true);
sap.ui.predefine('sap/ui/model/odata/v4/ODataMetaModel',["jquery.sap.global","sap/ui/model/BindingMode","sap/ui/model/ContextBinding","sap/ui/model/Context","sap/ui/model/FilterProcessor","sap/ui/model/json/JSONListBinding","sap/ui/model/MetaModel","sap/ui/model/odata/OperationMode","sap/ui/model/PropertyBinding","sap/ui/thirdparty/URI","./lib/_Helper","./lib/_SyncPromise","./ValueListType"],function(q,B,C,a,F,J,M,O,P,U,_,b,V){"use strict";var D=q.sap.log.Level.DEBUG,c,d,o="sap.ui.model.odata.v4.ODataMetaModel",f,r=/\([^/]*|\/-?\d+/g,g=/^-?\d+$/,s={messageChange:true},u={"Edm.Boolean":{type:"sap.ui.model.odata.type.Boolean"},"Edm.Byte":{type:"sap.ui.model.odata.type.Byte"},"Edm.Date":{type:"sap.ui.model.odata.type.Date"},"Edm.DateTimeOffset":{constraints:{"$Precision":"precision"},type:"sap.ui.model.odata.type.DateTimeOffset"},"Edm.Decimal":{constraints:{"@Org.OData.Validation.V1.Minimum":"minimum","@Org.OData.Validation.V1.Minimum@Org.OData.Validation.V1.Exclusive":"minimumExclusive","@Org.OData.Validation.V1.Maximum":"maximum","@Org.OData.Validation.V1.Maximum@Org.OData.Validation.V1.Exclusive":"maximumExclusive","$Precision":"precision","$Scale":"scale"},type:"sap.ui.model.odata.type.Decimal"},"Edm.Double":{type:"sap.ui.model.odata.type.Double"},"Edm.Guid":{type:"sap.ui.model.odata.type.Guid"},"Edm.Int16":{type:"sap.ui.model.odata.type.Int16"},"Edm.Int32":{type:"sap.ui.model.odata.type.Int32"},"Edm.Int64":{type:"sap.ui.model.odata.type.Int64"},"Edm.SByte":{type:"sap.ui.model.odata.type.SByte"},"Edm.Single":{type:"sap.ui.model.odata.type.Single"},"Edm.String":{constraints:{"@com.sap.vocabularies.Common.v1.IsDigitSequence":"isDigitSequence","$MaxLength":"maxLength"},type:"sap.ui.model.odata.type.String"},"Edm.TimeOfDay":{constraints:{"$Precision":"precision"},type:"sap.ui.model.odata.type.TimeOfDay"}},v="@com.sap.vocabularies.Common.v1.ValueListMapping",m={},h="@com.sap.vocabularies.Common.v1.ValueListReference",j="@com.sap.vocabularies.Common.v1.ValueListWithFixedValues",W=q.sap.log.Level.WARNING;function k(t,e){if(t===e){return"";}if(t.indexOf(e)===0&&t[e.length]==="#"&&t.lastIndexOf("@")<e.length){return t.slice(e.length+1);}}c=C.extend("sap.ui.model.odata.v4.ODataMetaContextBinding",{constructor:function(e,p,i){C.call(this,e,p,i);},initialize:function(){var e=this.oModel.createBindingContext(this.sPath,this.oContext);this.bInitial=false;if(e!==this.oElementContext){this.oElementContext=e;this._fireChange();}},setContext:function(e){if(e!==this.oContext){this.oContext=e;if(!this.bInitial){this.initialize();}}}});d=J.extend("sap.ui.model.odata.v4.ODataMetaListBinding",{applyFilter:function(){var t=this;this.aIndices=F.apply(this.aIndices,this.aFilters.concat(this.aApplicationFilters),function(R,p){return p==="@sapui.name"?R:t.oModel.getProperty(p,t.oList[R]);});this.iLength=this.aIndices.length;},constructor:function(){J.apply(this,arguments);},enableExtendedChangeDetection:function(){throw new Error("Unsupported operation");}});f=P.extend("sap.ui.model.odata.v4.ODataMetaPropertyBinding",{constructor:function(){P.apply(this,arguments);this.vValue=this.oModel.getProperty(this.sPath,this.oContext,this.mParameters);},getValue:function(){return this.vValue;},setValue:function(){throw new Error("Unsupported operation: ODataMetaPropertyBinding#setValue");}});var l=M.extend("sap.ui.model.odata.v4.ODataMetaModel",{constructor:function(R,e,A,i){M.call(this);this.aAnnotationUris=A&&!Array.isArray(A)?[A]:A;this.sDefaultBindingMode=B.OneTime;this.oMetadataPromise=null;this.oModel=i;this.oRequestor=R;this.mSupportedBindingModes={"OneTime":true};this.sUrl=e;}});l.prototype._getObject=function(p,e){var i=false,I=p==="@"||p===""&&e.getPath().slice(-2)==="/@"||p.slice(-2)==="/@",K,n,R;if(I||p==="/"){n=p;}else if(p){n=p+"/";}else{n="./";}R=this.getObject(n,e);for(K in R){if(K[0]==="$"||I===(K[0]!=="@")){if(!i){R=q.extend({},R);i=true;}delete R[K];}}return R;};l.prototype._mergeMetadata=function(e){var R=e[0],t=this;function n(E){if(E.$kind==="Schema"&&E.$Annotations){Object.keys(E.$Annotations).forEach(function(T){if(!R.$Annotations[T]){R.$Annotations[T]=E.$Annotations[T];}else{q.extend(R.$Annotations[T],E.$Annotations[T]);}});delete E.$Annotations;}}R.$Annotations=R.$Annotations||{};Object.keys(R).forEach(function(E){n(R[E]);});e.slice(1).forEach(function(A,i){Object.keys(A).forEach(function(K){var E=A[K];if(E.$kind!==undefined||Array.isArray(E)){if(R[K]){throw new Error("Overwriting '"+K+"' with the value defined in '"+t.aAnnotationUris[i]+"' is not supported");}R[K]=E;n(E);}});});return R;};l.prototype.attachEvent=function(e){if(!(e in s)){throw new Error("Unsupported event '"+e+"': v4.ODataMetaModel#attachEvent");}return M.prototype.attachEvent.apply(this,arguments);};l.prototype.bindContext=function(p,e){return new c(this,p,e);};l.prototype.bindList=function(p,e,S,i){return new d(this,p,e,S,i);};l.prototype.bindProperty=function(p,e,i){return new f(this,p,e,i);};l.prototype.bindTree=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#bindTree");};l.prototype.fetchCanonicalPath=function(n){return this.fetchEntityContainer().then(function(S){var p,E=S[S.$EntityContainer],t,w,x,y,z=n.getPath().split("/");function A(e,i){var L=n.getPath();if(i&&i!==L){e=e+" at "+i;}q.sap.log.error(e,L,o);throw new Error(L+": "+e);}function G(L){if(w.$kind==="Singleton"){return b.resolve(t);}return H(L).then(function(e){return t+e;});}function H(L){var e=z.slice(0,L).join("/");return n.fetchAbsoluteValue(e).then(function(i){return I(i,e);});}function I(i,L){try{return _.getKeyPredicate(x,i);}catch(e){A(e.message,L);}}function K(i){var N,e,L;if(i===z.length){if(p){return"/"+p;}if(w.$kind==="Singleton"){return"/"+t;}return n.fetchValue("").then(function(Q){return"/"+t+I(Q);});}L=z[i];if(g.test(L)){if(!w){return H(i+1).then(function(Q){p+=Q;return K(i+1);});}return K(i+1);}y=L.indexOf("(");e=decodeURIComponent(y>0?L.slice(0,y):L);N=x[e];if(!N||N.$kind!=="NavigationProperty"){A("Not a navigation property: "+e);}if(!w||(p&&N.$ContainsTarget)){p+="/"+L;x=S[N.$Type];w=undefined;return K(i+1);}if(N.$ContainsTarget){return G(i).then(function(Q){p=Q+"/"+L;w=undefined;x=S[N.$Type];return K(i+1);});}t=w.$NavigationPropertyBinding[e];w=E[t];x=S[N.$Type];t=encodeURIComponent(t);p=y>0?t+L.slice(y):undefined;return K(i+1);}y=z[1].indexOf("(");if(y>0){p=z[1];t=p.slice(0,y);}else{t=z[1];}w=E[decodeURIComponent(t)];x=S[w.$Type];return K(2);});};l.prototype.fetchEntityContainer=function(){var p,t=this;if(!this.oMetadataPromise){p=[b.resolve(this.oRequestor.read(this.sUrl))];if(this.aAnnotationUris){this.aAnnotationUris.forEach(function(A){p.push(b.resolve(t.oRequestor.read(A,true)));});}this.oMetadataPromise=b.all(p).then(function(e){return t._mergeMetadata(e);});}return this.oMetadataPromise;};l.prototype.fetchObject=function(p,n,t){var R=this.resolve(p,n),w=this;if(!R){q.sap.log.error("Invalid relative path w/o context",p,o);return b.resolve(null);}return this.fetchEntityContainer().then(function(S){var L,N,x=true,y,z,T,A=S;function E(i,p){var Q,X=i.indexOf("@",2);if(X>-1){return G(W,"Unsupported path after ",i.slice(0,X));}i=i.slice(2);Q=i[0]==="."?q.sap.getObject(i.slice(1),undefined,t.scope):q.sap.getObject(i);if(typeof Q!=="function"){return G(W,i," is not a function but: "+Q);}try{A=Q(A,{context:new a(w,p),schemaChildName:z});}catch(e){G(W,"Error calling ",i,": ",e);}return false;}function G(i){var e;if(q.sap.log.isLoggable(i,o)){e=Array.isArray(L)?L.join("/"):L;q.sap.log[i===D?"debug":"warning"](Array.prototype.slice.call(arguments,1).join("")+(e?" at /"+e:""),R,o);}A=undefined;return false;}function H(Q,e){if(!(Q in S)){L=L||T&&T+"/"+e;return G(W,"Unknown qualified name '",Q,"'");}T=N=z=Q;A=y=S[z];return true;}function I(e,i,Q){var X,Y;if(e==="$Annotations"){return G(W,"Invalid segment: $Annotations");}if(A!==S&&typeof A==="object"&&e in A){if(e[0]==="$"||g.test(e)){x=false;}}else{X=e.indexOf("@@");if(X<0){if(e.length>11&&e.slice(-11)==="@sapui.name"){X=e.length-11;}else{X=e.indexOf("@");}}if(X>0){if(!I(e.slice(0,X),i,Q)){return false;}e=e.slice(X);Y=true;}if(typeof A==="string"&&!(Y&&e[0]==="@"&&(e==="@sapui.name"||e[1]==="@"))&&!K(A,Q.slice(0,i))){return false;}if(x){if(e[0]==="$"||g.test(e)){x=false;}else if(!Y){if(e[0]!=="@"&&e.indexOf(".")>0){return H(e);}else if(A&&"$Type"in A){if(!H(A.$Type,"$Type")){return false;}}else if(A&&"$Action"in A){if(!H(A.$Action,"$Action")){return false;}}else if(A&&"$Function"in A){if(!H(A.$Function,"$Function")){return false;}}else if(i===0){T=N=z=z||S.$EntityContainer;A=y=y||S[z];if(e&&e[0]!=="@"&&!(e in y)){return G(W,"Unknown child '",e,"' of '",z,"'");}}if(Array.isArray(A)){if(A.length!==1){return G(W,"Unsupported overloads");}A=A[0].$ReturnType;T=T+"/0/$ReturnType";if(A){if(e==="value"&&!(S[A.$Type]&&S[A.$Type].value)){N=undefined;return true;}if(!H(A.$Type,"$Type")){return false;}}}}}if(!e){return i+1>=Q.length||G(W,"Invalid empty segment");}if(e[0]==="@"){if(e==="@sapui.name"){A=N;if(A===undefined){G(W,"Unsupported path before @sapui.name");}else if(i+1<Q.length){G(W,"Unsupported path after @sapui.name");}return false;}if(e[1]==="@"){if(i+1<Q.length){return G(W,"Unsupported path after ",e);}return E(e,"/"+Q.slice(0,i).join("/")+"/"+Q[i].slice(0,X));}}if(!A||typeof A!=="object"){return G(D,"Invalid segment: ",e);}if(x&&e[0]==="@"){A=(S.$Annotations||{})[T]||{};x=false;}}if(e!=="@"){N=x||e[0]==="@"?e:undefined;T=x?T+"/"+e:undefined;A=A[e];}return true;}function K(e,i){var Q;if(L){return G(W,"Invalid recursion");}L=i;x=true;A=S;Q=e.split("/").every(I);L=undefined;return Q;}K(R.slice(1));return A;});};l.prototype.fetchUI5Type=function(p){var e=this.getMetaContext(p),t=this;return this.fetchObject(undefined,e).then(function(i){var n,N,T=i["$ui5.type"],w,x="sap.ui.model.odata.type.Raw";function y(K,z){if(z!==undefined){n=n||{};n[K]=z;}}if(T){return T;}if(i.$isCollection){q.sap.log.warning("Unsupported collection type, using "+x,p,o);}else{w=u[i.$Type];if(w){x=w.type;for(N in w.constraints){y(w.constraints[N],N[0]==="@"?t.getObject(N,e):i[N]);}if(i.$Nullable===false){y("nullable",false);}}else{q.sap.log.warning("Unsupported type '"+i.$Type+"', using "+x,p,o);}}T=new(q.sap.getObject(x,0))(undefined,n);i["$ui5.type"]=T;return T;});};l.prototype.getMetaContext=function(p){return new a(this,p.replace(r,""));};l.prototype.getOrCreateValueListModel=function(e){var i,n;n=new U(e).absoluteTo(this.sUrl).filename("").toString();i=m[n];if(!i){i=new this.oModel.constructor({operationMode:O.Server,serviceUrl:n,synchronizationMode:"None"});i.setDefaultBindingMode(B.OneWay);m[n]=i;i.oRequestor.mHeaders["X-CSRF-Token"]=this.oModel.oRequestor.mHeaders["X-CSRF-Token"];}return i;};l.prototype.getOriginalProperty=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#getOriginalProperty");};l.prototype.getObject=b.createGetMethod("fetchObject");l.prototype.getProperty=l.prototype.getObject;l.prototype.getUI5Type=b.createGetMethod("fetchUI5Type",true);l.prototype.getValueListType=function(p){var e=this.getMetaContext(p),i,t=this;i=this.fetchObject("",e).then(function(n){var A,T;if(!n){throw new Error("No metadata for "+p);}A=t.getObject("@",e);if(A[j]){return V.Fixed;}for(T in A){if(k(T,h)!==undefined){return V.Standard;}}return V.None;});if(i.isRejected()){throw i.getResult();}if(!i.isFulfilled()){throw new Error("Metadata not yet loaded");}return i.getResult();};l.prototype.isList=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#isList");};l.prototype.refresh=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#refresh");};l.prototype.requestObject=b.createRequestMethod("fetchObject");l.prototype.requestUI5Type=b.createRequestMethod("fetchUI5Type");l.prototype.requestValueListInfo=function(p){var e=this.getMetaContext(p),t=this;function n(N){var i=N.indexOf("/");if(i>=0){N=N.slice(0,i);}return N.slice(0,N.lastIndexOf("."));}return Promise.all([this.requestObject("/$EntityContainer"),this.requestObject("",e),this.requestObject("@",e)]).then(function(R){var A=R[2],i={},N=n(R[0]),w,x=R[1],y={};if(!x){throw new Error("No metadata for "+p);}w=Object.keys(A).filter(function(T){return k(T,h)!==undefined;}).map(function(T){var z=A[T],E=t.getOrCreateValueListModel(z.MappingUrl),G=E.getMetaModel();return G.fetchEntityContainer().then(function(H){var I=H.$Annotations;Object.keys(I).filter(function(K){if(n(K)===N){if(t.getObject("/"+K)===x){return true;}if(t!==G){throw new Error("Unexpected annotation target in value list metadata: "+K);}}return false;}).forEach(function(K){var A=I[K];Object.keys(A).forEach(function(T){var L=k(T,v);if(L!==undefined){if(y[L]){throw new Error("Duplicate qualifier '"+L+"' for "+p+" in "+i[L]+" and "+z.MappingUrl);}y[L]=q.extend(true,{$model:E},A[T]);i[L]=z.MappingUrl;}else if(t!==G){throw new Error("Unexpected annotation term in value list metadata: "+K+T);}});});});});if(!w.length){throw new Error("No value list info for "+p);}return Promise.all(w).then(function(){return y;});});};l.prototype.resolve=function(p,e){var i,n;if(!p){return e?e.getPath():undefined;}n=p[0];if(n==="/"){return p;}if(!e){return undefined;}if(n==="."){if(p[1]!=="/"){throw new Error("Unsupported relative path: "+p);}p=p.slice(2);}i=e.getPath();return n==="@"||i.slice(-1)==="/"?i+p:i+"/"+p;};l.prototype.setLegacySyntax=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#setLegacySyntax");};l.prototype.toString=function(){return o+": "+this.sUrl;};return l;},true);
sap.ui.predefine('sap/ui/model/odata/v4/ODataModel',["jquery.sap.global","sap/ui/core/message/Message","sap/ui/model/BindingMode","sap/ui/model/Context","sap/ui/model/Model","sap/ui/model/odata/OperationMode","sap/ui/thirdparty/URI","./lib/_MetadataRequestor","./lib/_Requestor","./lib/_Parser","./ODataContextBinding","./ODataListBinding","./ODataMetaModel","./ODataPropertyBinding"],function(q,M,B,a,b,O,U,_,c,d,e,f,g,h){"use strict";var C="sap.ui.model.odata.v4.ODataModel",r=/^\w+$/,i=/^(\$auto|\$direct|\w+)$/,s={messageChange:true},S={annotationURI:true,groupId:true,operationMode:true,serviceUrl:true,synchronizationMode:true,updateGroupId:true},j=["$apply","$count","$expand","$filter","$orderby","$search","$select"];var k=b.extend("sap.ui.model.odata.v4.ODataModel",{constructor:function(p){var H={"Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()},P,l,u,t=this;b.apply(this);if(!p||p.synchronizationMode!=="None"){throw new Error("Synchronization mode must be 'None'");}for(P in p){if(!(P in S)){throw new Error("Unsupported parameter: "+P);}}l=p.serviceUrl;if(!l){throw new Error("Missing service root URL");}u=new U(l);if(u.path()[u.path().length-1]!=="/"){throw new Error("Service root URL must end with '/'");}if(p.operationMode&&p.operationMode!==O.Server){throw new Error("Unsupported operation mode: "+p.operationMode);}this.sOperationMode=p.operationMode;this.mUriParameters=this.buildQueryOptions(null,u.query(true),false,true);this.sServiceUrl=u.query("").toString();this.sGroupId=p.groupId;if(this.sGroupId===undefined){this.sGroupId="$auto";}if(this.sGroupId!=="$auto"&&this.sGroupId!=="$direct"){throw new Error("Group ID must be '$auto' or '$direct'");}this.checkGroupId(p.updateGroupId,false,"Invalid update group ID: ");this.sUpdateGroupId=p.updateGroupId||this.getGroupId();this.oMetaModel=new g(_.create(H,this.mUriParameters),this.sServiceUrl+"$metadata",p.annotationURI,this);this.oRequestor=c.create(this.sServiceUrl,H,this.mUriParameters,function(G){if(G==="$auto"){sap.ui.getCore().addPrerenderingTask(t._submitBatch.bind(t,G));}});this.aAllBindings=[];this.sDefaultBindingMode=B.TwoWay;this.mSupportedBindingModes={OneTime:true,OneWay:true,TwoWay:true};}});k.prototype._submitBatch=function(G){return this.oRequestor.submitBatch(G)["catch"](function(E){q.sap.log.error("$batch failed",E.message,C);throw E;});};k.prototype.attachEvent=function(E){if(!(E in s)){throw new Error("Unsupported event '"+E+"': v4.ODataModel#attachEvent");}return b.prototype.attachEvent.apply(this,arguments);};k.prototype.bindContext=function(p,o,P){return new e(this,p,o,P);};k.prototype.bindingCreated=function(o){this.aAllBindings.push(o);};k.prototype.bindingDestroyed=function(o){var I=this.aAllBindings.indexOf(o);if(I<0){throw new Error("Unknown "+o);}this.aAllBindings.splice(I,1);};k.prototype.bindList=function(p,o,v,F,P){return new f(this,p,o,v,F,P);};k.prototype.bindProperty=function(p,o,P){return new h(this,p,o,P);};k.prototype.bindTree=function(){throw new Error("Unsupported operation: v4.ODataModel#bindTree");};k.prototype.buildBindingParameters=function(p,A){var R={},t=this;if(p){Object.keys(p).forEach(function(K){var v=p[K];if(K.indexOf("$$")!==0){return;}if(!A||A.indexOf(K)<0){throw new Error("Unsupported binding parameter: "+K);}if(K==="$$groupId"||K==="$$updateGroupId"){t.checkGroupId(v,false,"Unsupported value for binding parameter '"+K+"': ");}else if(K==="$$operationMode"){if(v!==O.Server){throw new Error("Unsupported operation mode: "+v);}}R[K]=v;});}return R;};k.prototype.buildQueryOptions=function(m,o,l,n){var R=JSON.parse(JSON.stringify(m||{}));function v(E){var t;if(typeof E==="object"){for(t in E){p(t,E[t]);}}}function p(t,V){var P;if(!l||j.indexOf(t)<0){throw new Error("System query option "+t+" is not supported");}if(t==="$expand"){for(P in V){v(V[P]);}}}if(o){Object.keys(o).forEach(function(K){var V=o[K];if(K.indexOf("$$")===0){return;}if(K[0]==="@"){throw new Error("Parameter "+K+" is not supported");}if(K[0]==="$"){if((K==="$expand"||K==="$select")&&typeof V==="string"){V=d.parseSystemQueryOption(K+"="+V)[K];}p(K,V);}else if(!n&&K.indexOf("sap-")===0){throw new Error("Custom query option "+K+" is not supported");}R[K]=V;});}return R;};k.prototype.checkGroupId=function(G,A,E){if(!A&&G===undefined||typeof G==="string"&&(A?r:i).test(G)){return;}throw new Error((E||"Invalid group ID: ")+G);};k.prototype.createBindingContext=function(p,o){var D,m,l,R,n;if(arguments.length>2){throw new Error("Only the parameters sPath and oContext are supported");}if(o&&o.getBinding){throw new Error("Unsupported type: oContext must be of type sap.ui.model.Context, "+"but was sap.ui.model.odata.v4.Context");}R=this.resolve(p,o);if(R===undefined){throw new Error("Cannot create binding context from relative path '"+p+"' without context");}n=R.indexOf('#');if(n>=0){D=R.slice(0,n);l=R.slice(n+1);if(l[0]==="/"){l="."+l;}m=this.oMetaModel.getMetaContext(D);return this.oMetaModel.createBindingContext(l,m);}return new a(this,R);};k.prototype.destroy=function(){this.oMetaModel.destroy();return b.prototype.destroy.apply(this,arguments);};k.prototype.destroyBindingContext=function(){throw new Error("Unsupported operation: v4.ODataModel#destroyBindingContext");};k.prototype.getContext=function(){throw new Error("Unsupported operation: v4.ODataModel#getContext");};k.prototype.getDependentBindings=function(p){return this.aAllBindings.filter(function(o){return o.isRelative()&&(o.getContext()===p||o.getContext()&&o.getContext().getBinding&&o.getContext().getBinding()===p);});};k.prototype.getGroupId=function(){return this.sGroupId;};k.prototype.getMetaModel=function(){return this.oMetaModel;};k.prototype.getObject=function(){throw new Error("Unsupported operation: v4.ODataModel#getObject");};k.prototype.getOriginalProperty=function(){throw new Error("Unsupported operation: v4.ODataModel#getOriginalProperty");};k.prototype.getProperty=function(){throw new Error("Unsupported operation: v4.ODataModel#getProperty");};k.prototype.getUpdateGroupId=function(){return this.sUpdateGroupId;};k.prototype.hasPendingChanges=function(){return this.oRequestor.hasPendingChanges();};k.prototype.isList=function(){throw new Error("Unsupported operation: v4.ODataModel#isList");};k.prototype.refresh=function(G){this.checkGroupId(G);this.aBindings.slice().forEach(function(o){if(o.isRefreshable()){o.refresh(G);}});};k.prototype.reportError=function(l,R,E){var D=E.stack||E.message;if(D.indexOf(E.message)<0){D=E.message+"\n"+E.stack;}if(E.canceled){q.sap.log.debug(l,D,R);return;}q.sap.log.error(l,D,R);if(E.$reported){return;}E.$reported=true;sap.ui.getCore().getMessageManager().addMessages(new M({message:E.message,processor:this,technical:true,type:"Error"}));};k.prototype.requestCanonicalPath=function(E){return E.requestCanonicalPath();};k.prototype.resetChanges=function(G){G=G||this.sUpdateGroupId;this.checkGroupId(G,true);this.oRequestor.cancelChanges(G);};k.prototype.resolve=function(p,o){var R;if(p[0]==="/"){R=p;}else if(o){if(p){if(o.getPath().slice(-1)==="/"){R=o.getPath()+p;}else{R=o.getPath()+"/"+p;}}else{R=o.getPath();}}if(R&&R!=="/"&&R[R.length-1]==="/"&&R.indexOf("#")<0){R=R.slice(0,R.length-1);}return R;};k.prototype.setLegacySyntax=function(){throw new Error("Unsupported operation: v4.ODataModel#setLegacySyntax");};k.prototype.submitBatch=function(G){this.checkGroupId(G,true);return this._submitBatch(G);};k.prototype.toString=function(){return C+": "+this.sServiceUrl;};return k;},true);
sap.ui.predefine('sap/ui/model/odata/v4/ODataParentBinding',["sap/ui/model/ChangeReason","./ODataBinding","./lib/_Helper","./lib/_SyncPromise"],function(C,a,_,b){"use strict";function O(){}a(O.prototype);var r=/\([^/]*|\/\d+|^\d+\//g;O.prototype.changeParameters=function(p){var B=jQuery.extend(true,{},this.mParameters),c=false,k;if(!p){throw new Error("Missing map of binding parameters");}for(k in p){if(k.indexOf("$$")===0){throw new Error("Unsupported parameter: "+k);}if(p[k]===undefined&&B[k]!==undefined){delete B[k];c=true;}else if(B[k]!==p[k]){if(typeof p[k]==="object"){B[k]=jQuery.extend(true,{},p[k]);}else{B[k]=p[k];}c=true;}}if(c){this.applyParameters(B,C.Change);}};O.prototype.createCache=function(c,v,f){var o,p,t=this;if(this.oCachePromise&&this.oCachePromise.isFulfilled()){o=this.oCachePromise.getResult();if(o){o.setActive(false);}}p=b.all([v,f]).then(function(R){var s=R[0],d,e;if(!p||t.oCachePromise===p){if(s){t.mCacheByContext=t.mCacheByContext||{};d=t.mCacheByContext[s];if(d){d.setActive(true);}else{d=t.mCacheByContext[s]=c(s,R[1]);d.$canonicalPath=s;}}else{d=c(s,R[1]);}return d;}else{e=new Error("Cache discarded as a new cache has been created");e.canceled=true;throw e;}});p["catch"](function(e){t.oModel.reportError("Failed to create cache for binding "+t,"sap.ui.model.odata.v4.ODataParentBinding",e);});return p;};O.prototype.getQueryOptions=function(c){var o=this.mQueryOptions;if(!Object.keys(o).length){o=this.inheritQueryOptions(c);}return jQuery.extend({},this.oModel.mUriParameters,o);};O.prototype.inheritQueryOptions=function(c){var R;if(!this.isRelative()||!c||!c.getQueryOptions){return undefined;}R=c.getQueryOptions();if(!R){return undefined;}this.sPath.replace(r,"").split("/").some(function(s){R=R.$expand&&R.$expand[s];if(!R||R===true){R=undefined;return true;}});return R;};O.prototype.initialize=function(){if(!this.bRelative||this.oContext){this._fireChange({reason:C.Change});}};O.prototype.updateValue=function(g,p,v,e,P){var c;if(!this.oCachePromise.isFulfilled()){throw new Error("PATCH request not allowed");}c=this.oCachePromise.getResult();if(c){g=g||this.getUpdateGroupId();return c.update(g,p,v,e,P);}return this.oContext.updateValue(g,p,v,e,_.buildPath(this.sPath,P));};return function(p){jQuery.extend(p,O.prototype);};},false);
sap.ui.predefine('sap/ui/model/odata/v4/ODataPropertyBinding',["jquery.sap.global","sap/ui/model/BindingMode","sap/ui/model/ChangeReason","sap/ui/model/PropertyBinding","./lib/_Cache","./lib/_SyncPromise","./ODataBinding"],function(q,B,C,P,_,a,b){"use strict";var c="sap.ui.model.odata.v4.ODataPropertyBinding",s={AggregatedDataStateChange:true,change:true,dataReceived:true,dataRequested:true,DataStateChange:true};var O=P.extend("sap.ui.model.odata.v4.ODataPropertyBinding",{constructor:function(m,p,o,d){var e;P.call(this,m,p);if(p.slice(-1)==="/"){throw new Error("Invalid path: "+p);}e=this.oModel.buildBindingParameters(d,["$$groupId","$$updateGroupId"]);this.sGroupId=e.$$groupId;this.sUpdateGroupId=e.$$updateGroupId;this.mQueryOptions=this.oModel.buildQueryOptions(this.oModel.mUriParameters,d);this.oCachePromise=a.resolve();this.makeCache(o);this.oContext=o;this.bInitial=true;this.bRequestTypeFailed=false;this.vValue=undefined;m.bindingCreated(this);},metadata:{publicMethods:[]}});b(O.prototype);O.prototype.attachEvent=function(e){if(!(e in s)){throw new Error("Unsupported event '"+e+"': v4.ODataPropertyBinding#attachEvent");}return P.prototype.attachEvent.apply(this,arguments);};O.prototype.checkUpdate=function(f,d,g){var o={reason:d||C.Change},D=false,F=false,p,e,h=[],r,R=this.oModel.resolve(this.sPath,this.oContext),t=this;if(!R){e=Promise.resolve();if(t.vValue!==undefined){e=e.then(function(){t._fireChange(o);});}t.vValue=undefined;return e;}if(!this.bRequestTypeFailed&&!this.oType&&this.sInternalType!=="any"){h.push(this.oModel.getMetaModel().requestUI5Type(R).then(function(T){t.setType(T,t.sInternalType);})["catch"](function(E){t.bRequestTypeFailed=true;q.sap.log.warning(E.message,R,c);}));}r=this.oCachePromise.then(function(i){if(i){g=g||t.getGroupId();return i.fetchValue(g,undefined,function(){D=true;t.fireDataRequested();},t);}return t.oContext.fetchValue(t.sPath,t);});h.push(r.then(function(v){if(v&&typeof v==="object"){q.sap.log.error("Accessed value is not primitive",R,c);v=undefined;}F=t.vValue!==v;t.vValue=v;})["catch"](function(E){t.oModel.reportError("Failed to read path "+R,c,E);if(!E.canceled){F=t.vValue!==undefined;p={error:E};t.vValue=undefined;}return E.canceled;}));return Promise.all(h).then(function(i){var j=i[h.length-1];if(!j){t.bInitial=false;if(f||F){t._fireChange(o);}}if(D){t.fireDataReceived(p);}});};O.prototype.destroy=function(){var o=this.oCachePromise.getResult();if(o){o.deregisterChange(undefined,this);}else if(this.oContext){this.oContext.deregisterChange(this.sPath,this);}this.oModel.bindingDestroyed(this);this.oCachePromise=undefined;P.prototype.destroy.apply(this,arguments);};O.prototype.getValue=function(){return this.vValue;};O.prototype.getValueListType=function(){var r=this.getModel().resolve(this.sPath,this.oContext);if(!r){throw new Error(this+" is not resolved yet");}return this.getModel().getMetaModel().getValueListType(r);};O.prototype.makeCache=function(o){var d=this.oCachePromise.getResult(),r=this.sPath;if(d){d.setActive(false);}if(o&&!o.fetchValue){r=this.oModel.resolve(this.sPath,o);}if(r[0]==="/"){d=_.createProperty(this.oModel.oRequestor,r.slice(1),this.mQueryOptions);}else{d=undefined;}this.oCachePromise=a.resolve(d);};O.prototype.onChange=function(v){this.vValue=v;this._fireChange({reason:C.Change});};O.prototype.refreshInternal=function(g){this.makeCache(this.oContext);this.checkUpdate(true,C.Refresh,g);};O.prototype.requestValueListInfo=function(){var r=this.getModel().resolve(this.sPath,this.oContext);if(!r){throw new Error(this+" is not resolved yet");}return this.getModel().getMetaModel().requestValueListInfo(r);};O.prototype.setContext=function(o){var d=this.oCachePromise.getResult();if(this.oContext!==o){if(!d&&this.oContext){this.oContext.deregisterChange(this.sPath,this);}this.oContext=o;if(this.bRelative){this.makeCache(this.oContext);this.checkUpdate(false,C.Context);}}};O.prototype.setType=function(t){var o=this.oType;if(t&&t.getName()==="sap.ui.model.odata.type.DateTimeOffset"){t.setV4();}P.prototype.setType.apply(this,arguments);if(!this.bInitial&&o!==t){this._fireChange({reason:C.Change});}};O.prototype.setValue=function(v,g){var t=this;if(typeof v==="function"||typeof v==="object"){throw new Error("Not a primitive value");}this.oModel.checkGroupId(g);if(this.vValue!==v){this.oCachePromise.then(function(o){if(o){q.sap.log.error("Cannot set value on this binding",t.oModel.resolve(t.sPath,t.oContext),c);}else if(t.oContext){t.oContext.updateValue(g,t.sPath,v)["catch"](function(e){if(!e.canceled){t.oModel.reportError("Failed to update path "+t.oModel.resolve(t.sPath,t.oContext),c,e);}});}else{q.sap.log.warning("Cannot set value on relative binding without context",t.sPath,c);}});}};O.prototype.toString=function(){return c+": "+(this.bRelative?this.oContext+"|":"")+this.sPath;};return O;},true);
sap.ui.predefine('sap/ui/model/odata/v4/ODataUtils',["sap/ui/core/format/DateFormat","sap/ui/model/odata/ODataUtils","sap/ui/model/odata/v4/lib/_Helper"],function(D,B,_){"use strict";var d="\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])",t="(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(\\.\\d{1,12})?)?",r=new RegExp("^"+d+"$"),a=new RegExp("^"+d+"T"+t+"(?:Z|[-+](?:0\\d|1[0-3]):[0-5]\\d|[-+]14:00)$","i"),b=new RegExp("^"+t+"$"),O={compare:function(v,V,e){if(e===true||e==="Decimal"){return B.compare(v,V,true);}if(e==="DateTime"){return B.compare(O.parseDateTimeOffset(v),O.parseDateTimeOffset(V));}return B.compare(v,V);},parseDate:function(s){var o=r.test(s)&&D.getDateInstance({pattern:"yyyy-MM-dd",strictParsing:true,UTC:true}).parse(s);if(!o){throw new Error("Not a valid Edm.Date value: "+s);}return o;},parseDateTimeOffset:function(s){var o,m=a.exec(s);if(m){if(m[1]&&m[1].length>4){s=s.replace(m[1],m[1].slice(0,4));}o=D.getDateTimeInstance({pattern:"yyyy-MM-dd'T'HH:mm:ss.SSSX",strictParsing:true}).parse(s.toUpperCase());}if(!o){throw new Error("Not a valid Edm.DateTimeOffset value: "+s);}return o;},parseTimeOfDay:function(T){var o;if(b.test(T)){if(T.length>12){T=T.slice(0,12);}o=D.getTimeInstance({pattern:"HH:mm:ss.SSS",strictParsing:true,UTC:true}).parse(T);}if(!o){throw new Error("Not a valid Edm.TimeOfDay value: "+T);}return o;},formatLiteral:function(v,T){return _.formatLiteral(v,T);}};return O;},true);
sap.ui.predefine('sap/ui/model/odata/v4/ValueListType',function(){"use strict";var V={None:"None",Fixed:"Fixed",Standard:"Standard"};return V;},true);
sap.ui.predefine('sap/ui/model/odata/v4/_AnnotationHelperExpression',['jquery.sap.global','../_AnnotationHelperBasics','sap/ui/base/BindingParser','sap/ui/base/ManagedObject','sap/ui/core/format/DateFormat','sap/ui/model/odata/ODataUtils'],function(q,B,a,M,D,O){'use strict';var A="sap.ui.model.odata.v4.AnnotationHelper",p=[A],P=A+"/getExpression",E,r=/^\{@i18n>[^\\\{\}:]+\}$/,o={And:"&&",Eq:"===",Ge:">=",Gt:">",Le:"<=",Lt:"<",Ne:"!==",Not:"!",Or:"||"},s=false,t={"Edm.Boolean":"boolean","Edm.Byte":"number","Edm.Date":"Date","Edm.DateTimeOffset":"DateTimeOffset","Edm.Decimal":"Decimal","Edm.Double":"number","Edm.Guid":"string","Edm.Int16":"number","Edm.Int32":"number","Edm.Int64":"Decimal","Edm.SByte":"number","Edm.Single":"number","Edm.String":"string","Edm.TimeOfDay":"TimeOfDay"},T={Bool:"Edm.Boolean",Float:"Edm.Double",Date:"Edm.Date",DateTimeOffset:"Edm.DateTimeOffset",Decimal:"Edm.Decimal",Guid:"Edm.Guid",Int:"Edm.Int64",Int32:"Edm.Int32",String:"Edm.String",TimeOfDay:"Edm.TimeOfDay"},m={"boolean":false,"Date":false,"DateTimeOffset":true,"Decimal":true,"number":false,"string":false,"TimeOfDay":false};function b(c,d){B.error(c,d,A);}E={adjustOperands:function(c,d){if(c.result!=="constant"&&c.category==="number"&&d.result==="constant"&&d.type==="Edm.Int64"){d.category="number";}if(c.result!=="constant"&&c.category==="Decimal"&&d.result==="constant"&&d.type==="Edm.Int32"){d.category="Decimal";d.type=c.type;}},apply:function(c,d){var f=B.descend(c,"$Function","string");switch(f.value){case"odata.concat":return E.concat(d);case"odata.fillUriTemplate":return E.fillUriTemplate(d);case"odata.uriEncode":return E.uriEncode(d);default:b(f,"unknown function: "+f.value);}},concat:function(c){var e=c.asExpression,d=[],R,f=[];B.expectType(c,"array");c.value.forEach(function(u,i){R=E.parameter(c,i);e=e||R.result==="expression";f.push(R);});f.forEach(function(R){if(e){E.wrapExpression(R);}if(R.type!=='edm:Null'){d.push(B.resultToString(R,e));}});R=e?{result:"expression",value:d.join("+")}:{result:"composite",value:d.join("")};R.type="Edm.String";return R;},conditional:function(c){var C=E.parameter(c,0,"Edm.Boolean"),d=E.parameter(c,1),e=E.parameter(c,2),f=d.type;if(d.type==="edm:Null"){f=e.type;}else if(e.type!=="edm:Null"&&d.type!==e.type){b(c,"Expected same type for second and third parameter, types are '"+d.type+"' and '"+e.type+"'");}return{result:"expression",type:f,value:B.resultToString(E.wrapExpression(C),true)+"?"+B.resultToString(E.wrapExpression(d),true)+":"+B.resultToString(E.wrapExpression(e),true)};},constant:function(c,e){var v=c.value;if(e==="String"){if(r.test(v)){return{ignoreTypeInPath:true,result:"binding",type:"Edm.String",value:v.slice(1,-1)};}}return{result:"constant",type:T[e],value:v};},expression:function(c){var R=c.value,S=c,d;if(R===null){d="Null";}else if(typeof R==="boolean"){d="Bool";}else if(typeof R==="number"){d=isFinite(R)&&Math.floor(R)===R?"Int32":"Float";}else if(typeof R==="string"){d="String";}else{B.expectType(c,"object");["$And","$Apply","$Date","$DateTimeOffset","$Decimal","$Float","$Eq","$Ge","$Gt","$Guid","$If","$Int","$Le","$Lt","$Ne","$Not","$Null","$Or","$Path","$PropertyPath","$TimeOfDay"].forEach(function(e){if(R.hasOwnProperty(e)){d=e.slice(1);S=B.descend(c,e);}});}switch(d){case"Apply":return E.apply(c,S);case"If":return E.conditional(S);case"Path":case"PropertyPath":return E.path(S);case"Date":case"DateTimeOffset":case"Decimal":case"Guid":case"Int":case"String":case"TimeOfDay":B.expectType(S,"string");case"Bool":case"Float":case"Int32":return E.constant(S,d);case"And":case"Eq":case"Ge":case"Gt":case"Le":case"Lt":case"Ne":case"Or":return E.operator(S,d);case"Not":return E.not(S);case"Null":return{result:"constant",type:"edm:Null",value:null};default:b(c,"Unsupported OData expression");}},formatOperand:function(c,i,R,w){if(R.result==="constant"){switch(R.category){case"boolean":case"number":return String(R.value);}}if(w){E.wrapExpression(R);}return B.resultToString(R,true);},getExpression:function(c){var R;if(c.value===undefined){return undefined;}q.sap.measure.average(P,"",p);if(!s&&M.bindingParser===a.simpleParser){q.sap.log.warning("Complex binding syntax not active",null,A);s=true;}try{R=E.expression(c);q.sap.measure.end(P);return B.resultToString(R,false);}catch(e){q.sap.measure.end(P);if(e instanceof SyntaxError){return"Unsupported: "+a.complexParser.escape(B.toErrorString(c.value));}throw e;}},fillUriTemplate:function(c){var i,n,d=[],e="",f,g=c.value,R,h=E.parameter(c,0,"Edm.String");d.push('odata.fillUriTemplate(',B.resultToString(h,true),',{');for(i=1;i<g.length;i+=1){f=B.descend(c,i,"object");n=B.property(f,"$Name","string");R=E.expression(B.descend(f,"$LabeledElement",true));d.push(e,B.toJSON(n),":",B.resultToString(R,true));e=",";}d.push("})");return{result:"expression",type:"Edm.String",value:d.join("")};},not:function(c){var d;c.asExpression=true;d=E.expression(c);return{result:"expression",type:"Edm.Boolean",value:"!"+B.resultToString(E.wrapExpression(d),true)};},operator:function(c,d){var e=d==="And"||d==="Or"?"Edm.Boolean":undefined,n,f=E.parameter(c,0,e),g=E.parameter(c,1,e),S="",v,V;if(f.type!=="edm:Null"&&g.type!=="edm:Null"){f.category=t[f.type];g.category=t[g.type];E.adjustOperands(f,g);E.adjustOperands(g,f);if(f.category!==g.category){b(c,"Expected two comparable parameters but instead saw "+f.type+" and "+g.type);}switch(f.category){case"Decimal":S=",'Decimal'";break;case"DateTimeOffset":S=",'DateTime'";break;}n=m[f.category];}v=E.formatOperand(c,0,f,!n);V=E.formatOperand(c,1,g,!n);return{result:"expression",type:"Edm.Boolean",value:n?"odata.compare("+v+","+V+S+")"+o[d]+"0":v+o[d]+V};},parameter:function(c,i,e){var d=B.descend(c,i,true),R=E.expression(d);if(e&&e!==R.type){b(d,"Expected "+e+" but instead saw "+R.type);}return R;},path:function(c){B.expectType(c,"string");return{result:"binding",type:c.model.getProperty(c.path+"/$Type"),value:c.value};},uriEncode:function(c){var R=E.parameter(c,0);return{result:"expression",type:"Edm.String",value:R.type==="Edm.String"?'odata.uriEncode('+B.resultToString(R,true)+","+B.toJSON(R.type)+")":'String('+B.resultToString(R,true)+")"};},wrapExpression:function(R){if(R.result==="expression"){R.value="("+R.value+")";}return R;}};return E;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_Batch',["jquery.sap.global"],function(q){"use strict";var a={"POST":true,"PUT":true,"PATCH":true,"DELETE":true},b,r=/\$\d+/,c=/(\S*?)=(?:"(.+)"|(\S+))/;function g(C){var B=d(C,"boundary"),m=C.trim().indexOf("multipart/mixed");if(m!==0||!B){throw new Error('Invalid $batch response header "Content-Type": '+C);}B=q.sap.escapeRegExp(B);return new RegExp('--'+B+'-{0,2} *\r\n');}function d(H,p){var P,i=H.split(";"),m;p=p.toLowerCase();for(P=1;P<i.length;P++){m=c.exec(i[P]);if(m[1].toLowerCase()===p){return m[2]||m[3];}}}function e(m){var C=h(m,"content-type");return C.indexOf("multipart/mixed;")===0?C:undefined;}function f(m){var C=h(m,"content-id"),R;if(!C){throw new Error("Content-ID MIME header missing for the change set response.");}R=parseInt(C,10);if(isNaN(R)){throw new Error("Invalid Content-ID value in change set response.");}return R;}function h(H,k){var i,l,m=H.split("\r\n");for(i=0;i<m.length;i++){l=m[i].split(":");if(l[0].toLowerCase().trim()===k){return l[1].trim();}}}function _(C,R,I){var B=R.split(g(C)),k=[];B=B.slice(1,-1);B.forEach(function(l){var m,n,o,H,p,t,u,v,i,M,w={},x,y;y=l.split("\r\n\r\n");M=y[0];m=e(M);if(m){k.push(_(m,y.slice(1).join("\r\n\r\n"),true));return;}u=y[1].split("\r\n");v=u[0].split(" ");w.status=parseInt(v[1],10);w.statusText=v.slice(2).join(' ');w.headers={};for(i=1;i<u.length;i++){H=u[i];o=H.indexOf(':');p=H.slice(0,o).trim();t=H.slice(o+1).trim();w.headers[p]=t;if(p.toLowerCase()==="content-type"){n=d(t,"charset");if(n&&n.toLowerCase()!=="utf-8"){throw new Error('Unsupported "Content-Type" charset: '+n);}}}w.responseText=y[2].slice(0,-2);if(I){x=f(M);k[x]=w;}else{k.push(w);}});return k;}function s(H){var i,k=[];for(i in H){k=k.concat(i,":",H[i],"\r\n");}return k;}function j(R,C){var B=(C!==undefined?"changeset_":"batch_")+q.sap.uid(),i=C!==undefined,k=[];if(i){k=k.concat("Content-Type: multipart/mixed;boundary=",B,"\r\n\r\n");}R.forEach(function(o,l){var m="",u=o.url;if(i){m="Content-ID:"+l+"."+C+"\r\n";}k=k.concat("--",B,"\r\n");if(Array.isArray(o)){if(i){throw new Error('Change set must not contain a nested change set.');}k=k.concat(j(o,l).body);}else{if(i&&!a[o.method]){throw new Error("Invalid HTTP request method: "+o.method+". Change set must contain only POST, PUT, PATCH or DELETE requests.");}u=u.replace(r,"$&."+C);k=k.concat("Content-Type:application/http\r\n","Content-Transfer-Encoding:binary\r\n",m,"\r\n",o.method," ",u," HTTP/1.1\r\n",s(o.headers),"\r\n",JSON.stringify(o.body)||"","\r\n");}});k=k.concat("--",B,"--\r\n");return{body:k,batchBoundary:B};}b={deserializeBatchResponse:function(C,R){return _(C,R,false);},serializeBatchRequest:function(R){var B=j(R);return{body:B.body.join(""),headers:{"Content-Type":"multipart/mixed; boundary="+B.batchBoundary,"MIME-Version":"1.0"}};}};return b;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_Cache',["jquery.sap.global","./_Helper","./_SyncPromise"],function(q,_,a){"use strict";function b(i,D){if("$count"in i){i.$count+=D;}}function c(Q,R,D){Object.keys(Q).forEach(function(k){var v=Q[k];if(D&&k[0]==='$'){return;}switch(k){case"$expand":v=C.convertExpand(v);break;case"$apply":case"$count":case"$filter":case"$orderby":case"$search":break;case"$select":if(Array.isArray(v)){v=v.join(",");}break;default:if(k[0]==='$'){throw new Error("Unsupported system query option "+k);}}R(k,v);});}function d(p,v){return p.reduceRight(function(V,i){var R={};R[i]=V;return R;},v);}function f(A,v,j,E){var i;for(i=j;i<E;i++){A[i]=v;}}function g(i){return i.$count!==undefined?i.$count:Infinity;}function e(R,p){return p===""||R===p||R.indexOf(p+"/")===0;}function r(o,j,E,G,D){var k=E-j,p,R=o.sResourcePath+"$skip="+j+"&$top="+k;p=o.oRequestor.request("GET",R,G,undefined,undefined,D).then(function(l){var m,n,i,t=l.value.length;C.computeCount(l);o.sContext=l["@odata.context"];n=l["@odata.count"];if(n){s(o.aElements,n);}for(i=0;i<t;i++){o.aElements[j+i]=l.value[i];}if(t<k){m=Math.min(g(o.aElements),j+t);s(o.aElements,m);o.aElements.length=m;}})["catch"](function(i){f(o.aElements,undefined,j,E);throw i;});f(o.aElements,p,j,E);}function s(i,v){if(typeof v==="string"){v=parseInt(v,10);}i.$count=v;}function u(o,G,p,v,E,i,j){var B,H,O,k,l=p.split("/"),t,U=_.buildPath(i,p),m;function n(){o.removeByPath(o.mPatchRequests,U,m);_.updateCache(o.mChangeListeners,i,j,d(l,O));}if(!j){throw new Error("Cannot update '"+p+"': '"+i+"' does not exist");}t=j["@$ui5.transient"];if(t===true){throw new Error("No 'update' allowed while waiting for server response");}if(t&&t.indexOf("$parked.")===0){k=t;t=t.slice(8);}if(t&&t!==G){throw new Error("The entity will be created via group '"+t+"'. Cannot patch via group '"+G+"'");}E+=C.buildQueryString(o.mQueryOptions,true);H={"If-Match":j["@odata.etag"]};B=d(l,v);O=l.reduce(function(V,w){return V&&V[w];},j);_.updateCache(o.mChangeListeners,i,j,d(l,v));if(t){if(k){j["@$ui5.transient"]=t;o.oRequestor.relocate(k,j,t);}return Promise.resolve({});}m=o.oRequestor.request("PATCH",E,G,H,B,undefined,n);o.addByPath(o.mPatchRequests,U,m);return m.then(function(w){o.removeByPath(o.mPatchRequests,U,m);_.updateCache(o.mChangeListeners,i,j,w);return w;},function(w){o.removeByPath(o.mPatchRequests,U,m);throw w;});}function C(R,i,Q){this.bActive=true;this.mChangeListeners={};this.mPatchRequests={};this.mQueryOptions=Q;this.oRequestor=R;this.sResourcePath=i+C.buildQueryString(Q);}C.prototype.addByPath=function(m,p,i){if(i){if(!m[p]){m[p]=[i];}else if(m[p].indexOf(i)>=0){return;}else{m[p].push(i);}}};C.prototype.checkActive=function(){var E;if(!this.bActive){E=new Error("Response discarded: cache is inactive");E.canceled=true;throw E;}};C.prototype.deregisterChange=function(p,l){this.removeByPath(this.mChangeListeners,p,l);};C.prototype.drillDown=function(D,p){var t=this;function i(j){q.sap.log.error("Failed to drill-down into "+p+", invalid segment: "+j,t.toString(),"sap.ui.model.odata.v4.lib._Cache");}if(p){p.split("/").every(function(j){if(!D||typeof D!=="object"){if(D!==null){i(j);}D=undefined;return false;}D=D[j];if(D===undefined){i(j);return false;}return true;});}return D;};C.prototype.hasPendingChangesForPath=function(p){return Object.keys(this.mPatchRequests).some(function(R){return e(R,p);});};C.prototype.registerChange=function(p,l){this.addByPath(this.mChangeListeners,p,l);};C.prototype.removeByPath=function(m,p,i){var I=m[p],j;if(I){j=I.indexOf(i);if(j>=0){if(I.length===1){delete m[p];}else{I.splice(j,1);}}}};C.prototype.resetChangesForPath=function(p){Object.keys(this.mPatchRequests).forEach(function(R){var i,j;if(e(R,p)){j=this.mPatchRequests[R];for(i=j.length-1;i>=0;i--){this.oRequestor.removePatch(j[i]);}delete this.mPatchRequests[R];}},this);};C.prototype.setActive=function(A){this.bActive=A;if(!A){this.mChangeListeners={};}};C.prototype.toString=function(){return this.oRequestor.getServiceUrl()+this.sResourcePath;};function h(R,i,Q){C.apply(this,arguments);this.sContext=undefined;this.aElements=[];this.sResourcePath+=this.sResourcePath.indexOf("?")>=0?"&":"?";}h.prototype=Object.create(C.prototype);h.prototype._delete=function(G,E,p,i){var j=p.split("/"),D=j.pop(),t=this;return this.fetchValue(G,j.join("/")).then(function(o){var k,H,T;k=o[D];T=k["@$ui5.transient"];if(T===true){throw new Error("No 'delete' allowed while waiting for server response");}if(T){t.oRequestor.removePost(T,k);return Promise.resolve();}if(k["$ui5.deleting"]){throw new Error("Must not delete twice: "+E);}k["$ui5.deleting"]=true;H={"If-Match":k["@odata.etag"]};E+=C.buildQueryString(t.mQueryOptions,true);return t.oRequestor.request("DELETE",E,G,H)["catch"](function(l){if(l.status!==404){delete k["$ui5.deleting"];throw l;}}).then(function(){if(o[D]!==k){D=o.indexOf(k);}if(D==="-1"){delete o[-1];}else{o.splice(D,1);}b(o,-1);i(Number(D));});});};h.prototype.create=function(G,p,i,E,j,k){var t=this;function l(){delete t.aElements[-1];j();}function m(){E["@$ui5.transient"]=true;}function n(o){E["@$ui5.transient"]=o;return t.oRequestor.request("POST",p,o,null,E,m,l).then(function(R){delete E["@$ui5.transient"];b(t.aElements,1);_.updateCache(t.mChangeListeners,"-1",E,R);},function(v){if(v.canceled){throw v;}if(k){k(v);}return n(o==="$auto"||o==="$direct"?"$parked."+o:o);});}E=E?JSON.parse(JSON.stringify(E)):{};this.aElements[-1]=E;E["@odata.etag"]=undefined;p+=C.buildQueryString(this.mQueryOptions,true);return n(G);};h.prototype.fetchValue=function(G,p,D,l){var i,o,j,t=this;this.registerChange(p,l);if(p){j=p.split("/");i=parseInt(j.shift(),10);o=this.read(i,1,G,D);}else{o=a.resolve();}return o.then(function(){t.checkActive();return t.drillDown(t.aElements,p);});};h.prototype.hasPendingChangesForPath=function(p){return!!(p===""&&this.aElements[-1]&&this.aElements[-1]["@$ui5.transient"])||C.prototype.hasPendingChangesForPath.call(this,p);};h.prototype.read=function(I,l,G,D){var i,E=I+l,j=-1,L=this.aElements[-1]?-1:0,k=Math.max(I,0),t=this;if(I<L){throw new Error("Illegal index "+I+", must be >= "+L);}if(l<0){throw new Error("Illegal length "+l+", must be >= 0");}E=Math.min(E,g(this.aElements));for(i=I;i<E;i++){if(this.aElements[i]!==undefined){if(j>=0){r(this,j,i,G,D);D=undefined;j=-1;}}else if(j<0){j=i;}}if(j>=0){r(this,j,E,G,D);D=undefined;}return a.all(this.aElements.slice(k,E)).then(function(){var R;t.checkActive();R={"@odata.context":t.sContext,value:t.aElements.slice(k,E)};R.value.$count=t.aElements.$count;if(I===-1){R.value.unshift(t.aElements[-1]);}return R;});};h.prototype.resetChangesForPath=function(p){var t;if(p===""&&this.aElements[-1]){t=this.aElements[-1]["@$ui5.transient"];if(t){this.oRequestor.removePost(t,this.aElements[-1]);}}C.prototype.resetChangesForPath.call(this,p);};h.prototype.update=function(G,p,v,E,i){return this.fetchValue(G,i).then(u.bind(null,this,G,p,v,E,i));};function P(R,i,Q){C.apply(this,arguments);this.oPromise=null;}P.prototype=Object.create(C.prototype);P.prototype.fetchValue=function(G,p,D,l){var t=this;t.registerChange("",l);if(!this.oPromise){this.oPromise=a.resolve(this.oRequestor.request("GET",this.sResourcePath,G,undefined,undefined,D));}return this.oPromise.then(function(R){t.checkActive();return R.value;});};function S(R,i,Q,p){C.apply(this,arguments);this.bPost=p;this.bPosting=false;this.oPromise=null;}S.prototype=Object.create(C.prototype);S.prototype._delete=function(G,E,p,i){var j=p.split("/"),D=j.pop(),k=j.join("/"),t=this;return this.fetchValue(G,k).then(function(v){var o=D?v[D]:v,H={"If-Match":o["@odata.etag"]};if(o["$ui5.deleting"]){throw new Error("Must not delete twice: "+E);}o["$ui5.deleting"]=true;E+=C.buildQueryString(t.mQueryOptions,true);return t.oRequestor.request("DELETE",E,G,H)["catch"](function(l){if(l.status!==404){delete o["$ui5.deleting"];throw l;}}).then(function(){if(Array.isArray(v)){if(v[D]!==o){D=v.indexOf(o);}v.splice(D,1);b(v,-1);i(Number(D));}else{if(D){v[D]=null;}else{o["$ui5.deleted"]=true;}i();}});});};S.prototype.post=function(G,D,E){var t=this;if(!this.bPost){throw new Error("POST request not allowed");}if(this.bPosting){throw new Error("Parallel POST requests not allowed");}this.oPromise=a.resolve(this.oRequestor.request("POST",this.sResourcePath,G,{"If-Match":E},D).then(function(R){t.bPosting=false;return R;},function(o){t.bPosting=false;throw o;}));this.bPosting=true;return this.oPromise;};S.prototype.fetchValue=function(G,p,D,l){var t=this,R=this.sResourcePath;this.registerChange(p,l);if(!this.oPromise){if(this.bPost){throw new Error("Cannot fetch a value before the POST request");}this.oPromise=a.resolve(this.oRequestor.request("GET",R,G,undefined,undefined,D)).then(function(o){C.computeCount(o);return o;});}return this.oPromise.then(function(o){t.checkActive();if(o["$ui5.deleted"]){throw new Error("Cannot read a deleted entity");}return t.drillDown(o,p);});};S.prototype.update=function(G,p,v,E,i){return this.fetchValue(G,i).then(u.bind(null,this,G,p,v,E,i));};C.buildQueryString=function(Q,D){return _.buildQuery(C.convertQueryOptions(Q,D));};C.convertExpand=function(E){var R=[];if(!E||typeof E!=="object"){throw new Error("$expand must be a valid object");}Object.keys(E).forEach(function(i){var v=E[i];if(v&&typeof v==="object"){R.push(C.convertExpandOptions(i,v));}else{R.push(i);}});return R.join(",");};C.convertExpandOptions=function(E,v){var i=[];c(v,function(o,O){i.push(o+'='+O);});return i.length?E+"("+i.join(";")+")":E;};C.convertQueryOptions=function(Q,D){var m={};if(!Q){return undefined;}c(Q,function(k,v){m[k]=v;},D);return m;};C.create=function(R,i,Q){return new h(R,i,Q);};C.createProperty=function(R,i,Q){return new P(R,i,Q);};C.createSingle=function(R,i,Q,p){return new S(R,i,Q,p);};C.computeCount=function(R){Object.keys(R).forEach(function(k){var i,v=R[k];if(Array.isArray(v)){i=R[k+"@odata.count"];if(i){s(v,i);}else if(!R[k+"@odata.nextLink"]){s(v,v.length);}v.forEach(C.computeCount);}else if(v&&typeof v==="object"){C.computeCount(v);}});};return C;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_Helper',["jquery.sap.global"],function(q){"use strict";var r=/&/g,a=/\=/g,b=/#/g,c=/\+/g,d=/'/g,H;H={buildPath:function(){var i,p=[],s;for(i=0;i<arguments.length;i++){s=arguments[i];if(s||s===0){p.push(s==="/"?"":s);}}return p.join("/");},buildQuery:function(p){var k,Q;if(!p){return"";}k=Object.keys(p);if(k.length===0){return"";}Q=[];k.forEach(function(K){var v=p[K];if(Array.isArray(v)){v.forEach(function(i){Q.push(H.encodePair(K,i));});}else{Q.push(H.encodePair(K,v));}});return"?"+Q.join("&");},createError:function(j){var B=j.responseText,C=j.getResponseHeader("Content-Type"),R=new Error(j.status+" "+j.statusText);R.status=j.status;R.statusText=j.statusText;if(j.status===0){R.message="Network error";return R;}if(C){C=C.split(";")[0];}if(j.status===412){R.isConcurrentModification=true;}if(C==="application/json"){try{R.error=JSON.parse(B).error;R.message=R.error.message;}catch(e){q.sap.log.warning(e.toString(),B,"sap.ui.model.odata.v4.lib._Helper");}}else if(C==="text/plain"){R.message=B;}return R;},encode:function(p,e){var E=encodeURI(p).replace(r,"%26").replace(b,"%23").replace(c,"%2B");if(e){E=E.replace(a,"%3D");}return E;},encodePair:function(k,v){return H.encode(k,true)+"="+H.encode(v,false);},formatLiteral:function(v,t){if(v===undefined){throw new Error("Illegal value: undefined");}if(v===null){return"null";}switch(t){case"Edm.Binary":return"binary'"+v+"'";case"Edm.Boolean":case"Edm.Byte":case"Edm.Double":case"Edm.Int16":case"Edm.Int32":case"Edm.SByte":case"Edm.Single":return String(v);case"Edm.Date":case"Edm.DateTimeOffset":case"Edm.Decimal":case"Edm.Guid":case"Edm.Int64":case"Edm.TimeOfDay":return v;case"Edm.Duration":return"duration'"+v+"'";case"Edm.String":return"'"+v.replace(d,"''")+"'";default:throw new Error("Unsupported type: "+t);}},getKeyPredicate:function(e,E){var k=[],s=e.$Key.length===1;if(!E){throw new Error("No instance to calculate key predicate");}e.$Key.forEach(function(n){var v=E[n];if(v===undefined){throw new Error("Missing value for key property '"+n+"'");}v=encodeURIComponent(H.formatLiteral(v,e[n].$Type));k.push(s?v:encodeURIComponent(n)+"="+v);});return"("+k.join(",")+")";},isSafeInteger:function(n){if(typeof n!=="number"||!isFinite(n)){return false;}n=Math.abs(n);return n<=9007199254740991&&Math.floor(n)===n;},toArray:function(e){if(e===undefined||e===null){return[];}if(Array.isArray(e)){return e;}return[e];},updateCache:function(C,p,o,P){function f(s,v){var l=C[s],i;if(l){for(i=0;i<l.length;i++){l[i].onChange(v);}}}function e(p,v,R){Object.keys(v).forEach(function(s){var g=H.buildPath(p,s),V=v[s];if(V&&typeof V==="object"){e(g,V,R);}else{f(g,R?undefined:V);}});}Object.keys(o).forEach(function(s){var g=H.buildPath(p,s),O=o[s],n;if(s in P){n=P[s];if(n&&typeof n==="object"){if(O){H.updateCache(C,g,O,n);}else{o[s]=n;e(g,n,false);}}else if(O&&typeof O==="object"){e(g,O,true);o[s]=n;}else{if(O!==n){f(g,n);}o[s]=n;}}});}};return H;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_MetadataConverter',["./_Helper"],function(_){"use strict";var M,r=/^Collection\((.*)\)$/,a={"AnnotationPath":{__postProcessor:w},"Binary":{__postProcessor:w},"Bool":{__postProcessor:w},"Date":{__postProcessor:w},"DateTimeOffset":{__postProcessor:w},"Decimal":{__postProcessor:w},"Duration":{__postProcessor:w},"EnumMember":{__postProcessor:w},"Float":{__postProcessor:w},"Guid":{__postProcessor:w},"Int":{__postProcessor:w},"LabeledElementReference":{__postProcessor:v},"NavigationPropertyPath":{__postProcessor:w},"Path":{__postProcessor:w},"PropertyPath":{__postProcessor:w},"String":{__postProcessor:w},"TimeOfDay":{__postProcessor:w}},e=[a],A={"Annotation":{__processor:K,__postProcessor:p,__include:e}},b=[a,A],o={__processor:I,__postProcessor:C,__include:b},c={"And":o,"Apply":{__processor:I,__postProcessor:n,__include:b},"Cast":{__processor:I,__postProcessor:q,__include:b},"Collection":{__postProcessor:t,__include:e},"Eq":o,"Ge":o,"Gt":o,"If":o,"IsOf":{__processor:I,__postProcessor:q,__include:b},"LabeledElement":{__processor:I,__postProcessor:u,__include:b},"Le":o,"Lt":o,"Ne":o,"Null":{__processor:I,__postProcessor:y,__include:[A]},"Not":{__processor:I,__postProcessor:x,__include:b},"Or":o,"Record":{__processor:I,__postProcessor:B,__include:[A],"PropertyValue":{__processor:$,__postProcessor:z,__include:b}},"UrlRef":{__postProcessor:D,__include:e}},d={"Reference":{"Include":{__processor:H}},"DataServices":{"Schema":{__processor:H}}},s={"Property":{__processor:l1,__include:[A]},"NavigationProperty":{__processor:i1,__include:[A],"OnDelete":{__processor:j1,__include:[A]},"ReferentialConstraint":{__processor:k1,__include:[A]}}},E={"NavigationPropertyBinding":{__processor:Y}},f={"Parameter":{__processor:Z,__include:[A]},"ReturnType":{__processor:b1,__include:[A]}},F={__processor:O,"Reference":{__processor:a1,__include:[A],"Include":{__processor:W},"IncludeAnnotations":{__processor:X}},"DataServices":{"Schema":{__processor:c1,__include:[A],"Action":{__processor:G,__include:[f,A]},"Annotations":{__processor:J,__include:[A]},"Function":{__processor:G,__include:[f,A]},"EntityType":{__processor:R,__include:[s,A],"Key":{"PropertyRef":{__processor:S}}},"ComplexType":{__processor:N,__include:[s,A]},"EntityContainer":{__processor:P,__include:[A],"ActionImport":{__processor:V.bind(null,"Action"),__include:[A]},"EntitySet":{__processor:Q,__include:[E,A]},"FunctionImport":{__processor:V.bind(null,"Function"),__include:[A]},"Singleton":{__processor:d1,__include:[E,A]}},"EnumType":{__processor:T,__include:[A],"Member":{__processor:U,__include:[A]}},"Term":{__processor:e1,__include:[A]},"TypeDefinition":{__processor:h1,__include:[A]}}}};e.push(c);b.push(c);A.Annotation.Annotation=A.Annotation;function g(i,j,r1,s1){var t1,u1,v1;if(typeof j==="string"){t1=i.annotatable;j=_.buildPath(t1.path,j);v1=j;u1=i.schema.$Annotations;if(u1&&u1[j]){j=u1[j];}}i.annotatable={parent:i.annotatable,path:v1,prefix:r1||"",qualifier:s1,target:j};}function h(i,j){var r1=i[j];if(!r1){r1=i[j]=[];}return r1;}function k(i,j){var r1=i[j];if(!r1){r1=i[j]={};}return r1;}function l(j,r1,s1){var i,t1,u1;switch(j){case"AnnotationPath":case"NavigationPropertyPath":case"Path":case"PropertyPath":r1=M.resolveAliasInPath(r1,s1);case"Binary":case"Date":case"DateTimeOffset":case"Decimal":case"Duration":case"Guid":case"TimeOfDay":case"UrlRef":t1={};t1["$"+j]=r1;return t1;case"Bool":return r1==="true";case"EnumMember":u1=r1.trim().replace(/ +/g," ").split(" ");for(i=0;i<u1.length;i++){u1[i]=M.resolveAliasInPath(u1[i],s1);}return{$EnumMember:u1.join(" ")};case"Float":if(r1==="NaN"||r1==="INF"||r1==="-INF"){return{$Float:r1};}return parseFloat(r1);case"Int":t1=parseInt(r1,10);return _.isSafeInteger(t1)?t1:{$Int:r1};case"String":return r1;default:return undefined;}}function m(j,r1){var s1,t1=j.attributes,i,u1;for(i=t1.length-1;i>=0;i--){s1=t1.item(i);u1=l(s1.name,s1.value,r1);if(u1!==undefined){return u1;}}return true;}function p(i,j,r1){var s1=r1.annotatable.parent;s1.target[s1.qualifiedName]=j.length?j[0]:m(i,r1);}function n(i,j,r1){var s1=r1.annotatable.target;s1.$Apply=j;s1.$Function=M.resolveAlias(i.getAttribute("Function"),r1);return s1;}function q(i,j,r1){var s1=i.localName,t1=r1.annotatable.target;t1["$"+s1]=j[0];g1(i.getAttribute("Type"),t1,r1);M.processFacetAttributes(i,t1);return t1;}function t(i,j,r1){return j;}function u(i,j,r1){var s1=r1.annotatable.target;s1.$LabeledElement=j.length?j[0]:m(i,r1);s1.$Name=i.getAttribute("Name");return s1;}function v(i,j,r1){return{"$LabeledElementReference":M.resolveAlias(i.textContent,r1)};}function w(i,j,r1){return l(i.localName,i.textContent,r1);}function x(i,j,r1){var s1=r1.annotatable.target;s1.$Not=j[0];return s1;}function y(i,j,r1){var s1=r1.annotatable,t1=null;if(s1.qualifiedName){t1=s1.target;t1.$Null=null;}return t1;}function z(i,j,r1){return{property:i.getAttribute("Property"),value:j.length?j[0]:m(i,r1)};}function B(j,r1,s1){var i,t1,u1=s1.annotatable.target,v1=j.getAttribute("Type");if(v1){u1.$Type=M.resolveAlias(v1,s1);}for(i=0;i<r1.length;i++){t1=r1[i];u1[t1.property]=t1.value;}return u1;}function C(i,j,r1){var s1=r1.annotatable.target;s1["$"+i.localName]=j;return s1;}function D(i,j){return{$UrlRef:j[0]};}function G(i,j){var r1=i.localName,s1=j.namespace+i.getAttribute("Name"),t1={$kind:r1};L(i,t1,{"IsBound":o1,"EntitySetPath":q1,"IsComposable":o1});h(j.result,s1).push(t1);j.actionOrFunction=t1;g(j,t1);}function H(i,j){var r1=i.getAttribute("Alias");if(r1){j.aliases[r1]=i.getAttribute("Namespace")+".";}}function I(i,j){g(j,{});}function J(i,j){g(j,M.resolveAliasInPath(i.getAttribute("Target"),j),undefined,i.getAttribute("Qualifier"));}function K(i,j){var r1=j.annotatable,s1,t1=r1.prefix+"@"+M.resolveAlias(i.getAttribute("Term"),j),u1=r1.qualifier||i.getAttribute("Qualifier");if(u1){t1+="#"+u1;}if(typeof r1.target==="string"){s1=k(j.schema,"$Annotations");r1.target=s1[r1.target]={};}r1.qualifiedName=t1;r1.target[t1]=true;g(j,r1.target,t1);}function L(i,j,r1){var s1;for(s1 in r1){var t1=r1[s1](i.getAttribute(s1));if(t1!==undefined&&t1!==null){j["$"+s1]=t1;}}}function N(i,j){f1(i,j,{"$kind":"ComplexType"});}function O(i,j){L(i,j.result,{"Version":q1});}function P(i,j){var r1=j.namespace+i.getAttribute("Name");j.result[r1]=j.entityContainer={"$kind":"EntityContainer"};j.result.$EntityContainer=r1;g(j,r1);}function Q(i,j){var r1=i.getAttribute("Name");j.entityContainer[r1]=j.entitySet={$kind:"EntitySet",$Type:M.resolveAlias(i.getAttribute("EntityType"),j)};L(i,j.entitySet,{"IncludeInServiceDocument":n1});g(j,r1);}function R(i,j){f1(i,j,{$kind:"EntityType"});}function S(i,j){var r1=i.getAttribute("Alias"),s1,t1=i.getAttribute("Name");if(r1){s1={};s1[r1]=t1;}else{s1=t1;}h(j.type,"$Key").push(s1);}function T(i,j){var r1=j.namespace+i.getAttribute("Name"),s1={"$kind":"EnumType"};L(i,s1,{"IsFlags":o1,"UnderlyingType":function(t1){return t1!=="Edm.Int32"?t1:undefined;}});j.result[r1]=j.enumType=s1;j.enumTypeMemberCounter=0;g(j,r1);}function U(i,j){var r1=i.getAttribute("Name"),s1=i.getAttribute("Value"),t1;if(s1){t1=parseInt(s1,10);if(!_.isSafeInteger(t1)){t1=s1;}}else{t1=j.enumTypeMemberCounter;j.enumTypeMemberCounter++;}j.enumType[r1]=t1;g(j,r1);}function V(i,j,r1){var s1={$kind:i+"Import"},t1=j.getAttribute("Name");s1["$"+i]=M.resolveAlias(j.getAttribute(i),r1);L(j,s1,{"EntitySet":function(u1){return m1(u1,r1);},"IncludeInServiceDocument":o1});r1.entityContainer[t1]=s1;g(r1,t1);}function W(i,j){var r1=h(j.reference,"$Include");r1.push(i.getAttribute("Namespace")+".");}function X(i,j){var r1=j.reference,s1={"$TermNamespace":i.getAttribute("TermNamespace")+"."},t1=h(r1,"$IncludeAnnotations");L(i,s1,{"TargetNamespace":function q1(u1){return u1?u1+".":u1;},"Qualifier":q1});t1.push(s1);}function Y(i,j){var r1=k(j.entitySet,"$NavigationPropertyBinding");r1[i.getAttribute("Path")]=m1(i.getAttribute("Target"),j);}function Z(i,j){var r1=j.actionOrFunction,s1={};g1(i.getAttribute("Type"),s1,j);L(i,s1,{"Name":q1,"Nullable":n1});M.processFacetAttributes(i,s1);h(r1,"$Parameter").push(s1);g(j,s1);}function $(i,j){g(j,j.annotatable.target,i.getAttribute("Property"));}function a1(i,j){var r1=k(j.result,"$Reference");j.reference=r1[i.getAttribute("Uri")]={};g(j,j.reference);}function b1(i,j){var r1=j.actionOrFunction,s1={};g1(i.getAttribute("Type"),s1,j);L(i,s1,{"Nullable":n1});M.processFacetAttributes(i,s1);r1.$ReturnType=s1;g(j,s1);}function c1(i,j){j.namespace=i.getAttribute("Namespace")+".";j.result[j.namespace]=j.schema={"$kind":"Schema"};g(j,j.schema);}function d1(i,j){var r1=i.getAttribute("Name");j.entityContainer[r1]=j.entitySet={$kind:"Singleton",$Type:M.resolveAlias(i.getAttribute("Type"),j)};g(j,r1);}function e1(i,j){var r1=j.namespace+i.getAttribute("Name"),s1={$kind:"Term"};g1(i.getAttribute("Type"),s1,j);L(i,s1,{"Nullable":n1,"BaseTerm":function(t1){return t1?M.resolveAlias(t1,j):undefined;}});M.processFacetAttributes(i,s1);j.result[r1]=s1;g(j,r1);}function f1(i,j,r1){var s1=j.namespace+i.getAttribute("Name");L(i,r1,{"OpenType":o1,"HasStream":o1,"Abstract":o1,"BaseType":q1});j.result[s1]=j.type=r1;g(j,s1);}function g1(i,j,r1){var s1=r.exec(i);if(s1){j.$isCollection=true;i=s1[1];}j.$Type=M.resolveAlias(i,r1);}function h1(i,j){var r1=j.namespace+i.getAttribute("Name"),s1={"$kind":"TypeDefinition","$UnderlyingType":i.getAttribute("UnderlyingType")};j.result[r1]=s1;M.processFacetAttributes(i,s1);g(j,r1);}function i1(i,j){var r1=i.getAttribute("Name"),s1={$kind:"NavigationProperty"};g1(i.getAttribute("Type"),s1,j);L(i,s1,{"Nullable":n1,"Partner":q1,"ContainsTarget":o1});j.type[r1]=j.navigationProperty=s1;g(j,r1);}function j1(i,j){j.navigationProperty.$OnDelete=i.getAttribute("Action");g(j,j.navigationProperty,"$OnDelete");}function k1(i,j){var r1=i.getAttribute("Property"),s1=k(j.navigationProperty,"$ReferentialConstraint");s1[r1]=i.getAttribute("ReferencedProperty");g(j,s1,r1);}function l1(i,j){var r1=i.getAttribute("Name"),s1={"$kind":"Property"};g1(i.getAttribute("Type"),s1,j);L(i,s1,{"Nullable":n1,"DefaultValue":q1});M.processFacetAttributes(i,s1);j.type[r1]=s1;g(j,r1);}function m1(i,j){var r1;if(!i){return i;}i=M.resolveAliasInPath(i,j);r1=i.indexOf("/");if(r1>=0&&i.indexOf("/",r1+1)<0){if(i.slice(0,r1)===j.result.$EntityContainer){return i.slice(r1+1);}}return i;}function n1(i){return i==="false"?false:undefined;}function o1(i){return i==="true"?true:undefined;}function p1(i){return i?parseInt(i,10):undefined;}function q1(i){return i;}M={convertXMLMetadata:function(i){var j,r1;jQuery.sap.measure.average("convertXMLMetadata","","sap.ui.model.odata.v4.lib._MetadataConverter");j={"actionOrFunction":null,"aliases":{},"annotatable":null,"entityContainer":null,"entitySet":null,"enumType":null,"enumTypeMemberCounter":0,"namespace":null,"navigationProperty":null,"reference":null,"schema":null,"type":null,"result":{}};r1=i.documentElement;M.traverse(r1,j,d);M.traverse(r1,j,F);jQuery.sap.measure.end("convertXMLMetadata");return j.result;},processFacetAttributes:function(i,j){L(i,j,{"MaxLength":p1,"Precision":p1,"Scale":function(r1){return r1==="variable"?r1:p1(r1);},"SRID":q1,"Unicode":n1});},resolveAlias:function(i,j){var r1=i.indexOf("."),s1;if(r1>=0&&i.indexOf(".",r1+1)<0){s1=j.aliases[i.slice(0,r1)];if(s1){return s1+i.slice(r1+1);}}return i;},resolveAliasInPath:function(j,r1){var s1,i,t1,u1="";if(j.indexOf(".")<0){return j;}s1=j.indexOf("@");if(s1>=0){u1="@"+M.resolveAlias(j.slice(s1+1),r1);j=j.slice(0,s1);}t1=j.split("/");for(i=0;i<t1.length;i++){t1[i]=M.resolveAlias(t1[i],r1);}return t1.join("/")+u1;},traverse:function(r1,s1,t1){var u1=s1.annotatable,v1,w1=r1.childNodes,x1,y1,i,z1,j,A1,B1,C1=[];if(t1.__processor){t1.__processor(r1,s1);}for(i=0;i<w1.length;i++){x1=w1.item(i);if(x1.nodeType===1){A1=x1.localName;v1=t1[A1];if(!v1&&t1.__include){z1=t1.__include;for(j=0;j<z1.length;j++){v1=z1[j][A1];if(v1){break;}}}if(v1){y1=M.traverse(x1,s1,v1);if(y1!==undefined&&t1.__postProcessor){C1.push(y1);}}}}if(t1.__postProcessor){B1=t1.__postProcessor(r1,C1,s1);}s1.annotatable=u1;return B1;}};return M;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_MetadataRequestor',["jquery.sap.global","./_Helper","./_MetadataConverter"],function(q,_,a){"use strict";return{create:function(h,Q){var s=_.buildQuery(Q);return{read:function(u,S){return new Promise(function(r,R){q.ajax(S?u:u+s,{method:"GET",headers:h}).then(function(d){r(d);},function(j,t,e){R(_.createError(j));});}).then(function(x){return a.convertXMLMetadata(x);});}};}};},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_Parser',[],function(){"use strict";var s,r=/^(?:[=(),;*]|\$expand|\$select|([a-zA-Z_\u0080-\uFFFF][/\w\u0080-\uFFFF]*))/,P;s={"$expand":{nud:function(T,o){var E={},b,q,Q,v;o.advance("=");do{v=null;b=o.advance("PATH").value;if(o.advanceIf("(")){v={};do{q=o.systemQueryOption(0);Q=Object.keys(q)[0];v[Q]=q[Q];}while(o.advanceIf(";"));o.advance(")");}E[b]=v;}while(o.advanceIf(","));return{"$expand":E};}},"$select":{nud:function(T,o){var S=[];o.advance("=");if(o.advanceIf("*")){return{"$select":["*"]};}do{S.push(o.advance("PATH").value);}while(o.advanceIf(","));return{"$select":S};}},"PATH":{nud:a},"*":{nud:a},"=":{nud:a},",":{nud:a},";":{nud:a},"(":{nud:a},")":{nud:a}};function e(w,T){if(!T){throw new SyntaxError("Expected "+w+" but instead saw end of input");}throw new SyntaxError("Expected "+w+" but instead saw '"+T.value+"' at "+T.at);}function a(T){e("option",T);}function p(T){var c=0,R,o;function b(E){var o=T[c];if(E&&(!o||o.id!==E)){e("'"+E+"'",o);}c+=1;return o;}function d(E){var o=T[c];if(o&&o.id===E){c+=1;return true;}return false;}function f(g){var l,h={advance:b,advanceIf:d,systemQueryOption:f};o=b();if(!o){throw new SyntaxError("Expected option but instead saw end of input");}l=s[o.id].nud(o,h);return l;}R=f(0);if(c<T.length){e("end of input",T[c]);}return R;}function t(o){var A=0,m,T,b=[];while(o.length){m=r.exec(o);if(m){T={at:A,id:m[1]?"PATH":m[0],value:m[0]};}else{throw new SyntaxError("Unknown character '"+o[0]+"' at "+A);}o=o.slice(m[0].length);A+=m[0].length;b.push(T);}return b;}P={parseSystemQueryOption:function(o){return p(t(o));}};return P;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_Requestor',["jquery.sap.global","./_Batch","./_Helper"],function(q,_,a){"use strict";var b={"Accept":"multipart/mixed"},f={"Content-Type":"application/json;charset=UTF-8;IEEE754Compatible=true"},p={"Accept":"application/json;odata.metadata=minimal;IEEE754Compatible=true"},P={"Accept":"application/json;odata.metadata=minimal;IEEE754Compatible=true","OData-MaxVersion":"4.0","OData-Version":"4.0","X-CSRF-Token":"Fetch"},c;function d(r,G){var B=r.mBatchQueue[G];if(B[0].length===0&&B.length===1){delete r.mBatchQueue[G];}}function g(h){var r;h=h.toLowerCase();for(r in this.headers){if(r.toLowerCase()===h){return this.headers[r];}}}function R(s,h,Q,o){this.mBatchQueue={};this.mHeaders=h||{};this.fnOnCreateGroup=o;this.sQueryParams=a.buildQuery(Q);this.mRunningChangeRequests={};this.oSecurityTokenPromise=null;this.sServiceUrl=s;}R.prototype.batchRequestSent=function(G,h){if(h){if(G in this.mRunningChangeRequests){this.mRunningChangeRequests[G]+=1;}else{this.mRunningChangeRequests[G]=1;}}};R.prototype.batchResponseReceived=function(G,h){if(h){this.mRunningChangeRequests[G]-=1;if(this.mRunningChangeRequests[G]===0){delete this.mRunningChangeRequests[G];}}};R.prototype.cancelChangeRequests=function(F,G){var C=false,t=this;function e(s){var B=t.mBatchQueue[s],o,h,E,i;h=B[0];for(i=h.length-1;i>=0;i--){o=h[i];if(o.$cancel&&F(o)){o.$cancel();E=new Error("Request canceled: "+o.method+" "+o.url+"; group: "+s);E.canceled=true;o.$reject(E);h.splice(i,1);C=true;}}d(t,s);}if(G){if(this.mBatchQueue[G]){e(G);}}else{for(G in this.mBatchQueue){e(G);}}return C;};R.prototype.cancelChanges=function(G){if(this.mRunningChangeRequests[G]){throw new Error("Cannot cancel the changes for group '"+G+"', the batch request is running");}this.cancelChangeRequests(function(){return true;},G);};R.prototype.getServiceUrl=function(){return this.sServiceUrl;};R.prototype.hasPendingChanges=function(){var G,e;for(G in this.mBatchQueue){e=this.mBatchQueue[G][0].some(function(r){return r.$cancel;});if(e){return true;}}return Object.keys(this.mRunningChangeRequests).length>0;};R.prototype.refreshSecurityToken=function(){var t=this;if(!this.oSecurityTokenPromise){this.oSecurityTokenPromise=new Promise(function(r,e){q.ajax(t.sServiceUrl+t.sQueryParams,{method:"HEAD",headers:{"X-CSRF-Token":"Fetch"}}).then(function(D,T,j){t.mHeaders["X-CSRF-Token"]=j.getResponseHeader("X-CSRF-Token");t.oSecurityTokenPromise=null;r();},function(j,T,E){t.oSecurityTokenPromise=null;e(a.createError(j));});});}return this.oSecurityTokenPromise;};R.prototype.removePatch=function(o){var C=this.cancelChangeRequests(function(e){return e.$promise===o;});if(!C){throw new Error("Cannot reset the changes, the batch request is running");}};R.prototype.removePost=function(G,B){var C=this.cancelChangeRequests(function(o){return o.body===B;},G);if(!C){throw new Error("Cannot reset the changes, the batch request is running");}};R.prototype.request=function(m,r,G,h,o,s,C,i){var t=this,B,I=r==="$batch",e,j,k;G=G||"$direct";if(I){B=_.serializeBatchRequest(c.cleanBatch(o));e=B.body;}else{if(G!=="$direct"){j=new Promise(function(l,n){var u=t.mBatchQueue[G];if(!u){u=t.mBatchQueue[G]=[[]];if(t.fnOnCreateGroup){t.fnOnCreateGroup(G);}}k={method:m,url:r,headers:q.extend({},p,t.mHeaders,h,f),body:o,$cancel:C,$reject:n,$resolve:l,$submit:s};if(m==="GET"){u.push(k);}else{u[0].push(k);}});k.$promise=j;return j;}e=JSON.stringify(c.cleanPayload(o));if(s){s();}}return new Promise(function(l,n){q.ajax(t.sServiceUrl+r+(I?t.sQueryParams:""),{data:e,headers:q.extend({},P,t.mHeaders,h,I?B.headers:f),method:m}).then(function(o,T,u){t.mHeaders["X-CSRF-Token"]=u.getResponseHeader("X-CSRF-Token")||t.mHeaders["X-CSRF-Token"];if(I){o=_.deserializeBatchResponse(u.getResponseHeader("Content-Type"),o);}l(o);},function(u,T,E){var v=u.getResponseHeader("X-CSRF-Token");if(!i&&u.status===403&&v&&v.toLowerCase()==="required"){t.refreshSecurityToken().then(function(){l(t.request(m,r,G,h,o,undefined,undefined,true));},n);}else{n(a.createError(u));}});});};R.prototype.relocate=function(C,B,n){var r=this.mBatchQueue[C],t=this,F=r&&r[0].some(function(o,i){if(o.body===B){t.request(o.method,o.url,n,o.headers,B,o.$submit,o.$cancel).then(o.$resolve,o.$reject);r[0].splice(i,1);d(t,C);return true;}});if(!F){throw new Error("Request not found in group '"+C+"'");}};R.prototype.submitBatch=function(G){var C=[],h,o,r=this.mBatchQueue[G],t=this;function m(o,j){var B,k,s;if(o&&o.method==="PATCH"&&j.method==="PATCH"&&o.url===j.url&&q.sap.equal(o.headers,j.headers)){k=o.body;B=j.body;for(s in k){if(k[s]===null&&B[s]&&typeof B[s]==="object"){return undefined;}}return q.extend(true,k,B);}return undefined;}function v(r,j){var k;r.forEach(function(l,n){var E,s=j[n];if(Array.isArray(s)){v(l,s);}else if(!s){E=new Error("HTTP request was not processed because the previous request failed");E.cause=k;l.$reject(E);}else if(s.status>=400){s.getResponseHeader=g;k=a.createError(s);i(k,l);}else if(s.responseText){l.$resolve(JSON.parse(s.responseText));}else{l.$resolve();}});}function e(j){if(Array.isArray(j)){j.forEach(e);}else if(j.$submit){j.$submit();}}function i(E,j){if(Array.isArray(j)){j.forEach(i.bind(null,E));}else{j.$reject(E);}}if(!r){return Promise.resolve();}delete this.mBatchQueue[G];e(r);r[0].forEach(function(j){var M=m(o,j);if(M){o.body=M;j.$resolve(o.$promise);}else{C.push(j);o=j;}});if(C.length===0){r.splice(0,1);}else if(C.length===1){r[0]=C[0];}else{r[0]=C;}h=C.length>0;this.batchRequestSent(G,h);return this.request("POST","$batch",undefined,b,r).then(function(j){t.batchResponseReceived(G,h);v(r,j);}).catch(function(E){var j=new Error("HTTP request was not processed because $batch failed");function k(r){r.forEach(function(l){if(Array.isArray(l)){k(l);}else{l.$reject(j);}});}t.batchResponseReceived(G,h);j.cause=E;k(r);throw E;});};c={cleanBatch:function(r){r.forEach(function(o){if(Array.isArray(o)){c.cleanBatch(o);}else{o.body=c.cleanPayload(o.body);}});return r;},cleanPayload:function(o){var r=o;if(r){Object.keys(r).forEach(function(k){if(k.indexOf("@$ui5.")===0){if(r===o){r=q.extend({},o);}delete r[k];}});}return r;},create:function(s,h,Q,o){return new R(s,h,Q,o);}};return c;},false);
sap.ui.predefine('sap/ui/model/odata/v4/lib/_SyncPromise',[],function(){"use strict";function S(p,c,v){var f=false,P,R=false,t=this,a=t;function b(){if(P===0){a=v;f=true;}}if(v){P=v.length;b();v.forEach(function(V,i){r(V).then(function(d){v[i]=d;P-=1;b();},function(d){if(!R){a=d;R=true;}});});}else if(typeof c==="function"){try{a=c(p.getResult());f=true;p=null;if(a instanceof Promise||a instanceof S){return new S(a);}}catch(e){a=e;R=true;p=null;}}else if(p instanceof Promise||p instanceof S){p.then(function(d){a=d;f=true;p=null;},function(d){a=d;R=true;p=null;});}else{a=p;f=true;}this.catch=function(o){return this.then(undefined,o);};this.getResult=function(){return a;};this.isFulfilled=function(){return f;};this.isRejected=function(){return R;};this.then=function(o,O){if(f||R){return new S(t,f?o:O);}if(!p){p=Promise.all(v);}return new S(p.then(o,O));};}function r(p){return p instanceof S?p:new S(p);}return{all:function(v){return new S(null,null,v.slice());},createGetMethod:function(f,t){return function(){var s=this[f].apply(this,arguments);if(s.isFulfilled()){return s.getResult();}else if(t){throw s.isRejected()?s.getResult():new Error("Result pending");}};},createRequestMethod:function(f){return function(){return Promise.resolve(this[f].apply(this,arguments));};},resolve:r};});
sap.ui.predefine('sap/ui/model/type/Boolean',['sap/ui/model/SimpleType','sap/ui/model/FormatException','sap/ui/model/ParseException'],function(S,F,P){"use strict";var B=S.extend("sap.ui.model.type.Boolean",{constructor:function(){S.apply(this,arguments);this.sName="Boolean";}});B.prototype.formatValue=function(v,i){if(v==undefined||v==null){return null;}switch(this.getPrimitiveType(i)){case"boolean":case"any":return v;case"string":return v.toString();case"int":case"float":default:throw new F("Don't know how to format Boolean to "+i);}};B.prototype.parseValue=function(v,i){var b;switch(this.getPrimitiveType(i)){case"boolean":return v;case"string":if(v.toLowerCase()=="true"||v=="X"){return true;}if(v.toLowerCase()=="false"||v==""||v==" "){return false;}b=sap.ui.getCore().getLibraryResourceBundle();throw new P(b.getText("Boolean.Invalid"));case"int":case"float":default:throw new P("Don't know how to parse Boolean from "+i);}};B.prototype.validateValue=function(v){};return B;});
sap.ui.predefine('sap/ui/model/type/Currency',['jquery.sap.global','sap/ui/core/format/NumberFormat','sap/ui/model/CompositeType','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,N,C,F,P,V){"use strict";var a=C.extend("sap.ui.model.type.Currency",{constructor:function(){C.apply(this,arguments);this.sName="Currency";this.bUseRawValues=true;}});a.prototype.formatValue=function(v,i){var b=v;if(v==undefined||v==null){return null;}if(this.oInputFormat){b=this.oInputFormat.parse(v);}if(!q.isArray(b)){throw new F("Cannot format currency: "+v+" has the wrong format");}if(b[0]==undefined||b[0]==null){return null;}switch(this.getPrimitiveType(i)){case"string":return this.oOutputFormat.format(b);case"int":case"float":case"any":default:throw new F("Don't know how to format currency to "+i);}};a.prototype.parseValue=function(v,i){var r,b;switch(this.getPrimitiveType(i)){case"string":r=this.oOutputFormat.parse(v);if(!q.isArray(r)){b=sap.ui.getCore().getLibraryResourceBundle();throw new P(b.getText("Currency.Invalid",[v]));}break;case"int":case"float":default:throw new P("Don't know how to parse Currency from "+i);}if(this.oInputFormat){r=this.oInputFormat.format(r);}return r;};a.prototype.validateValue=function(v){if(this.oConstraints){var b=sap.ui.getCore().getLibraryResourceBundle(),c=[],m=[],d=v,i;if(this.oInputFormat){d=this.oInputFormat.parse(v);}i=d[0];q.each(this.oConstraints,function(n,o){switch(n){case"minimum":if(i<o){c.push("minimum");m.push(b.getText("Currency.Minimum",[o]));}break;case"maximum":if(i>o){c.push("maximum");m.push(b.getText("Currency.Maximum",[o]));}}});if(c.length>0){throw new V(m.join(" "),c);}}};a.prototype.setFormatOptions=function(f){this.oFormatOptions=f;this._createFormats();};a.prototype._handleLocalizationChange=function(){this._createFormats();};a.prototype._createFormats=function(){var s=this.oFormatOptions.source;this.oOutputFormat=N.getCurrencyInstance(this.oFormatOptions);if(s){if(q.isEmptyObject(s)){s={groupingEnabled:false,groupingSeparator:",",decimalSeparator:"."};}this.oInputFormat=N.getCurrencyInstance(s);}};return a;});
sap.ui.predefine('sap/ui/model/type/Date',['jquery.sap.global','sap/ui/core/format/DateFormat','sap/ui/model/SimpleType','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,D,S,F,P,V){"use strict";var a=S.extend("sap.ui.model.type.Date",{constructor:function(){S.apply(this,arguments);this.sName="Date";}});a.prototype.formatValue=function(v,i){switch(this.getPrimitiveType(i)){case"string":case"any":if(v==null){return"";}if(this.oInputFormat){if(this.oFormatOptions.source.pattern=="timestamp"){if(typeof(v)!="number"){if(isNaN(v)){throw new F("Cannot format date: "+v+" is not a valid Timestamp");}else{v=parseInt(v,10);}}v=new Date(v);}else{if(v==""){return"";}v=this.oInputFormat.parse(v);if(v==null){throw new F("Cannot format date: "+v+" has the wrong format");}}}return this.oOutputFormat.format(v);default:throw new F("Don't know how to format Date to "+i);}};a.prototype.parseValue=function(v,i){var r,b;switch(this.getPrimitiveType(i)){case"string":if(v===""){return null;}var r=this.oOutputFormat.parse(v);if(!r){b=sap.ui.getCore().getLibraryResourceBundle();throw new P(b.getText(this.sName+".Invalid"));}if(this.oInputFormat){if(this.oFormatOptions.source.pattern=="timestamp"){r=r.getTime();}else{r=this.oInputFormat.format(r);}}return r;default:throw new P("Don't know how to parse Date from "+i);}};a.prototype.validateValue=function(v){if(this.oConstraints){var b=sap.ui.getCore().getLibraryResourceBundle(),c=[],m=[],i=this.oInputFormat,t=this;if(i&&this.oFormatOptions.source.pattern!="timestamp"){v=i.parse(v);}q.each(this.oConstraints,function(n,C){if(i){C=i.parse(C);}switch(n){case"minimum":if(v<C){c.push("minimum");m.push(b.getText(t.sName+".Minimum",[C]));}break;case"maximum":if(v>C){c.push("maximum");m.push(b.getText(t.sName+".Maximum",[C]));}}});if(c.length>0){throw new V(m.join(" "),c);}}};a.prototype.setFormatOptions=function(f){this.oFormatOptions=f;this._createFormats();};a.prototype.getOutputPattern=function(){return this.oOutputFormat.oFormatOptions.pattern;};a.prototype._handleLocalizationChange=function(){this._createFormats();};a.prototype._createFormats=function(){var s=this.oFormatOptions.source;this.oOutputFormat=D.getInstance(this.oFormatOptions);if(s){if(q.isEmptyObject(s)){s={pattern:"yyyy-MM-dd"};}this.oInputFormat=D.getInstance(s);}};return a;});
sap.ui.predefine('sap/ui/model/type/DateTime',['./Date','sap/ui/core/format/DateFormat'],function(D,a){"use strict";var b=D.extend("sap.ui.model.type.DateTime",{constructor:function(){D.apply(this,arguments);this.sName="DateTime";}});b.prototype._createFormats=function(){this.oOutputFormat=a.getDateTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=a.getDateTimeInstance(this.oFormatOptions.source);}};return b;});
sap.ui.predefine('sap/ui/model/type/FileSize',['jquery.sap.global','sap/ui/core/format/FileSizeFormat','sap/ui/model/SimpleType','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,F,S,a,P,V){"use strict";var b=S.extend("sap.ui.model.type.FileSize",{constructor:function(){S.apply(this,arguments);this.sName="FileSize";}});b.prototype.formatValue=function(v,i){var f;if(v==undefined||v==null){return null;}if(this.oInputFormat&&typeof v==="string"){f=this.oInputFormat.parse(v);if(isNaN(f)){throw new a("Cannot format file size: "+v+" has the wrong format");}}else if(!this.oInputFormat&&typeof v==="string"){throw new a("Cannot format file size: "+v+" of type string without input/source formatter");}else if(typeof v==="number"){f=v;}else{throw new a("Cannot format file size: "+v+" has wrong type: "+(typeof v));}if(f==undefined||f==null){return null;}switch(this.getPrimitiveType(i)){case"string":return this.oOutputFormat.format(f);case"int":return Math.floor(f);case"float":case"any":return f;default:throw new a("Don't know how to format FileSize to "+i);}};b.prototype.parseValue=function(v,i){var r,B;if(v==undefined||v==null){return null;}switch(this.getPrimitiveType(i)){case"string":r=this.oOutputFormat.parse(v);if(isNaN(r)){B=sap.ui.getCore().getLibraryResourceBundle();throw new P(B.getText("FileSize.Invalid"));}break;case"int":case"float":r=v;break;default:throw new P("Don't know how to parse FileSize from "+i);}if(this.oInputFormat){r=this.oInputFormat.format(r);}return r;};b.prototype.validateValue=function(v){if(this.oConstraints){var B=sap.ui.getCore().getLibraryResourceBundle(),c=[],m=[],i=this.oInputFormat;if(i&&typeof v==="string"){v=i.parse(v);}else if(!i&&typeof v==="string"){throw new Error("No Validation possible: '"+v+"' is of type string but not input/source format specified.");}q.each(this.oConstraints,function(n,C){if(i&&typeof C==="string"){C=i.parse(C);}else if(!i&&typeof C==="string"){throw new Error("No Validation possible: Compare value ("+n+") '"+C+"' is of type string but not input/source format specified.");}switch(n){case"minimum":if(v<C){c.push("minimum");m.push(B.getText("FileSize.Minimum",[C]));}break;case"maximum":if(v>C){c.push("maximum");m.push(B.getText("FileSize.Maximum",[C]));}}});if(c.length>0){throw new V(m.join(" "),c);}}};b.prototype.setFormatOptions=function(f){this.oFormatOptions=f;this._handleLocalizationChange();};b.prototype._handleLocalizationChange=function(){this.oOutputFormat=F.getInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=F.getInstance(this.oFormatOptions.source);}};return b;});
sap.ui.predefine('sap/ui/model/type/Float',['jquery.sap.global','sap/ui/core/format/NumberFormat','sap/ui/model/SimpleType','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,N,S,F,P,V){"use strict";var a=S.extend("sap.ui.model.type.Float",{constructor:function(){S.apply(this,arguments);this.sName="Float";}});a.prototype.formatValue=function(v,i){var f=v;if(v==undefined||v==null){return null;}if(this.oInputFormat){f=this.oInputFormat.parse(v);if(f==null){throw new F("Cannot format float: "+v+" has the wrong format");}}switch(this.getPrimitiveType(i)){case"string":return this.oOutputFormat.format(f);case"int":return Math.floor(f);case"float":case"any":return f;default:throw new F("Don't know how to format Float to "+i);}};a.prototype.parseValue=function(v,i){var r,b;switch(this.getPrimitiveType(i)){case"string":r=this.oOutputFormat.parse(v);if(isNaN(r)){b=sap.ui.getCore().getLibraryResourceBundle();throw new P(b.getText("Float.Invalid"));}break;case"int":case"float":r=v;break;default:throw new P("Don't know how to parse Float from "+i);}if(this.oInputFormat){r=this.oInputFormat.format(r);}return r;};a.prototype.validateValue=function(v){if(this.oConstraints){var b=sap.ui.getCore().getLibraryResourceBundle(),c=[],m=[],f=v;if(this.oInputFormat){f=this.oInputFormat.parse(v);}q.each(this.oConstraints,function(n,C){switch(n){case"minimum":if(f<C){c.push("minimum");m.push(b.getText("Float.Minimum",[C]));}break;case"maximum":if(f>C){c.push("maximum");m.push(b.getText("Float.Maximum",[C]));}}});if(c.length>0){throw new V(m.join(" "),c);}}};a.prototype.setFormatOptions=function(f){this.oFormatOptions=f;this._createFormats();};a.prototype._handleLocalizationChange=function(){this._createFormats();};a.prototype._createFormats=function(){var s=this.oFormatOptions.source;this.oOutputFormat=N.getFloatInstance(this.oFormatOptions);if(s){if(q.isEmptyObject(s)){s={groupingEnabled:false,groupingSeparator:",",decimalSeparator:"."};}this.oInputFormat=N.getFloatInstance(s);}};return a;});
sap.ui.predefine('sap/ui/model/type/Integer',['jquery.sap.global','sap/ui/core/format/NumberFormat','sap/ui/model/SimpleType','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,N,S,F,P,V){"use strict";var I=S.extend("sap.ui.model.type.Integer",{constructor:function(){S.apply(this,arguments);this.sName="Integer";}});I.prototype.formatValue=function(v,i){var a=v;if(v==undefined||v==null){return null;}if(this.oInputFormat){a=this.oInputFormat.parse(v);if(a==null){throw new F("Cannot format float: "+v+" has the wrong format");}}switch(this.getPrimitiveType(i)){case"string":return this.oOutputFormat.format(a);case"int":case"float":case"any":return a;default:throw new F("Don't know how to format Integer to "+i);}};I.prototype.parseValue=function(v,i){var r,b;switch(this.getPrimitiveType(i)){case"string":r=this.oOutputFormat.parse(String(v));if(isNaN(r)){b=sap.ui.getCore().getLibraryResourceBundle();throw new P(b.getText("Integer.Invalid"));}break;case"float":r=Math.floor(v);if(r!=v){b=sap.ui.getCore().getLibraryResourceBundle();throw new P(b.getText("Integer.Invalid"));}break;case"int":r=v;break;default:throw new P("Don't know how to parse Integer from "+i);}if(this.oInputFormat){r=this.oInputFormat.format(r);}return r;};I.prototype.validateValue=function(v){if(this.oConstraints){var b=sap.ui.getCore().getLibraryResourceBundle(),a=[],m=[],i=v;if(this.oInputFormat){i=this.oInputFormat.parse(v);}q.each(this.oConstraints,function(n,c){switch(n){case"minimum":if(i<c){a.push("minimum");m.push(b.getText("Integer.Minimum",[c]));}break;case"maximum":if(i>c){a.push("maximum");m.push(b.getText("Integer.Maximum",[c]));}}});if(a.length>0){throw new V(m.join(" "),a);}}};I.prototype.setFormatOptions=function(f){this.oFormatOptions=f;this._createFormats();};I.prototype._handleLocalizationChange=function(){this._createFormats();};I.prototype._createFormats=function(){var s=this.oFormatOptions.source;this.oOutputFormat=N.getIntegerInstance(this.oFormatOptions);if(s){if(q.isEmptyObject(s)){s={groupingEnabled:false,groupingSeparator:",",decimalSeparator:"."};}this.oInputFormat=N.getIntegerInstance(s);}};return I;});
sap.ui.predefine('sap/ui/model/type/String',['jquery.sap.global','sap/ui/model/SimpleType','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,S,F,P,V){"use strict";var a=S.extend("sap.ui.model.type.String",{constructor:function(){S.apply(this,arguments);this.sName="String";if(this.oConstraints.search&&typeof this.oConstraints.search=="string"){this.oConstraints.search=new RegExp(this.oConstraints.search);}}});a.prototype.formatValue=function(v,i){if(v==undefined||v==null){return null;}switch(this.getPrimitiveType(i)){case"string":case"any":return v;case"int":var r=parseInt(v,10);if(isNaN(r)){throw new F(v+" is not a valid int value");}return r;case"float":var R=parseFloat(v);if(isNaN(R)){throw new F(v+" is not a valid float value");}return R;case"boolean":if(v.toLowerCase()=="true"||v=="X"){return true;}if(v.toLowerCase()=="false"||v==""){return false;}throw new F(v+" is not a valid boolean value");default:throw new F("Don't know how to format String to "+i);}};a.prototype.parseValue=function(v,i){switch(this.getPrimitiveType(i)){case"string":return v;case"boolean":case"int":case"float":return v.toString();default:throw new P("Don't know how to parse String from "+i);}};a.prototype.validateValue=function(v){if(this.oConstraints){var b=sap.ui.getCore().getLibraryResourceBundle(),c=[],m=[];q.each(this.oConstraints,function(n,C){switch(n){case"maxLength":if(v.length>C){c.push("maxLength");m.push(b.getText("String.MaxLength",[C]));}break;case"minLength":if(v.length<C){c.push("minLength");m.push(b.getText("String.MinLength",[C]));}break;case"startsWith":if(!q.sap.startsWith(v,C)){c.push("startsWith");m.push(b.getText("String.StartsWith",[C]));}break;case"startsWithIgnoreCase":if(!q.sap.startsWithIgnoreCase(v,C)){c.push("startsWithIgnoreCase");m.push(b.getText("String.StartsWith",[C]));}break;case"endsWith":if(!q.sap.endsWith(v,C)){c.push("endsWith");m.push(b.getText("String.EndsWith",[C]));}break;case"endsWithIgnoreCase":if(!q.sap.endsWithIgnoreCase(v,C)){c.push("endsWithIgnoreCase");m.push(b.getText("String.EndsWith",[C]));}break;case"contains":if(v.indexOf(C)==-1){c.push("contains");m.push(b.getText("String.Contains",[C]));}break;case"equals":if(v!=C){c.push("equals");m.push(b.getText("String.Equals",[C]));}break;case"search":if(v.search(C)==-1){c.push("search");m.push(b.getText("String.Search",[C]));}break;}});if(c.length>0){throw new V(m.join(" "),c);}}};return a;});
sap.ui.predefine('sap/ui/model/type/Time',['./Date','sap/ui/core/format/DateFormat'],function(D,a){"use strict";var T=D.extend("sap.ui.model.type.Time",{constructor:function(){D.apply(this,arguments);this.sName="Time";}});T.prototype._createFormats=function(){this.oOutputFormat=a.getTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=a.getTimeInstance(this.oFormatOptions.source);}};return T;});
sap.ui.predefine('sap/ui/model/xml/XMLListBinding',['jquery.sap.global','sap/ui/model/ChangeReason','sap/ui/model/ClientListBinding'],function(q,C,a){"use strict";var X=a.extend("sap.ui.model.xml.XMLListBinding");X.prototype.getContexts=function(s,l){this.iLastStartIndex=s;this.iLastLength=l;if(!s){s=0;}if(!l){l=Math.min(this.iLength,this.oModel.iSizeLimit);}var c=this._getContexts(s,l),b=[];if(this.bUseExtendedChangeDetection){for(var i=0;i<c.length;i++){b.push(this.getContextData(c[i]));}if(this.aLastContexts&&s<this.iLastEndIndex){c.diff=q.sap.arraySymbolDiff(this.aLastContextData,b);}this.iLastEndIndex=s+l;this.aLastContexts=c.slice(0);this.aLastContextData=b.slice(0);}return c;};X.prototype.getCurrentContexts=function(){if(this.bUseExtendedChangeDetection){return this.aLastContexts||[];}else{return this.getContexts(this.iLastStartIndex,this.iLastLength);}};X.prototype.getEntryData=function(c){return q.sap.serializeXML(c.getObject());};X.prototype.update=function(){var l=this.oModel._getObject(this.sPath,this.oContext);if(l){this.oList=[];var t=this;if(this.bUseExtendedChangeDetection){q.each(l,function(k,n){t.oList.push(n.cloneNode(true));});}else{this.oList=l.slice(0);}this.updateIndices();this.applyFilter();this.applySort();this.iLength=this._getLength();}else{this.oList=[];this.aIndices=[];this.iLength=0;}};X.prototype.checkUpdate=function(f){if(this.bSuspended&&!this.bIgnoreSuspend&&!f){return;}if(!this.bUseExtendedChangeDetection){var l=this.oModel._getObject(this.sPath,this.oContext);if(!this.oList||!l||l.length!=this.oList.length||f){this.update();this._fireChange({reason:C.Change});}}else{var c=false;var t=this;var l=this.oModel._getObject(this.sPath,this.oContext);if(l&&this.oList.length!=l.length){c=true;}if(!q.sap.equal(this.oList,l)){this.update();}var b=this._getContexts(this.iLastStartIndex,this.iLastLength);if(this.aLastContexts){if(this.aLastContexts.length!=b.length){c=true;}else{q.each(this.aLastContextData,function(i,L){var o=t.getContextData(b[i]);if(o!==L){c=true;return false;}});}}else{c=true;}if(c||f){this._fireChange({reason:C.Change});}}};return X;});
sap.ui.predefine('sap/ui/model/xml/XMLModel',['jquery.sap.global','sap/ui/model/ClientModel','sap/ui/model/Context','./XMLListBinding','./XMLPropertyBinding','./XMLTreeBinding','jquery.sap.xml'],function(q,C,a,X,b,c){"use strict";var d=C.extend("sap.ui.model.xml.XMLModel",{constructor:function(D){C.apply(this,arguments);this.oNameSpaces=null;if(D&&D.documentElement){this.setData(D);}},metadata:{publicMethods:["setXML","getXML","setNameSpace"]}});d.prototype.setXML=function(x){var o=q.sap.parseXML(x);if(o.parseError.errorCode!=0){var p=o.parseError;q.sap.log.fatal("The following problem occurred: XML parse Error for "+p.url+" code: "+p.errorCode+" reason: "+p.reason+" src: "+p.srcText+" line: "+p.line+" linepos: "+p.linepos+" filepos: "+p.filepos);this.fireParseError({url:p.url,errorCode:p.errorCode,reason:p.reason,srcText:p.srcText,line:p.line,linepos:p.linepos,filepos:p.filepos});}this.setData(o);};d.prototype.getXML=function(){return q.sap.serializeXML(this.oData);};d.prototype.setData=function(D){this.oData=D;this.checkUpdate();};d.prototype.loadData=function(u,p,A,t,e,h){var f=this;A=(A!==false);t=t||"GET";e=e===undefined?this.bCache:e;this.fireRequestSent({url:u,type:t,async:A,headers:h,info:"cache="+e,infoObject:{cache:e}});this._ajax({url:u,async:A,cache:e,dataType:'xml',data:p,headers:h,type:t,success:function(D){if(!D){q.sap.log.fatal("The following problem occurred: No data was retrieved by service: "+u);}f.setData(D);f.fireRequestCompleted({url:u,type:t,async:A,headers:h,info:"cache="+e,infoObject:{cache:e},success:true});},error:function(g,i,j){var E={message:i,statusCode:g.status,statusText:g.statusText,responseText:g.responseText};q.sap.log.fatal("The following problem occurred: "+i,g.responseText+","+g.status+","+g.statusText);f.fireRequestCompleted({url:u,type:t,async:A,headers:h,info:"cache="+e,infoObject:{cache:e},success:false,errorobject:E});f.fireRequestFailed(E);}});};d.prototype.setNameSpace=function(n,p){if(!p){p="";}if(!this.oNameSpaces){this.oNameSpaces={};}this.oNameSpaces[p]=n;};d.prototype.bindProperty=function(p,o,P){var B=new b(this,p,o,P);return B;};d.prototype.bindList=function(p,o,s,f,P){var B=new X(this,p,o,s,f,P);return B;};d.prototype.bindTree=function(p,o,f,P,s){var B=new c(this,p,o,f,P,s);return B;};d.prototype.setProperty=function(p,v,o,A){var O=p.substring(0,p.lastIndexOf("/")+1),P=p.substr(p.lastIndexOf("/")+1);if(!this.resolve(p,o)){return false;}if(!this.oData.documentElement){q.sap.log.warning("Trying to set property "+p+", but no document exists.");return false;}var e;if(P.indexOf("@")==0){e=this._getObject(O,o);if(e[0]){e[0].setAttribute(P.substr(1),v);this.checkUpdate(false,A);return true;}}else{e=this._getObject(p,o);if(e[0]){q(e[0]).text(v);this.checkUpdate(false,A);return true;}}return false;};d.prototype.getProperty=function(p,o){var r=this._getObject(p,o);if(r&&typeof r!="string"){r=q(r[0]).text();}return r;};d.prototype.getObject=function(p,o){var O=this._getObject(p,o);if(q.isArray(O)){O=O[0];}return O;};d.prototype._getObject=function(p,o){var r=this.oData.documentElement;if(!r){return null;}var n=this.isLegacySyntax()?[r]:[];if(o instanceof a){n=this._getObject(o.getPath());}else if(o){n=[o];}if(!p){return n;}var P=p.split("/"),s,i=0;if(!P[0]){n=r;i++;}n=n.length==undefined?[n]:n;n=n[0]?n:null;while(n&&n.length>0&&P[i]){s=P[i];if(s.indexOf("@")==0){n=this._getAttribute(n[0],s.substr(1));}else if(s=="text()"){n=q(n[0]).text();}else if(isNaN(s)){n=this._getChildElementsByTagName(n[0],s);}else{n=[n[s]];}i++;}return n;};d.prototype._getAttribute=function(n,N){if(!this.oNameSpaces||N.indexOf(":")==-1){return n.getAttribute(N);}var s=this._getNameSpace(N),l=this._getLocalName(N);if(n.getAttributeNS){return n.getAttributeNS(s,l);}else{if(!this.oDocNSPrefixes){this.oDocNSPrefixes=this._getDocNSPrefixes();}var p=this.oDocNSPrefixes[s];N=(p?p+":":"")+l;return n.getAttribute(N);}};d.prototype._getChildElementsByTagName=function(n,N){var e=n.childNodes,r=[];if(this.oNameSpaces){var s=this._getNameSpace(N),l=this._getLocalName(N),f;q.each(e,function(i,o){f=o.localName||o.baseName;if(o.nodeType==1&&f==l&&o.namespaceURI==s){r.push(o);}});}else{q.each(e,function(i,o){if(o.nodeType==1&&o.nodeName==N){r.push(o);}});}return r;};d.prototype._getNameSpace=function(n){var i=n.indexOf(":"),p="";if(i>0){p=n.substr(0,i);}return this.oNameSpaces[p];};d.prototype._getLocalName=function(n){var i=n.indexOf(":"),l=n;if(i>0){l=n.substr(i+1);}return l;};d.prototype._getDocNSPrefixes=function(){var p={},D=this.oData&&this.oData.documentElement;if(!D){return p;}var A=D.attributes;q.each(A,function(i,o){var n=o.name,v=o.value;if(n=="xmlns"){p[v]="";}else if(n.indexOf("xmlns")==0){p[v]=n.substr(6);}});return p;};d.prototype._resolve=function(p,o){var i=!q.sap.startsWith(p,"/"),r=p;if(i){if(o){r=o.getPath()+"/"+p;}else{r=this.isLegacySyntax()?"/"+p:undefined;}}return r;};d.prototype.isList=function(p,o){return false;};return d;});
sap.ui.predefine('sap/ui/model/xml/XMLPropertyBinding',['jquery.sap.global','sap/ui/model/ChangeReason','sap/ui/model/ClientPropertyBinding','sap/ui/model/ChangeReason'],function(q,C,a){"use strict";var X=a.extend("sap.ui.model.xml.XMLPropertyBinding");X.prototype.setValue=function(v){if(this.bSuspended){return;}if(this.oValue!=v){if(this.oModel.setProperty(this.sPath,v,this.oContext,true)){this.oValue=v;this.oModel.firePropertyChange({reason:C.Binding,path:this.sPath,context:this.oContext,value:v});}}};X.prototype.checkUpdate=function(f){if(this.bSuspended&&!f){return;}var v=this._getValue();if(!q.sap.equal(v,this.oValue)||f){this.oValue=v;this._fireChange({reason:C.Change});}};return X;});
sap.ui.predefine('sap/ui/model/xml/XMLTreeBinding',['jquery.sap.global','sap/ui/model/ClientTreeBinding'],function(q,C){"use strict";var X=C.extend("sap.ui.model.xml.XMLTreeBinding");X.prototype.getNodeContexts=function(c,s,l){if(!s){s=0;}if(!l){l=this.oModel.iSizeLimit;}var a=c.getPath();if(!q.sap.endsWith(a,"/")){a=a+"/";}if(!q.sap.startsWith(a,"/")){a="/"+a;}var b=[],n={},t=this,N=this.oModel._getObject(c.getPath()),d,o;q.each(N[0].childNodes,function(e,f){if(f.nodeType==1){if(n[f.nodeName]==undefined){n[f.nodeName]=0;}else{n[f.nodeName]++;}d=a+f.nodeName+"/"+n[f.nodeName];o=t.oModel.getContext(d);if(t.aAllFilters&&!t.bIsFiltering){if(q.inArray(o,t.filterInfo.aFilteredContexts)!=-1){b.push(o);}}else{b.push(o);}}});this._applySorter(b);this._setLengthCache(a,b.length);return b.slice(s,s+l);};return X;});
/*!
 * ${copyright}
 */
sap.ui.predefine('sap/ushell/components/factsheet/controls/PictureViewerItem',['sap/ui/core/Control','sap/ushell/library'],function(C,l){"use strict";var P=C.extend("sap.ushell.components.factsheet.controls.PictureViewerItem",{metadata:{deprecated:true,library:"sap.ushell",properties:{src:{type:"string",group:"Misc",defaultValue:null}},aggregations:{image:{type:"sap.m.Image",multiple:false}}}});
/*!
 * @copyright@
*/
P.prototype.setSrc=function(s){this.setProperty("src",s);var i=this.getImage();if(i==null){i=new sap.m.Image();}i.setSrc(s);this.setImage(i);return this;};P.prototype.exit=function(){var i=this.getImage();if(i){i.destroy();}};return P;});
jQuery.sap.registerPreloadedModules({
"name":"sap/fiori/core-ext-light",
"version":"2.0",
"modules":{
	"sap/ushell/components/tiles/action/ActionTile.view.xml":'<?xml version="1.0" encoding="UTF-8" ?>\r\n<!-- Copyright (c) 2009-2014 SAP SE, All Rights Reserved -->\r\n<View\r\n  controllerName="sap.ushell.components.tiles.action.ActionTile"\r\n  height="100%"\r\n  width="100%"\r\n  xmlns="sap.ui.core"\r\n  xmlns:ushell="sap.ushell.ui.tile"\r\n>\r\n\r\n<ushell:TileBase\r\n    id="actionTile"\r\n    title="{i18n>tile.display.action_chip}"\r\n    subtitle="{/displayText}"\r\n    icon="sap-icon://action"\r\n    press="onPress"\r\n  >\r\n</ushell:TileBase>\r\n\r\n</View>',
	"sap/ushell/renderers/fiori2/theme_selector/ThemeSelector.view.xml":'<View\n        controllerName="sap.ushell.renderers.fiori2.theme_selector.ThemeSelector"\n        height="100%"\n        width="100%"\n        xmlns="sap.uxap"\n        xmlns:m="sap.m"\n        xmlns:core="sap.ui.core">\n\n    <ObjectPageLayout id="ObjectPageLayout" enableLazyLoading="false">\n        <sections>\n            <ObjectPageSection title="{i18n>AppearanceThemeMenu}">\n                <subSections>\n                    <ObjectPageSubSection title="{i18n>AppearanceThemeMenu}" class="sapUshellAppearanceSubSectionList">\n                        <blocks>\n                            <m:List items="{path: \'/options\'}"\n                                    includeItemInSelection="true"\n                                    mode="SingleSelectMaster"\n                                    selectionChange="onSelectHandler"\n                                    id="themeList"\n                            >\n\n                                <m:items>\n                                    <m:CustomListItem selected="{isSelected}">\n                                        <m:customData>\n                                            <core:CustomData key="themeid" value="{id}" writeToDom="true"/>\n                                        </m:customData>\n                                        <m:HBox>\n                                            <m:HBox class="sapUshellAppearanceItemViewLeft">\n                                                <core:Icon src="{parts:[{path:\'id\'}], formatter:\'.getIconFormatter\'}"\n                                                           color="{config>/sapUiContentIconColor}"\n                                                           size="1.75rem"\n                                                           class="sapUshellAppearanceIcon"\n                                                >\n                                                </core:Icon>\n                                                <m:Text text="{name}" class="sapUshellAppearanceItemText"/>\n                                            </m:HBox>\n                                            <m:HBox class="sapUshellAppearanceItemViewRight">\n                                                <core:Icon src="sap-icon://sys-enter-2"\n                                                           visible="{isSelected}"\n                                                           color="{config>/sapUiContentIconColor}"\n                                                           size="1.375rem"/>\n                                            </m:HBox>\n\n                                        </m:HBox>\n                                    </m:CustomListItem>\n                                </m:items>\n                            </m:List>\n                        </blocks>\n                    </ObjectPageSubSection>\n                </subSections>\n            </ObjectPageSection>\n            <ObjectPageSection title="{i18n>AppearanceLayoutAndBehaviorMenu}"\n                               class="sapUshellAppearanceDisplaySettingSection">\n                <subSections>\n                    <ObjectPageSubSection title="{i18n>AppearanceLayoutAndBehaviorMenu}">\n                        <blocks>\n                            <m:VBox>\n                                <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}"\n                                           visible="true" class="sapUshellAppearanceConfigBox">\n                                    <m:Label text="{i18n>AppearanceContentDensityLabel}:"\n                                             class="sapUshellAppearanceLabel"\n                                             width="{config>/labelWidth}"\n                                             textAlign="{config>/textAlign}">\n                                        <m:layoutData>\n                                            <m:FlexItemData styleClass="sapUshellAppearanceFlexItem" />\n                                        </m:layoutData>\n                                    </m:Label>\n                                    <m:Switch type="sap.m.SwitchType.Default" id="contentDensitySwitch"\n                                              class="sapUshellAppearanceSwitchButton"\n                                              tooltip="{i18n>AppearanceContentDensityTooltip}"\n                                              change="setCurrentContentDensity"\n                                              enabled="{config>/isContentDensitySwitchEnable}"/>\n                                </m:FlexBox>\n                                <m:Text text="{i18n>appearanceCompactCozyDescriptionText}"\n                                        class="sapUshellFlpSettingsDescription" />\n                            </m:VBox>\n                            <m:VBox>\n                                <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}"\n                                           visible="true" class="sapUshellAppearanceConfigBox">\n                                    <m:Label text="{i18n>AppearanceAnimationLabel}:"\n                                             class="sapUshellAppearanceLabel"\n                                             width="{config>/labelWidth}"\n                                             textAlign="{config>/textAlign}">\n                                        <m:layoutData>\n                                            <m:FlexItemData styleClass="sapUshellAppearanceFlexItem" />\n                                        </m:layoutData>\n                                    </m:Label>\n                                    <m:ComboBox type="sap.m.SwitchType.Default" id="animationModeCombo"\n                                                class="sapUshellAppearanceComboBox"\n                                                change="setCurrentAnimationMode"\n                                                selectedKey="{config>/animationMode}">\n                                        <core:Item key="full" text="{i18n>AppearanceAnimationFull}"/>\n                                        <core:Item key="minimal" text="{i18n>AppearanceAnimationMinimal}"/>\n                                    </m:ComboBox>\n                                </m:FlexBox>\n                                <m:Text text="{i18n>appearanceAnimationDescriptionText}"\n                                        class="sapUshellFlpSettingsDescription" />\n                            </m:VBox>\n                        </blocks>\n                    </ObjectPageSubSection>\n                </subSections>\n            </ObjectPageSection>\n        </sections>\n\n    </ObjectPageLayout>\n</View>',
	"sap/ushell/renderers/fiori2/userAccount/UserAccountSelector.view.xml":'<View\n        controllerName="sap.ushell.renderers.fiori2.userAccount.UserAccountSelector"\n        height="100%"\n        width="100%"\n        xmlns="sap.uxap"\n        xmlns:m="sap.m"\n        xmlns:core="sap.ui.core">\n\n    <ObjectPageLayout id="UserAccountObjectPageLayout" enableLazyLoading="false">\n        <sections>\n            <ObjectPageSection title="{i18n>UserAccountFld}">\n                <subSections>\n                    <ObjectPageSubSection title="{i18n>UserAccountFld}">\n                        <blocks>\n                            <core:Fragment fragmentName="sap.ushell.renderers.fiori2.userAccount.UserAccountSetting"\n                                           type="XML"></core:Fragment>\n                        </blocks>\n                    </ObjectPageSubSection>\n                </subSections>\n            </ObjectPageSection>\n            <ObjectPageSection title="{i18n>UserAccountOnlineStatusTitle}"\n                               class="sapUshellUserAccountSection">\n                <subSections>\n                    <ObjectPageSubSection title="{i18n>UserAccountOnlineStatusTitle}">\n                        <blocks>\n                            <m:VBox>\n                                <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}"\n                                           id="userStatusEnableFlexBox">\n                                    <m:Label text="{i18n>enableStatusMessageBoxFld}:"\n                                             class="sapUshellUserAccountLabel"/>\n                                </m:FlexBox>\n                                <m:FlexBox direction="{config>/textDirection}" id="userStatusLegalMessageFlexBox1"\n                                           class="ushellUserStatusLegalMessageFlexBox">\n                                    <m:Text text="{i18n>userStatusMessageBoxInfoTextLine1}"/>\n                                </m:FlexBox>\n                                <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}"\n                                           id="userStatusDropDownFlexBox" class="ushellUserStatusDropDownFlexBox">\n                                    <m:Label text="{i18n>userStatusSettingDropdownLabelFld}:"\n                                             class="sapUshellUserAccountLabel"/>\n\n                                </m:FlexBox>\n                                <m:FlexBox direction="{config>/textDirection}" id="ushellDefaultStatusDescription"\n                                           class="ushellUserStatusLegalMessageFlexBox">\n                                    <m:Text text="{i18n>userStatusDefaultStatusDescriptionLine1}"/>\n                                </m:FlexBox>\n                            </m:VBox>\n                        </blocks>\n                    </ObjectPageSubSection>\n                </subSections>\n            </ObjectPageSection>\n        </sections>\n\n    </ObjectPageLayout>\n</View>',
	"sap/ushell/renderers/fiori2/userAccount/UserAccountSetting.fragment.xml":'<core:FragmentDefinition controllerName="sap.ushell.renderers.fiori2.userAccount.UserAccountSetting"\n                         height="100%"\n                         width="100%"\n                         xmlns="sap.uxap"\n                         xmlns:m="sap.m"\n                         xmlns:core="sap.ui.core">\n    <m:VBox class="sapUiSmallMargin">\n        <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}">\n            <m:Label text="{i18n>UserAccountNameFld}:"\n                     class="sapUshellUserAccountLabel"\n                     width="{config>/labelWidth}"\n                     textAlign="{config>/textAlign}"/>\n            <m:Input value="{config>/name}"\n                     id="userAccountuserName"\n                     class="sapUshellUserAccountInput"\n                     editable="false"/>\n\n        </m:FlexBox>\n\n\n        <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}">\n            <m:Label text="{i18n>UserAccountEmailFld}:"\n                     class="sapUshellUserAccountLabel"\n                     width="{config>/labelWidth}"\n                     textAlign="{config>/textAlign}"/>\n            <m:Input value="{config>/mail}"\n                     id="userAccountuserMail"\n                     class="sapUshellUserAccountInput"\n                     editable="false"/>\n\n        </m:FlexBox>\n\n        <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}">\n            <m:Label text="{i18n>UserAccountServerFld}:"\n                     class="sapUshellUserAccountLabel"\n                     width="{config>/labelWidth}"\n                     textAlign="{config>/textAlign}"/>\n            <m:Input value="{config>/server}"\n                     id="userAccountuserServer"\n                     class="sapUshellUserAccountInput"\n                     editable="false"/>\n\n        </m:FlexBox>\n\n    </m:VBox>\n</core:FragmentDefinition>',
	"sap/ushell/renderers/fiori2/userAccount/UserAccountSetting.view.xml":'<View\n        controllerName="sap.ushell.renderers.fiori2.userAccount.UserAccountSelector"\n        xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"\n        xmlns="sap.m">\n    <core:Fragment fragmentName="sap.ushell.renderers.fiori2.userAccount.UserAccountSetting" type="XML"></core:Fragment>\n</View>',
	"sap/ui/model/odata/datajs.js":function(){
/* the subsequent text seems not to contain a copyright or license statement */
(function(q){var M="The file datajs.js has been moved from sap.ui.model.odata to sap.ui.thirdparty! Please update the dependencies accordingly.";if(q&&q.sap&&q.sap.require){q.sap.require("sap.ui.thirdparty.datajs");q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery);
},
	"sap/ui/thirdparty/mobify-carousel.js":'var Mobify=window.Mobify=window.Mobify||{};Mobify.$=Mobify.$||window.Zepto||window.jQuery;Mobify.UI=Mobify.UI||{classPrefix:""};(function($,d){$.support=$.support||{};$.extend($.support,{"touch":"ontouchend"in d});})(Mobify.$,document);Mobify.UI.Utils=(function($){var a={},h=$.support;a.events={down:"touchstart mousedown",move:"touchmove mousemove",up:"touchend touchcancel mouseup"};a.getCursorPosition=function(e){e=e.originalEvent||e;var T=e.touches&&e.touches[0];return{x:T?T.clientX:e.clientX,y:T?T.clientY:e.clientY}};a.getProperty=function(n){var p=["Webkit","Moz","O","ms",""],c=document.createElement("div").style;for(var i=0;i<p.length;++i){if(c[p[i]+n]!==undefined){return p[i]+n;}}return;};$.extend(h,{"transform":!!(a.getProperty("Transform")),"transform3d":!!(window.WebKitCSSMatrix&&"m11"in new WebKitCSSMatrix())});var t=a.getProperty("Transform");if(h.transform3d){a.translateX=function(e,c){if(typeof c=="number")c=c+"px";e.style[t]="translate3d("+c+",0,0)";};}else if(h.transform){a.translateX=function(e,c){if(typeof c=="number")c=c+"px";e.style[t]="translate("+c+",0)";};}else{a.translateX=function(e,c){if(typeof c=="number")c=c+"px";e.style.left=c;};}var b=a.getProperty("Transition"),d=a.getProperty("TransitionDuration");a.setTransitions=function(e,c){if(c){e.style[d]="";}else{e.style[d]="0s";}};a.requestAnimationFrame=(function(){var p=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1000/60);});var r=function(){p.apply(window,arguments);};return r;})();return a;})(Mobify.$);Mobify.UI.Carousel=(function($,U){var d={dragRadius:10,moveRadius:20,classPrefix:undefined,classNames:{outer:"sapMCrsl",inner:"sapMCrslInner",item:"sapMCrslItem",center:"sapMCrslCenter",touch:"has-touch",dragging:"dragging",active:"sapMCrslActive"}},h=$.support;var C=function(e,o){this.setOptions(o);this.initElements(e);this.initOffsets();this.initAnimation();this.bind();};C.defaults=d;C.prototype.setOptions=function(o){var a=this.options||$.extend({},d,o);a.classNames=$.extend({},a.classNames,o.classNames||{});a.classPrefix=a.classPrefix||Mobify.UI.classPrefix;this.options=a;};C.prototype.initElements=function(e){this._index=1;this.element=e;this.$element=$(e);this.$inner=this.$element.find("."+this._getClass("inner"));this.$items=this.$inner.children();this.$start=this.$items.eq(0);this.$sec=this.$items.eq(1);this.$current=this.$items.eq(this._index);this._length=this.$items.length;this._alignment=this.$element.hasClass(this._getClass("center"))?0.5:0;};C.prototype.initOffsets=function(){this._offset=0;this._offsetDrag=0;};C.prototype.initAnimation=function(){this.animating=false;this.dragging=false;this._needsUpdate=false;this._enableAnimation();};C.prototype._getClass=function(i){return this.options.classPrefix+this.options.classNames[i];};C.prototype._enableAnimation=function(){if(this.animating){return;}U.setTransitions(this.$inner[0],true);this.$inner.removeClass(this._getClass("dragging"));this.animating=true;};C.prototype._disableAnimation=function(){if(!this.animating){return;}U.setTransitions(this.$inner[0],false);this.$inner.addClass(this._getClass("dragging"));this.animating=false;};C.prototype.update=function(){if(this._needsUpdate){return;}var s=this;this._needsUpdate=true;U.requestAnimationFrame(function(){s._update();});};C.prototype._update=function(){if(!this._needsUpdate){return;}var x=Math.round(this._offset+this._offsetDrag);if(this.$inner){U.translateX(this.$inner[0],x);}this._needsUpdate=false;};C.prototype.setLoop=function(l){this._bLoop=l;};C.prototype.getLoop=function(){return this._bLoop;};C.prototype.setRTL=function(r){this._bRTL=r;};C.prototype.getRTL=function(){return this._bRTL;};C.prototype.changeAnimation=function(t,c,o,a){if(this.$inner){var b=this.$inner,T="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";var f=function(){b.unbind(T,f);b.removeClass(t);if(c){c.apply(o,a);}};b.addClass(t);b.bind(T,f);}};C.prototype.resize=function(){this.changeAnimation("sapMCrslHideNonActive");var a=this.$items.eq(this._index-1);var c=a.prop("offsetLeft")+a.prop("clientWidth")*this._alignment,s=this.$start.prop("offsetLeft")+this.$start.prop("clientWidth")*this._alignment;this._offset=-(c-s);this.update();};C.prototype.touchstart=function(e){if(this._fnStart){this._fnStart.call(this,e);}else{jQuery.sap.log.warning("Mobify\'s \'start\' method not available yet.")}};C.prototype.touchmove=function(e){if(jQuery(e.target).is("input, textarea, select, [contenteditable=\'true\']")){return;}if(this._fnDrag){this._fnDrag.call(this,e);}else{jQuery.sap.log.warning("Mobify\'s \'drag\' method not available yet.")}};C.prototype.touchend=function(e){if(this._fnEnd){this._fnEnd.call(this,e);}else{jQuery.sap.log.warning("Mobify\'s \'end\' method not available yet.")}};C.prototype.bind=function(){var a=Math.abs,b=false,c=false,f=this.options.dragRadius,x,g,j,k,s=this,l=this.$element,m=this.$inner,o=this.options,n=this.$element.width(),p=false,q=false;if(!s._fnStart){s._fnStart=function start(e){if(e.isMarked("delayedMouseEvent")){return;}var E=jQuery(e.target).control(0);if(E instanceof sap.m.Slider||E instanceof sap.m.Switch||E instanceof sap.m.IconTabBar){c=true;return;}e.setMarked();b=true;c=false;x=U.getCursorPosition(e);g=0;j=0;k=false;s._disableAnimation();p=s._index==1;q=s._index==s._length;};s._fnDrag=function drag(e){if(!b||c||e.isMarked("delayedMouseEvent")){return;}e.setMarked();var i=U.getCursorPosition(e);g=x.x-i.x;j=x.y-i.y;if(k||a(g)>a(j)&&(a(g)>f)){k=true;e.preventDefault();if(p&&(g<0)){g=g*(-n)/(g-n);}else if(q&&(g>0)){g=g*(n)/(g+n);}s._offsetDrag=-g;s.update();}else if((a(j)>a(g))&&(a(j)>f)){c=true;}};s._fnEnd=function end(e){if(!b||e.isMarked("delayedMouseEvent")){return;}e.setMarked();b=false;s._enableAnimation();if(!c&&a(g)>o.moveRadius){if(g>0){s.getRTL()?s.prev():s.next();}else{s.getRTL()?s.next():s.prev();}}else{s._offsetDrag=0;s.update();}};}function r(e){if(k){e.preventDefault();e.stopPropagation();e.setMarked();}}m.on("click.carousel",r).on("mouseout.carousel",s._fnEnd);l.on("click","[data-slide]",function(e){var i=jQuery(e.target).closest(".sapMCrsl");if(i[0]!=l[0]){return;}e.preventDefault();var t=$(this).attr("data-slide"),u=parseInt(t,10);if(isNaN(u)){s[t]();}else{}});l.on("afterSlide",function(e,t,u){if(e.target!=this){return;}var A=s._getClass("active"),P=s.$element[0].id+"-pageIndicator",I=s.$items,S,v;if(t===1&&u===I.length||t===I.length&&u===1){S=Math.min(t,u);v=Math.max(t,u);for(var i=S;i<v-1;i++){jQuery(I[i]).removeClass(A);}}s.$items.eq(u-1).addClass(s._getClass("active"));s.$element.find("#"+P+\' > [data-slide=\\\'\'+t+\'\\\']\').removeClass(s._getClass("active"));s.$element.find("#"+P+\' > [data-slide=\\\'\'+u+\'\\\']\').addClass(s._getClass("active"));if(s.$items[u-1]){this.setAttribute("aria-activedescendant",s.$items[u-1].id);}});l.trigger("beforeSlide",[1,1]);l.trigger("afterSlide",[1,1]);s.update();};C.prototype.unbind=function(){this.$inner.off();};C.prototype.destroy=function(){this.unbind();this.$element.trigger("destroy");this.$element.remove();this.$element=null;this.$inner=null;this.$start=null;this.$current=null;};C.prototype.move=function(n,o){if(this._length===0){return;}var a=this.$element,b=this.$inner,c=this.$items,e=this.$start,f=this.$current,l=this._length,i=this._index;o=o||{};if(n<1){if(this._bLoop){n=this._length;}else{n=1;}}else if(n>this._length){if(this._bLoop){n=1;}else{n=l;}}var t=true;if(n==this._index){t=false;}if(t){a.trigger("beforeSlide",[i,n]);}this.$current=f=c.eq(n-1);var g=f.prop("offsetLeft")+f.prop("clientWidth")*this._alignment,s=e.prop("offsetLeft")+e.prop("clientWidth")*this._alignment;var j=-(g-s);this._offset=j;this._offsetDrag=0;this._index=n;this.update();if(t){a.trigger("afterSlide",[i,n]);}};C.prototype.next=function(){this.move(this._index+1);};C.prototype.prev=function(){this.move(this._index-1);};return C;})(Mobify.$,Mobify.UI.Utils);(function($){$.fn.carousel=function(a,o){var i=$.extend({},$.fn.carousel.defaults);if(typeof a=="object"){i=$(i,a);o=null;a=null;}this.each(function(){var b=$(this),c=this._carousel;if(!c){c=new Mobify.UI.Carousel(this,i);}if(a){c[a](o);if(a==="destroy"){c=null;}}this._carousel=c;});return this;};$.fn.carousel.defaults={};})(Mobify.$);\n',
	"sap/ushell/bootstrap/cdm.js":function(){(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(r,m,a){"use strict";(function($,b,j,u){var s,S;var U=u.getBootPath(b);var o={"":U};var d=/sap-ui-debug=(true|x|X)/.test($.location.search);var c=new u.ConfigUtil("sap.ushellConfig",$,b,j);var x=function(C){$.jQuery.sap.require("sap.ushell.services.Container");$.sap.ushell.bootstrap("local").done(C);};$.fnOnUI5Init=u.onUI5Init;try{if(!d){S=$.localStorage.getItem("sap-ui-debug");d=!!S&&/^(true|x|X)$/.test(S);}}catch(e){}c.createGlobalConfigs(x,null);$["sap-ushell-config"]["sap-ui-debug"]=d;s="<script id='sap-ui-bootstrap' src='"+U+"/sap/fiori/core-min-0.js' "+"data-sap-ui-evt-oninit='fnOnUI5Init( sap, jQuery );' "+"data-sap-ui-xx-bindingSyntax='complex' "+"data-sap-ui-libs='sap.fiori, sap.m, sap.ushell' "+"data-sap-ui-theme='sap_belize' "+"data-sap-ui-compatVersion='1.16' "+"data-sap-ui-resourceroots='"+JSON.stringify(o)+"' "+"><\/script>";if(!d){s+="<script src='"+U+"/sap/fiori/core-min-1.js' "+"><\/script>"+"<script src='"+U+"/sap/fiori/core-min-2.js' "+"><\/script>"+"<script src='"+U+"/sap/fiori/core-min-3.js' "+"><\/script>";}b.write(s);})(window,document,JSON,r("../common/"));},{"../common/":8}],2:[function(r,m,e){"use strict";var g=r("./common.boot.script");var b;m.exports=function getBootPath($){var B;if(!b){B=g($);if(B){b=B.src.split("/").slice(0,-4).join("/");}else{}}return b;};},{"./common.boot.script":3}],3:[function(r,m,e){"use strict";m.exports=function getBootScript($){return $.getElementById("sap-ushell-bootstrap");};},{}],4:[function(r,m,e){"use strict";var f=r("./common.config.private");C.prototype.createGlobalConfigs=function(x,s){var M=f.readConfigItemsFromMeta(this.prefix,this.document,this.JSON);f.createGlobalConfigs(M,x,s,this.window,this.JSON);};function C(c,$,a,j){return Object.create(C.prototype,{JSON:{value:j},prefix:{value:c},window:{value:$},document:{value:a}});}m.exports=C;},{"./common.config.private":5}],5:[function(r,m,a){"use strict";function b(C,$,j){var s="meta[name^='"+C+"']:not([name=''])";var M=$.querySelectorAll(s);var f=[];Array.prototype.slice.call(M).forEach(function(o){try{f.push(j.parse(o.content));}catch(e){}});return f;}function c(M,C,e,j){var A;if(!C){return;}A=e?j.parse(j.stringify(C)):C;Object.keys(A).forEach(function(k){if(typeof M[k]==="object"&&typeof A[k]==="object"){c(M[k],A[k],false);return;}M[k]=A[k];});}function d(M,x,s,$,j){var C="sap-ushell-config";$[C]=$[C]||{};M.forEach(function(o){c($[C],o,true,j);});s&&s.forEach(function(S){c($[C],S,true,j);});$["sap-ui-config"]={"xx-bootTask":x};}m.exports.readConfigItemsFromMeta=b;m.exports.createGlobalConfigs=d;m.exports.mergeConfig=c;},{}],6:[function(r,m,e){"use strict";var g=r("./common.boot.path");m.exports=function loadContent(s,q){var b=g();var v=q.sap.getUriParameters().get("sap-ushell-cdm-site-url");var c=s.ushell.Container.createRenderer();if(v){q.sap.getObject("sap-ushell-config.services.CommonDataModel.adapter.config",0).cdmSiteUrl=v;}q.sap.setIcons({"phone":b+'/sap/ushell/themes/base/img/launchicons/57_iPhone_Desktop_Launch.png',"phone@2":b+'/sap/ushell/themes/base/img/launchicons/114_iPhone-Retina_Web_Clip.png',"tablet":b+'/sap/ushell/themes/base/img/launchicons/72_iPad_Desktop_Launch.png',"tablet@2":b+'/sap/ushell/themes/base/img/launchicons/144_iPad_Retina_Web_Clip.png',"favicon":b+'/sap/ushell/themes/base/img/launchpad_favicon.ico',"precomposed":true});q.sap.require("sap.ushell.iconfonts");q.sap.require("sap.ushell.services.AppConfiguration");s.ushell.iconfonts.registerFiori2IconFont();q("#canvas").empty();c.placeAt("canvas");};},{"./common.boot.path":2}],7:[function(r,m,e){"use strict";var g=r("./common.boot.path");var G=r("./common.boot.script");m.exports=function loadSplashscreen($){var b=g($);var R="apple-touch-startup-image";var c=G($);[{href:"320_x_460.png",media:"(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)"},{href:"640_x_920.png",media:"(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"},{href:"640_x_1096.png",media:"(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"},{href:"768_x_1004.png",media:"(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)"},{href:"1024_x_748.png",media:"(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)"},{href:"1536_x_2008.png",media:"(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)"},{href:"2048_x_1496.png",media:"(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)"}].forEach(function(s){var l=$.createElement("link");l.rel=R;l.href=b+s.href;l.media=s.media;$.head.insertBefore(l,c);});};},{"./common.boot.path":2,"./common.boot.script":3}],8:[function(r,m,e){"use strict";m.exports.loadSplashscreen=r("./common.load.splashscreen");m.exports.getBootPath=r("./common.boot.path");m.exports.ConfigUtil=r("./common.config");m.exports.onUI5Init=r("./common.load.content");},{"./common.boot.path":2,"./common.config":4,"./common.load.content":6,"./common.load.splashscreen":7}]},{},[1]);
},
	"sap/ushell/bootstrap/cdm/cdm-def.js":function(){"use strict";(function($,a,j,u){var s,S;var U=u.getBootPath(a);var o={"":U};var d=/sap-ui-debug=(true|x|X)/.test($.location.search);var c=new u.ConfigUtil("sap.ushellConfig",$,a,j);var x=function(C){$.jQuery.sap.require("sap.ushell.services.Container");$.sap.ushell.bootstrap("local").done(C);};$.fnOnUI5Init=u.onUI5Init;try{if(!d){S=$.localStorage.getItem("sap-ui-debug");d=!!S&&/^(true|x|X)$/.test(S);}}catch(e){}c.createGlobalConfigs(x,null);$["sap-ushell-config"]["sap-ui-debug"]=d;s="<script id='sap-ui-bootstrap' src='"+U+"/sap/fiori/core-min-0.js' "+"data-sap-ui-evt-oninit='fnOnUI5Init( sap, jQuery );' "+"data-sap-ui-xx-bindingSyntax='complex' "+"data-sap-ui-libs='sap.fiori, sap.m, sap.ushell' "+"data-sap-ui-theme='sap_belize' "+"data-sap-ui-compatVersion='1.16' "+"data-sap-ui-resourceroots='"+JSON.stringify(o)+"' "+"><\/script>";if(!d){s+="<script src='"+U+"/sap/fiori/core-min-1.js' "+"><\/script>"+"<script src='"+U+"/sap/fiori/core-min-2.js' "+"><\/script>"+"<script src='"+U+"/sap/fiori/core-min-3.js' "+"><\/script>";}a.write(s);})(window,document,JSON,require("../common/"));
},
	"sap/ushell/bootstrap/common/common.boot.path.js":'"use strict";var fnGetBootScript=require("./common.boot.script");var sBootPath;\nmodule.exports=function getBootPath($){var b;if(!sBootPath){b=fnGetBootScript($);if(b){sBootPath=b.src.split("/").slice(0,-4).join("/");}else{}}return sBootPath;};\n',
	"sap/ushell/bootstrap/common/common.boot.script.js":function(){"use strict";
module.exports=function getBootScript($){return $.getElementById("sap-ushell-bootstrap");};
},
	"sap/ushell/bootstrap/common/common.config.js":'"use strict";var fn=require("./common.config.private");\nConfigUtil.prototype.createGlobalConfigs=function(x,s){var m=fn.readConfigItemsFromMeta(this.prefix,this.document,this.JSON);fn.createGlobalConfigs(m,x,s,this.window,this.JSON);};\nfunction ConfigUtil(c,$,a,j){return Object.create(ConfigUtil.prototype,{JSON:{value:j},prefix:{value:c},window:{value:$},document:{value:a}});}\nmodule.exports=ConfigUtil;\n',
	"sap/ushell/bootstrap/common/common.config.private.js":'"use strict";\nfunction readConfigItemsFromMeta(c,$,j){var s="meta[name^=\'"+c+"\']:not([name=\'\'])";var m=$.querySelectorAll(s);var C=[];Array.prototype.slice.call(m).forEach(function(M){try{C.push(j.parse(M.content));}catch(e){}});return C;}\nfunction mergeConfig(m,c,C,j){var a;if(!c){return;}a=C?j.parse(j.stringify(c)):c;Object.keys(a).forEach(function(k){if(typeof m[k]==="object"&&typeof a[k]==="object"){mergeConfig(m[k],a[k],false);return;}m[k]=a[k];});}\nfunction createGlobalConfigs(m,x,s,$,j){var c="sap-ushell-config";$[c]=$[c]||{};m.forEach(function(C){mergeConfig($[c],C,true,j);});s&&s.forEach(function(S){mergeConfig($[c],S,true,j);});$["sap-ui-config"]={"xx-bootTask":x};}\nmodule.exports.readConfigItemsFromMeta=readConfigItemsFromMeta;module.exports.createGlobalConfigs=createGlobalConfigs;module.exports.mergeConfig=mergeConfig;\n',
	"sap/ushell/bootstrap/common/common.load.content.js":'"use strict";var fnGetBootPath=require("./common.boot.path");\nmodule.exports=function loadContent(s,q){var b=fnGetBootPath();var v=q.sap.getUriParameters().get("sap-ushell-cdm-site-url");var c=s.ushell.Container.createRenderer();if(v){q.sap.getObject("sap-ushell-config.services.CommonDataModel.adapter.config",0).cdmSiteUrl=v;}q.sap.setIcons({"phone":b+"/sap/ushell/themes/base/img/launchicons/57_iPhone_Desktop_Launch.png","phone@2":b+"/sap/ushell/themes/base/img/launchicons/114_iPhone-Retina_Web_Clip.png","tablet":b+"/sap/ushell/themes/base/img/launchicons/72_iPad_Desktop_Launch.png","tablet@2":b+"/sap/ushell/themes/base/img/launchicons/144_iPad_Retina_Web_Clip.png","favicon":b+"/sap/ushell/themes/base/img/launchpad_favicon.ico","precomposed":true});q.sap.require("sap.ushell.iconfonts");q.sap.require("sap.ushell.services.AppConfiguration");s.ushell.iconfonts.registerFiori2IconFont();q("#canvas").empty();c.placeAt("canvas");};\n',
	"sap/ushell/bootstrap/common/common.load.splashscreen.js":'"use strict";var fnGetBootPath=require("./common.boot.path");var fnGetBootScript=require("./common.boot.script");\nmodule.exports=function loadSplashscreen($){var b=fnGetBootPath($);var r="apple-touch-startup-image";var c=fnGetBootScript($);[{href:"320_x_460.png",media:"(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)"},{href:"640_x_920.png",media:"(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"},{href:"640_x_1096.png",media:"(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"},{href:"768_x_1004.png",media:"(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)"},{href:"1024_x_748.png",media:"(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)"},{href:"1536_x_2008.png",media:"(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)"},{href:"2048_x_1496.png",media:"(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)"}].forEach(function(s){var l=$.createElement("link");l.rel=r;l.href=b+s.href;l.media=s.media;$.head.insertBefore(l,c);});};\n',
	"sap/ushell/bootstrap/common/index.js":function(){"use strict";module.exports.loadSplashscreen=require("./common.load.splashscreen");module.exports.getBootPath=require("./common.boot.path");module.exports.ConfigUtil=require("./common.config");module.exports.onUI5Init=require("./common.load.content");
},
	"sap/ushell/components/tiles/generic.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ushell.components.tiles.sbtilecontent");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");jQuery.sap.require("sap.ui.core.mvc.Controller");"use strict";sap.ui.core.mvc.Controller.extend("sap.ushell.components.tiles.generic",{getTile:function(){return this.oKpiTileView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},logError:function(e){this._updateTileModel({value:"",scale:"",unit:""});jQuery.sap.log.error(e);if(this.getView().getViewData().deferredObj){this.getView().getViewData().deferredObj.reject();}else{this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Failed);}},getKeyForCallCheck:function(){if(this.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){return this.oConfig.TILE_PROPERTIES.id+"left";}else{return this.oConfig.TILE_PROPERTIES.id+"right";}},getRelativeTime:function(){var c=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();if(jQuery.type(this.cacheTime)=="date"){var t=this.cacheTime;}else{var t=new Date(parseInt(this.cacheTime.substr(6),10));}var r=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(c-t);var a;switch(r.unit){case"minutes":var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"minutes");c=c-o;a=new Date(c);break;case"hours":var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"hours");c=c-o;a=new Date(c);break;case"days":var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"days");c=c-o;a=new Date(c);break;}return a;},setTimeStamp:function(d){this.updateTimeStampjobScheduled=false;var f=sap.ui.core.format.DateFormat.getDateTimeInstance({relative:true,relativeSource:"auto",style:"short"});var t=f.format(this.getRelativeTime());this.oKpiTileView.oNVConfS.setRefreshOption(true);this.oKpiTileView.oNVConfS.setTimestamp(t);this.updateTimeStampjobScheduled=false;var k=this.oConfig.TILE_PROPERTIES.id+"time";var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}sap.ushell.components.tiles.indicatorTileUtils.util.scheduleTimeStampJob.call(this,this.oTileApi.visible.isVisible());},isACurrencyMeasure:function(m){var u=this.DEFINITION_DATA.EVALUATION.ODATA_URL;var e=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;return sap.ushell.components.tiles.indicatorTileUtils.util.getFormattingMetadata(this.oTileApi.url.addSystemToServiceUrl(u),e,m)._hasCurrency;},isCurrencyMeasure:function(m){var t=this;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(c&&c.Data){var k=c.Data&&JSON.parse(c.Data);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){k=k.leftData;}else{k=k.rightData;}}if(t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatorcomparison.ComparisonTile"||t.oConfig.TILE_PROPERTIES.tileType==="CM"){if(k&&k.data&&k.data.length){for(var i=0;i<k.data.length;i++){if(k.data[i]&&k.data[i].measure==m){if(jQuery.type(k.data[i].isCurM)=="boolean"){return k.data[i].isCurM;}else{return t.isACurrencyMeasure(m);}break;}else{return t.isACurrencyMeasure(m);}}}else{return t.isACurrencyMeasure(m);}}if(k&&jQuery.type(k.isCurM)=="boolean"){return k.isCurM;}else{return t.isACurrencyMeasure(m);}}else{return t.isACurrencyMeasure(m);}},formSelectStatement:function(o){var t=Object.keys(o);var f="";for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f=f+","+o[t[i]];}}return f;},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);if(c&&c.data&&c.data.results&&c.data.results.length){T.trendValue=Number(c.data.results[0][T.sTrend]);T.targetValue=Number(c.data.results[0][T.sTarget]);T.criticalHighValue=Number(c.data.results[0][T.sCriticalHigh]);T.warningHighValue=Number(c.data.results[0][T.sWarningHigh]);}break;case"MA":T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);if(c&&c.data&&c.data.results&&c.data.results.length){T.criticalLowValue=Number(c.data.results[0][T.sCriticalLow]);T.warningLowValue=Number(c.data.results[0][T.sWarningLow]);T.trendValue=Number(c.data.results[0][T.sTrend]);T.targetValue=Number(c.data.results[0][T.sTarget]);}break;case"RA":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);if(c&&c.data&&c.data.results&&c.data.results.length){T.criticalLowValue=Number(c.data.results[0][T.sCriticalLow]);T.warningLowValue=Number(c.data.results[0][T.sWarningLow]);T.trendValue=Number(c.data.results[0][T.sTrend]);T.targetValue=Number(c.data.results[0][T.sTarget]);T.criticalHighValue=Number(c.data.results[0][T.sCriticalHigh]);T.warningHighValue=Number(c.data.results[0][T.sWarningHigh]);}break;}}else if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","FIXED");T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","FIXED");}return T;}catch(e){t.logError(e);}},setNoData:function(){var v=this.getView().getViewData();if(v.parentController){v.parentController.setNoData();if(v.deferredObj){v.deferredObj.resolve();}}else{try{this._updateTileModel({value:"",scale:"",unit:"",footerNum:this.oResourceBundle.getText("sb.noDataAvailable"),footerComp:this.oResourceBundle.getText("sb.noDataAvailable")});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}catch(e){}}},getLocalCache:function(c){var l={};l.ChipId=c.ChipId;l.Data=c.Data;l.CacheMaxAge=c.CacheMaxAgeUnit;l.CacheMaxAgeUnit=c.CacheMaxAgeUnit;l.CacheType=c.CacheType;l.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();return l;},fetchKpiValue:function(c,E,r,a){var t=this;var k=0;try{var s=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var T=this.setThresholdValues();var m=T.fullyFormedMeasure;var b=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);var d=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var i=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,d,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);var f=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var g=this.getKeyForCallCheck();var h=true;if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){var h=sap.ushell.components.tiles.indicatorTileUtils.util.isCallInProgress(g);if(h==undefined){h=true;}}if(h){if((!b||(!i&&t.oTileApi.visible.isVisible())||f||(a&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh)){sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(g,false);if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,s,m,null,v);if(q){this.QUERY_SERVICE_MODEL=q.model;this.queryUriForKpiValue=q.uri;this.queryServiceUriODataReadRef=this.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(l){t.backEndCallMade=true;t.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(g,true);if(l&&l.results&&l.results.length&&l.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME]!=null){k=l.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var w={};if(q.unit[0]){t._updateTileModel({unit:l.results[0][q.unit[0].name]});w.uom=l.results[0][q.unit[0].name];}if(t.oConfig.TILE_PROPERTIES.frameType=="TwoByOne"){w.numericValue=k;}else{w.value=k;}if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T.criticalHighValue=l.results[0][T.sCriticalHigh];T.criticalLowValue=l.results[0][T.sCriticalLow];T.warningHighValue=l.results[0][T.sWarningHigh];T.warningLowValue=l.results[0][T.sWarningLow];T.targetValue=l.results[0][T.sTarget];T.trendValue=l.results[0][T.sTrend];}else if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){T.targetValue=Number(l.results[0][T.sTarget]);T.criticalHighValue=T.targetValue*T.criticalHighValue/100;T.criticalLowValue=T.targetValue*T.criticalLowValue/100;T.warningHighValue=T.targetValue*T.warningHighValue/100;T.warningLowValue=T.targetValue*T.warningLowValue/100;T.trendValue=Number(l.results[0][T.sTrend]);}w.cl=T.criticalLowValue;w.ch=T.criticalHighValue;w.wl=T.warningLowValue;w.wh=T.warningHighValue;w.trend=T.trendValue;w.target=T.targetValue;w.isCurM=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var n={};n.ChipId=t.oConfig.TILE_PROPERTIES.id;n.Data=JSON.stringify(w);n.CacheMaxAge=Number(t.chipCacheTime);n.CacheMaxAgeUnit=t.chipCacheTimeUnit;n.CacheType=1;var o=t.getLocalCache(n);if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,o);var u=false;if(b){u=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,n,u,function(l){if(l){t.cacheTime=l&&l.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,l);t.setTimeStamp(t.cacheTime);}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}}else{var p=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(p){if(!p.CachedTime){p.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var x=p.Data;if(x){x=JSON.parse(x);if(t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){x.leftData=w;}else{x.rightData=w;}}p.Data=JSON.stringify(x);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,p);}else{var x={};if(t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){x.leftData=w;}else{x.rightData=w;}o.Data=JSON.stringify(x);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,o);}t.cacheWriteData=w;}t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();t.updateDatajobScheduled=false;var y=t.oConfig.TILE_PROPERTIES.id+"data";var z=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(y);if(z){clearTimeout(z);z=undefined;}c.call(t,k,T);}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,{empty:"empty"});t.setNoData();}},function(l){t.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(g,true);if(l&&l.response){jQuery.sap.log.error(l.message+" : "+l.request.requestUri);E.call(t,l);}});}else{t.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(g,true);t.logError("Error Preparing Query Service URI");}}}else{if(t.DEFINITION_DATA.TILE_PROPERTIES.frameType==sap.m.FrameType.OneByOne){if(b&&b.Data){var j=b.Data&&JSON.parse(b.Data);k=j.value;if(j.uom){t._updateTileModel({unit:j.uom});}if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T.criticalHighValue=j.ch;T.criticalLowValue=j.cl;T.warningHighValue=j.wh;T.warningLowValue=j.wl;T.targetValue=j.target;T.trendValue=j.trend;}else if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){T.targetValue=Number(j.target);T.criticalHighValue=T.targetValue*T.ch/100;T.criticalLowValue=T.targetValue*T.cl/100;T.warningHighValue=T.targetValue*T.wh/100;T.warningLowValue=T.targetValue*T.wl/100;T.trendValue=Number(j.trend);}t.cacheTime=b.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(b.CachedTime),t);}c.call(t,k,T);}else{t.setNoData();}}else{if(b&&b.Data){var j=b.Data&&JSON.parse(b.Data);if(t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){j=j.leftData;}else{j=j.rightData;}k=j.numericValue;if(j.unit){t._updateTileModel({unit:j.unit});}if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T.criticalHighValue=j.ch;T.criticalLowValue=j.cl;T.warningHighValue=j.wh;T.warningLowValue=j.wl;T.targetValue=j.target;T.trendValue=j.trend;}else if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){T.targetValue=Number(j.target);T.criticalHighValue=T.targetValue*T.criticalHighValue/100;T.criticalLowValue=T.targetValue*T.criticalLowValue/100;T.warningHighValue=T.targetValue*T.warningHighValue/100;T.warningLowValue=T.targetValue*T.warningLowValue/100;T.trendValue=Number(j.trend);}t.cacheTime=b.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(b.CachedTime),t);}c.call(t,k,T);}else{t.setNoData();}}}}}catch(e){t.logError(e);}},getRunTimeODataModel:function(u,s){if(!this.oRunTimeODataModel){this.oRunTimeODataModel=sap.ushell.components.tiles.indicatorTileUtils.util.getODataModelByServiceUri(u);}if(this.oRunTimeODataModel.getServiceMetadata()){s();}else{this.oRunTimeODataModel.attachMetadataLoaded(s);}},parse_sapclient:function(){var i,S,r,f,a;S="P_SAPClient";r="$$$";f=this.oConfig.EVALUATION_FILTERS;if(f.constructor!==Array){return;}if(f.length<1){return;}for(i in f){a=f[i];if(a["NAME"]===S&&a["VALUE_1"]===r){break;}a=null;}if(a){jQuery.when(sap.ushell.components.tiles.indicatorTileUtils.util.getHanaClient()).done(function(c){a["VALUE_1"]=c;});}},fetchEvaluation:function(c,a,r,i){var t=this;var p=this.oConfig.TILE_PROPERTIES.sb_metadata||"HANA";t.DEFINITION_DATA=c;t._updateTileModel(this.DEFINITION_DATA);var b=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);if((t.oTileApi.visible.isVisible()&&!t.firstTimeVisible)||b||i){jQuery.when(sap.ushell.components.tiles.indicatorTileUtils.util.getFrontendCache(c,t.oTileApi)).done(function(d){t.firstTimeVisible=true;d=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(d||Number(t.oTileApi.configuration.getParameterValueAsString("isSufficient"))){a.call();}else{try{if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)||!t.dataCallInProgress){t.dataCallInProgress=true;var f=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(t.oConfig.TILE_PROPERTIES.id);if(f){t.oConfig.EVALUATION_FILTERS=f.EVALUATION_FILTERS;a.call();}else if(t.evaluationFetchDeferred){t.evaluationFetchDeferred=false;sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(t.oConfig,t.oTileApi,function(g){t.evaluationFetchDeferred=true;t.oConfig.EVALUATION_FILTERS=g;if(p.toUpperCase()==="HANA"){t.parse_sapclient();}sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);a.call();});}}}catch(e){t.evaluationFetchDeferred=true;t.logError("no evaluation data");}}}).fail(function(){t.firstTimeVisible=true;if(Number(t.oTileApi.configuration.getParameterValueAsString("isSufficient"))){a.call();}else{try{var d=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(t.oConfig.TILE_PROPERTIES.id);if(d){t.oConfig.EVALUATION_FILTERS=d.EVALUATION_FILTERS;a.call();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(t.oConfig,t.oTileApi,function(f){t.oConfig.EVALUATION_FILTERS=f;if(p.toUpperCase()==="HANA"){t.parse_sapclient();}sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);a.call();});}}catch(e){t.logError("no evaluation data");}}});}},refreshHandler:function(r,a){var t=this;var i=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var b=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(a);if(!t.firstTimeVisible||i||b){t.fetchEvaluation(t.oConfig,function(){if(t.oConfig.TILE_PROPERTIES.tileType=="NT"||t.oConfig.TILE_PROPERTIES.tileType=="AT"||t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"||t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatordeviation.DeviationTile"){var u=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);t.getRunTimeODataModel(u,function(){if(t.KPI_VALUE_REQUIRED){t.fetchKpiValue(function(k,T){this.KPIVALUE=k;t.doProcess(k,T);},t.logError,r,b);}else{t.doProcess();}});}else{var u=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);t.getRunTimeODataModel(u,function(){if(t.KPI_VALUE_REQUIRED){t.doProcess(t.KPIVALUE,t.setThresholdValues());}else{t.doProcess(i,b);}});}},r,b);}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){this.refreshHandler(this);}},getChipConfiguration:function(c){var t=this;try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(t.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),t.oTileApi.preview.isEnabled(),function(a){t.oConfig=a;var b=sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig);var s=sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig);if(t.oTileApi.search){t.oTileApi.search.setKeywords([b,s]);}if(t.oTileApi.preview){t.oTileApi.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}c.call();});}catch(e){t.logError(e.message);}},onAfterTileRendering:function(){var t=this;this.firstTimeVisible=false;this.oKpiTileView=this.getView();this.updateDatajobScheduled=false;this.updateTimeStampjobScheduled=false;this.oViewData=this.oKpiTileView.getViewData();this.tilePressed=false;this.kpiValueFetchDeferred=true;this.evaluationFetchDeferred=true;this.backEndCallMade=false;if(!sap.ushell.components.tiles.utils){jQuery.sap.require("sap.ushell.components.tiles.utils");}this.oResourceBundle=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();this.oTileApi=this.oViewData.chip;this.system=this.oTileApi.url.getApplicationSystem();this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loading);this.getChipConfiguration(function(){t.chipCacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(t.oConfig);t.chipCacheTimeUnit=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(t.oConfig);if(t.oTileApi.preview.isEnabled()){t.doDummyProcess();t.oKpiTileView.oGenericTile.attachPress(function(){sap.m.MessageToast.show(t.oResourceBundle.getText("sb.NavigationHelp"));});}else if(t.oConfig.BLANKTILE||t.oConfig.TILE_PROPERTIES.blankTile){t.doDummyProcess();var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oKpiTileView.oGenericTile.$().wrap("<a href ='"+n+"'/>");t.oKpiTileView.oGenericTile.attachPress(function(){t.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=n;});}else{if(t.oTileApi.visible&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){t.oTileApi.visible.attachVisible(t.visibleHandler.bind(t));}var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oKpiTileView.oGenericTile.$().wrap("<a href ='"+n+"' style='display: block;'/>");t.oKpiTileView.oGenericTile.attachPress(function(){t.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=n;});if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){t.oKpiTileView.oNVConfS.attachRefresh(function(){t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loading);jQuery.proxy(t.refreshHandler(true),t);});}t.fetchEvaluation(t.oConfig,function(){t.DEFINITION_DATA=t.oConfig;var u=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);var c=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var i=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,c,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);if(!i||t.getView().getViewData().refresh){t.getRunTimeODataModel(u,function(){if(t.KPI_VALUE_REQUIRED){t.fetchKpiValue(function(k,T){this.KPIVALUE=k;t.doProcess(k,T);},t.logError);}else{t.doProcess();}});}else{if(t.KPI_VALUE_REQUIRED){t.fetchKpiValue(function(k,T){this.KPIVALUE=k;t.doProcess(k,T);},t.logError);}else{t.doProcess();}}});}});},onAfterRendering:function(){this.onAfterTileRendering();},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new sap.ui.model.json.JSONModel({}));}},autoFormatter:function(n,i){i=i||false;if(!n){return"";}return sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(n),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,i);},setToolTip:function(a,c,t){var b=this;var C;var T=this.setThresholdValues();var m=this.oConfig.EVALUATION.COLUMN_NAME;var i=this.isCurrencyMeasure(m);if(t=="CONT"||t=="COMP"){if(this.oKpiTileView.getContent()[0].getTileContent().length){C=b.oKpiTileView.getContent()[0].getTileContent()[0].getContent();var d,e,f,v,g,h,j,k,l;if(c&&c[0]){d=c[0].title;v=this.autoFormatter(c[0].value,i);j=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(c[0].color);}if(c&&c[1]){e=c[1].title;g=this.autoFormatter(c[1].value,i);k=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(c[1].color);}if(c&&c[2]){f=c[2].title;h=this.autoFormatter(c[2].value,i);l=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(c[2].color);}var o={};o["0"]=this.oConfig.EVALUATION.COLUMN_NAME+",asc";o["1"]=this.oConfig.EVALUATION.COLUMN_NAME+",desc";o["2"]=this.oConfig.TILE_PROPERTIES.dimension+",asc";o["3"]=this.oConfig.TILE_PROPERTIES.dimension+",desc";var n=o[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");var p={measure:this.oConfig.EVALUATION.COLUMN_NAME,contributionTile:n,m1:d,v1:v,c1:j,m2:e,v2:g,c2:k,m3:f,v3:h,c3:l};sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,t,p);}}else{var s="";if(a=="Error"){s="sb.error";}if(a=="Neutral"){s="sb.neutral";}if(a=="Critical"){s="sb.critical";}if(a=="Good"){s="sb.good";}var p={status:s,actual:this.autoFormatter(c,i),target:this.autoFormatter(T.targetValue,i),cH:this.autoFormatter(T.criticalHighValue,i),wH:this.autoFormatter(T.warningHighValue,i),wL:this.autoFormatter(T.warningLowValue,i),cL:this.autoFormatter(T.criticalLowValue,i)};var C=b.oKpiTileView.getContent()[0].getTileContent()[0]&&b.oKpiTileView.getContent()[0].getTileContent()[0].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,t,p);}},getTrendColor:function(t){var a=this,w,c,b,d;try{var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;this.DEFINITION_DATA.EVALUATION_VALUES;var r=sap.m.ValueColor.Neutral;if(i==="MI"){if(t.criticalHighValue&&t.warningHighValue){d=Number(t.criticalHighValue);b=Number(t.warningHighValue);if(this.CALCULATED_KPI_VALUE<b){r=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=d){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Error;}}}else if(i==="MA"){if(t.criticalLowValue&&t.warningLowValue){c=Number(t.criticalLowValue);w=Number(t.warningLowValue);if(this.CALCULATED_KPI_VALUE<c){r=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=w){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}else{if(t.warningLowValue&&t.warningHighValue&&t.criticalLowValue&&t.criticalHighValue){d=Number(t.criticalHighValue);b=Number(t.warningHighValue);w=Number(t.warningLowValue);c=Number(t.criticalLowValue);if(this.CALCULATED_KPI_VALUE<c||this.CALCULATED_KPI_VALUE>d){r=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=c&&this.CALCULATED_KPI_VALUE<=w)||(this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=d)){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}return r;}catch(e){a.logError(e);}},getTrendIndicator:function(t){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>this.CALCULATED_KPI_VALUE){b=sap.m.DeviationIndicator.Down;}else if(t<this.CALCULATED_KPI_VALUE){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},setTextInTile:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},_getEvaluationThresholdMeasures:function(){var t=[];t.push(this.oConfig.EVALUATION.COLUMN_NAME);if(this.oConfig.EVALUATION.VALUES_SOURCE==="MEASURE"){var a=this.oConfig.EVALUATION_VALUES;if(a&&a.length){for(var i=0;i<a.length;i++){if((a[i]).COLUMN_NAME&&!((a[i]).FIXED)){t.push((a[i]).COLUMN_NAME);}}}}return t;},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}});}());
},
	"sap/ushell/components/tiles/indicatorArea/AreaChartTile.controller.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.generic");sap.ushell.components.tiles.generic.extend("sap.ushell.components.tiles.indicatorArea.AreaChartTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false;},doProcess:function(r,i){this.onAfterFinalEvaluation(r,i);},doDummyProcess:function(){var t=this;this.setTextInTile();t._updateTileModel({footer:"",description:"",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);},scheduleJob:function(d){if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}},onAfterFinalEvaluation:function(r,d){var t=this;var u=this.DEFINITION_DATA.EVALUATION.ODATA_URL;var E=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var m=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var f=this.DEFINITION_DATA.TILE_PROPERTIES.dimension;if(f==undefined){this.logError();return;}var g=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var h=this.DEFINITION_DATA.EVALUATION_VALUES;var j=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(j){var k=j.Data&&JSON.parse(j.Data);}}var l=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var n=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,l,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);var o=m;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(g){case"MI":t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");if(t.sWarningHigh&&t.sCriticalHigh&&t.sTarget){o+=","+t.sWarningHigh+","+t.sCriticalHigh+","+t.sTarget;}break;case"MA":t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");if(t.sWarningLow&&t.sCriticalLow&&t.sTarget){o+=","+t.sWarningLow+","+t.sCriticalLow+","+t.sTarget;}break;case"RA":t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");if(t.sWarningLow&&t.sCriticalLow&&t.sTarget&&t.sWarningHigh&&t.sCriticalHigh){o+=","+t.sWarningLow+","+t.sCriticalLow+","+t.sTarget+","+t.sWarningHigh+","+t.sCriticalHigh;}break;}}var p=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);if((k&&!k.rightData)||!j||(!n&&t.oTileApi.visible.isVisible())||p||(d&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh){if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),E,o,f,v);if(q){this.queryUriForTrendChart=q.uri;var w={};try{this.trendChartODataReadRef=q.model.read(q.uri,null,null,true,function(a){t.kpiValueFetchDeferred=true;if(a&&a.results&&a.results.length){if(q.unit[0]){t.unit=a.results[0][q.unit[0].name];t.CURRENCY_CODE=t.unit;w.unit=q.unit[0];w.unit.name=q.unit[0].name;}t.queryUriResponseForTrendChart=a;f=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oTileApi.url.addSystemToServiceUrl(u),E,f);a.results.splice(3);a.firstXlabel=a.results[0][f];a.lastXlabel=a.results[a.results.length-1][f];w.data=a;if(w&&w.data&&w.data.results&&w.data.results.length){for(var i=0;i<w.data.results.length;i++){delete w.data.results[i].__metadata;}}w.isCurM=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);w.dimensionName=f;_(a,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);var c={};t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();c.ChipId=t.oConfig.TILE_PROPERTIES.id;c.Data=JSON.stringify(w);c.CacheMaxAge=Number(t.chipCacheTime);c.CacheMaxAgeUnit=t.chipCacheTimeUnit;c.CacheType=1;var b=t.getLocalCache(c);if(t.DEFINITION_DATA.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){var y=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(y){if(!y.CachedTime){y.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var z=y.Data;if(z){z=JSON.parse(z);z.rightData=w;}y.Data=JSON.stringify(z);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,y);}else{var z={};z.rightData=w;b.Data=JSON.stringify(z);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,b);}t.cacheWriteData=w;t.getView().getViewData().deferredObj.resolve();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,b);var U=false;if(j){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,c,U,function(a){if(a){t.cacheTime=a&&a.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,a);t.setTimeStamp();}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);t.updateDatajobScheduled=false;var A=t.oConfig.TILE_PROPERTIES.id+"data";var B=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(A);if(B){clearTimeout(B);B=undefined;}jQuery.proxy(t.scheduleJob(t.cacheTime),t);}}else{t.setNoData();}},function(a){t.kpiValueFetchDeferred=true;if(a&&a.response){t.logError("Data call failed");}});}catch(e){t.kpiValueFetchDeferred=true;t.logError(e);}}else{t.kpiValueFetchDeferred=true;t.logError();}}}else{if(j&&j.Data){try{var s;var x=t.oConfig&&t.oConfig.TILE_PROPERTIES&&t.oConfig.TILE_PROPERTIES.tileType;if(x.indexOf("DT-")==-1){s=j.Data&&JSON.parse(j.Data);}else{s=j.Data&&JSON.parse(j.Data);s=s.rightData;}if(s.unit){t.unit=s.data.results[0][s.unit.name];t.CURRENCY_CODE=t.unit;}t.cacheTime=j.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}t.queryUriResponseForTrendChart=s.data;f=s.dimensionName;_(s.data,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);if(t.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.OneByOne){t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.getView().getViewData().deferredObj.resolve();}jQuery.proxy(t.scheduleJob(t.cacheTime),t);}catch(e){t.logError(e);}}else{t.setNoData();}}function _(y,z){var A=[];var B=[];var C=[];var D=[];var F=[];var G=[];var H=y.firstXlabel;var I,J,K,L,M;var N=y.lastXlabel;var O=Number(y.results[0][m]);var P=Number(y.results[y.results.length-1][m]);var i;for(i in y.results){y.results[i][f]=Number(i);y.results[i][m]=Number(y.results[i][m]);t.sWarningHigh?y.results[i][t.sWarningHigh]=Number(y.results[i][t.sWarningHigh]):"";t.sCriticalHigh?y.results[i][t.sCriticalHigh]=Number(y.results[i][t.sCriticalHigh]):"";t.sCriticalLow?y.results[i][t.sCriticalLow]=Number(y.results[i][t.sCriticalLow]):"";t.sWarningLow?y.results[i][t.sWarningLow]=Number(y.results[i][t.sWarningLow]):"";t.sTarget?y.results[i][t.sTarget]=Number(y.results[i][t.sTarget]):"";t.sWarningHigh?C.push(y.results[i][t.sWarningHigh]):"";t.sCriticalHigh?D.push(y.results[i][t.sCriticalHigh]):"";t.sCriticalLow?F.push(y.results[i][t.sCriticalLow]):"";t.sWarningLow?G.push(y.results[i][t.sWarningLow]):"";A.push(y.results[i][f]);B.push(y.results[i][m]);}try{H=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(H);N=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(N);}catch(e){t.logError(e);}var Q=Number(O);if(t.oConfig.EVALUATION.SCALING==-2){Q*=100;}var R=Math.min.apply(Math,B);var c=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Q,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION,c,t.CURRENCY_CODE);if(t.oConfig.EVALUATION.SCALING==-2){S+=" %";}var T=S.toString();var U=Number(P);if(t.oConfig.EVALUATION.SCALING==-2){U*=100;}var V=Math.max.apply(Math,B);c=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var W=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(U,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION,c,t.CURRENCY_CODE);if(t.oConfig.EVALUATION.SCALING==-2){W+=" %";}var X=W.toString();try{var Y=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.min.apply(Math,A));var Z=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.max.apply(Math,A));}catch(e){t.logError(e);}if(z=="MEASURE"){(C.length!=0)?(t.firstwH=C[Y])&&(t.lastwH=C[Z]):"";(D.length!=0)?(t.firstcH=D[Y])&&(t.lastcH=D[Z]):"";(F.length!=0)?(t.firstcL=F[Y])&&(t.lastcL=F[Z]):"";(G.length!=0)?(t.firstwL=G[Y])&&(t.lastwL=G[Z]):"";}var $={width:"100%",height:"100%",unit:t.unit||"",chart:{color:"Neutral",data:y.results},size:"Auto",minXValue:Y,maxXValue:Z,minYValue:R,maxYValue:V,firstXLabel:{label:H+"",color:"Neutral"},lastXLabel:{label:N+"",color:"Neutral"},firstYLabel:{label:T+"",color:"Neutral"},lastYLabel:{label:X+"",color:"Neutral"},minLabel:{},maxLabel:{}};switch(g){case"MA":for(i in h){if(h[i].TYPE=="CL"){$.minThreshold={color:"Error"};var a1={};a1[f]="";a1[m]=Number(h[i].FIXED);t.cl=Number(h[i].FIXED);$.minThreshold.data=(z=="MEASURE")?y.results:[a1];I=(z=="MEASURE")?t.sCriticalLow:m;}else if(h[i].TYPE=="WL"){$.maxThreshold={color:"Good"};var a1={};a1[f]="";a1[m]=Number(h[i].FIXED);$.maxThreshold.data=(z=="MEASURE")?y.results:[a1];J=(z=="MEASURE")?t.sWarningLow:m;t.wl=Number(h[i].FIXED);}else if(h[i].TYPE=="TA"){var a1={};a1[f]="";a1[m]=Number(h[i].FIXED);$.target={color:"Neutral"};$.target.data=(z=="MEASURE")?y.results:[a1];M=(z=="MEASURE")?t.sTarget:m;}}$.innerMinThreshold={data:[]};$.innerMaxThreshold={data:[]};if(z=="FIXED"){$.firstYLabel.color=O<t.cl?"Error":((t.cl<=O)&&(O<=t.wl))?"Critical":(O>t.wl)?"Good":"Neutral";$.lastYLabel.color=P<t.cl?"Error":((t.cl<=P)&&(P<=t.wl))?"Critical":(P>t.wl)?"Good":"Neutral";}else if(z=="MEASURE"&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL){$.firstYLabel.color=O<t.firstcL?"Error":((t.firstcL<=O)&&(O<=t.firstwL))?"Critical":(O>t.firstwL)?"Good":"Neutral";$.lastYLabel.color=P<t.lastcL?"Error":((t.lastcL<=P)&&(P<=t.lastwL))?"Critical":(P>t.lastwL)?"Good":"Neutral";}break;case"MI":for(i in h){if(h[i].TYPE=="CH"){var a1={};a1[f]="";a1[m]=Number(h[i].FIXED);t.ch=Number(h[i].FIXED);$.maxThreshold={color:"Error"};$.maxThreshold.data=(z=="MEASURE")?y.results:[a1];J=(z=="MEASURE")?t.sCriticalHigh:m;}else if(h[i].TYPE=="WH"){var a1={};a1[f]="";a1[m]=Number(h[i].FIXED);t.wh=Number(h[i].FIXED);$.minThreshold={color:"Good"};$.minThreshold.data=(z=="MEASURE")?y.results:[a1];I=(z=="MEASURE")?t.sWarningHigh:m;}else if(h[i].TYPE=="TA"){var a1={};a1[f]="";a1[m]=Number(h[i].FIXED);$.target={color:"Neutral"};$.target.data=(z=="MEASURE")?y.results:[a1];M=(z=="MEASURE")?t.sTarget:m;}}if(z=="FIXED"){$.firstYLabel.color=O>t.ch?"Error":((t.wh<=O)&&(O<=t.ch))?"Critical":(O<t.wh)?"Good":"Neutral";$.lastYLabel.color=P>t.ch?"Error":((t.wh<=P)&&(P<=t.ch))?"Critical":(P<t.wh)?"Good":"Neutral";}else if(z=="MEASURE"&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){$.firstYLabel.color=O>t.firstcH?"Error":((t.firstwH<=O)&&(O<=t.firstcH))?"Critical":(O<t.firstwH)?"Good":"Neutral";$.lastYLabel.color=P>t.lastcH?"Error":((t.lastwH<=P)&&(P<=t.lastcH))?"Critical":(P<t.lastwH)?"Good":"Neutral";}$.innerMaxThreshold={data:[]};$.innerMinThreshold={data:[]};break;case"RA":for(i in h){if(h[i].TYPE=="CH"){var a1={};a1[f]="";a1[m]=Number(h[i].FIXED);t.ch=Number(h[i].FIXED);$.maxThreshold={color:"Error"};$.maxThreshold.data=(z=="MEASURE")?y.results:[a1];J=(z=="MEASURE")?t.sCriticalHigh:m;}else if(h[i].TYPE=="WH"){var a1={};a1[f]="";a1[m]=Number(h[i].FIXED);t.wh=Number(h[i].FIXED);$.innerMaxThreshold={color:"Good"};$.innerMaxThreshold.data=(z=="MEASURE")?y.results:[a1];L=(z=="MEASURE")?t.sWarningHigh:m;}else if(h[i].TYPE=="WL"){var a1={};a1[f]="";a1[m]=Number(h[i].FIXED);t.wl=Number(h[i].FIXED);$.innerMinThreshold={color:"Good"};$.innerMinThreshold.data=(z=="MEASURE")?y.results:[a1];K=(z=="MEASURE")?t.sWarningLow:m;}else if(h[i].TYPE=="CL"){var a1={};a1[f]="";a1[m]=Number(h[i].FIXED);t.cl=Number(h[i].FIXED);$.minThreshold={color:"Error"};$.minThreshold.data=(z=="MEASURE")?y.results:[a1];I=(z=="MEASURE")?t.sCriticalLow:m;}else if(h[i].TYPE=="TA"){var a1={};a1[f]="";a1[m]=Number(h[i].FIXED);$.target={color:"Neutral"};$.target.data=(z=="MEASURE")?y.results:[a1];M=(z=="MEASURE")?t.sTarget:m;}}if(z=="FIXED"){$.firstYLabel.color=(O>t.ch||O<t.cl)?"Error":((t.wh<=O)&&(O<=t.ch))||((t.cl<=O)&&(O<=t.wl))?"Critical":((O>=t.wl)&&(O<=t.wh))?"Good":"Neutral";$.lastYLabel.color=(P>t.ch||P<t.cl)?"Error":((t.wh<=P)&&(P<=t.ch))||((t.cl<=P)&&(P<=t.wl))?"Critical":((P>=t.wl)&&(P<=t.wh))?"Good":"Neutral";}else if(z=="MEASURE"&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){$.firstYLabel.color=(O>t.firstcH||O<t.firstcL)?"Error":((t.firstwH<=O)&&(O<=t.firstcH))||((t.firstcL<=O)&&(O<=t.firstwL))?"Critical":((O>=t.firstwL)&&(O<=t.firstwH))?"Good":"Neutral";$.lastYLabel.color=(P>t.lastcH||P<t.lastcL)?"Error":((t.lastwH<=P)&&(P<=t.lastcH))||((t.lastcL<=P)&&(P<=t.lastwL))?"Critical":((P>=t.lastwL)&&(P<=t.lastwH))?"Good":"Neutral";}break;}var b1=function(d1,a,b,z){return new sap.suite.ui.microchart.AreaMicroChartItem({color:"{/"+d1+"/color}",points:{path:"/"+d1+"/data",template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:"{"+a+"}",y:"{"+b+"}"})}});};var c1=t.getView().oNVConfContS;c1.setTarget(b1("target",f,M));c1.setInnerMinThreshold(b1("innerMinThreshold",f,K));c1.setInnerMaxThreshold(b1("innerMaxThreshold",f,L));c1.setMinThreshold(b1("minThreshold",f,I));c1.setMaxThreshold(b1("maxThreshold",f,J));c1.setChart(b1("chart",f,m));t.setTextInTile();if(t.getView().getViewData().parentController){t.getView().getViewData().parentController._updateTileModel($);}else{t._updateTileModel($);}}}});}());
},
	"sap/ushell/components/tiles/indicatorDual/DualTile.controller.js":function(){(function(){"use strict";sap.ui.controller("sap.ushell.components.tiles.indicatorDual.DualTile",{getRelativeTime:function(){var c=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();this.cacheTime=(jQuery.type(this.cacheTime)=="date")?this.cacheTime:new Date(parseInt(this.cacheTime.substr(6),10));var r=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(c-this.cacheTime);var a;switch(r.unit){case"minutes":var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"minutes");c=c-o;a=new Date(c);break;case"hours":var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"hours");c=c-o;a=new Date(c);break;case"days":var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"days");c=c-o;a=new Date(c);break;}return a;},getTile:function(){return this.oKpiTileView.oGenericTile;},setTimeStamp:function(){this.updateTimeStampjobScheduled=false;var f=sap.ui.core.format.DateFormat.getDateTimeInstance({relative:true,relativeSource:"auto"});var t=f.format(this.getRelativeTime());var l=this.getView().oGenericTile.getTileContent()[0];l&&l.setRefreshOption&&l.setRefreshOption(true);l&&l.setTimestamp&&l.setTimestamp(t);this.updateTimeStampjobScheduled=false;var k=this.oConfig.TILE_PROPERTIES.id+"time";var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}sap.ushell.components.tiles.indicatorTileUtils.util.scheduleTimeStampJob.call(this,this.oTileApi.visible.isVisible());},getLocalCache:function(c){var l={};l.ChipId=c.ChipId;l.Data=c.Data;l.CacheMaxAge=c.CacheMaxAgeUnit;l.CacheMaxAgeUnit=c.CacheMaxAgeUnit;l.CacheType=c.CacheType;l.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();return l;},refreshPress:function(){this.initProcess(true);},_getView:function(v,d,r){var a=this.oKpiTileView.getViewData();var b=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:v,viewData:jQuery.extend(true,{},a,{parentController:this},{deferredObj:d},{refresh:r})});return b;},logError:function(e){this._updateTileModel({value:"",scale:"",unit:""});if(this.getView().getViewData().deferredObj){this.getView().getViewData().deferredObj.reject();}},doProcess:function(r){sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(this.oKpiTileView.oConfig.TILE_PROPERTIES.id+"defferedLeft",this.deferred_left);sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(this.oKpiTileView.oConfig.TILE_PROPERTIES.id+"defferedRight",this.deferred_right);var t=this;this.getView().oGenericTile.removeAllTileContent();var s=this.getView().oGenericTile;this.leftView;this.rightView;this.system=this.oTileApi.url.getApplicationSystem();this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loading);var a=t.tileType.split("-")[1];try{var v;v="sap.ushell.components.tiles.indicatornumeric.NumericTile";this.leftView=t._getView(v,this.deferred_left,r);this.leftView.getController().dataCallInProgress=false;s.addTileContent(this.leftView.oGenericTile.getTileContent()[0]);switch(a){case"CM":v="sap.ushell.components.tiles.indicatorcomparison.ComparisonTile";this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"CT":v="sap.ushell.components.tiles.indicatorcontribution.ContributionTile";this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"AT":v="sap.ushell.components.tiles.indicatordeviation.DeviationTile";this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"TT":v="sap.ushell.components.tiles.indicatorArea.AreaChartTile";this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;}this.leftView.getController().onAfterTileRendering();this.rightView.getController().onAfterTileRendering();var l=this.getView().oGenericTile.getTileContent()[0];l&&l.attachRefresh&&l.attachRefresh(jQuery.proxy(this.refreshPress,t));}catch(e){this.logError(e);}},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},setTextInTile:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},doDummyProcess:function(){var t=this;try{t.setTextInTile();switch(t.tileType){case"DT-CM":t._updateTileModel({value:1,size:sap.m.Size.Auto,frameType:sap.m.FrameType.TwoByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Good,indicator:sap.m.DeviationIndicator.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1,color:"Good"},{title:"Measure 2",value:2,color:"Good"},{title:"Measure 3",value:3,color:"Good"}]});break;case"DT-AT":t._updateTileModel({valueColor:"Good",value:100,frameType:sap.m.FrameType.TwoByOne,unit:"USD",actual:{value:120,color:sap.m.ValueColor.Good},targetValue:100,thresholds:[{value:0,color:sap.m.ValueColor.Error},{value:50,color:sap.m.ValueColor.Critical},{value:150,color:sap.m.ValueColor.Critical},{value:200,color:sap.m.ValueColor.Error}],showActualValue:true,showTargetValue:true});break;case"DT-CT":t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.TwoByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral",displayValue:""},{title:"EMEA",value:50,color:"Neutral",displayValue:""},{title:"APAC",value:-20,color:"Neutral",displayValue:""}]});break;case"DT-TT":this._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.TwoByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});break;}}catch(e){}},visibleHandler:function(i){if(!i){if(this.leftView){this.leftView.getController().firstTimeVisible=false;}if(this.rightView){this.rightView.getController().firstTimeVisible=false;}sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){if(this.leftView){this.leftView.getController().refreshHandler();}if(this.rightView){this.rightView.getController().refreshHandler();}}},initProcess:function(r){var t=this;this.oKpiTileView=this.getView();this.oResourceBundle=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();this.viewData={};t.viewData=this.oKpiTileView.getViewData();this.oTileApi=this.viewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this));}this.deferred_left=new jQuery.Deferred();this.deferred_right=new jQuery.Deferred();$.when(this.deferred_left,this.deferred_right).done(function(){t.setTextInTile();t.oConfig=t.oKpiTileView.oConfig;t.chipCacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(t.oConfig);t.chipCacheTimeUnit=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(t.oConfig);var l=t.leftView.getController().cacheWriteData;var a=t.rightView.getController().cacheWriteData;t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oKpiTileView.oConfig,t.system);t.oKpiTileView.oGenericTile.$().wrap("<a href ='"+n+"'/>");t.oKpiTileView.oGenericTile.attachPress(function(){t.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oKpiTileView.oConfig.TILE_PROPERTIES.id,null);window.location.hash=n;});var c={};var w={};w.leftData=l;w.rightData=a;c.ChipId=t.oConfig.TILE_PROPERTIES.id;c.Data=JSON.stringify(w);c.CacheMaxAge=Number(t.chipCacheTime);c.CacheMaxAgeUnit=t.chipCacheTimeUnit;c.CacheType=1;var b=t.getLocalCache(c);if(w.leftData&&w.rightData){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,b);}var d=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(t.chipCacheTime&&w.leftData&&w.rightData){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,c,false,function(e){if(e){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,e);t.cacheTime=e.CachedTime;t.setTimeStamp.call(t);}});}if(t.chipCacheTime){if(!t.cacheTime){t.cacheTime=d.CachedTime;}t.setTimeStamp.call(t);sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(t,t.oTileApi.visible.isVisible());}}).fail(function(){t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Failed);});t.tileType=t.oKpiTileView.oConfig.TILE_PROPERTIES.tileType;this.oTileApi=t.viewData.chip;if(this.oTileApi.preview.isEnabled()){this.doDummyProcess();t.oKpiTileView.oGenericTile.attachPress(function(){sap.m.MessageToast.show(t.oResourceBundle.getText("sb.NavigationHelp"));});}else{this.doProcess(r);}},onAfterRendering:function(){this.initProcess();},setNoData:function(){try{this._updateTileModel({value:"",scale:"",unit:"",footerNum:this.oResourceBundle.getText("sb.noDataAvailable"),footerComp:this.oResourceBundle.getText("sb.noDataAvailable")});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}catch(e){}},getChipConfiguration:function(c){var t=this;try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(t.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),t.oTileApi.preview.isEnabled(),function(a){t.oConfig=a;c.call();});}catch(e){t.logError(e.message);}}});}());
},
	"sap/ushell/components/tiles/indicatorDualComparison/DualComparison.controller.js":function(){(function(){"use strict";sap.ui.controller("tiles.indicatorDualComparison.DualComparison",{getTile:function(){return this.oDualComparisonView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},setTitle:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oChip);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},logError:function(e){this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},formSelectStatement:function(o){var t=Object.keys(o);var f="";for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=","+o[t[i]];}}return f;},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"MA":T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"RA":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","FIXED");T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","FIXED");}return T;}catch(e){t.logError(e);}},getTrendColor:function(t){var a=this;var c,w,b,d;try{var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var r=sap.m.ValueColor.Neutral;if(i==="MI"){if(t.criticalHighValue&&t.warningHighValue){c=Number(t.criticalHighValue);w=Number(t.warningHighValue);if(this.CALCULATED_KPI_VALUE<w){r=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=c){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Error;}}}else if(i==="MA"){if(t.criticalLowValue&&t.warningLowValue){b=Number(t.criticalLowValue);d=Number(t.warningLowValue);if(this.CALCULATED_KPI_VALUE<b){r=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=d){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}else{if(t.warningLowValue&&t.warningHighValue&&t.criticalLowValue&&t.criticalHighValue){c=Number(t.criticalHighValue);w=Number(t.warningHighValue);d=Number(t.warningLowValue);b=Number(t.criticalLowValue);if(this.CALCULATED_KPI_VALUE<b||this.CALCULATED_KPI_VALUE>c){r=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=d)||(this.CALCULATED_KPI_VALUE>=w&&this.CALCULATED_KPI_VALUE<=c)){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}return r;}catch(e){a.logError(e);}},_processDataForComparisonChart:function(d,m,u){var f=[],L={},i,t,l;var a;var T=[];var b=this;for(i=0;i<d.results.length;i++){var e=d.results[i];}T=sap.ushell.components.tiles.indicatorTileUtils.util.getAllMeasuresWithLabelText(this.oConfig.EVALUATION.ODATA_URL,this.oConfig.EVALUATION.ODATA_ENTITYSET);for(i=0,l=T.length;i<l;i++){t=T[i];L[t.key]=t.value;}var c=b.oConfig.TILE_PROPERTIES.COLUMN_NAMES||b.oConfig.EVALUATION.COLUMN_NAMES;for(i=0;i<c.length;i++){var g={};var h=c[i];g.value=Number(e[h.COLUMN_NAME]);var j=Number(e[h.COLUMN_NAME]);if(b.oConfig.EVALUATION.SCALING==-2){j*=100;}a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(j,b.oConfig.EVALUATION.SCALING,b.oConfig.EVALUATION.DECIMAL_PRECISION);if(b.oConfig.EVALUATION.SCALING==-2){a+=" %";}g.displayValue=a.toString();if(u[i]&&e[u[i].name]){g.displayValue+=" "+e[u[i].name];}g.color=h.semanticColor;g.title=L[h.COLUMN_NAME]||h.COLUMN_NAME;f.push(g);}return f;},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},fetchKpiValue:function(s,E){var t=this;try{var u=this.oConfig.EVALUATION.ODATA_URL;var a=this.oConfig.EVALUATION.ODATA_ENTITYSET;if(this.oConfig.TILE_PROPERTIES.semanticMeasure){var m=this.oConfig.EVALUATION.COLUMN_NAME+","+this.oConfig.TILE_PROPERTIES.semanticMeasure;}else{var m=this.oConfig.EVALUATION.COLUMN_NAME;var b=m;if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES){for(var j=0;j<this.oConfig.TILE_PROPERTIES.COLUMN_NAMES.length;j++){if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){b=b+","+this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME;}}}}var d=this.oConfig.EVALUATION_VALUES;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!c){var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o={};o["0"]=m+",asc";o["1"]=m+",desc";var f=o[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");var g=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(u),a,b,null,v,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){g.uri+="&$orderby="+f[0]+" "+f[2];}else{g.uri+="&$orderby="+f[0]+" "+f[1];}this.writeData={};this.comparisionChartODataRef=g.model.read(g.uri,null,null,true,function(d){if(d&&d.results&&d.results.length){if(g.unit){t.writeData.unit=g.unit;}t.oConfig.TILE_PROPERTIES.FINALVALUE=d;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,b.split(",")[0],g.unit);t.writeData.data=d;var k,l;for(var i=0;i<t.oConfig.TILE_PROPERTIES.FINALVALUE.length;i++){if(t.oConfig.TILE_PROPERTIES.FINALVALUE[i].title==t.DEFINITION_DATA.EVALUATION.COLUMN_NAME){t.writeData.numericData=t.oConfig.TILE_PROPERTIES.FINALVALUE[i];calculatedValueforScaling=t.oConfig.TILE_PROPERTIES.FINALVALUE[i].value;t.getTrendIndicator(t.setThresholdValues().trendValue,calculatedValueforScaling);t._updateTileModel({valueColor:t.oConfig.TILE_PROPERTIES.FINALVALUE[i].color,value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(l),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION).toString()});break;}}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(d.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=d;t.writeData.data=d;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else{E.call(t,"no Response from QueryServiceUri");}},function(i){if(i&&i.response){jQuery.sap.log.error(i.message+" : "+i.request.requestUri);E.call(t,i);}});if(!t.writeData.numericData){var h=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(t.DEFINITION_DATA.EVALUATION_FILTERS,t.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(u),a,m,null,h);if(q){t.QUERY_SERVICE_MODEL=q.model;t.queryUriForKpiValue=q.uri;t.numericODataReadRef=t.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(d){if(d&&d.results&&d.results.length){if(q.unit){t._updateTileModel({unitNumeric:d.results[0][q.unit.name]});t.writeData.unitNumeric=q.unit;t.writeData.unitNumeric.name=q.unit.name;}t.writeData.numericData=d.results[0];t.DEFINITION_DATA.value=t.writeData.numericData[t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];t.writeData.numericData.color=t.getTrendColor(t.setThresholdValues());t.DEFINITION_DATA.valueColor=t.writeData.numericData.color;var S="";var i=d.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var k=t.getTrendIndicator(t.setThresholdValues().trendValue,i);if(t.oConfig.EVALUATION.SCALING==-2){i*=100;t.getView().oNumericContent.setFormatterValue(false);}S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}t._updateTileModel({value:S.toString(),valueColor:t.writeData.numericData.color,indicator:k});}else{E.call(t,"no Response from QueryServiceUri");}});}}}else{if(c.unit){t._updateTileModel({unit:c.data.results[0][c.unit.name]});}if(c.data&&c.data.results&&c.data.results.length){t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;t._updateTileModel({value:c.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME]});t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,b,t.writeData.unit);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(d.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else{E.call(t,"no Response from QueryServiceUri");}}}catch(e){E.call(t,e);}},flowWithoutDesignTimeCall:function(){var t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oChip.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(k){this.CALCULATED_KPI_VALUE=k;t.oDualComparisonView.oGenericTile.setFrameType("TwoByOne");t.oDualComparisonView.oGenericTile.removeAllTileContent();t.oDualComparisonView.oGenericTile.addTileContent(t.oDualComparisonView.oNumericTile);t.oDualComparisonView.oGenericTile.addTileContent(t.oDualComparisonView.oComparisonTile);var c=this.CALCULATED_KPI_VALUE;var a,b;for(var i=0;i<c.length;i++){if(c[i].title==t.DEFINITION_DATA.EVALUATION.COLUMN_NAME){b=c[i].value;a=c[i].color||"Neutral";t._updateTileModel({value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION).toString(),valueColor:a});break;}}if(!a&&!b){a=t.DEFINITION_DATA.valueColor;b=t.DEFINITION_DATA.value;}this._updateTileModel({value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION).toString(),data:this.CALCULATED_KPI_VALUE});var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualComparisonView.oGenericTile.$().wrap("<a href ='"+n+"'/>");this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Loaded);var s="";if(a=="Error"){s="sb.error";}if(a=="Neutral"){s="sb.neutral";}if(a=="Critical"){s="sb.critical";}if(a=="Good"){s="sb.good";}var T=t.setThresholdValues();var m,d,e,v,f,g,h,j,l;if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[0]){m=this.CALCULATED_KPI_VALUE[0].title;v=this.CALCULATED_KPI_VALUE[0].value;h=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[0].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[1]){d=this.CALCULATED_KPI_VALUE[1].title;f=this.CALCULATED_KPI_VALUE[1].value;j=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[1].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[2]){e=this.CALCULATED_KPI_VALUE[2].title;g=this.CALCULATED_KPI_VALUE[2].value;l=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[2].color);}var o={status:s,actual:b,target:T.targetValue,cH:T.criticalHighValue,wH:T.warningHighValue,wL:T.warningLowValue,cL:T.criticalLowValue};var p={m1:m,v1:v,c1:h,m2:d,v2:f,c2:j,m3:e,v3:g,c3:l};var C=t.oDualComparisonView.oGenericTile.getTileContent()[0].getContent();var q=t.oDualComparisonView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,"NT",o);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(q,"COMP",p);},this.logError);}},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oChip.configuration.getParameterValueAsString("isSufficient"))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){this.refreshHandler(this);}},onInit:function(){var t=this;this.firstTimeVisible=false;this.oDualComparisonView=this.getView();this.oChip=this.oDualComparisonView.getViewData().chip;if(this.oChip.visible){this.oChip.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oChip.url.getApplicationSystem();this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oChip.configuration.getParameterValueAsString("tileConfiguration"),this.oChip.preview.isEnabled(),function(c){t.oConfig=c;if(t.oChip.preview){t.oChip.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}if(t.oChip.preview.isEnabled()){t.setTitle();t._updateTileModel({value:1,size:sap.m.Size.Auto,frameType:"TwoByOne",state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Good,indicator:sap.m.DeviationIndicator.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1,color:"Good"},{title:"Measure 2",value:2,color:"Good"},{title:"Measure 3",value:3,color:"Good"}]});t.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.oConfig.TILE_PROPERTIES.FINALVALUE;t.setTitle();t.oDualComparisonView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.comparisionChartODataRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oChip.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}}});}catch(e){this.logError(e);}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}});}());
},
	"sap/ushell/components/tiles/indicatorDualContribution/DualContribution.controller.js":function(){(function(){"use strict";sap.ui.controller("tiles.indicatorDualContribution.DualContribution",{getTile:function(){return this.oDualContributionView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);this.getTile().getModel().updateBindings();},setTitle:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oChip);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},formSelectStatement:function(o){var t=Object.keys(o);var f="";for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=","+o[t[i]];}}return f;},logError:function(e){this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"MA":T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"RA":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","FIXED");T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","FIXED");}return T;}catch(e){t.logError(e);}},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},_processDataForComparisonChart:function(d,m,a){var s=this.oConfig.TILE_PROPERTIES.semanticMeasure;var f=[];var t;for(var i=0;i<d.results.length;i++){var b=d.results[i];var c={};try{c.title=b[a].toString();}catch(e){c.title="";}c.value=Number(b[m]);var g=Number(b[m]);if(this.oConfig.EVALUATION.SCALING==-2){g*=100;}t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(g,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION);c.displayValue=t.toString();if(typeof s==='undefined'){c.color="Neutral";}else{if(this.oConfig.EVALUATION.GOAL_TYPE==="MA"){if(c.value>b[s]){c.color="Good";}else{c.color="Error";}}else if(this.oConfig.EVALUATION.GOAL_TYPE==="MI"){if(c.value<b[s]){c.color="Good";}else{c.color="Error";}}else{c.color="Neutral";}}f.push(c);}return f;},fetchKpiValue:function(s,E){var t=this;try{var u=this.oConfig.EVALUATION.ODATA_URL;var a=this.oConfig.EVALUATION.ODATA_ENTITYSET;if(this.oConfig.TILE_PROPERTIES.semanticMeasure){var m=this.oConfig.EVALUATION.COLUMN_NAME+","+this.oConfig.TILE_PROPERTIES.semanticMeasure;}else{var m=this.oConfig.EVALUATION.COLUMN_NAME;}var d=this.oConfig.TILE_PROPERTIES.dimension;var b=this.oConfig.EVALUATION_VALUES;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!c){var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o={};o["0"]=m+",asc";o["1"]=m+",desc";o["2"]=d+",asc";o["3"]=d+",desc";var f=o[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");var g=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(u),a,m,d,v,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){g.uri+="&$top=3&$orderby="+f[0]+" "+f[2];}else{g.uri+="&$top=3&$orderby="+f[0]+" "+f[1];}this.comparisionChartODataRef=g.model.read(g.uri,null,null,true,function(b){if(g.unit[0]){t._updateTileModel({unitContribution:b.results[0][g.unit[0].name]});t.writeData.unitContribution=g.unit[0];t.writeData.unitContribution.name=g.unit[0].name;}if(b&&b.results&&b.results.length){d=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oChip.url.addSystemToServiceUrl(u),a,d);t.writeData.dimension=d;t.oConfig.TILE_PROPERTIES.FINALVALUE=b;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,m.split(",")[0],d);t.writeData.data=b;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(b.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=b;t.writeData.data=b;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);}else{E.call(t,"no Response from QueryServiceUri");}},function(k){if(k&&k.response){jQuery.sap.log.error(k.message+" : "+k.request.requestUri);E.call(t,k);}});var h=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(t.DEFINITION_DATA.EVALUATION_FILTERS,t.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(u),a,m,null,h);if(q){t.QUERY_SERVICE_MODEL=q.model;t.queryUriForKpiValue=q.uri;t.numericODataReadRef=t.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(b){if(b&&b.results&&b.results.length){if(q.unit){t._updateTileModel({unitNumeric:b.results[0][q.unit.name]});t.writeData.unitNumeric=q.unit;t.writeData.unitNumeric.name=q.unit.name;}t.writeData.numericData=b;var S="";var i=b.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var j=t.getTrendIndicator(t.setThresholdValues().trendValue,i);if(t.oConfig.EVALUATION.SCALING==-2){i*=100;t.getView().oNumericContent.setFormatterValue(false);}t.DEFINITION_DATA.value=i;S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}t._updateTileModel({value:S.toString(),valueColor:t.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution,indicator:j});s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE,i);}else{E.call(t,"no Response from QueryServiceUri");}});}}else{var T=t.setThresholdValues();var i;if(c.unitContribution){t._updateTileModel({unitContribution:c.data.results[0][c.unitContribution.name]});}if(c.unitNumeric){t._updateTileModel({unitNumeric:c.numericData.results[0][c.unitNumeric.name]});}if(c.data&&c.data.results&&c.data.results.length){d=c.dimension;t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,m.split(",")[0],d);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(b.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;}else{E.call(t,"no Response from QueryServiceUri");}if(c.numericData&&c.numericData.results&&c.numericData.results.length){i=c.numericData.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(t.oConfig.EVALUATION.SCALING==-2){i*=100;t.getView().oNumericContent.setFormatterValue(false);}var S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}var j=t.getTrendIndicator(T.trendValue,i);t._updateTileModel({value:S.toString(),indicator:j,valueColor:t.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution});s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE,i);}else{E.call(t,"no Response from QueryServiceUri");}}}catch(e){E.call(t,e);}},flowWithoutDesignTimeCall:function(){var t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oChip.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(k,c){this.CALCULATED_KPI_VALUE=k;if(t.oConfig.TILE_PROPERTIES.frameType=="TwoByOne"){t.oDualContributionView.oGenericTile.setFrameType("TwoByOne");t.oDualContributionView.oGenericTile.removeAllTileContent();t.oDualContributionView.oGenericTile.addTileContent(t.oDualContributionView.oNumericTile);t.oDualContributionView.oGenericTile.addTileContent(t.oDualContributionView.oComparisonTile);}else{t.oDualContributionView.oGenericTile.setFrameType("OneByOne");t.oDualContributionView.oGenericTile.removeAllTileContent();t.oDualContributionView.oGenericTile.addTileContent(t.oDualContributionView.oComparisonTile);}var d=this.CALCULATED_KPI_VALUE;var a=this.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution;for(var i=0;i<this.CALCULATED_KPI_VALUE.length;i++){d[i].color=a;}this._updateTileModel({data:d});var T=t.setThresholdValues();var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualContributionView.oGenericTile.$().wrap("<a href ='"+n+"'/>");this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Loaded);var s="";if(a=="Error"){s="sb.error";}if(a=="Neutral"){s="sb.neutral";}if(a=="Critical"){s="sb.critical";}if(a=="Good"){s="sb.good";}var T=t.setThresholdValues();var m,b,e,v,f,g,h,j,l;if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[0]){m=this.CALCULATED_KPI_VALUE[0].title;v=this.CALCULATED_KPI_VALUE[0].value;h=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[0].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[1]){b=this.CALCULATED_KPI_VALUE[1].title;f=this.CALCULATED_KPI_VALUE[1].value;j=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[1].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[2]){e=this.CALCULATED_KPI_VALUE[2].title;g=this.CALCULATED_KPI_VALUE[2].value;l=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[2].color);}var o={status:s,actual:c,target:T.targetValue,cH:T.criticalHighValue,wH:T.warningHighValue,wL:T.warningLowValue,cL:T.criticalLowValue};var p={m1:m,v1:v,c1:h,m2:b,v2:f,c2:j,m3:e,v3:g,c3:l};var C=t.oDualContributionView.oGenericTile.getTileContent()[0].getContent();var q=t.oDualContributionView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,"NT",o);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(q,"CONT",p);},this.logError);}},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oChip.configuration.getParameterValueAsString("isSufficient"))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){this.refreshHandler(this);}},onInit:function(){var t=this;t.writeData={};this.firstTimeVisible=false;this.oDualContributionView=this.getView();this.oChip=this.oDualContributionView.getViewData().chip;if(this.oChip.visible){this.oChip.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oChip.url.getApplicationSystem();this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oChip.configuration.getParameterValueAsString("tileConfiguration"),this.oChip.preview.isEnabled(),function(c){t.oConfig=c;if(t.oChip.preview){t.oChip.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}if(t.oChip.preview.isEnabled()){t.setTitle();t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:"TwoByOne",state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral",displayValue:""},{title:"EMEA",value:50,color:"Neutral",displayValue:""},{title:"APAC",value:-20,color:"Neutral",displayValue:""}]});t.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.oConfig.TILE_PROPERTIES.FINALVALUE;t.setTitle();t.oDualContributionView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.comparisionChartODataRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oChip.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}}});}catch(e){this.logError(e);}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}});}());
},
	"sap/ushell/components/tiles/indicatorDualDeviation/DualDeviation.controller.js":function(){(function(){"use strict";sap.ui.controller("tiles.indicatorDualDeviation.DualDeviation",{logError:function(e){this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},getThresholdsObjAndColor:function(t){try{var T={};T.arrObj=[];T.returnColor=sap.m.ValueColor.Neutral;var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var w,c,a,b;if(i==="MI"){a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;if(a&&b){a=window.parseFloat(a);b=window.parseFloat(b);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<b){T.returnColor=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=a){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Error;}}}else if(i==="MA"){c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(c&&w){c=window.parseFloat(c);w=window.parseFloat(w);T.arrObj.push({value:c,color:sap.m.ValueColor.Error});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<c){T.returnColor=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=w){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}else{a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(w&&b&&c&&c){a=window.parseFloat(a);b=window.parseFloat(b);w=window.parseFloat(w);c=window.parseFloat(c);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});T.arrObj.push({value:c,color:sap.m.ValueColor.Error});if(this.CALCULATED_KPI_VALUE<c||this.CALCULATED_KPI_VALUE>a){T.returnColor=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=c&&this.CALCULATED_KPI_VALUE<=w)||(this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=a)){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}return T;}catch(e){this.logError(e);}},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},getTile:function(){return this.oDualDeviationView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},formSelectStatement:function(o){var t=Object.keys(o);var f="";for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=","+o[t[i]];}}return f;},setThresholdValues:function(){var t=this;var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"MA":T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"RA":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","FIXED");T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","FIXED");}return T;},fetchKpiValue:function(s,E){var t=this;var k=0;try{var u=this.DEFINITION_DATA.EVALUATION.ODATA_URL;var a=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var T=this.setThresholdValues();var m=T.fullyFormedMeasure;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!c){var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),a,m,null,v);if(q){this.QUERY_SERVICE_MODEL=q.model;this.queryUriForKpiValue=q.uri;try{this.queryServiceUriODataReadRef=this.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(f){t.writeData={};if(f&&f.results&&f.results.length){k=f.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(q.unit[0]){t._updateTileModel({unit:f.results[0][q.unit[0].name]});t.writeData.unit=q.unit[0];t.writeData.unit.name=q.unit[0].name;}t.writeData.numericData=f;var S="",d;var b=k;if(t.oConfig.EVALUATION.SCALING==-2){b*=100;t.getView().oNumericContent.setFormatterValue(false);}S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);d=t.getTrendIndicator(T.trendValue,b);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}t._updateTileModel({value:S.toString(),indicator:d,valueColor:t.getThresholdsObjAndColor(T).returnColor});t.writeData.data=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T.criticalHighValue=f.results[0][T.sCriticalHigh];T.criticalLowValue=f.results[0][T.sCriticalLow];T.warningHighValue=f.results[0][T.sWarningHigh];T.warningLowValue=f.results[0][T.sWarningLow];T.targetValue=f.results[0][T.sTarget];T.trendValue=f.results[0][T.sTrend];}s.call(t,k,T);}else{E.call(t,"no Response from QueryServiceUri");}},function(f){if(f&&f.response){E.call(t,f.message);}});}catch(e){t.logError("Error in Query Service URI");}}}else{if(c.data&&c.data.results&&c.data.results.length){var b,S,d,T;T=t.setThresholdValues();b=c.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(t.oConfig.EVALUATION.SCALING==-2){b*=100;t.getView().oNumericContent.setFormatterValue(true);}if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);d=t.getTrendIndicator(T.trendValue,b);if(c.unit){t._updateTileModel({unit:c.data.results[0][c.unit.name]});}t._updateTileModel({indicator:d,value:S.toString()});if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T.criticalHighValue=c.data.results[0][T.sCriticalHigh];T.criticalLowValue=c.data.results[0][T.sCriticalLow];T.warningHighValue=c.data.results[0][T.sWarningHigh];T.warningLowValue=c.data.results[0][T.sWarningLow];T.targetValue=c.data.results[0][T.sTarget];T.trendValue=c.data.results[0][T.sTrend];}s.call(t,c.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME],T);}else{E.call(t,"no Response from QueryServiceUri");}}}catch(e){E.call(t,e);}},flowWithoutDesignTimeCall:function(){var t=this;var f,a;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oTileApi.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(k,b){var c=Number(k);if(this.oConfig.EVALUATION.SCALING==-2){c*=100;}f=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(c),this.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);this.CALCULATED_KPI_VALUE=Number(k);var d={};var e=this.getThresholdsObjAndColor(b);var g={value:Number(k),color:e.returnColor};d.valueColor=g.color;d.actualValueLabel=f.toString();d.actual=g;var h=this.DEFINITION_DATA.EVALUATION_VALUES;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){var i=Number(b.targetValue);if(this.oConfig.EVALUATION.SCALING==-2){i*=100;}a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(i,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION);d.targetValue=Number(b.targetValue);d.targetValueLabel=a.toString();}else{for(var j=0;j<h.length;j++){if(h[j].TYPE==="TA"){var i=Number(h[j].FIXED);if(this.oConfig.EVALUATION.SCALING==-2){i*=100;}a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(i);d.targetValue=Number(h[j].FIXED);d.targetValueLabel=a.toString();}}}this._updateTileModel(d);var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualDeviationView.oGenericTile.$().wrap("<a href ='"+n+"'/>");this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Loaded);var s="";if(d.valueColor=="Error"){s="sb.error";}if(d.valueColor=="Neutral"){s="sb.neutral";}if(d.valueColor=="Critical"){s="sb.critical";}if(d.valueColor=="Good"){s="sb.good";}var v={status:s,actual:c,target:b.targetValue,cH:b.criticalHighValue,wH:b.warningHighValue,wL:b.warningLowValue,cL:b.criticalLowValue};var l=v;var C=t.oDualDeviationView.oGenericTile.getTileContent()[0].getContent();var o=t.oDualDeviationView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,"NT",v);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(o,"DT",l);},this.logError);}},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oTileApi.configuration.getParameterValueAsString("isSufficient"))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);}if(i){this.refreshHandler(this);}},setTextInTile:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},onInit:function(){var t=this;this.firstTimeVisible=false;this.oDualDeviationView=this.getView();this.oViewData=this.oDualDeviationView.getViewData();this.oTileApi=this.oViewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oTileApi.url.getApplicationSystem();this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(t.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),t.oTileApi.preview.isEnabled(),function(c){t.oConfig=c;t.setTextInTile();if(t.oTileApi.preview){t.oTileApi.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}if(t.oTileApi.preview.isEnabled()){t._updateTileModel({valueColor:"Good",value:100,frameType:"TwoByOne",unit:"USD",actual:{value:120,color:sap.m.ValueColor.Good},targetValue:100,thresholds:[{value:0,color:sap.m.ValueColor.Error},{value:50,color:sap.m.ValueColor.Critical},{value:150,color:sap.m.ValueColor.Critical},{value:200,color:sap.m.ValueColor.Error}],showActualValue:true,showTargetValue:true});t.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.oDualDeviationView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oTileApi.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}}});}catch(e){this.logError(e);}},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new sap.ui.model.json.JSONModel({}));}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);}});}());
},
	"sap/ushell/components/tiles/indicatorDualTrend/DualTrend.controller.js":function(){(function(){"use strict";sap.ui.controller("tiles.indicatorDualTrend.DualTrend",{logError:function(e){this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},formSelectStatement:function(o){var t=Object.keys(o);var f="";for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=","+o[t[i]];}}return f;},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"MA":T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"RA":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","FIXED");T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","FIXED");}return T;}catch(e){t.logError(e);}},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},getTile:function(){return this.oDualTrendView.oGenericTile;},getTrendColor:function(t){var a=this;try{var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var r=sap.m.ValueColor.Neutral;if(i==="MI"){if(t.criticalHighValue&&t.warningHighValue){t.criticalHighValue=Number(t.criticalHighValue);t.warningHighValue=Number(t.warningHighValue);if(this.CALCULATED_KPI_VALUE<t.warningHighValue){r=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=t.criticalHighValue){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Error;}}}else if(i==="MA"){if(t.criticalLowValue&&t.warningLowValue){t.criticalLowValue=Number(t.criticalLowValue);t.warningLowValue=Number(t.warningLowValue);if(this.CALCULATED_KPI_VALUE<t.criticalLowValue){r=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=t.warningLowValue){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}else{if(t.warningLowValue&&t.warningHighValue&&t.criticalLowValue&&t.criticalHighValue){t.criticalHighValue=Number(t.criticalHighValue);t.warningHighValue=Number(t.warningHighValue);t.warningLowValue=Number(t.warningLowValue);t.criticalLowValue=Number(t.criticalLowValue);if(this.CALCULATED_KPI_VALUE<t.criticalLowValue||this.CALCULATED_KPI_VALUE>t.criticalHighValue){r=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=t.criticalLowValue&&this.CALCULATED_KPI_VALUE<=t.warningLowValue)||(this.CALCULATED_KPI_VALUE>=t.warningHighValue&&this.CALCULATED_KPI_VALUE<=t.criticalHighValue)){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}return r;}catch(e){a.logError(e);}},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},onAfterFinalEvaluation:function(){var t=this;var u=this.DEFINITION_DATA.EVALUATION.ODATA_URL;var E=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var m=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var d=this.DEFINITION_DATA.TILE_PROPERTIES.dimension;if(d==undefined){this.logError();return;}var g=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var c=this.DEFINITION_DATA.EVALUATION_VALUES;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){var f=m;switch(g){case"MI":t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");if(t.sWarningHigh&&t.sCriticalHigh&&t.sTarget){f+=","+t.sWarningHigh+","+t.sCriticalHigh+","+t.sTarget;}break;case"MA":t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");if(t.sWarningLow&&t.sCriticalLow&&t.sTarget){f+=","+t.sWarningLow+","+t.sCriticalLow+","+t.sTarget;}break;case"RA":t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");if(t.sWarningLow&&t.sCriticalLow&&t.sTarget&&t.sWarningHigh&&t.sCriticalHigh){f+=","+t.sWarningLow+","+t.sCriticalLow+","+t.sTarget+","+t.sWarningHigh+","+t.sCriticalHigh;}break;}var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),E,f,d,v);}else{var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),E,m,d,v);}var h=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!h){if(q){this.queryUriForTrendChart=q.uri;t.writeData={};try{this.trendChartODataReadRef=q.model.read(q.uri,null,null,true,function(a){if(a&&a.results&&a.results.length){if(q.unit[0]){t.unit=a.results[0][q.unit[0].name];t.writeData.unit=q.unit[0];t.writeData.unit.name=q.unit[0].name;}t.queryUriResponseForTrendChart=a;d=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oTileApi.url.addSystemToServiceUrl(u),E,d);a.firstXlabel=a.results[0][d];a.lastXlabel=a.results[a.results.length-1][d];t.writeData.data=a;t.writeData.dimensionName=d;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualTrendView.oGenericTile.$().wrap("<a href ='"+n+"'/>");t.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loaded);_(a,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);}else{t.logError("no Response from QueryServiceUri");}},function(a){if(a&&a.response){t.logError("Data call failed");}});}catch(e){t.logError(e);}}else{t.logError();}var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(t.DEFINITION_DATA.EVALUATION_FILTERS,t.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),E,m,null,v);if(q){t.QUERY_SERVICE_MODEL=q.model;t.queryUriForKpiValue=q.uri;t.numericODataReadRef=t.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(a){if(a&&a.results&&a.results.length){var s="";var j=a.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];t.writeData.numericData=a;if(t.oConfig.EVALUATION.SCALING==-2){j*=100;}s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(j),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}var k=t.getTrendIndicator(t.setThresholdValues().trendValue,j);t._updateTileModel({value:s.toString(),valueColor:t.getTrendColor(t.setThresholdValues()),indicator:k});}else{fnError.call(t,"no Response from QueryServiceUri");}});}}else{try{if(h.unit!==undefined){t.unit=h.data.results[0][h.unit.name];}t.queryUriResponseForTrendChart=h.data;d=h.dimensionName;var j=h.numericData.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var k=t.getTrendIndicator(t.setThresholdValues().trendValue,h.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME]);var s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(j),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);t.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loaded);_(h.data,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);t._updateTileModel({value:s.toString(),valueColor:t.getTrendColor(t.setThresholdValues()),indicator:k});}catch(e){t.logError(e);}}function _(l,n){var o=[];var p=[];var w=[];var r=[];var x=[];var y=[];var z=l.firstXlabel;var A,B,C,D,F;var G=l.lastXlabel;var H=Number(l.results[0][m]);var I=Number(l.results[l.results.length-1][m]);var i;for(i in l.results){l.results[i][d]=Number(i);l.results[i][m]=Number(l.results[i][m]);t.sWarningHigh?l.results[i][t.sWarningHigh]=Number(l.results[i][t.sWarningHigh]):"";t.sCriticalHigh?l.results[i][t.sCriticalHigh]=Number(l.results[i][t.sCriticalHigh]):"";t.sCriticalLow?l.results[i][t.sCriticalLow]=Number(l.results[i][t.sCriticalLow]):"";t.sWarningLow?l.results[i][t.sWarningLow]=Number(l.results[i][t.sWarningLow]):"";t.sTarget?l.results[i][t.sTarget]=Number(l.results[i][t.sTarget]):"";t.sWarningHigh?w.push(l.results[i][t.sWarningHigh]):"";t.sCriticalHigh?r.push(l.results[i][t.sCriticalHigh]):"";t.sCriticalLow?x.push(l.results[i][t.sCriticalLow]):"";t.sWarningLow?y.push(l.results[i][t.sWarningLow]):"";o.push(l.results[i][d]);p.push(l.results[i][m]);}try{z=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(z);G=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(G);}catch(e){t.logError(e);}var J=Number(H);if(t.oConfig.EVALUATION.SCALING==-2){J*=100;}var K=Math.min.apply(Math,p);var L=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(J,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){L+=" %";}var M=L.toString();var N=Number(I);if(t.oConfig.EVALUATION.SCALING==-2){N*=100;}var O=Math.max.apply(Math,p);var P=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(N,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){P+=" %";}var Q=P.toString();try{var R=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.min.apply(Math,o));var S=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.max.apply(Math,o));}catch(e){t.logError(e);}if(n=="MEASURE"){(w.length!=0)?(t.firstwH=w[R])&&(t.lastwH=w[S]):"";(r.length!=0)?(t.firstcH=r[R])&&(t.lastcH=r[S]):"";(x.length!=0)?(t.firstcL=x[R])&&(t.lastcL=x[S]):"";(y.length!=0)?(t.firstwL=y[R])&&(t.lastwL=y[S]):"";}var T={width:"100%",height:"100%",unit:t.unit||"",chart:{color:"Neutral",data:l.results},size:"Auto",minXValue:R,maxXValue:S,minYValue:K,maxYValue:O,firstXLabel:{label:z+"",color:"Neutral"},lastXLabel:{label:G+"",color:"Neutral"},firstYLabel:{label:M+"",color:"Neutral"},lastYLabel:{label:Q+"",color:"Neutral"},minLabel:{},maxLabel:{}};switch(g){case"MA":for(i in c){if(c[i].TYPE=="CL"){T.minThreshold={color:"Error"};var U={};U[d]="";U[m]=Number(c[i].FIXED);t.cl=Number(c[i].FIXED);T.minThreshold.data=(n=="MEASURE")?l.results:[U];A=(n=="MEASURE")?t.sCriticalLow:m;}else if(c[i].TYPE=="WL"){T.maxThreshold={color:"Good"};var U={};U[d]="";U[m]=Number(c[i].FIXED);T.maxThreshold.data=(n=="MEASURE")?l.results:[U];B=(n=="MEASURE")?t.sWarningLow:m;t.wl=Number(c[i].FIXED);}else if(c[i].TYPE=="TA"){var U={};U[d]="";U[m]=Number(c[i].FIXED);T.target={color:"Neutral"};T.target.data=(n=="MEASURE")?l.results:[U];F=(n=="MEASURE")?t.sTarget:m;}}T.innerMinThreshold={data:[]};T.innerMaxThreshold={data:[]};if(n=="FIXED"){T.firstYLabel.color=H<t.cl?"Error":((t.cl<=H)&&(H<=t.wl))?"Critical":(H>t.wl)?"Good":"Neutral";T.lastYLabel.color=I<t.cl?"Error":((t.cl<=I)&&(I<=t.wl))?"Critical":(I>t.wl)?"Good":"Neutral";}else if(n=="MEASURE"&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL){T.firstYLabel.color=H<t.firstcL?"Error":((t.firstcL<=H)&&(H<=t.firstwL))?"Critical":(H>t.firstwL)?"Good":"Neutral";T.lastYLabel.color=I<t.lastcL?"Error":((t.lastcL<=I)&&(I<=t.lastwL))?"Critical":(I>t.lastwL)?"Good":"Neutral";}break;case"MI":for(i in c){if(c[i].TYPE=="CH"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.ch=Number(c[i].FIXED);T.maxThreshold={color:"Error"};T.maxThreshold.data=(n=="MEASURE")?l.results:[U];B=(n=="MEASURE")?t.sCriticalHigh:m;}else if(c[i].TYPE=="WH"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.wh=Number(c[i].FIXED);T.minThreshold={color:"Good"};T.minThreshold.data=(n=="MEASURE")?l.results:[U];A=(n=="MEASURE")?t.sWarningHigh:m;}else if(c[i].TYPE=="TA"){var U={};U[d]="";U[m]=Number(c[i].FIXED);T.target={color:"Neutral"};T.target.data=(n=="MEASURE")?l.results:[U];F=(n=="MEASURE")?t.sTarget:m;}}if(n=="FIXED"){T.firstYLabel.color=H>t.ch?"Error":((t.wh<=H)&&(H<=t.ch))?"Critical":(H<t.wh)?"Good":"Neutral";T.lastYLabel.color=I>t.ch?"Error":((t.wh<=I)&&(I<=t.ch))?"Critical":(I<t.wh)?"Good":"Neutral";}else if(n=="MEASURE"&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){T.firstYLabel.color=H>t.firstcH?"Error":((t.firstwH<=H)&&(H<=t.firstcH))?"Critical":(H<t.firstwH)?"Good":"Neutral";T.lastYLabel.color=I>t.lastcH?"Error":((t.lastwH<=I)&&(I<=t.lastcH))?"Critical":(I<t.lastwH)?"Good":"Neutral";}T.innerMaxThreshold={data:[]};T.innerMinThreshold={data:[]};break;case"RA":for(i in c){if(c[i].TYPE=="CH"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.ch=Number(c[i].FIXED);T.maxThreshold={color:"Error"};T.maxThreshold.data=(n=="MEASURE")?l.results:[U];B=(n=="MEASURE")?t.sCriticalHigh:m;}else if(c[i].TYPE=="WH"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.wh=Number(c[i].FIXED);T.innerMaxThreshold={color:"Good"};T.innerMaxThreshold.data=(n=="MEASURE")?l.results:[U];D=(n=="MEASURE")?t.sWarningHigh:m;}else if(c[i].TYPE=="WL"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.wl=Number(c[i].FIXED);T.innerMinThreshold={color:"Good"};T.innerMinThreshold.data=(n=="MEASURE")?l.results:[U];C=(n=="MEASURE")?t.sWarningLow:m;}else if(c[i].TYPE=="CL"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.cl=Number(c[i].FIXED);T.minThreshold={color:"Error"};T.minThreshold.data=(n=="MEASURE")?l.results:[U];A=(n=="MEASURE")?t.sCriticalLow:m;}else if(c[i].TYPE=="TA"){var U={};U[d]="";U[m]=Number(c[i].FIXED);T.target={color:"Neutral"};T.target.data=(n=="MEASURE")?l.results:[U];F=(n=="MEASURE")?t.sTarget:m;}}if(n=="FIXED"){T.firstYLabel.color=(H>t.ch||H<t.cl)?"Error":((t.wh<=H)&&(H<=t.ch))||((t.cl<=H)&&(H<=t.wl))?"Critical":((H>=t.wl)&&(H<=t.wh))?"Good":"Neutral";T.lastYLabel.color=(I>t.ch||I<t.cl)?"Error":((t.wh<=I)&&(I<=t.ch))||((t.cl<=I)&&(I<=t.wl))?"Critical":((I>=t.wl)&&(I<=t.wh))?"Good":"Neutral";}else if(n=="MEASURE"&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){T.firstYLabel.color=(H>t.firstcH||H<t.firstcL)?"Error":((t.firstwH<=H)&&(H<=t.firstcH))||((t.firstcL<=H)&&(H<=t.firstwL))?"Critical":((H>=t.firstwL)&&(H<=t.firstwH))?"Good":"Neutral";T.lastYLabel.color=(I>t.lastcH||I<t.lastcL)?"Error":((t.lastwH<=I)&&(I<=t.lastcH))||((t.lastcL<=I)&&(I<=t.lastwL))?"Critical":((I>=t.lastwL)&&(I<=t.lastwH))?"Good":"Neutral";}break;}var V=function(W,a,b,n){return new sap.suite.ui.microchart.AreaMicroChartItem({color:"{/"+W+"/color}",points:{path:"/"+W+"/data",template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:"{"+a+"}",y:"{"+b+"}"})}});};t.getTile().getTileContent()[1].getContent().setTarget(V("target",d,F));t.getTile().getTileContent()[1].getContent().setInnerMinThreshold(V("innerMinThreshold",d,C));t.getTile().getTileContent()[1].getContent().setInnerMaxThreshold(V("innerMaxThreshold",d,D));t.getTile().getTileContent()[1].getContent().setMinThreshold(V("minThreshold",d,A));t.getTile().getTileContent()[1].getContent().setMaxThreshold(V("maxThreshold",d,B));t.getTile().getTileContent()[1].getContent().setChart(V("chart",d,m));t._updateTileModel(T);}},flowWithoutDesignTimeCall:function(){this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oTileApi.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;}this.onAfterFinalEvaluation();},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oTileApi.configuration.getParameterValueAsString("isSufficient"))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);}if(i){this.refreshHandler(this);}},setTextInTile:function(){var t=this;this._updateTileModel({header:t.oTileApi.preview.getTitle()||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:t.oTileApi.preview.getDescription()||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},onInit:function(){var t=this;this.firstTimeVisible=false;this.oDualTrendView=this.getView();this.oViewData=this.oDualTrendView.getViewData();this.oTileApi=this.oViewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oTileApi.url.getApplicationSystem();this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loading);if(this.oTileApi.preview.isEnabled()){this.setTextInTile();this._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:"TwoByOne",state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),function(c){t.oConfig=c;t.setTextInTile();t.oDualTrendView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oTileApi.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}});}catch(e){this.logError(e);}}},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new sap.ui.model.json.JSONModel({}));}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);}});}());
},
	"sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil.js":function(){jQuery.sap.declare("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles.indicatorTileUtils=sap.ushell.components.tiles.indicatorTileUtils||{};sap.ushell.components.tiles.indicatorTileUtils.util=sap.ushell.components.tiles.indicatorTileUtils.util||{};sap.ushell.components.tiles.indicatorTileUtils.util=(function(g,$){"use strict";var c={};var t={"ANN":"years","WEE":"weeks","DAY":"days","HUR":"hours","MIN":"minutes"};var a={};var b={};return{getScheduledJob:function(k){return a[k];},setScheduledJob:function(k,d){a[k]=d;},isCallInProgress:function(k){return b[k];},setUnsetCallInProgress:function(k,v){b[k]=v;},getTimeUnitMap:function(){return t;},getHanaUser:function(){return authObject.userName;},addSystemToServiceUrl:function(u,s){jQuery.sap.log.info("Hana Adapter --> Add System to Service Url");if(sap.ushell&&sap.ushell.Container){if(s){u=sap.ushell.Container.getService("URLParsing").addSystemToServiceUrl(u,s);}else{u=sap.ushell.Container.getService("URLParsing").addSystemToServiceUrl(u);}}return u;},getODataModelByServiceUri:function(s){s=this.addSystemToServiceUrl(s);if(!c[s]){var m=new sap.ui.model.odata.ODataModel(s,{loadMetadataAsync:true,json:true});c[s]=m;}return c[s];},getEdmType:function(u,p){var d=null;if(u instanceof sap.ui.model.odata.ODataModel){d=u;}else{d=this.getODataModelByServiceUri(u);}if(d&&d.getServiceMetadata()){var s=d.getServiceMetadata();var e=s.dataServices.schema[0].entityType;if(e){for(var i=0;i<e.length;i++){var f=e[i];var h=f.property;for(var j=0;j<h.length;j++){var k=h[j];if(k.name==p){return k.type;}}}}}return null;},getMillisecond:function(d,u){var r;switch(u){case"seconds":r=d*1000;break;case"minutes":r=d*60*1000;break;case"hours":r=d*60*60*1000;break;case"days":r=d*24*60*60*1000;break;case"weeks":r=d*7*24*60*60*1000;break;case"months":r=d*4*7*24*60*60*1000;break;case"years":r=d*12*4*7*24*60*60*1000;break;}return r;},getUTCDate:function(){var n=new Date();var u=new Date(n.getTime()+n.getTimezoneOffset()*60000);return n;},isCacheValid:function(d,e,f,h,i){var j=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(d);if(!j){return false;}else if(!(f&&Number(f))){return true;}else{var k=this.getMillisecond(f,t[h]);if(jQuery.type(j.CachedTime)=="date"){var l=j.CachedTime&&j.CachedTime.getTime();}else{var l=j.CachedTime&&parseInt(j.CachedTime.substr(6),10);}var m=this.getUTCDate();return(l>=e&&k>=(m-l)&&!i);}},getMantissaLength:function(n){var N=n.toString();var i=0;if(n<0){i=1;}return(N.indexOf('.')===-1)?(n<0?N.length-1:N.length):N.substring(i,N.indexOf('.')).length;},getLocaleFormattedValue:function(n,s,d,i,e){jQuery.sap.require("sap.ui.core.format.NumberFormat");i=i||false;e=e||null;if(i){return sap.ui.core.format.NumberFormat.getCurrencyInstance({style:"short",showMeasure:false}).format(n,e);}var D=2;var f={style:"short"};var N;if(!(d==-1||d==null)){f.shortDecimals=Number(d);f.minFractionDigits=Number(d);f.maxFractionDigits=Number(d);}var v=sap.ui.core.format.NumberFormat.getInstance(f);if(s==-2){if(n>9999){N="????";}else if((n>-0.001&&n<0)||(n<0.001&&n>0)){N="0";}else{if(n.toString().indexOf('.')!=-1){N=Number(n).toFixed(4-n.toString().indexOf('.'));}else{N=Number(n);}N=v.format(N);}}else if(d==-1||d==null){var m=this.getMantissaLength(n);if(!(m%3)){D=1;}if(m%3===1){D=3;}if(m%3===2){D=2;}if(Math.abs(n)%Math.pow(10,m-1)==0){D=0;}else if((Math.abs(n)%Math.pow(10,m-1))<6*Math.pow(10,m-4)){D=0;}v=sap.ui.core.format.NumberFormat.getInstance({style:"short",shortDecimals:D});N=v.format(n);}else{N=v.format(n);}return N;},getPlatform:function(p){return(jQuery.sap.getUriParameters().get("sb_metadata")||p||"HANA").toUpperCase();},getTileTitleSubtitle:function(C){var d={};if(C.bag&&C.bag.getBagIds()&&C.bag.getBagIds().length){d.title=C.bag.getBag("sb_tileProperties").getText("title")||C.bag.getBag("sb_tileProperties").getProperty("title")||C.preview.getTitle();d.subTitle=C.bag.getBag("sb_tileProperties").getText("description")||C.bag.getBag("sb_tileProperties").getProperty("description")||C.preview.getDescription();}else{d.title=C.preview.getTitle();d.subTitle=C.preview.getDescription();}return d;},scheduleFetchDataJob:function(i){var d;if(this.getView().getViewName().indexOf("DualTile")!==-1){d=this.oKpiTileView.oConfig;}else{d=this.oConfig;}var k=d.TILE_PROPERTIES.id+"data";var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeUnitMap();var e=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(d);var f=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(d);var h=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(e,t[f]);if(jQuery.type(this.cacheTime)=="date"){var j=this.cacheTime;}else{var j=new Date(parseInt(this.cacheTime.substr(6),10));}var l=h-(sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()-j);if(l<=0){l=0;}else if(l>2147483646){l=2147483646;}if(!i){l=300000;}if(this.getView().getViewName().indexOf("DualTile")!==-1){r=setTimeout(this.refreshPress.bind(this),l);}else{r=setTimeout(this.refreshHandler.bind(this,false,true),l);sap.ushell.components.tiles.indicatorTileUtils.util.setScheduledJob(k,r);}this.updateDatajobScheduled=true;},scheduleTimeStampJob:function(i){var k=this.oConfig.TILE_PROPERTIES.id+"time";var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}if(jQuery.type(this.cacheTime)=="date"){var d=this.cacheTime;}else{var d=new Date(parseInt(this.cacheTime.substr(6),10),13);}var e=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()-d);r=setTimeout(this.setTimeStamp.bind(this,this.cacheTime),e.timer);sap.ushell.components.tiles.indicatorTileUtils.util.setScheduledJob(k,r);this.updateTimeStampjobScheduled=true;},getBoolValue:function(v){var r=false;if(typeof v=="boolean"&&v){r=true;}return r;},getSeconds:function(d){return(d/1000);},getMinutes:function(d){return(this.getSeconds(d)/60);},getHours:function(d){return(this.getMinutes(d)/60);},getDays:function(d){return(this.getHours(d)/24);},getWeeks:function(d){return(this.getDays(d)/7);},getMonths:function(d){return(this.getWeeks(d)/4);},getYears:function(d){return(this.getMonths(d)/12);},getTimeDifference:function(d){var r={};if(d){var m=this.getMinutes(d);var h=this.getHours(d);var e=this.getDays(d);if(m<5){r.time=0;r.unit="minutes";r.timer=Math.round(this.getMillisecond(5-m,"minutes"));}else if(m>=5&&m<60){if(m<10){r.time=5;}else{r.time=(m-(m%10));}r.unit="minutes";r.timer=Math.round(this.getMillisecond(10-(m%10),"minutes"));}else if(h>=1&&h<24){r.unit="hours";r.time=(h-(h%1));r.timer=Math.round(this.getMillisecond(1-(h%1),"hours"));}else if(e>=1&&e<2){r.unit="days";r.time=(e-(e%1));r.timer=Math.round(this.getMillisecond(1-(e%1),"days"));}else{r.unit="days";r.time=(e-(e%1));r.timer=this.getMillisecond(2,"days");}}else{r.timer=6000;r.unit="days";r.timer=2000;}return r;},getCachingTime:function(C){return((C.CACHINGTIME&&Number(C.CACHINGTIME))||(C.TILE_PROPERTIES.cachingTime&&Number(C.TILE_PROPERTIES.cachingTime)));},getCachingTimeUnit:function(C){return(C.CACHINGUNIT||C.TILE_PROPERTIES.cachingTimeUnit);},getFrontendCacheQuery:function(d,u,p,T){var e;try{var f=T.url.addSystemToServiceUrl('/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV');e=this.getODataModelByServiceUri(f);var f="/CacheParameters(P_CacheType=1)/Results";return{oModel:e,uri:f};}catch(h){jQuery.sap.log.error("FrontEnd cache Metadata failed");return null;}},isDualTile:function(C){var d=C&&C.TILE_PROPERTIES&&C.TILE_PROPERTIES.tileType;if(d.indexOf("DT-")==-1){return false;}return true;},writeFrontendCacheByChipAndUserId:function(T,d,e,u,f){var s=function(e){jQuery.sap.log.info("cache write successFully");f(e);};var h=function(){jQuery.sap.log.error("cache update failed");f(null);};try{var i=T.url.addSystemToServiceUrl("/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV/");var j=this.getODataModelByServiceUri(i);var k="/CacheData";j.create(k,e,{async:true,success:s,error:h});}catch(l){jQuery.sap.log.error(l);}},getKpiChipsOnPage:function(d,e){var f=[];var h=this;var l=sap.ushell.Container.getService("LaunchPage");l.getGroups().done(function(G){if(G&&G instanceof Array&&G.length){jQuery.sap.log.info("Group Chip fetch");}e(d,f);});},getFrontendCache:function(C,T){var d=this;var o=sap.ushell.components.tiles.indicatorTileUtils.cache.getFrontEndCacheDeferredObject(T.url.getApplicationSystem());var e;if(o){e=o;}else{e=jQuery.Deferred();}var f=C&&C.TILE_PROPERTIES&&C.TILE_PROPERTIES.id;var h=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(f);if(h){o.resolve(true);}else if(o){return o.promise();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setFrontEndCacheDefferedObject(T.url.getApplicationSystem(),e);o=e;this.getKpiChipsOnPage(f,function(f,p){if(p){var i=d.getFrontendCacheQuery(p,sap.ushell.Container.getUser().getId(),p,T);if(i){var j=i.oModel;var k=i.uri;var l=false;var m=j.read(k,null,null,true,function(n){if(n&&n.results&&n.results instanceof Array&&n.results.length){jQuery.each(n.results,function(q,r){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(r.ChipId,r);});}if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(f)){l=true;}o.resolve(l);},function(n){if(n&&n.response){jQuery.sap.log.error(n.message+" : "+n.request.requestUri);}o.reject();});}else{o.reject();}}else{o.resolve(false);}});}return o.promise();},getModelerRuntimeServiceModel:function(){return this.getODataModelByServiceUri("/sap/hba/apps/kpi/s/odata/smart_business_runtime_services.xsodata");},getSapFontErrorCode:function(){return String.fromCharCode(0xe0b1);},getSapFontBusyCode:function(){return String.fromCharCode(0xe1f2);},prepareFilterStructure:function(f,d){var v=[];if(d){f=f.concat(d);}for(var i=0;i<f.length;i++){var p={};p.comparator=f[i].OPERATOR;p.filterPropertyName=f[i].NAME;if(f[i].ID){p.id=f[i].ID;}p.type=f[i].TYPE;p.value=f[i].VALUE_1;p.valueTo=f[i].VALUE_2;v.push(p);}return v;},getODataModelByServiceUriFromChipAPI:function(s,T){s=T.url.addSystemToServiceUrl(s);if(!c[s]){var m=new sap.ui.model.odata.ODataModel(s,true);c[s]=m;}return c[s];},getRunTimeUri:function(p){if(p.toUpperCase()=="HANA"){return"/sap/hba/r/sb/core/odata/runtime/SMART_BUSINESS.xsodata";}return"/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV";},getFilterFromRunTimeService:function(C,T,s,e){var p=C.TILE_PROPERTIES.sb_metadata;var K=this.getODataModelByServiceUriFromChipAPI(this.getRunTimeUri(p),T);var f="ID eq '#EVALUATIONID'".replace("#EVALUATIONID",C.EVALUATION.ID);var k=K.read("/EVALUATION_FILTERS",null,{"$filter":f},true,function(d){var h=[];if(d.results.length){h=d.results;}s.call(this,h);},e);return k;},_getOData4AnalyticsObject:function(u){var m=null;if(u instanceof sap.ui.model.odata.ODataModel){m=u;}else if(typeof u=="string"){m=this.getODataModelByServiceUri(u);}else{throw new Error("Invalid Input to Create ODataModel Object : "+u);}var O=new sap.ui.model.analytics.odata4analytics.Model(sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(m));return O;},findTextPropertyForDimension:function(u,d,f){try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var D=q.findDimensionByName(f);if(D.getTextProperty()){return D.getTextProperty().name;}else{return f;}}catch(e){$.sap.log.error("Error Fetching Text Property for "+f+" : "+e.toString());}},getEvalValueMeasureName:function(C,d,r){var e=C.EVALUATION_VALUES;for(var i=0;i<e.length;i++){if(e[i].TYPE==d){if(r==="FIXED"){return e[i].FIXED;}else{return e[i].COLUMN_NAME;}}}},getSemanticColorName:function(d){var s="";if(d=="Error"){s="sb.error";}if(d=="Neutral"){s="sb.neutral";}if(d=="Critical"){s="sb.critical";}if(d=="Good"){s="sb.good";}return s;},setTooltipInTile:function(C,d,v){var e="";var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();if(d=="NT"||d=="DT"){if(v.status){e+=r.getText("sb.status")+": "+r.getText(v.status)+"\n";}if(v.actual){e+=r.getText("sb.actual")+": "+v.actual+"\n";}if(v.target){e+=r.getText("sb.target")+": "+v.target+"\n";}if(v.cH){e+=r.getText("sb.ch")+": "+v.cH+"\n";}if(v.wH){e+=r.getText("sb.wh")+": "+v.wH+"\n";}if(v.wL){e+=r.getText("sb.wl")+": "+v.wL+"\n";}if(v.cL){e+=r.getText("sb.cl")+": "+v.cL+"\n";}}if(d=="CONT"||d=="COMP"){if(v.measure&&d=="CONT"){if(v&&v.contributionTile.contributionTile&&v.contributionTile.contributionTile[1]==="asc"){e+=r.getText("sb.bottomn")+": "+v.contributionTile[0]+"\n";}else if(v&&v.contributionTile.contributionTile&&v.contributionTile.contributionTile.length){e+=r.getText("sb.topn")+": "+v.contributionTile[0]+"\n";}}if(v.m1&&((v.v1==undefined||v.v1==null)?false:v.v1.toString())&&v.c1){e+=v.m1+": "+v.v1+" "+r.getText(v.c1)+"\n";}if(v.m2&&((v.v2==undefined||v.v2==null)?false:v.v2.toString())&&v.c2){e+=v.m2+": "+v.v2+" "+r.getText(v.c2)+"\n";}if(v.m3&&((v.v3==undefined||v.v3==null)?false:v.v3.toString())&&v.c3){e+=v.m3+": "+v.v3+" "+r.getText(v.c3)+"\n";}}C&&C.setTooltip&&C.setTooltip(e);},_getFormattedTileProperties:function(d){d=d||{};var p=["sb_metadata","sb_navigation","sb_catalog"];var e=false;for(var i=0;!e&&i<p.length;i++){e=e||jQuery.sap.getUriParameters().get(p[i])||d[p[i]];}d.sb_metadata=(jQuery.sap.getUriParameters().get("sb_metadata")||d.sb_metadata||"HANA").toLowerCase();d.sb_navigation=(jQuery.sap.getUriParameters().get("sb_navigation")||d.sb_navigation||"abap").toLowerCase();d.sb_catalog=(jQuery.sap.getUriParameters().get("sb_catalog")||d.sb_catalog||"HANA").toLowerCase();d.isPlatformInfoPresent=e;return d;},getEvaluationDetailsFromRunTimeService:function(e,p,i,d){var K=this.getODataModelByServiceUri(this.getRunTimeUri(p));var f="ID eq '#EVALUATIONID'".replace("#EVALUATIONID",i);var k=K.read(e,null,{"$filter":f},true,function(h){var j=[];if(h.results.length){j=h.results;}d.call(this,j);});},getParsedChip:function(C,i,d){try{var p={};var e=JSON.parse(C);var f=JSON.parse(e.TILE_PROPERTIES).evaluationId||"";if(e.TILE_PROPERTIES){var h=JSON.parse(e.TILE_PROPERTIES);if(h&&(h.instanceId||h.catalogId)){return false;}}var j=this;if(e.blankTile){p["BLANKTILE"]=e.blankTile;}if(e.cachingTime){p["CACHINGTIME"]=e.cachingTime;}if(e.cachingTimeUnit){p["CACHINGUNIT"]=e.cachingTimeUnit;}if(e.TAGS){p["TAGS"]=JSON.parse(e.TAGS);}if(e.ADDITIONAL_FILTERS){p["ADDITIONAL_FILTERS"]=JSON.parse(e.ADDITIONAL_FILTERS);}if(e.ADDITIONAL_APP_PARAMETERS){p["ADDITIONAL_APP_PARAMETERS"]=JSON.parse(e.ADDITIONAL_APP_PARAMETERS);}p.TILE_PROPERTIES=this._getFormattedTileProperties(JSON.parse(e.TILE_PROPERTIES));var P=p.TILE_PROPERTIES.sb_metadata;if(e.EVALUATION_FILTERS){p["EVALUATION_FILTERS"]=JSON.parse(e.EVALUATION_FILTERS);if(e.EVALUATION_VALUES){p["EVALUATION_VALUES"]=JSON.parse(e.EVALUATION_VALUES);if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{if(!i){j.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}else{if(d){d(p);}else{return p;}}}}else{if(!i){j.getEvaluationDetailsFromRunTimeService("/EVALUATION_VALUES",P,f,function(l){p["EVALUATION_VALUES"]=l;if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}});}else{if(d){d(p);}else{return p;}}}}else if(i){if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService("/EVALUATION_FILTERS",P,f,function(l){p["EVALUATION_FILTERS"]=l;if(e.EVALUATION_VALUES){p["EVALUATION_VALUES"]=JSON.parse(e.EVALUATION_VALUES);if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}}else{j.getEvaluationDetailsFromRunTimeService("/EVALUATION_VALUES",P,f,function(l){p["EVALUATION_VALUES"]=l;if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}});}});}}catch(k){return false;}},getNavigationTarget:function(C,s){var f=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService;var o=f&&f("CrossApplicationNavigation");var e;var p={};p["evaluationId"]=C.EVALUATION.ID;p["chipId"]=C.TILE_PROPERTIES.id;if(s){p["sap-system"]=s;}p["tileType"]=C.TILE_PROPERTIES.tileType;if(C.TILE_PROPERTIES.dimension){p["dimension"]=C.TILE_PROPERTIES.dimension;}if(C.TILE_PROPERTIES.storyId){p["storyId"]=C.TILE_PROPERTIES.storyId;}if(C.TILE_PROPERTIES.apfConfId){p["sap-apf-configuration-id"]=C.TILE_PROPERTIES.apfConfId;}if(C.TILE_PROPERTIES.isPlatformInfoPresent){p["sb_metadata"]=C.TILE_PROPERTIES.sb_metadata;p["sb_navigation"]=C.TILE_PROPERTIES.sb_navigation;p["sb_catalog"]=C.TILE_PROPERTIES.sb_catalog;}if(C.ADDITIONAL_APP_PARAMETERS){for(e in C.ADDITIONAL_APP_PARAMETERS){if(C.ADDITIONAL_APP_PARAMETERS.hasOwnProperty(e)){if(C.ADDITIONAL_APP_PARAMETERS[e].constructor==Array){var d=C.ADDITIONAL_APP_PARAMETERS[e];for(var i=0;i<d.length;i++){p[e]=d[i];}}else{p[e]=C.ADDITIONAL_APP_PARAMETERS[e];}}}}var h=o&&o.hrefForExternal({target:{semanticObject:C.TILE_PROPERTIES.semanticObject,action:C.TILE_PROPERTIES.semanticAction},params:p})||"";if(C.ADDITIONAL_FILTERS){var k=C.ADDITIONAL_FILTERS;var l="&";for(var j=0;j<k.length;j++){if(k[j].OPERATOR==="EQ"){l=l+"/"+k[j].NAME+"="+k[j].VALUE_1;}}h+=l;}return h;},getChipTitle:function(C){var d="";if(C){var e=C.EVALUATION||{};d=e.INDICATOR_TITLE||"";}return d;},getstringifyTileConfig:function(C){var s={};s.EVALUATION=JSON.stringify(C.EVALUATION);s.EVALUATION_FILTERS=JSON.stringify(C.EVALUATION_FILTERS);s.EVALUATION_VALUES=JSON.stringify(C.EVALUATION_VALUES);s.TILE_PROPERTIES=JSON.stringify(C.TILE_PROPERTIES);return JSON.stringify(s);},getChipSubTitle:function(C){var T="";if(C){var d=C.EVALUATION||{};T=d.TITLE||"";}return T;},getAllMeasures:function(u,d){var m=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);m=q.getAllMeasureNames();}catch(e){$.sap.log.error("Error Fetching All Measures : "+e.toString());}return m;},getFormattingMetadata:function(u,e,p){var f={};f._hasCurrency=false;f._hasSapText=false;var m=null;if(u instanceof sap.ui.model.odata.ODataModel){m=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(u);}else{var d=this.getODataModelByServiceUri(u);m=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(d);}var O=new sap.ui.model.analytics.odata4analytics.Model(m);var q=O.findQueryResultByName(e);var h=q.getAllMeasures();if(h[p]){var s=(h[p]._oTextProperty&&h[p]._oTextProperty.name)?h[p]._oTextProperty.name:"";if(s!=""){f._hasSapText=true;f._sapTextColumn=s;}else if(h[p].hasOwnProperty("_oUnitProperty")){var j=h[p]._oUnitProperty.extensions;for(var i=0;i<h[p]._oUnitProperty.extensions.length;i++){if(j[i].name==="semantics"&&j[i].value==="currency-code"){f._hasCurrency=true;f._currencyColumn=h[p]._oUnitProperty.name;}}}}return f;},getAllDimensions:function(u,d){function i(j,k){var l=0,m=0;var r=[];while(l<j.length&&m<k.length){if(j[l]<k[m]){l++;}else if(j[l]>k[m]){m++;}else{r.push(j[l]);l++;m++;}}return r;}var f=[];var F=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var h=q.getEntityType();F=h.getFilterablePropertyNames();f=q.getAllDimensionNames();if(F&&F.length){f=i(F.sort(),f.sort());}}catch(e){$.sap.log.error("Error Fetching All Dimesions : "+e.toString());}return f;},prepareQueryServiceUri:function(u,d,m,f,v,o,h){function _(S){return S.replace(/'/g,"''");}var n=null;var p=function(){};var q=function(){};try{var r=null;if(u instanceof sap.ui.model.odata.ODataModel){r=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(u);}else{var s=this.getODataModelByServiceUri(u);r=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(s);}var O=new sap.ui.model.analytics.odata4analytics.Model(r);var Q=O.findQueryResultByName(d);var w=new sap.ui.model.analytics.odata4analytics.QueryResultRequest(Q);if(m){w.setMeasures(m.split(","));w.includeMeasureRawFormattedValueUnit(null,true,true,true);}if(f){if(typeof f=="string"){n=f;n=n.split(",");}for(var i=0;i<n.length;i++){w.addToAggregationLevel([n[i]]);var x=Q.getAllDimensions();if(x[n[i]].getTextProperty()!=null){w.includeDimensionKeyTextAttributes([n[i]],true,true,null);}}}if(v&&v.length){var A=[];var B=[];for(var i=0,l=v.length;i<l;i++){var C=v[i];if(C.type==="PA"){B.push(C);}else if(C.type==="FI"){A.push(C);}}p=function(S){var T=S.toJSON();var U=T.charAt(T.length-1).toUpperCase();if(U.charCodeAt(0)>=65&&U.charCodeAt(0)<=90){T=T.slice(0,-1);}return T;};q=function(S){if(S){try{if(S==+S){S=window.parseInt(S);}var T=new Date(S);var U=T.getTime();if(isNaN(U)){return S;}else{return p(T);}}catch(e){}}return S;};if(A.length){var F=w.getFilterExpression();for(var i=0,l=A.length;i<l;i++){var C=A[i];if(this.getEdmType(u,C.filterPropertyName)=="Edm.DateTime"){C.value=q(C.value);C.valueTo=q(C.valueTo);}if(C.comparator==sap.ui.model.FilterOperator.BT){F.addCondition(C.filterPropertyName,C.comparator,_(C.value),C.valueTo);}else{var D=C.value.split(",");for(var j=0,k=D.length;j<k;j++){F.addCondition(C.filterPropertyName,C.comparator,_(D[j].replace(/\^\|/g,",")),null);}}}}if(B.length){if(Q.getParameterization()){var P=new sap.ui.model.analytics.odata4analytics.ParameterizationRequest(Q.getParameterization());var E=Q.getParameterization();var G,H,I,J,K;for(var y=0,z=B.length;y<z;y++){G=B[y];H=E.findParameterByName(G.filterPropertyName);if(H.isIntervalBoundary()===true&&H.isLowerIntervalBoundary()===true){K=H.getPeerIntervalBoundaryParameter();for(var i=0,l=B.length;i<l;i++){if(B[i].filterPropertyName===K.getName()){J=_(B[i].value);break;}}I=_(G.value);if(J){P.setParameterValue(G.filterPropertyName,I,J);}}else if(H.isIntervalBoundary()===true&&H.isLowerIntervalBoundary()===false){jQuery.sap.log.info("Future development");}else{P.setParameterValue(G.filterPropertyName,_(G.value));}}w.setParameterizationRequest(P);}}}var L=w.getURIToQueryResultEntries();if(o&&o.length){L=L+"&$orderby=";for(var y=0,z=o.length;y<z;y++){var M=o[y].sortOrder||"asc";if(M){L+=o[y].element+" "+M+",";}}L=L.slice(0,L.length-1);}if(h){L=L+"&$top="+h;}var N=Q.getAllMeasures();var R=[];for(var i=0;i<m.split(",").length;i++){R.push(N[m.split(",")[i]].getUnitProperty());}return{uri:L,model:O.getODataModel(),unit:R};}catch(e){$.sap.log.error("Error Preparing Query Service Uri using OData4Analytics Library : "+e.toString());if(arguments.length){$.sap.log.error("Arguments Passed to this function");$.sap.log.error(arguments[0]+","+arguments[1]+","+arguments[2]+","+arguments[3]);}else{$.sap.log.error("NO Arguments passed to this function");}return null;}},getAllEntitySet:function(u){var d=[];try{var o=this._getOData4AnalyticsObject(u);d=o.getAllQueryResultNames();}catch(e){$.sap.log.error("Error fetching Enity Set : "+e.toString());}return d;},getAllMeasuresWithLabelText:function(u,d){var m=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var f=q.getAllMeasureNames();for(var i=0;i<f.length;i++){var h=f[i];g.oMeasure=q.findMeasureByName(h);m.push({key:h,value:oMeasure.getLabelText()});}}catch(e){$.sap.log.error("Error Fetching All Measures : "+e.toString());}return m;},getAllDimensionsWithLabelText:function(u,d){var f=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var h=q.getAllDimensionNames();for(var i=0;i<h.length;i++){var j=h[i];var D=q.findDimensionByName(j);var k=null;if(D.getTextProperty()!=null){k=D.getTextProperty().name;}f.push({key:j,value:D.getLabelText(),textProperty:k});}}catch(e){$.sap.log.error("Error Fetching All Dimesions : "+e.toString());}return f;},getAllInputParams:function(u,d){var i=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);if(q.getParameterization()){var p=q.getParameterization();i=p.getAllParameterNames();}}catch(e){$.sap.log.error("Error Fetching Input Params : "+e.toString());}return i;},getAllInputParamsWithFlag:function(u,d){var f=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);if(q.getParameterization()){var p=q.getParameterization();var h=p.getAllParameterNames();for(var i=0;i<h.length;i++){var j=h[i];var k=p.findParameterByName(j);f.push({name:j,optional:k.isOptional()});}}}catch(e){$.sap.log.error("Error Fetching Input Params : "+e.toString());}return f;},formatOdataObjectToString:function(v){if(v&&v.constructor==Object){if(v.__edmType=="Edm.Time"){var m=v.ms;var s=Math.floor((m/1000)%60);var d=Math.floor((m/60000)%60);var h=Math.floor((m/3600000)%24);return h+"H"+d+"M"+s+"S";}}return v;},generateCombinations:function(d){function e(h,s){while(s.length<h){s='0'+s;}return s;}var m=Math.pow(2,d.length);var r=[];var f=0;while(m>1){var s=(m-1).toString(2);s=e(d.length,s);r[f]=[];for(var i=0;i<s.length;i++){if(Number(s[i])){r[f].push(d[i]);}}m--;f++;}return r;},logError:function(e,C){if(e=="no data"&&C){var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();C.setFailedText(r.getText("sb.noData"));}jQuery.sap.log.error(e.toString());},numberOfLeadingZeros:function(n){n=String(n);var d=0;var e=n.indexOf('.');if(e==-1){return 0;}if(Number(n.split('.')[0])!=0){return 0;}var i=e+1;while(n[i++]=='0'){++d;}return d;},formatValue:function(v,s,M){M=M||3;var u={3:"K",6:"M",9:"B",12:"T",0:""};u["-3"]="m";u["-6"]="u";u["-9"]="n";u["-12"]="t";u["-2"]="%";var d,p,e;d=Number(v).toPrecision(M);var z=this.numberOfLeadingZeros(d);if(z>0&&s<0){p=d*Math.pow(10,z+M);e=-(z+M);}else{p=Number(d.split("e")[0]);e=Number(d.split("e")[1])||0;}if(!v&&v!=0){return{value:"",unitPrefix:""};}if(s>=0){if(e%3!=0){if(e%3==2){if(e+1==s){e=e+1;p=p/10;}else{e=e-2;p=p*100;}}else{if(e+2==s){e=e+2;p=p/100;}else{e--;p=p*10;}}}else if(e==15){p=p*1000;e=12;}}else{if(s=="-2"){var x=this.formatValue((v*100),0);}else if(e>=0&&v<10&&s=="-3"){p=v*Math.pow(10,3);e=-3;}else if(e>=0){return this.formatValue(v,0);}else{e=Math.abs(e);s=Math.abs(s);if(s>e){p=p/(Math.pow(10,e%3));e=e-(e%3);}else{var f=e-s;p=p/(Math.pow(10,f));e=e-f;}e=0-e;}}p+="";if(s=="-2"){var h=(x.unitPrefix=="")?Number(x.value+"").toFixed(4-(x.value+"").indexOf('.')):Number(x.value+"").toFixed(3-(x.value+"").indexOf('.'));return{value:Number(h),unitPrefix:(x.unitPrefix)+u[-2]};}p=Number(p).toFixed(4-p.indexOf('.'));return{value:Number(p),unitPrefix:u[e]};},isSmartbusinessChipAndCachable:function(d){var C=this.getParsedChip(d&&d.getConfigurationParameter("tileConfiguration"));return(C&&C.TILE_PROPERTIES&&C.TILE_PROPERTIES.tileType&&this.getCachingTime(C));},getHanaClient:function(){var e=function(d,s,x){h=d.sessionClient;sap.ushell.components.tiles.indicatorTileUtils.cache.setCacheHanaClient(h);sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.resolve(h);};var f=function(d,k,l){jQuery.sap.log.error(d.responseText);jQuery.sap.log.error("session client call failed");sap.ushell.components.tiles.indicatorTileUtils.cache.setCacheHanaClient(null);sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.reject();};var h;var i=sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED||jQuery.Deferred();var j=sap.ushell.components.tiles.indicatorTileUtils.cache.getCacheHanaClient();if(j!=undefined){h=j;sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.resolve(h);}else if(sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED){return sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.promise();}else{sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED=i;jQuery.ajax({type:"GET",async:false,dataType:"json",url:"/sap/hba/r/sb/core/logic/GetSessionClient.xsjs",success:e,error:f});}return sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.promise();},abortPendingODataCalls:function(d){try{if(d){d.abort();}}catch(e){this.logError(e);}}};})(window,jQuery);sap.ushell.components.tiles.indicatorTileUtils.cache=(function(){"use strict";var B={};var K={};var s="HANA_CLIENT";return{getCacheHanaClient:function(){return B[s];},setCacheHanaClient:function(d){B[s]=d;},getEvaluationByChipId:function(k){if(B[k]){return B[k];}return null;},getEvaluationById:function(k){return this.getEvaluationByChipId(k);},setEvaluationById:function(k,d){B[k]=d;},getFrontEndCacheDeferredObject:function(k){if(B[k]){return B[k];}return null;},setFrontEndCacheDefferedObject:function(k,d){B[k]=d;},getKpivalueById:function(k){if(K[k]){return K[k];}return null;},setKpivalueById:function(k,d){K[k]=d;}};})();
},
	"sap/ushell/components/tiles/indicatorcomparison/ComparisonTile.controller.js":function(){jQuery.sap.require("sap.ushell.components.tiles.generic");(function(){"use strict";sap.ushell.components.tiles.generic.extend("sap.ushell.components.tiles.indicatorcomparison.ComparisonTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false;},_processDataForComparisonChart:function(d,m,u){var f=[],L={},i,t,l;var a;var T=[];var b=this;var e=null;for(i=0;i<d.results.length;i++){var g=d.results[i];}T=sap.ushell.components.tiles.indicatorTileUtils.util.getAllMeasuresWithLabelText(this.oTileApi.url.addSystemToServiceUrl(this.oConfig.EVALUATION.ODATA_URL),this.oConfig.EVALUATION.ODATA_ENTITYSET);for(i=0,l=T.length;i<l;i++){t=T[i];L[t.key]=t.value;}var h=b.oConfig.TILE_PROPERTIES.COLUMN_NAMES||b.oConfig.EVALUATION.COLUMN_NAMES;for(i=0;i<h.length;i++){var j={};var k=h[i];j.value=Number(g[k.COLUMN_NAME]);var n=Number(g[k.COLUMN_NAME]);var o=false;var s=0;var p=b._getEvaluationThresholdMeasures();var I=jQuery.inArray(k.COLUMN_NAME,p);if(I>-1){o=true;s=b.oConfig.EVALUATION.SCALING;}if(b.oConfig.EVALUATION.SCALING==-2&&o){n*=100;}var c=b.isCurrencyMeasure(k.COLUMN_NAME);if(u&&u[i]&&g[u[i].name]){e=g[u[i].name];}a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(n,s,b.oConfig.EVALUATION.SCALING,b.oConfig.EVALUATION.DECIMAL_PRECISION,c,e);if(b.oConfig.EVALUATION.SCALING==-2&&o){a+=" %";}j.displayValue=a.toString();if(u){if(u[i]&&g[u[i].name]){j.displayValue+=" "+g[u[i].name];}}j.color=k.semanticColor;j.title=L[k.COLUMN_NAME]||k.COLUMN_NAME;j.measure=k.COLUMN_NAME;j.isCurM=c;f.push(j);}return f;},fetchChartData:function(r,a,s,E){function c(u,w){var x=false;if(u&&u.results&&u.results.length){for(var i=0,l=w.length;i<l&&!x;i++){x=u.results[0][w[i].COLUMN_NAME]!==null;}}return x;}var t=this;try{var b=this.oConfig.EVALUATION.ODATA_ENTITYSET;var m=this.oConfig.EVALUATION.COLUMN_NAME;var d=m;if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES){for(var j=0;j<this.oConfig.TILE_PROPERTIES.COLUMN_NAMES.length;j++){if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){d=d+","+this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME;}}}else{for(var j=0;j<this.oConfig.EVALUATION.COLUMN_NAMES.length;j++){if(this.oConfig.EVALUATION.COLUMN_NAMES[j].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){d=d+","+this.oConfig.EVALUATION.COLUMN_NAMES[j].COLUMN_NAME;}}}var f=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var g=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(g){var h=g.Data&&JSON.parse(g.Data);}}var k=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var n=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,k,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);if((h&&!h.rightData)||!g||(!n&&t.oTileApi.visible.isVisible())||f||(a&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh){if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,b,d,null,v,3);this.comparisionChartODataRef=o.model.read(o.uri,null,null,true,function(i){t.kpiValueFetchDeferred=true;var w={};if(o.unit){w.unit=o.unit;}if(c(i,t.oConfig.TILE_PROPERTIES.COLUMN_NAMES||t.oConfig.EVALUATION.COLUMN_NAMES)){t.oConfig.TILE_PROPERTIES.FINALVALUE=i;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,d.split(",")[0],o.unit);w.data=t.oConfig.TILE_PROPERTIES.FINALVALUE;var l={};t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();l.ChipId=t.oConfig.TILE_PROPERTIES.id;l.Data=JSON.stringify(w);l.CacheMaxAge=Number(t.chipCacheTime);l.CacheMaxAgeUnit=t.chipCacheTimeUnit;l.CacheType=1;var u=t.getLocalCache(l);t.updateDatajobScheduled=false;var x=t.oConfig.TILE_PROPERTIES.id+"data";var y=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(x);if(y){clearTimeout(y);y=undefined;}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,u);var U=false;if(g){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,l,U,function(i){if(i){t.cacheTime=i&&i.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,i);t.setTimeStamp();}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}}else{var z=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(z){if(!z.CachedTime){z.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var A=z.Data;if(A){A=JSON.parse(A);A.rightData=w;}z.Data=JSON.stringify(A);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,z);}else{var A={};A.rightData=w;u.Data=JSON.stringify(A);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,u);}t.cacheWriteData=w;}s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(i.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=i;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id)){w=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);w.data=i;}else{w.data=i;}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,w);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,{empty:"empty"});t.setNoData();}},function(i){t.kpiValueFetchDeferred=true;if(i&&i.response){jQuery.sap.log.error(i.message+" : "+i.request.requestUri);E.call(t,i);}});}}else{if(g&&g.Data){var p;var q=t.oConfig&&t.oConfig.TILE_PROPERTIES&&t.oConfig.TILE_PROPERTIES.tileType;if(q.indexOf("DT-")==-1){p=g.Data&&JSON.parse(g.Data);}else{p=g.Data&&JSON.parse(g.Data);p=p.rightData;}t.cacheTime=g.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}if(p.data&&p.data.length){t.oConfig.TILE_PROPERTIES.FINALVALUE=p.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else{t.oConfig.TILE_PROPERTIES.FINALVALUE=p.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}}else{t.setNoData();}}}catch(e){t.kpiValueFetchDeferred=true;E.call(t,e);}},doProcess:function(r,i){var t=this;this.setTextInTile();this.fetchChartData(r,i,function(k){this.CALCULATED_KPI_VALUE=k;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.TwoByOne);t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());var c={};c.data=this.CALCULATED_KPI_VALUE;t.getView().getViewData().deferredObj.resolve();}else{t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}this.setToolTip(null,this.CALCULATED_KPI_VALUE,"COMP");if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}},this.logError);},doDummyProcess:function(){var t=this;this.setTextInTile();t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.OneByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1.2,color:"Good"},{title:"Measure 2",value:0.78,color:"Good"},{title:"Measure 3",value:1.4,color:"Error"}]});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});}());
},
	"sap/ushell/components/tiles/indicatorcontribution/ContributionTile.controller.js":function(){jQuery.sap.require("sap.ushell.components.tiles.generic");(function(){"use strict";sap.ushell.components.tiles.generic.extend("sap.ushell.components.tiles.indicatorcontribution.ContributionTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false;},_processDataForComparisonChart:function(d,m,a,u){var s=this.oConfig.TILE_PROPERTIES.semanticColorContribution;var f=[];var t;var b;for(var i=0;i<d.results.length;i++){var g=d.results[i];var h={};try{h.title=g[a].toString();}catch(e){h.title="";}h.value=Number(g[m]);var j=Number(g[m]);if(this.oConfig.EVALUATION.SCALING==-2){j*=100;}var c=this.isCurrencyMeasure(m);b=g[u];t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(j,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,b);h.displayValue=t.toString();if(typeof s==='undefined'){h.color="Neutral";}else{h.color=s;}if(h&&u){h[u]=b;}f.push(h);}return f;},fetchChartData:function(r,i,s,E){var t=this;try{var u=this.oConfig.EVALUATION.ODATA_URL;var a=this.oConfig.EVALUATION.ODATA_ENTITYSET;t.setThresholdValues();if(this.oConfig.TILE_PROPERTIES.semanticMeasure){var m=this.oConfig.EVALUATION.COLUMN_NAME+","+this.oConfig.TILE_PROPERTIES.semanticMeasure;}else{var m=this.oConfig.EVALUATION.COLUMN_NAME;}var b=null;var d=this.oConfig.TILE_PROPERTIES.dimension;this.oConfig.EVALUATION_VALUES;var c=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var f=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(f){var g=f.Data&&JSON.parse(f.Data);}}var h=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var j=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,h,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);if((g&&!g.rightData)||!f||(!j&&t.oTileApi.visible.isVisible())||c||(i&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh){if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o={};o["0"]=m+",asc";o["1"]=m+",desc";o["2"]=d+",asc";o["3"]=d+",desc";var k=o[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");var l=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,a,m,d,v,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){l.uri+="&$top=3&$orderby="+k[0]+" "+k[2];}else{l.uri+="&$top=3&$orderby="+k[0]+" "+k[1];}this.comparisionChartODataRef=l.model.read(l.uri,null,null,true,function(q){t.kpiValueFetchDeferred=true;var w={};if(q&&q.results&&q.results.length){if(l.unit[0]){t._updateTileModel({unit:q.results[0][l.unit[0].name]});b=l.unit[0].name;w.unit=l.unit[0];w.unit.name=l.unit[0].name;}d=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oTileApi.url.addSystemToServiceUrl(u),a,d);w.dimension=d;t.oConfig.TILE_PROPERTIES.FINALVALUE=q;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,m.split(",")[0],d,b);w.data=t.oConfig.TILE_PROPERTIES.FINALVALUE;w.isCurM=t.isACurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var x={};t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();x.ChipId=t.oConfig.TILE_PROPERTIES.id;x.Data=JSON.stringify(w);x.CacheMaxAge=Number(t.chipCacheTime);x.CacheMaxAgeUnit=t.chipCacheTimeUnit;x.CacheType=1;var y=t.getLocalCache(x);t.updateDatajobScheduled=false;var z=t.oConfig.TILE_PROPERTIES.id+"data";var A=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(z);if(A){clearTimeout(A);A=undefined;}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,y);var U=false;if(f){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,x,U,function(q){if(q){t.cacheTime=q&&q.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,q);}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}}else{var B=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(B){if(!B.CachedTime){B.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var C=B.Data;if(C){C=JSON.parse(C);if(t.oKpiTileView.getViewName()=="tiles.indicatornumeric.NumericTile"){C.leftData=w;}else{C.rightData=w;}}B.Data=JSON.stringify(C);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,B);}else{var C={};C.rightData=w;y.Data=JSON.stringify(C);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,y);}t.cacheWriteData=w;}s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(q.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=q;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id)){w=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);w.data=q;}else{w.data=q;}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,w);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,{empty:"empty"});t.setNoData();}},function(q){t.kpiValueFetchDeferred=true;if(q&&q.response){jQuery.sap.log.error(q.message+" : "+q.request.requestUri);E.call(t,q);}});}}else{if(f&&f.Data){var n;var p=t.oConfig&&t.oConfig.TILE_PROPERTIES&&t.oConfig.TILE_PROPERTIES.tileType;if(p.indexOf("DT-")==-1){n=f.Data&&JSON.parse(f.Data);}else{n=f.Data&&JSON.parse(f.Data);n=n.rightData;}t.cacheTime=f.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}if(n.data&&n.data.length){if(n.unit){t._updateTileModel({unit:n.data[0][n.unit.name]});}d=n.dimension;t.oConfig.TILE_PROPERTIES.FINALVALUE=n.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(n&&n.data&&n.data instanceof Array&&n.data.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=n.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{t.setNoData();}}else{t.setNoData();}}}catch(e){t.kpiValueFetchDeferred=true;E.call(t,e);}},doProcess:function(r,i){var t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);this.setTextInTile();this.fetchChartData(r,i,function(k){this.CALCULATED_KPI_VALUE=k;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.TwoByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());t.getView().getViewData().deferredObj.resolve();}else{t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}this.setToolTip(null,this.CALCULATED_KPI_VALUE,"CONT");if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}},this.logError);},doDummyProcess:function(){var t=this;t.setTextInTile();t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.OneByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral"},{title:"EMEA",value:50,color:"Neutral"},{title:"APAC",value:-20,color:"Neutral"}]});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});}());
},
	"sap/ushell/components/tiles/indicatordeviation/DeviationTile.controller.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.generic");sap.ushell.components.tiles.generic.extend("sap.ushell.components.tiles.indicatordeviation.DeviationTile",{onInit:function(){this.KPI_VALUE_REQUIRED=true;},doProcess:function(k,t){var a=this;var f,b;var d=Number(k);var e=this.setThresholdValues();if(this.oConfig.EVALUATION.SCALING==-2){d*=100;}var c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);b=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(d),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);this.CALCULATED_KPI_VALUE=Number(k);var g={};var h=this.getThresholdsObjAndColor(t).returnColor;var i={value:Number(k),color:h};g.actualValueLabel=b.toString();g.actual=i;g.thresholds=[];g.thresholds=this.getThresholdsObjAndColor(e).arrObj;var j=this.DEFINITION_DATA.EVALUATION_VALUES;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){var l=Number(e.targetValue);if(this.oConfig.EVALUATION.SCALING==-2){l*=100;}c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);f=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(l,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);g.targetValue=Number(e.targetValue);g.targetValueLabel=f.toString();}else{for(var m=0;m<j.length;m++){if(j[m].TYPE==="TA"){var l=Number(j[m].FIXED);if(this.oConfig.EVALUATION.SCALING==-2){l*=100;}c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);f=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(l,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);g.targetValue=Number(j[m].FIXED);g.targetValueLabel=f.toString();}}}if(this.oConfig.EVALUATION.SCALING==-2){g.scale="%";}this._updateTileModel(g);if(this.DEFINITION_DATA.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){a.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());a.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(a.oConfig.TILE_PROPERTIES.id+"defferedRight",false);}else{this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}this.setToolTip(h,d,"DT");if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}}},getThresholdsObjAndColor:function(t){try{var T={};T.arrObj=[];T.returnColor=sap.m.ValueColor.Neutral;var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var w,c,a,b;if(i==="MI"){a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;if(a&&b){a=window.parseFloat(a);b=window.parseFloat(b);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<b){T.returnColor=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=a){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Error;}}}else if(i==="MA"){c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(c&&w){c=window.parseFloat(c);w=window.parseFloat(w);T.arrObj.push({value:c,color:sap.m.ValueColor.Error});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<c){T.returnColor=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=w){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}else{a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(w&&b&&c&&c){a=window.parseFloat(a);b=window.parseFloat(b);w=window.parseFloat(w);c=window.parseFloat(c);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});T.arrObj.push({value:c,color:sap.m.ValueColor.Error});if(this.CALCULATED_KPI_VALUE<c||this.CALCULATED_KPI_VALUE>a){T.returnColor=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=c&&this.CALCULATED_KPI_VALUE<=w)||(this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=a)){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}return T;}catch(e){this.logError(e);}},doDummyProcess:function(){var t=this;this.setTextInTile();t._updateTileModel({actual:{value:120,color:sap.m.ValueColor.Good},targetValue:100,thresholds:[{value:0,color:sap.m.ValueColor.Error},{value:50,color:sap.m.ValueColor.Critical},{value:150,color:sap.m.ValueColor.Critical},{value:200,color:sap.m.ValueColor.Error}],showActualValue:true,showTargetValue:true});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});}());
},
	"sap/ushell/components/tiles/indicatornumeric/NumericTile.controller.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.generic");sap.ushell.components.tiles.generic.extend("sap.ushell.components.tiles.indicatornumeric.NumericTile",{onInit:function(){this.KPI_VALUE_REQUIRED=true;},doProcess:function(k,t){var a=this;this.CALCULATED_KPI_VALUE=k;this.DEFINITION_DATA.EVALUATION_VALUES;var b=this.getTrendColor(t);var d=this.getTrendIndicator(t.trendValue);var s="";var e=this.CALCULATED_KPI_VALUE;if(this.oConfig.EVALUATION.SCALING==-2){e*=100;this.getView().oNVConfContS.setFormatterValue(false);}var c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(e),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);if(this.oConfig.EVALUATION.SCALING==-2){this._updateTileModel({scale:"%"});}this._updateTileModel({value:s.toString(),valueColor:b,indicator:d});if(a.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.OneByOne){this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);this.setToolTip(b,e,"NT");}else{a.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());a.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(a.oConfig.TILE_PROPERTIES.id+"defferedLeft",false);}this.setToolTip(b,e,"NT");if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(a.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,a.oTileApi.visible.isVisible());}}},doDummyProcess:function(){var t=this;this.setTextInTile();if(!(t.oConfig.BLANKTILE||t.oConfig.TILE_PROPERTIES.blankTile)){t._updateTileModel({value:"10.34",scale:"M",valueColor:sap.m.ValueColor.Neutral,indicator:sap.m.DeviationIndicator.None});}else{this.oKpiTileView.oNVConfContS.setIcon('sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts');}this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});}());
},
	"sap/ushell/components/tiles/indicatornumeric/NumericTile.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("sap.ushell.components.tiles.indicatornumeric.NumericTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatornumeric.NumericTile";},createContent:function(c){var h="Lorem ipsum";var s="Lorem ipsum";var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(t.title&&t.subTitle){h=t.title;s=t.subTitle;}var g={subheader:s,header:h,footerNum:"",footerComp:"",scale:"",unit:"",value:"",size:"Auto",frameType:"OneByOne",state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Neutral,indicator:sap.m.DeviationIndicator.None,title:"",footer:"",description:""};this.oNVConfContS=new sap.m.NumericContent({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",valueColor:"{/valueColor}",size:"{/size}",formatterValue:true,truncateValueTo:5,nullifyValue:false});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oNVConfContS});this.oGenericTile=new sap.m.GenericTile({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});var G=new sap.ui.model.json.JSONModel();G.setData(g);this.oGenericTile.setModel(G);return this.oGenericTile;}});}());
},
	"sap/ushell/components/tiles/sbtilecontent.js":function(){jQuery.sap.declare("sap.ushell.components.tiles.sbtilecontent");sap.ui.define(["sap/m/TileContent","sap/m/TileContentRenderer","sap/ui/core/Control"],function(T,R,C){"use strict";var t=C.extend("numeric.TileContent_Timestamp",{ontap:function(e){if(this.getParent().getRefreshOption()){e.preventDefault();e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}this.getParent().fireRefresh();}},renderer:function(r,c){r.write("<div");r.writeElementData(c);r.addClass("sapMTileCntFtrTxt");if(c.getParent().getRefreshOption()){r.addClass("sapMLnk");}r.writeClasses();r.addStyle("position","absolute");r.addStyle("z-index","2");r.addStyle(r.getConfiguration().getRTL()?"left":"right","auto");r.writeStyles();r.write(">");var a=c.getParent().getTimestamp();if(a){if(!c.getParent().getRefreshOption()){r.writeEscaped(a);}else if(r.getConfiguration().getRTL()){r.writeEscaped(a+"\u2009");r.writeIcon("sap-icon://refresh","sapMCmpTileUnitInner");}else{r.writeIcon("sap-icon://refresh","sapMCmpTileUnitInner");r.writeEscaped("\u2009"+a);}}r.write("</div>");}});return T.extend("sap.ushell.components.tiles.sbtilecontent",{metadata:{properties:{timestamp:{type:"string"},refreshOption:{type:"boolean"}},events:{refresh:{}}},init:function(){this.addDependent(this._oTimestamp=new t());},getAltText:function(){var a=T.prototype.getAltText.apply(this,arguments);if(this.getTimestamp()){a+=(a===""?"":"\n")+this.getTimestamp();}return a;},renderer:{_renderFooter:function(r,c){R._renderFooter.apply(this,arguments);r.renderControl(c._oTimestamp);}}});},true);
},
	"sap/ushell/renderers/fiori2/search/SearchConfiguration.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchConfiguration');var D='sap.ushell.renderers.fiori2.search.controls.SearchResultListSelectionHandler';jQuery.sap.require(D);var a=jQuery.sap.getObject(D);var u={multiSelect:{type:'bool'},odataProvider:{type:'bool'},searchBusinessObjects:{type:'bool'},charts:{type:'bool'},maps:{type:'bool'},newpie:{type:'bool'},personalizationStorage:{type:'string'}};var S=sap.ushell.renderers.fiori2.search.SearchConfiguration=function(){this.init.apply(this,arguments);};S.prototype={init:function(p){try{var c=window['sap-ushell-config'].renderers.fiori2.componentData.config.esearch;jQuery.extend(true,this,c);}catch(e){}this.handleOutdatedConfigurationParameters();this.setDefaults();this.readUrlParameters();this.setModulePaths();},setModulePaths:function(){if(!this.modulePaths){return;}for(var i=0;i<this.modulePaths.length;++i){var m=this.modulePaths[i];jQuery.sap.registerModulePath(m.moduleName,m.urlPrefix);}},handleOutdatedConfigurationParameters:function(){try{var c=window['sap-ushell-config'].renderers.fiori2.componentData.config;if(c.searchBusinessObjects!==undefined&&this.searchBusinessObjects===undefined){if(c.searchBusinessObjects==='hidden'||c.searchBusinessObjects===false){this.searchBusinessObjects=false;}else{this.searchBusinessObjects=true;}}if(c.enableSearch!==undefined&&this.enableSearch===undefined){this.enableSearch=c.enableSearch;}}catch(e){}},setDefaults:function(){if(this.searchBusinessObjects===undefined){this.searchBusinessObjects=true;}if(this.odataProvider===undefined){this.odataProvider=false;}if(this.multiSelect===undefined){this.multiSelect=true;}if(this.charts===undefined){this.charts=true;}if(this.maps===undefined){this.maps=false;}if(this.newpie===undefined){this.newpie=false;}if(this.dataSources===undefined){this.dataSources={};}if(this.enableSearch===undefined){this.enableSearch=true;}if(this.personalizationStorage===undefined){this.personalizationStorage='auto';}},readUrlParameters:function(){var p=this.parseUrlParameters();for(var b in p){if(b==='demoMode'){this.searchBusinessObjects=true;this.enableSearch=true;continue;}var c=u[b];if(!c){continue;}var v=p[b];switch(c.type){case'bool':v=(v==='true'||v==='');break;default:}this[b]=v;}},parseUrlParameters:function(){var U=sap.ushell.Container.getService("URLParsing");var p=U.parseParameters(window.location.search);var n={};for(var k in p){var v=p[k];if(v.length!==1){continue;}v=v[0];if(typeof v!=='string'){continue;}n[k]=v;}return n;},getDataSourceConfig:function(d){var c;var b=d.semanticObjectType;if(!b&&d.semanticObjectTypes&&d.semanticObjectTypes.length==1){b=d.semanticObjectTypes[0];}if(this.semanticObjects&&b){c=this.semanticObjects[b];}if(!c&&d.semanticObjectType==='fileprocessorurl'){try{c={searchResultListItem:'sap.ushell.renderers.fiori2.search.controls.SearchResultListItemDocument'};jQuery.sap.require(c.searchResultListItem);c.searchResultListItemControl=jQuery.sap.getObject(c.searchResultListItem);}catch(e){c=undefined;}}if(!c){if(!this._defaultConfig){this._defaultConfig={searchResultListItemContent:undefined,searchResultListItemContentControl:undefined,searchResultListSelectionHandler:D,searchResultListSelectionHandlerControl:a};}c=this._defaultConfig;if(b){this.semanticObjects=this.semanticObjects||[];this.semanticObjects[b]=c;}}if(c.searchResultListItemContent&&!c.searchResultListItemContentControl){try{jQuery.sap.require(c.searchResultListItemContent);c.searchResultListItemContentControl=jQuery.sap.getObject(c.searchResultListItemContent);}catch(e){}}c.searchResultListSelectionHandler=c.searchResultListSelectionHandler||D;try{if(!c.searchResultListSelectionHandlerControl){jQuery.sap.require(c.searchResultListSelectionHandler);c.searchResultListSelectionHandlerControl=jQuery.sap.getObject(c.searchResultListSelectionHandler);}}catch(e){}return c;},isLaunchpad:function(){try{return!!sap.ushell.Container.getService("CrossApplicationNavigation");}catch(e){return false;}},getSina:function(){jQuery.sap.require("sap.ushell.renderers.fiori2.search.esh.api.release.sina");if(!this.isSinaRegistered){if(!this.odataProvider&&this.isLaunchpad()){sap.ushell.Container.addRemoteSystem(new sap.ushell.System({alias:"ENTERPRISE_SEARCH",platform:"abap",baseUrl:"/ENTERPRISE_SEARCH"}));this.sina=window.sina.getSina();}else{this.sina=window.sina.getSina({'impl_type':"odata2"});}}this.isSinaRegistered=true;return this.sina;}};var s;S.getInstance=function(){if(s){return s}s=new S();return s;}})();
},
	"sap/ushell/renderers/fiori2/search/SearchFacetDialogHelper.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchFacetDialogHelper');var m=sap.ushell.renderers.fiori2.search.SearchFacetDialogHelper={};jQuery.extend(m,{init:function(d){var t=this;t.POS_FACET_LIST=0;t.POS_TOOLBAR_SEARCHFIELD=0;t.POS_TOOLBAR_TOGGLEBUTTON=1;t.POS_SETTING_CONTAINER=0;t.POS_ATTRIBUTE_LIST_CONTAINER=1;t.POS_ICONTABBAR=0;t.POS_TABBAR_LIST=0;t.POS_TABBAR_CONDITION=1;t.POS_SORTING_SELECT=0;t.POS_SHOWONTOP_CHECKBOX=1;t.POS_ADVANCED_CHECKBOX=0;t.POS_ADVANCED_INPUT_LAYOUT=1;t.POS_ADVANCED_BUTTON=2;t.bResetFilterIsActive=false;var n={"decimals":2};t.oNumberFormat=sap.ui.core.format.NumberFormat.getFloatInstance(n);var D={"pattern":"yyyy-MM-dd HH:mm:ss.SSSSSSS","UTC":true};t.oDateFormat=sap.ui.core.format.DateFormat.getDateTimeInstance(D);t.dialog=d;},getFacetList:function(){var t=this;return t.dialog.oSplitContainer.getMasterPages()[0].getContent()[t.POS_FACET_LIST];},updateDetailPage:function(l,f,i){var t=this;var M=t.dialog.getModel();var s=t.dialog.getModel('searchModel');var b=l.getBindingContext().sPath;var S=M.getProperty(b);var d=M.getAttributeDataType(S.dataType);var a=this.getFacetList().indexOfAggregation("items",l);var D=t.dialog.oSplitContainer.getDetailPages()[a];var o,A,c;if(d==="string"||d==="text"){o=D.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_LIST].getContent()[0].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];A=D.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_CONDITION].getContent()[0];c=D.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_LIST].getContent()[0].getContent()[t.POS_SETTING_CONTAINER];}else{o=D.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];A=D.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER];c=D.getContent()[t.POS_SETTING_CONTAINER];}var n=D.getId();t.dialog.oSplitContainer.toDetail(n,"show");t.dialog.resetIcons(M,b,t.dialog);o.setBusy(true);var p={sAttribute:S.dimension,sBindingPath:b,sAttributeLimit:1000,bInitialFilters:i};if(d==="number"){p.sAttributeLimit=5;}t.applyChartQueryFilter(a);if(f){p.bValueHelpMode=true;var e=M.sina.createFilterCondition({attribute:S.dimension,operator:"=",value:f+"*"});if(!t.bResetFilterIsActive){M.chartQuery.addFilterCondition(e);}}else{p.bValueHelpMode=false;if(f===undefined&&(d==="string"||d==="text")){D.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_LIST].getContent()[0].getSubHeader().getContent()[t.POS_TOOLBAR_SEARCHFIELD].setValue('');}}M.chartQuery.setSearchTerms(s.getSearchBoxTerm());M.facetDialogSingleCall(p).done(function(){var I=M.getProperty(D.getBindingContext().sPath).items;if(A.data('initial')){t.initiateAdvancedConditions(A,I,A.data('dataType'));}var C=c.getContent()[t.POS_SHOWONTOP_CHECKBOX];if(o.getSelectedContexts().length>0){C.setEnabled(true);}t.updateDetailPageListItemsSelected(o,A);t.dialog.updateDetailPageCharts(I,M);});},applyChartQueryFilter:function(e){var t=this;t.dialog.getModel().resetChartQueryFilterConditions();var d=t.dialog.oSplitContainer.getDetailPages();for(var i=0;i<d.length;i++){if(i===e||d[i].getContent().length===0){continue;}var l;if(!d[i].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER]){l=d[i].getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_LIST].getContent()[0].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];}else{l=d[i].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];}for(var j=0;j<l.getItems().length;j++){var L=l.getItems()[j];var o=L.getBindingContext().getObject();var f=o.filterCondition;if(f.attribute||f.conditions){if(L.getSelected()&&!t.bResetFilterIsActive){if(!t.dialog.getModel().chartQuery.getFilter().hasFilterCondition(f)){t.dialog.getModel().chartQuery.addFilterCondition(f);}}}}t.applyAdvancedCondition(d[i],t.getFacetList().getItems()[i].getBindingContext().getObject(),t.dialog.getModel().chartQuery);}},applyAdvancedCondition:function(d,f,a){var t=this;var b=t.dialog.getModel();var D,A,k,o,c,e,g,C;if(d.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER]){var l=d.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER];D=l.data('dataType');A=l.getContent();switch(D){case'date':for(k=1;k<A.length;k++){o=A[k];c=o.getContent()[t.POS_ADVANCED_CHECKBOX];var h=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT];if(c.getSelected()&&h.getDateValue()&&h.getSecondDateValue()){var i=t.oDateFormat.format(h.getDateValue());var s=t.oDateFormat.format(new Date(h.getSecondDateValue().getTime()+86400000-1));e=b.sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:">=",value:i,label:i});g=b.sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:"<=",value:s,label:s});C=b.sina.createFilterConditionGroup();C.label=h.getValue();C.conditions[0]=e;C.conditions[1]=g;if(!t.bResetFilterIsActive){a.addFilterCondition(C,false);}}}break;case'number':for(k=1;k<A.length;k++){o=A[k];c=o.getContent()[t.POS_ADVANCED_CHECKBOX];var j=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[0];var n=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[2];var p=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];var q=t.oNumberFormat.parse(j.getValue());var r=t.oNumberFormat.parse(n.getValue());if(c.getSelected()&&q&&r){e=b.sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:">=",value:q,label:t.oNumberFormat.format(q)});g=b.sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:"<=",value:r,label:t.oNumberFormat.format(r)});C=b.sina.createFilterConditionGroup();C.label=t.oNumberFormat.format(q)+p.getText()+t.oNumberFormat.format(r);C.conditions[0]=e;C.conditions[1]=g;if(!t.bResetFilterIsActive){a.addFilterCondition(C,false);}}}break;default:break;}}else{var u=d.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_CONDITION].getContent()[0];D=u.data('dataType');A=u.getContent();var v,w,x,F;switch(D){case'string':for(k=0;k<A.length-1;k++){o=A[k];v=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[0];w=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];switch(v.getSelectedKey()){case'eq':x=w.getValue();break;case'ew':x="*"+w.getValue();break;case'bw':x=w.getValue()+"*";break;case'co':x="*"+w.getValue()+"*";break;default:x=w.getValue();break;}if(w.getValue()){F=b.sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:"=",value:x,label:x});if(!t.bResetFilterIsActive){a.addFilterCondition(F,false);}}}break;case'text':for(k=0;k<A.length-1;k++){o=A[k];v=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[0];w=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];x=w.getValue();var O;switch(v.getSelectedKey()){case'co':O="=";break;default:O="=";break;}if(w.getValue()){F=b.sina.createFilterCondition({attribute:f.dimension,attributeLabel:f.title,operator:O,value:x,label:x});if(!t.bResetFilterIsActive){a.addFilterCondition(F,false);}}}break;default:break;}}},initiateAdvancedConditions:function(a,I,t){var b=this;var c,C,o,d;for(var i=I.length;i>0;i--){var e=I[i-1];if(e.advanced){c=a.getContent();if(t==="string"||t==="text"){C=c[c.length-2];}else{C=c[c.length-1];}o=C.getContent()[b.POS_ADVANCED_CHECKBOX];o.setSelected(true);d=C.getContent()[b.POS_ADVANCED_INPUT_LAYOUT];switch(t){case'number':var f=d.getContent()[0];var g=d.getContent()[2];if(e.filterCondition.conditions){for(var j=0;j<e.filterCondition.conditions.length;j++){var h=e.filterCondition.conditions[j];if(h.operator===">="){f.setValue(h.label);}if(h.operator==="<="){g.setValue(h.label);}}}break;case'string':var s=e.label;if((s.charAt(0)==="*")&&(s.charAt(s.length-1)==="*")){d.getContent()[0].setSelectedKey('co');s=s.substring(1,s.length-1);}else if((s.charAt(0)==="*")){d.getContent()[0].setSelectedKey('ew');s=s.substring(1);}else if((s.charAt(s.length-1)==="*")){d.getContent()[0].setSelectedKey('bw');s=s.substring(0,s.length-1);}d.getContent()[1].setValue(s);break;case'text':var k=e.label;if((k.charAt(0)==="*")&&(k.charAt(k.length-1)==="*")){d.getContent()[0].setSelectedKey('co');k=k.substring(1,k.length-1);}d.getContent()[1].setValue(k);break;default:d.setValue(e.label);break;}b.insertNewAdvancedCondition(C,t);b.dialog.getModel().changeFilterAdvaced(e,true);}}a.data('initial',false);},updateDetailPageListItemsSelected:function(d,a){var t=this;var D=a.data('dataType');for(var j=0;j<d.getItems().length;j++){var l=d.getItems()[j];var L=l.getBindingContext().getObject();if(d.getModel().hasFilter(L)){l.setSelected(true);d.getModel().changeFilterAdvaced(L,false);t.removeAdvancedCondition(a,l,D);}else{l.setSelected(false);}var s=l.getBindingContext().sPath+"/selected";l.getBindingContext().oModel.setProperty(s,l.getSelected());}t.sortingAttributeList(d.getParent().getParent());d.setBusy(false);if(D==="date"||D==="number"){d.focus();}},removeAdvancedCondition:function(a,l,t){var b=this;var c=a.getContent();var C,I,d;if(t==="string"||t==="text"){for(var i=0;i<c.length-1;i++){C=c[i];I=C.getContent()[b.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];if(I.getProperty('value')){var v=I.getValue();var L=l.getBindingContext().getObject();if(v===L.filterCondition.value){d=i;break;}}}}a.removeContent(d);},sortingAttributeList:function(d){var t=this;var s=d.getContent()[t.POS_SETTING_CONTAINER];var S=s.getContent()[t.POS_SORTING_SELECT];var c=s.getContent()[t.POS_SHOWONTOP_CHECKBOX];var l=d.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];var D=l.data('dataType');var b=l.getBinding("items");var a=[];if(c.getSelected()){a.push(new sap.ui.model.Sorter("selected",true,false));}switch(S.getSelectedKey()){case"sortName":a.push(new sap.ui.model.Sorter("label",false,false));break;case"sortCount":a.push(new sap.ui.model.Sorter("value",true,false));if(D==="string"||D==="text"){a.push(new sap.ui.model.Sorter("label",false,false));}break;default:break;}b.sort(a);},insertNewAdvancedCondition:function(a,t){var A=a.getParent();var n=new sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition({type:t});if(t==="string"||t==="text"){var i=A.getAggregation("content").length-1;A.insertAggregation("content",n,i);}else{var b=A.indexOfAggregation("content",a);if(b===(A.getAggregation("content").length-1)){A.addContent(n);}}},deleteAdvancedCondition:function(a){var t=this;var A=a.getParent();var d=a.getParent().getParent().getParent().getParent().getParent();A.removeAggregation("content",a);t.updateCountInfo(d);},updateCountInfo:function(d){var t=this;var M=t.getFacetList();var o=M.getSelectedItem();if(!o){o=M.getItems()[0];}var a=o.getBindingContext().oModel;var s=o.getBindingContext().sPath;var D=a.getProperty(s).dimension;var f=t.dialog.getModel().aFilters;var c=0;for(var j=0;j<f.length;j++){if(!f[j].advanced&&f[j].facetAttribute===D){c++;}}var b=a.getAttributeDataType(a.getProperty(s).dataType);var A,e,i,C,g;var h=0;if(b==="string"||b==="text"){A=d.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_CONDITION].getContent()[0];e=A.getContent().length-1;for(i=0;i<e;i++){C=A.getContent()[i];g=C.getContent()[0];if(g.getSelected()){h++;}}}else{A=d.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER];e=A.getContent().length;for(i=1;i<e;i++){C=A.getContent()[i];g=C.getContent()[0];if(g.getSelected()){h++;}}}var F=a.getProperty(s).facetType;if(F==="attribute"){var k=c+h;a.setProperty(s+"/count",k);t.dialog.resetEnabledForFilterResetButton();}}});})();
},
	"sap/ushell/renderers/fiori2/search/SearchFacetDialogHelperCharts.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchFacetDialogHelperCharts');var m=sap.ushell.renderers.fiori2.search.SearchFacetDialogHelperCharts={};jQuery.extend(m,{init:function(d){this.dialog=d;},getBarChartPlaceholder:function(){var t=this;var c;c=new sap.suite.ui.microchart.ComparisonMicroChart({height:"90%",width:"100%",colorPalette:"",tooltip:""});c.addStyleClass('largeChart1barchart');var b=new sap.ui.model.Filter("value",sap.ui.model.FilterOperator.GT,0);var B={path:"items",factory:function(i,C){var o=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{label}',value:'{value}',color:{path:'selected',formatter:function(v){var r=sap.m.ValueColor.Good;if(!v){r=sap.m.ValueColor.Neutral;}return r;}},displayValue:'{valueLabel}',press:function(e){t.dialog.onDetailPageSelectionChangeCharts(e);}});return o;},filters:[b]};c.bindAggregation("data",B);c.setBusyIndicatorDelay(0);return c;},testWhetherPieWedgeOrLabelIsDummy:function(E){var r=false;var l="";var p=0,a=0;try{l=JSON.stringify(E.getParameters().data[0].data).split("\"")[3];p=l.match(/\d+/g)[0];a=l.match(/\d+/g)[1];if(l===sap.ushell.resources.i18n.getText("facetPieChartOverflowText2",[p,a])){r=true;}else if(l===sap.ushell.resources.i18n.getText("facetPieChartOverflowText2",[a,p])){r=true;}}catch(e){}return r;},getPieChartPlaceholder2:function(){jQuery.sap.require('sap.viz.ui5.controls.VizFrame');var t=this;var c;c=new sap.viz.ui5.controls.VizFrame({width:"100%",vizType:"info/pie",selectData:function(e){if(!t.testWhetherPieWedgeOrLabelIsDummy(e)){t.dialog.onDetailPageSelectionChangeCharts(e);}},deselectData:function(e){if(!t.testWhetherPieWedgeOrLabelIsDummy(e)){t.dialog.onDetailPageSelectionChangeCharts(e);}}});c.addEventDelegate({onAfterRendering:function(e){}});c.attachRenderComplete(function(e){var b=[];var I;var s=this.getBindingContext().getObject().items4pie;if(!s){return c;}for(var i=0;i<s.length;i++){I=s[i];if(I.selected===true){b.push({data:{Label:(I.label)}});}}var g={clearSelection:true};c.vizSelection(b,g);var h,k,l;var n,o,q,r;h=e.getSource().sId;n=$("#"+h+" .v-legend-marker").last();o=$("#"+h+" .v-legend-item").last();if(this.getBindingContext().getObject().items4pie[0].percentageMissingInBigPie>0){q=$("#"+h+" .v-legend-item").length-1;r=$("#"+h+" .v-datapoint-group").children();for(var j=0;j<r.length;j++){l=r[j];k=l.getAttribute("data-id");k=parseInt(k,10);if(k===q){l.remove();break;}}n.attr("fill-opacity","0");n.attr("stroke-opacity","1");n.attr("stroke","black");n.attr("stroke-width","0.5");o.unbind();o.off();}var u=$("#"+h+" .v-background-body");u.unbind();u.off();});c.setVizProperties({plotArea:{},legend:{},legendGroup:{linesOfWrap:0,layout:{maxWidth:0.5}},title:{visible:false},interaction:{selectability:{mode:"multiple"}}});c.addStyleClass('largeChart2piechart');var p=new sap.ui.model.Filter("pieReady",sap.ui.model.FilterOperator.EQ,true);var d=new sap.viz.ui5.data.FlattenedDataset({dimensions:[{name:'Label',value:"{label}"}],measures:[{name:'Value',value:'{valueLabel}'}],data:{path:"items4pie",filters:[p]}});var f=new sap.viz.ui5.controls.common.feeds.FeedItem({uid:"size",type:"Measure",values:["Value"]});var a=new sap.viz.ui5.controls.common.feeds.FeedItem({uid:"color",type:"Dimension",values:["Label"]});c.setDataset(d);c.addFeed(f);c.addFeed(a);return c;},getPieChartPlaceholder:function(){var t=this;var c;var p={};p.oSearchFacetDialog=t.dialog;c=new sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart(p);c.addStyleClass('largeChart2piechart');sap.ui.core.ResizeHandler.register(c,function(e){var s=0;var a=0;if(e.target.firstChild){s=parseInt(window.getComputedStyle(e.target.firstChild,null).getPropertyValue("transform-origin").split(" ")[0],10);a=(e.size.width/2)-s;e.target.firstChild.style.marginLeft=a+"px";}});return c;},getHeaderWithDropDown:function(t){var a=this;var c=a.getDropDownButton();var l=new sap.m.Label({text:t});var h=new sap.m.Bar({translucent:true,design:sap.m.BarDesign.Header,contentMiddle:[l,c]});h.addStyleClass("sapUshellSearchFacetDialogTabBarHeader");return h;},setDummyTabBarItems:function(c){c.tabBarItems=[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetList"),icon:"sap-icon://list",key:'list'+arguments[0]}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetBarChart"),icon:"sap-icon://horizontal-bar-chart",key:'barChart'+arguments[0]}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetPieChart"),icon:"sap-icon://pie-chart",key:'pieChart'+arguments[0]})];c.chartOnDisplayIndex=0;},getDropDownButton:function(c){var b=[];var B;var d=new sap.m.Button({icon:c.tabBarItems[c.chartOnDisplayIndex].getIcon()});for(var i=0;i<c.tabBarItems.length;i++){B=new sap.m.Button({text:c.tabBarItems[i].getText(),icon:c.tabBarItems[i].getIcon(),press:function(E){var g,h;h=E.getSource().sId;g=document.getElementById(h).dataset.facetViewIndex;g=parseInt(g,10);c.chartOnDisplayIndex=g;if(c.chartOnDisplayIndex===0){$(".sapUshellSearchFacetDialogSettingsContainer").css('display','block');}else{$(".sapUshellSearchFacetDialogSettingsContainer").css('display','none');}c.chartOnDisplayIndexByFilterArray[c.facetOnDisplayIndex]=g;var j=c.tabBarItems[c.chartOnDisplayIndex].getIcon();d.setIcon(j);var e=c.tabBarItems[c.chartOnDisplayIndex].getText();var f=sap.ushell.resources.i18n.getText('displayAs',[e]);d.setTooltip(f);var k=$(".sapUshellSearchFacetDialogFacetList")[0];if(k){var F=sap.ui.getCore().byId(k.id);if(!F.getSelectedItem()){F.setSelectedItem(F.getItems()[0]);}F.fireSelectionChange({listItem:F.getSelectedItem()});}c.controlChartVisibility(c,g);}});B.data("facet-view-index",""+i,true);b.push(B);}var a=new sap.m.ActionSheet({showCancelButton:true,buttons:b,placement:sap.m.PlacementType.Bottom,cancelButtonPress:function(){jQuery.sap.log.info("sap.m.ActionSheet: cancelButton is pressed");}});d.addStyleClass("sapUshellSearchFacetDialogTabBarButton");var e=c.tabBarItems[c.chartOnDisplayIndex].getText();var f=sap.ushell.resources.i18n.getText('displayAs',[e]);d.setTooltip(f);d.attachPress(function(E){a.openBy(this);});return d;},getListContainersForDetailPage:function(){var t,b,p;var r=[];var a=0;var c=440;var s=$(".searchFacetLargeChartContainer");for(var i=0;i<s.length;i++){if(s[i].clientHeight>0){c=s[i].offsetParent.offsetParent.offsetParent.clientHeight;a=i;break;}}var d=$(".searchFacetLargeChartContainer")[a];if(d){var l=sap.ui.getCore().byId(d.id);var S,I;I=$('.sapUshellSearchFacetDialogSubheaderToolbar .sapMSF');S=$('.sapUshellSearchFacetDialogSortButton');t=d.firstChild.children[0];b=d.firstChild.children[1];p=d.firstChild.children[2];r.push(d);r.push(l);r.push(c);r.push(t);r.push(b);r.push(p);r.push(S);r.push(I);}return r;}});})();
},
	"sap/ushell/renderers/fiori2/search/SearchFacetDialogModel.js":function(){(function(g){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchModel');sap.ushell.renderers.fiori2.search.SearchModel.extend("sap.ushell.renderers.fiori2.search.SearchFacetDialogModel",{constructor:function(){var t=this;sap.ushell.renderers.fiori2.search.SearchModel.prototype.constructor.apply(t,[]);t.aAllowedAccessUsage=["AutoFacet"];t.facetQuery=t.sina.createPerspectiveQuery({templateFactsheet:true});t.chartQuery=t.sina.createChartQuery();t.aFilters=[];},prepareFacetList:function(){var t=this;var m=t.getDataSource().getMetaDataSync();t.setProperty('/facetDialog',t.oFacetFormatter.getDialogFacetsFromMetaData(m,t));},facetDialogSingleCall:function(p){var t=this;t.chartQuery.setDataSource(t.getDataSource());t.chartQuery.setSkip(0);t.chartQuery.setTop(1);t.chartQuery.dimensions=[];t.chartQuery.addDimension(p.sAttribute);t.chartQuery.setAttributeLimit(p.sAttributeLimit);if(t.getProperty("/fuzzy")){t.chartQuery.addOption(g.sinabase.QueryOptions.FUZZY);}else{t.chartQuery.removeOption(g.sinabase.QueryOptions.FUZZY);}if(p.bValueHelpMode){t.chartQuery.addOption(g.sinabase.QueryOptions.VALUEHELP);}else{t.chartQuery.removeOption(g.sinabase.QueryOptions.VALUEHELP);}return t.chartQuery.getResultSet().then(function(r){var f=t.oFacetFormatter.getDialogFacetsFromChartQuery(r,t,p.bInitialFilters);var F=jQuery.extend(true,{},f);f.items4pie=F.items;var a=0,b=0,c=0,d=0;for(var i=0;i<f.items4pie.length;i++){if(i<9){f.items4pie[i].pieReady=true;if(f.items4pie[i].value>0){a+=f.items4pie[i].value;}}else{f.items4pie[i].pieReady=false;if(f.items4pie[i].value>0){b+=f.items4pie[i].value;}}}c=b*100/(a+b);c=Math.ceil(c);d=a/9;d=Math.floor(d);if(c>0){var n=f.items4pie[0].clone([true,true]);n.value=d;n.label=sap.ushell.resources.i18n.getText("facetPieChartOverflowText2",[c,9]);n.pieReady=true;n.valueLabel=""+d;n.isPieChartDummy=true;f.items4pie.push(n);}for(var j=0;j<f.items4pie.length;j++){f.items4pie[j].percentageMissingInBigPie=c;}t.setProperty(p.sBindingPath+"/items4pie",f.items4pie);t.setProperty(p.sBindingPath+"/items",f.items);});},resetFacetQueryFilterConditions:function(){var t=this;t.facetQuery.resetFilterConditions();},resetChartQueryFilterConditions:function(){var t=this;t.chartQuery.resetFilterConditions();},hasFilterCondition:function(f){var t=this;for(var i=0;i<t.aFilters.length;i++){if(t.aFilters[i].filterCondition.equals&&t.aFilters[i].filterCondition.equals(f)){return true;}}return false;},hasFilter:function(i){var t=this;var f=i.filterCondition;return t.hasFilterCondition(f);},addFilter:function(i){var t=this;if(!t.hasFilter(i)){t.aFilters.push(i);}},removeFilter:function(a){var t=this;var f=a.filterCondition;for(var i=0;i<t.aFilters.length;i++){if(t.aFilters[i].filterCondition.equals&&t.aFilters[i].filterCondition.equals(f)){t.aFilters.splice(i,1);return;}}},changeFilterAdvaced:function(a,A){var t=this;var f=a.filterCondition;for(var i=0;i<t.aFilters.length;i++){if(t.aFilters[i].filterCondition.equals&&t.aFilters[i].filterCondition.equals(f)){t.aFilters[i].advanced=A;return;}}},getAttributeDataType:function(d){switch(d){case"Double":return"number";case"Timestamp":return"date";case"String":return"string";case"Text":return"text";default:return"string";}}});})(window);
},
	"sap/ushell/renderers/fiori2/search/SearchHelper.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchHelper');var m=sap.ushell.renderers.fiori2.search.SearchHelper={};jQuery.sap.require('jquery.sap.storage');jQuery.sap.require('sap.ui.core.format.NumberFormat');m.Tester=function(){this.init.apply(this,arguments);};m.Tester.prototype={init:function(s,h,S){this.alphaNumeric='[a-zA-Z0-9]';this.nonAlphaNumeric='[^a-zA-Z0-9]';this.PL='(?:[\0-@\[-`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u0560\u0588-\u05CF\u05EB-\u05EF\u05F3-\u061F\u064B-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07C9\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u089F\u08B5\u08BE-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09EF\u09F2-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B70\u0B72-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B-\u0C5F\u0C62-\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDD\u0CDF\u0CE2-\u0CF0\u0CF3-\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57-\u0D5E\u0D62-\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0EDB\u0EE0-\u0EFF\u0F01-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u1040-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16F0\u16F9-\u16FF\u170D\u1712-\u171F\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u181F\u1878-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u194F\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19FF\u1A17-\u1A1F\u1A55-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4C-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BFF\u1C24-\u1C4C\u1C50-\u1C59\u1C7E\u1C7F\u1C89-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u2182\u2185-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3007-\u3030\u3036-\u303A\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u312E-\u3130\u318F-\u319F\u31BB-\u31EF\u3200-\u33FF\u4DB6-\u4DFF\u9FD6-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA620-\uA629\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6E6-\uA716\uA720\uA721\uA789\uA78A\uA7AF\uA7B8-\uA7F6\uA802\uA806\uA80B\uA823-\uA83F\uA874-\uA881\uA8B4-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FE-\uA909\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9D0-\uA9DF\uA9E5\uA9F0-\uA9F9\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB66-\uAB6F\uABE3-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2F\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE34-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEFF\uDF1A-\uDFFF]|\uD806[\uDC00-\uDC9F\uDCE0-\uDCFE\uDD00-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD823-\uD82B\uD82D\uD82E\uD830-\uD834\uD836-\uD839\uD83C-\uD83F\uD874-\uD87D\uD87F-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDEFF\uDF45-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE1-\uDFFF]|\uD821[\uDFED-\uDFFF]|\uD822[\uDEF3-\uDFFF]|\uD82C[\uDC02-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDED7-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])';this.nonepL='(?:[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D])';this.pL='(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D])';s=s||"*";s=s.replace(/([.^=!:${}()|\+\-\[\]\/\\])/g,"\\$1");this.aSearchTerms=this.tokenizeSearchTerms(s);for(var j=0;j<this.aSearchTerms.length;++j){var a=this.aSearchTerms[j];a=a.replace(/\?/g,".");a=a.replace(/\*/g,".*?");var i=a.match(/[\u3400-\u9faf]/)!==null?true:false;if(i){a=new RegExp(a,'gi');}else{if(S===true){a=new RegExp('('+this.nonepL+'|^|\\s)('+a+')(?:$|'+this.nonepL+')','gi');}else{if(a.substr(-3)==='.*?'){a=a.substr(0,a.length-3)+this.pL+'*';}a=new RegExp('('+this.nonepL+'|^|\\s)('+a+')()','gi');}}this.aSearchTerms[j]=a;}this.highlightStyle=h;},test:function(t){var r={bMatch:false,sHighlightedText:''};if(!t){return r;}this.initializeBoldArray(t);this.globalBold=false;var R;var M=false;var a;for(var j=0;j<this.aSearchTerms.length;++j){R=this.aSearchTerms[j];M=false;var l=-1;while((a=R.exec(t))!==null){M=true;if(R.lastIndex===l){break;}l=R.lastIndex;var s=this.calStartIndex(t,a.index);if(s<0){continue;}l=this.calLastIndex(t,s,R.lastIndex);this.markBoldArray(s,l);}if(M===false){return r;}}r.bMatch=true;r.sHighlightedText=this.render(t);return r;},calStartIndex:function(t,s){t=t.substring(s);var r=new RegExp(this.pL);var a=r.exec(t);if(!a){return s;}return a.index+s;},calLastIndex:function(t,s,l){t=t.substring(l,l);var r=new RegExp(this.nonepL);var a=r.exec(t);if(!a){return l;}return l-1;},tokenizeSearchTerms:function(t){var a=t.split(" ");var n=[];$.each(a,function(i,b){b=$.trim(b);if(b.length>0&&b!=='.*'){n.push(b);}});return n;},initializeBoldArray:function(t){this.bold=new Array(t.length);for(var i=0;i<this.bold.length;++i){this.bold[i]=false;}},markBoldArray:function(n,a){for(var i=n;i<a;i++){this.bold[i]=true;this.globalBold=true;}},render:function(o){if(!this.globalBold){return o;}var b=false;var r=[];var s=0;var i;for(i=0;i<o.length;++i){if((!b&&this.bold[i])||(b&&!this.bold[i])){r.push(o.substring(s,i));if(b){r.push("</b>");}else{if(this.highlightStyle){r.push('<b class="'+this.highlightStyle+'">');}else{r.push("<b>");}}b=!b;s=i;}}r.push(o.substring(s,i));if(b){r.push("</b>");}return r.join("");}};m.delayedExecution=function(o,d){var t=null;var a=function(){var b=arguments;var c=this;if(t){window.clearTimeout(t);}t=window.setTimeout(function(){t=null;o.apply(c,b);},d);};a.abort=function(){if(t){window.clearTimeout(t);}};return a;};m.refuseOutdatedRequests=function(o,r){var l=0;var d=function(){var a=arguments;var t=this;var b=++l;var c=new jQuery.Deferred();o.apply(t,a).done(function(){if(b!==l){return;}c.resolve.apply(c,arguments);}).fail(function(){if(b!==l){return;}c.reject.apply(c,arguments);});return c;};d.abort=function(){++l;};if(r){m.outdatedRequestAdministration.registerDecorator(r,d);}return d;};m.abortRequests=function(r){var d=m.outdatedRequestAdministration.getDecorators(r);for(var i=0;i<d.length;++i){var a=d[i];a.abort();}};m.outdatedRequestAdministration={decoratorMap:{},registerDecorator:function(r,d){var a=this.decoratorMap[r];if(!a){a=[];this.decoratorMap[r]=a;}a.push(d);},getDecorators:function(r){var d=this.decoratorMap[r];if(!d){d=[];}return d;}};m.boldTagUnescaper=function(d,h){var i=d.innerHTML;var b='';var a='';if(h){b='&lt;b class="'+h+'"&gt;';a='<b class="'+h+'">';}else{b='&lt;b&gt;';a='<b>';}var c='&lt;/b&gt;';var e='</b>';while(i.indexOf(b)+i.indexOf(c)>=-1){i=i.replace(b,a);i=i.replace(c,e);}while(i.indexOf('&lt;i&gt;')+i.indexOf('&lt;/i&gt;')>=-1){i=i.replace('&lt;i&gt;','<i>');i=i.replace('&lt;/i&gt;','</i>');}while(i.indexOf('&lt;span&gt;')+i.indexOf('&lt;/span&gt;')>=-1){i=i.replace('&lt;span&gt;','<span>');i=i.replace('&lt;/span&gt;','</span>');}d.innerHTML=i;};m.boldTagUnescaperByText=function(d){var a=$(d);var s=a.text().replace(/<b>/gi,'').replace(/<\/b>/gi,'');if(s.indexOf('<')===-1){a.html(a.text());}};m.forwardEllipsis4Whyfound=function(d){var a=$(d);var p=a.html().indexOf("<b>");if(p>2&&d.offsetWidth+3<d.scrollWidth){var e="..."+a.html().substring(p);a.html(e);}};m.getHashFromUrl=function(){return'#'+(window.location.href.split("#")[1]||"");};m.getUrlParameters=function(){var u;if(sap&&sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("URLParsing")){var U=sap.ushell.Container.getService("URLParsing");var a=U.splitHash(m.getHashFromUrl()).appSpecificRoute;u=a.substring(2);}else{u=m.getHashFromUrl();}var b=m.parseUrlParameters(u);return b;};m.parseUrlParameters=function(u){var p={};var k=[{"name":"filter","pos":-1,"value":""},{"name":"top","pos":-1,"value":""},{"name":"datasource","pos":-1,"value":""},{"name":"searchterm","pos":-1,"value":""}];for(var i=0;i<k.length;i++){k[i].pos=u.toLowerCase().indexOf(k[i].name+"=");}k.sort(function(a,b){return a.pos-b.pos;});for(var j=0;j<k.length;j++){if(k[j].pos!==-1){if(k[j+1]&&k[j+1].pos!==-1){k[j].value=u.substring(k[j].pos,k[j+1].pos);}else{k[j].value=u.substring(k[j].pos);}k[j].value=k[j].value.substring(k[j].name.length+1);if(k[j].value.charAt(k[j].value.length-1)==="&"){k[j].value=k[j].value.substring(0,k[j].value.length-1);}k[j].value=decodeURIComponent(k[j].value);p[k[j].name]=k[j].value;}}return p;};m.isSearchAppActive=function(){if(m.getHashFromUrl().substr(1,13)==='Action-search'){return true;}else{return false;}};m.hasher={hash:null,setHash:function(h){if(decodeURIComponent(m.getHashFromUrl())!==decodeURIComponent(h)){try{window.location.hash=h;}catch(e){this.showUrlUpdateError(e);}}this.hash=h;},reset:function(){this.hash=null;},hasChanged:function(){if(decodeURIComponent(this.hash)!==decodeURIComponent(m.getHashFromUrl())){return true;}return false;},showUrlUpdateError:function(e){if(this.urlError){return;}this.urlError=true;jQuery.sap.require("sap.m.MessageBox");var a=sap.ushell.resources.i18n.getText('searchUrlErrorMessage',e.toString());sap.m.MessageBox.alert(a,{title:sap.ushell.resources.i18n.getText('searchUrlErrorTitle'),icon:sap.m.MessageBox.Icon.ERROR});}};m.loadResultViewType=function(){if(jQuery.sap.storage&&jQuery.sap.storage.isSupported()){var r=jQuery.sap.storage.get("resultViewType");if(!r||r!=="searchResultTable"){return"searchResultList";}else{return"searchResultTable";}}else{return"searchResultList";}};m.saveResultViewType=function(r){if(jQuery.sap.storage.isSupported()){jQuery.sap.storage.put("resultViewType",r);}};m.idMap={};m.subscribeOnlyOnce=function(i,e,c,s){if(m.idMap[i]){m.idMap[i].unsubscribe();}var w=function(){c.apply(s);sap.ui.getCore().getEventBus().unsubscribe(e,w,s);};sap.ui.getCore().getEventBus().subscribe(e,w,s);m.idMap[i]={unsubscribe:function(){sap.ui.getCore().getEventBus().unsubscribe(e,w,s);}};};m._isDisplayed=function(c){if(c&&c.getDomRef&&c.getDomRef()){return true;}return false;};m.SearchFocusHandler=function(){this.init.apply(this,arguments);};m.SearchFocusHandler.prototype={init:function(s){this.oSearchView=s;},get2BeFocusedControlDomRef:function(){if(!this.oModel){this.oModel=this.oSearchView.getModel();}var i=0;var c=null;var a=null;var b=false;if(!this.oModel.getDataSource().equals(this.oModel.appDataSource)){if(this.oModel.getProperty('/boCount')>0&&this.oModel.getProperty('/appCount')>0){i=this.oModel.getProperty('/focusIndex');i=(i>0)?i+1:i;c=this.oSearchView.resultList.getItems()[i];if(c&&c.getDomRef){a=c.getDomRef();}}else if(this.oModel.getProperty('/boCount')>0&&this.oModel.getProperty('/appCount')===0){i=this.oModel.getProperty('/focusIndex');b=this.oModel.getResultToDisplay()==="searchResultTable";if(!b){c=this.oSearchView.resultList.getItems()[i];}else{c=this.oSearchView.searchResultTable.getItems()[i];}if(c&&c.getDomRef){a=c.getDomRef();}}else if(this.oModel.getProperty('/boCount')===0&&this.oModel.getProperty('/appCount')>0){var f=this.oSearchView.resultList.getItems()[0];if(!m._isDisplayed(f)){return null;}var t=f.getContent()[0];if(!m._isDisplayed(t)){return null;}c=t.getTiles()[0];if(!m._isDisplayed(c)){return null;}a=m.getFocusableTileDomRef(c.getDomRef());}}else{var T=this.oSearchView.appSearchResult;if(T.getDomRef()===null){return null;}i=this.oModel.getProperty('/focusIndex');c=T.getTiles()[i];if(m._isDisplayed(c)){a=m.getFocusableTileDomRef(c.getDomRef());}}return a;},setFocus:function(){var t=this;var r=10;var d=function(){t.focusSetter=null;var c=t.get2BeFocusedControlDomRef();if(!c||sap.ui.getCore().getUIDirty()||sap.ui.getCore().byId('Fiori2LoadingDialog').isOpen()||jQuery('.sapUshellSearchTileContainerDirty').length>0||jQuery('.sapMBusyDialog').length>0){if(--r){t.focusSetter=setTimeout(d,100);}return;}c.focus();if(t.oModel.getProperty('/focusIndex')===0){var a=sap.ui.getCore().byId(c.getAttribute('id'));if(a&&a.getContent&&a.getContent()[0]){var b=a.getContent()[0];if(b.showDetails){b.showDetails();}}}t.oSearchView.resultList.collectListItemsForNavigation();};if(this.focusSetter){clearTimeout(this.focusSetter);this.focusSetter=null;}d();}};m.getFocusableTileDomRef=function(t){return jQuery(t).find('[tabindex], button')[0];};m.formatInteger=function(v){if(!m._integerShortFormatter){m._integerShortFormatter=sap.ui.core.format.NumberFormat.getIntegerInstance({style:'short',precision:3,groupingEnabled:true});}if(!m._integerStandardFormatter){m._integerStandardFormatter=sap.ui.core.format.NumberFormat.getIntegerInstance({style:'standard',precision:3,groupingEnabled:true});}if(Math.abs(v)>=99950){return m._integerShortFormatter.format(v);}else{return m._integerStandardFormatter.format(v);}};})();
},
	"sap/ushell/renderers/fiori2/search/SearchIntentsResolver.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchNavigationIntentObject');var S=sap.ushell.renderers.fiori2.search.SearchNavigationIntentObject;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchIntentsResolver');var m=sap.ushell.renderers.fiori2.search.SearchIntentsResolver=function(){this.init.apply(this,arguments);};m.prototype={init:function(a){this._oCrossAppNav=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");this._model=a;},resolveIntents:function(r){var t=this;var d=new $.Deferred();if(!t._oCrossAppNav){d.resolve();return d.promise();}t._model.sina.sinaSystem().getServerInfo().then(function(s){var a=false;if(s&&s.rawServerInfo&&s.rawServerInfo.Services){for(var i=0;i<s.rawServerInfo.Services.length;++i){var b=s.rawServerInfo.Services[i];if(b.Service==='Search'){for(var j=0;j<b.Capabilities.length;++j){var c=b.Capabilities[j];if(c.Capability==='SemanticObjectType'){a=true;break;}}break;}}}else{a=true;}if(!a){d.resolve();}else{var p=[];for(var k=0;k<r.length;k++){var e=r[k];if(e.semanticObjectType&&e.semanticObjectType.length>0){var f=t._doResolveIntents(e);p.push(f);}}$.when.apply(null,p).always(function(g){d.resolve();});}});return d.promise();},_doResolveIntents:function(r){var t=this;if(r.titleNavigationIsOldURL){r.titleNavigation=undefined;}var p,o=new $.Deferred();if(t._oCrossAppNav.getLinks){p=t._oCrossAppNav.getLinks({semanticObject:r.semanticObjectType,params:r.semanticObjectTypeAttrs,withAtLeastOneUsedParam:true,sortResultOnTexts:true});}else{p=t._oCrossAppNav.getSemanticObjectLinks(r.semanticObjectType,r.semanticObjectTypeAttrs);}p.done(function(a){var f="-displayFactSheet";var b=r.titleNavigation!==undefined;var s;if(r.systemId&&r.client){s="sap-system=sid("+r.systemId+"."+r.client+")";}r.intents=[];if(!r.navigationObjects){r.navigationObjects=[];}for(var i=0;i<a.length;i++){var c=a[i];var d=c.intent;if(s){if(d.indexOf('?')===-1){d+="?";}else{d+="&";}d+=s;}var e={target:{shellHash:d}};var g=t._oCrossAppNav.hrefForExternal(e);var n=new S({text:c.text,href:g,externalTarget:e});if(!b&&c.intent.substring(c.intent.indexOf("-"),c.intent.indexOf("?"))===f){r.uri=g;r.titleNavigation=n;b=true;}else{c.target=e.target;c.externalHash=g;r.intents.push(c);r.navigationObjects.push(n);}}o.resolve();});p.fail(function(a){o.resolve();});return o;}};})();
},
	"sap/ushell/renderers/fiori2/search/SearchLogger.js":function(){(function(g){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchLogger');var m=sap.ushell.renderers.fiori2.search.SearchLogger={};jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchConfiguration');var S=sap.ushell.renderers.fiori2.search.SearchConfiguration;m.NavigationEvent=function(){this.init.apply(this,arguments);};m.NavigationEvent.prototype={init:function(p){var c=S.getInstance();this.sina=c.getSina();},_createUserHistoryEntry:function(t){function a(p){var n=p;for(var i=0,q=n.length;i<q;i++){var r=n[i];if(r.indexOf("sap-system")!==-1){var v=r.split("=");return{"System":v[1].slice(4,7),"Client":v[1].slice(8,-1)};}}}function b(H){return H.split("-")[0];}function c(H){return H.split("-")[1].split("&")[0];}function d(p){var n=p;var q=[];for(var i=0,r=n.length;i<r;i++){var v=n[i];if(v.indexOf("sap-system")!==-1){continue;}var w=v.split("=")[0];var x=v.split("=")[1];q.push({"Name":w,Value:x});}return q;}var u={"NavigationEventList":[{"SourceApplication":{"SemanticObjectType":"","Intent":"","ParameterList":[]}},{"TargetApplication":{"SemanticObjectType":"","Intent":"","ParameterList":[]}}]};var h=window.hasher.getHashAsArray();var s=b(h[0]);u.NavigationEventList[0].SourceApplication.SemanticObjectType=s;var e=c(h[0]);u.NavigationEventList[0].SourceApplication.Intent=e;var f=d(h[1].split("&"));u.NavigationEventList[0].SourceApplication.ParameterList=f;h=t.split("?");var j=b(h[0]).split("#")[1];u.NavigationEventList[1].TargetApplication.SemanticObjectType=j;var k=c(h[0]);u.NavigationEventList[1].TargetApplication.Intent=k;var l=d(h[1].split("&"));u.NavigationEventList[1].TargetApplication.ParameterList=l;var o=a(h[1].split("&"));u.NavigationEventList[1].TargetApplication=jQuery.extend(u.NavigationEventList[1].TargetApplication,o);return u;},addUserHistoryEntry:function(t){if(!t){return;}if(t.indexOf("#")===-1){return;}var s=this.sina.getSystem().getServices();if(s.PersonalizedSearch&&s.PersonalizedSearch.capabilities&&s.PersonalizedSearch.capabilities.SetUserStatus){var u=this._createUserHistoryEntry(t);this.sina.addUserHistoryEntry(u).done(function(d){}).fail(function(e){});}}};}(window));
},
	"sap/ushell/renderers/fiori2/search/SearchModel.js":function(){(function(g){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchResultListFormatter');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchFacetsFormatter');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchTabStripsFormatter');jQuery.sap.require('sap.ushell.renderers.fiori2.search.FacetItem');jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionHandler');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchIntentsResolver');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchConfiguration');jQuery.sap.require("sap.ushell.renderers.fiori2.search.personalization.PersonalizationStorage");jQuery.sap.require("sap.ushell.renderers.fiori2.search.SearchNavigationObject");jQuery.sap.require("sap.ushell.renderers.fiori2.search.eventlogging.EventLogger");var s=g.sap;var S=s.ushell.renderers.fiori2.search.SearchHelper;var a=s.ushell.renderers.fiori2.search.SearchResultListFormatter;var T=s.ushell.renderers.fiori2.search.SearchTabStripsFormatter.Formatter;var b=s.ushell.renderers.fiori2.search.suggestions.SuggestionHandler;var c=s.ushell.renderers.fiori2.search.SearchConfiguration;var p=s.ushell.renderers.fiori2.search.personalization.PersonalizationStorage;var d=s.ushell.renderers.fiori2.search.SearchNavigationObject;var E=s.ushell.renderers.fiori2.search.eventlogging.EventLogger;s.ushell.renderers.fiori2.search.getModelSingleton=function(){if(!s.ushell.renderers.fiori2.search.oModel){s.ushell.renderers.fiori2.search.oModel=new s.ushell.renderers.fiori2.search.SearchModel();}return s.ushell.renderers.fiori2.search.oModel;};s.ui.model.json.JSONModel.extend("sap.ushell.renderers.fiori2.search.SearchModel",{constructor:function(e){var t=this;e=e||{};s.ui.model.json.JSONModel.prototype.constructor.apply(t,[]);t.config=c.getInstance();t.setSizeLimit(200);t.sina=t.config.getSina();this.suggestionQuery=this.sina.createSuggestionQuery();t.suggestionHandler=new b({model:this});t.query=t.sina.createPerspectiveQuery({templateFactsheet:true});if(t.config.multiSelect){t.query.setIncludeFacetsWithFilters(true);}t.setProperty('/uiFilter',t.sina.createFilter());t.resetFilterConditions(false);t.createAllAndAppDataSource();t.query.getResultSet=S.refuseOutdatedRequests(t.query.getResultSet,'search');t.searchApplications=S.refuseOutdatedRequests(t.searchApplications,'search');t.oFacetFormatter=new s.ushell.renderers.fiori2.search.SearchFacetsFormatter();t.tabStripFormatter=new T(t.allDataSource);t.dataSourceTree=t.tabStripFormatter.tree;t.pageSize=10;t.appTopDefault=20;t.boTopDefault=t.pageSize;t.setProperty('/isQueryInvalidated',true);t.setProperty('/isBusy',false);t.setProperty('/tableColumns',[]);t.setProperty('/tableSortableColumns',[]);t.setProperty('/tableResults',[]);t.setProperty('/results',[]);t.setProperty('/appResults',[]);t.setProperty('/boResults',[]);t.setProperty('/count',0);t.setProperty('/boCount',0);t.setProperty('/appCount',0);t.setProperty('/facets',[]);t.setProperty('/dataSources',[t.allDataSource,t.appDataSource]);t.setProperty('/currentPersoServiceProvider',null);t.setProperty('/businessObjSearchEnabled',true);t.setProperty('/suggestions',[]);t.setProperty('/resultToDisplay',S.loadResultViewType());t.setProperty('/displaySwitchVisibility',false);t.setProperty('/documentTitle','Search');t.setProperty('/top',t.boTopDefault);t.setProperty('/orderBy',{});t.setProperty('/facetVisibility',false);t.setProperty('/focusIndex',0);t.setProperty('/fuzzy',false);t.setProperty('/errors',[]);t.setProperty('/isErrorPopovered',false);t.setProperty('/defaultDataSource',t.allDataSource);t.resetDataSource(false);t.setProperty('/multiSelectionAvailable',false);t.setProperty('/multiSelectionEnabled',false);t.setProperty('/multiSelection/actions',[]);t.initBusinessObjSearch();t.eventLogger=E.newInstance({sina:t.sina});},initBusinessObjSearch:function(){var t=this;if(!t.config.searchBusinessObjects){t.setDataSource(t.appDataSource,false);t.setProperty('/businessObjSearchEnabled',false);t.setProperty('/facetVisibility',false);t.setProperty('/defaultDataSource',t.appDataSource);return;}t.sina.sinaSystem().getServerInfo().done(function(e){t.serverInfo=e;t.loadDataSources();}).fail(function(){t.setDataSource(t.appDataSource,false);t.setProperty('/businessObjSearchEnabled',false);t.setProperty('/facetVisibility',false);t.setProperty('/defaultDataSource',t.appDataSource);});},initPersonalization:function(){var t=this;if(this.initPersonalizationPromise){return this.initPersonalizationPromise;}this.initPersonalizationPromise=p.getInstance().then(function(f){var h=false;try{h=f.getItem('search-facet-panel-button-state');}catch(e){}t.setFacetVisibility(h,false);},function(){return jQuery.Deferred().resolve(true);});return this.initPersonalizationPromise;},isBusinessObjSearchConfigured:function(){try{var f=window['sap-ushell-config'].renderers.fiori2.componentData.config;return f.searchBusinessObjects!=='hidden';}catch(e){return true;}},isBusinessObjSearchEnabled:function(){return this.getProperty('/businessObjSearchEnabled');},setProperty:function(n,v,C,A){var t=this;var r=s.ui.model.json.JSONModel.prototype.setProperty.apply(this,arguments);switch(n){case'/boResults':case'/appResults':t.calculateResultList();break;case'/appCount':case'/boCount':r=t.setProperty('/count',t.getProperty('/appCount')+t.getProperty('/boCount'));break;default:break;}return r;},setFuzzy:function(f){if(f===true){this.query.addOption(g.sinabase.QueryOptions.FUZZY);}else{this.query.removeOption(g.sinabase.QueryOptions.FUZZY);}this.setProperty("/fuzzy",f);},getPersonalizationStorageInstance:function(){return p.getInstanceSync();},getSearchBoxTerm:function(){return this.getProperty('/uiFilter/searchTerms');},setSearchBoxTerm:function(e,f){var t=this;var h=e.replace(/^\s+/,"");this.setProperty('/uiFilter/searchTerms',h);this.calculateSearchButtonStatus();if(h.length===0){return;}if(f||f===undefined){t._firePerspectiveQuery();}},getLastSearchTerm:function(){return this.query.getSearchTerms();},setFacetVisibility:function(v,f){if(s.ui.Device.system.phone){v=false;}this.setProperty('/facetVisibility',v);try{this.getPersonalizationStorageInstance().setItem('search-facet-panel-button-state',v);}catch(e){}if((f||f===undefined)&&v){this._firePerspectiveQuery({preserveFormerResults:true});}},getFacetVisibility:function(){return this.getProperty('/facetVisibility');},getTop:function(){return this.getProperty('/top');},setTop:function(t,f){this.setProperty('/top',t);if(f||f===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},resetTop:function(){this.setProperty('/focusIndex',0);if(this.isAppCategory()){this.setTop(this.appTopDefault,false);}else{this.setTop(this.boTopDefault,false);}},getOrderBy:function(){return this.getProperty('/orderBy');},setOrderBy:function(o,f){this.setProperty('/orderBy',o);if(f||f===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},resetOrderBy:function(f){this.setProperty('/orderBy',{});if(f||f===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},isEqualOrderBy:function(o,e){if(jQuery.isEmptyObject(o)&&jQuery.isEmptyObject(e)){return true;}else if(o.orderBy===e.orderBy&&o.sortOrder===e.sortOrder){return true;}else{return false;}},getDocumentTitle:function(){var e=this.getSearchBoxTerm();var f=this.getDataSource().label;var t;if(this.getDataSource().equals(this.allDataSource)){t=s.ushell.resources.i18n.getText('searchTileTitleProposalAll',[e]);}else{t=s.ushell.resources.i18n.getText('searchTileTitleProposal',[e,f]);}return t;},resetQuery:function(){S.hasher.reset();this.resetTop();this.setSearchBoxTerm('');this.resetDataSource(false);this.resetFilterConditions(false);this.query.resetFilterConditions();this.query.setSearchTerms('random-jgfhfdskjghrtekjhg');this.setProperty('/facets',[]);this.setProperty('/results',[]);this.setProperty('/appResults',[]);this.setProperty('/boResults',[]);this.setProperty('/count',0);this.setProperty('/boCount',0);this.setProperty('/appCount',0);},createAllAndAppDataSource:function(){this.allDataSource=this.sina.getRootDataSource();this.allDataSource.label=s.ushell.resources.i18n.getText("label_all");this.allDataSource.labelPlural=s.ushell.resources.i18n.getText("label_all");this.appDataSource=this.sina.createDataSource({objectName:"$$APPS$$",label:s.ushell.resources.i18n.getText("label_apps"),labelPlural:s.ushell.resources.i18n.getText("label_apps"),type:'Apps',name:'Apps',sina:this.sina});},loadDataSources:function(){var t=this;t.getServerDataSources().done(function(e){if(!jQuery.isArray(e)){e=[];}e=e.slice();e.splice(0,0,t.appDataSource);e.splice(0,0,t.allDataSource);t.setProperty("/dataSources",e);t.updateDataSourceList(t.getDataSource());t.setProperty("/searchTermPlaceholder",t.calculatePlaceholder());var f=t.getProperty('/uiFilter/dataSource/key');t.setProperty('/uiFilter/dataSource/key','');t.setProperty('/uiFilter/dataSource/key',f);});},resetDataSource:function(f){this.setDataSource(this.getDefaultDataSource(),f);},isAllCategory:function(){var e=this.getProperty("/uiFilter/dataSource");return e.equals(this.allDataSource);},isOtherCategory:function(){var e=this.getProperty("/uiFilter/dataSource");return e.getType().toLowerCase()==="category"&&!this.isAllCategory();},isAppCategory:function(){var e=this.getProperty("/uiFilter/dataSource");return e.equals(this.appDataSource);},getDataSource:function(){return this.getProperty("/uiFilter/dataSource");},getDefaultDataSource:function(){return this.getProperty("/defaultDataSource");},setDataSource:function(e,f){this.updateDataSourceList(e);this.getProperty("/uiFilter").setDataSource(e);this.setProperty("/searchTermPlaceholder",this.calculatePlaceholder());this.resetTop();this.calculateSearchButtonStatus();if(f||f===undefined){this._firePerspectiveQuery();}},getServerDataSources:function(){var t=this;if(t.getDataSourcesDeffered){return t.getDataSourcesDeffered;}t.getDataSourcesDeffered=t.sina.getDataSources().then(function(e){return jQuery.grep(e,function(f){return f.getType()!=='Category';});},function(e){e.keep=true;e.type='warning';e.message=s.ushell.resources.i18n.getText('searchScopeDeterminationErrorMessage');t.normalSearchErrorHandling(e);});return t.getDataSourcesDeffered;},notifyFilterChanged:function(){jQuery.each(this.aBindings,function(i,e){if(e.sPath==='/uiFilter/defaultConditionGroup'){e.checkUpdate(true);}});},addFilterCondition:function(f,e){if(f.attribute||f.conditions){this.getProperty("/uiFilter").addFilterCondition(f);}else{this.setDataSource(f,false);}if(e||e===undefined){this._firePerspectiveQuery({preserveFormerResults:false});}this.notifyFilterChanged();},removeFilterCondition:function(f,e){if(f.attribute||f.conditions){this.getProperty("/uiFilter").removeFilterCondition(f);}else{this.setDataSource(f,false);}if(e||e===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}this.notifyFilterChanged();},resetFilterConditions:function(f){this.getProperty("/uiFilter").resetFilterConditions();if(f||f===undefined){this._firePerspectiveQuery();}this.notifyFilterChanged();},doSuggestion:function(){this.suggestionQuery.setFilter(this.getProperty('/uiFilter').clone());this.suggestionHandler.doSuggestion();},abortSuggestions:function(){this.suggestionHandler.abortSuggestions();},_firePerspectiveQuery:function(e,f){var t=this;this.setProperty('/isBusy',true);var h=function(){return t._doFirePerspectiveQuery(e,f);};this.initPersonalization().then(h).always(function(){t.setProperty('/isBusy',false);});},_doFirePerspectiveQuery:function(e,f){var t=this;var h,i;if(jQuery.isPlainObject(e)){h=e.deserialization;i=e.preserveFormerResults;}else{h=e?e:undefined;i=f?f:undefined;}var u=this.getProperty('/uiFilter');if(u.equals(this.query.getFilter())&&this.getTop()===this.query.getTop()&&this.isEqualOrderBy(this.getOrderBy(),this.query.getOrderBy())&&this.calculateRequestsEntities().length===this.query.requestedEntities.length&&!this.getProperty('/isQueryInvalidated')){return(new jQuery.Deferred()).resolve();}if((this.query.getFilter().getDataSource()&&!u.getDataSource().equals(this.query.getFilter().getDataSource()))||(this.query.getFilter().getSearchTerms()&&u.getSearchTerms()!==this.query.getFilter().getSearchTerms())){this.resetOrderBy(false);}if(!h){if(u.getSearchTerms()!==this.query.getFilter().getSearchTerms()||!u.defaultConditionGroup.equals(this.query.getFilter().defaultConditionGroup)||!u.getDataSource().equals(this.query.getFilter().getDataSource())){this.resetTop();}}if(u.getSearchTerms()!==this.query.getFilter().getSearchTerms()||!u.defaultConditionGroup.equals(this.query.getFilter().defaultConditionGroup)){this.tabStripFormatter.invalidate(this.getDataSource());}if(this.getProperty('/isQueryInvalidated')===true){this.query.resetResultSet();this.setProperty('/isQueryInvalidated',false);}this.query.setFilter(this.getProperty('/uiFilter').clone());this.query.setTop(this.getTop());this.query.setOrderBy(this.getOrderBy());this.query.setRequestedEntities(this.calculateRequestsEntities());this.cleanErrors();this.setProperty("/queryFilter",this.query.getFilter());s.ui.getCore().getEventBus().publish("allSearchStarted");this.abortSuggestions();S.abortRequests('search');this.calculateVisibility();if(!h){this.updateSearchURLSilently();}this.eventLogger.logEvent({type:this.eventLogger.SEARCH_REQUEST,searchTerm:this.getProperty('/uiFilter/searchTerms'),dataSourceKey:this.getProperty('/uiFilter/dataSource').key});var j=this.getDataSource();return jQuery.when.apply(null,[this.normalSearch(i),this.appSearch()]).then(function(){t.setProperty('/tabStrips',t.tabStripFormatter.format(j,t.perspective,t));return t.oFacetFormatter.getFacets(j,t.perspective,t).then(function(k){t.setProperty('/facets',k);});}).always(function(){document.title=t.getDocumentTitle();s.ui.getCore().getEventBus().publish("allSearchFinished");});},calculateRequestsEntities:function(){if(this.getDataSource().getType()==='Category'||this.getFacetVisibility()){return['SearchResults','Facets','TotalCount'];}else{return['SearchResults','TotalCount'];}},appSearch:function(){var t=this;this.setProperty("/appResults",[]);this.setProperty("/appCount",0);if(!this.isAllCategory()&&!this.isAppCategory()){return jQuery.when(true);}var e=this.query.getFilter().getDataSource().equals(this.allDataSource)?this.appTopDefault:this.query.getTop();return this.searchApplications(this.query.getFilter().getSearchTerms(),e,0).then(function(r){t.setProperty("/appCount",r.totalResults);t.setProperty("/appResults",r.getElements());},function(){return jQuery.when(true);});},searchApplications:function(e,t,f){return s.ushell.Container.getService("Search").queryApplications({searchTerm:e,searchInKeywords:true,top:t,skip:f});},normalSearch:function(e){var t=this;if(!e){t.resetAndDisableMultiSelection();}if(!t.isBusinessObjSearchEnabled()||t.isAppCategory()){this.setProperty("/boResults",[]);this.setProperty("/boCount",0);return jQuery.when(true);}t.setFuzzy(false);return this.query.getResultSet().then(function(f){if(f.getSearchResultSet().totalcount<1&&t.serverInfo.services.Search.capabilities.OptionFuzzy&&t.query.getFilter().getSearchTerms()!=='*'){t.setProperty("/boResults",[]);t.setProperty("/boCount",0);t.setFuzzy(true);return t.query.getResultSet().then(function(h){t.perspective=h;return t._afterSearchPrepareResultList(t.perspective,e);},function(h){t.normalSearchErrorHandling(h);t.perspective=null;return jQuery.when(true);});}t.perspective=f;return t._afterSearchPrepareResultList(t.perspective,e);},function(f){t.normalSearchErrorHandling(f);t.perspective=null;return jQuery.when(true);});},_prepareTableResults:function(r){var t=this;var e=r;var i,j,f;for(i=0;i<e.length;i++){var h=e[i].itemattributes;if(h.length>0){f=1;for(j=0;j<e[i].itemattributes.length;j++){if(j<=11){e[i].itemattributes[j].indexInTable=f;f++;}}if(!h[0].isTitle){e[i].itemattributes.unshift({name:e[i].dataSourceName,value:e[i].$$Name$$,key:"DATASOURCE_AS_COLUMN_KEY",isTitle:true,isSortable:false,uri:e[i].uri,titleNavigation:e[i].titleNavigation,onlyUsedInTable:true,indexInTable:0});}if(e[i].navigationObjects!==undefined&&e[i].navigationObjects.length>0&&!h[h.length-1].hasIntents){e[i].itemattributes.splice(f,0,{name:s.ushell.resources.i18n.getText("intents"),navigationObjects:e[i].navigationObjects,key:"RELATED_OBJECTS",isNavigationObjects:true,isSortable:false,onlyUsedInTable:true,indexInTable:f});}}}t.setProperty("/tableResults",e);var l=[];var m=[];var n=e[0];var o="";if(n){var q=n.itemattributes;for(i=0;i<q.length;i++){if(q[i].indexInTable!==undefined&&q[i].key!==undefined){o=q[i].key;l.push({"name":q[i].name,"key":"columnKey"+i,"originalKey":o,"index":q[i].indexInTable});if(q[i].isSortable){m.push({"name":q[i].name,"key":"normalColumn"+i,"originalKey":o,"selected":t.getProperty("/orderBy").orderBy===o});}}}t.setProperty("/tableColumns",l);var u=n.titleattributes;for(var k=u.length-1;k>=0;k--){if(u[k].key!==undefined){o=u[k].key;if(u[k].isSortable){m.unshift({"name":n.dataSourceName===u[k].name?n.dataSourceName:n.dataSourceName+" / "+u[k].name,"key":"titleColumn"+i,"originalKey":o,"selected":t.getProperty("/orderBy").orderBy===o});}}}m.unshift({"name":s.ushell.resources.i18n.getText("defaultRank"),"key":"ushellSearchDefaultSortItem","originalKey":"ushellSearchDefaultSortItem","selected":jQuery.isEmptyObject(t.getProperty("/orderBy"))});t.setProperty("/tableSortableColumns",m);}},_afterSearchPrepareResultList:function(e,f){var t=this;var i;var h=[];if(f){var _=t.getProperty("/boResults");for(i=0;i<_.length;i++){if(_[i].expanded||_[i].selected){h.push(_[i]);}}}t.setProperty("/boResults",[]);t.setProperty("/boCount",0);var k=new a();var n=k.format(e.getSearchResultSet(),this.query.filter.searchTerms);var l;for(i=0;i<n.length;i++){l=n[i];if(l.uri){l.titleNavigation=new d({href:l.uri});l.titleNavigationIsOldURL=true;}}for(i=0;i<n.length;i++){l=n[i];if(!l.navigationObjects){l.navigationObjects=[];}if(l.suvlink&&l.suvlink.value){var m=new d({text:l.suvlink.label,href:l.suvlink.value,target:"_blank"});l.navigationObjects.push(m);}}var o=new s.ushell.renderers.fiori2.search.SearchIntentsResolver(t);var q=o.resolveIntents(n);q.done(function(r){if(!t.isAllCategory()&&!t.isOtherCategory()&&!t.isAppCategory()){t._prepareTableResults(n);}if(h&&h.length>0){var R=t.sina.ResultElementKeyStatus;var u=[];for(i=0;i<n.length;i++){var l=n[i];if(l.keystatus===R.OK){for(var j=0;j<h.length;j++){var v=h[j];if(v.keystatus===R.OK&&v.key===l.key){l.selected=v.selected;l.expanded=v.expanded;h.splice(j,1);break;}}}else{u.push(l);}}if(u.length>0){var w=[];var x="";for(i=0;i<u.length;i++){var y=u[i].dataSource.key;if(jQuery.inArray(y,w)<0){w.push(y);x+=y+"\n";}}t.pushError({type:"warning",title:s.ushell.resources.i18n.getText("preserveFormerResultErrorTitle"),description:s.ushell.resources.i18n.getText("preserveFormerResultErrorDetails",x)});}}var z=t.getDataSource();if(z.getType().toLowerCase()==="businessobject"){var A=[];for(i=0;i<n.length;i++){var B=n[i];var C=B.semanticObjectType;if(!C){A=[];break;}if(jQuery.inArray(C,A)==-1){A.push(C);}}if(A.length==1){z.semanticObjectType=A[0];}else if(A.length>1){z.semanticObjectTypes=A;}}t.setProperty("/boCount",e.getSearchResultSet().totalcount);t.setProperty("/boResults",n);t.enableOrDisableMultiSelection();});return q;},resetAndDisableMultiSelection:function(){this.setProperty("/multiSelectionAvailable",false);this.setProperty("/multiSelectionEnabled",false);},enableOrDisableMultiSelection:function(){var e=this.getDataSource();var f=this.config.getDataSourceConfig(e);var h=new f.searchResultListSelectionHandlerControl();if(h){this.setProperty("/multiSelectionAvailable",h.isMultiSelectionAvailable());}else{this.setProperty("/multiSelectionAvailable",false);}},_endWith:function(e,f){return e.indexOf(f,e.length-f.length)!==-1;},calculatePlaceholder:function(){var t=this;if(t.isAllCategory()){return s.ushell.resources.i18n.getText("search");}else{return s.ushell.resources.i18n.getText("searchInPlaceholder",t.getDataSource().labelPlural);}},updateDataSourceList:function(n){var e=this.getProperty('/dataSources');while(e.length>0&&!e[0].equals(this.allDataSource)){e.shift();}if(n.equals(this.allDataSource)||n.equals(this.appDataSource)){return;}if(n&&n.key){if(n.key.indexOf('~')>=0){return;}}for(var i=0;i<e.length;++i){var f=e[i];if(f.equals(n)){return;}}e.unshift(n);this.setProperty('/dataSources',e);},invalidateQuery:function(){this.setProperty('/isQueryInvalidated',true);},autoStartApp:function(){var t=this;if(t.getProperty("/appCount")&&t.getProperty("/appCount")===1&&t.getProperty("/count")&&t.getProperty("/count")===1){var A=t.getProperty("/appResults");if(A&&A.length>0&&A[0]&&A[0].url&&t.getProperty('/uiFilter/searchTerms')&&A[0].tooltip&&t.getProperty('/uiFilter/searchTerms').toLowerCase().trim()===A[0].tooltip.toLowerCase().trim()){if(A[0].url[0]==='#'){window.location.href=A[0].url;}else{window.open(A[0].url,'_blank');}}}},getResultToDisplay:function(){return this.getProperty('/resultToDisplay');},setResultToDisplay:function(t){this.setProperty('/resultToDisplay',t);S.saveResultViewType(t);},calculateVisibility:function(){var t=this;if(t.isAppCategory()){t.setResultToDisplay("appSearchResult");t.setProperty('/displaySwitchVisibility',false);}else if(t.isAllCategory()||t.isOtherCategory()){t.setResultToDisplay("searchResultList");t.setProperty('/displaySwitchVisibility',false);}else{var r=t.getResultToDisplay();if(!(r==="searchResultList"||r==="searchResultTable")){t.setResultToDisplay("searchResultList");}t.setProperty('/displaySwitchVisibility',true);}},calculateSearchButtonStatus:function(){if(this.getDataSource().equals(this.getProperty('/defaultDataSource'))&&this.getSearchBoxTerm().length===0){this.setProperty('/searchButtonStatus','close');}else{this.setProperty('/searchButtonStatus','search');}},calculateResultList:function(){var t=this;var r=[];var e=t.getProperty('/boResults');if(e&&e.length){r.push.apply(r,e);}var f=t.getProperty('/appResults');if(f&&f.length>0){var h={type:'appcontainer',tiles:f};if(r.length>0){if(r.length>3){r.splice(3,0,h);}else{r.push(h);}}else{r=[h];}}s.ui.model.json.JSONModel.prototype.setProperty.apply(this,['/results',r]);},getDebugInfo:function(){var t=['\n'];if(this.serverInfo){t.push('Search Backend System:');t.push('System:'+this.serverInfo.systemid);t.push('Client:'+this.serverInfo.sapclient);t.push('');}t.push('See also Enterprise Search Setup Documentation:');t.push('http://help.sap.com/saphelp_uiaddon10/helpdata/en/57/7d77c891954c21a19c242694e83177/frameset.htm');return t.join('\n');},getErrors:function(){return this.getProperty('/errors');},cleanErrors:function(){this.setProperty('/errors',jQuery.grep(this.getProperty('/errors'),function(e){return e.keep;}));},pushError:function(e){var t=this;e.title=e.title==="[object Object]"?s.ushell.resources.i18n.getText('searchError'):e.title;var f=this.getProperty('/errors');f.push(e);t.setProperty('/errors',f);},isInaError:function(f){var i;try{i=jQuery.parseJSON(f.responseText);}catch(e){return false;}if(i&&i.Error){return i;}else{return false;}},normalSearchErrorHandling:function(e){var f=["ESH_FED_MSG016"];if(!e){return;}if(e.status===500){jQuery.sap.log.error(e.responseText);this.pushError({type:"error",title:e.statusText,description:e.responseText+this.getDebugInfo(),keep:e.keep});return;}var h=this.isInaError(e);if(h){var j=true;var k='';var l='';if(e.message){k+=e.message+' ';}if(h.Error){if(h.Error.Message){k+=''+h.Error.Message;}if(h.Error.Code){k+=' (Code '+h.Error.Code+').';}}if(h.ErrorDetails){l+='';for(var i=0;i<h.ErrorDetails.length;i++){l+=h.ErrorDetails[i].Message+' (Code '+h.ErrorDetails[i].Code+')';if(f.indexOf(h.ErrorDetails[i].Code)!==-1){j=false;}}}jQuery.sap.log.error(k+' Details: '+l);if(j){this.pushError({type:e.type||"error",title:k,description:l+this.getDebugInfo(),keep:e.keep});}return;}this.pushError({type:"error",title:e.toString(),description:e.toString()+this.getDebugInfo(),keep:e.keep});},createSearchURL:function(){var h="#Action-search";var u=this.getProperty('/uiFilter').getJson();h+="&/searchterm="+encodeURIComponent(u.searchTerms);h+="&datasource="+encodeURIComponent(JSON.stringify(u.dataSource));h+="&top="+this.getTop();h+="&filter="+encodeURIComponent(JSON.stringify(u.defaultConditionGroup));return h;},updateSearchURLSilently:function(){var h=this.createSearchURL();S.hasher.setHash(h);},deserializeURL:function(){if(S.getHashFromUrl().indexOf('#Action-search')!==0){return;}if(!S.hasher.hasChanged()){return;}var P=S.getUrlParameters();if($.isEmptyObject(P)){return;}var u={};if(P.searchterm){u.searchTerms=P.searchterm;}if(P.datasource){u.dataSource=JSON.parse(P.datasource);}else{this.resetDataSource(false);}if(P.top){var t=parseInt(P.top,10);this.setTop(t,false);}this.resetFilterConditions(false);if(P.filter){u.defaultConditionGroup=JSON.parse(P.filter);}this.getProperty("/uiFilter").setJson(u);if(u.dataSource&&u.dataSource.name&&u.dataSource.name==='Apps'){this.setDataSource(this.appDataSource,false);}this.calculateSearchButtonStatus();this._firePerspectiveQuery(true);}});})(window);
},
	"sap/ushell/renderers/fiori2/search/SearchNavigationIntentObject.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchNavigationObject');var _=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");sap.ushell.renderers.fiori2.search.SearchNavigationObject.extend("sap.ushell.renderers.fiori2.search.SearchNavigationIntentObject",{constructor:function(p){sap.ushell.renderers.fiori2.search.SearchNavigationObject.prototype.constructor.apply(this,arguments);this._externalTarget=p.externalTarget;},performNavigation:function(){if(_){_.toExternal(this._externalTarget);}else{sap.ushell.renderers.fiori2.search.SearchNavigationObject.prototype.performNavigation.apply(this,arguments);}}});})();
},
	"sap/ushell/renderers/fiori2/search/SearchNavigationObject.js":function(){(function(){"use strict";sap.ui.base.Object.extend("sap.ushell.renderers.fiori2.search.SearchNavigationObject",{constructor:function(p){if(p){this.setHref(p.href);this.setText(p.text);this.setTarget(p.target);}},getHref:function(){return this._href;},setHref:function(h){this._href=h;},getText:function(){return this._text;},setText:function(t){this._text=t;},getTarget:function(){return this._target;},setTarget:function(t){this._target=t;},performNavigation:function(){if(!this._target){window.open(this._href);}else{window.open(this._href,this._target);}}});})();
},
	"sap/ushell/renderers/fiori2/search/SearchResultListFormatter.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchConfiguration');var S=sap.ushell.renderers.fiori2.search.SearchConfiguration;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchResultListFormatter');var m=sap.ushell.renderers.fiori2.search.SearchResultListFormatter=function(){this.init.apply(this,arguments);};m.prototype={init:function(){this.sina=S.getInstance().getSina();},format:function(s,t){return this._doFormat(s.getElements(),t);},_getImageUrl:function(r){var i={imageUrl:'',name:''};for(var p in r){var a=r[p];var b=false;try{if(a.value&&(a.$$MetaData$$.presentationUsage.indexOf('Image')>=0||a.$$MetaData$$.presentationUsage.indexOf('Thumbnail')>=0)){b=true;}}catch(e){}if(!b){continue;}i.imageUrl=a.value;i.name=p;return i;}return i;},_moveWhyFound2ResponseAttr:function(w,p){var l=w.length;while(l--){if(w[l].labelRaw===p.labelRaw&&p!==undefined){p.valueWithoutWhyfound=p.value;p.value=w[l].value;p.whyfound=true;w.splice(l,1);}}},_appendRemainingWhyfounds2FormattedResultItem:function(w,i){var l=w.length;while(l--){if(w[l].labelRaw!==undefined){var I={};I.name=w[l].label;I.value=w[l].value;I.whyfound=true;i.push(I);w.splice(l,1);}}},_doFormat:function(r,t){var s=function(a,b){return a.displayOrder-b.displayOrder;};var c,d,e,f,g;var h=[];for(var i=0;i<r.length;i++){var j=r[i];if(j.$$DataSourceMetaData$$.semanticObjectType==='fileprocessorurl'){c=j.$$DataSourceMetaData$$.client;d='UIA000~EPM_FILE_PROC_U_DEMO~';if(j.$$DataSourceMetaData$$.objectName&&j.$$DataSourceMetaData$$.objectName.value){d=j.$$DataSourceMetaData$$.objectName.value;}e='/sap/es/fl_get_files?sap-client='+c+'&connector='+d+'&filetype=ThumbNail&PHIO_ID='+j.PHIO_ID.valueRaw;j.thumbnail={$$MetaData$$:{accessUsage:[],correspondingSearchAttributeName:"thumbnail",dataType:"String",description:"Thumbnail",displayOrder:0,isKey:false,isSortable:false,isTitle:false,presentationUsage:["Thumbnail"]},label:"Thumbnail",labelRaw:"Thumbnail",value:e,valueRaw:e};f='/sap/es/fl_get_files?sap-client='+c+'&connector='+d+'&filetype=BinaryContent&PHIO_ID='+j.PHIO_ID.valueRaw;j.titlelink={$$MetaData$$:{accessUsage:[],correspondingSearchAttributeName:"titlelink",dataType:"String",description:"Display Original Document",displayOrder:0,isKey:false,isSortable:false,isTitle:false,presentationUsage:["Titlelink"]},label:"Display original document",labelRaw:"Display original document",value:f,valueRaw:f};g='/sap/es/fl_get_files?sap-client='+c+'&connector='+d+'&filetype=SUVFile&PHIO_ID='+j.PHIO_ID.valueRaw;g='/sap-pdfjs/web/viewer.html?file='+encodeURIComponent(g);j.suvlink={$$MetaData$$:{accessUsage:[],correspondingSearchAttributeName:"suvlink",dataType:"String",description:"Show Document",displayOrder:0,isKey:false,isSortable:false,isTitle:false,presentationUsage:["Link"]},label:"Show Document",labelRaw:"suvlink",value:g,valueRaw:g};}var u='';var k=j.$$RelatedActions$$;for(var l in k){if(k[l].type==="Navigation"||k[l].type==="Link"){u=encodeURI(k[l].uri);}}var w=j.$$WhyFound$$||[];var n=[];var o=[];var p=[];var q='';var v={};for(var x in j){if(!j[x].label||!j[x].$$MetaData$$){continue;}var A=j[x].$$MetaData$$.presentationUsage||[];if(A&&A.length>0){if(A.indexOf("Title")>-1&&j[x].value){this._moveWhyFound2ResponseAttr(w,j[x]);q=q+" "+j[x].value;}if(A.indexOf("Text")>-1){j[x].longtext=true;}if(A.indexOf("Summary")>-1){n.push({property:x,displayOrder:j[x].$$MetaData$$.displayOrder});}else if(A.indexOf("Detail")>-1){o.push({property:x,displayOrder:j[x].$$MetaData$$.displayOrder});}else if(A.indexOf("Title")>-1){p.push({property:x,displayOrder:j[x].$$MetaData$$.displayOrder});}}var B=j[x].$$MetaData$$.semanticObjectType;if(B&&B.length>0){v[B]=j[x].valueRaw;}}n.sort(s);o.sort(s);p.sort(s);var C=n.concat(o);var D={};D.key=j.key;D.keystatus=j.keystatus;D.semanticObjectTypeAttrs=v;var E=this._getImageUrl(j);D.imageUrl=E.imageUrl;var F=this.sina.getDataSourceSyncByBusinessObjectName(j.$$DataSourceMetaData$$.key);if(F){D.dataSourceName=F.label;}else{D.dataSourceName=j.$$DataSourceMetaData$$.label;console.log("This datasource "+j.$$DataSourceMetaData$$.label+j.$$DataSourceMetaData$$.name+" is not found in meta data map.");}D.dataSource=j.$$DataSourceMetaData$$;D.uri=u;D.semanticObjectType=j.$$DataSourceMetaData$$.semanticObjectType||"";D.$$Name$$='';D.systemId=j.$$DataSourceMetaData$$.systemId||"";D.client=j.$$DataSourceMetaData$$.client||"";D.suvlink=j.suvlink;var G;var I={};var H=[];for(var z=0;z<C.length;z++){G=C[z].property;I={};if(G!==E.name){this._moveWhyFound2ResponseAttr(w,j[G]);I.name=j[G].label;I.value=j[G].value;I.valueWithoutWhyfound=j[G].valueWithoutWhyfound;I.key=G;I.isTitle=false;I.isSortable=j[G].$$MetaData$$.isSortable;I.attributeIndex=z;if(j[G].whyfound){I.whyfound=j[G].whyfound;}if(j[G].longtext){I.longtext=j[G].longtext;}H.push(I);}}var T=[];for(var y=0;y<p.length;y++){G=p[y].property;I={};if(G!==E.name){I.name=j[G].label;I.value=j[G].value;I.key=G;I.isTitle=false;I.isSortable=j[G].$$MetaData$$.isSortable;T.push(I);}}D.$$Name$$=q.trim();D.numberofattributes=C.length;D.title=j.title;D.itemattributes=H;D.titleattributes=T;D.selected=D.selected||false;D.expanded=D.expanded||false;this._appendRemainingWhyfounds2FormattedResultItem(w,D.itemattributes);h.push(D);}return h;}};})();
},
	"sap/ushell/renderers/fiori2/search/SearchShellHelper.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup');var S=sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup;jQuery.sap.require("sap.ushell.renderers.fiori2.search.SearchModel");jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchShellHelper');var m=sap.ushell.renderers.fiori2.search.SearchShellHelper={};jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.extend(m,{init:function(){var t=this;sap.ushell.Container.getService("Search")._getCatalogTiles();t.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();t.oShellHeader=sap.ui.getCore().byId('shell-header');t.oSearchFieldGroup=new S("searchFieldInShell");t.oSearchFieldGroup.setModel(t.oModel);t.oShellHeader.setSearch(t.oSearchFieldGroup);t.setSearchState('COL');this.setSearchState=s.delayedExecution(this.setSearchState,300);t.oSearchInput=t.oSearchFieldGroup.input;t.oSearchInput.setValue(t.oModel.getSearchBoxTerm());t.oSearchSelect=t.oSearchFieldGroup.select;var l=new sap.ui.core.InvisibleText("selectLabel",{text:sap.ushell.resources.i18n.getText("searchIn")});if(l){t.oSearchSelect.addAriaLabelledBy("selectLabel");}t.oSearchSelect.setTooltip(sap.ushell.resources.i18n.getText("searchInTooltip"));t.oSearchSelect.addEventDelegate({onAfterRendering:function(e){jQuery('#searchFieldInShell-select-icon').attr('title',sap.ushell.resources.i18n.getText("searchIn"));}},t.oSearchSelect);t.oSearchSelect.setTooltip(sap.ushell.resources.i18n.getText("searchIn"));t.oSearchSelect.attachChange(function(){t.focusInputField();});t.oSearchButton=t.oSearchFieldGroup.button;t.oSearchButton.bindProperty("type",{parts:[{path:'/searchButtonStatus'}],formatter:function(a){if(a==='search'){return sap.m.ButtonType.Emphasized;}else{return sap.m.ButtonType.Default;}}});t.oSearchButton.attachPress(function(){t.handleClickSearchButton();});t.oSearchButton.addEventDelegate({onAfterRendering:function(){var a=jQuery("div.sapUshellShellSearchHidden").length===0;var b=t.oModel.getProperty("/searchButtonStatus")==="close";var $=jQuery(t.oSearchButton.getDomRef());if(a){if(b){$.attr("aria-pressed",true);}else{$.removeAttr("aria-pressed");}}else{$.attr("aria-pressed",false);}}});t.oSearchCancelButton=t.oSearchFieldGroup.cancelButton;t.oSearchCancelButton.attachPress(function(){t.setSearchState('COL');window.setTimeout(function(){sap.ui.getCore().byId('sf').focus();},1000);});this.oSearchFieldGroup.setCancelButtonActive(false);t.registerFocusHandler();jQuery(document).on('keydown',function(e){if(e.keyCode===27){e.preventDefault();if(s.isSearchAppActive()){return;}if(t.oSearchInput){if(t.oSearchInput.getValue()===""){t.setSearchState('COL');}else if(t.oSearchInput.getValue()===" "){t.oSearchInput.setValue("");}}}});sap.ui.getCore().getEventBus().subscribe("allSearchFinished",t.onAllSearchFinished,t);sap.ui.getCore().byId('viewPortContainer').attachAfterNavigate(t.onAfterNavigate,t);sap.ui.getCore().getEventBus().subscribe("sap.ushell","appComponentLoaded",function(){var o=sap.ui.getCore().byId('searchContainerResultsView');if(o&&o.oFocusHandler){o.oFocusHandler.setFocus();}});t.oShellHeader.attachSearchSizeChanged(this.sizeSearchFieldChanged.bind(this));},sizeSearchFieldChanged:function(e){var a=e.mParameters.remSize;var l=20;if(a<=l){this.oSearchSelect.setDisplayMode('icon');}else{this.oSearchSelect.setDisplayMode('default');}l=9;if(a<l){this.oSearchButton.setVisible(false);}else{this.oSearchButton.setVisible(true);}if(e.getParameter('isFullWidth')){this.oSearchFieldGroup.setCancelButtonActive(true);this.oSearchFieldGroup.addStyleClass('sapUshellSearchInputFullWidth');}else{this.oSearchFieldGroup.setCancelButtonActive(false);this.oSearchFieldGroup.removeStyleClass('sapUshellSearchInputFullWidth');}},sizeChanged:function(p){switch(p.name){case"Phone":this.oSearchFieldGroup.setCancelButtonActive(true);break;case"Tablet":this.oSearchFieldGroup.setCancelButtonActive(false);break;case"Desktop":this.oSearchFieldGroup.setCancelButtonActive(false);break;default:break;}},makeDelayed:function(f){return s.delayedExecution(f,0);},registerFocusHandler:function(){var r=true;if(!r){return;}var t=this;var a=t.oSearchInput.getModel();t.oSearchInput.addEventDelegate({onAfterRendering:function(){var i=jQuery(t.oSearchInput.getDomRef()).find('input')[0];var $=jQuery(i);$.on('focus',function(e){t.log('raw_in',document.activeElement);if(!t.isFocusHandlerActive){return;}t.setSearchState('EXP');});$.on('blur',t.makeDelayed(function(e){t.log('raw_out',document.activeElement);if(!t.isFocusHandlerActive){return;}if(t.isInSearchBox(document.activeElement)){return;}if(!s.isSearchAppActive()&&t.oSearchInput.getValue().length===0&&a.getDataSource().equals(a.getDefaultDataSource())){t.setSearchState('COL');}else{t.setSearchState('EXP_S');}}));}});t.oSearchSelect.addEventDelegate({onAfterRendering:function(){var d=t.oSearchSelect.getDomRef();d.addEventListener('focus',function(e){t.log('raw_in_select',document.activeElement);if(!t.isFocusHandlerActive){return;}t.setSearchState.abort();});d.addEventListener('blur',t.makeDelayed(function(e){t.log('raw_out_select',document.activeElement);if(!t.isFocusHandlerActive){return;}if(t.isInSearchBox(document.activeElement)){return;}if(t.oSearchInput.getValue().length===0&&a.getDataSource().equals(a.getDefaultDataSource())){t.setSearchState('COL');}else{t.setSearchState('EXP_S');}}));}});t.oSearchButton.addEventDelegate({onAfterRendering:function(){var d=t.oSearchButton.getDomRef();d.addEventListener('focus',function(e){t.log('raw_in_button',document.activeElement);if(!t.isFocusHandlerActive){return;}t.setSearchState.abort();});d.addEventListener('blur',t.makeDelayed(function(e){t.log('raw_out_button',document.activeElement);if(!t.isFocusHandlerActive){return;}if(t.isInSearchBox(document.activeElement)){return;}if(t.oSearchInput.getValue().length===0&&a.getDataSource().equals(a.getDefaultDataSource())){t.setSearchState('COL');}else{t.setSearchState('EXP_S');}}));}});this.enableFocusHandler(true);},isInSearchBox:function(e){if(!e){return false;}var a=['searchFieldInShell'];var c=['sapMPopoverCont'];while(e){if(e.getAttribute){var b=e.getAttribute('id');if(b){for(var j=0;j<a.length;++j){var d=a[j];if(b.indexOf(d)>=0){return true;}}}for(var i=0;i<c.length;++i){var f=c[i];if(e.classList.contains(f)){return true;}}}e=e.parentNode;}return false;},enableFocusHandler:function(a){this.isFocusHandlerActive=a;if(!a&&this.setSearchState.abort){this.setSearchState.abort();}},setSearchState:function(a,b){if(sap.ui.getCore().byId('searchFieldInShell')===undefined){return;}if(this.oShellHeader.getSearchState()===a){return;}if(a==='COL'){this.enableFocusHandler(false);}else{this.enableFocusHandler(true);}this.log('set search state',a,document.activeElement);switch(a){case'COL':this.oModel.abortSuggestions();this.oShellHeader.setSearchState(a,35);this.oSearchCancelButton.setVisible(false);sap.ui.getCore().byId('sf').setVisible(true);break;case'EXP_S':this.oModel.abortSuggestions();this.oShellHeader.setSearchState(a,35);this.oSearchCancelButton.setVisible(true);sap.ui.getCore().byId('sf').setVisible(false);break;case'EXP':var w=!s.isSearchAppActive()||this.oModel.getProperty("/boCount")>0||this.oModel.getProperty("/appCount")>0;this.oShellHeader.setSearchState(a,35,w);this.oSearchCancelButton.setVisible(true);sap.ui.getCore().byId('sf').setVisible(false);if(!b){this.focusInputField();}break;default:break;}},onShellSearchButtonPressed:function(e){if(sap.ui.getCore().byId('searchFieldInShell')===undefined){this.init();}else if(!s.isSearchAppActive()){this.resetModel();}this.setSearchState('EXP');},handleClickSearchButton:function(){if(this.oSearchInput.getValue()===""&&this.oModel.getDataSource().equals(this.oModel.getDefaultDataSource())){this.setSearchState('COL');window.setTimeout(function(){sap.ui.getCore().byId('sf').focus();},1000);}},focusInputField:function(){var t=this;if(t.focusInputFieldTimeout){window.clearTimeout(t.focusInputFieldTimeout);t.focusInputFieldTimeout=null;}var d=function(r){t.focusInputFieldTimeout=null;var a=t.oSearchInput.getDomRef();if(a&&jQuery(a).is(':visible')&&!sap.ui.getCore().getUIDirty()){t.oSearchInput.focus();return;}if(r>0){t.focusInputFieldTimeout=window.setTimeout(function(){d(--r);},100);}};d(5);},getDefaultOpen:function(){return this.defaultOpen;},setDefaultOpen:function(d){this.defaultOpen=d;},getSearchInput:function(){return this.oSearchFieldGroup.input;},onAfterNavigate:function(e){if(e.getParameter('toId')!=='shellPage-Action-search'&&e.getParameter('toId')!=='applicationShellPage-Action-search'){return;}var o=sap.ui.getCore().byId('searchContainerResultsView');if(o&&o.oFocusHandler){o.oFocusHandler.setFocus();}sap.ui.getCore().getEventBus().publish("searchLayoutChanged");},onAllSearchFinished:function(){this.oSearchInput.setValue(this.oModel.getSearchBoxTerm());this.log('search finished');this.setSearchState('EXP_S');},resetModel:function(){this.oSearchInput.setValue('');this.oModel.resetQuery();},logSwitch:false,log:function(){if(!this.logSwitch){return;}var l=function(e){var c=e.getAttribute('id');if(c){return c;}else{return'unknown_id';}};var a=function(e){var r=[];for(var i=0;i<e.classList.length;++i){r.push(e.classList.item(i));}return r.join(',');};var p=['--'];for(var i=0;i<arguments.length;++i){var b=arguments[i];if(b&&b.getAttribute){p.push(l(b)+','+a(b));continue;}if(b){p.push(b);continue;}p.push('undef');}}});})();
},
	"sap/ushell/renderers/fiori2/search/SearchTabStripsFormatter.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchTabStripsFormatter');var m=sap.ushell.renderers.fiori2.search.SearchTabStripsFormatter={};m.Node=function(){this.init.apply(this,arguments);};m.Node.prototype={init:function(d,c){this.dataSource=d;this.children=[];this.parent=null;this.count=c;},equals:function(o){return this===o;},setCount:function(c){this.count=c;},getAncestors:function(){var a=[],c=this;while(c.parent){a.push(c.parent);c=c.parent;}return a;},getChildren:function(){var c=[];for(var i=0;i<this.children.length;++i){var a=this.children[i];if(a.unsureWhetherNodeisBelowRoot){continue;}c.push(a);}return c;},getChildrenSortedByCount:function(){var c=this.getChildren();c.sort(function(a,b){return b.count-a.count;});return c;},clearChildren:function(){for(var i=0;i<this.children.length;++i){var c=this.children[i];c.parent=null;}this.children=[];},appendNode:function(n){n.parent=this;this.children.push(n);},appendNodeAtIndex:function(n,i){n.parent=this;this.children.splice(i,0,n);},removeChildNode:function(n){var i=this.children.indexOf(n);if(i<0){return;}this.children.splice(i,1);n.parent=null;},hasChild:function(n){return this.children.indexOf(n)>-1;},hasSibling:function(n){if(this.equals(n)){return false;}var p=this.parent;if(!p){return false;}if(p.hasChild(n)){return true;}return false;},_findNode:function(d,r){if(this.dataSource.equals(d)){r.push(this);return;}for(var i=0;i<this.children.length;++i){var c=this.children[i];c._findNode(d,r);if(r.length>0){return;}}}};m.Tree=function(){this.init.apply(this,arguments);};m.Tree.prototype={init:function(r){this.rootNode=new m.Node(r,null);},reset:function(){this.rootNode=null;},invalidate:function(d){var n=this.findNode(d);if(!n){this.rootNode.children=[];this.rootNode.count=0;return;}var c=null;while(n){n.children=c?[c]:[];n.count=null;if(c){c.count=null;}c=n;n=n.parent;}},findNode:function(d){if(!this.rootNode){return null;}var r=[];this.rootNode._findNode(d,r);return r.length>0?r[0]:null;},hasChild:function(d,a){if(a.equals(this.rootNode.dataSource)){return false;}var n=this.findNode(d);if(!n){return false;}var b=this.findNode(a);if(!b){return false;}return n.hasChild(b);},hasSibling:function(d,a){if(a.equals(this.rootNode.dataSource)){return false;}var n=this.findNode(d);if(!n){return false;}var b=this.findNode(a);if(!b){return false;}return n.hasSibling(b);},updateFromPerspective:function(d,p,a){var c=null;try{c=p.getSearchFacet().getQuery().getResultSetSync().totalcount;}catch(e){}var b=this.findNode(d);if(!b){b=new m.Node(d,c);b.unsureWhetherNodeisBelowRoot=true;this.rootNode.appendNode(b);}b.setCount(c);if(d.equals(a.allDataSource)){b.setCount(b.count+a.getProperty('/appCount'));}this.updateFromPerspectiveChildDataSources(b,p,a);this.updateAppTreeNode(d,a);},updateAppTreeNode:function(d,a){if(!d.equals(a.allDataSource)&&!d.equals(a.appDataSource)){return;}var b=this.findNode(a.appDataSource);if(b){this.rootNode.removeChildNode(b);}var c=a.getProperty('/appCount');if(c===0&&!d.equals(a.appDataSource)){return;}b=new m.Node(a.appDataSource,c);this.rootNode.appendNodeAtIndex(b,0);},updateFromPerspectiveChildDataSources:function(c,p,a){if(!p||c.dataSource.equals(a.appDataSource)){return;}var f=p.getChartFacets();if(f.length===0){return;}var d=f[0];if(d.facetType!=='datasource'){return;}var b=d.getQuery().getResultSetSync().getElements();c.clearChildren();for(var i=0;i<b.length;++i){var e=b[i];var g=e.dataSource;var h=this.findNode(g);if(!h){h=new m.Node(g,e.valueRaw);}if(h.unsureWhetherNodeisBelowRoot){h.unsureWhetherNodeisBelowRoot=false;this.rootNode.removeChildNode(h);}if(h.parent){h.parent.removeChildNode(h);}h.setCount(e.valueRaw);c.appendNode(h);}}};m.Formatter=function(){this.init.apply(this,arguments);};m.Formatter.prototype={init:function(r){this.tree=new m.Tree(r);},format:function(d,p,a){this.tree.updateFromPerspective(d,p,a);var t=this.generateTabStrips(d,a);return t;},invalidate:function(d){if(this.tree){this.tree.invalidate(d);}},generateTabStrips:function(d,a){var t=9999;var i,c,b;var e={strips:[],selected:null};var n=this.tree.findNode(d);if(!n){if(!d.equals(a.allDataSource)){e.strips.push(a.allDataSource);}e.strips.push(d);e.selected=d;return e;}if(n.dataSource.equals(a.allDataSource)){e.strips.push(a.allDataSource);b=n.getChildrenSortedByCount();for(i=0;i<b.length&&e.strips.length<t;++i){c=b[i];e.strips.push(c.dataSource);}e.selected=a.allDataSource;return e;}if(n.parent===this.tree.rootNode&&!n.unsureWhetherNodeisBelowRoot){e.strips.push(a.allDataSource);var f=false;b=this.tree.rootNode.getChildrenSortedByCount();for(i=0;i<b.length;++i){c=b[i];if(f){if(e.strips.length>=t){break;}e.strips.push(c.dataSource);}else{if(e.strips.length<t-1||n===c){e.strips.push(c.dataSource);if(n===c){f=true;}}}}if(b.length===0){e.strips.push(n.dataSource);}e.selected=n.dataSource;return e;}e.strips.push(a.allDataSource);e.strips.push(n.dataSource);e.selected=n.dataSource;return e;}};})();
},
	"sap/ushell/renderers/fiori2/search/UXLog.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.UXLog');var m=sap.ushell.renderers.fiori2.search.UXLog={};jQuery.extend(m,{logLines:[],log:function(){this._log.apply(this,arguments);},_log:function(t){this.logLines.push(t);this._save();},_save:function(){jQuery.ajax({type:'PUT',url:'/uxlog.txt',data:this.logLines.join('\n')+'\n',contentType:'text/plain'});this.logLines=[];}});m._save=S.delayedExecution(m._save,2000);})();
},
	"sap/ushell/renderers/fiori2/search/container/Component-preload.js":function(){
},
	"sap/ushell/renderers/fiori2/search/container/Component.js":function(){jQuery.sap.declare("sap.ushell.renderers.fiori2.search.container.Component");jQuery.sap.require("sap.ui.core.UIComponent");sap.ui.core.UIComponent.extend("sap.ushell.renderers.fiori2.search.container.Component",{metadata:{version:"@version@",library:"sap.ushell.renderers.fiori2.search.container",includes:[],dependencies:{libs:["sap.m"],components:[]},config:{title:sap.ushell.resources.i18n.getText("searchAppTitle"),compactContentDensity:true,cozyContentDensity:true}},createContent:function(){"use strict";return sap.ui.view({id:"searchContainerApp",viewName:"sap.ushell.renderers.fiori2.search.container.App",type:sap.ui.core.mvc.ViewType.JS});}});
},
	"sap/ushell/renderers/fiori2/search/container/ComponentControl.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.container.ComponentControl');var m=sap.ushell.renderers.fiori2.search.container.ComponentControl={};jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchFilterBar");jQuery.extend(m,{init:function(){this.oSearchFieldGroup=new sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup("searchFieldGroup");this.oSearchResults=sap.ui.view({id:"searchContainerResultsView",viewName:"sap.ushell.renderers.fiori2.search.container.Search",type:sap.ui.core.mvc.ViewType.JS});this.oSearchBar=new sap.m.Bar({visible:{parts:[{path:'/count'},{path:'/facetVisibility'}],formatter:function(c,f){if(f){return c!==0;}else{return c!==0;}}},contentLeft:[this.oSearchResults.assembleFilterButton(),this.oSearchResults.assembleDataSourceTapStrips()],contentRight:this.oSearchResults.assembleSearchToolbar(true)});this.oSearchBar.addStyleClass('sapUshellSearchBar');this.oFilterBar=new sap.ushell.renderers.fiori2.search.controls.SearchFilterBar({visible:{parts:[{path:'/facetVisibility'},{path:'/uiFilter/defaultConditionGroup'}],formatter:function(f,a){if(!f&&a&&a.conditions&&a.conditions.length>0){return true;}else{return false;}}}});this.oSearchPage=new sap.m.Page({id:'searchPage',customHeader:this.oSearchBar,subHeader:this.oFilterBar,content:[this.oSearchResults],enableScrolling:true,showFooter:false,showHeader:true,showSubHeader:{parts:[{path:'/facetVisibility'},{path:'/uiFilter/defaultConditionGroup'}],formatter:function(f,a){if(!f&&a&&a.conditions&&a.conditions.length>0){return true;}else{return false;}}}});}});})();
},
	"sap/ushell/renderers/fiori2/search/container/ComponentService.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.container.ComponentService');var m=sap.ushell.renderers.fiori2.search.container.ComponentService={};jQuery.sap.require("sap.ushell.renderers.fiori2.search.esh.api.release.sina");jQuery.sap.require("sap.ushell.renderers.fiori2.search.SearchConfiguration");jQuery.sap.require("jquery.sap.storage");jQuery.extend(m,{init:function(){sap.ushell.Container={getService:function(n){if(n==="Search"){return{queryApplications:function(p){return jQuery.when().then(function(){return{totalResults:0,searchTerm:p.searchTerm,getElements:function(){return[];}};});}};}else if(n==="URLParsing"){return{parseParameters:function(s){s=s.substr(1);var r={};var p=s.split("&");for(var i=0;i<p.length;i++){var a=p[i].split("=");if(!a[1]){a[1]="";}r[a[0]]=[a[1]];}return r;},splitHash:function(h){var r={};r.appSpecificRoute=h.substr(14);return r;}};}}};sap.ushell.resources={};sap.ushell.resources.i18nModel=new sap.ui.model.resource.ResourceModel({bundleUrl:"/sap/bc/resources/sap/ushell/renderers/fiori2/resources/resources.properties",bundleLocale:"en"});sap.ushell.resources.i18n=sap.ushell.resources.i18nModel.getResourceBundle();}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/CustomSearchResultListItem.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchResultListItem');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItemContent');sap.ushell.renderers.fiori2.search.controls.SearchResultListItem.extend("sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItem",{metadata:{properties:{content:{type:"sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItemContent"}}},init:function(){sap.ushell.renderers.fiori2.search.controls.SearchResultListItem.prototype.init.apply(this,arguments);},setupCustomContentControl:function(){var c=this.getContent();c.setTitle(this.getTitle());c.setTitleUrl(this.getTitleUrl());c.setType(this.getType());c.setImageUrl(this.getImageUrl());c.setAttributes(this.getAttributes());},renderer:function(r,c){c.setupCustomContentControl();sap.ushell.renderers.fiori2.search.controls.SearchResultListItemRenderer.render.apply(this,arguments);},onAfterRendering:function(){sap.ushell.renderers.fiori2.search.controls.SearchResultListItem.prototype.onAfterRendering.apply(this,arguments);this.getContent().getTitleVisibility();}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/CustomSearchResultListItemContent.js":function(){(function(){"use strict";sap.ui.base.ManagedObject.extend("sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItemContent",{metadata:{properties:{title:"string",titleUrl:"string",type:"string",imageUrl:"string",attributes:{type:"object",multiple:true},intents:{type:"object",multiple:true}}},init:function(){},getContent:function(){return undefined;},getTitleVisibility:function(){return true;}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/DivContainer.js":function(){(function(){"use strict";sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.DivContainer",{metadata:{properties:{"cssClass":"string"},aggregations:{"content":{singularName:"content",multiple:true}}},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass(c.getCssClass());r.writeClasses();r.write('>');var C=c.getContent();for(var i=0;i<C.length;i++){r.renderControl(C[i]);}r.write('</div>');}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchAdvancedCondition.js":function(){(function(){"use strict";jQuery.sap.require('sap.ui.layout.HorizontalLayout');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchFacetDialogHelper');var s=sap.ushell.renderers.fiori2.search.SearchFacetDialogHelper;sap.ui.layout.HorizontalLayout.extend('sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition',{metadata:{properties:{"type":""}},constructor:function(o){var t=this;o=jQuery.extend({},{allowWrapping:true,content:t.contentFactory(o.type)},o);sap.ui.layout.HorizontalLayout.prototype.constructor.apply(this,[o]);t.addStyleClass('sapUshellSearchFacetDialogDetailPageCondition');},renderer:'sap.ui.layout.HorizontalLayoutRenderer',contentFactory:function(t){var a=this;var A=new sap.m.CheckBox({select:function(e){if(t==="string"||t==="text"){s.updateCountInfo(e.getSource().getParent().getParent().getParent().getParent().getParent().getParent());}else{s.updateCountInfo(e.getSource().getParent().getParent().getParent());}}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionCheckBox');var o=sap.ui.getCore().byId("operatorLabel");if(!o){o=new sap.ui.core.InvisibleText("operatorLabel",{text:sap.ushell.resources.i18n.getText("operator")});}var i,b,I,S;switch(t){case'date':i=new sap.m.DateRangeSelection({width:'86%',change:function(e){a.onDateRangeSelectionChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');break;case'string':A.setVisible(false);I=new sap.m.Input({width:'57%',placeholder:sap.ushell.resources.i18n.getText("filterCondition"),liveChange:function(e){a.onAdvancedInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');S=new sap.m.Select({width:'40%',tooltip:sap.ushell.resources.i18n.getText("operator"),items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("equals"),key:'eq'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("beginsWith"),key:'bw'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("endsWith"),key:'ew'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("contains"),key:'co'})]}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionSelect');S.addAriaLabelledBy("operatorLabel");i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[S,I]});b=new sap.m.Button({icon:"sap-icon://sys-cancel",type:sap.m.ButtonType.Transparent,tooltip:sap.ushell.resources.i18n.getText("removeButton"),press:function(e){a.onDeleteButtonPress(e);}});break;case'text':A.setVisible(false);I=new sap.m.Input({width:'57%',placeholder:sap.ushell.resources.i18n.getText("filterCondition"),liveChange:function(e){a.onAdvancedInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');S=new sap.m.Select({width:'40%',tooltip:sap.ushell.resources.i18n.getText("operator"),items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("containsWords"),key:'co'})]}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionSelect');S.addAriaLabelledBy("operatorLabel");i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[S,I]});b=new sap.m.Button({icon:"sap-icon://sys-cancel",type:sap.m.ButtonType.Transparent,tooltip:sap.ushell.resources.i18n.getText("removeButton"),press:function(e){a.onDeleteButtonPress(e);}});break;case'number':var c=new sap.m.Input({width:'46.5%',placeholder:sap.ushell.resources.i18n.getText("fromPlaceholder"),liveChange:function(e){a.onAdvancedNumberInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');var d=new sap.m.Input({width:'46.5%',placeholder:sap.ushell.resources.i18n.getText("toPlaceholder"),liveChange:function(e){a.onAdvancedNumberInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');var l=new sap.m.Label({text:'...'}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionLabel');i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[c,l,d]});i.addEventDelegate({onAfterRendering:function(e){var f=e.srcControl.getParent().getParent().getContent().length;var g=e.srcControl.getParent().getParent().indexOfAggregation("content",e.srcControl.getParent());if(g===f-2){var v=e.srcControl.getContent()[2].getValue();e.srcControl.getContent()[2].setValue();e.srcControl.getContent()[2].setValue(v);}}});break;default:break;}return[A,i,b];},onDateRangeSelectionChange:function(e){var d=e.getSource();var a=d.getParent();var A=a.getContent()[0];if(d.getDateValue()&&d.getSecondDateValue()){A.setSelected(true);s.insertNewAdvancedCondition(a,"date");s.updateCountInfo(a.getParent().getParent());}else{A.setSelected(false);}},onAdvancedInputChange:function(e){var i=e.getSource();var a=i.getParent().getParent();var A=a.getContent()[0];if(i.getValue()){A.setSelected(true);s.updateCountInfo(a.getParent().getParent().getParent().getParent().getParent());}else{A.setSelected(false);}},onDeleteButtonPress:function(e){var a=e.getSource().getParent();s.deleteAdvancedCondition(a);},onAdvancedNumberInputChange:function(e){var i=e.getSource();var a=i.getParent().getParent();var A=a.getContent()[0];if(i.getParent().getContent()[0].getValue()&&i.getParent().getContent()[2].getValue()){A.setSelected(true);s.insertNewAdvancedCondition(a,"number");s.updateCountInfo(a.getParent().getParent());}else{A.setSelected(false);}}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchButton.js":function(){(function(){"use strict";jQuery.sap.require('sap.m.Button');sap.m.Button.extend('sap.ushell.renderers.fiori2.search.controls.SearchButton',{constructor:function(i,o){o=jQuery.extend({},{icon:sap.ui.core.IconPool.getIconURI("search"),tooltip:sap.ushell.resources.i18n.getText("search")},o);sap.m.Button.prototype.constructor.apply(this,[i,o]);this.addStyleClass('searchBtn');},renderer:'sap.m.ButtonRenderer'});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchFacet.js":function(){(function(){"use strict";jQuery.sap.require('sap.m.List');jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchFacetItem");sap.m.List.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacet',{metadata:{properties:{eshRole:{type:"string",defaultValue:"datasource"}}},init:function(){this.data("sap-ui-fastnavgroup","false",true);},constructor:function(i,o){o=jQuery.extend({},{mode:sap.m.ListMode.SingleSelectMaster,showSeparators:sap.m.ListSeparators.None,includeItemInSelection:true,selectionChange:function(e){if(this.getEshRole()==="attribute"){this.handleItemPress(e);}},itemPress:function(e){if(this.getEshRole()==="datasource"){this.handleItemPress(e);}}},o);sap.m.List.prototype.constructor.apply(this,[i,o]);this.addStyleClass('sapUshellSearchFacet');},handleItemPress:function(e){var l=e.mParameters.listItem;var s=l.getBindingContext().getObject();if(l.getSelected()){this.getModel().addFilterCondition(s.filterCondition);}else{this.getModel().removeFilterCondition(s.filterCondition);}},renderer:'sap.m.ListRenderer',setEshRole:function(r){var t=this;var i={path:"items",template:new sap.ushell.renderers.fiori2.search.controls.SearchFacetItem(),groupHeaderFactory:function(g){var a=new sap.m.GroupHeaderListItem({title:g.key,upperCase:false});if(t.getModel().config.charts){a.setVisible(false);}return a;}};switch(r.toLowerCase()){default:case"datasource":this.setMode(sap.m.ListMode.SingleSelectMaster);this.setHeaderText(sap.ushell.resources.i18n.getText("searchIn"));break;case"attribute":this.setMode(sap.m.ListMode.MultiSelect);this.setHeaderText("");i.sorter=new sap.ui.model.Sorter("facetTitle",false,false);break;}this.bindAggregation("items",i);this.setProperty("eshRole",r);return this;},setModel:function(){return sap.m.List.prototype.setModel.apply(this,arguments);}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetBarChart.js":function(){(function(){"use strict";jQuery.sap.require("sap.suite.ui.microchart.ComparisonMicroChart");sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart',{metadata:{properties:{lastUpdated:{type:"string"},aItems:{type:"object"}},aggregations:{'items':{type:'sap.suite.ui.microchart.ComparisonMicroChartData',multiple:true}}},constructor:function(o){var t=this;t.options=o;sap.ui.core.Control.prototype.constructor.apply(this);this.bindAggregation('items','items',function(){var c=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{label}',value:'{value}',color:{path:'selected',formatter:function(v){var r=sap.m.ValueColor.Good;if(!v){r=sap.m.ValueColor.Neutral;}return r;}},displayValue:'{valueLabel}',press:function(e){var a=e.getSource().getBindingContext();var m=a.getModel();var d=a.getObject();var i=d.selected;var f=d.filterCondition;if(i){if(t.options.oSearchFacetDialog){t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{m.removeFilterCondition(f,true);}}else if(t.options.oSearchFacetDialog){t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{m.addFilterCondition(f,true);}}});return c;});},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');var C=new sap.suite.ui.microchart.ComparisonMicroChart({width:"90%",colorPalette:"",press:function(e){},tooltip:""});if(c.options.oSearchFacetDialog){C.setWidth("95%");C.addStyleClass("sapUshellSearchFacetBarChartLarge");}else{C.addStyleClass("sapUshellSearchFacetBarChart");}C.addEventDelegate({onAfterRendering:function(e){$('#'+this.sId).has('.Good').addClass("sapUshellSearchFacetBarChartSelected");}});var a=c.getItems();var b=c.getAItems();if(a.length===0&&b){a=b;}var m=0;for(var i=0;i<a.length;++i){var d=a[i];if(!c.options.oSearchFacetDialog){if(d.mProperties&&d.mProperties.value){C.addData(d);}else if(d.mProperties&&!d.mProperties.value){m++;}}else{C.addData(d);}}c.iMissingCnt=m;r.renderControl(C);r.write('</div>');},onAfterRendering:function(){var t=this;if(t.iMissingCnt>0){var a=$(this.getDomRef()).closest(".sapUshellSearchFacetIconTabBar").find(".sapUshellSearchFacetInfoZeile")[0];var I=sap.ui.getCore().byId(a.id);var m=sap.ushell.resources.i18n.getText("infoZeileNumberMoreSelected",[t.iMissingCnt]);I.setText(m);}var A=$(".sapSuiteUiMicroChartPointer");for(var i=0;i<A.length;i++){var b=A[i];var s=b.title;if(s&&s.indexOf(":")===-1){b.title=s.replace(/( \d+) *$/,':$1');}}},setEshRole:function(){}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetDialog.js":function(){(function(){"use strict";jQuery.sap.require('sap.m.Dialog');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchFacetDialogHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchFacetDialogHelperCharts');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition');var s=sap.ushell.renderers.fiori2.search.SearchFacetDialogHelper;var a=sap.ushell.renderers.fiori2.search.SearchFacetDialogHelperCharts;sap.m.Dialog.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog',{constructor:function(o){var t=this;t.bShowCharts=true;t.bOldPieChart=true;if(jQuery.sap.getUriParameters().mParams.newpie&&jQuery.sap.getUriParameters().get("newpie")!=="false"){t.bOldPieChart=false;}t.chartOnDisplayIndex=o.selectedTabBarIndex;t.facetOnDisplayIndex=0;t.chartOnDisplayIndexByFilterArray=[];t.aItemsForBarChart=[];t.tabBarItems=o.tabBarItems;t.searchFacetDialogHelperCharts=a;if(!t.tabBarItems){a.setDummyTabBarItems(t);}o=jQuery.extend({},{showHeader:false,horizontalScrolling:false,verticalScrolling:false,contentHeight:'35rem',beginButton:new sap.m.Button({text:sap.ushell.resources.i18n.getText("okDialogBtn"),press:function(e){t.onOkClick(e);t.close();t.destroy();}}),endButton:new sap.m.Button({text:sap.ushell.resources.i18n.getText("cancelDialogBtn"),press:function(e){t.close();t.destroy();}}),content:[t.createContainer()]},o);t.selectedAttribute=o.selectedAttribute?o.selectedAttribute:"";delete o.selectedAttribute;delete o.selectedTabBarIndex;delete o.tabBarItems;sap.m.Dialog.prototype.constructor.apply(this,[o]);s.init(t);a.init(t);t.addStyleClass('sapUshellSearchFacetDialog');},renderer:'sap.m.DialogRenderer',createContainer:function(){var t=this;t.oSplitContainer=new sap.m.SplitContainer({masterPages:t.createMasterPages()});t.oSplitContainer.bindAggregation("detailPages","/facetDialog",function(i,c){return t.createDetailPages(i,c);});t.oSplitContainer.addStyleClass('sapUshellSearchFacetDialogContainer');return t.oSplitContainer;},createMasterPages:function(){var t=this;var f=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:function(e){t.onMasterPageSelectionChange(e);}});f.addStyleClass('sapUshellSearchFacetDialogFacetList');f.bindAggregation("items","/facetDialog",function(i,c){var l=new sap.m.StandardListItem({title:"{title}",counter:"{count}"});return l;});var r=new sap.m.Button({icon:"sap-icon://clear-filter",tooltip:sap.ushell.resources.i18n.getText("resetFilterButton_tooltip"),type:'Transparent',enabled:false,press:function(e){t.resetAllFilters(e);}});r.addStyleClass("sapUshellSearchFacetDialogFilterResetButton");var m=new sap.m.Page({title:sap.ushell.resources.i18n.getText("filters"),headerContent:r,content:[f]}).addStyleClass('sapUshellSearchFacetDialogMasterContainer');m.addEventDelegate({onAfterRendering:function(e){if(t.selectedAttribute){for(var i=0;i<f.getItems().length;i++){var l=f.getItems()[i];var b=l.getBindingContext().getObject();if(t.selectedAttribute===b.dimension){f.setSelectedItem(l);t.facetOnDisplayIndex=i;t.chartOnDisplayIndexByFilterArray.push(t.chartOnDisplayIndex);}else{var n=0;var c=l.getBindingContext().getModel().oData.facets;for(var j=0;j<c.length;j++){if(c[j].chartIndex&&c[j].dimension===b.dimension&&!isNaN(c[j].chartIndex)){n=c[j].chartIndex;}}t.chartOnDisplayIndexByFilterArray.push(n);}}}if(!f.getSelectedItem()){f.setSelectedItem(f.getItems()[0]);}var S=f.getSelectedItem();s.updateDetailPage(S,null,true);t.resetEnabledForFilterResetButton();}});var M=[m];return M;},resetAllFilters:function(e){var b=$(".sapUshellSearchFacetDialogSettingsContainer").find(".sapMCbBg.sapMCbHoverable.sapMCbMark.sapMCbMarkChecked");if(b.length===1){var i=b[0].parentNode.id;var c=sap.ui.getCore().byId(i);c.setSelected(false);c.setEnabled(false);}var m=this.getModel();m.aFilters=[];s.bResetFilterIsActive=true;var M=s.getFacetList();var f=M.getItems();for(var j=0;j<f.length;j++){f[j].setCounter(0);}this.resetAdvancedConditionFilters();s.updateDetailPage(M.getSelectedItem());this.resetEnabledForFilterResetButton();s.bResetFilterIsActive=false;},resetAdvancedConditionFilters:function(){var t=this;var A,c,n,b,p,C,j;var d=t.oSplitContainer.getDetailPages();for(var i=0;i<d.length;i++){var D=d[i];n=s.POS_ATTRIBUTE_LIST_CONTAINER;A=D.getContent()[n];if(A){for(j=A.getContent().length-2;j>0;j--){c=A.getContent()[j];p=c.getParent();C=c;p.removeContent(C);}}else{n=s.POS_ICONTABBAR;b=s.POS_TABBAR_CONDITION;A=D.getContent()[n].getItems()[b].getContent()[0];if(A){for(j=A.getContent().length-1;j>-1;j--){c=A.getContent()[j];if(c.getContent&&c.getContent()[1]){var e=c.getContent()[1].getContent()[1];var f=e.getValue();if(f&&(""+f).length>0){p=c.getParent();C=c;p.removeContent(C);}}}}}}},resetEnabledForFilterResetButton:function(f){var F=false;var o=0;var m=s.getFacetList();var b=m.getItems();for(var i=0;i<b.length;i++){o+=b[i].getCounter();}var M=this.getModel();if(M.aFilters&&M.aFilters.length>0||f||o>0){F=true;}var c=$('.sapUshellSearchFacetDialogFilterResetButton')[0].id;var r=sap.ui.getCore().byId(c);r.setEnabled(F);},onMasterPageSelectionChange:function(e){var t=this;var l=e.mParameters.listItem;t.facetOnDisplayIndex=l.getParent().indexOfItem(l.getParent().getSelectedItem());t.setChartOnDisplayIndexForFacetListItem(t.facetOnDisplayIndex);var m=l.getParent().getModel();var b=l.getBindingContext().sPath;t.resetIcons(m,b,t);s.updateDetailPage(l);if(t.oSplitContainer.getMode()==="ShowHideMode"){t.oSplitContainer.hideMaster();}t.controlChartVisibility(t,t.chartOnDisplayIndex);},createDetailPages:function(i,c){var t=this;var f=c.oModel.getProperty(c.sPath).facetType;var d=c.oModel.getAttributeDataType(c.oModel.getProperty(c.sPath).dataType);var S=new sap.m.Select({items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("notSorted"),key:"notSorted"}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("sortByCount"),key:"sortCount"}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("sortByName"),key:"sortName"})],selectedKey:(d==="string"||d==="text")?"sortCount":"notSorted",change:function(E){t.onSelectChange(E);}}).addStyleClass('sapUshellSearchFacetDialogSettingsSelect');var C=new sap.m.CheckBox({text:"Show Selected on Top",enabled:false,select:function(E){t.onCheckBoxSelect(E);}});var o=new sap.ui.layout.VerticalLayout({content:[S,C]}).addStyleClass('sapUshellSearchFacetDialogSettingsContainer');o.setVisible(false);var l=new sap.m.List({includeItemInSelection:true,showNoData:false,showSeparators:sap.m.ListSeparators.None,selectionChange:function(E){t.onDetailPageSelectionChange(E);}});l.addStyleClass('sapUshellSearchFacetDialogDetailPageList');l.addStyleClass('largeChart0');if(f==="attribute"){l.setMode(sap.m.ListMode.MultiSelect);}var b={path:"items",factory:function(i,c){var B=c.oModel.getProperty(c.sPath);var n=new sap.m.StandardListItem({title:"{label}",tooltip:sap.ushell.resources.i18n.getText("facetListTooltip",["{label}","{value}"]),info:"{valueLabel}",selected:"{selected}"});if(B.selected){c.oModel.addFilter(B);}return n;}};if(d==="number"){S.removeItem(2);}b.filters=new sap.ui.model.Filter("advanced",sap.ui.model.FilterOperator.NE,true);l.bindAggregation("items",b);l.setBusyIndicatorDelay(0);l.data('dataType',d);if(t.bShowCharts){l.addEventDelegate({onAfterRendering:function(E){t.hideSelectively(E,t,0);}});}var L,e,g;e=a.getBarChartPlaceholder();e.addEventDelegate({onAfterRendering:function(E){t.hideSelectively(E,t,1);}});e.data('dataType',d);if(t.bOldPieChart){g=a.getPieChartPlaceholder();}else{g=a.getPieChartPlaceholder2();}g.addEventDelegate({onAfterRendering:function(E){t.hideSelectively(E,t,2);}});if(t.bShowCharts&&(d==="string"||d==="text")){L=new sap.m.ScrollContainer({height:'67.2%',horizontal:false,vertical:true,content:[l,e,g]});}else{L=new sap.m.ScrollContainer({height:'calc(100% - 0.25rem)',horizontal:false,vertical:true,content:[l]});}L.addStyleClass('sapUshellSearchFacetDialogDetailPageListContainer');L.addStyleClass('searchFacetLargeChartContainer');var A=new sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition({type:d});var p;if(d==="string"||d==="text"){var h=new sap.m.ScrollContainer({horizontal:false,vertical:true,content:[A]});h.addStyleClass('sapUshellSearchFacetDialogDetailPageAdvancedContainer');var P=new sap.m.Button({icon:"sap-icon://add",type:sap.m.ButtonType.Transparent,press:function(E){t.onPlusButtonPress(E,d);}});h.addContent(P);h.data('dataType',d);h.data('initial',true);L.setHeight('calc(100% - 0.25rem)');h.setHeight('100%');var j=a.getDropDownButton(t);var k=new sap.m.Toolbar({content:[new sap.m.SearchField({placeholder:sap.ushell.resources.i18n.getText("filterPlaceholder"),liveChange:function(E){t.onSearchFieldLiveChange(E);}}),new sap.m.ToggleButton({icon:"sap-icon://sort",press:function(E){t.onSettingButtonPress(E);}}).addStyleClass('sapUshellSearchFacetDialogSortButton')]}).addStyleClass('sapUshellSearchFacetDialogSubheaderToolbar');k.addEventDelegate({onAfterRendering:function(E){$('.sapUshellSearchFacetDialogSubheaderToolbar').removeClass("sapContrastPlus");}});if(t.bShowCharts){k.addContent(j);}var T=new sap.m.Page({showHeader:false,subHeader:k,content:[o,L]}).addStyleClass('sapUshellSearchFacetDialogDetailPage');var I=new sap.m.IconTabBar({upperCase:true,expandable:false,stretchContentHeight:true,backgroundDesign:sap.m.BackgroundDesign.Transparent,applyContentPadding:false,select:function(E){t.controlChartVisibility(t,t.chartOnDisplayIndex);},items:[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("selectFromList"),content:[T]}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("defineCondition"),content:[h]})]});I.addStyleClass('sapUshellSearchFacetDialogIconTabBar');p=new sap.m.Page({showHeader:true,title:c.oModel.getProperty(c.sPath).title,content:[I]});p.addStyleClass('sapUshellSearchFacetDialogDetailPageString');}else{L.addContent(A);L.data('dataType',d);L.data('initial',true);if(t.bShowCharts){var m=c.oModel.getProperty(c.sPath).title;p=new sap.m.Page({title:m,showHeader:true,content:[o,L]});}else{p=new sap.m.Page({showHeader:true,title:c.oModel.getProperty(c.sPath).title,content:[o,L]});}p.addStyleClass('sapUshellSearchFacetDialogDetailPage');}return p;},onDetailPageSelectionChange:function(e){var t=this;var S=e.mParameters.listItem;var b=S.getBindingContext().getObject();if(S.getSelected()){b.listed=true;t.getModel().addFilter(b);}else{b.listed=false;t.getModel().removeFilter(b);}var l=e.oSource;var d;if(l.data('dataType')==="string"||l.data('dataType')==="text"){d=l.getParent().getParent().getParent().getParent().getParent().getParent();}else{d=l.getParent().getParent();}s.updateCountInfo(d);var o=l.getParent().getParent().getContent()[s.POS_SETTING_CONTAINER];var c=o.getContent()[s.POS_SHOWONTOP_CHECKBOX];var f=o.getContent()[s.POS_SORTING_SELECT];if(c.getSelected()){c.setSelected(false);f.setSelectedKey("notSorted");}if(l.getSelectedContexts().length>0){c.setEnabled(true);}else{c.setEnabled(false);}},onSearchFieldLiveChange:function(e){var f=e.getSource().getValue();var S=s.getFacetList().getSelectedItem();s.updateDetailPage(S,f);},onSettingButtonPress:function(e){var p=e.oSource.getPressed();var S=e.oSource.getParent().getParent().getContent()[s.POS_SETTING_CONTAINER];var l=e.oSource.getParent().getParent().getContent()[s.POS_ATTRIBUTE_LIST_CONTAINER];if(p){S.setVisible(true);l.setHeight('calc(100% - 4.25rem)');}else{S.setVisible(false);l.setHeight('calc(100% - 0.25rem)');}},onSelectChange:function(e){s.sortingAttributeList(e.oSource.getParent().getParent());},onCheckBoxSelect:function(e){s.sortingAttributeList(e.oSource.getParent().getParent());},onPlusButtonPress:function(e,t){var A=e.getSource().getParent();var n=new sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition({type:t});var i=A.getAggregation("content").length-1;A.insertAggregation("content",n,i);},onOkClick:function(e){var t=this;var M=t.getModel();var S=t.getModel('searchModel');S.resetFilterConditions(false);var d=t.oSplitContainer.getDetailPages();for(var m=0;m<M.aFilters.length;m++){var b=M.aFilters[m];if(!b.advanced||b.listed){S.addFilterCondition(b.filterCondition,false);}}for(var i=0;i<d.length;i++){if(s.getFacetList().getItems()[i]){s.applyAdvancedCondition(d[i],s.getFacetList().getItems()[i].getBindingContext().getObject(),S);}}S.filterChanged=true;S._firePerspectiveQuery();},setChartOnDisplayIndexForFacetListItem:function(f){var t=this;var r=0;try{r=t.chartOnDisplayIndexByFilterArray[f];}catch(e){r=0;}if(r===undefined){r=0;}t.chartOnDisplayIndex=r;},resetIcons:function(m,p,c){var t=this;var b=false;var d=m.getAttributeDataType(m.getProperty(p).dataType);if(t.bShowCharts&&(d==="string"||d==="text")){b=true;}var e=$('.sapUshellSearchFacetDialogTabBarButton');if(b){e.css("display","block");for(var i=0;i<e.length;i++){var f=e[i].id;var D=sap.ui.getCore().byId(f);var g=c.tabBarItems[c.chartOnDisplayIndex].getIcon();D.setIcon(g);var h=c.tabBarItems[c.chartOnDisplayIndex].getText();var j=sap.ushell.resources.i18n.getText('displayAs',[h]);D.setTooltip(j);}}else{e.css("display","none");}},onDetailPageSelectionChangeCharts:function(e){var t=this;var c=0;var b,m,d,f,g,S,h,B,p,M;var k,j,l,n,i,o;if(e.getSource&&e.sId==="press"){b=e.getSource().getBindingContext();m=b.getModel();d=b.getObject();f=d.selected;g=f?false:true;S=e.getSource();h=S.getBindingContext().sPath+"/selected";m.setProperty(h,g);B=S.getBindingContext().getObject();if(g){m.addFilter(B);}else{m.removeFilter(B);}p=h.replace(/\/items.+/,'');p+="/items";l=m.getProperty(p);c=0;for(i=0;i<l.length;i++){n=l[i];if(n.selected===true){c++;}}}else if(e.getSource&&(e.sId==="selectData"||e.sId==="deselectData")){b=e.getSource().getBindingContext();m=b.getModel();d=b.getObject();g=(e.sId==="selectData")?true:false;S=e.getSource();h=S.getBindingContext().sPath+"/items/";for(j=0;j<e.getParameters().data.length;j++){k=e.getParameters().data[j].data._context_row_number;h+=k+"/selected";m.setProperty(h,g);B=S.getBindingContext().getObject().items[k];if(g){m.addFilter(B);}else{m.removeFilter(B);}}p=h.replace(/\/items.+/,'');p+="/items";l=m.getProperty(p);c=0;for(i=0;i<l.length;i++){if(l[i].selected===true){c++;}}var q=e.mParameters.data.length;if(!g&&q>1){c=0;for(i=0;i<l.length;i++){l[i].selected=false;}}}else{d=e.dataObject;f=d.selected;g=f?false:true;c=e.cnt;m=e.model;var r=new sap.ushell.renderers.fiori2.search.FacetItem();r.facetAttribute=d.dimension;r.filterCondition=d.filterCondition;r.label=d.label;r.selected=d.selected;r.value=d.value;r.valueLabel=d.valueLabel;for(j=0;j<t.aItemsForBarChart.length;j++){var u=t.aItemsForBarChart[j];if(u.label===d.label){u.selected=d.selected;}}if(f){m.addFilter(r);}else{m.removeFilter(r);}}M=s.getFacetList();o=M.getSelectedItem();if(!o){o=M.getItems()[0];}o.setCounter(c);this.resetEnabledForFilterResetButton();},updateDetailPageCharts:function(i,m){var t=this;if(t.bShowCharts===false){return;}t.aItemsForBarChart=i;var l=a.getListContainersForDetailPage();var L=l[1];var c=L.getContent();if(c&&t.chartOnDisplayIndex===2){var p=c[2];var e=l[5];var r=l[2];r=0.9*r;if(p.directUpdate){var b={};b.relevantContainerHeight=r;b.oSearchFacetDialog=t;var M=new sap.ui.model.json.JSONModel();M.setData(i);$("#"+e.id).empty();p.directUpdate(i,e,M,b);}}var d,f;if(c&&t.chartOnDisplayIndex===1){d=l[0].firstChild.children[2];if(d){f=$("#"+d.id);f.css("display","none");}}if(c&&t.chartOnDisplayIndex===2){d=l[0].firstChild.children[1];if(d){f=$("#"+d.id);f.css("display","none");}}},controlChartVisibility:function(c,b,f){var t=this;var e,d,g,h;if(t.bShowCharts===false){return;}var l=c.searchFacetDialogHelperCharts.getListContainersForDetailPage();var L=l[1];if(!L||!L.getContent){return;}var j=L.getContent();for(var i=0;i<j.length;i++){e=l[0].firstChild.children[i];if(!e){return;}g=e.className;h=false;if(g.indexOf("largeChart")>-1){h=true;}d=$("#"+e.id);if(h&&i!==b){d.css("display","none");}else{d.css("display","block");}}if(c.bOldPieChart){if(h&&b===2&&f){var I=t.aItemsForBarChart;var m=t.getModel();t.updateDetailPageCharts(I,m);}if(h&&b===2){L.setVertical(false);}else{L.setVertical(true);}}var S=l[6];var o=l[7];if(S){if(b===0){S.css("display","block");o.css('visibility','visible');}else{S.css("display","none");o.css('visibility','hidden');}}},hideSelectively:function(e,c,b){var d=$("#"+e.srcControl.sId);var f=c.chartOnDisplayIndex;var l=c.searchFacetDialogHelperCharts.getListContainersForDetailPage();var L=l[1];if(l[0].firstChild.children.length!=3){return;}if(f!==undefined){if(c.chartOnDisplayIndex!==b){d.css("display","none");}else{d.css("display","block");}}else{d.css("display","block");}if(f===2){if(!l[0].firstChild.children[2]||!l[0].firstChild.children[2].firstChild){c.controlChartVisibility(c,c.chartOnDisplayIndex,true);}if(c.bOldPieChart){L.setVertical(false);}}else{L.setVertical(true);}var S=l[6];if(S){var g=$("#"+S.sId);if(f===0){g.css("display","block");}else{g.css("display","none");}}}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetFilter.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchFacet");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBar");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog");jQuery.sap.require("sap.ushell.renderers.fiori2.search.SearchFacetDialogModel");sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBar.extend('my.IconTabBar',{renderer:'sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBarRenderer',setEshRole:function(){var a=this.getItems();for(var i=0;i<a.length;++i){var b=a[i];var f=b.getContent()[0];f.setEshRole.apply(f,arguments);}},getEshRole:function(){var i=this.getItems();var a=i[0];var f=a.getContent()[0];return f.getEshRole.apply(f,arguments);},attachSelectionChange:function(){}});sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetFilter',{metadata:{properties:{title:"string"},aggregations:{"facets":{multiple:true}}},init:function(){this.data("sap-ui-fastnavgroup","true",true);},constructor:function(o){var t=this;o=jQuery.extend({},{},o);sap.ui.core.Control.prototype.constructor.apply(this,[o]);this.bindAggregation('facets','/facets',function(){if(t.getModel().config.charts){if(arguments[1].sPath!=="/facets/0"){var b={};b.id='barChart'+arguments[0];var i=new my.IconTabBar({items:[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetList"),icon:"sap-icon://list",key:'list'+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacet('list'+arguments[0])}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetBarChart"),icon:"sap-icon://horizontal-bar-chart",key:'barChart'+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart(b)}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetPieChart"),icon:"sap-icon://pie-chart",key:'pieChart'+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart('pieChart'+arguments[0])})]});i.addStyleClass("sapUshellSearchFacetIconTabBar");return i;}else{return new sap.ushell.renderers.fiori2.search.controls.SearchFacet(arguments[0]);}}else{return new sap.ushell.renderers.fiori2.search.controls.SearchFacet(arguments[0]);}});},fireReset:function(){this.getModel().resetFilterConditions(false);this.getModel().setDataSource(this.getModel().allDataSource,true);},renderer:function(r,c){function a(d){return function(e){var f=sap.ui.getCore().byId($($(this.getDomRef()).closest(".sapUshellSearchFacet")[0]).attr("id"));var F=new sap.ushell.renderers.fiori2.search.SearchFacetDialogModel();F.setData(c.getModel().getData());F.prepareFacetList();var d=null;if(f&&f.getBindingContext()&&f.getBindingContext().getObject()&&f.getBindingContext().getObject().dimension){d=f.getBindingContext().getObject().dimension;}var D=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog({selectedAttribute:d});D.setModel(F);D.setModel(c.getModel(),'searchModel');D.open();var p=c.getParent().getParent().getParent().getParent();p.oFacetDialog=D;};}r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchFacetFilter");r.writeClasses();r.write('>');for(var i=0,l=c.getFacets().length;i<l;i++){var f=c.getFacets()[i];if(i===0){f.setEshRole("datasource");}else{f.setEshRole("attribute");f.attachSelectionChange(null,function(){jQuery(c.showAllBtn.getDomRef()).hide();});if(i===1){f.setHeaderText(sap.ushell.resources.i18n.getText("filterBy"));}var s=new sap.m.Link({text:"{i18n>showMore}",press:a(),visible:{parts:[{path:'/uiFilter/dataSource'}],formatter:function(d){return d.getType().toLowerCase()!=="category";}}});s.setModel(c.getModel());if(!c.getModel().config.charts){var b=new sap.m.CustomListItem({content:s});b.addStyleClass('sapUshellSearchFacetShowMoreLink');b.addEventDelegate({onAfterRendering:function(e){var d=jQuery(jQuery(e.srcControl.getDomRef()).find(".sapMLIBSelectM:first"));d.remove();}});f.addItem(b);}}r.renderControl(f);}if(c.getFacets().length>1||c.getModel().getDataSource().type==='BusinessObject'){r.write("<div>");c.showAllBtn=new sap.m.Button({text:"{showAllFilters}",press:a(),visible:false});c.showAllBtn.setModel(c.getModel("i18n"));c.showAllBtn.addStyleClass("sapUshellSearchFacetFilterShowAllFilterBtn");r.renderControl(c.showAllBtn);r.write("</div>");}r.write("</div>");},onAfterRendering:function(){if(this.getModel().getProperty('/count')>0){if((this.showAllBtn&&this.getFacets().length>1)&&!this.getModel().isOtherCategory()&&!this.getModel().isAllCategory()&&!this.getModel().isAppCategory()){this.showAllBtn.setVisible(true);this.showAllBtn.rerender();}}var a=$('.searchFacetFilter .searchFacet').first().find('ul');var b=a.find('li');a.attr('role','tree');b.attr('role','treeitem');}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetItem.js":function(){(function(){"use strict";jQuery.sap.require("sap.ui.core.format.NumberFormat");jQuery.sap.require('sap.m.StandardListItem');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;sap.m.StandardListItem.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetItem',{constructor:function(i,o){var t=this;t.options=jQuery.extend({},{type:sap.m.ListType.Active,title:"{label}",tooltip:"{label}"+": "+"{valueLabel}",info:{parts:[{path:'value'}],formatter:function(v){return typeof v==="number"?S.formatInteger(v):"";}},selected:"{selected}"},o);sap.m.StandardListItem.prototype.constructor.apply(this,[i,t.options]);this.addStyleClass('sapUshellSearchFacetItem');this.addEventDelegate({onAfterRendering:function(){if(t.getBindingContext()&&t.getBindingContext().getObject()){var l=t.getBindingContext().getObject().level;if(jQuery("html").attr("dir")==='rtl'){jQuery(t.getDomRef()).children(".sapMLIBContent").css("padding-right",l+"rem");}else{jQuery(t.getDomRef()).children(".sapMLIBContent").css("padding-left",l+"rem");}}}});},renderer:'sap.m.StandardListItemRenderer'});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetPieChart.js":function(){(function(){"use strict";jQuery.sap.require("sap.ui.thirdparty.d3");sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart',{setEshRole:function(r){},metadata:{properties:{oSearchFacetDialog:{}},aggregations:{items:{type:"sap.ushell.renderers.fiori2.search.FacetItem",multiple:true}}},renderer:function(R,C){R.write("<div");R.writeControlData(C);R.writeClasses();R.write('>');function f(){if(navigator.appName==='Microsoft Internet Explorer'){return true;}return false;}var P=function(){this.init.apply(this,arguments);};P.Labelposition=(function(){var a=function(){this.init.apply(this,arguments);};a.prototype={init:function(b,c,s,e,r,d,g,h,t,i){this.backgroundWidth=b;this.backgroundHeight=c;this.startAngle=s;this.endAngle=e;this.r=r;this.labelPaddingX=3;this.labelPaddingY=3;this.radiusPadding=4.24;this.labelWidth=d+2*this.labelPaddingX;this.labelHeight=g;this.outsetMin=0.3;this.outsetMax=1.2;this.outsetStep=0.025;this.apexAngle=e-s;this.startLabelWidth=this.labelWidth;this.d3centroid=h;this.text=t;this.svgBackground=i;this.debug=false;this.labelHeight=this.labelHeight+2*this.labelPaddingY;var x=Math.round(this.backgroundWidth/2);var y=Math.round(this.backgroundHeight/2);this.translateStr="translate("+x+","+y+")";},update:function(){var o=Math.max(this.outsetMin,Math.sin(this.apexAngle/2)/(this.apexAngle/2)*2/3);var p=true;var i=Math.max(100,this.labelWidth*2,1/this.outsetStep);var b=0;var c;do{p=true;c=this.calc(o,this.labelWidth,this.labelHeight);if(o>this.outsetMax||o<this.outsetMin){break;}if(this.labelWidth<0){break;}var d,e,g,h;if(b===0){d=this.calc(o+this.outsetStep,this.labelWidth,this.labelHeight);e=this.calc(o-this.outsetStep,this.labelWidth,this.labelHeight);g=this.value(d,c);h=this.value(e,c);if(g<h&&h>0.5){b=-1;o+=this.outsetStep*b;p=false;}else if(g>0.5||c.labelWidth<=0){b=1;o+=this.outsetStep*b;p=false;}}else{d=this.calc(o+this.outsetStep*b,this.labelWidth,this.labelHeight);g=this.value(d,c);if(g>0.5||c.labelWidth<=0){o+=this.outsetStep*b;p=false;}}i--;}while(!p&&i>0&&!isNaN(o));c=this.calc(o,this.labelWidth,this.labelHeight);this.labelWidth=c.labelWidth;var x=c.x;var y=c.y;this.svgBackground.select("circle.centroid").remove();if(this.debug){this.svgBackground.append("svg:circle").attr("class","centroid").attr("cx",c.centroidX).attr("cy",c.centroidY).attr("r",2).style("fill","blue");}this.svgBackground.selectAll("line.helper").remove();if(this.debug){this.svgBackground.append("svg:line").attr("class","helper helper2").attr("x1",-this.backgroundWidth/2).attr("x2",this.backgroundWidth/2).attr("y1",y-this.labelHeight/2).attr("y2",y-this.labelHeight/2);this.svgBackground.append("svg:line").attr("class","helper helper2").attr("x1",-this.backgroundWidth/2).attr("x2",this.backgroundWidth/2).attr("y1",y+this.labelHeight/2).attr("y2",y+this.labelHeight/2);this.svgBackground.append("svg:line").attr("class","helper").attr("x1",0).attr("y1",0).attr("x2",Math.sin(this.startAngle)*(this.r+this.radiusPadding)).attr("y2",-Math.cos(this.startAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",0).attr("y1",0).attr("x2",Math.sin(this.endAngle)*(this.r+this.radiusPadding)).attr("y2",-Math.cos(this.endAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",Math.sin(this.startAngle)*(this.r+this.radiusPadding)).attr("y1",-Math.cos(this.startAngle)*(this.r+this.radiusPadding)).attr("x2",this.isStartAngleOnRight()?this.backgroundWidth/2:-this.backgroundWidth/2).attr("y2",-Math.cos(this.startAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",Math.sin(this.endAngle)*(this.r+this.radiusPadding)).attr("y1",-Math.cos(this.endAngle)*(this.r+this.radiusPadding)).attr("x2",this.isEndAngleOnRight()?this.backgroundWidth/2:-this.backgroundWidth/2).attr("y2",-Math.cos(this.endAngle)*(this.r+this.radiusPadding));}if(this.labelWidth<2*this.labelPaddingX){this.labelWidth=0;}else if(this.labelWidth<this.startLabelWidth){this.labelWidth=this.labelWidth-2*this.labelPaddingX;}this.x=(isNaN(x))?0:(x);this.y=(isNaN(x))?0:(y);},calc:function(o,b,c){var d,e,g,r,p,h;if(this.startAngle-this.endAngle+2*Math.PI<1e-9){d=0;e=0;r=this.backgroundWidth/2;g=-this.backgroundWidth/2;h=-this.r;p=this.r;}else{d=Math.sin(this.apexAngle/2)*this.r*o;e=Math.cos(this.apexAngle/2)*-this.r*o;var t=d*Math.cos(this.startAngle)-e*Math.sin(this.startAngle);e=d*Math.sin(this.startAngle)+e*Math.cos(this.startAngle);d=t;var u=e-this.labelHeight/2;var i=e+this.labelHeight/2;g=Math.max(this.calcLeftBorder(d,u),this.calcLeftBorder(d,i),-this.backgroundWidth/2);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))>1e-9&&d>0&&u<=0&&i>=0){g=Math.max(g,0);}if(!this.doesFitHeight(g,u,i,(d<0),true)){g=this.backgroundWidth/2;}r=Math.min(this.calcRightBorder(d,u),this.calcRightBorder(d,i),this.backgroundWidth/2);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))>1e-9&&d<0&&u<=0&&i>=0){r=Math.min(r,0);}if(!this.doesFitHeight(r,u,i,(d<0),false)){r=-this.backgroundWidth/2;}var j=this.calcPerimeterBorder(1,e-this.labelHeight/2);if(j<d){j=this.backgroundWidth/2;}var k=this.calcPerimeterBorder(1,e+this.labelHeight/2);if(k<d){k=this.backgroundWidth/2;}p=Math.min(j,k,r);var m=this.calcPerimeterBorder(-1,e-this.labelHeight/2);if(m>d){m=-this.backgroundWidth/2;}var n=this.calcPerimeterBorder(-1,e+this.labelHeight/2);if(n>d){n=-this.backgroundWidth/2;}h=Math.max(m,n,g);if(isNaN(p)){p=r;}if(isNaN(h)){h=g;}}this.svgBackground.select("line.left").remove();this.svgBackground.select("line.right").remove();this.svgBackground.select("line.perimeterLeft").remove();this.svgBackground.select("line.perimeterRight").remove();if(this.debug){this.svgBackground.append("svg:line").attr("class","left").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",g).attr("x2",g);this.svgBackground.append("svg:line").attr("class","right").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",r).attr("x2",r);this.svgBackground.append("svg:line").attr("class","perimeterLeft").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",h).attr("x2",h);this.svgBackground.append("svg:line").attr("class","perimeterRight").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",p).attr("x2",p);}var q=b;b=Math.min(b,Math.floor(r-g));var x=d;x=Math.max(x,h+b/2);x=Math.min(x,p-b/2);if(x-b/2<h-1e-9||x+b/2>p+1e-9){x=(h+p)/2;}if(d>=0){x=Math.max(x,g+b/2);x=Math.min(x,r-b/2);}else{x=Math.min(x,r-b/2);x=Math.max(x,g-b/2);}var y=e;return{x:x,y:y,labelWidth:b,labelShortened:(b!==q),xSpace:r-g,centroidX:d,centroidY:e,asymmetry:Math.abs(x-d)};},value:function(c,b){if(c.labelWidth<0){return-10000;}if(c.labelWidth<b.labelWidth){return-100;}if(c.labelWidth>b.labelWidth){return(c.labelWidth-b.labelWidth)*1000;}if(b.labelShortened&&c.labelWidth===b.labelWidth){return(c.xSpace-b.xSpace)*100;}return 0;},doesFitHeight:function(b,u,c,i,d){var y=-Math.cos(this.startAngle)*(this.r+this.radiusPadding);var e=-Math.cos(this.endAngle)*(this.r+this.radiusPadding);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){y=-this.backgroundHeight/2;e=this.backgroundHeight/2;}else if(b===0){y=-this.backgroundHeight/2;e=this.backgroundHeight/2;}else if(b>0){if(!this.isStartAngleOnRight()){y=-this.backgroundHeight/2;}else if(b<=Math.sin(this.startAngle)*(this.r+this.radiusPadding)){y=b/-Math.tan(this.startAngle);}if(!this.isEndAngleOnRight()){e=this.backgroundHeight/2;}else if(b<=Math.sin(this.endAngle)*(this.r+this.radiusPadding)){e=b/-Math.tan(this.endAngle);}if(i&&!d&&y>=c){y=-this.backgroundHeight/2;}if(i&&!d&&e<=u){e=this.backgroundHeight/2;}}else{if(this.isStartAngleOnRight()){y=this.backgroundHeight/2;}else if(b>Math.sin(this.startAngle)*(this.r+this.radiusPadding)){y=b/-Math.tan(this.startAngle);}if(this.isEndAngleOnRight()){e=-this.backgroundHeight/2;}else if(b>Math.sin(this.endAngle)*(this.r+this.radiusPadding)){e=b/-Math.tan(this.endAngle);}if(!i&&d&&e>=c){e=-this.backgroundHeight/2;}if(!i&&d&&y<=u){y=this.backgroundHeight/2;}}if(!d){this.svgBackground.selectAll(".rightBorder").remove();if(this.debug){this.svgBackground.append("svg:rect").attr("class","rightBorder").attr("x",b-3).attr("y",y-3).attr("width",6).attr("height",6).style("fill","green");this.svgBackground.append("svg:circle").attr("class","rightBorder").attr("cx",b).attr("cy",e).attr("this.r",3).style("fill","green");}}else{this.svgBackground.selectAll(".leftBorder").remove();if(this.debug){this.svgBackground.append("svg:rect").attr("class","leftBorder").attr("x",b-3).attr("y",y-3).attr("width",6).attr("height",6).style("fill","red");this.svgBackground.append("svg:circle").attr("class","leftBorder").attr("cx",b).attr("cy",e).attr("this.r",3).style("fill","red");}}return(u>=Math.min(y,e)-1e-9&&c<=Math.max(y,e)+1e-9);},calcLeftBorder:function(x,y){var b=-this.backgroundWidth/2;if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){return b;}if(y<=0){if(y>-Math.cos(this.startAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.startAngle)*-y;}}else if(y<-Math.cos(this.endAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.endAngle)*-y;}return b;},calcRightBorder:function(x,y){var b=this.backgroundWidth/2;if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){return b;}if(y>=0){if(-y>Math.cos(this.startAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.startAngle)*-y;}}else if(-y<Math.cos(this.endAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.endAngle)*-y;}return b;},calcPerimeterBorder:function(x,y){var b=(x>0)?this.backgroundWidth/2:-this.backgroundWidth/2;b=Math.sqrt(this.r*this.r-y*y);if(x<0){b*=-1;}return b;},isStartAngleOnRight:function(){return this.startAngle>0&&this.startAngle<=2*Math.PI/360*180;},isEndAngleOnRight:function(){return this.endAngle%(2*Math.PI)<2*Math.PI/360*180;}};return a;})();P.Tweens=(function(){var T={};T.tweenGenSimple=function(d,i,a,b,o,s){var c={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var e={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var j=d3.interpolate(c,e);return function(t){return s(j(t));};};T.tweenGenSimpleText=function(d,i,a,b,o,c,e){var g=" ";if((d.labelElement.childNodes[1])&&(d.labelElement.childNodes[1].childNodes[0])&&(d.labelElement.childNodes[1].childNodes[0].data)){g=d.labelElement.childNodes[1].childNodes[0].data;}var h=new P.Labelposition(c.options.width,c.options.height,d.oldArc.startAngle,d.oldArc.endAngle,c.options.outerRadius,d.labelElement.childNodes[1].getBBox().width,d.labelElement.childNodes[1].getBBox().height,c.svgArcGen(d).centroid(d),g,c.svg);h.update();var k=[h.x,h.y];var m=new P.Labelposition(c.options.width,c.options.height,d.startAngle,d.endAngle,c.options.outerRadius,d.labelElement.childNodes[1].getBBox().width,d.labelElement.childNodes[1].getBBox().height,c.svgArcGen(d).centroid(d),g,c.svg);m.update();if(m.labelWidth<d.labelElement.childNodes[1].getBBox().width){c.adjustLabelWidth(d.labelElement,m.labelWidth);}var n=[m.x,m.y];var j=d3.interpolateArray(k,n);var p=function(q){var t;if(e){t=T.translateStr4Padding(d.startAngle,d.endAngle,c.options.padding4click,q[0],q[1]);}else{t="translate("+q+")";}return t;};return function(t){return p(j(t));};};T.translateStr4Padding=function(s,e,p,x,y){var a=e-s;var b=p*Math.sin(a/2);var c=-(p*Math.cos(a/2));var t=b*Math.cos(s)-c*Math.sin(s);c=b*Math.sin(s)+c*Math.cos(s);b=t;var d="translate("+(x+b)+", "+(y+c)+")";return d;};T.tweenGenEcstasy=function(d,i,a,b,o,s){var c=Math.round((b+o)/2);var e;var g;if(i%2){e=o;g=c;}else{e=c;g=b;}var h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var j={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};var k=d3.interpolate(h,j);h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};var r=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var u=d3.interpolate(h,j);return function(t){if(t<=0.25){return s(k(t*4));}if(t<=0.75){return s(r((t-0.25)*2));}return s(u((t-0.75)*4));};};T.tweenGenLSD=function(d,i,a,b,o,s){var c=Math.round((b+o)/2);var e;var g;if(i%2){e=o;g=c;}else{e=c;g=b;}var h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var j={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};var k=d3.interpolate(h,j);h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.startAngle+(d.oldArc.endAngle-d.oldArc.startAngle),innerRadius:g,outerRadius:e};var m=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.startAngle+(d.oldArc.endAngle-d.oldArc.startAngle),innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};var r=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var u=d3.interpolate(h,j);return function(t){if(t<=0.25){return s(k(t*4));}if(t<=0.5){return s(m((t-0.25)*4));}if(t<=0.75){return s(r((t-0.5)*4));}return s(u((t-0.75)*4));};};return T;})();var l={};l.debug=function(t){};P.prototype={init:function(p,o,a,m){this.application=a;this.parent=p;this.model=m;this.chartElements=[];var b=d3.select(p);var s=$(p).innerHeight();var c=$(p).innerWidth();if(o.height>s){s=o.height;}var r=(Math.min(c,s)/2);this.options={"dimension-pie":"YEAR",backgroundWidth:c,backgroundHeight:s,width:c,height:s,innerRadius:0,outerRadius:r*0.8,tweenGen:P.Tweens.tweenGenSimple,tweenGenText:P.Tweens.tweenGenSimpleText,arcCalculator:P.generateHistoricalArcCalculator(),animationduration:1500,labelHideThreshold:0.05,easing:"linear",pieChartClass:"sap-piechart",pieChartParentClass:"sapUshellSearchFacetPieChart",color:"blue",strokewidth:1,strokewidthHover:3,padding4click:7,multipleselectable:true,oSearchFacetDialog:null};if(o){for(var d in o){this.options[d]=o[d];}}this.createAttributeService(P,"innerRadius",function(){this.init();});this.createAttributeService(P,"outerRadius",function(){this.init();});this.createAttributeService(P,"tweenGen",function(){this.init();});this.createAttributeService(P,"tweenGenText",function(){this.init();});this.createAttributeService(P,"width",function(){this.init();});this.createAttributeService(P,"height",function(){this.init();});this.createAttributeService(P,"animationduration");this.createAttributeService(P,"labelHideThreshold");this.createAttributeService(P,"arcCalculator");var x=Math.round(this.options.width/2);var y=Math.round(this.options.height/2);this.svg=b.append("svg:svg").attr("width",c).attr("height",s).attr("id",p.id+"_svg").append("svg:g").attr("transform","translate("+x+","+y+")");this.svgArcs=this.svg.append("svg:g");this.svgLabels=this.svg.append("svg:g");this.svg.attr("class",this.options.pieChartClass);this.inittween();this.oldArcs=[];this.clickedSegment={};this.firstUpdate=true;},getParent:function(){return this.parent;},createAttributeService:function(c,a,i){c.prototype[a]=function(v){if(v===null){return this.options[a];}else{this.options[a]=v;if(i){i.call(this);}return this;}};},inittween:function(){var t=this;t.xOrigin=Math.round(t.options.width/2);t.yOrigin=Math.round(t.options.height/2);t.svg.attr("width",this.options.width).attr("height",this.options.height);this.tweenGenArc=function(d,i,a){return t.options.tweenGen(d,i,a,t.options.innerRadius,t.options.outerRadius,t.svgArcGen(d));};this.tweenGenText=function(d,i,a,b){return t.options.tweenGenText(d,i,a,t.options.innerRadius,t.options.outerRadius,t,b);};},update:function(d){this.notAnimatedUpdate(d);},notAnimatedUpdate:function(a){var t=this;var b=[];if(!a){return;}this.chartElements=a;t.svgArcs.selectAll("path").remove();t.svgLabels.selectAll("g").remove();var c=0;for(var i=0;i<a.length;++i){c+=a[i].value;}for(var j=0;j<a.length;++j){a[j].percentage=a[j].value/c;}b=this.options.arcCalculator.calculateNewArcsOnly(a);var s=this.svgArcs.selectAll("path").data(b,P.getIdOfArc);if(!s.exit().empty()){s.exit().remove();}if(!s.empty()){s.attr("d",function(d){var p=t.svgArcGen(d);return p(d);}).attr("transform",function(d){var e;if(d.data.selected){e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);}else{e="translate(0,0)";}return e;}).style("stroke",function(d){var e;if(d.data.stroke==="none"){e=d.data.stroke;}else if(d.data.selected||d.data.hovered){e="#dadada";}else{e="white";}return e;}).style("stroke-width",function(d){var e;if(d.data.selected||d.data.hovered){e=t.options.strokewidthHover;}else{e=t.options.strokewidth;}return e;}).style("opacity",function(d){var o;if(d.data.selected||d.data.hovered){o="1";}else if(d.data.initial){o="0.75";}else{o="0.5";}return o;}).each(function(d,i){while(this.hasChildNodes()){this.removeChild(this.lastChild);}d3.select(this).append("svg:title").text(""+d.data.tooltip);});}s.enter().append("svg:path").attr("transform",function(d){var e;if(d.data.selected){t.clickedSegment[d.data.id]=this;e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);}return e;}).attr("shape-rendering","geometricPrecision").attr("tabindex","0").style("stroke",function(d){var e;if(d.data.stroke==="none"){e=d.data.stroke;}else if(d.data.selected||d.data.hovered){e="#dadada";}else{e="white";}return e;}).style("stroke-width",function(d){var e;if(d.data.selected||d.data.hovered){e=t.options.strokewidthHover;}else{e=t.options.strokewidth;}return e;}).style("opacity",function(d){var o;if(d.data.selected||d.data.hovered){o="1";}else if(d.data.initial){o="0.75";}else{o="0.5";}return o;}).attr("fill",function(d,i){return d.data.fill;}).on("keydown",function(d,i){var e=d3.event;var h=e.keyCode||e.which;if(h==32){e.target.__onclick();}}).on("click",function(d,i){var e;var h=d.data.selected;if((d.data.click)&&(d.data.pieupdateuionly===false)){var r=d.data.click(d,i);if((!t.options.multipleselectable)&&(!r)){return;}}var k,m;var n;var o=t.getLabelElementtbyLabel(d.data.label);if(o){var p=" ";if((o.childNodes[1])&&(o.childNodes[1].childNodes[0])&&(o.childNodes[1].childNodes[0].data)){p=o.childNodes[1].childNodes[0].data;}n=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,o.childNodes[1].getBoundingClientRect().width,o.childNodes[1].getBoundingClientRect().height,t.svgArcGen(d).centroid(d),p,t.svg);n.update();if(n.labelWidth<o.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(o,n.labelWidth);}}if(h){if((!t.options.multipleselectable)&&(Object.keys(t.clickedSegment).length>0)){delete t.clickedSegment[d.data.id];}d.data.selected=false;k="translate(0,0)";if(o){m="translate("+n.x+","+n.y+")";}if(t.options.oSearchFacetDialog){e={};e.cnt=t.getNumberOfClickedSegments();e.dataObject=d.data;e.model=t.model;t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{t.model.removeFilterCondition(d.data.filterCondition,true);}}else{if(!t.options.multipleselectable){if(Object.keys(t.clickedSegment).length>0){for(var q in t.clickedSegment){var u=t.clickedSegment[q];if(typeof u.__onclick==="function"){u.__data__.data.pieupdateuionly=true;u.__onclick.apply(u);}delete t.clickedSegment[q];}}if(Object.keys(t.clickedSegment).length<1){t.clickedSegment[d.data.id]=(this);}}d.data.selected=true;k=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);if(o){m=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,n.x,n.y);}if(d.data.filterCondition){if(t.options.oSearchFacetDialog){e={};e.cnt=t.getNumberOfClickedSegments();e.dataObject=d.data;e.model=t.model;t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{t.model.addFilterCondition(d.data.filterCondition,true);}}}d3.select(this).transition().duration(1000).ease(d3.ease("elastic")).attr("transform",k).style("stroke",function(d){var w;if(d.data.stroke==="none"){w=d.data.stroke;}else if(d.data.selected){w="#dadada";}else{w="white";}return w;}).style("stroke-width",function(d){var w;if(d.data.selected){w=t.options.strokewidthHover;}else{w=t.options.strokewidth;}return w;}).style("opacity",function(d){var w;if(d.data.selected||d.data.hovered){w="1";}else if(d.data.initial){w="0.75";}else{w="0.5";}return w;});var v=t.getLabelElementtbyLabel(d.data.label);if(v){d3.select(v).transition().duration(1000).ease(d3.ease("elastic")).attr("transform",m);}}).on("mouseover",function(d,i){if((!t.options.multipleselectable)&&(Object.keys(t.clickedSegment).length>0)){return;}if(d.data.selected||d.data.hovered){return;}if(d.data.mouseover){var r=d.data.mouseover(d,i);if((!t.options.multipleselectable)&&(!r)){return;}}}).on("mouseout",function(d,i){if((!t.options.multipleselectable)&&(Object.keys(t.clickedSegment).length>0)){return;}if(d.data.selected){return;}if(d.data.mouseout){var r=d.data.mouseout(d,i);if((!t.options.multipleselectable)&&(!r)){return;}}}).attr("d",function(d){var p=t.svgArcGen(d);return p(d);}).append("svg:title").text(function(d){return""+d.data.tooltip;});s=t.svgLabels.selectAll("g").data(b,P.getIdOfArc);if(!s.exit().empty()){s.exit().remove();}if(!s.empty()){s.style("opacity",function(d){if(d.removed||d.data.percentage<t.options.labelHideThreshold){return 0;}else{return 1;}}).attr("transform",function(d){var e;var h;if((this.childNodes[1])&&(this.childNodes[1].childNodes[0])){h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d),d.data.label,t.svg);}else{h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d)," ",t.svg);}h.update();if(h.labelWidth<this.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(this,h.labelWidth);}if(d.data.selected){e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,h.x,h.y);}else{e="translate("+h.x+","+h.y+")";}return e;});}if(!s.enter().empty()){var g=s.enter().append("svg:g").style("opacity",0);g.append("svg:text").attr("class","labelshadow").attr("text-anchor","middle").text(function(d){return""+d.data.label;}).style("pointer-events","none");g.append("svg:text").attr("class","label").attr("text-anchor","middle").text(function(d){return""+d.data.label;}).style("pointer-events","none");g.style("opacity",function(d){if(d.removed||d.data.percentage<t.options.labelHideThreshold){return 0;}else{return 1;}}).attr("transform",function(d){var e;var h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d),d.data.label,t.svg);h.update();if(h.labelWidth<this.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(this,h.labelWidth);}if(d.data.selected){e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,h.x,h.y);}else{e="translate("+h.x+","+h.y+")";}return e;});}t.oldArcs=P.removeDeletedArcs(b);},getNumberOfClickedSegments:function(){var c=0;var a=this.chartElements;for(var i=0;i<a.length;i++){if(a[i].selected===true){c++;}}return c;},adjustLabelWidth:function(e,t){var s=e.childNodes[0];var a=e.childNodes[1];if(t<=0){s.childNodes[0].data='';a.childNodes[0].data='';return;}var b=s.childNodes[0].data.length;s.childNodes[0].data+="...";var c="";while(s.getBBox().width>t){c=s.childNodes[0].data;c=c.substr(0,b-1)+c.substr(b,3);s.childNodes[0].data=c;b--;if(b<=0){s.childNodes[0].data='';break;}}a.childNodes[0].data=s.childNodes[0].data;},getArcsWithLabel:function(a){var t=this;var b=[];for(var i=0;i<a.length;++i){var c=a[i];if(c.data.percentage>t.options.labelHideThreshold){b.push(c);}}return b;},svgArcGen:function(d){var t=this;var a=d3.svg.arc().innerRadius(function(d){return t.options.innerRadius;}).outerRadius(function(d){return t.options.outerRadius;}).startAngle(function(d){return d.startAngle;}).endAngle(function(d){return d.endAngle;});return a;},getArcElementtbyLabel:function(a){var t=this;t.svgArcs.selectAll("g").each(function(d,i){if(d.data.label===a){t=this;}return;});return t;},getLabelElementtbyLabel:function(a){var t=this;t.svgLabels.selectAll("g").each(function(d,i){if(d.data.label===a){t=this;}});return t;}};P.removeDeletedArcs=function(a){var t=[];for(var i=0;i<a.length;++i){var b=a[i];if(!b.removed){t.push(b);}}return t;};P.createZeroArc=function(a,e){return{startAngle:a,endAngle:a,data:e,removed:true};};P.insertAfter=function(a,i,b){var n;if(i>=0){var c=a[i];n=P.createZeroArc(c.endAngle,b.data);}else{n=P.createZeroArc(0,b.data);}n.oldArc=b;a.splice(i+1,0,n);};P.getIdOfArc=function(a){return a.data.id;};P.arcsGen=d3.layout.pie().value(function(d){return d.value;}).sort(null);P.getIndexById=function(a,b){for(var i=0;i<a.length;++i){var c=a[i];if(P.getIdOfArc(c)===b){return i;}}return null;};P.add2arcSequence=function(d,a){if(f()){var b=function(x){a.getIndex(x.id);};d.forEach(b);}return d;};P.translateStr4Padding=function(s,e,p,x,y){var a=e-s;var b=p*Math.sin(a/2);var c=-(p*Math.cos(a/2));var t=b*Math.cos(s)-c*Math.sin(s);c=b*Math.sin(s)+c*Math.cos(s);b=t;var d="translate("+(x+b)+", "+(y+c)+")";return d;};P.Sequence=function(){this.init.apply(this,arguments);};P.Sequence.prototype={init:function(){this.maxIndex=0;this.objectMap={};},getIndex:function(o){var i=this.objectMap[o];if(typeof i!=='undefined'){return i;}i=this.maxIndex;this.maxIndex++;this.objectMap[o]=i;return i;}};P.generateDefaultArcCalculator=function(){return new P.DefaultArcCalculator();};P.DefaultArcCalculator=function(){this.init.apply(this,arguments);};P.DefaultArcCalculator.prototype={init:function(){this.arcSequence=new P.Sequence();},calculateNewArcsOnly:function(d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);d.sort(function(a,b){return t.arcSequence.getIndex(a.id)-t.arcSequence.getIndex(b.id);});var n=P.arcsGen(d);return n;},calculateArcs:function(o,d){var n=P.arcsGen(d);this.insertMissingArcs(o,n,true);this.insertMissingArcs(n,o,false);return n;},insertMissingArcs:function(a,b,i){var c=-1;for(var d=0;d<b.length;++d){var e=b[d];var g=P.getIndexById(a,e.data.id);var h;if(g!==null){h=a[g];h.oldArc=e;c=g;continue;}else{if(i){c=this.determineInsertIndex(a,c,b,d);}var n;if(c>=0){var j=a[c];n=P.createZeroArc(j.endAngle,e.data);}else{n=P.createZeroArc(0,e.data);}n.oldArc=e;a.splice(c+1,0,n);c++;}}},determineInsertIndex:function(a,b,c,d){var e=c[d];var s=this.arcSequence.getIndex(e.data.id);var i;for(i=b+1;i<a.length;++i){var g=this.arcSequence.getIndex(a[i].data.id);if(g>s){break;}if(P.getIndexById(c,a[i].data.id)!==null){break;}}return i-1;}};P.generateHistoricalArcCalculator=function(){return new this.HistoricalArcCalculator();};P.HistoricalArcCalculator=function(){this.init.apply(this,arguments);};P.HistoricalArcCalculator.prototype={init:function(){this.arcSequence=new P.Sequence();},calculateNewArcsOnly:function(d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);d.sort(function(a,b){return t.arcSequence.getIndex(a.id)-t.arcSequence.getIndex(b.id);});var n=P.arcsGen(d);return n;},calculateArcs:function(o,d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);d.sort(function(a,b){return t.arcSequence.getIndex(a.id)-t.arcSequence.getIndex(b.id);});var n=P.arcsGen(d);this.insertMissingArcs(o,n);this.insertMissingArcs(n,o);return n;},insertMissingArcs:function(a,b){var t=this;var c=0;for(var d=0;d<b.length;++d){var e=b[d];var g=t.arcSequence.getIndex(e.data.id);var h;var i=false;for(;c<a.length;++c){h=a[c];var j=t.arcSequence.getIndex(h.data.id);if(j===g){i=true;break;}if(j>g){break;}}if(i){h.oldArc=e;}else{var n;if(c-1>=0&&c-1<a.length){var k=a[c-1];n=P.createZeroArc(k.endAngle,e.data);}else{n=P.createZeroArc(0,e.data);}a.splice(c,0,n);n.oldArc=e;}c++;}}};R.write("</div>");C.PieChart=P;},getFacetIndexById:function(c){var a=-1;var t=$("#"+c).parent().parent().parent().parent().parent()[0];var b=t.id;var d=$(".sapUshellSearchFacetIconTabBar");for(var i=0;i<d.length;i++){var e=d[i].id;if(e===b){a=i;break;}}return a;},getFacetIndexByIdForLargePieChart:function(c){var a=-1;var t=$("#"+c).parent().parent()[0];var b=t.id;var d=$(".searchFacetLargeChartContainer");for(var i=0;i<d.length;i++){var e=d[i].id;if(e===b){a=i;break;}}return a;},getPieChartIndexByFacetIndex:function(f){var s;var a=-1;var p=0;for(var i=0;i<f;i++){s=$($(".sapUshellSearchFacetIconTabBar")[i]).find(".sapMLIBContent")[1].firstChild.id;if(s.match(/pieChart/)!==null){p++;}}a=p;return a;},getSumSelected:function(d){var a;var b=0;if(d){for(var i=0;i<d.length;i++){if(d[i].facetType==="attribute"){for(var j=0;j<d[i].items.length;j++){a=d[i].items[j].value;if(a&&d[i].items[j].selected){b+=a;}}}}}return b;},getDataForPieChart:function(d,m){var r=[];var g=[];var a={};var b=0;var c="";var s=m.oData.count;var o=s;var p=0;this.iMissingCnt=0;for(var i=0;i<d.length;i++){if(d[i].facetType==="attribute"){if(d[i].totalCount){o=d[i].totalCount;}g=[];p=0;for(var j=0;j<d[i].items.length;j++){a={};b=d[i].items[j].value;if(b){c=""+b;p+=b;a.filterCondition=d[i].items[j].filterCondition;a.dimension=d[i].items[j].facetTitle;a.label=d[i].items[j].label;a.selected=d[i].items[j].selected;a.filterLabel=d[i].items[j].label;a.id=d[i].items[j].label;a.value=b;a.valueLabel=d[i].items[j].valueLabel;if(c){a.tooltip=d[i].items[j].label+": "+b;}else{a.tooltip=d[i].items[j].label;}a.filtered=false;a.removed=false;a.fill="#007CAA";a.maxLabelLength=30;g.push(a);}else{this.iMissingCnt++;}}var e=Math.round((p/o)*100);var f=(100-e);if(f>0){if(f===100){f=99;}var h=(18*p)/350;var l=""+f;a={};a.filterCondition=null;a.dimension="";a.label=l;a.id="perc_missing";a.value=h;a.valueLabel=l;a.tooltip=sap.ushell.resources.i18n.getText("facetPieChartOverflowText",[l]);a.filtered=false;a.removed=false;a.fill="transparent";a.stroke="none";a.maxLabelLength=30;g.push(a);}r.push(g);}}return r;},getDataForPieChartLarge:function(d,m){var g=[];var i={};var a=0;var p=0;g=[];p=0;for(var j=0;j<d.length;j++){a=d[j].value;if(a){i={};p+=a;i.filterCondition=d[j].filterCondition;i.dimension=d[j].facetAttribute;i.label=d[j].label;i.selected=d[j].selected;i.filterLabel=d[j].label;i.id=d[j].label;i.value=a;i.valueLabel=d[j].valueLabel;i.tooltip=d[j].label+"\t: "+a;i.filtered=false;i.removed=false;i.fill="#007CAA";i.maxLabelLength=30;g.push(i);}}return g;},directUpdate:function(d,p,m,o){var c,a,b;var f=[];var e=20;a=null;b=this.getModel();if(!b){b=this.oParent.getModel();}o.pieChartParentClass="sapUshellSearchFacetPieChartLarge";o.height=o.relevantContainerHeight;o.labelHideThreshold=0.000001;$(p).parent().parent().height(o.height);o.width=$(p).parent().parent().width();this.chartElements=this.getDataForPieChartLarge(d,m);c=new this.PieChart(p,o,a,b);for(var i=0;i<e;i++){if(this.chartElements[i]){f.push(this.chartElements[i]);}}c.update(f);},onAfterRendering:function(){var t=this;var d,c,a,m,b,p,f;var o={};b=null;m=this.getModel();if(!m){m=this.oParent.oModels.facets;}if(m){p=$("#"+this.sId)[0];if($(p).parent()[0].className==="sapMLIBContent"){o.pieChartParentClass="sapUshellSearchFacetPieChart";f=this.getFacetIndexById(this.sId);p.className=o.pieChartParentClass;d=this.getDataForPieChart(m.oData.facets,m);c=d[f];a=new this.PieChart(p,o,b,m);a.update(c);if(t.iMissingCnt>0){var i=$(this.getDomRef()).closest(".sapUshellSearchFacetIconTabBar").find(".sapUshellSearchFacetInfoZeile")[0];var I=sap.ui.getCore().byId(i.id);var e=sap.ushell.resources.i18n.getText("infoZeileNumberMoreSelected",[t.iMissingCnt]);I.setText(e);}}else if($(p)[0].className==="largeChart2piechart"){$(p).attr("tabindex","0");}}}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchFacetTabBar.js":function(){(function(){"use strict";jQuery.sap.require('sap.m.GroupHeaderListItemRenderer');jQuery.sap.require('sap.m.ButtonRenderer');sap.m.Button.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDown',{renderer:'sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDownRenderer'});sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDownRenderer=jQuery.extend(true,{},sap.m.ButtonRenderer);sap.m.GroupHeaderListItemRenderer.extend('sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer');sap.m.GroupHeaderListItem.extend('sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItem',{renderer:'sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer',metadata:{properties:{button:{type:"control",defaultValue:null},upperCase:{type:"boolean",group:"Appearance",defaultValue:false}}}});sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer.renderCounter=function(r,l){var b=l.getButton();if(b){this.renderCounterContent(r,l,b);}};sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer.renderCounterContent=function(r,l,b){r.write('<div>');r.renderControl(b);r.write('</div>');};sap.m.SegmentedButtonItem.extend('my.SegmentedButtonItem',{aggregations:{"content1":{type:"sap.ui.core.Control",multiple:false}}});sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBar',{metadata:{properties:{"eshRole":"string","headerText":"string","selectedButtonParameters":{type:"object",defaultValue:null}},aggregations:{items:{type:"sap.m.IconTabFilter",multiple:true}}},getSearchFacetTabBarAndDimensionById:function(b){var r={};r.index=0;var a=document.getElementById(b);var v=a.dataset.facetView;var c=a.dataset.facetViewIndex;var d=$("#"+b).parent()[0];var e=d.dataset.facetDimension;var f=$(".sapUshellSearchFacetTabBar");for(var i=0;i<f.length;i++){var g=$(".sapUshellSearchFacetTabBar .sapUshellSearchFacetTabBarHeader")[i];var h=g.dataset.facetDimension;if(h===e){r.index=i;r.control=sap.ui.getCore().byId(f[i].id);r.view=v;r.buttonIndex=c;r.dimension=e;break;}}return r;},storeClickedTabInformation:function(e){var s,a,b,d,c;var t=e.getSource().sId;var f=this.getSearchFacetTabBarAndDimensionById(t);var p=f.control.getModel().getPersonalizationStorageInstance().getItem("search-facet-panel-chart-state");s=f.dimension;a=f.control;b=f.view;c=f.buttonIndex;d=a.getBindingContext().getObject().dimension;var g=e.getParameters().id;var h=[];var o={};o.tabId=t;o.searchFacetTabBarIndex=f.searchFacetTabBarIndex;o.buttonId=g;o.buttonIndex=c;o.dimension=d;o.view=b;h.push(o);if(p&&Object.prototype.toString.call(p)==='[object Array]'){for(var i=0;i<p.length;i++){var j=p[i];if(j.dimension!==s){h.push(j);}}}f.control.getModel().getPersonalizationStorageInstance().setItem("search-facet-panel-chart-state",h);a.getBindingContext().getObject().chartIndex=c;},renderer:function(r,c){function a(x,T){return function(y){var d;var z=$(this.getDomRef()).closest(".sapUshellSearchFacetTabBar")[0];var E=sap.ui.getCore().byId($(z).attr("id"));var J=new sap.ushell.renderers.fiori2.search.SearchFacetDialogModel();J.setData(c.getModel().getData());J.prepareFacetList();if(E&&E.getBindingContext()&&E.getBindingContext().getObject()&&E.getBindingContext().getObject().dimension){d=E.getBindingContext().getObject().dimension;}var K=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog({selectedAttribute:d,selectedTabBarIndex:x,tabBarItems:T});K.setModel(J);K.setModel(c.getModel(),'searchModel');K.open();var P=c.getParent().getParent().getParent().getParent();P.oFacetDialog=K;};}r.write("<div ");r.writeControlData(c);r.addClass("sapUshellSearchFacetTabBar");r.writeClasses();r.write('>');var d=c.getBindingContext().getObject().dimension;var b=c.getBindingContext().getObject().dataType;var t=c.getBindingContext().getObject().title;var e;var s;e=c.getModel().getPersonalizationStorageInstance().getItem("search-facet-panel-chart-state");if(e&&Object.prototype.toString.call(e)==='[object Array]'){for(var k=0;k<e.length;k++){if(e[k].dimension===d){s=e[k];break;}}}var f=[];var g=[];var C=null;var B=null;var h=0;if(s&&s.buttonIndex){h=s.buttonIndex;h=parseInt(h,10);}if(b!="text"){h=0;}c.getBindingContext().getObject().chartIndex=h;var j=c.getItems();var D=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDown({icon:j[h].getIcon(),type:'Transparent'});for(var i=0;i<j.length;i++){C=j[i].getContent()[0];B=new sap.m.Button({text:j[i].getText(),icon:j[i].getIcon(),press:function(E){c.storeClickedTabInformation(E);c.setSelectedButtonParameters(E.getParameters());}});B.data("facet-view",j[i].getText(),true);B.data("facet-view-index",""+i,true);B.data("dimension",d,true);f.push(B);g.push(C);}var A=new sap.m.ActionSheet({showCancelButton:false,buttons:f,placement:sap.m.PlacementType.Bottom,cancelButtonPress:function(x){jQuery.sap.log.info("sap.m.ActionSheet: cancelButton is pressed");},afterClose:function(x){var y=this;window.setTimeout(function(){var d=y.getFocusDomRef().getAttribute('data-facet-dimension');var z=$(".sapUshellSearchFacetTabBarButton");for(var i=0;i<z.length;i++){var E=z[i];var J=E.parentNode.parentNode.getAttribute('data-facet-dimension');if(J===d){E.focus();break;}}},100);jQuery.sap.log.info("=====================");jQuery.sap.log.info("sap.m.ActionSheet: closed");}});A.data("facet-dimension",d,true);D.addStyleClass("sapUshellSearchFacetTabBarButton");var l=j[h].getText();var m=sap.ushell.resources.i18n.getText('displayAs',[l]);D.setTooltip(m);D.attachPress(function(E){A.openBy(this);});if(c.getHeaderText()){var H=new sap.m.List({});H.setShowNoData(false);H.setShowSeparators(sap.m.ListSeparators.None);H.data("sap-ui-fastnavgroup","false",true);var F=false;var n=c.getModel().getProperty("/uiFilter/defaultConditionGroup");if(n&&n.conditions&&n.conditions.length>0){F=true;}else{F=false;}var R=new sap.m.Button({icon:"sap-icon://clear-filter",tooltip:sap.ushell.resources.i18n.getText("resetFilterButton_tooltip"),type:'Transparent',enabled:F,press:function(E){c.getModel().resetFilterConditions(true);}});R.addStyleClass("sapUshellSearchFilterByResetButton");var L=new sap.m.Title({text:c.getHeaderText()});L.addStyleClass("sapUshellSearchFilterByResetButtonLabel");var S=new sap.m.ToolbarSpacer();var o=new sap.m.Toolbar({content:[L,S,R]});o.data("sap-ui-fastnavgroup","false",true);H.setHeaderToolbar(o);r.renderControl(H);}var p=new sap.m.CustomListItem({content:g[h]});p.setModel(c.getModel(),'facets');var G;if(b==="text"){G=new sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItem({title:t,button:D});}else{G=new sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItem({title:t});}G.data("facet-dimension",d,true);G.addStyleClass("sapUshellSearchFacetTabBarHeader");var q=new sap.m.Link({text:sap.ushell.resources.i18n.getText("showMore"),press:a(h,j)});q.setModel(c.getModel("i18n"));q.addStyleClass('sapUshellSearchFacetShowMoreLink');var I=new sap.m.Label({text:""});I.addStyleClass('sapUshellSearchFacetInfoZeile');var u=new sap.m.VBox({items:[I,q]});var v=new sap.m.CustomListItem({content:u,visible:{parts:[{path:'/uiFilter/dataSource'}],formatter:function(x){return x.getType().toLowerCase()!=="category";}}});v.addStyleClass('sapUshellSearchFacetShowMoreItem');var w=new sap.m.List({showSeparators:sap.m.ListSeparators.None,items:[G,p,v]});w.data("sap-ui-fastnavgroup","false",true);w.setModel(c.getModel());r.renderControl(w);c.getItems()[h].addContent(g[h]);r.write("</div>");},onAfterRendering:function(){}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchFieldGroup.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchSelect');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchInput');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchButton');sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup",{metadata:{properties:{"selectActive":{defaultValue:true,type:"boolean"},"inputActive":{defaultValue:true,type:"boolean"},"buttonActive":{defaultValue:true,type:"boolean"},"cancelButtonActive":{defaultValue:true,type:"boolean"}},aggregations:{"_flexBox":{type:"sap.m.FlexBox",multiple:false,visibility:"hidden"}}},constructor:function(){sap.ui.core.Control.prototype.constructor.apply(this,arguments);var t=this;t.initSelect();t.initInput();t.initButton();t.initCancelButton();t.initFlexBox();},setCancelButtonActive:function(a){if(a===this.getProperty('cancelButtonActive')){return;}this.setProperty('cancelButtonActive',a);this.initFlexBox();},initFlexBox:function(){if(!this.select){return;}var a=[];if(this.getSelectActive()){this.select.setLayoutData(new sap.m.FlexItemData({growFactor:0}));a.push(this.select);}if(this.getInputActive()){this.input.setLayoutData(new sap.m.FlexItemData({growFactor:1}));a.push(this.input);}if(this.getButtonActive()){this.button.setLayoutData(new sap.m.FlexItemData({growFactor:0}));a.push(this.button);}if(this.getCancelButtonActive()){this.cancelButton.setLayoutData(new sap.m.FlexItemData({growFactor:0}));a.push(this.cancelButton);}var f=this.getAggregation('_flexBox');if(!f){f=new sap.m.FlexBox({alignItems:sap.m.FlexAlignItems.Start,items:a});this.setAggregation('_flexBox',f);}else{f.removeAllAggregation('items');for(var i=0;i<a.length;++i){f.addItem(a[i]);}}},initSelect:function(){var t=this;t.select=new sap.ushell.renderers.fiori2.search.controls.SearchSelect(t.getId()+'-select',{});t.select.attachChange(function(){if(t.getAggregation("input")){var i=t.getAggregation("input");i.destroySuggestionRows();}});},initInput:function(){var t=this;t.input=new sap.ushell.renderers.fiori2.search.controls.SearchInput(t.getId()+'-input',{});},initButton:function(){var t=this;t.button=new sap.ushell.renderers.fiori2.search.controls.SearchButton(t.getId()+'-button',{tooltip:"{i18n>searchbox_tooltip}",ariaLabel:"{i18n>searchbox_tooltip}",press:function(e){var m=t.button.getModel();if(t.input.getValue()===""&&m.getDataSource().equals(m.getDefaultDataSource())){return;}m.invalidateQuery();t.input.destroySuggestionRows();t.input.triggerSearch(e);}});},initCancelButton:function(){this.cancelButton=new sap.m.Button({text:'{i18n>cancelBtn}'});this.cancelButton.addStyleClass("sapUshellSearchCancelButton");},setModel:function(m){this.select.setModel(m);this.input.setModel(m);this.button.setModel(m);this.cancelButton.setModel(m);},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass("SearchFieldGroup");r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_flexBox'));r.write('</div>');}});}());
},
	"sap/ushell/renderers/fiori2/search/controls/SearchFilterBar.js":function(){(function(){"use strict";jQuery.sap.require('sap.m.Toolbar');sap.m.Toolbar.extend("sap.ushell.renderers.fiori2.search.controls.SearchFilterBar",{constructor:function(o){var t=this;o=jQuery.extend({},{design:sap.m.ToolbarDesign.Info},o);sap.m.Toolbar.prototype.constructor.apply(t,[o]);t.addStyleClass('sapUshellSearchFilterContextualBar');t.filterFormatter=t.filterFormatter.bind(t);t.filterText=new sap.m.Text({text:{parts:[{path:"/uiFilter/defaultConditionGroup/conditions"},{path:"/facets"}],formatter:t.filterFormatter},tooltip:{parts:[{path:"/uiFilter/defaultConditionGroup/conditions"},{path:"/facets"}],formatter:t.filterFormatter}}).addStyleClass("sapUshellSearchFilterText");t.filterText.setMaxLines(1);t.filterText.clampText();t.addContent(t.filterText);t.addContent(new sap.m.ToolbarSpacer());t.resetButton=new sap.ui.core.Icon({src:"sap-icon://clear-filter",tooltip:sap.ushell.resources.i18n.getText("resetFilterButton_tooltip")}).addStyleClass("sapUshellSearchFilterResetButton");t.addContent(t.resetButton);},filterFormatter:function(c,f){var g=function(a){return a.label;};if(c.length===0){return"";}c=this.sortConditions(c,f);var l=[];for(var i=0;i<c.length;i++){var s=jQuery.map(c[i].conditions,g);l=l.concat(s);}return sap.ushell.resources.i18n.getText("filtered_by",l.join(', '));},sortConditions:function(c,f){var i;var g=function(e,v,l){for(var i=0;i<l.length;++i){if(l[i][e]===v){return i;}}return-1;};var a=function(t,f){for(var i=0;i<f.length;++i){if(f[i].title===t){return f[i];}}return null;};var n=[];for(i=0;i<c.length;++i){n.push(c[i].clone());}c=n;c.sort(function(e,h){return g('title',e.label,f)-g('title',h.label,f);});for(i=0;i<c.length;++i){var b=c[i];var d=a(b.label,f);if(!d){continue;}b.conditions.sort(function(e,h){return g('label',e.label,d.items)-g('label',h.label,d.items);});}return c;},renderer:'sap.m.ToolbarRenderer',onAfterRendering:function(){var t=this;t.resetButton.attachPress(function(){t.getModel().resetFilterConditions(true);});var $=jQuery('.sapUshellSearchFilterText');$.attr('aria-label',sap.ushell.resources.i18n.getText("filtered_by_aria_label"));}});}());
},
	"sap/ushell/renderers/fiori2/search/controls/SearchInput.js":function(){(function(){"use strict";jQuery.sap.require('sap.m.Input');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchConfiguration');var c=sap.ushell.renderers.fiori2.search.SearchConfiguration.getInstance();c.getSina();var a=window.sinabase;sap.m.Input.extend('sap.ushell.renderers.fiori2.search.controls.SearchInput',{constructor:function(i,o){var t=this;o=jQuery.extend({},{width:'100%',showValueStateMessage:false,showTableSuggestionValueHelp:false,enableSuggestionsHighlighting:false,showSuggestion:true,filterSuggests:false,suggestionColumns:[new sap.m.Column({})],placeholder:{path:'/searchTermPlaceholder',mode:sap.ui.model.BindingMode.OneWay},liveChange:this.handleLiveChange.bind(this),suggestionItemSelected:this.handleSuggestionItemSelected.bind(this)},o);var p=sap.ui.Device.system.phone;sap.ui.Device.system.phone=false;sap.m.Input.prototype.constructor.apply(this,[i,o]);sap.ui.Device.system.phone=p;this.bindAggregation("suggestionRows","/suggestions",function(i,C){return t.suggestionItemFactory(i,C);});this.addStyleClass('searchInput');this._bUseDialog=false;this._bFullScreen=false;this._ariaDescriptionIdNoResults=i+"-No-Results-Description";},renderer:'sap.m.InputRenderer',onsapenter:function(e){if(!(this._oSuggestionPopup&&this._oSuggestionPopup.isOpen()&&this._iPopupListSelectedIndex>=0)){this.getModel().invalidateQuery();this.triggerSearch(e);}sap.m.Input.prototype.onsapenter.apply(this,arguments);},triggerSearch:function(e){var t=this;s.subscribeOnlyOnce('triggerSearch','allSearchFinished',function(){t.getModel().autoStartApp();},t);var b=t.getValue();if(b.trim()===''){b='*';}t.getModel().setSearchBoxTerm(b,false);t.navigateToSearchApp();t.destroySuggestionRows();t.getModel().abortSuggestions();},handleLiveChange:function(e){var b=this.getValue();var m=this.getModel();m.setSearchBoxTerm(b,false);if(m.getSearchBoxTerm().length>0){m.doSuggestion();}else{this.destroySuggestionRows();m.abortSuggestions();}},handleSuggestionItemSelected:function(e){var m=this.getModel();var b=m.getSearchBoxTerm();var d=e.getParameter('selectedRow').getBindingContext().getObject();var f=d.labelRaw;var g=d.dataSource;var t=d.url;var h=d.type;m.eventLogger.logEvent({type:m.eventLogger.SUGGESTION_SELECT,suggestionType:h,suggestionTitle:d.title,suggestionTerm:''+f,searchTerm:b,targetUrl:t,dataSourceKey:g.key});switch(h){case a.SuggestionType.APPS:if(t[0]==='#'){if(window.hasher){window.hasher.setHash(t);}else{window.location.href=t;}}else{window.open(t,'_blank');m.setSearchBoxTerm('',false);this.setValue('');this.focus();}break;case a.SuggestionType.DATASOURCE:m.setDataSource(g,false);m.setSearchBoxTerm('',false);this.setValue('');this.focus();break;case a.SuggestionType.OBJECTDATA:m.setDataSource(g,false);m.setSearchBoxTerm(f,false);this.navigateToSearchApp();this.setValue(f);break;case a.SuggestionType.HISTORY:m.setDataSource(g,false);m.setSearchBoxTerm(f,false);this.navigateToSearchApp();this.setValue(f);break;default:break;}},suggestionItemFactory:function(i,C){var t=this;var b=new sap.m.Label({text:{path:"icon",formatter:function(v){if(v){return"<i>"+sap.ushell.resources.i18n.getText("label_app")+"</i>";}return"";}}}).addStyleClass('suggestText').addStyleClass('suggestNavItem').addStyleClass('suggestListItemCell');b.addEventDelegate({onAfterRendering:function(){s.boldTagUnescaper(this.getDomRef());}},b);var d=new sap.ui.core.Icon({src:"{icon}"}).addStyleClass('suggestIcon').addStyleClass('sapUshellSearchSuggestAppIcon').addStyleClass('suggestListItemCell');var l=new sap.m.Label({text:"{label}"}).addStyleClass('suggestText').addStyleClass('suggestNavItem').addStyleClass('suggestListItemCell');l.addEventDelegate({onAfterRendering:function(){s.boldTagUnescaper(this.getDomRef());}},l);var f=new sap.m.CustomListItem({type:sap.m.ListType.Active,content:[b,d,l]});var g=C.oModel.getProperty(C.sPath);f.getText=function(){return(typeof g.labelRaw)==='string'?g.labelRaw:t.getValue();};var h=new sap.m.ColumnListItem({cells:[f],type:"Active"});if(g.type===a.SuggestionType.APPS){if(g.title&&g.title.indexOf("combinedAppSuggestion")>=0){h.addStyleClass('searchCombinedAppSuggestion');}else{h.addStyleClass('searchAppSuggestion');}}if(g.type===a.SuggestionType.DATASOURCE){h.addStyleClass('searchDataSourceSuggestion');}if(g.type===a.SuggestionType.OBJECTDATA){h.addStyleClass('searchBOSuggestion');}if(g.type===a.SuggestionType.HISTORY){h.addStyleClass('searchHistorySuggestion');}h.addStyleClass('searchSuggestion');h.addEventDelegate({onAfterRendering:function(e){var j=h.$().find('.suggestListItemCell');var k=0;j.each(function(m){k+=$(this).outerWidth(true);});if(k>h.$().find('li').get(0).scrollWidth){h.setTooltip($(j[0]).text()+" "+$(j[2]).text());}}});return h;},navigateToSearchApp:function(){if(s.isSearchAppActive()){this.getModel()._firePerspectiveQuery();}else{var h=this.getModel().createSearchURL();window.location.hash=h;}},getAriaDescriptionIdForNoResults:function(){return this._ariaDescriptionIdNoResults;},onAfterRendering:function(e){var b=$(this.getDomRef()).find("#searchFieldInShell-input-inner");$(this.getDomRef()).find('input').attr('autocomplete','off');$(this.getDomRef()).find('input').attr('autocorrect','off');$(this.getDomRef()).find('input').attr('type','search');$(this.getDomRef()).find('input').attr('name','search');var d=jQuery('<form action="" onsubmit="return false;"></form>');$(this.getDomRef()).children('input').parent().append(d);$(this.getDomRef()).children('input').detach().appendTo(d);b.attr("aria-describedby",b.attr("aria-describedby")+" "+this._ariaDescriptionIdNoResults);},onValueRevertedByEscape:function(v){if(s.isSearchAppActive()){return;}this.setValue(" ");}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchLabel.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.m.Label.extend('sap.ushell.renderers.fiori2.search.controls.SearchLabel',{renderer:'sap.m.LabelRenderer',onAfterRendering:function(){var d=this.getDomRef();s.boldTagUnescaperByText(d);s.forwardEllipsis4Whyfound(d);}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchLayout.js":function(){(function(){"use strict";sap.ui.layout.FixFlex.extend("sap.ushell.renderers.fiori2.search.controls.SearchLayout",{metadata:{properties:{isBusy:{type:"boolean",defaultValue:false},showFacets:{type:"boolean",defaultValue:false}},aggregations:{"resultListContainer":{type:"sap.ui.core.Control",multiple:false},"facets":{type:"sap.ui.core.Control",multiple:false},"busyIndicator":{type:"sap.ui.core.Control",multiple:false}}},constructor:function(o,i){var t=this;sap.ui.layout.FixFlex.prototype.constructor.apply(this,[o],i);this.addEventDelegate({onAfterRendering:function(){var $=jQuery(".sapUiFixFlexFixed");if(t.getShowFacets()&&!sap.ui.Device.system.phone){$.addClass('sapUshellSearchFacetPanelOpen');}else{$.removeClass('sapUshellSearchFacetPanelOpen');}}});},getFacets:function(){return this.getFixContent();},setFacets:function(c){this.addFixContent(c);},getResultListContainer:function(){return this.getFlexContent();},setResultListContainer:function(c){this.setFlexContent(c);},setIsBusy:function(i){if(i){this.getBusyIndicator().open();this.busyFlag=true;}else if(this.busyFlag){this.getBusyIndicator().close();this.busyFlag=false;}this.setProperty("isBusy",i,true);},setShowFacets:function(a){var $=jQuery(".sapUiFixFlexFixed");var b=jQuery(".sapUshellSearchResultListsContainer");if(!a){b.removeClass("sapUshellSearchFacetPanelOpen");$.removeClass("sapUshellSearchFacetPanelOpen");$.attr("aria-hidden","true");}else{b.addClass("sapUshellSearchFacetPanelOpen");$.addClass("sapUshellSearchFacetPanelOpen");$.attr("aria-hidden","false");}var h=function(e){sap.ui.getCore().getEventBus().publish("searchLayoutChanged");};$.one("transitionend",h);this.setProperty("showFacets",a,true);return this;},renderer:"sap.ui.layout.FixFlexRenderer"});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchLink.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.m.Link.extend('sap.ushell.renderers.fiori2.search.controls.SearchLink',{renderer:'sap.m.LinkRenderer',onAfterRendering:function(){var d=this.getDomRef();s.boldTagUnescaperByText(d);}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchMultiSelectionControl.js":function(){(function(){"use strict";sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchMultiSelectionControl",{metadata:{properties:{resultList:"object"},aggregations:{actions:"object"}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchResultList-MultiSelectionControl");r.writeClasses();r.write(">");c._renderer(r);r.write("</div>");},_renderer:function(r){var t=this;var e=new sap.m.ToggleButton({icon:"sap-icon://multi-select",tooltip:sap.ushell.resources.i18n.getText("toggleSelectionModeBtn"),press:function(){if(this.getPressed()){t.getResultList.enableSelectionMode();t.getModel().setProperty("/multiSelectionEnabled",true);}else{t.getResultList.disableSelectionMode();t.getModel().setProperty("/multiSelectionEnabled",false);}},visible:false,pressed:{parts:[{path:'/multiSelectionEnabled'}],formatter:function(l){return l>0;},mode:sap.ui.model.BindingMode.OneWay}});e.setModel(t.getModel());e.addStyleClass("sapUshellSearchResultList-toggleMultiSelectionButton");r.renderControl(e);}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchNoResultScreen.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchShellHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchConfiguration');var S=sap.ushell.renderers.fiori2.search.SearchShellHelper;var a=sap.ushell.renderers.fiori2.search.SearchConfiguration;sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchNoResultScreen",{metadata:{properties:{searchBoxTerm:"string"}},renderer:function(r,c){var s=S.getSearchInput();var b=s.getAriaDescriptionIdForNoResults();var e=$('<div>').text(c.getSearchBoxTerm()).html();r.write('<div class="sapUshellSearch-no-result"');r.writeControlData(c);r.write('>');r.write('<div class="sapUshellSearch-no-result-icon">');r.writeIcon(sap.ui.core.IconPool.getIconURI("travel-request"));r.write('</div><div class="sapUshellSearch-no-result-text" role="alert">');r.write('<div ');if(b){r.write('id="'+b+'" ');}r.write('class="sapUshellSearch-no-result-info">'+sap.ushell.resources.i18n.getText("no_results_info",e));r.write('</div>');c.renderAppFinderLink(r,c);r.write('<div class="sapUshellSearch-no-result-tips">'+sap.ushell.resources.i18n.getText("no_results_tips")+'</div> ');r.write('</div></div>');},renderAppFinderLink:function(r,c){if(!a.getInstance().isLaunchpad()){return;}var m=c.getModel();if(!m.getDataSource().equals(m.appDataSource)){return;}var l=sap.ushell.resources.i18n.getText('no_results_link_appfinder','xxxx');var i=l.indexOf('xxxx');var p=l.slice(0,i);var s=l.slice(i+4);r.write('<div class="sapUshellSearch-no-result-info">');r.write(p);var b=new sap.m.Link({text:sap.ushell.resources.i18n.getText('appFinderTitle'),press:function(){var C=sap.ushell.Container.getService('CrossApplicationNavigation');C.toExternal({target:{shellHash:'#Shell-home&/appFinder/catalog'}});}});r.renderControl(b);r.write(s);r.write('</div>');}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchRelatedObjectsToolbar.js":function(){(function(){"use strict";sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar",{metadata:{properties:{navigationObjects:{type:"object",multiple:true}}},init:function(p){this.oCrossAppNav=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchResultListItem-RelatedObjectsToolbar");r.writeClasses();r.write(">");c._renderToolbar(r);r.write("</div>");},_renderToolbar:function(r){var t=this;var i;var c=function(l){return function(){var m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.eventLogger.logEvent({type:m.eventLogger.ITEM_NAVIGATE_RELATED_OBJECT,targetUrl:l});};};var n=t.getNavigationObjects();if(n.length>0){var a=[];for(i=0;i<n.length;i++){var b=n[i];var l=new sap.m.Link({text:b.getText(),href:b.getHref(),layoutData:new sap.m.ToolbarLayoutData({shrinkable:false}),press:c(b.getHref())});var d=b.getTarget();if(d){l.setTarget(d);}l.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Element");a.push(l);}var e=[];var f=new sap.m.ToolbarSpacer();e.push(f);for(i=0;i<a.length;i++){e.push(a[i]);}t.overFlowButton=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI("overflow")});t.overFlowButton.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-OverFlowButton");e.push(t.overFlowButton);t.overFlowSheet=new sap.m.ActionSheet({placement:sap.m.PlacementType.Top});t.overFlowButton.attachPress(function(){t.overFlowSheet.openBy(t.overFlowButton);});t.relatedObjectActionsToolbar=new sap.m.Toolbar({design:sap.m.ToolbarDesign.Solid,content:e});t.relatedObjectActionsToolbar.data("sap-ui-fastnavgroup","false",true);t.relatedObjectActionsToolbar.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Toolbar");r.renderControl(t.relatedObjectActionsToolbar);}},onAfterRendering:function(){var t=this;if(t.overFlowButton){var a=$(t.overFlowButton.getDomRef());a.css("display","none");}$(window).on("resize",function(){t._layoutToolbarElements();});t._layoutToolbarElements();},_layoutToolbarElements:function(){var t=this;if(!(t.getDomRef()&&t.relatedObjectActionsToolbar.getDomRef())){return;}var a=$(t.relatedObjectActionsToolbar.getDomRef());var b=a.innerWidth();if(b===0||(t.toolbarWidth&&t.toolbarWidth===b)){return;}if($(t.getDomRef()).css("display")==="none"||a.css("display")==="none"){return;}t.toolbarWidth=b;var c=$(t.overFlowButton.getDomRef());c.css("display","none");var d=0;var p=function(j,k){k.performNavigation();};var e=a.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar-Element");for(var i=0;i<e.length;i++){var f=$(e[i]);f.css("display","");var _=d+f.outerWidth(true);if(_>b){if(i<e.length){c.css("display","");var o=c.outerWidth(true);for(;i>=0;i--){f=$(e[i]);_-=f.outerWidth(true);if(_+o<=b){break;}}}var n=t.getNavigationObjects();t.overFlowSheet.destroyButtons();for(;i<e.length;i++){f=$(e[i]);f.css("display","none");var g=n[i];var h=new sap.m.Button({text:g.getText()});h.attachPress(g,p);t.overFlowSheet.addButton(h);}break;}d=_;}t._setupItemNavigation();},_setupItemNavigation:function(){var t=this;if(!t.theItemNavigation){t.theItemNavigation=new sap.ui.core.delegate.ItemNavigation();t.addDelegate(t.theItemNavigation);}t.theItemNavigation.setCycling(false);t.theItemNavigation.setRootDomRef(t.getDomRef());var a=[];var c=t.relatedObjectActionsToolbar.getContent();for(var i=0;i<c.length;i++){if(!c[i].hasStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Element")){continue;}if(!$(c[i].getDomRef()).attr("tabindex")){var b="-1";if(c[i].getPressed&&c[i].getPressed()){b="0";}$(c[i].getDomRef()).attr("tabindex",b);}a.push(c[i].getDomRef());}var _=t.overFlowButton.getDomRef();a.push(_);$(_).attr("tabindex","-1");t.theItemNavigation.setItemDomRefs(a);}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchResultList.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.m.List.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultList',{init:function(){this.addStyleClass("searchResultList");},renderer:'sap.m.ListRenderer',onAfterRendering:function(){var t=this;sap.m.List.prototype.onAfterRendering.apply(t,arguments);var m=sap.ushell.renderers.fiori2.search.getModelSingleton();var a=m.getProperty("/multiSelectionEnabled");if(a){t.enableSelectionMode(false);}t._prepareResizeHandler();t.collectListItemsForNavigation();},collectListItemsForNavigation:function(){var t=this;var m=t.getItems();if(m.length===0){return;}var d=function(){t._doCollectListItemsForNavigation();};for(var i=0;i<m.length;i++){var M=m[i];if(M.hasStyleClass("sapUshellSearchResultListItemApps")){var c=M.getContent();if(c.length>0){c[0].addEventDelegate({onAfterRendering:d});}}}t._doCollectListItemsForNavigation();},_doCollectListItemsForNavigation:function(){var t=this;var i,j;var f=t.getDomRef();if(!f){return;}var I=t.getItemNavigation();if(!I){t._startItemNavigation();I=t.getItemNavigation();}if(!I){return;}t._bItemNavigationInvalidated=false;var r=f.getElementsByTagName("li");var d=[];var T=[];for(i=0;i<r.length;i++){var R=r[i];if($(R).hasClass("sapUshellSearchResultListItemApps")){var a=R.getElementsByClassName("sapUshellSearchTileWrapper");for(j=0;j<a.length;j++){var b=s.getFocusableTileDomRef(a[j]);if(!b||$(b).is(":hidden")){continue;}d.push(b);T.push(b);}$(R).removeAttr("tabindex");$(R).removeAttr("role");$(R).attr("aria-hidden","true");}else if($(R).hasClass("sapUshellSearchResultListFooter")){var S=R.getElementsByClassName("sapUshellResultListMoreFooter");for(j=0;j<S.length;j++){d.push(S[j]);T.push(S[j]);}}else if($(R).hasClass("sapUshellSearchResultListItem")){d.push(R);T.push(R);}}if(d.length>0){var c=$(d[0]).closest("ul");var e=c.length>0?c[0]:d[0].parentElement;I.setRootDomRef(e);}I.setItemDomRefs(d);I.setCycling(false);I.setPageSize(10);if(T.length>0){var g=$(T[0]).attr("id");for(i=1;i<T.length;i++){g+=" "+$(T[i]).attr("id");}$(t.getDomRef()).children("[role='listbox']").attr("aria-owns",g);}},_prepareResizeHandler:function(){var t=this;var r=[768,1151];var w=function(){var b=window.innerWidth;if(b<r[0]){return 0;}for(var i=0;i<r.length-1;i++){if(b>=r[i]&&b<r[i+1]){return i+1;}}return r.length;};var l=w();var a=function(e){var c=w();if(c!=l){l=c;var m=t.getItems();for(var i=0;i<m.length;i++){var M=m[i];if(M.getContent()&&M.getContent().length>0&&M.getContent()[0].showOrHideExpandButton){M.getContent()[0].showOrHideExpandButton();}}}};$(window).on("resize",a);},enableSelectionMode:function(a){var t=this;var d=jQuery.Deferred();a=a===undefined?true:a;var b=$(t.getDomRef());if(!a){b.addClass("sapUshellSearchResultList-ShowMultiSelection");d.resolve();return d.promise();}var c=200;var e=b.find(".sapUshellSearchResultListItem-CheckboxExpandContainer");var f=b.find(".sapUshellSearchResultListItem-Attributes");var g=parseFloat(f.css("padding-left"));var h=e.find(".sapUshellSearchResultListItem-CheckboxContainer");var i=h.width();if(!b.hasClass("sapUshellSearchResultList-ShowMultiSelection")){e.css("width","0");e.css("opacity","0");f.css("padding-left",g);b.addClass("sapUshellSearchResultList-ShowMultiSelection");var n=g+i;var j=e.animate({"width":i,"opacity":1},c,function(){$(this).css("width","");$(this).css("opacity","");});var k=f.animate({"padding-left":n},c,function(){$(this).css("padding-left","");});jQuery.when(j,k).done(function(){d.resolve();});}else{d.resolve();}return d.promise();},disableSelectionMode:function(a){var t=this;var d=jQuery.Deferred();a=a===undefined?true:a;var b=$(t.getDomRef());if(!a){b.removeClass("sapUshellSearchResultList-ShowMultiSelection");d.resolve();return d.promise();}var c=200;var e=b.find(".sapUshellSearchResultListItem-CheckboxExpandContainer");var f=b.find(".sapUshellSearchResultListItem-Attributes");var g=parseFloat(f.css("padding-left"));var h=e.find(".sapUshellSearchResultListItem-CheckboxContainer");var i=h.width();if(b.hasClass("sapUshellSearchResultList-ShowMultiSelection")){var n=g-i;var j=e.animate({"width":0,"opacity":0},c).promise();var k=f.animate({"padding-left":n},c).promise();jQuery.when(j,k).done(function(){b.removeClass("sapUshellSearchResultList-ShowMultiSelection");e.css("width","");e.css("opacity","");f.css("padding-left","");d.resolve();});}else{d.resolve();}return d.promise();}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchResultListContainer.js":function(){(function(){"use strict";sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListContainer",{init:function(){this.data("sap-ui-fastnavgroup","true",true);},metadata:{aggregations:{"filterBar":{type:"sap.ui.core.Control",multiple:false},"centerArea":{singularName:"content"},"totalCountBar":{type:"sap.ui.core.Control",multiple:false},"didYouMeanBar":{type:"sap.ui.core.Control",multiple:false},"noResultScreen":{type:"sap.ui.core.Control",multiple:false}}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchResultListsContainer");r.addClass("sapUiResponsiveMargin");if(c.getModel()&&c.getModel().getFacetVisibility()===true){r.addClass("sapUshellSearchFacetPanelOpen");}r.writeClasses();r.write('>');r.renderControl(c.getNoResultScreen());r.renderControl(c.getDidYouMeanBar());r.write('<div class="sapUshellSearchTotalCountBar">');r.renderControl(c.getTotalCountBar());r.write("</div>");for(var i=0;i<c.getCenterArea().length;i++){r.renderControl(c.getCenterArea()[i]);}r.write("</div>");}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchResultListItem.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchText');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchLink');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchNavigationObject');var S=sap.ushell.renderers.fiori2.search.controls.SearchText;var a=sap.ushell.renderers.fiori2.search.controls.SearchLink;var b=sap.ushell.renderers.fiori2.search.SearchHelper;var c=sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar;var n='\u2013';sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListItem",{metadata:{properties:{title:"string",titleUrl:"string",titleNavigation:"object",type:"string",imageUrl:"string",attributes:{type:"object",multiple:true},navigationObjects:{type:"object",multiple:true},selected:"boolean",expanded:"boolean",parentListItem:"object"},aggregations:{_titleLink:{type:"sap.ushell.renderers.fiori2.search.controls.SearchLink",multiple:false,visibility:"hidden"},_typeText:{type:"sap.ushell.renderers.fiori2.search.controls.SearchText",multiple:false,visibility:"hidden"},_selectionCheckBox:{type:"sap.m.CheckBox",multiple:false,visibility:"hidden"},_expandButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_attributeLabels:{type:"sap.m.Label",multiple:true,visibility:"hidden"},_attributeValues:{type:"sap.ushell.renderers.fiori2.search.controls.SearchText",multiple:true,visibility:"hidden"},_attributeValuesWithoutWhyfoundHiddenTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"},_relatedObjectActionsToolbar:{type:"sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar",multiple:false,visibility:"hidden"},_titleLabeledByText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}},init:function(){var t=this;t.setAggregation("_titleLink",new a({}).addStyleClass("sapUshellSearchResultListItem-Title").addStyleClass("sapUshellSearchResultListItem-MightOverflow").attachPress(function(E){var l="";var d=t.getTitleNavigation();if(d){l=d.getHref();}if(l&&l.length>0){try{var m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.eventLogger.logEvent({type:m.eventLogger.ITEM_NAVIGATE,targetUrl:l});}catch(e){}var p=t._getPhoneSize();var w=$(window).width();if(w<=p){E.preventDefault();var f=t.fireNavigate(d);f();}}}));t.setAggregation("_typeText",new S().addStyleClass("sapUshellSearchResultListItem-Category").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));t.setAggregation("_selectionCheckBox",new sap.m.CheckBox({select:function(e){t.setProperty("selected",e.getParameters().selected,true);}}));t.setAggregation("_expandButton",new sap.m.Button({type:sap.m.ButtonType.Transparent,press:function(e){t.toggleDetails();}}));t.setAggregation("_relatedObjectActionsToolbar",new c().addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar"));t.setAggregation("_titleLabeledByText",new sap.ui.core.InvisibleText());},renderer:function(r,C){C._renderer(r);},_renderer:function(r){this._resetPrecalculatedValues();this._renderContainer(r);this._renderAccessibilityInformation(r);},_renderContainer:function(r){var t=this;r.write('<div');r.writeControlData(t);r.addClass("sapUshellSearchResultListItem-Container");r.writeClasses();r.write('>');t._renderContentContainer(r);t._renderExpandButtonContainer(r);r.write('</div>');},_renderContentContainer:function(r){r.write('<div class="sapUshellSearchResultListItem-Content">');this._renderTitleContainer(r);this._renderAttributesContainer(r);r.write('</div>');},_renderExpandButtonContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-ExpandButtonContainer">');r.write('<div class="sapUshellSearchResultListItem-ExpandButton">');var i,d;var e=t.getProperty("expanded");if(e){i=sap.ui.core.IconPool.getIconURI("slim-arrow-up");d=sap.ushell.resources.i18n.getText("hideDetailBtn_tooltip");}else{i=sap.ui.core.IconPool.getIconURI("slim-arrow-down");d=sap.ushell.resources.i18n.getText("showDetailBtn_tooltip");}var f=t.getAggregation("_expandButton");f.setIcon(i);f.setTooltip(d);f.onAfterRendering=function(){sap.m.Button.prototype.onAfterRendering.apply(this,arguments);t.setAriaExpandedState();};r.renderControl(f);r.write('</div>');r.write('</div>');},_renderTitleContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-TitleAndImageContainer">');r.write('<div class="sapUshellSearchResultListItem-TitleContainer">');t._renderCheckbox(r);var d="";var e;var f=t.getTitleNavigation();if(f){d=f.getHref();e=f.getTarget();}var g=t.getAggregation("_titleLink");g.setHref(d);g.setText(t.getTitle());if(e){g.setTarget(e);}if(d.length===0){g.setEnabled(false);}r.renderControl(g);var h=t.getAggregation("_typeText");h.setText(t.getType());r.renderControl(h);r.write('</div>');t._renderImageForPhone(r);r.write('</div>');},_renderCheckbox:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-CheckboxExpandContainer">');r.write('<div class="sapUshellSearchResultListItem-CheckboxContainer">');r.write('<div class="sapUshellSearchResultListItem-CheckboxAlignmentContainer">');var d=t.getAggregation("_selectionCheckBox");var s=t.getProperty("selected");d.setSelected(s);r.renderControl(d);r.write('</div>');r.write('</div>');r.write('</div>');},_renderImageForPhone:function(r){var t=this;if(t.getImageUrl()){r.write('<div class="sapUshellSearchResultListItem-TitleImage">');r.write('<div class="sapUshellSearchResultListItem-ImageContainerAlignmentHelper"></div>');r.write('<img class="sapUshellSearchResultListItem-Image" src="');r.write(t.getImageUrl());r.write('">');r.write('</div>');}},_renderAttributesContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-AttributesExpandContainer');var e=t.getProperty("expanded");if(e){r.write(" sapUshellSearchResultListItem-AttributesExpanded");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-AttributesAndActions">');r.write('<ul class="sapUshellSearchResultListItem-Attributes">');t._renderImageAttribute(r);var i=t.getAttributes();t._renderAllAttributes(r,i);r.write('<div class="sapUshellSearchResultListItem-ExpandSpacerAttribute" aria-hidden="true"></div>');r.write('</ul>');t._renderRelatedObjectsToolbar(r);r.write('</div>');r.write('</div>');},_renderAllAttributes:function(r,d){var t=this;var e;var l;var v;var f;var g,h;var k;var i=0,j=0;var m=12;if(t.getImageUrl()){m--;}t.destroyAggregation("_attributeLabels");t.destroyAggregation("_attributeValues");t.destroyAggregation("_attributeValuesWithoutWhyfoundHiddenTexts");for(;j<m&&i<d.length;i++){e=d[i];if(e.isTitle){continue;}l=e.name;v=e.value;f=e.valueWithoutWhyfound;if(l===undefined||v===undefined){continue;}if(!v||v===""){v=n;}r.write('<li class="sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-MainAttribute">');g=new sap.m.Label();g.setText(l);g.addStyleClass("sapUshellSearchResultListItem-AttributeKey");g.addStyleClass("sapUshellSearchResultListItem-MightOverflow");r.renderControl(g);h=new S();h.setText(v);h.addStyleClass("sapUshellSearchResultListItem-AttributeValue");h.addStyleClass("sapUshellSearchResultListItem-MightOverflow");if(f){k=new sap.ui.core.InvisibleText({});k.setText(f);h.data("tooltippedBy",k.getId(),true);h.onAfterRendering=function(){S.prototype.onAfterRendering.apply(this,arguments);var p=$(this.getDomRef());p.attr("aria-describedby",p.attr("data-tooltippedby"));};t.addAggregation("_attributeValuesWithoutWhyfoundHiddenTexts",k,true);r.renderControl(k);}r.renderControl(h);r.write('</li>');t.addAggregation("_attributeLabels",g,true);t.addAggregation("_attributeValues",h,true);j++;}var o=false;for(;i<d.length;i++){e=d[i];if(!e.whyfound){continue;}l=e.name;v=e.value;f=e.valueWithoutWhyfound;if(l===undefined||v===undefined){continue;}if(!v||v===""){v=n;}r.write('<li class="sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-WhyFoundAttribute">');g=new sap.m.Label();g.setText(l);g.addStyleClass("sapUshellSearchResultListItem-AttributeKey");g.addStyleClass("sapUshellSearchResultListItem-MightOverflow");r.renderControl(g);h=new S();h.setText(v);h.addStyleClass("sapUshellSearchResultListItem-AttributeValue");h.addStyleClass("sapUshellSearchResultListItem-MightOverflow");if(f){k=new sap.ui.core.InvisibleText({});k.setText(f);h.data("tooltippedBy",k.getId(),true);h.onAfterRendering=function(){S.prototype.onAfterRendering.apply(this,arguments);var p=$(this.getDomRef());p.attr("aria-describedby",p.attr("data-tooltippedby"));};t.addAggregation("_attributeValuesWithoutWhyfoundHiddenTexts",k,true);r.renderControl(k);}r.renderControl(h);r.write('</li>');t.addAggregation("_attributeLabels",g,true);t.addAggregation("_attributeValues",h,true);o=true;}if(o){r.write('<div class="sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-WhyFoundSpacerAttribute" aria-hidden="true"></div>');}},_renderImageAttribute:function(r){var t=this;if(!t.getImageUrl()){return;}r.write('<div class="sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-ImageAttribute');if(!t.getImageUrl()){r.write(' sapUshellSearchResultListItem-ImageAttributeHidden');}r.write('">');r.write('<div class="sapUshellSearchResultListItem-ImageContainer">');if(t.getImageUrl()){r.write('<img class="sapUshellSearchResultListItem-Image" src="');r.write(t.getImageUrl());r.write('">');}r.write('<div class="sapUshellSearchResultListItem-ImageContainerAlignmentHelper"></div>');r.write('</div>');r.write('</div>');},_renderRelatedObjectsToolbar:function(r){var t=this;var d=t.getNavigationObjects();if(!d||d.length===0){return;}t._showExpandButton=true;var e=t.getAggregation("_relatedObjectActionsToolbar");e.setProperty("navigationObjects",d);r.renderControl(e);},_renderAccessibilityInformation:function(r){var t=this;var p=t.getProperty("parentListItem");if(p){var l=t.getTitle()+", "+t.getType();var d=t.getAggregation("_titleLabeledByText");d.setText(l);r.renderControl(d);p.onAfterRendering=function(){sap.m.CustomListItem.prototype.onAfterRendering.apply(this,arguments);var e=$(this.getDomRef());e.attr("aria-labelledby",d.getId());};p.addEventDelegate({onsapspace:function(e){if(e.target===e.currentTarget){t.toggleDetails();}},onsapenter:function(E){if(E.target===E.currentTarget){var f="";var g=t.getTitleNavigation();if(g){f=g.getHref();}try{var m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.eventLogger.logEvent({type:m.eventLogger.ITEM_NAVIGATE,targetUrl:f});}catch(e){}if(f&&f.length>0){var h=t.fireNavigate(g);h();}}}});}},_getExpandAreaObjectInfo:function(){var t=this;var r=$(t.getDomRef());var d=r.find(".sapUshellSearchResultListItem-AttributesExpandContainer");var e=r.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");var f=false;if(e.css("display")==="none"){e.css("display","block");f=true;}var g=d.height();var h=r.find(".sapUshellSearchResultListItem-AttributesAndActions").height();if(f){e.css("display","");}var i=[];r.find(".sapUshellSearchResultListItem-GenericAttribute").each(function(){var m=$(this);if(m.css("order")>2){i.push(this);}});var j=200;var k=j/10;var l={resultListItem:r,attributesExpandContainer:d,currentHeight:g,expandedHeight:h,elementsToFadeInOrOut:i,expandAnimationDuration:j,fadeInOrOutAnimationDuration:k,relatedObjectsToolbar:e};return l;},isShowingDetails:function(){var e=this._getExpandAreaObjectInfo();if(e.currentHeight<e.expandedHeight){return false;}return true;},showDetails:function(d){var t=this;if(t.isShowingDetails()){return;}var e=this._getExpandAreaObjectInfo();e.relatedObjectsToolbar.css("display","block");var r=t.getAggregation("_relatedObjectActionsToolbar");if(r){r._layoutToolbarElements();}e.attributesExpandContainer.animate({"height":e.expandedHeight},e.expandAnimationDuration,function(){t.setProperty("expanded",true,true);$(this).addClass("sapUshellSearchResultListItem-AttributesExpanded");$(this).css("height","");$(e.elementsToFadeInOrOut).css("opacity","");var i=sap.ui.core.IconPool.getIconURI("slim-arrow-up");var f=t.getAggregation("_expandButton");f.setTooltip(sap.ushell.resources.i18n.getText("hideDetailBtn_tooltip"));f.setIcon(i);f.rerender();e.relatedObjectsToolbar.css("display","");});$(e.elementsToFadeInOrOut).animate({"opacity":1},e.fadeInOrOutAnimationDuration);},hideDetails:function(d){var t=this;var r=$(t.getDomRef());if(!t.isShowingDetails()){return;}var e=this._getExpandAreaObjectInfo();var f=r.find(".sapUshellSearchResultListItem-MainAttribute").outerHeight(true)+r.find(".sapUshellSearchResultListItem-ExpandSpacerAttribute").outerHeight(true);var s=false;var g=e.attributesExpandContainer.animate({"height":f},{"duration":e.expandAnimationDuration,"progress":function(h,p,i){if(!s&&i<=e.fadeInOrOutAnimationDuration){s=true;var j=$(e.elementsToFadeInOrOut).animate({"opacity":0},e.fadeInOrOutAnimationDuration).promise();jQuery.when(g,j).done(function(){t.setProperty("expanded",false,true);e.attributesExpandContainer.removeClass("sapUshellSearchResultListItem-AttributesExpanded");$(e.elementsToFadeInOrOut).css("opacity","");var k=sap.ui.core.IconPool.getIconURI("slim-arrow-down");var l=t.getAggregation("_expandButton");l.setTooltip(sap.ushell.resources.i18n.getText("showDetailBtn_tooltip"));l.setIcon(k);l.rerender();});}}}).promise();},toggleDetails:function(d){if(this.isShowingDetails()){this.hideDetails(d);}else{this.showDetails(d);}},isSelectionModeEnabled:function(){var t=this;var i=false;var s=$(t.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");if(s){i=s.css("opacity")>0;}return i;},enableSelectionMode:function(d){var t=this;var s=$(t.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-innerContainer");var e=s.find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");var f=200;var g=false;s.animate({width:"2rem"},{"duration":f,"progress":function(h,p,r){if(!g&&p>0.5){e.css("display","");e.animate({opacity:"1.0"},f/2);g=true;}}});},disableSelectionMode:function(d){var t=this;var s=$(t.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-innerContainer");var e=s.find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");var f=200;e.animate({opacity:"0.0"},f/2,function(){e.css("display","none");});s.animate({width:"0"},f);},toggleSelectionMode:function(d){if(this.isSelectionModeEnabled()){this.disableSelectionMode(d);}else{this.enableSelectionMode(d);}},onAfterRendering:function(){var t=this;var d=$(t.getDomRef());t.showOrHideExpandButton();var p=t._getPhoneSize();d.bind('click',function(){var w=$(window).width();if(w<=p){var e="";var f=t.getTitleNavigation();if(f){e=f.getHref();}if(e&&e.length>0){var g=t.fireNavigate(f);g();}}});t.forwardEllipsis(d.find(".sapUshellSearchResultListItem-Title, .sapUshellSearchResultListItem-AttributeKey, .sapUshellSearchResultListItem-AttributeValue"));d.find('.sapUshellSearchResultListItem-MightOverflow').on('mouseenter',function(){var e=$(this);var f=e.attr('title');var g;var h=e.attr("data-tooltippedby");if(h){var i=d.find("#"+h);g=i.text();}if((this.offsetWidth<this.scrollWidth||this.offsetHeight<this.scrollHeight||g)&&!e.attr('title')){if(!g){g=e.text();}e.attr("title",g);}else if(f===e.text()){e.removeAttr('title');}}).on('mouseout',function(){var e=$(this);var f;var g=e.attr("data-tooltippedby");if(g){var h=d.find("#"+g);f=h.text();}if(!f){f=e.text();}var i=e.attr('title');if(i===f){e.removeAttr('title');}});},_getPhoneSize:function(){return 767;},_resetPrecalculatedValues:function(){this._visibleAttributes=undefined;this._detailsArea=undefined;this._showExpandButton=false;},showOrHideExpandButton:function(){var t=this;var e=$(t.getDomRef());var d=e.find(".sapUshellSearchResultListItem-ExpandButtonContainer");var i=d.css("visibility")!="hidden";var s=false;var f=e.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");s=f.length>0;if(!s){e.find(".sapUshellSearchResultListItem-MainAttribute,.sapUshellSearchResultListItem-WhyFoundAttribute").each(function(){if($(this).css("order")>2){s=true;return false;}});}if(i&&!s){d.css("visibility","hidden");d.attr("aria-hidden","true");t.setAriaExpandedState();}else if(!i&&s){d.css("visibility","");d.removeAttr("aria-hidden");t.setAriaExpandedState();}},setAriaExpandedState:function(){var t=this;var e=t.getAggregation("_expandButton");var d=$(e.getDomRef());var f=$(t.getDomRef());var g=t.getParentListItem()?$(t.getParentListItem().getDomRef()):f.closest("li");var h=f.find(".sapUshellSearchResultListItem-ExpandButtonContainer");if(h.css("visibility")=="hidden"){d.removeAttr("aria-expanded");g.removeAttr("aria-expanded");}else{var i=t.getProperty("expanded");if(i){d.attr("aria-expanded","true");g.attr("aria-expanded","true");}else{d.attr("aria-expanded","false");g.attr("aria-expanded","false");}}},fireNavigate:function(d){return function(){if(d){try{var m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.eventLogger.logEvent({type:m.eventLogger.ITEM_NAVIGATE,targetUrl:d.getHref()});}catch(e){}d.performNavigation();}};},forwardEllipsis:function(o){o.each(function(i,d){b.forwardEllipsis4Whyfound(d);});}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchResultListItemDocument.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchResultListItem');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchText');var S=sap.ushell.renderers.fiori2.search.controls.SearchText;var n='\u2013';sap.ushell.renderers.fiori2.search.controls.SearchResultListItem.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListItemDocument",{renderer:function(r,c){c._renderer(r);},_renderContentContainer:function(r){r.write('<div class="sapUshellSearchResultListItem-Content">');this._renderTitleContainer(r);this._renderAttributesContainer(r);r.write('</div>');},_renderTitleContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-TitleAndImageContainer">');r.write('<div class="sapUshellSearchResultListItem-TitleContainer">');t._renderCheckbox(r);var a=t.getTitleUrl();var b=t.getAggregation("_titleLink");b.setHref(a);b.setText(t.getTitle());if(a.length==0){b.setEnabled(false);}r.renderControl(b);var c=t.getAggregation("_typeText");c.setText(t.getType());r.renderControl(c);r.write('</div>');t._renderImageForPhone(r);r.write('</div>');},_renderAttributesContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItemDoc-AttributesExpandContainer');var e=t.getProperty("expanded");if(e){r.write(" sapUshellSearchResultListItem-AttributesExpanded");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-AttributesAndActions">');r.write('<ul class="sapUshellSearchResultListItem-Attributes">');this._renderThumbnailSnippetContainer(r);this._renderDocAttributesContainer(r);r.write('<div class="sapUshellSearchResultListItem-ExpandSpacerAttribute" aria-hidden="true"></div>');r.write('</ul>');t._renderRelatedObjectsToolbar(r);r.write('</div>');r.write('</div>');},_renderThumbnailContainer:function(r){var t=this;if(!t.getImageUrl()){return;}r.write('<div class="sapUshellSearchResultListItemDoc-ThumbnailContainer">');r.write('<img class="sapUshellSearchResultListItemDoc-Thumbnail" src="');r.write(t.getImageUrl());r.write('">');r.write('</div>');},_renderDocAttributesContainer:function(r){r.write('<div class="sapUshellSearchResultListItemDoc-AttributesContainer">');var i=this.getAttributes();this._renderAllAttributes(r,i);r.write('</div>');},_renderThumbnailSnippetContainer:function(r){r.write('<div class="sapUshellSearchResultListItemDoc-ThumbnailSnippetContainer">');this._renderThumbnailContainer(r);this._renderSnippetContainer(r);r.write('</div>');},_renderSnippetContainer:function(r){var a=this.getAttributes();for(var i=0;i<a.length;i++){var b=a[i];if(b.longtext){var v=new S();v.setText(b.value);v.addStyleClass("sapUshellSearchResultListItemDoc-Snippet");r.renderControl(v);}}},_renderAllAttributes:function(r,a){var t=this;var b;var l;var v;var c;var i=0,j=0;var d=8;if(t.getImageUrl()){d--;}t.destroyAggregation("_attributeValues");for(;j<d&&i<a.length;i++){b=a[i];if(b.isTitle||b.longtext){continue;}l=b.name;v=b.value;if(l===undefined||v===undefined){continue;}if(!v||v===""){v=n;}c=new S();c.setText(v);c.addStyleClass("sapUshellSearchResultListItemDoc-AttributeValue");r.renderControl(c);t.addAggregation("_attributeValues",c,true);j++;}},_getExpandAreaObjectInfo:function(){var t=this;var r=$(t.getDomRef());var a=r.find(".sapUshellSearchResultListItemDoc-AttributesExpandContainer");var b=r.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");var c=false;if(b.css("display")==="none"){b.css("display","block");c=true;}var d=a.height();var e=r.find(".sapUshellSearchResultListItem-AttributesAndActions").height();if(c){b.css("display","");}var f=[];r.find(".sapUshellSearchResultListItem-GenericAttribute").each(function(){var j=$(this);if(j.css("order")>2){f.push(this);}});var g=200;var h=g/10;var i={resultListItem:r,attributesExpandContainer:a,currentHeight:d,expandedHeight:e,elementsToFadeInOrOut:f,expandAnimationDuration:g,fadeInOrOutAnimationDuration:h,relatedObjectsToolbar:b};return i;},hideDetails:function(a){var t=this;var r=$(t.getDomRef());if(!t.isShowingDetails()){return;}var e=this._getExpandAreaObjectInfo();var b=r.find(".sapUshellSearchResultListItem-Attributes").outerHeight(true);var s=false;var d=e.attributesExpandContainer.animate({"height":b},{"duration":e.expandAnimationDuration,"progress":function(c,p,f){if(!s&&f<=e.fadeInOrOutAnimationDuration){s=true;var g=$(e.elementsToFadeInOrOut).animate({"opacity":0},e.fadeInOrOutAnimationDuration).promise();jQuery.when(d,g).done(function(){t.setProperty("expanded",false,true);e.attributesExpandContainer.removeClass("sapUshellSearchResultListItem-AttributesExpanded");$(e.elementsToFadeInOrOut).css("opacity","");var i=sap.ui.core.IconPool.getIconURI("slim-arrow-down");var h=t.getAggregation("_expandButton");h.setTooltip(sap.ushell.resources.i18n.getText("showDetailBtn_tooltip"));h.setIcon(i);h.rerender();});}}}).promise();}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchResultListSelectionHandler.js":function(){(function(){"use strict";jQuery.sap.require('sap.ui.base.Object');sap.ui.base.Object.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListSelectionHandler",{isMultiSelectionAvailable:function(d){return false;},actionsForDataSource:function(d){return[];}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchResultMap.js":function(){(function(){"use strict";var d=function(o,a){var t=null;var b=function(){var c=arguments;var e=this;if(t){window.clearTimeout(t);}t=window.setTimeout(function(){t=null;o.apply(e,c);},a);};b.abort=function(){if(t){window.clearTimeout(t);}};return b;};sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultMap',{metadata:{aggregations:{"_map":{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},appId:"yPAjYBbnvu87r-bURAc-",appCode:"m3WAJo5rFmc5BG1IxJ3d2w",init:function(){var m={"MapProvider":[{"name":"HEREMAPS","type":"","description":"","tileX":"256","tileY":"256","maxLOD":"20","copyright":"Tiles Courtesy of HERE Maps","Source":[{"id":"s1","url":"http://1.maps.nlp.nokia.com/maptile/2.1/maptile/newest/normal.day/{LOD}/{X}/{Y}/256/png?app_code="+this.appCode+"&app_id="+this.appId},{"id":"s2","url":"http://2.maps.nlp.nokia.com/maptile/2.1/maptile/newest/normal.day/{LOD}/{X}/{Y}/256/png?app_code="+this.appCode+"&app_id="+this.appId}]}],"MapLayerStacks":[{"name":"DEFAULT","MapLayer":{"name":"layer1","refMapProvider":"HEREMAPS","opacity":"1.0","colBkgnd":"RGB(255,255,255)"}}]};var g=new sap.ui.vbm.GeoMap({legendVisible:false,scaleVisible:false,refMapLayerStack:'DEFAULT',mapConfiguration:m,width:'100%',height:'100%',zoomChanged:this.zoomChanged.bind(this),centerChanged:this.centerChanged.bind(this)});this.setAggregation('_map',g);this.loadObjects=d(this.loadObjects,500);},splitCoordinates:function(c){var a=c.split(';');return[parseFloat(a[0]),parseFloat(a[1])];},deg2rad:function(a){return Math.PI*a/180;},rad2deg:function(r){return 180*r/Math.PI;},mercator:function(p){var l=p[0];var a=p[1];var r=6378137.0;var m=this.deg2rad(l)*r;var b=Math.log(Math.tan(this.deg2rad((90+a)/2)))*r;return[m,b];},gps:function(p){var l=p[0];var a=p[1];var r=6378137.0;var g=this.rad2deg(l/r);var b=2*this.rad2deg(Math.atan(Math.exp(a/r)))-90;return[g,b];},createPolygonFromViewport:function(v){var u=this.mercator(this.splitCoordinates(v.upperLeft));var l=this.mercator(this.splitCoordinates(v.lowerRight));var p={"type":"Polygon","coordinates":[[]]};var a=p.coordinates[0];a.push(u,[l[0],u[1]],l,[u[0],l[1]],u);return p;},zoomChanged:function(e){},centerChanged:function(e){},loadObjects:function(f){var t=this;$.get('/geofacet?type=grid&filter='+encodeURIComponent(JSON.stringify(f))).then(function(r){r=JSON.parse(r);var s=[];for(var i=0;i<r.cities.length;++i){var c=r.cities[i];if(!c.name){continue;}var g=t.gps(c.location_3857.coordinates);var l=g[0];var a=g[1];var b=new sap.ui.vbm.Spot({position:l+';'+a+';0',text:c.name,type:(c.type==='single')?sap.ui.vbm.SemanticType.Default:sap.ui.vbm.SemanticType.Warning});s.push(b);}var e=new sap.ui.vbm.Spots({items:s});t.getAggregation('_map').removeAllVos();t.getAggregation('_map').addVo(e);});},renderer:function(r,c){r.write('<div ');r.writeControlData(c);r.addClass('sapUshellSearchResultMap');r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_map'));r.write('</div>');}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchResultTable.js":function(){(function(){"use strict";sap.m.Table.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultTable',{renderer:'sap.m.TableRenderer'});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchSelect.js":function(){(function(){"use strict";jQuery.sap.require('sap.m.Select');sap.m.Select.extend('sap.ushell.renderers.fiori2.search.controls.SearchSelect',{constructor:function(i,o){o=jQuery.extend({},{visible:"{/businessObjSearchEnabled}",autoAdjustWidth:true,items:{path:"/dataSources",template:new sap.ui.core.Item({key:"{key}",text:"{labelPlural}"})},selectedKey:{path:'/uiFilter/dataSource/key',mode:sap.ui.model.BindingMode.OneWay},change:function(e){var a=this.getSelectedItem();var c=a.getBindingContext();var d=c.getObject();this.getModel().setDataSource(d,false);this.getModel().abortSuggestions();}},o);sap.m.Select.prototype.constructor.apply(this,[i,o]);this.addStyleClass('searchSelect');},renderer:'sap.m.SelectRenderer',setDisplayMode:function(m){switch(m){case'icon':this.setType(sap.m.SelectType.IconOnly);this.setIcon('sap-icon://slim-arrow-down');break;case'default':this.setType(sap.m.SelectType.Default);break;default:break;}}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchText.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;sap.m.Text.extend('sap.ushell.renderers.fiori2.search.controls.SearchText',{renderer:'sap.m.TextRenderer',onAfterRendering:function(){var d=this.getDomRef();s.boldTagUnescaperByText(d);}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchTileHighlighter.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.controls.SearchTileHighlighter');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var T=sap.ushell.renderers.fiori2.search.SearchHelper.Tester;var H=sap.ushell.renderers.fiori2.search.SearchHelper;var a=sap.ushell.renderers.fiori2.search.controls.SearchTileHighlighter=function(){this.init.apply(this,arguments);};a.prototype={init:function(){},setHighlightTerms:function(h){this.tester=new T(h,'sapUshellSearchHighlight',true);},highlight:function(t){var n=t.getDomRef();if(!n){return;}this.doHighlight(n);},doHighlight:function(n){if(n.nodeType===window.Node.TEXT_NODE){this.highlightTextNode(n);return;}for(var i=0;i<n.childNodes.length;++i){var c=n.childNodes[i];this.doHighlight(c);}},highlightTextNode:function(n){var t=this.tester.test(n.textContent);if(!t.bMatch){return;}var s=document.createElement('span');s.innerHTML=jQuery.sap.encodeHTML(t.sHighlightedText);H.boldTagUnescaper(s,'sapUshellSearchHighlight');n.parentNode.insertBefore(s,n);n.parentNode.removeChild(n);}};})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchTilesContainer.js":function(){(function(){"use strict";jQuery.sap.require('sap.m.Button');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchTilesContainerKeyHandler');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchTileHighlighter');jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchResultList");var K=sap.ushell.renderers.fiori2.search.controls.SearchTilesContainerKeyHandler;var T=sap.ushell.renderers.fiori2.search.controls.SearchTileHighlighter;sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer',{metadata:{properties:{'totalLength':{type:'int',defaultValue:0},'maxRows':{type:'int',defaultValue:1},'highlightTerms':{type:'string',defaultValue:''},'enableKeyHandler':{type:'boolean',defaultValue:true},'resultList':{type:'sap.ushell.renderers.fiori2.search.controls.SearchResultList'},'addAccInformation':{type:'boolean',defaultValue:false}},aggregations:{'tiles':{type:'sap.ui.core.Control',multiple:true}},events:{showMore:{}}},constructor:function(){sap.ui.core.Control.prototype.constructor.apply(this,arguments);if(this.getEnableKeyHandler()){this.addEventDelegate(new K(this));}this.tileHighlighter=new T();this._previousTabHandler={onsaptabprevious:function(e){var t;if(jQuery(this.control.getDomRef()).prop("tagName").toLowerCase()==="button"){t=this.control.getDomRef();}else{var b=jQuery(this.control.getDomRef()).find("[role='option']");if(b.length>0){t=b[0];}}if(e.isMarked()||!t||e.target!==t){return;}this.resultList.forwardTab(false);e.setMarked();}};},setHighlightTerms:function(t){this.setProperty('highlightTerms',t,true);},delayedRerender:function(){var t=this;setTimeout(function(){t.rerender();},0);},renderer:function(r,c){var t=c.getTiles();if(!t||t.length===0){return;}r.write('<div');r.writeControlData(c);r.addClass('sapUshellSearchTileContainer');r.writeClasses();r.write('>');c.renderTiles(r,c);r.write('</div>');},logUsageAnalytics:function(t){var i,m,c;if(t.attachPress){t.attachPress(function(){m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.eventLogger.logEvent({type:m.eventLogger.TILE_NAVIGATE,tileTitle:t.eventLoggingData.title,targetUrl:t.eventLoggingData.targetUrl});});return;}if(t&&t.getContent){c=t.getContent();if(c.length!==1){return;}i=c[0];if(!i.attachPress){return;}i.attachPress(function(){m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.eventLogger.logEvent({type:m.eventLogger.TILE_NAVIGATE,tileTitle:t.eventLoggingData.title,targetUrl:t.eventLoggingData.targetUrl});});}},renderTiles:function(r,c){var t=c.getTiles();for(var i=0;i<t.length;i++){var a=t[i];c.logUsageAnalytics(a);c.registerAfterRenderingForTile(a);r.write('<div');r.addClass('sapUshellSearchTileWrapper');r.writeClasses();r.write('>');r.renderControl(a);r.write('</div>');a.addEventDelegate(this._previousTabHandler,{resultList:c.getResultList(),control:a});}c.renderPlusTile(r,c);c.tileHighlighter.setHighlightTerms(c.getHighlightTerms());},renderPlusTile:function(r,c){r.write('<div');r.addClass('sapUshellSearchTileWrapper');r.addClass('sapUshellSearchShowMoreTile');r.writeClasses();r.writeAttribute('style','display:none');r.write('>');var b=new sap.m.Button({text:sap.ushell.resources.i18n.getText('showMoreApps'),tooltip:sap.ushell.resources.i18n.getText('showMoreApps'),press:function(){c.fireShowMore();}});b.addEventDelegate(this._previousTabHandler,{resultList:c.getResultList(),control:b});b.addStyleClass('sapUshellSearchShowMoreTileButton');b.addStyleClass('sapMGT');b.addStyleClass('OneByOne');r.renderControl(b);r.write('</div>');},onAfterRendering:function(e){this.limitTileSize();while(this.getNumberRows()>this.getMaxRows()){this.removeLastTile();}var c=this.getDomRef();var n=c.children.length-1;if(this.getTotalLength()>n){this.makePlusTileVisible();this.cutAtRow();}else{c.removeChild(c.children.item(c.children.length-1));}this.addAccessibilityInformation();},addAccessibilityInformation:function(){if(!this.getAddAccInformation()){return;}var c=this.getDomRef();var a=c.children;for(var i=0;i<a.length;++i){var b=a[i];var f=b.querySelector('[tabindex]');if(!f){f=b.querySelector('button');}if(!f){continue;}var d=f.getAttribute('aria-label');if((typeof d)==='string'){f.setAttribute('aria-label',sap.ushell.resources.i18n.getText('tile')+' '+d);}f.setAttribute('role','option');f.setAttribute('aria-posinset',i+1);f.setAttribute('aria-setsize',a.length);}},limitTileSize:function(){var c=this.getDomRef();for(var i=0;i<c.children.length;++i){var t=c.children.item(i);if(!this.hasTileStyleClass(t)){t.classList.add('sapMGT');t.classList.add('OneByOne');}}},hasTileStyleClass:function(d){if(d.classList.contains('sapMGT')&&d.classList.contains('OneByOne')){return true;}if(d.children.length===1){return this.hasTileStyleClass(d.children.item(0));}return false;},getNumberDisplayedTiles:function(){var c=this.getDomRef();return c.children.length;},registerAfterRenderingForTile:function(t){var a=this;t.addEventDelegate({onAfterRendering:function(){a.tileHighlighter.highlight(t);}});},makePlusTileVisible:function(){var c=this.getDomRef();var p=c.children.item(c.children.length-1);p.style.display='inline-block';},removeLastTile:function(){var c=this.getDomRef();var l=c.children.item(c.children.length-2);l.parentNode.removeChild(l);},cutAtRow:function(){var c=this.getDomRef();while(!this.isLastRowCompletelyFilled()||this.getNumberRows()>this.getMaxRows()){if(c.children.length<=2){break;}this.removeLastTile();}},isLastRowCompletelyFilled:function(){var c=this.getDomRef();var t=this.getTilesPerRow();var a=-1;for(var i=0;i<t;++i){var b=c.children.item(c.children.length-1-i);if(b.style.display==='none'){t++;continue;}if(a<0){a=b.offsetLeft;continue;}if(b.offsetLeft>a){return false;}}return true;},getNumberRows:function(){var c=this.getDomRef();var t=-1;var a=0;for(var i=0;i<c.children.length-1;++i){var b=c.children.item(i);if(b.style.display==='none'){continue;}if(t<0||b.offsetLeft<=t){a++;}t=b.offsetLeft;}return a;},getTilesPerRow:function(){var c=this.getDomRef();var t=-1;var a=0;for(var i=0;i<c.children.length;++i){var b=c.children.item(i);if(b.style.display==='none'){continue;}if(b.offsetLeft<=t){return a;}a++;t=b.offsetLeft;}return a;}});})();
},
	"sap/ushell/renderers/fiori2/search/controls/SearchTilesContainerKeyHandler.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.controls.SearchTilesContainerKeyHandler');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var s=sap.ushell.renderers.fiori2.search.SearchHelper;var d={getAncestorByClass:function(e,c){while(e){if(e.classList.contains(c)){return e;}e=e.parentElement;}return false;}};var T=function(){this.init.apply(this,arguments);};T.prototype={init:function(t,e){this.tilesContainer=t;this.tilesContainerElement=t.getDomRef();this.element=e;},getIndexInTilesContainer:function(){return Array.prototype.indexOf.call(this.tilesContainerElement.children,this.element);},next:function(){if((this.getIndexInTilesContainer()+1)%this.tilesContainer.getTilesPerRow()===0){return null;}if(this.element.nextElementSibling){return new T(this.tilesContainer,this.element.nextElementSibling);}return null;},previous:function(){if((this.getIndexInTilesContainer())%this.tilesContainer.getTilesPerRow()===0){return null;}if(this.element.previousElementSibling){return new T(this.tilesContainer,this.element.previousElementSibling);}return null;},upper:function(){var i=this.getIndexInTilesContainer()-this.tilesContainer.getTilesPerRow();if(i<0){return null;}return new T(this.tilesContainer,this.tilesContainerElement.children.item(i));},lower:function(){var i=this.getIndexInTilesContainer()+this.tilesContainer.getTilesPerRow();if(i>=this.tilesContainerElement.children.length){return null;}return new T(this.tilesContainer,this.tilesContainerElement.children.item(i));},focus:function(){var e=s.getFocusableTileDomRef(this.element);if(e){e.focus();}}};var K=sap.ushell.renderers.fiori2.search.controls.SearchTilesContainerKeyHandler=function(){this.init.apply(this,arguments);};K.prototype={init:function(t){this.tilesContainer=t;},getFocusedObject:function(e){var t=d.getAncestorByClass(e,'sapUshellSearchTileWrapper');if(!t){return null;}return new T(this.tilesContainer,t);},onsapdown:function(e){this.navigate('lower',e);},onsapup:function(e){this.navigate('upper',e);},onsapleft:function(e){this.navigate('previous',e);},onsapright:function(e){this.navigate('next',e);},navigate:function(m,e){e.stopPropagation();e.preventDefault();var o=this.getFocusedObject(e.target);if(!o){return;}var n=o[m].apply(o,[]);if(!n){return;}n.focus();}};})();
},
	"sap/ushell/renderers/fiori2/search/eventlogging/EventConsumer.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.eventlogging.EventConsumer');var m=sap.ushell.renderers.fiori2.search.eventlogging.EventConsumer=function(){this.init.apply(this,arguments);};m.prototype={collectEvents:false,collectTime:2000,init:function(){},logEvent:function(e){},logEvents:function(e){},createLoggingTimestamp:function(){}};})();
},
	"sap/ushell/renderers/fiori2/search/eventlogging/EventLogger.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.eventlogging.SinaLogConsumer');var S=sap.ushell.renderers.fiori2.search.eventlogging.SinaLogConsumer;jQuery.sap.require('sap.ushell.renderers.fiori2.search.eventlogging.HistoryLogConsumer');var H=sap.ushell.renderers.fiori2.search.eventlogging.HistoryLogConsumer;jQuery.sap.require('sap.ushell.renderers.fiori2.search.eventlogging.UsageAnalyticsConsumer');var U=sap.ushell.renderers.fiori2.search.eventlogging.UsageAnalyticsConsumer;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.eventlogging.EventLogger');var m=sap.ushell.renderers.fiori2.search.eventlogging.EventLogger=function(){this.init.apply(this,arguments);};m.newInstance=function(p){var l=new m();l.addConsumer(new S(p.sina));l.addConsumer(new H(p.sina));l.addConsumer(new U());return l;};m.prototype={ITEM_NAVIGATE:{targetUrl:'string'},SUGGESTION_SELECT:{suggestionType:'string',suggestionTitle:'string',suggestionTerm:'string',searchTerm:'string',targetUrl:'string',dataSourceKey:'string'},SEARCH_REQUEST:{searchTerm:'string',dataSourceKey:'string'},ITEM_NAVIGATE_RELATED_OBJECT:{targetUrl:'string'},SUGGESTION_REQUEST:{suggestionTerm:'string',dataSourceKey:'string'},TILE_NAVIGATE:{tileTitle:'string',targetUrl:'string'},init:function(){this.consumers=[];this.addToStringMethodToEvents();},addToStringMethodToEvents:function(){var c=function(n){return function(){return n;};};for(var p in this){if(p.toUpperCase()!==p){continue;}var v=this[p];v.toString=c(p);}},addConsumer:function(c){this.consumers.push(c);c.eventLogger=this;},logEvent:function(a){for(var i=0;i<this.consumers.length;++i){var c=this.consumers[i];if(c.collectEvents){if(!c.eventCollector){c.eventCollector=new E(c);}c.eventCollector.addEvent(a);}else{try{c.logEvent(a);}catch(e){}}}}};var E=function(){this.init.apply(this,arguments);};E.prototype={init:function(c){this.events=[];this.consumer=c;},addEvent:function(e){var t=this;e.timestamp=this.consumer.createEventLoggingTimestamp();this.events.push(e);if(this.events.length===1){window.setTimeout(function(){t.consumeEvents();},this.consumer.collectTime);}},consumeEvents:function(){try{this.consumer.logEvents(this.events);}catch(e){}this.events=[];}};})();
},
	"sap/ushell/renderers/fiori2/search/eventlogging/HistoryLogConsumer.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.eventlogging.EventConsumer');var E=sap.ushell.renderers.fiori2.search.eventlogging.EventConsumer;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.eventlogging.HistoryLogConsumer');var m=sap.ushell.renderers.fiori2.search.eventlogging.HistoryLogConsumer=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new E(),{collectEvents:false,init:function(s){this.sina=s;},logEvent:function(e){switch(e.type){case this.eventLogger.ITEM_NAVIGATE:this._addUserHistoryEntry(e.targetUrl);break;}},_addUserHistoryEntry:function(t){if(!t){return;}if(t.indexOf("#")===-1){return;}var s=this.sina.getSystem().getServices();if(s.PersonalizedSearch&&s.PersonalizedSearch.capabilities&&s.PersonalizedSearch.capabilities.SetUserStatus){var u=this._createUserHistoryEntry(t);this.sina.addUserHistoryEntry(u).done(function(d){}).fail(function(e){});}},_createUserHistoryEntry:function(t){function g(p){var l=p;for(var i=0,n=l.length;i<n;i++){var o=l[i];if(o.indexOf("sap-system")!==-1){var q=o.split("=");return{"System":q[1].slice(4,7),"Client":q[1].slice(8,-1)};}}}function a(H){return H.split("-")[0];}function b(H){return H.split("-")[1].split("&")[0];}function c(p){var l=p;var n=[];for(var i=0,o=l.length;i<o;i++){var q=l[i];if(q.indexOf("sap-system")!==-1){continue;}var r=q.split("=")[0];var v=q.split("=")[1];n.push({"Name":r,Value:v});}return n;}var u={"NavigationEventList":[{"SourceApplication":{"SemanticObjectType":"","Intent":"","ParameterList":[]}},{"TargetApplication":{"SemanticObjectType":"","Intent":"","ParameterList":[]}}]};var h=window.hasher.getHashAsArray();var s=a(h[0]);u.NavigationEventList[0].SourceApplication.SemanticObjectType=s;var d=b(h[0]);u.NavigationEventList[0].SourceApplication.Intent=d;var e=c(h[1].split("&"));u.NavigationEventList[0].SourceApplication.ParameterList=e;h=t.split("?");var f=a(h[0]).split("#")[1];u.NavigationEventList[1].TargetApplication.SemanticObjectType=f;var j=b(h[0]);u.NavigationEventList[1].TargetApplication.Intent=j;var k=c(h[1].split("&"));u.NavigationEventList[1].TargetApplication.ParameterList=k;var S=g(h[1].split("&"));u.NavigationEventList[1].TargetApplication=jQuery.extend(u.NavigationEventList[1].TargetApplication,S);return u;}});})();
},
	"sap/ushell/renderers/fiori2/search/eventlogging/SinaLogConsumer.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.eventlogging.EventConsumer');var E=sap.ushell.renderers.fiori2.search.eventlogging.EventConsumer;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.eventlogging.SinaLogConsumer');var m=sap.ushell.renderers.fiori2.search.eventlogging.SinaLogConsumer=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new E(),{collectEvents:true,init:function(s){this.sina=s;},logEvents:function(e){var f=[];for(var i=0;i<e.length;++i){var a=jQuery.extend({},e[i]);a.type=a.type.toString();f.push(a);}this.sina.logEvents(f);},createEventLoggingTimestamp:function(){return this.sina.createEventLoggingTimestamp();}});})();
},
	"sap/ushell/renderers/fiori2/search/eventlogging/UsageAnalyticsConsumer.js":function(){(function(){"use strict";var s=window.sinabase;jQuery.sap.require('sap.ushell.renderers.fiori2.search.eventlogging.EventConsumer');var E=sap.ushell.renderers.fiori2.search.eventlogging.EventConsumer;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.eventlogging.UsageAnalyticsConsumer');var m=sap.ushell.renderers.fiori2.search.eventlogging.UsageAnalyticsConsumer=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new E(),{collectEvents:false,init:function(){try{this.analytics=sap.ushell.Container.getService("UsageAnalytics");}catch(e){}},logEvent:function(e){if(!this.analytics){return;}switch(e.type){case this.eventLogger.ITEM_NAVIGATE:this.analytics.logCustomEvent('FLP: Search','Launch Object',[e.targetUrl]);break;case this.eventLogger.SUGGESTION_SELECT:switch(e.suggestionType){case s.SuggestionType.APPS:this.analytics.logCustomEvent('FLP: Search','Suggestion Select App',[e.suggestionTitle,e.targetUrl,e.searchTerm]);this.analytics.logCustomEvent('FLP: Application Launch point','Search Suggestions',[e.suggestionTitle,e.targetUrl,e.searchTerm]);break;case s.SuggestionType.DATASOURCE:this.analytics.logCustomEvent('FLP: Search','Suggestion Select Datasource',[e.dataSourceKey,e.searchTerm]);break;case s.SuggestionType.OBJECTDATA:this.analytics.logCustomEvent('FLP: Search','Suggestion Select Object Data',[e.suggestionTerm,e.dataSourceKey,e.searchTerm]);break;case s.SuggestionType.HISTORY:this.analytics.logCustomEvent('FLP: Search','Suggestion Select Object Data',[e.suggestionTerm,e.dataSourceKey,e.searchTerm]);break;}break;case this.eventLogger.SEARCH_REQUEST:this.analytics.logCustomEvent('FLP: Search','Search',[e.searchTerm,e.dataSourceKey]);break;case this.eventLogger.ITEM_NAVIGATE_RELATED_OBJECT:this.analytics.logCustomEvent('FLP: Search','Launch Related Object',[e.targetUrl]);break;case this.eventLogger.SUGGESTION_REQUEST:this.analytics.logCustomEvent('FLP: Search','Suggestion',[e.suggestionTerm,e.dataSourceKey]);break;case this.eventLogger.TILE_NAVIGATE:this.analytics.logCustomEvent('FLP: Search','Launch App',[e.tileTitle,e.targetUrl]);this.analytics.logCustomEvent('FLP: Application Launch point','Search Results',[e.titleTitle,e.targetUrl]);break;}}});})();
},
	"sap/ushell/renderers/fiori2/search/personalization/BrowserPersonalizationStorage.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.personalization.BrowserPersonalizationStorage');jQuery.sap.require('sap.ushell.renderers.fiori2.search.personalization.Personalizer');var P=sap.ushell.renderers.fiori2.search.personalization.Personalizer;var m=sap.ushell.renderers.fiori2.search.personalization.BrowserPersonalizationStorage=function(){this.init.apply(this,arguments);};var B=m;m.prototype={init:function(){},getItem:function(k){if(!this._isStorageSupported()){throw'not supported storage';}return this._getStorage(k);},setItem:function(k,d){if(!this._isStorageSupported()){throw'not supported storage';}this._putStorage(k,d);},getPersonalizer:function(k){return new P(k,this);},_isStorageSupported:function(){if(jQuery.sap.storage&&jQuery.sap.storage.isSupported()){return true;}else{return false;}},_getStorage:function(k){return jQuery.sap.storage.get("Search.Personalization."+k);},_putStorage:function(k,s){jQuery.sap.storage.put("Search.Personalization."+k,s);}};m.getInstance=function(){return new jQuery.Deferred().resolve(new B());};})();
},
	"sap/ushell/renderers/fiori2/search/personalization/FLPPersonalizationStorage.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.personalization.FLPPersonalizationStorage');jQuery.sap.require('sap.ushell.renderers.fiori2.search.personalization.Personalizer');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var P=sap.ushell.renderers.fiori2.search.personalization.Personalizer;var S=sap.ushell.renderers.fiori2.search.SearchHelper;var m=sap.ushell.renderers.fiori2.search.personalization.FLPPersonalizationStorage=function(){this.init.apply(this,arguments);};var F=m;m.prototype={init:function(c){this.container=c;this.save=S.delayedExecution(this.save,2000);},save:function(){this.container.save();},getItem:function(k){k=this.limitLength(k);if(!this._isStorageSupported()){throw'not supported storage';}return this.container.getItemValue(k);},setItem:function(k,d){k=this.limitLength(k);if(!this._isStorageSupported()){throw'not supported storage';}this.container.setItemValue(k,d);this.save();},limitLength:function(k){return k.slice(-40);},getPersonalizer:function(k){return new P(k,this);},_isStorageSupported:function(){if(jQuery.sap.storage&&jQuery.sap.storage.isSupported()){return true;}else{return false;}}};m.getInstance=function(){var p=sap.ushell.Container.getService("Personalization");return p.getContainer("ushellSearchPersoServiceContainer").then(function(c){return new F(c);});};})();
},
	"sap/ushell/renderers/fiori2/search/personalization/MemoryPersonalizationStorage.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.personalization.MemoryPersonalizationStorage');jQuery.sap.require('sap.ushell.renderers.fiori2.search.personalization.Personalizer');var P=sap.ushell.renderers.fiori2.search.personalization.Personalizer;var m=sap.ushell.renderers.fiori2.search.personalization.MemoryPersonalizationStorage=function(){this.init.apply(this,arguments);};var M=m;m.prototype={init:function(){this.dataMap={};},getItem:function(k){if(!this._isStorageSupported()){throw'not supported storage';}return this._getStorage(k);},setItem:function(k,d){if(!this._isStorageSupported()){throw'not supported storage';}this._putStorage(k,d);},getPersonalizer:function(k){return new P(k,this);},_isStorageSupported:function(){return true;},_getStorage:function(k){return this.dataMap[k];},_putStorage:function(k,s){this.dataMap[k]=s;}};m.getInstance=function(){return new jQuery.Deferred().resolve(new M());};})();
},
	"sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.personalization.PersonalizationStorage');jQuery.sap.require('sap.ushell.renderers.fiori2.search.personalization.FLPPersonalizationStorage');jQuery.sap.require('sap.ushell.renderers.fiori2.search.personalization.BrowserPersonalizationStorage');jQuery.sap.require('sap.ushell.renderers.fiori2.search.personalization.MemoryPersonalizationStorage');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchConfiguration');var F=sap.ushell.renderers.fiori2.search.personalization.FLPPersonalizationStorage;var B=sap.ushell.renderers.fiori2.search.personalization.BrowserPersonalizationStorage;var M=sap.ushell.renderers.fiori2.search.personalization.MemoryPersonalizationStorage;var S=sap.ushell.renderers.fiori2.search.SearchConfiguration;var c=S.getInstance();sap.ushell.renderers.fiori2.search.personalization.PersonalizationStorage={instance:null,isLaunchpad:function(){try{return sap.ushell.Container.getService("Personalization")?true:false;}catch(e){return false;}},getInstance:function(){var t=this;if(this.instancePromise){return this.instancePromise;}switch(c.personalizationStorage){case'auto':if(this.isLaunchpad()){this.instancePromise=F.getInstance();}else{this.instancePromise=B.getInstance();}break;case'browser':this.instancePromise=B.getInstance();break;case'flp':this.instancePromise=F.getInstance();break;case'memory':this.instancePromise=M.getInstance();break;default:}this.instancePromise.then(function(i){t.instance=i;});return this.instancePromise;},getInstanceSync:function(){if(!this.instance){throw'No instance, call async method getInstance for getting the instance';}return this.instance;},isInitialized:function(){return!!this.instance;}};})();
},
	"sap/ushell/renderers/fiori2/search/personalization/Personalizer.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.personalization.Personalizer');var P=sap.ushell.renderers.fiori2.search.personalization.Personalizer=function(){this.init.apply(this,arguments);};P.prototype={init:function(k,p){this.key=k;this.personalizationStorageInstance=p;},getKey:function(){return this.key;},setPersData:function(d){return(new jQuery.Deferred()).resolve(this.personalizationStorageInstance.setItem(this.key,d));},getPersData:function(){return(new jQuery.Deferred()).resolve(this.personalizationStorageInstance.getItem(this.key));}};})();
},
	"sap/ushell/renderers/fiori2/search/suggestions/AppSuggestionProvider.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider');var a=sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps');var b=sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.AppSuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.AppSuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new a(),{init:function(p){a.prototype.init.apply(this,arguments);this.suggestApplications=S.refuseOutdatedRequests(this.suggestApplications);},abortSuggestions:function(){this.suggestApplications.abort();},combineSuggestionsWithIdenticalTitle:function(s){function J(k,v){if(k==="sina"){return undefined;}return v;}var c;var d={};for(var i=0;i<s.length;i++){c=s[i];var f=d[c.title+c.icon];if(f){if(!f.combinedSuggestionExists){var e={title:'combinedAppSuggestion'+i,sortIndex:f.sortIndex,url:"#Action-search&/searchterm="+c.title+"&datasource="+JSON.stringify(this.model.appDataSource,J),label:sap.ushell.resources.i18n.getText("suggestion_in_apps",c.label),icon:""};var g=sap.ushell.resources.i18n.getText("suggestion_in_apps",[""]);e.label=e.label.replace(g,"<i>"+g+"</i>");d[e.title+e.icon]=e;f.combinedSuggestionExists=true;}}else{c.sortIndex=i;d[c.title+c.icon]=c;}}s=[];for(var h in d){if(d.hasOwnProperty(h)){c=d[h];if(!c.combinedSuggestionExists){s.push(c);}}}s.sort(function(j,k){return j.sortIndex-k.sortIndex;});return s;},createShowMoreSuggestion:function(t){var c=sap.ushell.resources.i18n.getText("showAllNApps",t);c=c.replace(/"/g,"");var d=c;var l="<i>"+c+"</i>";return{title:c,tooltip:d,label:l,dataSource:this.model.appDataSource,labelRaw:this.model.getProperty("/uiFilter/searchTerms"),type:window.sinabase.SuggestionType.OBJECTDATA};},getSuggestions:function(){var t=this;var d=t.model.getDataSource();if(!d.equals(t.model.allDataSource)&&!d.equals(t.model.appDataSource)){return jQuery.when([]);}var s=t.model.getProperty('/uiFilter/searchTerms');return t.suggestApplications(s).then(function(r){var c=r.getElements();c=t.combineSuggestionsWithIdenticalTitle(c);jQuery.each(c,function(i,f){f.type=window.sinabase.SuggestionType.APPS;f.dataSource=t.model.appDataSource;f.position=b[window.sinabase.SuggestionType.APPS].position;});var e;if(t.model.isAllCategory()){e=b[window.sinabase.SuggestionType.APPS].limitDsAll;}else{e=b[window.sinabase.SuggestionType.APPS].limitDsApps;}c=c.slice(0,e);if(r.totalResults>e&&d.equals(t.model.appDataSource)){c.push(t.createShowMoreSuggestion(r.totalResults));}return c;});},suggestApplications:function(s){return sap.ushell.Container.getService("Search").queryApplications({searchTerm:s,searchInKeywords:true,bSuggestion:true});}});})();
},
	"sap/ushell/renderers/fiori2/search/suggestions/DataSourceSuggestionProvider.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider');var a=sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps');var b=sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps;var s=window.sinabase;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.DataSourceSuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.DataSourceSuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new a(),{init:function(p){a.prototype.init.apply(this,arguments);this.suggestDataSources=S.refuseOutdatedRequests(this.suggestDataSources);},abortSuggestions:function(){this.suggestDataSources.abort();},getSuggestions:function(){if(!this.model.isBusinessObjSearchEnabled()){return jQuery.when([]);}if(!this.model.getDataSource().equals(this.model.allDataSource)){return jQuery.when([]);}return this.suggestDataSources();},suggestDataSources:function(){var t=this;return t.model.getServerDataSources().then(function(d){if(jQuery.inArray(t.model.appDataSource,d)<0){d.unshift(t.model.appDataSource);}if(jQuery.inArray(t.model.allDataSource,d)<0){d.unshift(t.model.allDataSource);}var c=t.model.getProperty('/uiFilter/searchTerms');var e=c.replace(/\*/g,'');var T=new S.Tester(e);var o;var f;var g=[];for(var i=0;i<d.length;++i){var h=d[i];if(h.equals(t.model.getDataSource())){continue;}o=T.test(h.label);if(o.bMatch===true){f={};f.label='<i>'+sap.ushell.resources.i18n.getText("searchInPlaceholder",o.sHighlightedText)+'</i>';f.labelRaw='';f.dataSource=h;f.type=s.SuggestionType.DATASOURCE;f.position=b[s.SuggestionType.DATASOURCE].position;g.push(f);if(g.length===b[s.SuggestionType.DATASOURCE].limit){break;}}}return g;});}});})();
},
	"sap/ushell/renderers/fiori2/search/suggestions/SinaBaseSuggestionProvider.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider');var S=sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SinaBaseSuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.SinaBaseSuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new S(),{init:function(){S.prototype.init.apply(this,arguments);},prepareSuggestionQuery:function(s){var t=this;t.suggestionQuery.resetResultSet();t.suggestionQuery.setSuggestionTerm(s);if(!t.suggestionQuery.getDataSource()||!t.model.getProperty('/uiFilter/dataSource').equals(t.suggestionQuery.getDataSource())){t.suggestionQuery.resetFilterConditions();}t.suggestionQuery.setDataSource(t.model.getProperty("/uiFilter/dataSource"));t.suggestionQuery.setSuggestionTypes(t.suggestionTypes);t.suggestionQuery.setTop(20);}});})();
},
	"sap/ushell/renderers/fiori2/search/suggestions/SinaSuggestionProvider.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SinaBaseSuggestionProvider');var a=sap.ushell.renderers.fiori2.search.suggestions.SinaBaseSuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps');var b=sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps;var s=window.sinabase;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SinaSuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.SinaSuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new a(),{suggestionLimit:jQuery.device.is.phone?5:7,init:function(p){a.prototype.init.apply(this,arguments);this.getResultSet=S.refuseOutdatedRequests(this.getResultSet);this.dataSourceDeferred=null;},abortSuggestions:function(){this.getResultSet.abort();},getResultSet:function(){return this.suggestionQuery.getResultSet();},getSuggestions:function(){var t=this;this.suggestions=[];this.firstObjectDataSuggestion=true;this.numberSuggestionsByType={};for(var c in s.SuggestionType){this.numberSuggestionsByType[s.SuggestionType[c]]=0;}var d=t.model.getProperty('/uiFilter/searchTerms');if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(s.SuggestionType.OBJECTDATA)>=0&&d.length<3){return jQuery.when(this.suggestions);}t.createAllAndAppDsSuggestions();if(!t.model.isBusinessObjSearchEnabled()){return jQuery.when(this.suggestions);}if(t.model.getDataSource().equals(t.model.appDataSource)){return jQuery.when(this.suggestions);}t.prepareSuggestionQuery(d);return t.getResultSet().then(function(r){var e=r.getElements();t.formatSinaSuggestions(e);return t.suggestions;});},createAllAndAppDsSuggestions:function(){if(this.suggestionTypes.indexOf(s.SuggestionType.DATASOURCE)<0){return;}if(!this.model.getDataSource().equals(this.model.allDataSource)){return;}var d=[];d.unshift(this.model.appDataSource);d.unshift(this.model.allDataSource);var c=this.model.getProperty('/uiFilter/searchTerms');var e=c.replace(/\*/g,'');var t=new S.Tester(e);for(var i=0;i<d.length;++i){var f=d[i];if(f.key===this.model.getDataSource().key){continue;}var T=t.test(f.label);if(T.bMatch===true){var g={};g.label='<i>'+sap.ushell.resources.i18n.getText("searchInPlaceholder",[""])+'</i> '+T.sHighlightedText;g.labelRaw='';g.dataSource=f;g.type=s.SuggestionType.DATASOURCE;g.position=b[s.SuggestionType.DATASOURCE].position;g.key=f.key;this.addSuggestion(g);}}},preFormatSuggestions:function(c){for(var i=0;i<c.length;++i){var d=c[i];d.position=b[d.type].position;if(d.type===s.SuggestionType.DATASOURCE){d.key=d.labelRaw.key;}else{d.key=d.labelRaw;}if(d.children){this.preFormatSuggestions(d.children);}}},formatSinaSuggestions:function(c){this.preFormatSuggestions(c);for(var i=0;i<c.length;++i){var d=c[i];if(!d.labelRaw){continue;}if(this.suggestionTermBuffer.hasTerm(d.key)){continue;}var n=this.numberSuggestionsByType[d.type];var l=b[d.type].limit;if(n>=l){continue;}switch(d.type){case s.SuggestionType.DATASOURCE:if(!this.model.getDataSource().equals(this.model.allDataSource)){continue;}d.label='<i>'+sap.ushell.resources.i18n.getText("searchInPlaceholder",[""])+'</i> '+d.label;this.addSuggestion(d);break;case s.SuggestionType.OBJECTDATA:this.formatObjectDataSuggestion(d);break;case s.SuggestionType.HISTORY:d.label=d.label;this.addSuggestion(d);break;default:break;}}return this.suggestions;},addSuggestion:function(c){this.suggestions.push(c);this.suggestionTermBuffer.addTerm(c.key);this.numberSuggestionsByType[c.type]+=1;},formatObjectDataSuggestion:function(c){if(this.model.getDataSource().equals(this.model.allDataSource)){if(this.firstObjectDataSuggestion){this.firstObjectDataSuggestion=false;c.label=this.assembleSearchInSuggestionLabel(c);this.addSuggestion(c);this.addChildSuggestions(c);}else{this.addSuggestion(c);}}else{this.addSuggestion(c);}},addChildSuggestions:function(c){if(!c.children){return;}var l=Math.min(c.children.length,b[s.SuggestionType.OBJECTDATA].limitDataSource,b[s.SuggestionType.OBJECTDATA].limit-1);for(var i=0;i<l;++i){var d=c.children[i];this.numberObjectDataSuggestions++;d.label=this.assembleSearchInSuggestionLabel(d);d.position=b[s.SuggestionType.OBJECTDATA].position;this.addSuggestion(d);}},assembleSearchInSuggestionLabel:function(c){return sap.ushell.resources.i18n.getText("resultsIn",['<span>'+c.label+'</span>',c.dataSource.labelPlural]);}});})();
},
	"sap/ushell/renderers/fiori2/search/suggestions/SuggestionHandler.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');var S=sap.ushell.renderers.fiori2.search.SearchHelper;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.SinaSuggestionProvider');var a=sap.ushell.renderers.fiori2.search.suggestions.SinaSuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.DataSourceSuggestionProvider');var D=sap.ushell.renderers.fiori2.search.suggestions.DataSourceSuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.AppSuggestionProvider');var A=sap.ushell.renderers.fiori2.search.suggestions.AppSuggestionProvider;jQuery.sap.require('sap.ushell.renderers.fiori2.search.suggestions.TimeMerger');var T=sap.ushell.renderers.fiori2.search.suggestions.TimeMerger;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SuggestionHandler');var s=sap.ushell.renderers.fiori2.search.suggestions;var b=function(){this.init.apply(this,arguments);};b.prototype={init:function(){this.terms={};},addTerm:function(t){t=t.trim().toLowerCase();this.terms[t]=true;},hasTerm:function(t){t=t.trim().toLowerCase();return!!this.terms[t];},clear:function(){this.terms={};}};s.SuggestionHandler=function(){this.init.apply(this,arguments);};s.SuggestionHandler.prototype={init:function(p){var t=this;t.model=p.model;t.sina=t.model.sina;t.suggestionProviders=[];t.suggestionTermBuffer=new b();t.keyboardRelaxationTime=400;t.uiUpdateInterval=500;t.uiClearOldSuggestionsTimeOut=1000;t.dataSourceSuggestionProvider=new D({model:t.model,sina:t.sina,suggestionTermBuffer:t.suggestionTermBuffer});t.appSuggestionProvider=new A({model:t.model,suggestionTermBuffer:t.suggestionTermBuffer});t.doSuggestionInternal=S.delayedExecution(t.doSuggestionInternal,t.keyboardRelaxationTime);t.timeMerger=new T();},abortSuggestions:function(c){if(c===undefined||c===true){this.model.setProperty("/suggestions",[]);}if(this.clearSuggestionTimer){clearTimeout(this.clearSuggestionTimer);this.clearSuggestionTimer=null;}this.doSuggestionInternal.abort();this.getSuggestionProviders().done(function(d){for(var i=0;i<d.length;++i){var e=d[i];e.abortSuggestions();}});this.timeMerger.abort();},getSuggestionProviders:function(){var t=this;if(t.suggestionProvidersDeferred){return t.suggestionProvidersDeferred;}var c=[t.appSuggestionProvider];if(!t.model.config.searchBusinessObjects){t.suggestionProvidersDeferred=jQuery.when(c);return t.suggestionProvidersDeferred;}t.suggestionProvidersDeferred=t.sina.sinaSystem().getServerInfo().then(function(d){c.push.apply(c,t.createSinaSuggestionProviders(d));return jQuery.when(c);},function(){return jQuery.when(c);});return t.suggestionProvidersDeferred;},createSinaSuggestionProviders:function(c){var p=[{suggestionTypes:[window.sinabase.SuggestionType.HISTORY],activeSuggestionTypes:[]},{suggestionTypes:[window.sinabase.SuggestionType.DATASOURCE],activeSuggestionTypes:[]},{suggestionTypes:[window.sinabase.SuggestionType.OBJECTDATA],activeSuggestionTypes:[]}];var d=c.services.Suggestions.suggestionTypes;var e;var f=false;for(var i=0;i<d.length;++i){var g=d[i];if(g===window.sinabase.SuggestionType.DATASOURCE){f=true;}for(var j=0;j<p.length;++j){e=p[j];if(e.suggestionTypes.indexOf(g)<0){continue;}e.activeSuggestionTypes.push(g);}}var h=[];for(var k=0;k<p.length;++k){e=p[k];if(e.activeSuggestionTypes.length===0){continue;}h.push(new a({model:this.model,sina:this.sina,suggestionTermBuffer:this.suggestionTermBuffer,suggestionQuery:this.model.suggestionQuery,suggestionTypes:e.activeSuggestionTypes}));}if(!f){h.push(this.dataSourceSuggestionProvider);}return h;},isSuggestionPopupVisible:function(){return jQuery('.searchSuggestion').filter(':visible').length>0;},doSuggestion:function(){var t=this;if(this.isSuggestionPopupVisible()){this.abortSuggestions(false);this.clearSuggestionTimer=setTimeout(function(){t.clearSuggestionTimer=null;t.model.setProperty("/suggestions",[]);},t.uiClearOldSuggestionsTimeOut);}else{this.abortSuggestions();}this.doSuggestionInternal();},doSuggestionInternal:function(){var t=this;var c=t.model.getProperty("/uiFilter/searchTerms");if(c.length===0){return;}if(c.trim()==='*'){return;}t.model.eventLogger.logEvent({type:t.model.eventLogger.SUGGESTION_REQUEST,suggestionTerm:t.model.getProperty('/uiFilter/searchTerms'),dataSourceKey:t.model.getProperty('/uiFilter/dataSource').key});t.suggestionTermBuffer.clear();t.getSuggestionProviders().done(function(d){var p=[];var f=true;var e=d.length;for(var i=0;i<d.length;++i){var g=d[i];p.push(g.getSuggestions());}t.timeMerger.abort();t.timeMerger=new T(p,t.uiUpdateInterval);t.timeMerger.process(function(r){e-=r.length;var s=[];for(var j=0;j<r.length;++j){var h=r[j];s.push.apply(s,h);}if(e>0&&s.length===0){return;}if(t.clearSuggestionTimer){clearTimeout(t.clearSuggestionTimer);t.clearSuggestionTimer=null;}t.insertSuggestions(s,f);f=false;});});},insertSuggestions:function(i,f){var s=this.model.getProperty('/suggestions');if(f){s=[];}var g=this._groupByPosition(i);for(var p in g){var c=g[p];this._insertSuggestions(s,c);}this.model.setProperty('/suggestions',s);},_groupByPosition:function(s){var g={};for(var i=0;i<s.length;++i){var c=s[i];var d=g[c.position];if(!d){d=[];g[c.position]=d;}d.push(c);}return g;},_insertSuggestions:function(s,i){if(i.length<=0){return;}var c=i[0];var d=0;for(;d<s.length;++d){var e=s[d];if(e.position>c.position){break;}}var f=[d,0];f.push.apply(f,i);s.splice.apply(s,f);}};})();
},
	"sap/ushell/renderers/fiori2/search/suggestions/SuggestionProvider.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype={init:function(p){jQuery.extend(this,p);},abortSuggestions:function(){},getSuggestions:function(){}};})();
},
	"sap/ushell/renderers/fiori2/search/suggestions/SuggestionTypeProps.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchConfiguration');var S=sap.ushell.renderers.fiori2.search.SearchConfiguration;var c=S.getInstance();c.getSina();jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps');var s=window.sinabase;s.SuggestionType.APPS='apps';var m=sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps={};m[s.SuggestionType.DATASOURCE]={position:10,limit:2};m[s.SuggestionType.APPS]={position:20,limitDsAll:3,limitDsApps:jQuery.device.is.phone?7:7};m[s.SuggestionType.HISTORY]={position:30,limit:3};m[s.SuggestionType.OBJECTDATA]={position:40,limit:jQuery.device.is.phone?7:7,limitDataSource:2};})();
},
	"sap/ushell/renderers/fiori2/search/suggestions/TimeMerger.js":function(){(function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.TimeMerger');var T=sap.ushell.renderers.fiori2.search.suggestions.TimeMerger=function(){this.init.apply(this,arguments);};var c=0;T.prototype={init:function(p,t){this.promiseList=p||[];this.timeDelay=t||1000;this.pending=this.promiseList.length;this.returned=[];this.aborted=false;this.counter=++c;},abort:function(){this.aborted=true;},process:function(p){this.processorCallback=p;this.start();return this;},start:function(){for(var i=0;i<this.promiseList.length;++i){var p=this.promiseList[i];p.done(this.assembleDoneCallback(i));}this.scheduleProcessorNotification();},scheduleProcessorNotification:function(){var t=this;if(t.processorNotificationSchedule){window.clearTimeout(t.processorNotificationSchedule);t.processorNotificationSchedule=null;}t.processorNotificationSchedule=window.setTimeout(function(){t.notifyProcessor();},this.timeDelay);},notifyProcessor:function(){if(this.aborted){return;}if(this.returned.length>0){this.processorCallback(this.returned);this.returned=[];}if(this.pending>0){this.scheduleProcessorNotification();}},assembleDoneCallback:function(i){var t=this;return function(r){t.pending--;t.returned.push(r);if(t.pending===0){if(t.processorNotificationSchedule){window.clearTimeout(t.processorNotificationSchedule);t.processorNotificationSchedule=null;}t.notifyProcessor();}};}};})();
},
	"sap/ushell/renderers/fiori2/search/userpref/SearchPrefs.js":function(){(function(){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.userpref.SearchPrefsModel');var S=sap.ushell.renderers.fiori2.search.userpref.SearchPrefsModel;jQuery.sap.declare('sap.ushell.renderers.fiori2.search.userpref.SearchPrefs');var m=sap.ushell.renderers.fiori2.search.userpref.SearchPrefs={};jQuery.extend(m,{model:new S(),getEntry:function(){var t=this;return{title:sap.ushell.resources.i18n.getText('sp.userProfiling'),editable:true,isSearchPrefsActive:t.model.isSearchPrefsActive.bind(t.model),value:function(){t.model.reset();return t.model.asyncInit().then(function(){return t.model.getProperty('/sessionUserActive')?sap.ushell.resources.i18n.getText('sp.on'):sap.ushell.resources.i18n.getText('sp.off');});},onSave:function(){return t.model.savePreferences();},onCancel:function(){},content:function(){return t.model.asyncInit().then(function(){var u=sap.ui.view({id:'searchPrefsView',type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.renderers.fiori2.search.userpref.SearchPrefsDialog'});u.setModel(t.model);return u;});}};}});})();
},
	"sap/ushell/renderers/fiori2/search/userpref/SearchPrefsDialog.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.m.MessageBox");sap.ui.jsview("sap.ushell.renderers.fiori2.search.userpref.SearchPrefsDialog",{createContent:function(c){var t=this;var u=new sap.m.Label({text:sap.ushell.resources.i18n.getText("sp.userProfilingField")+':'});var s=new sap.m.Switch({state:{path:"/sessionUserActive",mode:sap.ui.model.BindingMode.TwoWay},enabled:{parts:[{path:'/searchPrefsActive'},{path:'/personalizationPolicy'}],formatter:function(b,p){var m=t.getModel();if(b&&p!==m.personalizationPolicyEnforced&&p!==m.personalizationPolicyDisabled){return true;}else{return false;}},mode:sap.ui.model.BindingMode.OneWay},ariaLabelledBy:u});this.resetButton=new sap.m.Button({text:sap.ushell.resources.i18n.getText("sp.clearCollectedData"),press:this.resetHistory.bind(this),visible:{parts:[{path:'/searchPrefsActive'},{path:'/personalizationPolicy'}],formatter:function(b,p){var m=t.getModel();if(!b){return false;}if(p===m.personalizationPolicyOptIn||p===m.personalizationPolicyOptOut){return true;}return false;},mode:sap.ui.model.BindingMode.OneWay}});var l=new sap.ui.layout.VerticalLayout({content:[new sap.m.Text({text:'{/explanationText}',visible:{parts:[{path:'/searchPrefsActive'},{path:'/personalizationPolicy'}],formatter:function(b,p){var m=t.getModel();if(!b){return false;}if(p===m.personalizationPolicyEnforced||p===m.personalizationPolicyDisabled){return true;}return false;}}}),new sap.m.Text({text:sap.ushell.resources.i18n.getText('sp.disclaimer')})]});var a=[u,s,l,this.resetButton];return a;},resetHistory:function(){var t=this;this.getModel().resetProfile().then(function(){t.resetButton.setEnabled(false);},function(r){var e=sap.ushell.resources.i18n.getText('sp.resetFailed');if(r.statusText&&r.statusText.length>0&&r.statusText!=='OK'){e+='\n'+r.statusText+'\n'+t.formatErrorResponse(r.responseText);}sap.m.MessageBox.show(e,{title:sap.ushell.resources.i18n.getText("sp.resetFailedTitle"),icon:sap.m.MessageBox.Icon.ERROR,actions:[sap.m.MessageBox.Action.OK]});});},formatErrorResponse:function(r){var p;try{p=JSON.parse(r);}catch(e){return r;}if(!p.ErrorDetails){return r;}var a=[];for(var i=0;i<p.ErrorDetails.length;++i){var b=p.ErrorDetails[i];a.push(b.Message+' ('+b.Code+')');}return a.join('\n');},switchChangeHandler:function(e){var s=e.getSource();if(s.getState()){return;}var i=sap.ushell.resources.i18n;var d=i.getText("sp.disable");sap.m.MessageBox.confirm(i.getText('sp.disablingUserProfilingMsg'),{title:sap.ushell.resources.i18n.getText("sp.disableUserProfiling"),icon:sap.m.MessageBox.Icon.QUESTION,actions:[d,sap.m.MessageBox.Action.CANCEL],onClose:function(a){if(a==sap.m.MessageBox.Action.CANCEL){s.setState(true);}}});},openMessageBox:function(){var t=this;var i=sap.ushell.resources.i18n;var c=i.getText("sp.clear");sap.m.MessageBox.confirm(i.getText('sp.profileWillBeReset'),{title:sap.ushell.resources.i18n.getText("sp.clearCollectedData"),icon:sap.m.MessageBox.Icon.QUESTION,actions:[c,sap.m.MessageBox.Action.CANCEL],onClose:function(a){if(a==c){t.getModel().resetProfile();}}});}});}());
},
	"sap/ushell/renderers/fiori2/search/userpref/SearchPrefsModel.js":function(){(function(){"use strict";jQuery.sap.require('sap.ui.model.json.JSONModel');jQuery.sap.require("sap.ushell.renderers.fiori2.search.SearchModel");jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchConfiguration');var S=sap.ushell.renderers.fiori2.search.SearchConfiguration;var p='sap.ushell.renderers.fiori2.search.userpref.SearchPrefsModel';sap.ui.model.json.JSONModel.extend(p,{constructor:function(a){var t=this;sap.ui.model.json.JSONModel.prototype.constructor.apply(t,[]);t.config=S.getInstance();t.sina=t.config.getSina();this.reset();},personalizationPolicyOptOut:'Opt-Out',personalizationPolicyOptIn:'Opt-In',personalizationPolicyEnforced:'Enforced',personalizationPolicyDisabled:'Disabled',personalizationPolicies:['Opt-Out','Opt-In','Enforced','Disabled'],isSearchPrefsActive:function(){if(!this.config.searchBusinessObjects||!this.config.enableSearch){return jQuery.when(false);}return this.sina.getSystem().getServerInfo().then(function(s){s=s.rawServerInfo;for(var i=0;i<s.Services.length;++i){var a=s.Services[i];if(a.Service==='PersonalizedSearch'){return jQuery.when(true);}}return jQuery.when(false);},function(){return jQuery.when(false);});},reset:function(){this.initializedDeferred=null;this.setData({searchPrefsActive:false,sessionUserActive:false,personalizationPolicy:'Enforced'});},asyncInit:function(){var t=this;if(t.initializedDeferred){return t.initializedDeferred;}t.initializedDeferred=t.isSearchPrefsActive().then(function(i){t.setProperty('/searchPrefsActive',i);if(!i){return jQuery.when(true);}return t.loadPreferences();});return t.initializedDeferred;},loadPreferences:function(){var t=this;t.searchConfiguration=t.sina.getSearchConfiguration();return t.searchConfiguration.load().then(function(c){var s=c.Data.PersonalizedSearch.SessionUserActive;t.setProperty('/sessionUserActive',s);var a=c.Data.PersonalizedSearch.PersonalizationPolicy;if(t.personalizationPolicies.indexOf(a)<0){a=this.personalizationPolicyDisabled;}t.setProperty('/personalizationPolicy',a);switch(a){case t.personalizationPolicyEnforced:t.setProperty('/explanationText',sap.ushell.resources.i18n.getText('sp.explanationPolicyEnforced'));break;case t.personalizationPolicyDisabled:t.setProperty('/explanationText',sap.ushell.resources.i18n.getText('sp.explanationPolicyDisabled'));break;default:t.setProperty('/explanationText','');}});},savePreferences:function(){var a=this.getProperty('/personalizationPolicy');var s=this.getProperty('/searchPrefsActive');if(!s||a===this.personalizationPolicyEnforced||a===this.personalizationPolicyDisabled){return jQuery.when(true);}var t=this;var d={"SearchConfiguration":{"Action":"Update","Data":{"PersonalizedSearch":{"SessionUserActive":t.getProperty('/sessionUserActive')}}}};return t.searchConfiguration.save(d);},resetProfile:function(){return this.sina.emptyUserHistory();}});})();
},
// @copyright@
	"sap/ushell/components/factsheet/factory/ThingInspector.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.components.factsheet.factory.ThingInspector");sap.ushell.components.factsheet.factory=(function(){jQuery.sap.require("sap.suite.ui.commons.UnifiedThingInspector");jQuery.sap.require("sap.ushell.components.factsheet.annotation.Mapping");jQuery.sap.require("sap.ui.vbm.library");var t,M={},A=[],L={},c,d,g,f,h,q,r,s,u,v,w,x,y={},z,B,C,D,E,F,G,H,I,J,K,N,O,P,Q,R,S,T,U,V,W,X,Y="displayFactSheet";jQuery.sap.require("sap.ui.base.Object");jQuery.sap.require("sap.ui.core.format.NumberFormat");Q=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();if(sap.ui.getCore().getConfiguration().getLanguage()==="ZH"){Q=new sap.ui.core.Locale("zh_CN");}function Z(a){return a<0?true:false;}function _(a){var b=Number(a).toFixed(0);if(Z(a)){b=Number(b)*-1;}return b;}function a1(a,b){var e,o,i,n;if(!a){return"";}o=new RegExp(sap.ui.core.format.NumberFormat.oDefaultFloatFormat.groupingSeparator,"g");if(b>=0){b=parseInt(b,10);n=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:b,maxFractionDigits:b},Q);}else{n=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:0,maxFractionDigits:99},Q);}e=n.format(a);i=e.replace(/[\D]/g,"");if(i&&i.length>6){a=a.replace(o,"");if(_(a)<1000){return sap.ui.core.format.NumberFormat.getIntegerInstance().format(a);}n=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:1,maxFractionDigits:1,style:"short"},Q);return n.format(a);}else{return e;}}function b1(){var p,a,o="",b,m,e,k,i,j,n,l,c1;b=this.getElementBinding().sPath.split("/")[1];m=this.getModel();e=this.mBindingInfos.value.parameters;k=this.mBindingInfos.value.parts;for(i=0;i<e.length;i+=1){o=o+e[i].string;}for(j=0;j<k.length;j+=1){p=k[j].path;l="{"+p+"}";a=m.oData[b][p];o=o.replace(l,a);}n=z(o);if($.isNumeric(n)){c1=this.mBindingInfos.value.parts.filter(function(d1){return(d1.path===p);});n=a1(n,c1[0].type.oFormatOptions.maxFractionDigits);this.setDoubleFontSize(true);}this.setValue(n);this.getElementBinding().detachChange(b1);}V=function(){var a="";if(t.getName()&&t.getDescription()){a=t.getName()+", "+t.getDescription();}else if(t.getName()&&!t.getDescription()){a=t.getName();}else if(!t.getName()&&t.getDescription()){a=t.getDescription();}return a;};f=function(a){var b,e,i;b=a.slice(1).split("/");e="/";for(i=0;i<b.length;i+=1){if((b[i].indexOf("(")>0)&&(b[i].indexOf("sid(")<0)){break;}else{e+=b[i]+"/";}}return e;};h=function(a,m){var e,b,i,n;b=a.slice(m.sServiceUrl.length+1);if(b.indexOf("/")>=0){i=b.split("/");n=i[i.length];e=i[i.length-1];if(e.indexOf("(")>=0){e=e.slice(e.indexOf("("));}e=this.getNavEntitySet(e,n,m.getMetadata());}else{if(b.indexOf("(")>=0){e=b.slice(0,b.indexOf("("));}else{if(b.indexOf("?")>=0){e=b.slice(0,b.indexOf("?"));}else{e=b;}}}return e;};D=function(a,m){var e,k="",o,b;e=a.slice(m.sServiceUrl.length+1);if(e.indexOf("(")>=0){k=e.slice(e.indexOf("(")+1,e.indexOf(")"));if(k.indexOf("=")<=0){o=m.getServiceMetadata();b=r(h(a,m),o);k=E(b,o)+"="+k;}}return k;};E=function(e,m){var i,a,j;for(i=m.dataServices.schema.length-1;i>=0;i-=1){a=m.dataServices.schema[i];if(a.namespace===e.slice(0,e.lastIndexOf("."))){for(j=0;j<a.entityType.length;j+=1){if(a.entityType[j].name===e.slice(e.lastIndexOf(".")+1)){return a.entityType[j].key.propertyRef[0].name;}}}}};q=function(e,m){var i,a,b,j;for(i=m.dataServices.schema.length-1;i>=0;i-=1){a=m.dataServices.schema[i];if(a.entityContainer){b=a.entityContainer[0].entitySet;for(j=b.length-1;j>=0;j-=1){if(b[j].entityType===e){return b[j].name;}}}}};r=function(e,m,b){var i,a,k,j,l;for(i=m.dataServices.schema.length-1;i>=0;i-=1){a=m.dataServices.schema[i];if(a.entityContainer){k=a.entityContainer[0].entitySet;for(j=k.length-1;j>=0;j-=1){if(k[j].name===e){if(b){l=k[j].entityType.slice(a.namespace.length+1);}else{l=k[j].entityType;}return l;}}}}};s=function(e,n,m){var a,i,b,l,k,j,o;a=e.split(".");for(i=m.dataServices.schema.length-1;i>=0;i-=1){b=m.dataServices.schema[i];l=a[0];if(a.length>2){for(k=1;k<a.length-1;k+=1){l+="."+a[k];}}if(b.namespace===l){for(j=0;j<b.entityType.length;j+=1){if(b.entityType[j].name===a[a.length-1]){if(b.entityType[j].navigationProperty){for(k=0;k<b.entityType[j].navigationProperty.length;k+=1){if(b.entityType[j].navigationProperty[k].name===n){o=b.entityType[j].navigationProperty[k];return{name:o.relationship,toRole:o.toRole};}}}}}}}};u=function(e,n,m){var a,b,o,i,l,j,p,k;a=r(e,m);if(n.charAt(0)==="@"){if(M.termDefinitions&&M.termDefinitions[n]){b=M.termDefinitions[n];if(b.indexOf("Collection")>=0){b=b.slice(b.indexOf("(")+1,b.indexOf(")"));}return q(b,m);}}else{o=s(a,n,m);if(o){for(i=m.dataServices.schema.length-1;i>=0;i-=1){l=m.dataServices.schema[i];if(l.entityContainer&&l.entityContainer[0].associationSet){for(j=l.entityContainer[0].associationSet.length-1;j>=0;j-=1){p=l.entityContainer[0].associationSet[j];if(p.association===o.name){for(k=0;k<p.end.length;k+=1){if(p.end[k].role===o.toRole){return p.end[k].entitySet;}}}}}}}}};v=function(e,n,m){var a,o,i,b,j,l,k,p,c1;a=r(e,m);p=a.split(".")[a.split(".").length-1];o=s(a,n,m);if(o){for(i=m.dataServices.schema.length-1;i>=0;i-=1){b=m.dataServices.schema[i];for(j=0;j<b.entityType.length&&!c1;j+=1){if(b.entityType[j].name===p){for(k=0;k<b.entityType[j].navigationProperty.length;k+=1){if(b.entityType[j].navigationProperty[k].name===n){c1=b.entityType[j].navigationProperty[k].toRole;break;}}}}for(j=b.association.length-1;j>=0;j-=1){l=b.association[j];if(b.namespace+"."+l.name===o.name){for(k=0;k<l.end.length;k+=1){if(l.end[k].role===c1){return l.end[k].multiplicity;}}}}}}else{jQuery.sap.log.error("\""+n+"\" wasn't found in the metadata document. Check whether the corresponding search connector is active.");return 0;}};w=function(e,m){var o,a,b,i;o={};if(M.expand){if(M.expand[r(e,m)]){a=M.expand[r(e,m)];b=[];for(i in a){if(a.hasOwnProperty(i)){b.push(a[i]);}}o.expand=b.join(", ");}}return o;};X=function(a,e,o){var m,b,j,k,l,n;for(m=o.dataServices.schema.length-1;m>=0;m-=1){b=o.dataServices.schema[m];for(j=0;j<b.entityType.length;j+=1){if(b.entityType[j].name===e.split(".")[e.split(".").length-1]){for(k=0;k<b.entityType[j].navigationProperty.length;k+=1){if(b.entityType[j].navigationProperty[k].name===a){for(l=0;l<b.association.length;l+=1){for(n=b.association[l].end.length-1;n>=0;n-=1){if(b.association[l].end[n].role===b.entityType[j].navigationProperty[k].toRole){return(b.association[l].end[n].type);}}}}}}}}};x=function(p,o){var b={},j;b.parts=[];b.parameters=[];for(j=p.length-1;j>=0;j-=1){if(p[j].Type==="Path"){if(p[j].EdmType){switch(p[j].EdmType){case"Edm.DateTimeOffset":case"Edm.DateTime":b.parts.push({path:p[j].Value,type:new sap.ui.model.type.DateTime()});break;case"Edm.Time":b.parts.push({path:p[j].Value+"/ms",type:new sap.ui.model.type.Time({source:{pattern:"timestamp"}})});break;case"Edm.Date":b.parts.push({path:p[j].Value,type:new sap.ui.model.type.Date({"UTC":true})});break;case"Edm.Decimal":case"Edm.Double":case"Edm.Single":b.parts.push({path:p[j].Value,type:new sap.ui.model.type.Float()});break;case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":b.parts.push({path:p[j].Value,type:new sap.ui.model.type.Integer()});break;default:b.parts.push({path:p[j].Value});break;}}else{b.parts.push({path:p[j].Value});}}else if(p[j].Type==="String"){b.parameters.unshift({string:p[j].Value});}}b.formatter=function(){var a="",e,k,l,i,m="",n=false,c1=0,d1=0;if(arguments&&arguments.length>=1){e=arguments.length-1;l="";i=0;if(p&&p[0]&&(p[0].Type==="String")&&(p[0].Value.substr(0,1)==="#")){n=true;}for(k=0;k<p.length;k+=1){if(p[k].Type==="Path"){l=arguments[e];if(!l||(l.length===0)){if(a.length>i){if(a.indexOf("(")>i){a=a.substr(0,i);}else{a=a.substr(0,i);l=a;}}}else{if(n){l=encodeURIComponent(l);}a+=l;c1+=1;}e-=1;i=a.length;}else{i=a.length;m=p[k].Value;if(m.indexOf("(")!==-1){d1+=1;}if((l&&l.length>0)||(m.indexOf("(")!==-1)||(m&&(m.substr(0,1)==="#"))){a+=p[k].Value;}else{m="";}}}if(o){a=o(a);}a=a.trim();if((c1===1)&&(d1>0)&&(a.substr(0,1)==="(")&&(a.substr(-1)===")")){a=a.substr(1,a.length-2);}return a.trim();}};return b;};J=function(o,p){var k;for(k in o){if(o.hasOwnProperty(k)){if(k==="__metadata"){continue;}else if(k===p){return o[k];}else if(typeof o[k]==="object"){return J(o[k],p);}}}};z=function(a){var l,n,b,e={},i;l=a.lastIndexOf("/");n=a.slice(0,l);b=a.slice(l+1);if(!y[a]){e=new sap.ui.model.json.JSONModel();e.loadData(n,null,false);y[a]=e.getData();}else{e=y[a];}if(y[a]&&y[a].d){if(!y[a].d[b]){i=J(y[a].d,b);}else{i=y[a].d[b];}}return i;};B=function(o,e,m,a){var b,i,n,j,k,l,p,c1;b=new sap.ui.core.Control();i=K(o.Value,o.EdmType,e);if(o.Value&&o.Value["com.sap.vocabularies.UI.v1.IsImageURL"]){b=new sap.m.Image({height:"50px"});if(i.BindingInfo){b.bindProperty("src",i.BindingInfo);}else{b.setProperty("src",i.String);}}else{if(o.UrlRef||o.Url||(o.Target&&o.Target.Path)){b=new sap.m.Link({wrapping:true});}else{b=new sap.m.Text();if(o.EdmType==="Edm.Decimal"||o.EdmType==="Edm.Double"||o.EdmType==="Edm.Single"||o.EdmType==="Edm.Int16"||o.EdmType==="Edm.Int32"||o.EdmType==="Edm.Int64"){b.setTextAlign(sap.ui.core.TextAlign.End);}}b.addStyleClass("sapFactsheetUtiDataField");if(i.BindingInfo){b.bindProperty("text",i.BindingInfo);}else{b.setProperty("text",i.String);}}if((o.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigation")&&m){n=o.Target.Path;if(M[e][n.slice(1)]){if(n.charAt(0)==="@"){if(n.indexOf("/")<0){j=M[e][n.slice(1)].UrlRef;}else{j=M[e][n.slice(1,n.indexOf("/"))].UrlRef;}b.bindProperty("href",F(j));}}b.attachPress(function(d1){return false;});}if(o.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(o.Url.String){b.setHref(o.Url.String);}else{b.bindProperty("href",F(o.Url));k=new sap.m.Text({wrapping:true});if(i.BindingInfo){k.bindProperty("text",i.BindingInfo);}else{k.setProperty("text",i.String);}b.setVisible(false);l=new sap.ui.layout.VerticalLayout();l.addContent(b);l.addContent(k);if(!A[A.indexOf(a)].Links){A[A.indexOf(a)].Links=[];}if(o.Url.Apply){p=o.Url.Apply.Parameters[0].Value.slice(o.Url.Apply.Parameters[0].Value.indexOf("#")+1,o.Url.Apply.Parameters[0].Value.indexOf("-"));c1=o.Url.Apply.Parameters[0].Value.slice(o.Url.Apply.Parameters[0].Value.indexOf("#")+1,o.Url.Apply.Parameters[0].Value.indexOf("?"));}A[A.indexOf(a)].Links.push({sSemanticObject:p,sIntend:c1,oVL:l});}}if(l){return l;}else{return b;}};C=function(o,l,p,b){var a,e="",i="",m,j,k,n;a=new sap.m.Label(l);a.addStyleClass("sapFactsheetUtiLabel");if(b){e=":";}if(o.Label){if(o.Label.String){a.setText(o.Label.String.trim()+e);a.setTooltip(o.Label.String.trim());}else{if(o.Label.Path){a.bindProperty("text",o.Label.Path);a.bindProperty("tooltip",o.Label.Path);}}}else{if(o.Value){if(o.Value.Path&&p){m=p[o.Value.Path];for(j in m){if(m.hasOwnProperty(j)){if(j==="http://www.sap.com/Protocols/SAPData"){if(m[j].label){i=m[j].label;break;}}}}}else if(o.Value.Apply&&(o.Value.Apply.Name==="odata.concat")){for(k in o.Value.Apply.Parameters){if(o.Value.Apply.Parameters.hasOwnProperty(k)){n=o.Value.Apply.Parameters[k];if(n.Type==="Path"){m=p[n.Value];for(j in m){if(m.hasOwnProperty(j)){if(j==="http://www.sap.com/Protocols/SAPData"){if(m[j].label){i=m[j].label;break;}}}}break;}}}}a.setText(i+e);a.setTooltip(i);}}return a;};K=function(o,e,a){var b={},p,k,l=[],j,m,n,c1=[],d1,e1,i,f1,g1,h1,i1,j1=[],k1;k1=function(a,l1,m1){var p,n1={};p=M.propertyAnnotations[a];if(p&&p[l1]&&p[l1][m1]){if(p[l1][m1].Path){n1.Type="Path";n1.Value=p[l1][m1].Path;}else{n1.Type="String";n1.Value=p[l1][m1].String;}}return n1;};if(!o){return false;}if(o.Apply){if(o.Apply.Name==="odata.concat"){if(a&&M.propertyAnnotations&&M.propertyAnnotations[a]){k=o.Apply.Parameters;for(j=0;j<k.length;j+=1){l.push(k[j]);if(k[j].Type==="Path"){p=k1(a,k[j].Value,"Org.OData.Measures.V1.ISOCurrency");if(!$.isEmptyObject(p)){l.push({Type:"String",Value:" "});l.push({Type:p.Type,Value:p.Value});}p=k1(a,k[j].Value,"Org.OData.Measures.V1.Unit");if(!$.isEmptyObject(p)){l.push({Type:"String",Value:" "});l.push({Type:p.Type,Value:p.Value});}}}b.BindingInfo=x(l);}else{b.BindingInfo=x(o.Apply.Parameters);}}}else{if(o.Path){if(o.Path.charAt(0)==="@"){m=M[a][o.Path.slice(1,o.Path.indexOf("/"))].UrlRef;n=o.Path.slice(o.Path.indexOf("/")+1);if(m&&m.Apply){d1=m.Apply.Parameters;switch(m.Apply.Name){case"odata.concat":c1=d1;c1.push({Type:"String",Value:"/"+n});break;case"odata.fillUriTemplate":e1=d1[0].Value.split("{");for(i in e1){if(e1.hasOwnProperty(i)){if(e1[i].indexOf("}")<0){c1.push({Type:"String",Value:e1[i]});}else{f1=e1[i].split("}");for(j=1;j<d1.length;j+=1){if(d1[j].Name===f1[0]){g1=d1[j].Value;if(g1.Path){c1.push({Type:"Path",Value:g1.Path});}else{if(g1.Apply&&g1.Apply.Name&&(g1.Apply.Name.toLowerCase()==="odata.uriencode")){h1=g1.Apply.Parameters[0];c1.push({Type:h1.Type,Value:encodeURIComponent(h1.Value)});c1.push({Type:"String",Value:"{"+encodeURIComponent(h1.Value)+"}"});}}}}c1.push({Type:"String",Value:f1[1]});}}}c1.push({Type:"String",Value:"/"+n});b.fnChange=b1;break;default:break;}b.BindingInfo=x(c1,z);}else{if(m&&m.Path){c1.push({Type:"Path",Value:m.Path},{Type:"String",Value:"/"+n});b.BindingInfo=x(c1,z);}else{if(m&&m.String){b.String=z(m.String+"/"+n);}}}}else{b.BindingInfo={};switch(e){case"Edm.DateTimeOffset":case"Edm.DateTime":b.BindingInfo={path:o.Path,type:new sap.ui.model.type.DateTime()};break;case"Edm.Time":b.BindingInfo={path:o.Path+"/ms",type:new sap.ui.model.type.Time({source:{pattern:"timestamp"}})};break;case"Edm.Date":b.BindingInfo={path:o.Path,type:new sap.ui.model.type.Date({"UTC":true})};break;case"Edm.Decimal":case"Edm.Double":case"Edm.Single":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":if((e==="Edm.Decimal")||(e==="Edm.Double")||(e==="Edm.Single")){i1=new sap.ui.model.type.Float();}else if((e==="Edm.Int16")||(e==="Edm.Int32")||(e==="Edm.Int64")){i1=new sap.ui.model.type.Integer();}if(M.propertyAnnotations){j1.push({Type:"Path",Value:o.Path,EdmType:e},{Type:"String",Value:" "});p=k1(a,o.Path,"Org.OData.Measures.V1.ISOCurrency");if(!$.isEmptyObject(p)){j1.push({Type:p.Type,Value:p.Value});}p=k1(a,o.Path,"Org.OData.Measures.V1.Unit");if(!$.isEmptyObject(p)){j1.push({Type:p.Type,Value:p.Value});}b.BindingInfo=x(j1);}else{b.BindingInfo={path:o.Path,type:i1};}break;default:b.BindingInfo={path:o.Path};break;}}}else{if(o.String){b.String=o.String;}}}return b;};F=function(o){var a=[],p,b,j,e,i={},k,l,m;if(o&&o.Apply){p=o.Apply.Parameters;switch(o.Apply.Name){case"odata.fillUriTemplate":p[0].Value=p[0].Value.trim();b=p[0].Value.split("{");for(j=0;j<b.length;j+=1){if(b[j].indexOf("}")<0){a.push({"Value":b[j],"Type":"String"});}else{e=b[j].split("}");i={};i.Value=e[0];i.Type="Path";for(j=1;j<p.length;j+=1){if(p[j].Name===i.Value){k=p[j].Value;if(k.Path){i.Value=k.Path;}else{if(k.Apply&&k.Apply.Name&&k.Apply.Name.toLowerCase()==="odata.uriencode"){i.Value=k.Apply.Parameters[0].Value;}}break;}}a.push(i);a.push({"Value":e[1],"Type":"String"});}}l=sap.ushell.Container.getService("NavTargetResolution").getCurrentResolution();if(l&&l.url){m=jQuery.sap.getUriParameters(l.url).get("sap-system");if(m){a.push({Type:"String",Value:"&sap-system="+m});}}break;default:break;}}return x(a);};G=function(o){var a=sap.ui.core.TextAlign.Begin;if(o.EdmType==="Edm.Decimal"||o.EdmType==="Edm.Double"||o.EdmType==="Edm.Single"||o.EdmType==="Edm.Int16"||o.EdmType==="Edm.Int32"||o.EdmType==="Edm.Int64"){a=sap.ui.core.TextAlign.End;}return a;};N=function(m,e,a,o,b,k){var l,p,j=0,n=0,c1=0,d1=0,e1,i,f1,g1,h1;if(!b){b=m.getServiceMetadata();}if(!a){a=[];}l=r(e,b);h1=new sap.ui.layout.form.SimpleForm({labelMinWidth:150,maxContainerCols:2});p=(M.propertyExtensions)?M.propertyExtensions[l]:[];if(o&&o.High){n=o.High;}if(o&&o.Medium){c1=o.Medium;}if(o&&o.Low){d1=o.Low;}for(i=0;i<a.length;i+=1){e1=W(a[i]);if(o&&(e1==="High")){if(n){n-=1;}else{continue;}}else if(o&&(e1==="Medium")){if(c1){c1-=1;}else{continue;}}else if(o&&(e1==="Low")){if(d1){d1-=1;}else{continue;}}if(o&&o.Total&&(j>=o.Total)){break;}j+=1;f1=new sap.ui.core.Control().setModel(m);g1=C(a[i],{textAlign:sap.ui.core.TextAlign.End},p,false);g1.addStyleClass("sapFactsheetUtiFormPadding");f1=B(a[i],l,b,k);f1.addStyleClass("sapFactsheetUtiFormPadding");if(f1.setTextAlign){f1.setTextAlign(sap.ui.core.TextAlign.Begin);}h1.addContent(g1);h1.addContent(f1);}h1.addStyleClass("sapFactsheetUtiFormLayout");return h1;};O=function(m,e,o,b,a){var j,k="",l,n,p,c1,d1,e1,f1,g1,h1,i1,j1=[],i,k1,l1,m1;j=m.getServiceMetadata();switch(o.RecordType){case"com.sap.vocabularies.UI.v1.ReferenceFacet":l=new sap.suite.ui.commons.UnifiedThingGroup();if(o.Label&&o.Label.String){l.setTitle(o.Label.String);}n=o.Target.AnnotationPath;p=n.substring(n.lastIndexOf("@")+1);n=n.substring(0,n.lastIndexOf("@")-1);if(n){k=v(e,n,j);}c1=p.split("#");switch(c1[0]){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":case"com.sap.vocabularies.UI.v1.Badge":case"com.sap.vocabularies.UI.v1.Identification":if(n){d1=u(e,n,j);k1=r(d1,j);}else{k1=r(e,j);}if(c1[0]==="com.sap.vocabularies.UI.v1.Chart"){p="com.sap.vocabularies.UI.v1.LineItem";}l1=M[k1][p];if(M.propertyExtensions){m1=M.propertyExtensions[k1];}if(k==="*"&&c1[0]!=="com.sap.vocabularies.UI.v1.Identification"){e1=P(m,l1,k1,j,b+"/"+n,o,m1,a);l.setContent(e1);}if(c1[0]==="com.sap.vocabularies.UI.v1.Identification"){f1=M[k1]["com.sap.vocabularies.UI.v1.Identification"];g1=new sap.ui.layout.VerticalLayout({width:"100%"}).setModel(m);if(n){g1.addContent(N(m,d1,f1,null,null,a)).addStyleClass("sapFactsheetUtiPanel");g1.bindElement(b+"/"+n);}else{g1.addContent(N(m,e,f1,null,null,a).addStyleClass("sapFactsheetUtiPanel"));}l.setContent(g1);}break;case"com.sap.vocabularies.UI.v1.StatusInfo":if(n){d1=u(e,n,j);h1=M[r(d1,j)]["com.sap.vocabularies.UI.v1.StatusInfo"];l.setContent(N(m,d1,h1,null,null,a).addStyleClass("sapFactsheetUtiPanel").bindElement(b+"/"+n));}else{h1=M[r(e,j)]["com.sap.vocabularies.UI.v1.StatusInfo"];l.setContent(N(m,e,h1,null,null,a).addStyleClass("sapFactsheetUtiPanel"));}break;case"com.sap.vocabularies.UI.v1.FieldGroup":i1=M[r(e,j)][p];if(i1){if(!l.getTitle()||(l.getTitle()==="")){if(i1.Label){if(i1.Label.String){l.setTitle(i1.Label.String);}else{if(i1.Label.Path){l.bindProperty("title",i1.Label.Path);}}}}if(n){d1=u(e,n,j);l.setContent(N(m,d1,i1.Data,null,null,a).addStyleClass("sapFactsheetUtiPanel").bindElement(b+"/"+n));}else{l.setContent(N(m,e,i1.Data,null,null,a).addStyleClass("sapFactsheetUtiPanel"));}}break;default:break;}return l;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":l=new sap.ui.ux3.ThingGroup({title:o.Label.String});l.setContent(H(o));return l;case"com.sap.vocabularies.UI.v1.CollectionFacet":for(i=0;i<o.Facets.length;i+=1){j1.push(O(m,e,o.Facets[i],b,a));}return j1;default:break;}};H=function(o){var i,a,b;switch(o.UrlContentType.String){case"image/png":case"image/jpeg":case"image/gif":i=new sap.m.Image({width:"100%"});if(o.Url.String){i.setSrc(o.Url.String);}return i;default:a=new sap.ui.core.HTML();if(o.Url.String){a.setContent("<iframe src = '"+o.Url.String+"' width='100%' height='250px' frameborder='0'></iframe>");}else{if(o.Url.Path){a.bindProperty("content",{path:o.Url.Path,formatter:function(e){b="<iframe src = '"+o.Url.Path+"' width='100%' height='250px' frameborder='0'></iframe>";return b;}});}}return a;}};P=function(m,a,e,o,b,l,n,c1){var d1,e1,f1,g1,h1,i,k,i1=[],j1=[],k1=[],l1=[],m1,n1,o1,p1,q1,r1,s1,t1=[],u1,v1,w1,x1=[],y1,z1,A1,B1,C1,D1,E1,F1,G1=false,H1,I1;F1=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");if(!o){o=m.getServiceMetadata();}d1=(M.propertyExtensions)?M.propertyExtensions[e]:[];e1=6;if(jQuery.device.is.tablet&&jQuery.device.is.landscape){e1=5;}else if(jQuery.device.is.tablet&&jQuery.device.is.portrait){e1=4;}else if(jQuery.device.is.phone&&jQuery.device.is.landscape){e1=3;}else if(jQuery.device.is.phone&&jQuery.device.is.portrait){e1=2;}f1=0;g1=0;for(i=0;i<a.length;i+=1){h1=W(a[i]);if(h1==="High"){f1+=1;}}if(e1>f1){g1=e1-f1;}else if(e1<f1){f1=e1;}j1.push(new sap.m.Column({visible:false}));i1.push(new sap.m.Text().bindText("__metadata/uri"));for(i=0;i<a.length;i+=1){I1="";o1=new sap.ui.core.Control();h1=W(a[i]);o1=B(a[i],e,o,c1);m1=C(a[i],null,d1);if(a[i].Value.Path){w1=a[i].Value.Path;if(n&&n[w1]&&n[w1]["http://www.sap.com/Protocols/SAPData"]&&n[w1]["http://www.sap.com/Protocols/SAPData"].sortable){m1.data("IsSortable",n[w1]["http://www.sap.com/Protocols/SAPData"].sortable);if(n[w1]["http://www.sap.com/Protocols/SAPData"].sortable==="true"){G1=true;}}else{m1.data("IsSortable","true");G1=true;}if(n&&n[w1]&&n[w1]["http://www.sap.com/Protocols/SAPData"]&&n[w1]["http://www.sap.com/Protocols/SAPData"].filterable){m1.data("IsFilterable",n[w1]["http://www.sap.com/Protocols/SAPData"].filterable);if(n[w1]["http://www.sap.com/Protocols/SAPData"].filterable==="true"){G1=true;}}else{m1.data("IsFilterable","true");G1=true;}}else{H1=true;for(k=0;k<a[i].Value.Apply.Parameters.length;k+=1){if(a[i].Value.Apply.Parameters[k].Type==="Path"){w1=a[i].Value.Apply.Parameters[k].Value;if(n[w1]&&n[w1]["http://www.sap.com/Protocols/SAPData"]&&n[w1]["http://www.sap.com/Protocols/SAPData"].sortable){if(n[w1]["http://www.sap.com/Protocols/SAPData"].sortable==="false"){H1=false;I1="";break;}}if(I1){I1+=";";}I1+=w1;}}w1=I1;if(H1===false){m1.data("IsSortable","false");}else{m1.data("IsSortable","true");G1=true;}m1.data("IsFilterable","false");}if(a[i].EdmType){m1.data("EdmType",a[i].EdmType);}m1.data("ColumnName",w1);k1.push(m1);l1.push(o1);if(h1==="High"){if(f1>0){n1=true;f1-=1;}else{n1=false;}}else if(h1==="Medium"){if(g1>0){n1=true;g1-=1;}else{n1=false;}}else{n1=false;}j1.push(new sap.m.Column({header:m1,hAlign:G(a[i]),visible:n1}));i1.push(o1);}p1=new sap.m.ColumnListItem({type:sap.m.ListType.Navigation,unread:false,cells:i1});if(l){q1=l.Label.String;}p1.attachPress({aColumns:a,aLabels:k1,aControls:l1,sTitle:q1},function(j,p){var J1,K1,m1,i,L1,M1,N1;J1=j.getSource().getCells()[0].getText().substr(j.getSource().getCells()[0].getText().lastIndexOf("/"));K1=new sap.m.Table({backgroundDesign:sap.m.BackgroundDesign.Transparent,showSeparators:sap.m.ListSeparators.None,columns:[new sap.m.Column({hAlign:sap.ui.core.TextAlign.End}),new sap.m.Column()]});K1.addStyleClass("sapFactsheetUtiPanel");K1.addStyleClass("sapFactsheetUtiTilePadding");K1.addStyleClass("sapFactsheetUtiTableNoTopBorder");K1.bindElement(J1);for(i=0;i<a.length;i+=1){m1=k1[i].clone();m1.setText(m1.getText()+":");N1=l1[i].clone();m1.setLabelFor(N1);K1.addItem(new sap.m.ColumnListItem({cells:[m1,N1]}));}L1=new sap.suite.ui.commons.UnifiedThingGroup({content:K1,title:q1,description:V()});M1=new sap.m.Page({title:t.getTitle(),showNavButton:true,content:[L1]});t.navigateToPage(M1,true);t.attachAfterNavigate(K1,function(j){if(j.getParameters().getParameters().toId.indexOf("__page")>=0){var O1;O1=K1.getItems();if(O1.length>0&&A.indexOf(c1)>=0){A[A.indexOf(c1)].bLoaded=true;A[A.indexOf(c1)].bProcessed=false;A[A.indexOf(c1)].bIsTable=true;A[A.indexOf(c1)].oTableItems=O1;c(A.indexOf(c1));}}});});r1=new sap.m.Table({growing:true,columns:j1});r1.setModel(m);r1.bindItems({path:b,template:p1});z1=new sap.m.VBox({items:[new sap.m.Input({placeholder:F1.getText("USHELL_FACTSHEET_ENTER_YOUR_FILTER"),change:function(j){var p,J1,K1,L1,i;p=j.getSource().getParent().getParent().getId();J1=sap.ui.getCore().byId(p.substr(0,p.indexOf("-")));K1=J1.getFilterItems();for(i=0;i<K1.length;i+=1){if(K1[i]instanceof sap.m.ViewSettingsCustomItem&&K1[i].getKey()===this.oParent.data("ColumnName")){L1=K1[i];break;}}if(L1){if((j.getParameter("newValue")===undefined)||(j.getParameter("newValue")==="")){L1.setSelected(false);L1.setFilterCount(0);}else{L1.setSelected(true);L1.setFilterCount(1);}}}}).addStyleClass("sapFactsheetUtiFilterInput")]});A1=new sap.m.VBox({items:[new sap.m.List({mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:true,items:[new sap.m.StandardListItem({title:F1.getText("USHELL_FACTSHEET_GREATER_THEN")}).data("FilterOperator",sap.ui.model.FilterOperator.GT),new sap.m.StandardListItem({title:F1.getText("USHELL_FACTSHEET_EQUALS")}).data("FilterOperator",sap.ui.model.FilterOperator.EQ),new sap.m.StandardListItem({title:F1.getText("USHELL_FACTSHEET_LESS_THEN")}).data("FilterOperator",sap.ui.model.FilterOperator.LT)]}),new sap.m.Input({placeholder:F1.getText("USHELL_FACTSHEET_ENTER_YOUR_FILTER"),change:function(j){var p,J1,K1,L1,i;p=j.getSource().getParent().getParent().getId();J1=sap.ui.getCore().byId(p.substr(0,p.indexOf("-")));K1=J1.getFilterItems();for(i=0;i<K1.length;i+=1){if((K1[i]instanceof sap.m.ViewSettingsCustomItem)&&(K1[i].getKey()===this.oParent.data("ColumnName"))){L1=K1[i];break;}}if(L1){if((j.getParameter("newValue")===undefined)||(j.getParameter("newValue")==="")){L1.setSelected(false);L1.setFilterCount(0);}else{L1.setSelected(true);L1.setFilterCount(1);}}}}).addStyleClass("sapFactsheetUtiFilterInput")]});new sap.m.VBox({items:[new sap.m.List({mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:true,items:[new sap.m.StandardListItem({title:F1.getText("USHELL_FACTSHEET_AFTER")}).data("FilterOperator",sap.ui.model.FilterOperator.GT),new sap.m.StandardListItem({title:F1.getText("USHELL_FACTSHEET_AT")}).data("FilterOperator",sap.ui.model.FilterOperator.EQ),new sap.m.StandardListItem({title:F1.getText("USHELL_FACTSHEET_BEFORE")}).data("FilterOperator",sap.ui.model.FilterOperator.LT)]}),new sap.m.DateTimeInput({type:sap.m.DateTimeInputType.Date,valueFormat:new sap.ui.model.type.DateTime({pattern:"yyyy/MM/dd HH:mm:ss UTC+00:00"}).getOutputPattern(),placeholder:F1.getText("USHELL_FACTSHEET_ENTER_YOUR_FILTER"),change:function(j){var p,J1,K1,L1,i;p=j.getSource().getParent().getParent().getId();J1=sap.ui.getCore().byId(p.substr(0,p.indexOf("-")));K1=J1.getFilterItems();for(i=0;i<K1.length;i+=1){if((K1[i]instanceof sap.m.ViewSettingsCustomItem)&&(K1[i].getKey()===this.oParent.data("ColumnName"))){L1=K1[i];break;}}if((j.getParameter("newValue")===undefined)||(j.getParameter("newValue")==="")){L1.setSelected(false);L1.setFilterCount(0);}else{L1.setSelected(true);L1.setFilterCount(1);}}}).addStyleClass("sapFactsheetUtiFilterInput")]});B1=function(o1){var j=[],i,p,J1=o1.getItems(),K1;if(J1[0].getParent().data("EdmType")==="Edm.String"&&J1[0].getValue()){j.push(new sap.ui.model.Filter(J1[0].getParent().data("ColumnName"),sap.ui.model.FilterOperator.Contains,J1[0].getValue()));}else if(J1[0].getParent().data("EdmType")==="Edm.Decimal"&&J1[1].getValue()){for(i=0;i<J1[0].getItems().length;i+=1){if(J1[0].getItems()[i].getSelected()===true){p=J1[0].getItems()[i].data("FilterOperator");break;}}K1=J1[1].getValue();for(i=K1.length-1;i>0;i-=1){if(K1[i]===","){K1=K1.replace(K1[i],".");break;}}j.push(new sap.ui.model.Filter(J1[1].getParent().data("ColumnName"),p,K1));}else if(J1[0].getParent().data("EdmType")==="Edm.Date"&&J1[1].getValue()){for(i=0;i<J1[0].getItems().length;i+=1){if(J1[0].getItems()[i].getSelected()===true){p=J1[0].getItems()[i].data("FilterOperator");break;}}j.push(new sap.ui.model.Filter(J1[1].getParent().data("ColumnName"),p,J1[1].getValue()));}else{j.push(new sap.ui.model.Filter(J1[0].getParent().data("ColumnName"),sap.ui.model.FilterOperator.EQ,J1[0].getValue()));}return j;};C1=function(p){var J1=p.getSource(),K1=J1.getFilterItems(),L1,i,j;for(i=0;i<K1.length;i+=1){if(K1[i]&&K1[i]instanceof sap.m.ViewSettingsCustomItem){K1[i].setSelected(false);K1[i].setFilterCount(0);L1=K1[i].getCustomControl().getItems();for(j=0;j<L1.length;j+=1){if((L1[j]instanceof sap.m.Input)||(L1[j]instanceof sap.m.DateTimeInput)){L1[j].setValue("");}if((L1[j]instanceof sap.m.List)&&(L1[j].getSelectedItem()!==null)){L1[j].removeSelections();}}}}};D1=C1;for(i=0;i<j1.length;i+=1){if(j1[i+1]){m1=k1[i].clone();if(m1.getText()&&(m1.data("IsSortable")==="true")&&j1[i+1].getVisible()){u1=new sap.m.ViewSettingsItem({text:m1.getText(),key:m1.data("ColumnName")});if(i===0){u1.setSelected(true);}u1.Sort=m1.Sort;t1.push(u1);}if(m1.getText()&&(m1.data("IsFilterable")==="true")){if(m1.data("EdmType")==="Edm.String"){E1=z1.clone().data("ColumnName",m1.data("ColumnName")).data("EdmType",m1.data("EdmType"));}else if(m1.data("EdmType")==="Edm.Decimal"){E1=A1.clone().data("ColumnName",m1.data("ColumnName")).data("EdmType",m1.data("EdmType"));}if((m1.data("EdmType")==="Edm.String")||(m1.data("EdmType")==="Edm.Decimal")){y1=new sap.m.ViewSettingsCustomItem({key:m1.data("ColumnName"),text:m1.getText(),customControl:E1,customData:new sap.ui.core.CustomData({key:"callback",value:B1})});x1.push(y1);}}}}v1=new sap.m.ViewSettingsDialog({sortItems:t1,filterItems:x1,cancel:D1,resetFilters:C1,confirm:function(j){var J1,K1,L1=[],M1,N1=[],O1,P1=[],Q1=[],p,i,R1;J1=j.getParameters();K1=r1.getBinding("items");if(J1.sortItem){M1=J1.sortItem.getKey();O1=J1.sortDescending;if(M1.indexOf(";")>0){N1=M1.split(";");for(i=0;i<N1.length;i+=1){L1.push(new sap.ui.model.Sorter(N1[i],O1));}}else if(M1){L1.push(new sap.ui.model.Sorter(M1,O1));}K1.sort(L1);}p=J1;for(i=0;i<p.filterItems.length;i+=1){if(p.filterItems[i]instanceof sap.m.ViewSettingsCustomItem){R1=p.filterItems[i].getCustomData()[0].getValue();P1=R1.apply(this,[p.filterItems[i].getCustomControl()]);if(P1){if(!Array.isArray(P1)){P1=[P1];}Q1=Q1.concat(P1);}}else if(p.filterItems[i]instanceof sap.m.ViewSettingsItem){P1=p.filterItems[i].getCustomData()[0].getValue();if(P1){if(!Array.isArray(P1)){P1=[P1];}Q1=Q1.concat(P1);}}}K1.filter(Q1);}});if(G1===true&&(t1.length>0||x1.length>0)){r1.setHeaderToolbar(new sap.m.Toolbar({content:[new sap.m.Label(),new sap.m.ToolbarSpacer(),new sap.m.Button({icon:"sap-icon://drop-down-list",press:function(j){v1.open();},tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VIEW_SETTINGS")})]}));}r1.setNoDataText(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("PULL2REFRESH_LOADING_LONG"));s1=(function(c1){return function(j){var p=this.getItems();if(p.length===0){this.setNoDataText(F1.getText("FACETOVERVIEW_NO_CONTENT_TEXT"));}else{this.setNoDataText(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("PULL2REFRESH_LOADING_LONG"));}if(p.length>0&&A.indexOf(c1)>=0){A[A.indexOf(c1)].bLoaded=true;A[A.indexOf(c1)].bProcessed=false;A[A.indexOf(c1)].bIsTable=true;A[A.indexOf(c1)].oTableItems=p;}c(A.indexOf(c1));};}(c1));r1.attachUpdateFinished(s1);return r1;};R=function(a,o,b,e){var i;switch(a){case"com.sap.vocabularies.UI.v1.ChartType/Area":i=new sap.viz.ui5.Area({});break;case"com.sap.vocabularies.UI.v1.ChartType/Bar":i=new sap.viz.ui5.Bar({});break;case"com.sap.vocabularies.UI.v1.ChartType/Bubble":i=new sap.viz.ui5.Bubble({});break;case"com.sap.vocabularies.UI.v1.ChartType/Column":i=new sap.viz.ui5.Column({});break;case"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked":i=new sap.viz.ui5.StackedColumn({});break;case"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100":i=new sap.viz.ui5.StackedColumn100({});break;case"com.sap.vocabularies.UI.v1.ChartType/Donut":i=new sap.viz.ui5.Donut({});break;case"com.sap.vocabularies.UI.v1.ChartType/HeatMap":i=new sap.viz.ui5.Heatmap({});break;case"com.sap.vocabularies.UI.v1.ChartType/HorizontalArea":i=new sap.viz.ui5.HorizontalArea({});break;case"com.sap.vocabularies.UI.v1.ChartType/Line":i=new sap.viz.ui5.Line({});break;case"com.sap.vocabularies.UI.v1.ChartType/Pie":i=new sap.viz.ui5.Pie({});break;case"com.sap.vocabularies.UI.v1.ChartType/Scatter":i=new sap.viz.ui5.Scatter({});break;case"com.sap.vocabularies.UI.v1.ChartType/TreeMap":i=new sap.viz.ui5.Treemap({});break;case"com.sap.vocabularies.UI.v1.ChartType/AreaStacked":case"com.sap.vocabularies.UI.v1.ChartType/AreaStacked100":case"com.sap.vocabularies.UI.v1.ChartType/BarStacked":case"com.sap.vocabularies.UI.v1.ChartType/BarStacked100":case"com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked":case"com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked100":case"com.sap.vocabularies.UI.v1.ChartType/Radar":case"com.sap.vocabularies.UI.v1.ChartType/Waterfall":break;}if(i){if(o&&o.String){i.setTitle(new sap.viz.ui5.types.Title({visible:true,text:o.String}));}if(b&&b.String){i.setTooltip(b.String);}i.setWidth("100%");i.setHeight("17rem");i.setDataset(e);}else{i=new sap.m.Text({});}return i;};S=function(i){var a;i=i||1;if(jQuery.device.is.phone){a=(7*i)+"rem";}else{a=(11*i-1)+"rem";}return a;};T=function(a){var i,b=0,e=0,j=0,o;for(i=0;i<a.length;i+=1){o=W(a[i]);if(o){switch(o){case"High":b+=1;break;case"Medium":e+=1;break;case"Low":j+=1;break;}}}return{High:b,Medium:e,Low:j};};W=function(o){var e="";if(o.Importance){e=o.Importance.EnumMember;}else if(o["com.sap.vocabularies.UI.v1.Importance"]){e=o["com.sap.vocabularies.UI.v1.Importance"].EnumMember;}return e.substr(e.indexOf("/")+1);};U=function(m,a,e,b){var i=false,o,j,k,l;o=new sap.suite.ui.commons.KpiTile({doubleFontSize:false});if(a.ValueFormat){j=a.ValueFormat.NumberOfFractionalDigits.Int;}if(a.Title&&a.Title.String){o.setDescription(a.Title.String);}else{if(a.Title&&a.Title.Path){o.bindProperty("description",{path:a.Title.Path});}}if(a.Value&&a.Value.String){o.setValue(a.Value.String);}else{if(a.Value&&a.Value.Path){k=K(a.Value,a.Value.EdmType,e);if(k.fnChange){o.setModel(m);o.bindElement(b);o.getElementBinding().attachChange(k.fnChange,o);}if(k.String){if($.isNumeric(k.String)){i=true;o.setValue(a1(k.String,j));}else{o.setValue(k.String);}}else if(k.BindingInfo){l=k.BindingInfo;if(l.parts&&l.parts.length===2){o.bindProperty("valueUnit",l.parts[0]);l.parts[1].type=undefined;l.parts[1].formatter=(function(){return function(n){return a1(n,j);};}(j));o.bindProperty("value",l.parts[1]);}else if(l.parts&&l.parts.length===1){l.parts[0].type=undefined;l.parts[0].formatter=(function(){return function(n){return a1(n,j);};}(j));o.bindProperty("value",l);}else{o.bindProperty("value",l);}}}}if(a.Value.EdmType==="Edm.Decimal"||a.Value.EdmType==="Edm.Double"||a.Value.EdmType==="Edm.Single"||a.Value.EdmType==="Edm.Int16"||a.Value.EdmType==="Edm.Int32"||a.Value.EdmType==="Edm.Int64"||i===true){o.setDoubleFontSize(true);}return o;};g=function(m){var a=[],b=[],e,j,k,i,l;j=function(o){if(k(o)===false){if(o.constructor===Array){for(i=0;i<o.length;i+=1){k(o[i]);}}if(o.constructor===Object){for(l in o){if(o.hasOwnProperty(l)){if(o[l].constructor!==String){j(o[l]);}}}}}};k=function(o){if(o.RecordType&&o.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(o.Url&&o.Url.Apply){e=o.Url.Apply.Parameters[0].Value.slice(o.Url.Apply.Parameters[0].Value.indexOf("#")+1,o.Url.Apply.Parameters[0].Value.indexOf("-"));if(a.indexOf(e)<0){a.push(e);}return true;}}else{return false;}};for(l in M){if(M.hasOwnProperty(l)){if(l.indexOf(m.dataServices.schema[0].namespace)>=0){j(M[l]);}}}for(i=0;i<a.length;i+=1){if(!L.hasOwnProperty(a[i])){b.push(a[i]);}}return b;};d=function(a){var i,o,l,b;if(a.length>0){o=new sap.ui.model.json.JSONModel();l="/sap/opu/odata/UI2/INTEROP/SemanticObjects?$expand=Links&$format=json";b="&$filter=id%20eq%20%27";for(i=0;i<a.length;i+=1){if(b.length>22){b+="%20or%20id%20eq%20%27"+a[i]+"%27";}else{b+=a[i]+"%27";}}l+=l+b;o.loadData(l);o.attachRequestCompleted(function(){var i,j,e,k=[];if(this.getData().d&&this.getData().d.results){e=this.getData().d.results;for(i=0;i<e.length;i+=1){L[e[i].id]="";k=e[i].Links.results;for(j=0;j<k.length;j+=1){L[k[j].id.slice(0,k[j].id.indexOf("~"))]="";}}}L.InteropCompleted=true;c();});}else{L.InteropCompleted=true;}};c=function(a){var i,j,k,n,b,e,l;if(L.InteropCompleted===true){for(i=0;i<A.length;i+=1){if(A[i].bLoaded&&!A[i].bProcessed&&A[i].Links){l=A[i].Links;for(j=0;j<l.length;j+=1){if(L.hasOwnProperty(l[j].sIntend)===true){if(A[i].bIsTable===true){if(A[i].oTableItems){b=A[i].oTableItems;for(k=0;k<b.length;k+=1){e=b[k].getCells();for(n=0;n<e.length;n+=1){if(e[n]instanceof sap.ui.layout.VerticalLayout&&e[n].getContent()[0].getBindingInfo("href").parts===l[j].oVL.getContent()[0].getBindingInfo("href").parts&&e[n].getContent()[1].getBindingInfo("text").parts===l[j].oVL.getContent()[1].getBindingInfo("text").parts){e[n].getContent()[0].setVisible(true);e[n].getContent()[1].setVisible(false);}}}}}else{l[j].oVL.getContent()[0].setVisible(true);l[j].oVL.getContent()[1].setVisible(false);}}else if(A[i].bIsTable===false){l[j].oVL.getContent()[1].setText(l[j].oVL.getContent()[0].getText());}A[i].bProcessed=true;}}}}if(a>=0){if(A[a].bLoaded&&!A[a].bProcessed&&A[a].Links){l=A[a].Links;for(j=0;j<l.length;j+=1){if(A[a].bIsTable===false){l[j].oVL.getContent()[1].setText(l[j].oVL.getContent()[0].getText());}}}}};I=function(e,l,t){var m,n,p,c1,d1,e1,f1,g1,i,h1={},i1,j1,k1,l1,j,m1,n1,o1,p1,q1,r1,s1,t1,u1,v1=0,w1=0,x1,y1,z1,A1,B1,C1,D1,E1=[],F1,G1,H1,I1,J1,K1,L1,M1,N1,O1,P1,Q1,R1,S1,T1,U1,V1,W1=0,X1,Y1,Z1,$1,_1,a2,b2,c2;m=f(e);r1=l.substring(0,l.substring(0,l.lastIndexOf("/")).lastIndexOf("/"));s1=l.substring(l.substring(0,l.lastIndexOf("/")).lastIndexOf("/"));if(window.location.search.indexOf("cbn_keep_anno_case%3Dtrue")===-1){s1=s1.toLowerCase();}n=new sap.ui.model.odata.ODataModel(m,{annotationURI:r1+s1,loadAnnotationsJoined:true,loadMetadataAsync:false,json:true});n.setCountSupported(false);t.setModel(n);p=h(e,n);c1="/"+e.slice(m.length);d1=n.getServiceMetadata();M=n.getServiceAnnotations();e1=r(p,d1);f1=M[e1]["com.sap.vocabularies.UI.v1.HeaderInfo"];g1=M[e1]["com.sap.vocabularies.UI.v1.Facets"];t.bindElement(c1,w(p,d1));t1=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");L.InteropCompleted=false;d(g(d1));t.addStyleClass("sapFactsheetUtiThingType"+p.replace(/\s/g,""));if(f1.TypeName.String){t.setTitle(f1.TypeName.String);}else{if(f1.TypeName.Path){t.bindProperty("title",{path:f1.TypeName.Path});}}if(f1.ImageUrl&&f1.ImageUrl.String){t.setIcon(f1.ImageUrl.String);}else if(f1.ImageUrl&&f1.ImageUrl.Path){t.bindProperty("icon",{path:f1.ImageUrl.Path});}else if(f1.TypeImageUrl&&f1.TypeImageUrl.String){t.setIcon(f1.TypeImageUrl.String);}else if(f1.TypeImageUrl&&f1.TypeImageUrl.Path){t.bindProperty("icon",{path:f1.TypeImageUrl.Path});}if(f1.Title.Value.String){t.setName(f1.Title.Value.String);}else{t.bindProperty("name",K(f1.Title.Value,f1.Title.EdmType,e1).BindingInfo);}if(f1.Description&&f1.Description.Value){if(f1.Description.Value.String){t.setDescription(f1.Description.Value.String);}else{t.bindProperty("description",K(f1.Description.Value,f1.Description.EdmType,e1).BindingInfo);}}for(X1 in M[e1]){if(M[e1].hasOwnProperty(X1)){if(X1.search("com.sap.vocabularies.UI.v1.DataPoint")!==-1){Y1=M[e1][X1];if(Y1){t.addKpi(U(n,Y1,e1,c1));W1+=1;}}if(W1>=3){break;}}}for(i=0;i<g1.length;i+=1){if(g1[i]["com.sap.vocabularies.UI.v1.IsSummary"]){n1=g1[i];break;}}if(n1){u1=15;for(j=0;j<n1.Facets.length;j+=1){x1=n1.Facets[j].Target.AnnotationPath.substring(n1.Facets[j].Target.AnnotationPath.lastIndexOf("@")+1);i1=n1.Facets[j].Target.AnnotationPath;i1=i1.substring(0,i1.lastIndexOf("@")-1);n1.Facets[j].NavPath=i1;y1=u(p,i1,d1);n1.Facets[j].NavEntitySet=y1;if(y1){z1=y1;}else{z1=p;}n1.Facets[j].EntitySet=z1;A1=r(y1,d1);if(A1){B1=A1;}else{B1=e1;}n1.Facets[j].EntityType=B1;C1=[];if(M[B1][x1].length){C1=M[B1][x1];}else if(M[B1][x1].Data.length){C1=M[B1][x1].Data;}n1.Facets[j].Content=C1;for(i=0;i<C1.length;i+=1){D1=W(C1[i]);if(D1==="High"){v1+=1;}else if(D1==="Medium"){w1+=1;}}}if(v1>=u1){v1=u1;w1=0;}else if((v1+w1)>u1){w1=u1-v1;if(w1<0){w1=0;}}if(jQuery.device.is.phone){w1=0;}H1=u1-v1-w1;P1=new sap.suite.ui.commons.FacetOverview({title:t1.getText("UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT")});A=[];A.push(P1);A[0].bLoaded=false;A[0].bProcessed=false;A[0].bIsTable=false;I1=[];K1=w1+v1;for(j=0;j<n1.Facets.length;j+=1){L1=N(n,n1.Facets[j].EntitySet,n1.Facets[j].Content,{High:v1,Medium:w1,Low:0},null,P1).addStyleClass("sapFactsheetUtiTilePadding");if(j>0){L1.addStyleClass("sapFactsheetUtiPaddingTop");}if(n1.Facets[j].NavPath){L1.bindElement(c1+"/"+n1.Facets[j].NavPath);}J1=T(n1.Facets[j].Content);v1-=J1.High;w1-=J1.Medium;if(((J1.High>0)&&((v1+J1.High)>0))||((J1.Medium>0)&&((w1+J1.Medium)>0))){I1.push(L1);if(j>0){if(H1>0){H1-=1;}else if(w1>0){w1-=1;}else if(v1>0){v1-=1;}}}if((v1<1)&&(w1<1)){break;}}if(v1<0){v1=0;}if(w1<0){w1=0;}h1=new sap.ui.layout.VerticalLayout({content:I1,width:"100%"});M1=S();O1=1;if((K1>3)&&(K1<=9)){M1=S(2);O1=2;}else if(K1>9){M1=S(3);O1=3;}P1.setContent(h1);P1.setRowSpan(O1);if(jQuery.device.is.phone){P1.setHeightType(sap.suite.ui.commons.FacetOverviewHeight.Auto);}else{P1.setHeight(M1);}P1.addStyleClass("sapFactsheetUtiGeneralInformationOverviewFacet");P1.attachPress({facets:n1},function(o,a){var b,k,d2,e2,h1;t.removeAllFacetContent();d2=new sap.suite.ui.commons.UnifiedThingGroup();d2.setDescription(V());d2.setTitle(t1.getText("UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT"));d2.addStyleClass("sapFactsheetUtiGeneralInformationUtg");if(a.facets.Facets.length>1){b="L6 M12 S12";}else{b="L12 M12 S12";}A[0].Links=[];e2=new sap.ui.layout.VerticalLayout({width:"100%"});for(i=0;i<a.facets.Facets.length;i+=1){if(i%2===0){k=new sap.ui.layout.Grid({hSpacing:1,vSpacing:1,defaultSpan:b});}h1=O(n,p,a.facets.Facets[i],c1,this);h1.addStyleClass("sapFactsheetUtiGeneralInformationUtgContent");if((i===0)&&(a.facets.Facets.length>1)&&(h1.getTitle().trim()==="")){h1.setTitle(t1.getText("UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT"));}k.addContent(h1);if(i%2!==0){e2.addContent(k);}}A[0].bLoaded=true;A[0].bProcessed=false;A[0].bIsTable=false;c(0);if(i%2!==0){e2.addContent(k);}d2.setContent(e2);t.addFacetContent(d2);t.navigateToDetail();});t.addFacet(P1);}k1=function(l1){return function(a){var o,b,k,d2,e2,f2,g2,h2,i2,j2,c1,k2,l2,m2,n2,o2,p2,q2,r2,i;if((l1.cardinality==="*"&&a.results&&a.results.length&&a.results.length!==0)||(l1.cardinality==="1"&&a)){j2=new sap.ui.model.json.JSONModel();if(l1.cardinality==="*"){if(a.results&&a.results.length){j2.setData(a);}}else{j2.setData({result:a});c1="/result";}o=new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/VBI_APPL_DEF_SRV",false);b=M[l1.navigationType]["com.sap.vocabularies.UI.v1.GeoLocation"];l2=M[l1.navigationType]["com.sap.vocabularies.UI.v1.HeaderInfo"];m2=M[l1.navigationType]["com.sap.vocabularies.UI.v1.Identification"];if(b.Longitude&&b.Latitude){d2={"Data":{"Set":{"N":[{"name":"Spots","E":[]}]}}};if(l1.cardinality==="1"){if(b.Longitude.Path&&b.Latitude.Path){k=a[b.Longitude.Path]+";"+a[b.Latitude.Path]+";0";}d2.Data.Set.N[0].E.push({"A":k,"I":"pin_blue.png"});}else{for(i=0;i<a.results.length;i+=1){if(b.Longitude.Path&&b.Latitude.Path){k=a.results[i][b.Longitude.Path]+";"+a.results[i][b.Latitude.Path]+";0";}d2.Data.Set.N[0].E.push({"A":k,"I":"pin_blue.png"});}if(a.results.length!==0){k=a.results[0][b.Longitude.Path]+";"+a.results[0][b.Latitude.Path]+";0";}}}r2=parseInt(a.__count,10);if(Number(r2)){l1.facet.setQuantity(r2);}g2=function(s2){var t2,u2,v2,w2,x2;t2=$.parseJSON(s2.getParameters().data);if(t2.Action.name==="DETAIL_REQUEST"&&t2.Action.instance){u2=t2.Action.instance;if(j2.oData.results){c1="/results/"+u2.split(".")[1];}q2=l2.TypeName.String.substring(0,17);w2=parseFloat(S(0.7))*16;x2=parseFloat(S(1.5))*16;v2={"SAPVB":{"version":"2.0","xmlns:VB":"VB","Windows":{"Remove":{"name":"Detail1"},"Set":{"name":"Detail1","Window":{"id":"Detail1","type":"callout","refParent":"Main","refScene":"","offsetX":"16","offsetY":"-27","modal":"false","width":x2,"height":w2,"caption":q2,"pos.bind":u2+".GeoPosition"}}},"Scenes":{"Set":{"name":"Details","Scene":{"id":"Details","navControlVisible":"false"}}}}};this.load(v2);}};h2=function(s2){var X1,t2,y1,u2;if(!n2){n2=B(l2.Title,l1.navigationType,d1,l1.facet);n2.setModel(j2);n2.bindElement(c1);o2=B(l2.Description,l1.navigationType,d1,l1.facet);o2.setModel(j2);o2.bindElement(c1);for(X1 in b.Address){if(X1==="label"){k2=B({Value:b.Address[X1]},l1.navigationType,d1,l1.facet);k2.setModel(j2);k2.bindElement(c1);break;}}u2=7;if(jQuery.device.is.tablet&&jQuery.device.is.landscape){u2=4;}else if(jQuery.device.is.tablet&&jQuery.device.is.portrait){u2=5;}else if(jQuery.device.is.phone&&jQuery.device.is.landscape){u2=2;}else if(jQuery.device.is.phone&&jQuery.device.is.portrait){u2=3;}p2=new sap.ui.layout.VerticalLayout({width:"100%"}).setModel(n);if(l1.navigationPath){y1=u(l1.entitySet,l1.navigationPath,d1);p2.addContent(N(n,y1,m2,{High:u2},null,l1.facet));p2.setModel(j2).bindElement(c1);}else{p2.addContent(N(n,l1.entitySet,m2,{High:u2},null,l1.facet)).setModel(j2).bindElement(c1);}}else{n2.bindElement(c1);if(o2){o2.bindElement(c1);}if(k2){k2.bindElement(c1);}if(p2){p2.bindElement(c1);}}t2=parseFloat(S(1.5))*16*0.95+"px";if(n2){n2.placeAt(s2.getParameter("contentarea").id);n2.addStyleClass("sapFactsheetUtiGeoPopupHead");if(jQuery.device.is.phone){n2.addStyleClass("sapFactsheetUtiGeoPopupHeadFontPhone");}n2.setWidth(t2);}if(o2){o2.placeAt(s2.getParameter("contentarea").id);o2.addStyleClass("sapFactsheetUtiGeoPopupDescr");if(jQuery.device.is.phone){o2.addStyleClass("sapFactsheetUtiGeoPopupDescrFontPhone");}o2.setWidth(t2);}if(k2){k2.placeAt(s2.getParameter("contentarea").id);k2.addStyleClass("sapFactsheetUtiGeoPopupText");k2.setWidth(t2);}if(p2&&p2.getContent()[0]&&p2.getContent()[0].getContent&&p2.getContent()[0].getContent().length>0){p2.placeAt(s2.getParameter("contentarea").id);p2.addStyleClass("sapFactsheetUtiGeoPopupText");p2.setWidth(t2);}if(A.indexOf(l1.facet)>=0){A[A.indexOf(l1.facet)].bLoaded=true;A[A.indexOf(l1.facet)].bProcessed=false;A[A.indexOf(l1.facet)].bIsTable=false;}c(A.indexOf(l1.facet));};i2=function(s2){if(n2){n2.destroy();n2=undefined;}if(o2){o2.destroy();o2=undefined;}if(k2){k2.destroy();k2=undefined;}if(p2){p2.destroy();p2=undefined;}$(s2.getParameter("contentarea").id).empty();};e2=function(l1){return function(a){var s2,t2,u2,v2,i;v2=a.ProjectJSON;v2=v2.indexOf("{")?v2.substr(v2.indexOf("{")):v2;s2=$.parseJSON(v2);s2.SAPVB.Scenes.Set.SceneGeo.initialStartPosition=k;s2.SAPVB.Scenes.Set.SceneGeo.initialZoom=12;s2.SAPVB.Actions.Set.Action.push({id:"200",name:"TAP_ON_MAP",refEvent:"Click",refScene:"MainScene",refVO:"Map"});if(d2){s2.SAPVB.Data=d2.Data;}for(i=0;i<s2.SAPVB.Scenes.Set.SceneGeo.VO.length;i+=1){if(s2.SAPVB.Scenes.Set.SceneGeo.VO[i].datasource==="Spots"){if(s2.SAPVB.Scenes.Set.SceneGeo.VO[i].scale&&s2.SAPVB.Scenes.Set.SceneGeo.VO[i].scale.split(";").length!==3){s2.SAPVB.Scenes.Set.SceneGeo.VO[i].scale="1.0;1.0;1.0";break;}}}l1.facet.getContent().attachSubmit(function(w2){if(jQuery.device.is.tablet||jQuery.device.is.phone){l1.facet.firePress();}});l1.facet.getContent().load(s2);l1.facet.attachPress("",function(w2,x2){var y2=[],z2=[],i,A2;if(!t2){t2=new sap.ui.vbm.VBI({width:"100%",height:"100%",plugin:false,config:null});t2.addStyleClass("sapFactsheetUtiGeoPopup");}s2.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.move="false";s2.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.zoom="false";s2.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.pitch="false";s2.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.yaw="false";s2.SAPVB.Scenes.Set.SceneGeo.SuppressedNavControlVisibility="false";t2.load(s2);if(l1.cardinality==="*"){for(i=0;i<j2.oData.results.length;i+=1){y2.push(j2.oData.results[i][b.Longitude.Path]);z2.push(j2.oData.results[i][b.Latitude.Path]);}}t2.attachSubmit(g2);t2.attachOpenWindow(h2);t2.attachCloseWindow(i2);u2=new sap.suite.ui.commons.UnifiedThingGroup({content:t2,title:l1.facetContent.Label.String,description:V()});t.removeAllFacetContent();t.addFacetContent(u2);t.navigateToDetail();t.attachAfterNavigate(y2,function(w2){if(w2.getParameters().getParameters().toId.indexOf("-detail-page")!==-1){if(jQuery.device.is.phone){A2="300px";}else{A2=Math.floor($("#"+w2.getParameters().getParameters().toId+"-cont").height()-128)+"px";}t2.setHeight(A2);if(y2.length>1){t2.zoomToGeoPosition(y2,z2);}}});});};};f2=function(s2){return function(t2){t.removeFacet(s2);};};o.read("VBIApplicationSet('ZFACTSHEETS')","","",false,e2(l1),f2(l1.facet));}else{l1.facet.setQuantity(undefined);l1.facet.addStyleClass("sapFactsheetUtiEmptyTile");l1.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S);l1.facet.setContent(undefined);l1.facet.setTitle(undefined);}};};b2=function(o){var a,b;a=o.srcControl.getParent().getParent().getDomRef().clientWidth;b=a;if(o.srcControl.getParent().getContent()[0]){b-=o.srcControl.getParent().getContent()[0].getDomRef().clientWidth;if(a<o.srcControl.getParent().getContent()[0].getDomRef().clientWidth){o.srcControl.getParent().getContent()[0].getDomRef().setAttribute("style","width:"+a+"px");return;}}if(o.srcControl.getParent().getContent()[1]){b-=o.srcControl.getParent().getContent()[1].getDomRef().clientWidth;}if(b<10){b=0;}if(o.srcControl.getParent().getContent()[2]){o.srcControl.getParent().getContent()[2].getDomRef().setAttribute("style","width:"+b+"px");}};j1=function(l1){return function(a){var o,b,k,d2,e2,f2,i,j,h1,g2,h2,i2,j2,k2,l2,m2,n2,o2,p2,q2,r2,s2,t2,u2,v2,w2="",x2,y2,z2,A2,B2,C2;o=new sap.ui.model.json.JSONModel();if(l1.facetContent.Target&&l1.facetContent.Target.AnnotationPath&&l1.facetContent.Target.AnnotationPath.split("#")[1]&&M[l1.navigationType]["com.sap.vocabularies.UI.v1.Badge#"+l1.facetContent.Target.AnnotationPath.split("#")[1]]){b=M[l1.navigationType]["com.sap.vocabularies.UI.v1.Badge#"+l1.facetContent.Target.AnnotationPath.split("#")[1]];}else{b=M[l1.navigationType]["com.sap.vocabularies.UI.v1.Badge"];}if(l1.cardinality==="*"){if(a.results&&a.results.length){x2=l1.facetContent.Target.AnnotationPath;Z1=x2.substring(x2.lastIndexOf("@")+1);if(Z1==="com.sap.vocabularies.UI.v1.Chart"){jQuery.sap.require("sap.viz.ui5.data.FlattenedDataset");y2=M[l1.navigationType]["com.sap.vocabularies.UI.v1.Chart"];z2=M.propertyExtensions[l1.navigationType];A2=[];for(i=0;i<y2.Dimensions.length;i+=1){A2.push({axis:1,name:z2[y2.Dimensions[i].PropertyPath]["http://www.sap.com/Protocols/SAPData"].label,value:"{"+y2.Dimensions[i].PropertyPath+"}"});}B2=[];for(i=0;i<y2.Measures.length;i+=1){B2.push({name:z2[y2.Measures[i].PropertyPath]["http://www.sap.com/Protocols/SAPData"].label,value:"{"+y2.Measures[i].PropertyPath+"}"});}C2=new sap.viz.ui5.data.FlattenedDataset({dimensions:A2,measures:B2,data:{path:"/results"}});h1=R(y2.ChartType.EnumMember,y2.Title,y2.Description,C2);h1.setModel(o);l1.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.XL);}else{h1=new sap.ui.layout.VerticalLayout({width:"100%"}).addStyleClass("sapFactsheetUtiVLayoutPadding");for(i=0;i<a.results.length;i+=1){e2=new sap.ui.layout.HorizontalLayout().addStyleClass("sapFactsheetUtiHLayoutPadding");k=B(b.Title,l1.navigationType,d1,l1.facet);if(k.setWrapping){k.setWrapping(false);}k.addDelegate({onAfterRendering:b2});o=new sap.ui.model.json.JSONModel();o.setData({result:a.results[i]});k.setModel(o);k.bindElement("/result");f2=false;if(a.results[i][b.Title.Value.Path]){f2=true;}if(b.Title.Value.Apply){for(j=0;j<b.Title.Value.Apply.Parameters.length;j+=1){if(b.Title.Value.Apply.Parameters[j].Type==="Path"){if(a.results[i][b.Title.Value.Apply.Parameters[j].Value]){f2=true;break;}}}}w2="";if(f2){e2.addContent(k);if(b.MainInfo&&((b.MainInfo.EdmType&&b.MainInfo.EdmType==="Edm.Decimal")||(b.MainInfo.Value&&b.MainInfo.Value.Apply&&b.MainInfo.Value.Apply.Parameters[0]&&b.MainInfo.Value.Apply.Parameters[0].EdmType&&b.MainInfo.Value.Apply.Parameters[0].EdmType==="Edm.Decimal"))){w2="comma";}else if(b.MainInfo&&b.MainInfo.Value.Path&&a.results[i][b.MainInfo.Value.Path]){w2="dash";}else if(b.MainInfo&&b.MainInfo.Value.Apply){for(j=0;j<b.MainInfo.Value.Apply.Parameters.length;j+=1){if(b.MainInfo.Value.Apply.Parameters[j].Type==="Path"){if(a.results[i][b.MainInfo.Value.Apply.Parameters[j].Value]){w2="dash";break;}}}}if(w2==="dash"){e2.addContent(new sap.ui.core.HTML({content:"<span class=\"sapFactsheetUtiSeparatorPadding sapMText\"> &ndash; </span>"}));}if(w2==="comma"){e2.addContent(new sap.m.Text({text:", "}).addStyleClass("sapFactsheetUtiSeparatorPaddingForDecimal"));}}if(b.MainInfo){d2=B(b.MainInfo,l1.navigationType,d1,l1.facet);if(d2.setWrapping){d2.setWrapping(false);}d2.addDelegate({onAfterRendering:b2});d2.setModel(o);d2.bindElement("/result");e2.addContent(d2);}h1.addContent(e2);}}g2=parseInt(a.__count,10);if(Number(g2)){l1.facet.setQuantity(g2);}l1.facet.setContent(h1);l1.facet.attachPress({facet:l1.facetContent},function(D2,E2){var h1;t.removeAllFacetContent();A[A.indexOf(l1.facet)].Links=[];h1=O(n,l1.entitySet,E2.facet,l1.bindingPath,this);h1.setDescription(V());t.addFacetContent(h1);if(A.indexOf(l1.facet)>=0){A[A.indexOf(l1.facet)].bLoaded=false;A[A.indexOf(l1.facet)].bProcessed=false;A[A.indexOf(l1.facet)].bIsTable=true;}c(A.indexOf(l1.facet));t.navigateToDetail();});}else{l1.facet.setQuantity(0);l1.facet.addStyleClass("sapFactsheetUtiEmptyTile");l1.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S);}if(A.indexOf(l1.facet)>=0){A[A.indexOf(l1.facet)].bLoaded=true;A[A.indexOf(l1.facet)].bProcessed=false;A[A.indexOf(l1.facet)].bIsTable=false;}c(A.indexOf(l1.facet));}else{o.setData({result:a});for(u2 in a){if(a.hasOwnProperty(u2)){if(u2!=="__metadata"){if(typeof a[u2]==="string"&&a[u2]){if(parseInt(a[u2],10)!==0){v2=true;break;}}else if(typeof a[u2]==="number"&&parseInt(a[u2],10)!==0){v2=true;break;}}}}if(v2){h2=new sap.ui.layout.VerticalLayout();i2=(M.propertyExtensions)?M.propertyExtensions[l1.navigationType]:[];j2=new sap.ui.layout.HorizontalLayout().addStyleClass("sapFactsheetUtiHLayoutLabelValue");k2=C(b.Title,{},i2,true).addStyleClass("sapFactsheetUtiLabelMargin");k=B(b.Title,l1.navigationType,d1,l1.facet);k.setModel(o);k.bindElement("/result");j2.addContent(k2);j2.addContent(k);h2.addContent(j2);if(b.MainInfo){l2=new sap.ui.layout.HorizontalLayout().addStyleClass("sapFactsheetUtiHLayoutLabelValue");m2=C(b.MainInfo,{},i2,true).addStyleClass("sapFactsheetUtiLabelMargin");d2=B(b.MainInfo,l1.navigationType,d1,l1.facet);d2.setModel(o);d2.bindElement("/result");l2.addContent(m2);l2.addContent(d2);h2.addContent(l2);}if(b.SecondaryInfo){n2=new sap.ui.layout.HorizontalLayout().addStyleClass("sapFactsheetUtiHLayoutLabelValue");o2=C(b.SecondaryInfo,{},i2,true).addStyleClass("sapFactsheetUtiLabelMargin");p2=B(b.SecondaryInfo,l1.navigationType,d1,l1.facet);p2.setModel(o);p2.bindElement("/result");n2.addContent(o2);n2.addContent(p2);h2.addContent(n2);}if(b.TypeImageUrl||b.ImageUrl){if(b.ImageUrl){q2=b.ImageUrl;}else{q2=b.TypeImageUrl;}r2=new sap.ui.layout.HorizontalLayout();s2="64px";if(jQuery.device.is.phone){s2="48px";}if(q2.String&&(q2.String.substr(0,11)==="sap-icon://")){t2=new sap.ui.core.Icon({size:s2,width:s2});}else{t2=new sap.m.Image({width:s2});}t2.addStyleClass("sapFactsheetUtiRelIcon");if(q2&&q2.String){t2.setSrc(q2.String);}else{if(q2&&q2.Path){t2.bindProperty("src",q2.Path);}}r2.addContent(t2);r2.addContent(h2);l1.facet.setContent(r2);}else{l1.facet.setContent(h2);}l1.facet.attachPress({facet:l1.facetContent},function(D2,E2){var h1;t.removeAllFacetContent();A[A.indexOf(l1.facet)].Links=[];h1=O(n,l1.entitySet,E2.facet,l1.bindingPath,this);h1.setDescription(V());t.addFacetContent(h1);if(A.indexOf(l1.facet)>=0){A[A.indexOf(l1.facet)].bLoaded=true;A[A.indexOf(l1.facet)].bProcessed=false;A[A.indexOf(l1.facet)].bIsTable=false;}c(A.indexOf(l1.facet));t.navigateToDetail();});}else{l1.facet.addStyleClass("sapFactsheetUtiEmptyTile");l1.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S);}if(A.indexOf(l1.facet)>=0){A[A.indexOf(l1.facet)].bLoaded=true;A[A.indexOf(l1.facet)].bProcessed=false;A[A.indexOf(l1.facet)].bIsTable=false;}c(A.indexOf(l1.facet));}};};a2=function(l1){return function(a){t.removeFacet(l1.facet);};};$1=function(l1){return function(a){var o,b,i,k,d2;b=M[l1.navigationType]["com.sap.vocabularies.UI.v1.MediaResource"];if(l1.cardinality==="*"){if(a.results&&a.results.length){o=new sap.ui.layout.HorizontalLayout().addStyleClass("sapFactsheetUtiPictureViewerOverview");for(i=0;i<a.results.length;i+=1){o.addContent(new sap.m.Image({src:a.results[i][b.Thumbnail.Url.Path],height:"85px"}));if(i===3){break;}}k=parseInt(a.__count,10);if(Number(k)){l1.facet.setQuantity(k);}l1.facet.setContent(o);l1.facet.attachPress({facet:l1.facetContent,data:a},function(e2,f2){var g2,_1,h2;t.removeAllFacetContent();d2=new sap.suite.ui.commons.UnifiedThingGroup();if(f2.facet.Label&&f2.facet.Label.String){d2.setTitle(f2.facet.Label.String);}d2.setDescription(V());if(jQuery.device.is.phone){_1="350px";}else{_1="550px";}g2=new sap.m.Carousel({height:_1});for(i=0;i<f2.data.results.length;i+=1){h2=new sap.m.Image({src:f2.data.results[i][b.Url.Path]});if(jQuery.device.is.phone){h2.addStyleClass("sapFactsheetUtiCarouselMaxImageHeightPhone");}else{h2.addStyleClass("sapFactsheetUtiCarouselMaxImageHeight");}g2.addPage(h2);}d2.setContent(g2);t.addFacetContent(d2);t.navigateToDetail();});}else{l1.facet.setQuantity(0);l1.facet.addStyleClass("sapFactsheetUtiEmptyTile");l1.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S);}}};};c2=function(o,d2){var k,i,j,e2=[],f2={},g2,h2,i2,j2,k2,l2,m2,n2;h2=function(d1,a){var i,b="";if(d1){if(d1.Path){return a[d1.Path];}else if(d1.String){return d1.String;}else if(d1.Apply.Name==="odata.concat"){for(i=0;i<d1.Apply.Parameters.length;i+=1){if(d1.Apply.Parameters[i].Type==="Path"){b=b+a[d1.Apply.Parameters[i].Value];}else if(d1.Apply.Parameters[i].Type==="String"){b=b+d1.Apply.Parameters[i].Value;}}return b;}}};f2.iCount=0;f2.aContacts=[];for(i=0;i<o.__batchResponses.length;i+=1){if(!o.__batchResponses[i].data){continue;}e2=o.__batchResponses[i].data.results;if(!e2){e2=[];e2.push(o.__batchResponses[i].data);}if(e2.length>0){g2=M[e2[0].__metadata.type]["com.sap.vocabularies.Communication.v1.Contact"];if(g2){for(j=0;j<e2.length;j+=1){i2=j2=k2="";if(g2.tel){for(k=0;k<g2.tel.length;k+=1){if(g2.tel[k].type&&g2.tel[k].type.EnumMember){l2=h2(g2.tel[k].uri,e2[j]);switch(g2.tel[k].type.EnumMember){case"com.sap.vocabularies.Communication.v1.PhoneType/voice":i2=l2?l2.replace("tel:",""):"";i2=i2?i2.replace(";ext=",""):"";break;case"com.sap.vocabularies.Communication.v1.PhoneType/cell":j2=l2?l2.replace("tel:",""):"";j2=j2?j2.replace(";ext=",""):"";break;case"com.sap.vocabularies.Communication.v1.PhoneType/fax":k2=l2?l2.replace("tel:",""):"";k2=k2?k2.replace(";ext=",""):"";break;}}}}n2=g2.email&&g2.email.address?g2.email.address:"";m2=h2(g2.photo,e2[j]);f2.iCount+=1;f2.aContacts.push({fn:h2(g2.fn,e2[j]),title:h2(g2.title,e2[j]),org:h2(g2.org,e2[j]),phone:i2,mobile:j2,fax:k2,photo:m2,email:h2(n2,e2[j]),sEntity:e2[0].__metadata.type,bExistsPhoto:m2?true:false,bUseIcon:m2?false:true,sOrder:f2.iCount});}}}}if(d2){f2.aContacts.sort(function(a,b){return a[d2]>b[d2]?1:-1;});}return f2;};G1=function(l1){return function(o){var i,a,b,k,d2,e2,f2,g2;a=c2(o,"sOrder");b=new sap.ui.layout.Grid({defaultSpan:"L6 M6 S12",hSpacing:0,vSpacing:0}).addStyleClass("sapFactsheetUtiContactsGrid");for(i=0;i<a.aContacts.length&&i<4;i+=1){e2=new sap.ui.layout.VerticalLayout();if(a.aContacts[i].photo){f2=new sap.m.Image({height:"55px",src:a.aContacts[i].photo});}else{f2=new sap.ui.core.Icon({size:"50px",src:sap.ui.core.IconPool.getIconURI("person-placeholder")}).addStyleClass("sapFactsheetUtiRelIcon");}e2.addContent(f2);e2.addStyleClass("sapFactsheetUtiContactsImage");d2=new sap.ui.layout.VerticalLayout({content:[new sap.m.Text({text:a.aContacts[i].fn}).addStyleClass("sapFactsheetUtiTextName"),new sap.m.Text({text:a.aContacts[i].title}).addStyleClass("sapFactsheetUtiTextValue")]});k=new sap.ui.layout.HorizontalLayout({content:[e2,d2]}).addStyleClass("sapFactsheetUtiContactsBox");b.addContent(k);}P1=sap.ui.getCore().byId(t.data("contactFacetId"));P1.setQuantity(a.iCount);if(i>0){P1.setContent(b);if(i<=2){g2=sap.suite.ui.commons.FacetOverviewHeight.M;}else{g2=sap.suite.ui.commons.FacetOverviewHeight.L;}P1.attachPress(function(){var i,E1=[],F1;n.clearBatch();for(i=0;i<M[e1]["com.sap.vocabularies.UI.v1.Contacts"].length;i+=1){i1=M[e1]["com.sap.vocabularies.UI.v1.Contacts"][i].AnnotationPath;i1=i1.substring(0,i1.lastIndexOf("@")-1);if(i1!==""){F1=c1+"/"+i1;}else{F1=c1;}E1.push(n.createBatchOperation(F1,"GET"));}n.addBatchReadOperations(E1);n.submitBatch(function(o){var a,h2,i2,j2,k2,l2,m2;m2=jQuery.sap.resources({url:jQuery.sap.getModulePath("sap.ushell.components.container.")+"/resources/resources.properties",language:sap.ui.getCore().getConfiguration().getLanguage()});a=c2(o,"sEntity");h2=new sap.ui.model.json.JSONModel();h2.setData(a);i2=new sap.m.ColumnListItem({type:sap.m.Inactive,unread:false,cells:[new sap.ui.layout.VerticalLayout({content:[new sap.m.Image({src:"{photo}",width:"74px",visible:"{bExistsPhoto}"}),new sap.ui.core.Icon({size:"76px",src:sap.ui.core.IconPool.getIconURI("person-placeholder"),visible:"{bUseIcon}"}).addStyleClass("sapFactsheetUtiRelIcon")]}),new sap.ui.layout.VerticalLayout({content:[new sap.m.Text({text:"{fn}"}).addStyleClass("sapFactsheetUtiContactsName"),new sap.m.Label({text:"{title}"}),new sap.m.Label({text:"{org}"})]}),new sap.m.Link({text:"{phone}",href:"tel:{phone}"}),new sap.m.Link({text:"{mobile}",href:"tel:{mobile}"}),new sap.m.Link({text:"{fax}",href:"tel:{fax}"}),new sap.m.Link({text:"{email}",href:"mailto:{email}"})]});j2=new sap.m.Table({threshold:2,inset:false,showUnread:true,scrollToLoad:true,columns:[new sap.m.Column({hAlign:sap.ui.core.TextAlign.Center,width:"12%",header:new sap.m.Text({text:""})}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,header:new sap.m.Text({text:m2.getText("USHELL_FACTSHEET_NAME")})}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:"12%",header:new sap.m.Text({text:m2.getText("USHELL_FACTSHEET_PHONE")}),minScreenWidth:"Tablet",demandPopin:true}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:"12%",header:new sap.m.Text({text:sap.ushell.resources.i18n.getText("mobile")}),minScreenWidth:"Tablet",demandPopin:true}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:"12%",header:new sap.m.Text({text:sap.ushell.resources.i18n.getText("fax")}),minScreenWidth:"Tablet",demandPopin:true}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:"26%",header:new sap.m.Text({text:m2.getText("USHELL_FACTSHEET_EMAIL")}),minScreenWidth:"Tablet",demandPopin:true})],items:{path:"/aContacts",template:i2}});k2=new sap.m.ViewSettingsDialog({sortItems:[new sap.m.ViewSettingsItem({key:"fn",text:m2.getText("USHELL_FACTSHEET_NAME")}),new sap.m.ViewSettingsItem({key:"phone",text:m2.getText("USHELL_FACTSHEET_PHONE")}),new sap.m.ViewSettingsItem({key:"mobile",text:sap.ushell.resources.i18n.getText("mobile")}),new sap.m.ViewSettingsItem({key:"fax",text:sap.ushell.resources.i18n.getText("fax")}),new sap.m.ViewSettingsItem({key:"email",text:m2.getText("USHELL_FACTSHEET_EMAIL")})],confirm:function(n2){var o2,p2,q2=[];o2=n2.getParameters();p2=j2.getBinding("items");if(o2.sortItem){q2.push(new sap.ui.model.Sorter(o2.sortItem.getKey(),o2.sortDescending));p2.sort(q2);}}});j2.setHeaderToolbar(new sap.m.Toolbar({content:[new sap.m.Label(),new sap.m.ToolbarSpacer(),new sap.m.Button({icon:"sap-icon://drop-down-list",press:function(n2){k2.open();}})]}));j2.setModel(h2);l2=new sap.suite.ui.commons.UnifiedThingGroup({title:P1.getTitle(),description:V(),content:j2});t.removeAllFacetContent();t.addFacetContent(l2);t.navigateToDetail();});});}else{g2=sap.suite.ui.commons.FacetOverviewHeight.S;P1.addStyleClass("sapFactsheetUtiEmptyTile");P1.setQuantity(0);}P1.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:g2);};};for(i=0;i<g1.length;i+=1){if(g1[i]["com.sap.vocabularies.UI.v1.Map"]){i1=g1[i].Target.AnnotationPath;i1=i1.substring(0,i1.lastIndexOf("@")-1);S1="1";R1=e1;if(i1){R1=X(i1,e1,d1);S1=v(p,i1,d1);}_1="100%";if(jQuery.device.is.phone){_1="150px";}Q1=new sap.ui.vbm.VBI({width:"100%",height:_1,plugin:false,config:null});P1=new sap.suite.ui.commons.FacetOverview({title:g1[i].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.L,content:Q1});A.push(P1);A[A.length-1].bLoaded=false;A[A.length-1].bProcessed=false;A[A.length-1].bIsTable=false;l1={cardinality:S1,navigationPath:i1,facet:P1,facetContent:g1[i],navigationType:R1,metadata:d1,bindingPath:c1,entitySet:p};if(S1==="*"){T1=["$inlinecount=allpages","$top=1000"];}else{T1=[];}n.read(c1+"/"+i1,"",T1,true,k1(l1));t.addFacet(P1);}else{if(g1[i].Target){i1=g1[i].Target.AnnotationPath;i1=i1.substring(0,i1.lastIndexOf("@")-1);Z1=g1[i].Target.AnnotationPath.substring(g1[i].Target.AnnotationPath.lastIndexOf("@")+1);if(i1){R1=X(i1,e1,d1);P1=new sap.suite.ui.commons.FacetOverview({title:g1[i].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.M});S1=v(p,i1,d1);if(S1!==0){l1={cardinality:S1,navigationPath:i1,facet:P1,facetContent:g1[i],navigationType:R1,metadata:d1,bindingPath:c1,entitySet:p};if(g1[i]["com.sap.vocabularies.UI.v1.Gallery"]){if(S1==="*"){T1=["$inlinecount=allpages"];}else{T1=[];}n.read(c1+"/"+i1,"",T1,true,$1(l1));}else{A.push(P1);A[A.length-1].bLoaded=false;A[A.length-1].bProcessed=false;A[A.length-1].bIsTable=false;if(S1==="*"){T1=["$inlinecount=allpages","$top=3"];}else{T1=[];}n.read(c1+"/"+i1,"",T1,true,j1(l1),a2(l1));}t.addFacet(P1);}}else{if(Z1==="com.sap.vocabularies.UI.v1.Contacts"){P1=new sap.suite.ui.commons.FacetOverview({title:g1[i].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.M});t.data("contactFacetId",P1.sId);l1={facet:P1};n.clearBatch();for(j=0;j<M[e1][Z1].length;j+=1){i1=M[e1][Z1][j].AnnotationPath;i1=i1.substring(0,i1.lastIndexOf("@")-1);if(i1!==""){S1=v(p,i1,d1);if(S1==="*"){F1=c1+"/"+i1+"?$top=4"+"&$inlinecount=allpages";}else{F1=c1+"/"+i1;}}else{F1=c1;}E1.push(n.createBatchOperation(F1,"GET"));}n.addBatchReadOperations(E1);n.submitBatch(G1(l1));t.addFacet(P1);}}}}}N1=new sap.ushell.ui.footerbar.AddBookmarkButton();V1=function(){var b,i,Z1,a,k,d2={},X1,e2,f2,g2,o,h2,i2,j2,k2;N1.setAppData({title:t.getTitle(),subtitle:t.getName()+" - "+t.getDescription()});N1.setEnabled(true);i2=sap.ushell.Container.getService("URLParsing");j2=i2.getShellHash(window.location.href);k2=i2.parseShellHash(j2);f2=k2.semanticObject;p1=new sap.suite.ui.commons.LinkActionSheet({showCancelButton:true,placement:sap.m.PlacementType.Top});m1=D(e,n);b=m1.split(",");for(i=0;i<b.length;i+=1){b[i]=b[i].replace("='","=","g");if(b[i].lastIndexOf("'")===b[i].length-1){b[i]=b[i].slice(0,-1);}}for(Z1 in M[e1]){if(M[e1].hasOwnProperty(Z1)){if(Z1.indexOf("com.sap.vocabularies.Common.v1.SecondaryKey")===0){a=M[e1][Z1];for(i=0;i<a.length;i+=1){k=this.getBoundContext().getProperty(a[i].PropertyPath);if(k){b.push(a[i].PropertyPath+"="+k);}}}}}for(i=0;i<b.length;i+=1){X1=b[i].substr(0,b[i].indexOf("="));e2=b[i].substr(b[i].indexOf("=")+1,b[i].length);d2[decodeURIComponent(X1)]=decodeURIComponent(e2);}o1=sap.ushell.Container.getService("CrossApplicationNavigation").getSemanticObjectLinks(f2,d2);o1.done(jQuery.proxy(function(l2){var i,m2,n2;for(i=0;i<l2.length;i+=1){n2=l2[i].intent;if(n2.indexOf(Y)<0&&n2.indexOf("-analyzeKPIDetails~")<0&&n2.indexOf("-analyzeSBKPIDetails~")<0&&n2.indexOf("-NavigateToMaintainCusProj~")<0&&n2.indexOf("CostCenter-manageCostCenter~")<0&&n2.indexOf("AccountingDocument-analyzeDocumentJournal~")<0&&n2.indexOf("AccountingDocument-analyzeGLLineItem~")<0&&n2.indexOf("ControllingDocument-analyzeCostCenters~")<0&&n2.indexOf("ControllingDocument-analyzeInternalOrders~")<0&&n2.indexOf("ControllingDocument-analyzeMarketSegment~")<0&&n2.indexOf("ControllingDocument-analyzeProfitCentersActuals~")<0&&n2.indexOf("ControllingDocument-analyzeProfitLoss~")<0&&n2.indexOf("ControllingDocument-analyzeProjectsActuals~")<0&&n2.indexOf("PurchaseOrder-create~")<0){m2=sap.ushell.Container.getService("CrossApplicationNavigation").hrefForExternal({target:{shellHash:n2}});p1.addItem(new sap.m.Link({text:l2[i].text,href:m2}));t.setTransactionsVisible(true);}}}));t.attachTransactionsButtonPress(function(l2){p1.openBy(l2.getParameter("caller"));});this.detachChange(V1);sap.ushell.services.AppConfiguration.setWindowTitle(t.getTitle().trim()+": "+t.getName().trim()+" ("+t.getDescription().trim()+")");t.setActionsVisible(true);U1=new sap.m.Button({text:t1.getText("UNIFIEDTHINGINSPECTOR_FOOTER_BUTTON_EMAIL_LINK"),icon:"sap-icon://email",press:function(oE){sap.m.URLHelper.triggerEmail("",t.getName(),window.location.href);}});q1=new sap.m.ActionSheet({placement:sap.m.PlacementType.Top});g2=e.substr(0,e.lastIndexOf("/")+1);for(o in n.oData){if(n.oData.hasOwnProperty(o)){g2=g2+o;h2=o.substring(o.indexOf("(")+1,o.indexOf(")"));break;}}q1.addButton(new sap.ushell.ui.footerbar.JamDiscussButton({jamData:{businessObject:{appContext:"CB",odataServicePath:e.substr(0,e.lastIndexOf("/")+1),collection:p,key:h2,name:t.getTitle(),ui_url:window.location.href}}}));q1.addButton(new sap.ushell.ui.footerbar.JamShareButton({jamData:{object:{id:window.location.href,display:new sap.m.Text({text:t.getTitle()}),share:""},externalObject:{appContext:"CB",odataServicePath:e.substr(0,e.lastIndexOf("/")+1),collection:p,key:h2,name:t.getTitle()}}}));q1.addButton(N1);q1.addButton(U1);t.attachActionsButtonPress(function(l2){q1.openBy(l2.getParameter("caller"));});A[0].bLoaded=true;A[0].bProcessed=false;c(0);};t.getElementBinding().attachChange(V1);t.attachBackAction(function(o){history.back();});t.addDelegate({onAfterRendering:function(){t._adjustFacetLayout();}});return t;};return{ThingInspector:function(a,b){try{t=I(a,b,new sap.suite.ui.commons.UnifiedThingInspector({configurationVisible:false}));}catch(e){throw e;}return t;}};}());}());
},
	"sap/ushell/components/tiles/cdm/applauncher/Component.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.components.tiles.cdm.applauncher.Component");sap.ui.define(["sap/ui/core/UIComponent"],function(U){return U.extend("sap.ushell.components.tiles.cdm.applauncher.Component",{metadata:{"manifest":"json"},createContent:function(){var c=this.getComponentData();var m=this.getManifestEntry("/sap.ui5/config")||{};var p=c.properties.tilePersonalization||{};var M=jQuery.extend(m,p);var s=c.startupParameters;if(s&&s["sap-system"]){M["sap-system"]=s["sap-system"][0];}var t=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.components.tiles.cdm.applauncher.StaticTile",viewData:{properties:c.properties,configuration:M}});this._oController=t.getController();return t;},tileSetVisualProperties:function(n){if(this._oController){this._oController.updatePropertiesHandler(n);}},tileRefresh:function(){},tileSetVisible:function(i){},exit:function(){this._oController=null;}});});}());
},
	"sap/ushell/components/tiles/cdm/applauncherdynamic/Component.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.components.tiles.cdm.applauncherdynamic.Component");sap.ui.define(["sap/ui/core/UIComponent"],function(U){return U.extend("sap.ushell.components.tiles.cdm.applauncherdynamic.Component",{metadata:{"manifest":"json"},createContent:function(){var c=this.getComponentData();var m=this.getManifestEntry("/sap.ui5/config")||{};var p=c.properties||{};var P=p.tilePersonalization||{};var M=jQuery.extend(m,P);var i=p.indicatorDataSource;if(i&&i.path){M.serviceUrl=i.path;M.serviceRefreshInterval=i.refresh;}var s=c.startupParameters;if(s&&s["sap-system"]&&s["sap-system"][0]){M["sap-system"]=s["sap-system"][0];}if(M.serviceUrl&&M.serviceUrl.charAt(0)!=="/"&&p.dataSource&&p.dataSource.uri){var S=p.dataSource.uri;if(M["sap-system"]){if(S.charAt(S.length-1)==="/"){S=S.slice(0,S.length-1);}S+=";o="+M["sap-system"];}if(S.charAt(S.length-1)!=="/"){S+="/";}S+=M.serviceUrl;M.serviceUrl=S;}var t=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile",viewData:{properties:p,configuration:M}});this._oController=t.getController();return t;},tileSetVisualProperties:function(n){if(this._oController){this._oController.updateVisualPropertiesHandler(n);}},tileRefresh:function(){if(this._oController){this._oController.refreshHandler();}},tileSetVisible:function(i){if(this._oController){this._oController.visibleHandler(i);}},exit:function(){this._oController=null;}});});}());
},
	"sap/ushell/components/tiles/indicatorArea/AreaChartTile.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("sap.ushell.components.tiles.indicatorArea.AreaChartTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorArea.AreaChartTile";},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var h="Lorem ipsum";var s="Lorem ipsum";var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(t.title&&t.subTitle){h=t.title;s=t.subTitle;}var b=function(n){return new sap.suite.ui.microchart.AreaMicroChartItem({color:"Good",points:{path:"/"+n+"/data",template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:"{day}",y:"{balance}"})}});};var a=function(n){return new sap.suite.ui.microchart.AreaMicroChartLabel({label:"{/"+n+"/label}",color:"{/"+n+"/color}"});};var g={subheader:s,header:h,footerNum:"",footerComp:"",scale:"",unit:"",value:8888,size:"Auto",frameType:"OneByOne",state:sap.m.LoadState.Loading};this.oNVConfContS=new sap.suite.ui.microchart.AreaMicroChart({width:"{/width}",height:"{/height}",size:"{/size}",target:b("target"),innerMinThreshold:b("innerMinThreshold"),innerMaxThreshold:b("innerMaxThreshold"),minThreshold:b("minThreshold"),maxThreshold:b("maxThreshold"),chart:b("chart"),minXValue:"{/minXValue}",maxXValue:"{/maxXValue}",minYValue:"{/minYValue}",maxYValue:"{/maxYValue}",firstXLabel:a("firstXLabel"),lastXLabel:a("lastXLabel"),firstYLabel:a("firstYLabel"),lastYLabel:a("lastYLabel"),minLabel:a("minLabel"),maxLabel:a("maxLabel")});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oNVConfContS});this.oGenericTile=new sap.m.GenericTile({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});var G=new sap.ui.model.json.JSONModel();G.setData(g);this.oGenericTile.setModel(G);return this.oGenericTile;}});}());
},
	"sap/ushell/components/tiles/indicatorDualComparison/DualComparison.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("tiles.indicatorDualComparison.DualComparison",{getControllerName:function(){return"tiles.indicatorDualComparison.DualComparison";},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var t=this;t.tileData;t.oGenericTileData={};t.oNumericContent=new sap.m.NumericContent({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});t.oNumericTile=new sap.m.TileContent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:t.oNumericContent});t.oCmprsDataTmpl=new sap.suite.ui.microchart.ComparisonMicroChartData({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});t.oCmprsChrtTmpl=new sap.suite.ui.microchart.ComparisonMicroChart({size:"{/size}",scale:"{/scale}",data:{template:t.oCmprsDataTmpl,path:"/data"}});t.oComparisonTile=new sap.m.TileContent({unit:"{/unit}",size:"{/size}",footer:"{/footerComp}",content:t.oCmprsChrtTmpl});t.oGenericTile=new sap.m.GenericTile({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[t.oNumericTile,t.oComparisonTile]});t.oGenericTileModel=new sap.ui.model.json.JSONModel();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});}());
},
	"sap/ushell/components/tiles/indicatorDualContribution/DualContribution.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("tiles.indicatorDualContribution.DualContribution",{getControllerName:function(){return"tiles.indicatorDualContribution.DualContribution";},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var t=this;t.tileData;t.oGenericTileData={};t.oNumericContent=new sap.m.NumericContent({value:"{/value}",scale:"{/scale}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});t.oNumericTile=new sap.m.TileContent({unit:"{/unitNumeric}",size:"{/size}",footer:"{/footerNum}",content:t.oNumericContent});t.oCmprsDataTmpl=new sap.suite.ui.microchart.ComparisonMicroChartData({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});t.oCmprsChrtTmpl=new sap.suite.ui.microchart.ComparisonMicroChart({size:"{/size}",scale:"{/scale}",data:{template:t.oCmprsDataTmpl,path:"/data"}});t.oComparisonTile=new sap.m.TileContent({unit:"{/unitContribution}",size:"{/size}",footer:"{/footerComp}",content:t.oCmprsChrtTmpl});t.oGenericTile=new sap.m.GenericTile({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[t.oNumericTile,t.oComparisonTile]});t.oGenericTileModel=new sap.ui.model.json.JSONModel();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});}());
},
	"sap/ushell/components/tiles/indicatorDualDeviation/DualDeviation.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("tiles.indicatorDualDeviation.DualDeviation",{getControllerName:function(){return"tiles.indicatorDualDeviation.DualDeviation";},createContent:function(c){var t=this;this.setHeight('100%');this.setWidth('100%');this.getViewData().chip.preview;var h="Lorem ipsum";var s="Lorem ipsum";var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(a.title&&a.subTitle){h=a.title;s=a.subTitle;}var d={subheader:s,header:h,footerNum:"",footerComp:"",frameType:"TwoByOne",state:sap.m.LoadState.Loading,scale:""};t.oNumericContent=new sap.m.NumericContent({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});t.oNumericTile=new sap.m.TileContent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:t.oNumericContent});var b=new sap.suite.ui.microchart.BulletMicroChartData({value:"{value}",color:"{color}"});t.oBCTmpl=new sap.suite.ui.microchart.BulletMicroChart({size:sap.m.Size.Auto,scale:"{/scale}",actual:{value:"{/actual/value}",color:"{/actual/color}"},targetValue:"{/targetValue}",actualValueLabel:"{/actualValueLabel}",targetValueLabel:"{/targetValueLabel}",thresholds:{template:b,path:"/thresholds"},state:"{/state}",showActualValue:"{/showActualValue}",showTargetValue:"{/showTargetValue}"});var n=new sap.m.TileContent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:t.oBCTmpl});t.oGenericTile=new sap.m.GenericTile({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[t.oNumericTile,n]});var g=new sap.ui.model.json.JSONModel();g.setData(d);t.oGenericTile.setModel(g);return t.oGenericTile;}});}());
},
	"sap/ushell/components/tiles/indicatorDualTrend/DualTrend.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("tiles.indicatorDualTrend.DualTrend",{getControllerName:function(){return"tiles.indicatorDualTrend.DualTrend";},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var b=function(s){return new sap.suite.ui.microchart.AreaMicroChartItem({color:"Good",points:{path:"/"+s+"/data",template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:"{day}",y:"{balance}"})}});};var a=function(s){return new sap.suite.ui.microchart.AreaMicroChartLabel({label:"{/"+s+"/label}",color:"{/"+s+"/color}"});};var g={footer:"",header:"",subheader:""};var n=new sap.suite.ui.microchart.AreaMicroChart({width:"{/width}",height:"{/height}",size:"{/size}",target:b("target"),innerMinThreshold:b("innerMinThreshold"),innerMaxThreshold:b("innerMaxThreshold"),minThreshold:b("minThreshold"),maxThreshold:b("maxThreshold"),chart:b("chart"),minXValue:"{/minXValue}",maxXValue:"{/maxXValue}",minYValue:"{/minYValue}",maxYValue:"{/maxYValue}",firstXLabel:a("firstXLabel"),lastXLabel:a("lastXLabel"),firstYLabel:a("firstYLabel"),lastYLabel:a("lastYLabel"),minLabel:a("minLabel"),maxLabel:a("maxLabel")});var N=new sap.m.TileContent({unit:"{/unit}",size:"{/size}",content:n});var o=new sap.m.NumericContent({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});var d=new sap.m.TileContent({unit:"{/unit}",size:"{/size}",content:o});this.oGenericTile=new sap.m.GenericTile({subheader:"{/subheader}",frameType:"TwoByOne",size:"{/size}",header:"{/header}",tileContent:[d,N]});var G=new sap.ui.model.json.JSONModel();G.setData(g);this.oGenericTile.setModel(G);return this.oGenericTile;}});}());
},
	"sap/ushell/components/tiles/indicatorcomparison/ComparisonTile.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("sap.ushell.components.tiles.indicatorcomparison.ComparisonTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorcomparison.ComparisonTile";},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var t=this;t.tileData;t.oGenericTileData={};t.oCmprsDataTmpl=new sap.suite.ui.microchart.ComparisonMicroChartData({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});t.oCmprsChrtTmpl=new sap.suite.ui.microchart.ComparisonMicroChart({size:"{/size}",scale:"{/scale}",data:{template:t.oCmprsDataTmpl,path:"/data"}});t.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerComp}",content:t.oCmprsChrtTmpl});t.oGenericTile=new sap.m.GenericTile({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[t.oNVConfS]});t.oGenericTileModel=new sap.ui.model.json.JSONModel();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});}());
},
	"sap/ushell/components/tiles/indicatorcontribution/ContributionTile.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("sap.ushell.components.tiles.indicatorcontribution.ContributionTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorcontribution.ContributionTile";},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var t=this;t.tileData;t.oGenericTileData={};t.oCmprsDataTmpl=new sap.suite.ui.microchart.ComparisonMicroChartData({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});t.oCmprsChrtTmpl=new sap.suite.ui.microchart.ComparisonMicroChart({size:"{/size}",scale:"{/scale}",data:{template:t.oCmprsDataTmpl,path:"/data"}});t.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerComp}",content:t.oCmprsChrtTmpl});t.oGenericTile=new sap.m.GenericTile({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[t.oNVConfS]});t.oGenericTileModel=new sap.ui.model.json.JSONModel();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});}());
},
	"sap/ushell/components/tiles/indicatordeviation/DeviationTile.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("sap.ushell.components.tiles.indicatordeviation.DeviationTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatordeviation.DeviationTile";},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var h="Lorem ipsum";var s="Lorem ipsum";var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(t.title&&t.subTitle){h=t.title;s=t.subTitle;}var d={subheader:s,header:h,footerNum:"",footerComp:"",frameType:"OneByOne",state:sap.m.LoadState.Loading,scale:""};var b=new sap.suite.ui.microchart.BulletMicroChartData({value:"{value}",color:"{color}"});this.oBCTmpl=new sap.suite.ui.microchart.BulletMicroChart({size:sap.m.Size.Auto,scale:"{/scale}",actual:{value:"{/actual/value}",color:"{/actual/color}"},targetValue:"{/targetValue}",actualValueLabel:"{/actualValueLabel}",targetValueLabel:"{/targetValueLabel}",thresholds:{template:b,path:"/thresholds"},state:"{/state}",showActualValue:"{/showActualValue}",showTargetValue:"{/showTargetValue}"});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oBCTmpl});this.oGenericTile=new sap.m.GenericTile({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});var g=new sap.ui.model.json.JSONModel();g.setData(d);this.oGenericTile.setModel(g);return this.oGenericTile;}});}());
},
	"sap/ushell/renderers/fiori2/search/container/App.controller.js":'// @copyright@\njQuery.sap.require("sap.m.MessageToast");jQuery.sap.require("sap.ushell.renderers.fiori2.search.SearchShellHelper");var SearchShellHelper=sap.ushell.renderers.fiori2.search.SearchShellHelper;sap.ui.controller("sap.ushell.renderers.fiori2.search.container.App",{onInit:function(){"use strict";this.oShellNavigation=sap.ushell.Container.getService("ShellNavigation");this.oShellNavigation.hashChanger.attachEvent("hashChanged",this.hashChanged);if(SearchShellHelper.oSearchFieldGroup===undefined){SearchShellHelper.init();}SearchShellHelper.setSearchState("EXP_S");if(sap.ui.Device.system.tablet||sap.ui.Device.system.phone){sap.ushell.services.AppConfiguration.setHeaderHiding(false);}},hashChanged:function(e){"use strict";var m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.deserializeURL();},onExit:function(){"use strict";this.oShellNavigation.hashChanger.detachEvent("hashChanged",this.hashChanged);if(SearchShellHelper.getDefaultOpen()!==true){SearchShellHelper.setSearchState("COL");}else{SearchShellHelper.setSearchState("EXP");}if(sap.ui.Device.system.tablet||sap.ui.Device.system.phone){sap.ushell.services.AppConfiguration.setHeaderHiding(true);}if(this.oView.oPage.oFacetDialog){this.oView.oPage.oFacetDialog.destroy();}}});\n',
	"sap/ushell/renderers/fiori2/search/container/App.view.js":function(){(function(g){"use strict";jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchShellHelper');jQuery.sap.require('sap.m.Bar');jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');sap.ui.jsview("sap.ushell.renderers.fiori2.search.container.App",{createContent:function(){var t=this;if(!this.oModel){this.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();}this.setModel(sap.ushell.resources.i18nModel,"i18n");this.oSearchResults=sap.ui.view({id:"searchContainerResultsView",tooltip:"{i18n>searchResultsView_tooltip}",viewName:"sap.ushell.renderers.fiori2.search.container.Search",type:sap.ui.core.mvc.ViewType.JS});this.oSearchResults.setModel(t.oModel);this.oSearchResults.setAppView(t);var s=new sap.m.Bar({contentLeft:[t.oSearchResults.assembleFilterButton(),t.oSearchResults.assembleDataSourceTapStrips()],contentRight:t.oSearchResults.assembleSearchToolbar()});s.addStyleClass('sapUshellSearchBar');var f=new sap.ushell.renderers.fiori2.search.controls.SearchFilterBar({visible:{parts:[{path:'/facetVisibility'},{path:'/uiFilter/defaultConditionGroup'}],formatter:function(a,b){if(!a&&b&&b.conditions&&b.conditions.length>0){return true;}else{return false;}}}});this.oModel.deserializeURL();this.oPage=this.pageFactory("searchPage",this.oSearchResults,s,f);this.oSearchResults.reorgTabBarSequence();return this.oPage;},beforeExit:function(){},pageFactory:function(i,c,h,s){var t=this;var p=new sap.m.Page({id:i,customHeader:h,subHeader:s,content:[c],enableScrolling:true,showFooter:{parts:['/multiSelectionAvailable','/multiSelectionActions','/errors/length'],formatter:function(m,a,n){return m||n>0;}},showHeader:true,showSubHeader:{parts:[{path:'/facetVisibility'},{path:'/uiFilter/defaultConditionGroup'}],formatter:function(f,a){if(!f&&a&&a.conditions&&a.conditions.length>0){return true;}else{return false;}}}});p.setModel(t.oModel);var e=["onAfterHide","onAfterShow","onBeforeFirstShow","onBeforeHide","onBeforeShow"];var d={};t.createFooter(p);jQuery.each(e,function(I,E){d[E]=jQuery.proxy(function(a){jQuery.each(this.getContent(),function(I,c){c._handleEvent(a);});},p);});p.addEventDelegate(d);if(!sap.ui.Device.system.desktop){p._bUseIScroll=true;}return p;},getControllerName:function(){return"sap.ushell.renderers.fiori2.search.container.App";},createFooter:function(p){var t=this;if(jQuery.device.is.phone){return;}var m=new sap.m.ToggleButton({icon:"sap-icon://multi-select",tooltip:sap.ushell.resources.i18n.getText("toggleSelectionModeBtn"),press:function(){var c=t.oBar.getContent();var i,a;if(this.getPressed()){t.oSearchResults.resultList.enableSelectionMode();t.oModel.setProperty("/multiSelectionEnabled",true);for(i=0;i<c.length;i++){a=c[i];if(a.hasStyleClass("sapUshellSearchResultList-multiSelectionActionButton")){t.oBar.removeContent(a);}}var d=t.oModel.getDataSource();var b=t.oModel.config.getDataSourceConfig(d);var s=new b.searchResultListSelectionHandlerControl();var h=s.actionsForDataSource();t.oModel.setProperty("/multiSelectionActions",h);for(i=0;i<h.length;i++){var k=h[i];var l=new sap.m.Button({text:k.text,press:function(){var r=t.oModel.getProperty("/results");var j=[];for(var i=0;i<r.length;i++){var o=r[i];if(o.selected){j.push(o);}}k.action(j);},visible:{parts:[{path:'/multiSelectionEnabled'}],mode:sap.ui.model.BindingMode.OneWay}});l.setModel(t.oModel);l.addStyleClass("sapUshellSearchResultList-multiSelectionActionButton");t.oBar.insertContent(l,2);}}else{var n=t.oSearchResults.resultList.disableSelectionMode();n.done(function(){t.oModel.setProperty("/multiSelectionEnabled",false);t.oModel.setProperty("/multiSelectionActions",undefined);var r=t.oModel.getProperty("/boResults");if(r){for(var j=0;j<r.length;j++){var o=r[j];o.selected=false;}}for(i=0;i<c.length;i++){a=c[i];if(a.hasStyleClass("sapUshellSearchResultList-multiSelectionActionButton")){t.oBar.removeContent(a);}}});}},visible:{parts:[{path:'/multiSelectionAvailable'}],mode:sap.ui.model.BindingMode.OneWay}});m.setModel(this.oModel);m.addStyleClass("sapUshellSearchResultList-toggleMultiSelectionButton");var e=new sap.m.MessagePopover({placement:"Top"}).setModel(this.oModel);e.bindAggregation("items","/errors",function(i,C){var a=new sap.m.MessagePopoverItem({title:"{title}",description:"{description}"});switch(C.oModel.getProperty(C.sPath).type.toLowerCase()){case"error":a.setType(sap.ui.core.MessageType.Error);break;case"warning":a.setType(sap.ui.core.MessageType.Warning);break;default:a.setType(sap.ui.core.MessageType.Information);}return a;});var E=new sap.m.Button("searchErrorButton",{icon:sap.ui.core.IconPool.getIconURI("alert"),text:{parts:[{path:'/errors/length'}],formatter:function(l){return l;}},visible:{parts:[{path:'/errors/length'}],formatter:function(l){return l>0;},mode:sap.ui.model.BindingMode.OneWay},type:sap.m.ButtonType.Emphasized,tooltip:sap.ushell.resources.i18n.getText('errorBtn'),press:function(){e.openBy(E);}});E.addDelegate({onAfterRendering:function(){if(!t.oModel.getProperty('/isErrorPopovered')){E.firePress();t.oModel.setProperty('/isErrorPopovered',true);}}});E.setLayoutData(new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}));m.setLayoutData(new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}));var c=[E,new sap.m.ToolbarSpacer(),m];t.oBar=new sap.m.OverflowToolbar({content:c}).addStyleClass("MyBar");var f=p.getFooter();if(f&&f.destroy){f.destroy();}p.setFooter(t.oBar);}});}(window));
},
	"sap/ushell/renderers/fiori2/search/container/Search.controller.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.renderers.fiori2.search.SearchModel");sap.ui.controller("sap.ushell.renderers.fiori2.search.container.Search",{onInit:function(){var t=this;sap.ui.getCore().getEventBus().subscribe("allSearchStarted",t.getView().onAllSearchStarted,t.getView());sap.ui.getCore().getEventBus().subscribe("allSearchFinished",t.getView().onAllSearchFinished,t.getView());},onExit:function(){var t=this;sap.ui.getCore().getEventBus().unsubscribe("allSearchStarted",t.getView().onAllSearchStarted,t.getView());sap.ui.getCore().getEventBus().unsubscribe("allSearchFinished",t.getView().onAllSearchFinished,t.getView());}});}());
},
	"sap/ushell/services/SmartNavigation.js":function(){(function(s,q){"use strict";s.ui.define(["sap/ushell/services/Container","sap/ushell/services/AppConfiguration","sap/ushell/services/Personalization","sap/ushell/services/URLParsing","sap/ushell/services/CrossApplicationNavigation","sap/ushell/services/AppLifeCycle","sap/ushell/services/_SmartNavigation/complements"],function(c,a,p,u,C,A,P){c=s.ushell.Container;u=c.getService("URLParsing");C=c.getService("CrossApplicationNavigation");A=c.getService("AppLifeCycle");p=c.getService("Personalization");function b(){return new S(P,a,p,u,C,A);}b.hasNoAdapter=true;return b;});s.ushell.services.SmartNavigation=S;function S(p,a,P,u,c,A){if(!S.instance){Object.defineProperty(S,"instance",{value:Object.create(null,{getLinks:{value:function(o){var b=c.getLinks(o);var f=a.getCurrentApplication().sShellHash;var d=A.getCurrentApplication().componentInstance;if(!f){q.sap.log.warning("Call to SmartNavigation#getLinks() simply "+"delegated to CrossApplicationNavigation#getLinks()"+" because oAppConfiguration#getCurrentApplication()#sShellHash"+" evaluates to undefined.");return b;}return q.when(b,p.getNavigationOccurrences(f,P,d,u)).then(function(l,n){if(n.length===0){return l;}return p.prepareLinksForSorting(l,n,u).sort(function(L,O){return O.clickCount-L.clickCount;});});}},toExternal:{value:function(o,C){var _=arguments;var d=p.getHashFromOArgs(o.target,u);var t=function(){return c.toExternal.apply(c,_);};var f=a.getCurrentApplication().sShellHash;var b=A.getCurrentApplication().componentInstance;if(!f){q.sap.log.warning("Current shell hash could not be identified. Navigation will not be tracked.",null,"sap.ushell.services.SmartNavigation");return q.when(t());}if(!d){q.sap.log.warning("Destination hash does not conform with the ushell guidelines. Navigation will not be tracked.",null,"sap.ushell.services.SmartNavigation");return q.when(t());}return p.recordNavigationOccurrences(f,d,P,b,u).then(t);}},hrefForExternal:{value:function(){var h=c.hrefForExternal.apply(c,arguments);return h;}},trackNavigation:{value:function(o){var t=o.target;var f=a.getCurrentApplication().sShellHash;var d;if(!f){q.sap.log.warning("Call to SmartNavigation#trackNavigation() simply ignored"+" because oAppConfiguration#getCurrentApplication()#sShellHash"+" evaluates to undefined.");return q.when(null);}d=p.getHashFromOArgs(t,u);if(!d){q.sap.log.warning("Navigation not tracked - no valid destination provided",null,"sap.ushell.services.SmartNavigation");return q.when(null);}q.sap.log.debug("Navigation to "+d+" was tracked out of "+f,null,"sap.ushell.services.SmartNavigation");return p.recordNavigationOccurrences(f,d,P,A.getCurrentApplication().componentInstance,u);}},constructor:{value:S}})});}return S.instance;}})(sap,jQuery);
},
	"sap/ushell/services/_SmartNavigation/complements.js":function(){(function(s){"use strict";var i=null;var f=[g,a,b,d,e,p,m,r,u];var c={STATISTIC_COLLECTION_WINDOW_DAYS:90,PERS_CONTAINER_KEY_PREFIX:"ushell.smartnav.",ONE_DAY_IN_MILLISECOND:24*60*60*1000};var h=Object.create(null,{"":{value:0|0}});s.ui.define([],function(){if(!i){i=Object.create(null,f.reduce(function(P,j){P[j.name]={value:j,configurable:true};return P;},Object.create(null)));Object.keys(c).forEach(function(n){Object.defineProperty(i,n,{value:c[n]});});}return i;});function g(v){var j=v+"";return h[j]||(function(k){var H=0|0;while(k--){H=(H<<5)-H+(j.charCodeAt(k)|0);H|=0;}h[j]=H;return H;})(j.length);}function a(U,I){var t=U.parseShellHash(I);if(t&&t.semanticObject&&t.action){return t.semanticObject+"-"+t.action;}throw"Invalid intent `"+I+"`";}function b(o,U){if(!o){return null;}if(o.shellHash&&U.parseShellHash(o.shellHash)){return a(U,o.shellHash);}if(o.semanticObject&&o.action){return o.semanticObject+"-"+o.action;}return null;}function d(j){return c.PERS_CONTAINER_KEY_PREFIX+g(j);}function e(F,P,C,U){var j=d(F);return P.getContainer(j,{keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.HIGH,clientStorageAllowed:true},C).then(function(o){return o.getItemKeys().map(function(k){var l=o.getItemValue(k);return Object.keys(l.actions).map(function(n){var q=l.actions[n];return{intent:k+"-"+n,clickCount:q.dailyFrequency.reduce(function(t,v){return t+v;},0)};});}).reduce(function(E,k){Array.prototype.push.apply(E,k);return E;},[]);});}function p(l,n,U){return m(l,n,U);}function m(l,n,U){var N=Object.create(null);n.forEach(function(o){N[o.intent]=o;});l.forEach(function(L){var B=a(U,L.intent);var o=N[B];L.clickCount=o?o.clickCount:0;});return l;}function r(F,t,P,C,U){var T=U.parseShellHash(t);var j=d(F);var k=T.semanticObject;var o;return P.getContainer(j,{keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.HIGH,clientStorageAllowed:true},C).then(function(l){o=l;return o.getItemValue(k);}).then(function(l){var n;var q=T.action;if(!l){l=new S();}n=l.actions[q];if(!n){n=new A();l.actions[q]=n;}u(l);u(n);return l;}).then(function(l){o.setItemValue(k,l);return o.save();});}function u(H){var n,o;var t;var D;n=Date.now();t=n-H.latestVisit;D=Math.floor(t/c.ONE_DAY_IN_MILLISECOND);while(D--){H.dailyFrequency.unshift(0);if(H.dailyFrequency.length>c.STATISTIC_COLLECTION_WINDOW_DAYS){H.dailyFrequency.pop();}}++H.dailyFrequency[0];H.latestVisit=n;return H;}function S(){return{actions:{},latestVisit:Date.now(),dailyFrequency:[0]};}function A(){return{latestVisit:Date.now(),dailyFrequency:[0]};}})(sap);
},
	"sap/ushell/ui5service/UserStatus.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.ui5service.UserStatus");jQuery.sap.require("sap.ui.core.service.ServiceFactoryRegistry");jQuery.sap.require("sap.ui.core.service.ServiceFactory");jQuery.sap.require("sap.ui.base.EventProvider");jQuery.sap.require('sap.ushell.ui.launchpad.UserStatusItem');var E=new sap.ui.base.EventProvider(),O={statusChanged:"statusChanged",serviceStateChanged:"serviceStateChanged"},a;sap.ui.core.service.Service.extend("sap.ushell.ui5service.UserStatus",{init:function(){var t=this,p=this.getInterface();sap.ushell.ui5service.UserStatus.prototype.isEnabled=false;p.init=function(){t._amendPublicServiceInstance.call(t,this);};sap.ui.core.service.ServiceFactoryRegistry.register("sap.ushell.ui5service.UserStatus",new sap.ui.core.service.ServiceFactory(p));sap.ushell.ui5service.UserStatus.prototype.AvailableStatus={AVAILABLE:"AVAILABLE",AWAY:"AWAY",BUSY:"BUSY",APPEAR_OFFLINE:"APPEAR_OFFLINE"};},_setActiveComponentId:function(i){a=i;},_getActiveComponentId:function(){return a;},_getEventProvider:function(){return E;},_ensureArrayOfObjectOfStrings:function(A,m){var v=jQuery.isArray(A)&&A.every(function(o){return jQuery.isPlainObject(o)&&Object.keys(o).length>0&&Object.keys(o).every(function(k){return typeof o[k]==="string";});});if(!v){jQuery.sap.log.error("'"+m+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.UserStatus");}return v;},_ensureFunction:function(A,m){var t=typeof A;if(t!=="function"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a function, got '"+t+"' instead","sap.ushell.ui5service.UserStatus");return false;}return true;},_ensureString:function(A,m){var t=typeof A;if(t!=="string"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a string, got '"+t+"' instead","sap.ushell.ui5service.UserStatus");return false;}return true;},_addCallAllowedCheck:function(p,P){var t=this;p[P]=function(){var c=p.getContext();if(!c||c.scopeObject.getId()!==a){jQuery.sap.log.warning("Call to "+P+" is not allowed","This may be caused by an app component other than the active '"+a+"' that tries to call the method","sap.ushell.ui5service.UserStatus");return undefined;}return t[P].apply(p,arguments);};},_amendPublicServiceInstance:function(p){var t=this,c;c=p.getContext();if(typeof c==="undefined"){return;}["setStatus","attachStatusChanged","detachStatusChanged"].forEach(function(m){t._addCallAllowedCheck(p,m);});if(c.scopeType==="component"){this._setActiveComponentId(c.scopeObject.getId());return;}jQuery.sap.log.error("Invalid context for UserStatus interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.UserStatus");},setEnabled:function(e){E.fireEvent(O.serviceEnabled,{data:e});sap.ushell.ui5service.UserStatus.prototype.isEnabled=e;this.getUserStatusSetting().then(function(u){if(u===undefined||u.userStatusEnabled===undefined){this._showLegalPopup();}else if(u.userStatusEnabled){this.setStatus(u.userStatusDefault);}else if(!u.userStatusEnabled){this.setStatus(null);}}.bind(this));return;},attachEnabledStatusChanged:function(f){this._getEventProvider().attachEvent(O.serviceEnabled,f);},detachEnabledStatusChanged:function(f){this._getEventProvider().detachEvent(O.serviceEnabled,f);},setStatus:function(n){if(!sap.ushell.ui5service.UserStatus.prototype.isEnabled){throw new Error("Unable to change status because the UserStatus service is disabled.");}if(!sap.ushell.ui5service.UserStatus.prototype.AvailableStatus[n]&&n!==null){throw new Error("Enter a valid status.");}this.getUserStatusSetting().then(function(u){if((n!==null)&&(u===undefined||u.userStatusEnabled===undefined||!u.userStatusEnabled)){throw new Error("Unable to change status; user has not explicitly opted-in to share their online status.");}E.fireEvent(O.statusChanged,{data:n});return;})},getUxdVersion:function(){if((new jQuery.sap.Version(sap.ui.version).compareTo("1.37.0"))>=0){return 2;}return 1;},attachStatusChanged:function(f){this._getEventProvider().attachEvent(O.statusChanged,f);},detachStatusChanged:function(f){this._getEventProvider().detachEvent(O.statusChanged,f);},getOnlineStatusPopOver:function(u){var p=new sap.m.Popover({placement:sap.m.PlacementType.Bottom,showArrow:true,showHeader:false,content:[new sap.ushell.ui.launchpad.UserStatusItem({status:sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.AVAILABLE,isOpener:false,press:function(e){U.setStatus(sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.AVAILABLE);p.close();}}).addStyleClass('sapUserStatusContainer'),new sap.ushell.ui.launchpad.UserStatusItem({status:sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.AWAY,isOpener:false,press:function(e){U.setStatus(sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.AWAY);p.close();}}).addStyleClass('sapUserStatusContainer'),new sap.ushell.ui.launchpad.UserStatusItem({status:sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.BUSY,isOpener:false,press:function(e){U.setStatus(sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.BUSY);p.close();}}).addStyleClass('sapUserStatusContainer'),new sap.ushell.ui.launchpad.UserStatusItem({status:sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.APPEAR_OFFLINE,isOpener:false,press:function(e){U.setStatus(sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.APPEAR_OFFLINE);p.close();}}).addStyleClass('sapUserStatusContainer')]});var U=new sap.ushell.ui.launchpad.UserStatusItem({tooltip:"{i18n>headerActionsTooltip}",enabled:false,ariaLabel:sap.ushell.Container.getUser().getFullName(),image:sap.ui.core.IconPool.getIconURI("account"),status:u?sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM[u]:sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM["AVAILABLE"],press:function(e){var b=sap.ui.getCore().byId(e.mParameters.id);p.openBy(b);}.bind(this),contentList:p}).addStyleClass('sapUserStatusOpener');return U},_showLegalPopup:function(){var t=this;setTimeout(function(){var T=sap.ui.getCore().getConfiguration().getRTL()?'Left':'Right';var s=sap.ui.Device.system.phone?"auto":"14rem";var S=sap.ui.Device.system.phone?"auto":"10rem";var b=new sap.m.Label({text:sap.ushell.resources.i18n.getText("enableStatusMessageBoxFld")+":",width:s,textAlign:T});var c=new sap.m.Switch("enableStatusSwitch",{type:sap.m.SwitchType.Default,change:function(e){g.setEnabled(e.mParameters.state);jQuery("#"+g.getId()).attr("tabindex",e.mParameters.state?0:-1);}.bind(this)});var f=new sap.m.FlexBox({alignItems:'Center',direction:'Row',items:[b,c]}).addStyleClass('sapUshellUserStatusFlexBox');var d=new sap.m.Label({text:sap.ushell.resources.i18n.getText("userStatusMessageBoxDropdownLabelFld")+":",width:S,textAlign:T}).addStyleClass("sapUshellUserStatusSignInAsLabel");var g=t.getOnlineStatusPopOver(sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.AVAILABLE.status);jQuery("#"+g.getId()).attr("tabindex",g.getEnabled()?0:-1);var l=new sap.m.Text({text:sap.ushell.resources.i18n.getText("userStatusMessageBoxInfoTextLine1")}).addStyleClass('sapUshellUserStatusLegalTextLine').addStyleClass('sapUshellUserStatusLegalTextFirstLine');var h=new sap.m.Text({text:sap.ushell.resources.i18n.getText("userStatusMessageBoxInfoTextLine2")}).addStyleClass('sapUshellUserStatusLegalTextLine');var i=new sap.m.FlexBox({alignItems:'Center',direction:'Row',items:[d,g]}).addStyleClass('sapUshellUserStatusFlexBox');var j=new sap.ui.layout.VerticalLayout('userStatusDialogLayout',{content:[f,i,l,h]});var k=new sap.m.Button('saveButton',{text:sap.ushell.resources.i18n.getText("okBtn"),press:function(){t.writeUserStatusSettingToPersonalization({userStatusEnabled:c.getState(),userStatusDefault:c.getState()?g.getStatus().status:null});t.setStatus(c.getState()?g.getStatus().status:null);m.close();}});var m=new sap.m.Dialog('agreementMessageBox',{title:sap.ushell.resources.i18n.getText("userStatusAgreementMessageBoxTitle"),modal:true,stretch:sap.ui.Device.system.phone,buttons:[k],afterClose:function(e){t.getUserStatusSetting().then(function(u){if(u===undefined||u.userStatusEnabled===undefined){t.writeUserStatusSettingToPersonalization({userStatusEnabled:false,userStatusDefault:null});t.setStatus(null);}m.destroy();})}}).addStyleClass('sapUshellUserStatusDialog');m.addContent(j);m.open();},100);},getUserStatusSetting:function(){var p=this._getUserSettingsPersonalizer();return p.getPersData();},writeUserStatusSettingToPersonalization:function(u){var d,p;try{p=this._getUserSettingsPersonalizer().setPersData(u);}catch(e){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(e.name+": "+e.message);d=new jQuery.Deferred();d.reject(e);p=d.promise();}return p;},_getUserSettingsPersonalizer:function(){if(this.oUserPersonalizer===undefined){this.oUserPersonalizer=this._createUserPersonalizer();}return this.oUserPersonalizer;},_createUserPersonalizer:function(){var p=sap.ushell.Container.getService("Personalization"),c,s={keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true},P={container:"sap.ushell.services.UserStatus",item:"userStatusData"},o=p.getPersonalizer(P,s,c);return o;}});}());
},
/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
	"sap/ca/ui/model/format/FormatHelper.js":function(){jQuery.sap.declare("sap.ca.ui.model.format.FormatHelper");jQuery.sap.require("sap.ui.core.format.NumberFormat");jQuery.sap.require("sap.ui.core.LocaleData");sap.ui.base.Object.extend("sap.ca.ui.model.format.FormatHelper",{});
sap.ca.ui.model.format.FormatHelper.stringToNumeric=function(s){var h=/^\s*[\+-]?0[xX]/;if(h.test(s)){return parseInt(s,16);}else{return parseFloat(s);}};
sap.ca.ui.model.format.FormatHelper.toNumeric=function(o){if((o===null)||(o===undefined)){return NaN;}var t=typeof o;var r;switch(t){case"number":r=o;break;case"string":r=sap.ca.ui.model.format.FormatHelper.stringToNumeric(o);break;case"object":var v=o.valueOf();if(typeof v==="number"){r=v;}else if(Array.isArray(o)){r=NaN;}else{r=sap.ca.ui.model.format.FormatHelper.stringToNumeric(o.toString());}break;default:r=NaN;break;}return r;};
sap.ca.ui.model.format.FormatHelper.isNumeric=function(o){return isFinite(sap.ca.ui.model.format.FormatHelper.toNumeric(o));};
sap.ca.ui.model.format.FormatHelper.getFormatOptions=function(o,l){var f={};f.locale=l;var t=typeof o;switch(t){case"number":f.decimals=o;break;case"object":if(typeof o.locale==="string"){f.locale=new sap.ui.core.Locale(o.locale);}else if(o.locale){f.locale=o.locale;}f.decimals=o.decimals;f.rounding=o.rounding;f.formatStyle=o.formatStyle;f.shortDecimals=o.shortDecimals;f.shortRounding=o.shortRounding;break;}if(!f.locale){if(sap.ui.getCore().getConfiguration().getLanguage()=="ZH"){f.locale=new sap.ui.core.Locale("zh_CN");}else{f.locale=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();}}return f;};
sap.ca.ui.model.format.FormatHelper.hasRounding=function(o){var r;if(o!==undefined){if(typeof o==="number"){r=true;}else{if(o.formatStyle==="short"){r=(o.shortDecimals!==undefined)||(o.shortRounding!==undefined);}else{r=(o.decimals!==undefined)||(o.rounding!==undefined);}}}else{r=false;}return r;};
sap.ca.ui.model.format.FormatHelper.roundNumber=function(n,o){o=o||{};var r;var R,d;if(o.formatStyle==="short"){R=o.shortRounding;d=o.shortDecimals;}else{R=o.rounding;d=o.decimals;}if(R){r=R(n);}else if(d!==undefined){var a=sap.ca.ui.model.format.FormatHelper._getDecimals(d,n);r=n.toFixed(a);}else{r=n;}return r;};
sap.ca.ui.model.format.FormatHelper._getDecimals=function(d,n){var a;if(typeof d==="function"){a=d(n);}else{a=d;}return a;};
sap.ca.ui.model.format.FormatHelper._getUi5DecimalsFormatOptions=function(f,n,a){var u={};var d=null;if(f.formatStyle==="short"){d=f.shortDecimals;}else if(f.decimals||f.decimals===0){d=f.decimals;}if(d!==null){var D=sap.ca.ui.model.format.FormatHelper._getDecimals(d,n);u.minFractionDigits=D;u.maxFractionDigits=D;}else if(typeof a==="string"){var b=a.indexOf(".");var i=(b>-1)?Math.max(a.length-b-1,0):0;u.minFractionDigits=i;u.maxFractionDigits=i;}return u;};
sap.ca.ui.model.format.FormatHelper.formatNumber=function(n,o){var a=sap.ca.ui.model.format.FormatHelper.toNumeric(n);if(!isFinite(a)){return"";}var f=sap.ca.ui.model.format.FormatHelper.getFormatOptions(o);var u=sap.ca.ui.model.format.FormatHelper._getUi5DecimalsFormatOptions(f,a,n);var b=sap.ui.core.format.NumberFormat.getFloatInstance(u,f.locale);if(sap.ca.ui.model.format.FormatHelper.hasRounding(o)){a=sap.ca.ui.model.format.FormatHelper.roundNumber(a,f);return b.format(a);}else{return b.format(n);}};
sap.ca.ui.model.format.FormatHelper.getMagnitude=function(n){var _=[{value:1e3,suffix:"Kilo"},{value:1e6,suffix:"Mega"},{value:1e9,suffix:"Giga"},{value:1e12,suffix:"Tera"},{value:1e15,suffix:"Peta"},{value:1e18,suffix:"Exa"},{value:1e21,suffix:"Zetta"},{value:1e24,suffix:"Yotta"}];var a=(n>=0?n:-n);for(var i=_.length-1;i>=0;--i){var m=_[i];if(a>=m.value){return m;}}return{value:1,suffix:""};};
},
	"sap/ca/ui/model/format/NumberFormat.js":function(){jQuery.sap.declare("sap.ca.ui.model.format.NumberFormat");jQuery.sap.require("sap.ui.core.LocaleData");jQuery.sap.require("sap.ca.ui.model.format.FormatHelper");jQuery.sap.require("sap.ca.ui.utils.resourcebundle");
sap.ca.ui.model.format.NumberFormat=function(){throw new Error();};
sap.ca.ui.model.format.NumberFormat.oValueInfo={oDefaultFormatOptions:{style:"standard"}};
sap.ca.ui.model.format.NumberFormat.getInstance=function(f,l){return this.createInstance(f,l,this.oValueInfo);};
sap.ca.ui.model.format.NumberFormat.createInstance=function(f,l,i){var F=jQuery.sap.newObject(this.prototype);if(f instanceof sap.ui.core.Locale){l=f;f=undefined;}if(!l){l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();}F.oLocale=l;F.oLocaleData=sap.ui.core.LocaleData.getInstance(l);F.oFormatOptions=jQuery.extend(false,{},i.oDefaultFormatOptions,f);F.oFormatOptions.formatStyle="standard";F.init();return F;};
sap.ca.ui.model.format.NumberFormat.prototype.init=function(){};
sap.ca.ui.model.format.NumberFormat.prototype.format=function(v){var r="";var f="format_"+this.oFormatOptions.style;if(this[f]){r=this[f](v);}else{r=this.format_standard(v);}return r;};
sap.ca.ui.model.format.NumberFormat.prototype.format_standard=function(v){var f=sap.ca.ui.model.format.FormatHelper.getFormatOptions(this.oFormatOptions,this.oLocale);return sap.ca.ui.model.format.FormatHelper.formatNumber(v,f);};
sap.ca.ui.model.format.NumberFormat.prototype.format_short=function(v){var f;var s;var a;function g(d){var a;if(!s){s=sap.ui.core.LocaleData.getInstance(f.locale)._get("decimalFormat-short");if(!s){var e=new sap.ui.core.Locale("en");s=sap.ui.core.LocaleData.getInstance(e)._get("decimalFormat-short");}}if(s){var k=1;while(Math.abs(d)>=(k*10)&&k<1e14){k=k*10;}var h=s[k.toString()+"-other"];a={};if(!h||h=="0"){a.magnitude=1;}else{a.formatString=h;var m=h.match(/0+\.*0*/);if(m){a.valueSubString=m[0];var i=a.valueSubString.indexOf(".");if(i==-1){a.decimals=0;a.magnitude=k*Math.pow(10,1-a.valueSubString.length);}else{a.decimals=a.valueSubString.length-i-1;a.magnitude=k*Math.pow(10,1-i);}}else{a.magnitude=1;}}}return a;}var n=sap.ca.ui.model.format.FormatHelper.toNumeric(v);if(!isFinite(n)){return"";}var r="";f=sap.ca.ui.model.format.FormatHelper.getFormatOptions(this.oFormatOptions,this.oLocale);a=g(n);if(!a){return this.format_standard(v);}var b=n/a.magnitude;var c={};c.shortRounding=f.shortRounding;c.rounding=f.rounding;if(a.magnitude==1){c.formatStyle="standard";c.decimals=f.decimals;}else if(f.shortDecimals){c.formatStyle="short";c.shortDecimals=f.shortDecimals;}else{c.formatStyle="short";c.shortDecimals=a.decimals;}b=sap.ca.ui.model.format.FormatHelper.roundNumber(b,c);a=g(b*a.magnitude);if(!a||a.magnitude==1){r=this.format_standard(v);}else{b=sap.ca.ui.model.format.FormatHelper.roundNumber(n/a.magnitude,c);if(!f.shortDecimals){f.shortDecimals=a.decimals;}f.formatStyle="short";r=sap.ca.ui.model.format.FormatHelper.formatNumber(b,f);r=a.formatString.replace(a.valueSubString,r);r=r.replace(/'.'/g,".");}return r;};
sap.ca.ui.model.format.NumberFormat.prototype.parse=function(v){var f=sap.ui.core.format.NumberFormat.getInstance(this.oFormatOptions,this.oLocale);if(f.oFormatOptions.groupingSeparator=="\u00a0"){v=v.replace(/ /g,f.oFormatOptions.groupingSeparator);}return f.parse(v);};
sap.ca.ui.model.format.NumberFormat.prototype.format_percentage=function(v){var r,s;if(this.oFormatOptions.decimals===undefined){this.oFormatOptions.decimals=0;}var n=sap.ca.ui.model.format.FormatHelper.toNumeric(v);n=n*100.0;var f=this.format_standard(n);var p=sap.ui.core.LocaleData.getInstance(this.oLocale)._get("percentFormat");if(!p){s=new sap.ui.core.Locale("en");p=sap.ui.core.LocaleData.getInstance(s)._get("percentFormat");}var a=p["standard"];if(a===undefined||a==""){r=f;jQuery.sap.log.error("no percent format available for the current locale");}else{var b=/[\.0,#]+/;var t=a.replace(b,f);var c=sap.ui.core.LocaleData.getInstance(this.oLocale)._get("symbols-latn-percentSign");if(!c){s=new sap.ui.core.Locale("en");c=sap.ui.core.LocaleData.getInstance(s)._get("symbols-latn-percentSign");}r=t.replace(/\u0025/,c);}return r;};
},
	"sap/ca/ui/utils/resourcebundle.js":function(){jQuery.sap.declare("sap.ca.ui.utils.resourcebundle");jQuery.sap.require("sap.ui.model.resource.ResourceModel");sap.ca.ui.utils.resourcebundle=(function(){var i=new sap.ui.model.resource.ResourceModel({bundleUrl:jQuery.sap.getModulePath("sap.ca.ui.i18n.i18n",".properties"),});sap.ui.getCore().setModel(i,"sap.ca.ui.i18n");return i.getResourceBundle();}());
},
// Copyright (c) 2009-2014 SAP SE, All Rights Reserved
	"sap/ushell/renderers/fiori2/search/container/Search.view.js":function(){(function(g){"use strict";jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchLayout");jQuery.sap.require("sap.m.BusyDialog");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchResultListContainer");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchNoResultScreen");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchFacetFilter");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.DivContainer");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchResultList");jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchResultTable");jQuery.sap.require('sap.ushell.renderers.fiori2.search.SearchHelper');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchFilterBar');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchLabel');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchLink');jQuery.sap.require("sap.ushell.services.Personalization");jQuery.sap.require("sap.m.TablePersoController");jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchResultListItem');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.SearchResultMap');jQuery.sap.require('sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItem');jQuery.sap.require("sap.ui.vbm.AnalyticMap");jQuery.sap.require("sap.ui.vbm.Spot");var S=sap.ushell.renderers.fiori2.search.controls.SearchLayout;var a=sap.ushell.renderers.fiori2.search.controls.SearchResultListContainer;var b=sap.ushell.renderers.fiori2.search.controls.SearchResultList;var c=sap.ushell.renderers.fiori2.search.controls.SearchResultTable;var d=sap.ushell.renderers.fiori2.search.controls.SearchNoResultScreen;var s=sap.ushell.renderers.fiori2.search.SearchHelper;var f=sap.ushell.renderers.fiori2.search.controls.SearchLabel;var j=sap.ushell.renderers.fiori2.search.controls.SearchLink;var k=sap.ushell.renderers.fiori2.search.controls.SearchResultMap;var l=sap.ushell.renderers.fiori2.search.controls.SearchResultListItem;var C=sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItem;sap.ui.jsview("sap.ushell.renderers.fiori2.search.container.Search",{createContent:function(o){var t=this;t.centerArea=t.assembleCenterArea();var e=new sap.m.MessageStrip({text:sap.ushell.resources.i18n.getText('did_you_mean','{/queryFilter/searchTerms}'),showIcon:true,class:'sapUiMediumMarginBottom',visible:{parts:[{path:'/fuzzy'},{path:'/boCount'}],formatter:function(h,i){if(h===true&&i>0){return true;}else{return false;}}}});var r=new a({centerAreaHeader:null,centerArea:t.centerArea,didYouMeanBar:e,totalCountBar:t.assembleCountLabel(),noResultScreen:new d({searchBoxTerm:{parts:[{path:'/queryFilter/searchTerms'}],formatter:function(h){return h;}},visible:{parts:[{path:'/count'},{path:'/isBusy'}],formatter:function(h,i){return h===0&&!i;}}})});t.searchLayout=new S({resultListContainer:r,busyIndicator:new sap.m.BusyDialog(),isBusy:'{/isBusy}',showFacets:{parts:[{path:'/count'},{path:'/facetVisibility'},{path:'/uiFilter/defaultConditionGroup'}],formatter:function(h,i,m){if(!i){return false;}var n=m&&m.conditions&&m.conditions.length>0;if(h===0&&!n){return false;}return true;}},vertical:false,facets:new sap.ushell.renderers.fiori2.search.controls.SearchFacetFilter()});t.searchLayout.addStyleClass('sapUshellSearchLayout');t.searchContainer=new sap.ushell.renderers.fiori2.search.controls.DivContainer({content:[t.searchLayout],cssClass:'sapUshellSearchContainer'});t.oFocusHandler=new s.SearchFocusHandler(t);return t.searchContainer;},assembleFilterButton:function(){var t=this;var e=new sap.m.ToggleButton({icon:sap.ui.core.IconPool.getIconURI("filter"),tooltip:{parts:[{path:'/facetVisibility'}],formatter:function(h){return h?sap.ushell.resources.i18n.getText("hideFacetBtn_tooltip"):sap.ushell.resources.i18n.getText("showFacetBtn_tooltip");}},pressed:'{/facetVisibility}',press:function(){if(this.getPressed()){t.getModel().setFacetVisibility(true);}else{t.getModel().setFacetVisibility(false);}},visible:{parts:[{path:'/businessObjSearchEnabled'},{path:'/count'}],formatter:function(h,i){if(i===0){return false;}return!sap.ui.Device.system.phone&&h;}}});e.addStyleClass('searchBarFilterButton');return e;},searchToolbarEntryVisibility:{parts:[{path:'/count'}],formatter:function(e){return e!==0&&!sap.ui.Device.system.phone;}},assembleCountLabel:function(){var e=new sap.m.Label({visible:{parts:[{path:'/count'}],formatter:function(h){return h!==0;}},text:{parts:[{path:'/count'}],formatter:function(h){if(typeof h!=='number'){return"";}var i=s.formatInteger(h);return sap.ushell.resources.i18n.getText("results")+' ('+i+')';}}});e.addStyleClass('sapUshellSearchTotalCountSelenium');return e;},assembleSearchToolbar:function(w){var t=this;var e=t.assembleDisplaySwitchTapStrips();var h=new sap.m.Button({icon:"sap-icon://sort",tooltip:"{i18n>sortTable}",type:sap.m.ButtonType.Transparent,enabled:{parts:[{path:'/displaySwitchVisibility'},{path:'/count'},{path:'/tableSortableColumns'}],formatter:function(n,o,p){return n&&o!==0&&p.length>1;}},press:function(n){t.tableSortDialog.open();},visible:jQuery.extend({},this.searchToolbarEntryVisibility)});var i=new sap.m.Button("tablePersonalizeButton",{icon:"sap-icon://action-settings",tooltip:"{i18n>personalizeTable}",type:sap.m.ButtonType.Transparent,enabled:{parts:[{path:'/resultToDisplay'}],formatter:function(r){return r==="searchResultTable";}},press:function(n){t.oTablePersoController.openDialog();},visible:jQuery.extend({},this.searchToolbarEntryVisibility)});if(!w){var m=this.assembleShareButton();return[e,h,i,m];}else{return[e,h,i];}},assembleShareButton:function(){var t=this;var B=new sap.ushell.ui.footerbar.AddBookmarkButton({beforePressHandler:function(){var h={url:document.URL,title:t.getModel().getDocumentTitle(),icon:sap.ui.core.IconPool.getIconURI("search")};B.setAppData(h);}});B.setWidth('auto');var e=new sap.m.Button();e.setIcon("sap-icon://email");e.setText(sap.ushell.resources.i18n.getText("eMailFld"));e.attachPress(function(){sap.m.URLHelper.triggerEmail(null,t.getModel().getDocumentTitle(),document.URL);});e.setWidth('auto');var A=new sap.m.ActionSheet({placement:'Bottom',buttons:[B,e]});var o=new sap.m.Button({icon:'sap-icon://action',tooltip:sap.ushell.resources.i18n.getText('shareBtn'),press:function(){A.openBy(o);}});return o;},assembleDataSourceTapStrips:function(){var t=this;var e=new sap.m.OverflowToolbar({design:sap.m.ToolbarDesign.Transparent,visible:{parts:[{path:'/facetVisibility'},{path:'/count'},{path:'/businessObjSearchEnabled'}],formatter:function(i,m,n){return!i&&m>0&&n;}}});e.data("sap-ui-fastnavgroup","false",true);e.addStyleClass('searchTabStrips');t.tabBar=e;var h=new sap.ui.core.InvisibleText({text:"Data Sources"}).toStatic();e.addDependent(h);e.addAriaLabelledBy(h);e.bindAggregation('content','/tabStrips/strips',function(I,o){var m=new sap.m.ToggleButton({text:'{labelPlural}',type:{parts:[{path:'/tabStrips/selected'}],formatter:function(i){var p=this.getBindingContext().getObject();if(p.equals(i)===true){return sap.m.ButtonType.Transparent;}else{return sap.m.ButtonType.Transparent;}}},pressed:{parts:[{path:'/tabStrips/selected'}],formatter:function(i){var p=this.getBindingContext().getObject();return p.equals(i);}},press:function(p){this.setType(sap.m.ButtonType.Transparent);if(this.getBindingContext().getObject().equals(t.getModel().getProperty('/tabStrips/selected'))){this.setPressed(true);return;}var B=t.tabBar.getContent();for(var i=0;i<B.length;i++){if(B[i].getId()!==this.getId()){B[i].setType(sap.m.ButtonType.Transparent);if(B[i].getPressed()===true){B[i].setPressed(false);}}}t.getModel().setDataSource(this.getBindingContext().getObject());}});var n=new sap.ui.core.InvisibleText({text:o.getProperty("labelPlural")+", "+sap.ushell.resources.i18n.getText("dataSource")}).toStatic();m.addAriaLabelledBy(n);m.addDependent(n);return m;});e._setupItemNavigation=function(){if(!this.theItemNavigation){this.theItemNavigation=new sap.ui.core.delegate.ItemNavigation();this.addDelegate(this.theItemNavigation);}this.theItemNavigation.setCycling(false);this.theItemNavigation.setRootDomRef(this.getDomRef());var m=[];var n=this.getContent();for(var i=0;i<n.length;i++){if(!$(n[i].getDomRef()).attr("tabindex")){var o="-1";if(n[i].getPressed&&n[i].getPressed()){o="0";}$(n[i].getDomRef()).attr("tabindex",o);}m.push(n[i].getDomRef());}var p=this.getAggregation("_overflowButton");if(p&&p.getDomRef){var _=p.getDomRef();m.push(_);$(_).attr("tabindex","-1");}this.theItemNavigation.setItemDomRefs(m);};e.addEventDelegate({onAfterRendering:function(E){var t=this;t.getAggregation("_overflowButton").addEventDelegate({onAfterRendering:function(E){t._setupItemNavigation();}},t.getAggregation("_overflowButton"));t._setupItemNavigation();}},e);return e;},reorgTabBarSequence:function(){if(!this.tabBar){return;}var h=new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.High});var n=new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow});var B=this.tabBar.getContent();for(var i=0;i<B.length;i++){if(this.getModel().getProperty('/tabStrips/selected').equals(B[i].getBindingContext().getObject())){B[i].setLayoutData(n);}else{B[i].setLayoutData(h);}}},assembleDisplaySwitchTapStrips:function(){var t=this;var o=new sap.m.SegmentedButton('ResultViewType',{selectedKey:{parts:[{path:'/resultToDisplay'}],formatter:function(r){var e="list";if(r==="searchResultTable"){e="table";}else if(r==="searchResultList"){e="list";}else if(r==="searchResultMap"){e="map";}return e;}},items:[new sap.m.SegmentedButtonItem({icon:"sap-icon://list",tooltip:sap.ushell.resources.i18n.getText("displayList"),key:"list"}),new sap.m.SegmentedButtonItem({icon:"sap-icon://table-view",tooltip:sap.ushell.resources.i18n.getText("displayTable"),key:"table"}),(t.getModel()&&t.getModel().config.maps?new sap.m.SegmentedButtonItem({icon:"sap-icon://map",tooltip:sap.ushell.resources.i18n.getText("displayMap"),key:"map"}):undefined)],enabled:{parts:[{path:'/displaySwitchVisibility'},{path:'/count'}],formatter:function(e,h){return e&&h!==0;}},select:function(e){var h=e.mParameters.key;var m=t.getModel();switch(h){case"list":m.setProperty('/resultToDisplay',"searchResultList");t.showMoreFooter.setVisible(t.isShowMoreFooterVisible());t.searchResultMap.setVisible(false);break;case"table":m.setProperty('/resultToDisplay',"searchResultTable");t.showMoreFooter.setVisible(t.isShowMoreFooterVisible());t.searchResultMap.setVisible(false);break;case"map":m.setProperty('/resultToDisplay',"searchResultMap");t.searchResultMap.setVisible(t.isShowMoreFooterVisible());t.showMoreFooter.setVisible(false);break;default:m.setProperty('/resultToDisplay',"searchResultList");t.showMoreFooter.setVisible(t.isShowMoreFooterVisible());}m.enableOrDisableMultiSelection();}.bind(this),visible:jQuery.extend({},this.searchToolbarEntryVisibility)});return o;},isShowMoreFooterVisible:function(){var m=this.getModel();return m.getProperty("/boCount")>m.getProperty("/boResults").length;},assembleCenterArea:function(){var t=this;t.tableSortDialog=t.assembleSearchResultSortDialog();var e=t.assembleSearchResultList();t.searchResultTable=t.assembleSearchResultTable();t.searchResultTable.addDelegate({onBeforeRendering:function(){t.updateTableLayout();}});t.searchResultMap=t.assembleSearchResultMap();t.searchResultMap.setVisible(false);t.appSearchResult=t.assembleAppSearch();t.showMoreFooter=t.assembleShowMoreFooter();return[t.tableSortDialog,e,t.searchResultTable,t.searchResultMap,t.appSearchResult,t.showMoreFooter];},assembleSearchResultSortDialog:function(){var t=this;var e=new sap.m.ViewSettingsDialog({sortDescending:{parts:[{path:"/orderBy"}],formatter:function(o){return jQuery.isEmptyObject(o)||o.sortOrder==="DESC";}},confirm:function(h){var p=[];p=h.getParameters();if(p.sortItem){var o=t.getModel();if(p.sortItem.getKey()==="ushellSearchDefaultSortItem"){o.resetOrderBy();e.setSortDescending(true);}else{o.setOrderBy({orderBy:p.sortItem.getBindingContext().getObject().originalKey,sortOrder:p.sortDescending===true?"DESC":"ASC"});}}},cancel:function(h){var i=t.getModel().getOrderBy().orderBy===undefined?"ushellSearchDefaultSortItem":t.getModel().getOrderBy().orderBy;this.setSelectedSortItem(i);}});e.bindAggregation("sortItems","/tableSortableColumns",function(p,D){return new sap.m.ViewSettingsItem({key:"{key}",originalKey:"{originalKey}",text:"{name}",selected:"{selected}"});});return e;},assembleSearchResultTable:function(){var t=this;var r=new c("ushell-search-result-table",{mode:{parts:[{path:'/multiSelectionEnabled'}],formatter:function(m){return m===true?sap.m.ListMode.MultiSelect:sap.m.ListMode.None;}},noDataText:'{i18n>noCloumnsSelected}',visible:{parts:[{path:'/resultToDisplay'},{path:'/count'}],formatter:function(e,h){return e==="searchResultTable"&&h!==0;}},rememberSelections:false});r.bindAggregation("columns","/tableColumns",function(p,D){var e=D.getObject();var h=new sap.m.Column(e.key,{header:new sap.m.Label({text:"{name}",tooltip:"{name}"}),visible:{parts:[{path:'index'}],formatter:function(i){return i<5;}}});return h;});r.bindAggregation("items","/tableResults",function(p,D){return t.assembleTableItems(D);});r.addEventDelegate({onAfterRendering:function(){t.updatePersoServiceAndController();}});return r;},assembleTableItems:function(D){var t=this;var o=D.getObject();if(o.type==='footer'){return new sap.m.CustomListItem({visible:false});}else{return t.assembleTableMainItems(o,D.getPath());}},assembleTableMainItems:function(D,p){var t=this;t.oCrossAppNav=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");var e=p+"/itemattributes";var h=new sap.m.ColumnListItem({selected:"{selected}"});h.bindAggregation("cells",e,function(e,m){if(m.getObject().isTitle){var n="";var o;var q=m.getObject().titleNavigation;if(q){n=q.getHref();o=q.getTarget();}var r=(n&&n.length>0)?true:false;var u=new j({text:"{value}",tooltip:{parts:[{path:'value'}],formatter:function(z){return $("<div>"+z+"</div>").text();}},enabled:r,href:n,press:function(){var n="";var q=m.getObject().titleNavigation;if(q){n=q.getHref();}var z=sap.ushell.renderers.fiori2.search.getModelSingleton();z.eventLogger.logEvent({type:z.eventLogger.ITEM_NAVIGATE,targetUrl:n});}});if(o){u.setTarget(o);}return u;}else if((m.getObject().isNavigationObjects)){var v=m.getObject().navigationObjects;var w=[];var x={};for(var i=0;i<v.length;i++){var y=v[i];x=new sap.m.Button({text:y.getText(),tooltip:y.getText(),press:function(){y.performNavigation();}});w.push(x);}return new sap.m.Button({icon:"sap-icon://action",press:function(){var z=new sap.m.ActionSheet({buttons:w});z.openBy(this);}});}else{return new f({text:"{value}",tooltip:{parts:[{path:'value'}],formatter:function(z){return $("<div>"+z+"</div>").text();}}});}});return h;},onRegionClick:function(e){},onRegionContextMenu:function(e){},assembleSearchResultMap:function(){var o=new k();o.addEventDelegate({onAfterRendering:function(){var h=$(".sapUshellSearchResultMap").parent().parent().css("height");h=parseInt(h,10);h=0.8*h;h=""+h+"px";$(".sapUshellSearchResultMap").css("height",h);$(".sapUshellSearchResultMap").css("vertical-align","middle");}});return o;},assembleShowMoreFooter:function(){var t=this;var e=new sap.m.Button({text:"{i18n>showMore}",type:sap.m.ButtonType.Transparent,press:function(){var o=t.getModel();o.setProperty('/focusIndex',o.getTop());var n=o.getTop()+o.pageSize;o.setTop(n);}});e.addStyleClass('sapUshellResultListMoreFooter');var h=new sap.m.FlexBox({visible:{parts:[{path:'/boCount'},{path:'/boResults'}],formatter:function(i,m){return m.length<i;}},justifyContent:sap.m.FlexJustifyContent.Center});h.addStyleClass('sapUshellResultListMoreFooterContainer');h.addItem(e);return h;},assembleSearchResultList:function(){var t=this;t.resultList=new b({mode:sap.m.ListMode.None,width:"auto",showNoData:false,visible:{parts:[{path:'/resultToDisplay'},{path:'/count'}],formatter:function(r,e){return r==="searchResultList"&&e!==0;}}});t.resultList.bindAggregation("items","/results",function(p,o){return t.assembleListItem(o);});return t.resultList;},assembleAppSearch:function(){var t=this;var e=new sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer({addAccInformation:true,maxRows:99999,totalLength:'{/appCount}',visible:{parts:[{path:'/resultToDisplay'},{path:'/count'}],formatter:function(r,h){return r==="appSearchResult"&&h!==0;}},highlightTerms:'{/uiFilter/searchTerms}',showMore:function(){var m=t.getModel();m.setProperty('/focusIndex',e.getNumberDisplayedTiles()-1);var n=m.getTop()+m.pageSize*e.getTilesPerRow();m.setTop(n);}});e.bindAggregation('tiles','/appResults',function(i,o){return t.getTileView(o.getObject().tile);});e.addStyleClass('sapUshellSearchTileResultList');sap.ui.getCore().getEventBus().subscribe('searchLayoutChanged',function(){e.delayedRerender();},this);return e;},assembleTitleItem:function(D){var i=new sap.m.CustomListItem();var t=new sap.m.Label({text:"{title}"});t.addStyleClass('bucketTitle');i.addStyleClass('bucketTitleContainer');i.addContent(new sap.m.HBox({items:[t]}));return i;},assembleAppContainerResultListItem:function(D,p){var t=this;var e=new sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer({maxRows:sap.ui.Device.system.phone?2:1,totalLength:'{/appCount}',highlightTerms:'{/uiFilter/searchTerms}',enableKeyHandler:false,resultList:t.resultList,showMore:function(){var m=t.getModel();m.setDataSource(m.appDataSource);}});e.bindAggregation('tiles','tiles',function(i,o){return t.getTileView(o.getObject().tile);});var h=new sap.m.CustomListItem({content:e});h.addStyleClass('sapUshellSearchResultListItem');h.addStyleClass('sapUshellSearchResultListItemApps');h.addEventDelegate({onAfterRendering:function(E){var i=$(h.getDomRef());i.removeAttr("tabindex");i.removeAttr("role");i.attr("aria-hidden","true");}},h);sap.ui.getCore().getEventBus().subscribe('searchLayoutChanged',function(){e.delayedRerender();},this);return h;},assembleResultListItem:function(D,p){var e=this.getModel().config.getDataSourceConfig(D.dataSource);var h={title:"{$$Name$$}",titleUrl:"{uri}",titleNavigation:"{titleNavigation}",type:"{dataSourceName}",imageUrl:"{imageUrl}",attributes:"{itemattributes}",navigationObjects:"{navigationObjects}",selected:"{selected}",expanded:"{expanded}"};var i;if(e.searchResultListItemControl){i=new e.searchResultListItemControl(h);}else if(e.searchResultListItemContentControl){h.content=new e.searchResultListItemContentControl();i=new C(h);}else{i=new l(h);}var m=new sap.m.CustomListItem({content:i});m.addStyleClass('sapUshellSearchResultListItem');if(i.setParentListItem){i.setParentListItem(m);}return m;},assembleListItem:function(o){var t=this;var D=o.getObject();if(D.type==='title'){return t.assembleTitleItem(D);}else if(D.type==='footer'){return new sap.m.CustomListItem();}else if(D.type==='appcontainer'){return t.assembleAppContainerResultListItem(D,o.getPath());}else{return t.assembleResultListItem(D,o.getPath());}},getTileView:function(t){try{var h=t.getContract('types');h.setType('tile');}catch(e){}var v=sap.ushell.Container.getService('LaunchPage').getCatalogTileView(t);var i=sap.ushell.Container.getService('LaunchPage').getCatalogTileTargetURL(t);var m='app';if(t.getTitle){m=t.getTitle();}v.eventLoggingData={targetUrl:i,title:m};return v;},onAllSearchStarted:function(){},onAllSearchFinished:function(){var t=this;t.reorgTabBarSequence();t.oFocusHandler.setFocus();var v=sap.ui.getCore().byId('viewPortContainer');if(v&&v.switchState){v.switchState('Center');}},updatePersoServiceAndController:function(){var t=this;var m=t.getModel();var e=m.getDataSource().key;if(!t.oTablePersoController){var p=m.getPersonalizationStorageInstance();t.oTablePersoController=new sap.m.TablePersoController({table:sap.ui.getCore().byId("ushell-search-result-table"),persoService:p.getPersonalizer('search-result-table-state-'+e)}).activate();t.oTablePersoController.refresh();}if(t.oTablePersoController&&t.oTablePersoController.getPersoService().getKey()!=='search-result-table-state-'+e){t.oTablePersoController.setPersoService(m.getPersonalizationStorageInstance().getPersonalizer('search-result-table-state-'+e));t.oTablePersoController.refresh();}},updateTableLayout:function(){var t=this;if(t.searchResultTable){var e=t.searchResultTable.getColumns();var v=0;for(var i=0;i<e.length;i++){if(e[i].getVisible()){v++;}}if(v<=3){t.searchResultTable.setFixedLayout(false);}else{t.searchResultTable.setFixedLayout(true);}}},setAppView:function(A){var t=this;t.oAppView=A;if(t.oTilesContainer){t.oTilesContainer.setAppView(A);}},getControllerName:function(){return"sap.ushell.renderers.fiori2.search.container.Search";}});}(window));
},
//Copyright (c) 2013 SAP AG, All Rights Reserved
	"sap/ushell/components/tiles/indicatorDual/DualTile.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");jQuery.sap.require("sap.ushell.components.tiles.sbtilecontent");sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("sap.ushell.components.tiles.indicatorDual.DualTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorDual.DualTile";},createContent:function(c){this.setHeight('100%');this.setWidth('100%');var t=this;t.tileData;t.oGenericTileData={};sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(t.getViewData().chip.configuration.getParameterValueAsString("tileConfiguration"),t.getViewData().chip.preview.isEnabled(),function(e){t.oConfig=e;});t.tileType=t.oConfig.TILE_PROPERTIES.tileType;t.oNumericContent=new sap.m.NumericContent({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:"{/isFormatterValue}",truncateValueTo:5,valueColor:"{/valueColor}",nullifyValue:false});t.oLeftTileContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:t.oNumericContent});switch(t.tileType){case"DT-CM":var C=new sap.suite.ui.microchart.ComparisonMicroChartData({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});t.oComparisionContent=new sap.suite.ui.microchart.ComparisonMicroChart({size:"{/size}",scale:"{/scale}",data:{template:C,path:"/data"}});t.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:t.oComparisionContent});break;case"DT-CT":var C=new sap.suite.ui.microchart.ComparisonMicroChartData({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});t.oContributionContent=new sap.suite.ui.microchart.ComparisonMicroChart({size:"{/size}",scale:"{/scale}",data:{template:C,path:"/data"}});t.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:t.oContributionContent});break;case"DT-TT":var b=function(n){return new sap.suite.ui.microchart.AreaMicroChartItem({color:"Good",points:{path:"/"+n+"/data",template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:"{day}",y:"{balance}"})}});};var a=function(n){return new sap.suite.ui.microchart.AreaMicroChartLabel({label:"{/"+n+"/label}",color:"{/"+n+"/color}"});};var d=new sap.suite.ui.microchart.AreaMicroChart({width:"{/width}",height:"{/height}",size:"{/size}",target:b("target"),innerMinThreshold:b("innerMinThreshold"),innerMaxThreshold:b("innerMaxThreshold"),minThreshold:b("minThreshold"),maxThreshold:b("maxThreshold"),chart:b("chart"),minXValue:"{/minXValue}",maxXValue:"{/maxXValue}",minYValue:"{/minYValue}",maxYValue:"{/maxYValue}",firstXLabel:a("firstXLabel"),lastXLabel:a("lastXLabel"),firstYLabel:a("firstYLabel"),lastYLabel:a("lastYLabel"),minLabel:a("minLabel"),maxLabel:a("maxLabel")});t.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",content:d});break;case"DT-AT":var B=new sap.suite.ui.microchart.BulletMicroChartData({value:"{value}",color:"{color}"});var o=new sap.suite.ui.microchart.BulletMicroChart({size:sap.m.Size.Auto,scale:"{/scale}",actual:{value:"{/actual/value}",color:"{/actual/color}"},targetValue:"{/targetValue}",actualValueLabel:"{/actualValueLabel}",targetValueLabel:"{/targetValueLabel}",thresholds:{template:B,path:"/thresholds"},state:"{/state}",showActualValue:"{/showActualValue}",showTargetValue:"{/showTargetValue}"});t.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:o});break;}t.oGenericTile=new sap.m.GenericTile({subheader:"{/subheader}",frameType:"TwoByOne",size:"{/size}",header:"{/header}",tileContent:[t.oLeftTileContent,t.oRightContent]});t.oGenericTileModel=new sap.ui.model.json.JSONModel();t.oGenericTileModel.setData(t.oGenericTileData);t.oGenericTile.setModel(t.oGenericTileModel);return t.oGenericTile;}});}());
},
/*!
 * D3 v3.4.12 - http://d3js.org/
 *
 * Copyright (c) 2010-2014, Michael Bostock
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
	"sap/ui/thirdparty/d3.js":function(){!function(){var D={version:"3.4.12"};if(!Date.now)Date.now=function(){return+new Date();};var E=[].slice,J=function(l){return E.call(l);};var K=document,M=K.documentElement,O=window;try{J(M.childNodes)[0].nodeType;}catch(e){J=function(l){var i=l.length,a=new Array(i);while(i--)a[i]=l[i];return a;};}try{K.createElement("div").style.setProperty("opacity",0,"");}catch(P){var Q=O.Element.prototype,R=Q.setAttribute,T=Q.setAttributeNS,U=O.CSSStyleDeclaration.prototype,V=U.setProperty;Q.setAttribute=function(n,v){R.call(this,n,v+"");};Q.setAttributeNS=function(s,l,v){T.call(this,s,l,v+"");};U.setProperty=function(n,v,p){V.call(this,n,v+"",p);};}D.ascending=W;function W(a,b){return a<b?-1:a>b?1:a>=b?0:NaN;}D.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN;};D.min=function(c,f){var i=-1,n=c.length,a,b;if(arguments.length===1){while(++i<n&&!((a=c[i])!=null&&a<=a))a=undefined;while(++i<n)if((b=c[i])!=null&&a>b)a=b;}else{while(++i<n&&!((a=f.call(c,c[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(c,c[i],i))!=null&&a>b)a=b;}return a;};D.max=function(c,f){var i=-1,n=c.length,a,b;if(arguments.length===1){while(++i<n&&!((a=c[i])!=null&&a<=a))a=undefined;while(++i<n)if((b=c[i])!=null&&b>a)a=b;}else{while(++i<n&&!((a=f.call(c,c[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(c,c[i],i))!=null&&b>a)a=b;}return a;};D.extent=function(d,f){var i=-1,n=d.length,a,b,c;if(arguments.length===1){while(++i<n&&!((a=c=d[i])!=null&&a<=a))a=c=undefined;while(++i<n)if((b=d[i])!=null){if(a>b)a=b;if(c<b)c=b;}}else{while(++i<n&&!((a=c=f.call(d,d[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(d,d[i],i))!=null){if(a>b)a=b;if(c<b)c=b;}}return[a,c];};D.sum=function(b,f){var s=0,n=b.length,a,i=-1;if(arguments.length===1){while(++i<n)if(!isNaN(a=+b[i]))s+=a;}else{while(++i<n)if(!isNaN(a=+f.call(b,b[i],i)))s+=a;}return s;};function Z(x){return x!=null&&!isNaN(x);}D.mean=function(b,f){var s=0,n=b.length,a,i=-1,j=n;if(arguments.length===1){while(++i<n)if(Z(a=b[i]))s+=a;else--j;}else{while(++i<n)if(Z(a=f.call(b,b[i],i)))s+=a;else--j;}return j?s/j:undefined;};D.quantile=function(a,p){var H=(a.length-1)*p+1,h=Math.floor(H),v=+a[h-1],e=H-h;return e?v+e*(a[h]-v):v;};D.median=function(a,f){if(arguments.length>1)a=a.map(f);a=a.filter(Z);return a.length?D.quantile(a.sort(W),.5):undefined;};function $(c){return{left:function(a,x,l,h){if(arguments.length<3)l=0;if(arguments.length<4)h=a.length;while(l<h){var m=l+h>>>1;if(c(a[m],x)<0)l=m+1;else h=m;}return l;},right:function(a,x,l,h){if(arguments.length<3)l=0;if(arguments.length<4)h=a.length;while(l<h){var m=l+h>>>1;if(c(a[m],x)>0)h=m;else l=m+1;}return l;}};}var f1=$(W);D.bisectLeft=f1.left;D.bisect=D.bisectRight=f1.right;D.bisector=function(f){return $(f.length===1?function(d,x){return W(f(d),x);}:f);};D.shuffle=function(a){var m=a.length,t,i;while(m){i=Math.random()*m--|0;t=a[m],a[m]=a[i],a[i]=t;}return a;};D.permute=function(a,b){var i=b.length,p=new Array(i);while(i--)p[i]=a[b[i]];return p;};D.pairs=function(a){var i=0,n=a.length-1,p,b=a[0],c=new Array(n<0?0:n);while(i<n)c[i]=[p=b,b=a[++i]];return c;};D.zip=function(){if(!(n=arguments.length))return[];for(var i=-1,m=D.min(arguments,g1),z=new Array(m);++i<m;){for(var j=-1,n,a=z[i]=new Array(n);++j<n;){a[j]=arguments[j][i];}}return z;};function g1(d){return d.length;}D.transpose=function(m){return D.zip.apply(D,m);};D.keys=function(m){var k=[];for(var a in m)k.push(a);return k;};D.values=function(m){var v=[];for(var k in m)v.push(m[k]);return v;};D.entries=function(m){var a=[];for(var k in m)a.push({key:k,value:m[k]});return a;};D.merge=function(a){var n=a.length,m,i=-1,j=0,b,c;while(++i<n)j+=a[i].length;b=new Array(j);while(--n>=0){c=a[n];m=c.length;while(--m>=0){b[--j]=c[m];}}return b;};var h1=Math.abs;D.range=function(s,a,b){if(arguments.length<3){b=1;if(arguments.length<2){a=s;s=0;}}if((a-s)/b===Infinity)throw new Error("infinite range");var r=[],k=j1(h1(b)),i=-1,j;s*=k,a*=k,b*=k;if(b<0)while((j=s+b*++i)>a)r.push(j/k);else while((j=s+b*++i)<a)r.push(j/k);return r;};function j1(x){var k=1;while(x*k%1)k*=10;return k;}function k1(c,p){try{for(var k in p){Object.defineProperty(c.prototype,k,{value:p[k],enumerable:false});}}catch(e){c.prototype=p;}}D.map=function(o){var m=new o1();if(o instanceof o1)o.forEach(function(k,v){m.set(k,v);});else for(var k in o)m.set(k,o[k]);return m;};function o1(){}k1(o1,{has:z1,get:function(k){return this[u1+k];},set:function(k,v){return this[u1+k]=v;},remove:A1,keys:B1,values:function(){var v=[];this.forEach(function(k,a){v.push(a);});return v;},entries:function(){var a=[];this.forEach(function(k,v){a.push({key:k,value:v});});return a;},size:C1,empty:D1,forEach:function(f){for(var k in this)if(k.charCodeAt(0)===v1)f.call(this,k.slice(1),this[k]);}});var u1="\x00",v1=u1.charCodeAt(0);function z1(k){return u1+k in this;}function A1(k){k=u1+k;return k in this&&delete this[k];}function B1(){var k=[];this.forEach(function(a){k.push(a);});return k;}function C1(){var s=0;for(var k in this)if(k.charCodeAt(0)===v1)++s;return s;}function D1(){for(var k in this)if(k.charCodeAt(0)===v1)return false;return true;}D.nest=function(){var c={},k=[],s=[],g,r;function m(a,b,d){if(d>=k.length)return r?r.call(c,b):g?b.sort(g):b;var i=-1,n=b.length,f=k[d++],j,o,l,v=new o1(),p;while(++i<n){if(p=v.get(j=f(o=b[i]))){p.push(o);}else{v.set(j,[o]);}}if(a){o=a();l=function(j,p){o.set(j,m(a,p,d));};}else{o={};l=function(j,p){o[j]=m(a,p,d);};}v.forEach(l);return o;}function h(m,d){if(d>=k.length)return m;var f=[],i=s[d++];m.forEach(function(a,b){f.push({key:a,values:h(b,d)});});return i?f.sort(function(a,b){return i(a.key,b.key);}):f;}c.map=function(a,b){return m(b,a,0);};c.entries=function(a){return h(m(D.map,a,0),0);};c.key=function(d){k.push(d);return c;};c.sortKeys=function(o){s[k.length-1]=o;return c;};c.sortValues=function(o){g=o;return c;};c.rollup=function(f){r=f;return c;};return c;};D.set=function(a){var s=new E1();if(a)for(var i=0,n=a.length;i<n;++i)s.add(a[i]);return s;};function E1(){}k1(E1,{has:z1,add:function(v){this[u1+v]=true;return v;},remove:function(v){v=u1+v;return v in this&&delete this[v];},values:B1,size:C1,empty:D1,forEach:function(f){for(var v in this)if(v.charCodeAt(0)===v1)f.call(this,v.slice(1));}});D.behavior={};D.rebind=function(t,s){var i=1,n=arguments.length,m;while(++i<n)t[m=arguments[i]]=F1(t,s,s[m]);return t;};function F1(t,s,m){return function(){var v=m.apply(s,arguments);return v===s?t:v;};}function G1(o,a){if(a in o)return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var i=0,n=H1.length;i<n;++i){var p=H1[i]+a;if(p in o)return p;}}var H1=["webkit","ms","moz","Moz","o","O"];function I1(){}D.dispatch=function(){var d=new J1(),i=-1,n=arguments.length;while(++i<n)d[arguments[i]]=K1(d);return d;};function J1(){}J1.prototype.on=function(t,l){var i=t.indexOf("."),n="";if(i>=0){n=t.slice(i+1);t=t.slice(0,i);}if(t)return arguments.length<2?this[t].on(n):this[t].on(n,l);if(arguments.length===2){if(l==null)for(t in this){if(this.hasOwnProperty(t))this[t].on(n,null);}return this;}};function K1(d){var a=[],b=new o1();function c(){var z=a,i=-1,n=z.length,l;while(++i<n)if(l=z[i].on)l.apply(this,arguments);return d;}c.on=function(n,f){var l=b.get(n),i;if(arguments.length<2)return l&&l.on;if(l){l.on=null;a=a.slice(0,i=a.indexOf(l)).concat(a.slice(i+1));b.remove(n);}if(f)a.push(b.set(n,{on:f}));return d;};return c;}D.event=null;function L1(){D.event.preventDefault();}function M1(){var e=D.event,s;while(s=e.sourceEvent)e=s;return e;}function N1(t){var d=new J1(),i=0,n=arguments.length;while(++i<n)d[arguments[i]]=K1(d);d.of=function(a,b){return function(c){try{var f=c.sourceEvent=D.event;c.target=t;D.event=c;d[c.type].apply(a,b);}finally{D.event=f;}};};return d;}D.requote=function(s){return s.replace(O1,"\\$&");};var O1=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var P1={}.__proto__?function(o,p){o.__proto__=p;}:function(o,p){for(var a in p)o[a]=p[a];};function Q1(g){P1(g,V1);return g;}var R1=function(s,n){return n.querySelector(s);},S1=function(s,n){return n.querySelectorAll(s);},T1=M.matches||M[G1(M,"matchesSelector")],U1=function(n,s){return T1.call(n,s);};if(typeof Sizzle==="function"){R1=function(s,n){return Sizzle(s,n)[0]||null;};S1=Sizzle;U1=Sizzle.matchesSelector;}D.selection=function(){return z2;};var V1=D.selection.prototype=[];V1.select=function(s){var a=[],b,c,g,d;s=W1(s);for(var j=-1,m=this.length;++j<m;){a.push(b=[]);b.parentNode=(g=this[j]).parentNode;for(var i=-1,n=g.length;++i<n;){if(d=g[i]){b.push(c=s.call(d,d.__data__,i,j));if(c&&"__data__"in d)c.__data__=d.__data__;}else{b.push(null);}}}return Q1(a);};function W1(s){return typeof s==="function"?s:function(){return R1(s,this);};}V1.selectAll=function(s){var a=[],b,c;s=Z1(s);for(var j=-1,m=this.length;++j<m;){for(var g=this[j],i=-1,n=g.length;++i<n;){if(c=g[i]){a.push(b=J(s.call(c,c.__data__,i,j)));b.parentNode=c;}}}return Q1(a);};function Z1(s){return typeof s==="function"?s:function(){return S1(s,this);};}var $1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};D.ns={prefix:$1,qualify:function(n){var i=n.indexOf(":"),p=n;if(i>=0){p=n.slice(0,i);n=n.slice(i+1);}return $1.hasOwnProperty(p)?{space:$1[p],local:n}:n;}};V1.attr=function(n,v){if(arguments.length<2){if(typeof n==="string"){var a=this.node();n=D.ns.qualify(n);return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n);}for(v in n)this.each(_1(v,n[v]));return this;}return this.each(_1(n,v));};function _1(n,v){n=D.ns.qualify(n);function a(){this.removeAttribute(n);}function b(){this.removeAttributeNS(n.space,n.local);}function c(){this.setAttribute(n,v);}function d(){this.setAttributeNS(n.space,n.local,v);}function f(){var x=v.apply(this,arguments);if(x==null)this.removeAttribute(n);else this.setAttribute(n,x);}function g(){var x=v.apply(this,arguments);if(x==null)this.removeAttributeNS(n.space,n.local);else this.setAttributeNS(n.space,n.local,x);}return v==null?n.local?b:a:typeof v==="function"?n.local?g:f:n.local?d:c;}function a2(s){return s.trim().replace(/\s+/g," ");}V1.classed=function(a,v){if(arguments.length<2){if(typeof a==="string"){var b=this.node(),n=(a=e2(a)).length,i=-1;if(v=b.classList){while(++i<n)if(!v.contains(a[i]))return false;}else{v=b.getAttribute("class");while(++i<n)if(!b2(a[i]).test(v))return false;}return true;}for(v in a)this.each(f2(v,a[v]));return this;}return this.each(f2(a,v));};function b2(n){return new RegExp("(?:^|\\s+)"+D.requote(n)+"(?:\\s+|$)","g");}function e2(n){return(n+"").trim().split(/^|\s+/);}function f2(a,v){a=e2(a).map(g2);var n=a.length;function c(){var i=-1;while(++i<n)a[i](this,v);}function b(){var i=-1,x=v.apply(this,arguments);while(++i<n)a[i](this,x);}return typeof v==="function"?b:c;}function g2(n){var r=b2(n);return function(a,v){if(c=a.classList)return v?c.add(n):c.remove(n);var c=a.getAttribute("class")||"";if(v){r.lastIndex=0;if(!r.test(c))a.setAttribute("class",a2(c+" "+n));}else{a.setAttribute("class",a2(c.replace(r," ")));}};}V1.style=function(a,v,p){var n=arguments.length;if(n<3){if(typeof a!=="string"){if(n<2)v="";for(p in a)this.each(h2(p,a[p],v));return this;}if(n<2)return O.getComputedStyle(this.node(),null).getPropertyValue(a);p="";}return this.each(h2(a,v,p));};function h2(n,v,p){function s(){this.style.removeProperty(n);}function a(){this.style.setProperty(n,v,p);}function b(){var x=v.apply(this,arguments);if(x==null)this.style.removeProperty(n);else this.style.setProperty(n,x,p);}return v==null?s:typeof v==="function"?b:a;}V1.property=function(n,v){if(arguments.length<2){if(typeof n==="string")return this.node()[n];for(v in n)this.each(i2(v,n[v]));return this;}return this.each(i2(n,v));};function i2(n,v){function p(){delete this[n];}function a(){this[n]=v;}function b(){var x=v.apply(this,arguments);if(x==null)delete this[n];else this[n]=x;}return v==null?p:typeof v==="function"?b:a;}V1.text=function(a){return arguments.length?this.each(typeof a==="function"?function(){var v=a.apply(this,arguments);this.textContent=v==null?"":v;}:a==null?function(){this.textContent="";}:function(){this.textContent=a;}):this.node().textContent;};V1.html=function(a){return arguments.length?this.each(typeof a==="function"?function(){var v=a.apply(this,arguments);this.innerHTML=v==null?"":v;}:a==null?function(){this.innerHTML="";}:function(){this.innerHTML=a;}):this.node().innerHTML;};V1.append=function(n){n=j2(n);return this.select(function(){return this.appendChild(n.apply(this,arguments));});};function j2(n){return typeof n==="function"?n:(n=D.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local);}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,n);};}V1.insert=function(n,b){n=j2(n);b=W1(b);return this.select(function(){return this.insertBefore(n.apply(this,arguments),b.apply(this,arguments)||null);});};V1.remove=function(){return this.each(function(){var p=this.parentNode;if(p)p.removeChild(this);});};V1.data=function(v,k){var i=-1,n=this.length,g,a;if(!arguments.length){v=new Array(n=(g=this[0]).length);while(++i<n){if(a=g[i]){v[i]=a.__data__;}}return v;}function b(g,f){var i,n=g.length,m=f.length,h=Math.min(n,m),j=new Array(m),l=new Array(m),o=new Array(n),a,p;if(k){var q=new o1(),r=new o1(),s=[],t;for(i=-1;++i<n;){t=k.call(a=g[i],a.__data__,i);if(q.has(t)){o[i]=a;}else{q.set(t,a);}s.push(t);}for(i=-1;++i<m;){t=k.call(f,p=f[i],i);if(a=q.get(t)){j[i]=a;a.__data__=p;}else if(!r.has(t)){l[i]=k2(p);}r.set(t,p);q.remove(t);}for(i=-1;++i<n;){if(q.has(s[i])){o[i]=g[i];}}}else{for(i=-1;++i<h;){a=g[i];p=f[i];if(a){a.__data__=p;j[i]=a;}else{l[i]=k2(p);}}for(;i<m;++i){l[i]=k2(f[i]);}for(;i<n;++i){o[i]=g[i];}}l.update=j;l.parentNode=j.parentNode=o.parentNode=g.parentNode;c.push(l);u.push(j);d.push(o);}var c=r2([]),u=Q1([]),d=Q1([]);if(typeof v==="function"){while(++i<n){b(g=this[i],v.call(g,g.parentNode.__data__,i));}}else{while(++i<n){b(g=this[i],v);}}u.enter=function(){return c;};u.exit=function(){return d;};return u;};function k2(d){return{__data__:d};}V1.datum=function(v){return arguments.length?this.property("__data__",v):this.property("__data__");};V1.filter=function(f){var s=[],a,g,b;if(typeof f!=="function")f=l2(f);for(var j=0,m=this.length;j<m;j++){s.push(a=[]);a.parentNode=(g=this[j]).parentNode;for(var i=0,n=g.length;i<n;i++){if((b=g[i])&&f.call(b,b.__data__,i,j)){a.push(b);}}}return Q1(s);};function l2(s){return function(){return U1(this,s);};}V1.order=function(){for(var j=-1,m=this.length;++j<m;){for(var g=this[j],i=g.length-1,n=g[i],a;--i>=0;){if(a=g[i]){if(n&&n!==a.nextSibling)n.parentNode.insertBefore(a,n);n=a;}}}return this;};V1.sort=function(c){c=o2.apply(this,arguments);for(var j=-1,m=this.length;++j<m;)this[j].sort(c);return this.order();};function o2(c){if(!arguments.length)c=W;return function(a,b){return a&&b?c(a.__data__,b.__data__):!a-!b;};}V1.each=function(c){return q2(this,function(n,i,j){c.call(n,n.__data__,i,j);});};function q2(g,c){for(var j=0,m=g.length;j<m;j++){for(var a=g[j],i=0,n=a.length,b;i<n;i++){if(b=a[i])c(b,i,j);}}return g;}V1.call=function(c){var a=J(arguments);c.apply(a[0]=this,a);return this;};V1.empty=function(){return!this.node();};V1.node=function(){for(var j=0,m=this.length;j<m;j++){for(var g=this[j],i=0,n=g.length;i<n;i++){var a=g[i];if(a)return a;}}return null;};V1.size=function(){var n=0;q2(this,function(){++n;});return n;};function r2(s){P1(s,u2);return s;}var u2=[];D.selection.enter=r2;D.selection.enter.prototype=u2;u2.append=V1.append;u2.empty=V1.empty;u2.node=V1.node;u2.call=V1.call;u2.size=V1.size;u2.select=function(s){var a=[],b,c,u,g,d;for(var j=-1,m=this.length;++j<m;){u=(g=this[j]).update;a.push(b=[]);b.parentNode=g.parentNode;for(var i=-1,n=g.length;++i<n;){if(d=g[i]){b.push(u[i]=c=s.call(g.parentNode,d.__data__,i,j));c.__data__=d.__data__;}else{b.push(null);}}}return Q1(a);};u2.insert=function(n,b){if(arguments.length<2)b=v2(this);return V1.insert.call(this,n,b);};function v2(a){var b,c;return function(d,i,j){var g=a[j].update,n=g.length,f;if(j!=c)c=j,b=0;if(i>=b)b=i+1;while(!(f=g[b])&&++b<n);return f;};}V1.transition=function(){var a=Sa||++Ra,s=[],b,c,t=Ta||{time:Date.now(),ease:T7,delay:0,duration:250};for(var j=-1,m=this.length;++j<m;){s.push(b=[]);for(var g=this[j],i=-1,n=g.length;++i<n;){if(c=g[i])Wa(c,i,a,t);b.push(c);}}return Pa(s,a);};V1.interrupt=function(){return this.each(w2);};function w2(){var l=this.__transition__;if(l)++l.active;}D.select=function(n){var g=[typeof n==="string"?R1(n,K):n];g.parentNode=M;return Q1([g]);};D.selectAll=function(n){var g=J(typeof n==="string"?S1(n,K):n);g.parentNode=M;return Q1([g]);};var z2=D.select(M);V1.on=function(t,l,c){var n=arguments.length;if(n<3){if(typeof t!=="string"){if(n<2)l=false;for(c in t)this.each(A2(c,t[c],l));return this;}if(n<2)return(n=this.node()["__on"+t])&&n._;c=false;}return this.each(A2(t,l,c));};function A2(t,a,c){var n="__on"+t,i=t.indexOf("."),w=C2;if(i>0)t=t.slice(0,i);var f=B2.get(t);if(f)t=f,w=D2;function o(){var l=this[n];if(l){this.removeEventListener(t,l,l.$);delete this[n];}}function b(){var l=w(a,J(arguments));o.call(this);this.addEventListener(t,this[n]=l,l.$=c);l._=a;}function r(){var d=new RegExp("^__on([^.]+)"+D.requote(t)+"$"),m;for(var n in this){if(m=n.match(d)){var l=this[n];this.removeEventListener(m[1],l,l.$);delete this[n];}}}return i?a?b:o:a?I1:r;}var B2=D.map({mouseenter:"mouseover",mouseleave:"mouseout"});B2.forEach(function(k){if("on"+k in K)B2.remove(k);});function C2(l,a){return function(e){var o=D.event;D.event=e;a[0]=this.__data__;try{l.apply(this,a);}finally{D.event=o;}};}function D2(a,b){var l=C2(a,b);return function(e){var t=this,r=e.relatedTarget;if(!r||r!==t&&!(r.compareDocumentPosition(t)&8)){l.call(t,e);}};}var E2="onselectstart"in K?null:G1(M.style,"userSelect"),F2=0;function G2(){var n=".dragsuppress-"+ ++F2,c="click"+n,w=D.select(O).on("touchmove"+n,L1).on("dragstart"+n,L1).on("selectstart"+n,L1);if(E2){var s=M.style,a=s[E2];s[E2]="none";}return function(b){w.on(n,null);if(E2)s[E2]=a;if(b){function o(){w.on(c,null);};w.on(c,function(){L1();o();},true);setTimeout(o,0);}};}D.mouse=function(c){return I2(c,M1());};var H2=/WebKit/.test(O.navigator.userAgent)?-1:0;function I2(c,e){if(e.changedTouches)e=e.changedTouches[0];var s=c.ownerSVGElement||c;if(s.createSVGPoint){var p=s.createSVGPoint();if(H2<0&&(O.scrollX||O.scrollY)){s=D.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=s[0][0].getScreenCTM();H2=!(a.f||a.e);s.remove();}if(H2)p.x=e.pageX,p.y=e.pageY;else p.x=e.clientX,p.y=e.clientY;p=p.matrixTransform(c.getScreenCTM().inverse());return[p.x,p.y];}var r=c.getBoundingClientRect();return[e.clientX-r.left-c.clientLeft,e.clientY-r.top-c.clientTop];}D.touch=function(c,t,a){if(arguments.length<3)a=t,t=M1().changedTouches;if(t)for(var i=0,n=t.length,b;i<n;++i){if((b=t[i]).identifier===a){return I2(c,b);}}};D.behavior.drag=function(){var a=N1(d,"drag","dragstart","dragend"),o=null,m=b(I1,D.mouse,L2,"mousemove","mouseup"),t=b(J2,D.touch,K2,"touchmove","touchend");function d(){this.on("mousedown.drag",m).on("touchstart.drag",t);}function b(i,p,s,c,f){return function(){var g=this,h=D.event.target,j=g.parentNode,k=a.of(g,arguments),l=0,n=i(),q=".drag"+(n==null?"":"-"+n),r,u=D.select(s()).on(c+q,x).on(f+q,y),v=G2(),w=p(j,n);if(o){r=o.apply(g,arguments);r=[r.x-w[0],r.y-w[1]];}else{r=[0,0];}k({type:"dragstart"});function x(){var z=p(j,n),A,B;if(!z)return;A=z[0]-w[0];B=z[1]-w[1];l|=A|B;w=z;k({type:"drag",x:z[0]+r[0],y:z[1]+r[1],dx:A,dy:B});}function y(){if(!p(j,n))return;u.on(c+q,null).on(f+q,null);v(l&&D.event.target===h);k({type:"dragend"});}};}d.origin=function(x){if(!arguments.length)return o;o=x;return d;};return D.rebind(d,a,"on");};function J2(){return D.event.changedTouches[0].identifier;}function K2(){return D.event.target;}function L2(){return O;}D.touches=function(c,t){if(arguments.length<2)t=M1().touches;return t?J(t).map(function(a){var p=I2(c,a);p.identifier=a.identifier;return p;}):[];};var π=Math.PI,τ=2*π,M2=π/2,ε=1e-6,ε2=ε*ε,O2=π/180,P2=180/π;function Q2(x){return x>0?1:x<0?-1:0;}function R2(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0]);}function S2(x){return x>1?0:x<-1?π:Math.acos(x);}function T2(x){return x>1?M2:x<-1?-M2:Math.asin(x);}function U2(x){return((x=Math.exp(x))-1/x)/2;}function V2(x){return((x=Math.exp(x))+1/x)/2;}function W2(x){return((x=Math.exp(2*x))-1)/(x+1);}function X2(x){return(x=Math.sin(x/2))*x;}var ρ=Math.SQRT2,ρ2=2,ρ4=4;D.interpolateZoom=function(p,a){var b=p[0],c=p[1],w=p[2],d=a[0],f=a[1],g=a[2];var h=d-b,i=f-c,j=h*h+i*i,k=Math.sqrt(j),l=(g*g-w*w+ρ4*j)/(2*w*ρ2*k),m=(g*g-w*w-ρ4*j)/(2*g*ρ2*k),r=Math.log(Math.sqrt(l*l+1)-l),n=Math.log(Math.sqrt(m*m+1)-m),o=n-r,S=(o||Math.log(g/w))/ρ;function q(t){var s=t*S;if(o){var v=V2(r),u=w/(ρ2*k)*(v*W2(ρ*s+r)-U2(r));return[b+u*h,c+u*i,w*v/V2(ρ*s+r)];}return[b+t*h,c+t*i,w*Math.exp(ρ*s)];}q.duration=S*1e3;return q;};D.behavior.zoom=function(){var v={x:0,y:0,k:1},a,c,b,d=[960,500],f=$2,m="mousedown.zoom",h="mousemove.zoom",j="mouseup.zoom",o,r="touchstart.zoom",u,w=N1(G,"zoomstart","zoom","zoomend"),A,B,C,F;function G(g){g.on(m,b1).on(a3+".zoom",d1).on("dblclick.zoom",e1).on(r,c1);}G.event=function(g){g.each(function(){var n=w.of(this,arguments),p=v;if(Sa){D.select(this).transition().each("start.zoom",function(){v=this.__chart__||{x:0,y:0,k:1};X(n);}).tween("zoom:zoom",function(){var q=d[0],s=d[1],x=q/2,y=s/2,i=D.interpolateZoom([(x-v.x)/v.k,(y-v.y)/v.k,q/v.k],[(x-p.x)/p.k,(y-p.y)/p.k,q/p.k]);return function(t){var l=i(t),k=q/l[2];this.__chart__=v={x:x-l[0]*k,y:y-l[1]*k,k:k};Y(n);};}).each("end.zoom",function(){a1(n);});}else{this.__chart__=v;X(n);Y(n);a1(n);}});};G.translate=function(_){if(!arguments.length)return[v.x,v.y];v={x:+_[0],y:+_[1],k:v.k};S();return G;};G.scale=function(_){if(!arguments.length)return v.k;v={x:v.x,y:v.y,k:+_};S();return G;};G.scaleExtent=function(_){if(!arguments.length)return f;f=_==null?$2:[+_[0],+_[1]];return G;};G.center=function(_){if(!arguments.length)return b;b=_&&[+_[0],+_[1]];return G;};G.size=function(_){if(!arguments.length)return d;d=_&&[+_[0],+_[1]];return G;};G.x=function(z){if(!arguments.length)return B;B=z;A=z.copy();v={x:0,y:0,k:1};return G;};G.y=function(z){if(!arguments.length)return F;F=z;C=z.copy();v={x:0,y:0,k:1};return G;};function H(p){return[(p[0]-v.x)/v.k,(p[1]-v.y)/v.k];}function I(l){return[l[0]*v.k+v.x,l[1]*v.k+v.y];}function L(s){v.k=Math.max(f[0],Math.min(f[1],s));}function N(p,l){l=I(l);v.x+=p[0]-l[0];v.y+=p[1]-l[1];}function S(){if(B)B.domain(A.range().map(function(x){return(x-v.x)/v.k;}).map(A.invert));if(F)F.domain(C.range().map(function(y){return(y-v.y)/v.k;}).map(C.invert));}function X(g){g({type:"zoomstart"});}function Y(g){S();g({type:"zoom",scale:v.k,translate:[v.x,v.y]});}function a1(g){g({type:"zoomend"});}function b1(){var t=this,g=D.event.target,i=w.of(t,arguments),k=0,s=D.select(O).on(h,p).on(j,q),l=H(D.mouse(t)),n=G2();w2.call(t);X(i);function p(){k=1;N(D.mouse(t),l);Y(i);}function q(){s.on(h,null).on(j,null);n(k&&D.event.target===g);a1(i);}}function c1(){var g=this,k=w.of(g,arguments),s={},x=0,y,z=".zoom-"+D.event.changedTouches[0].identifier,_="touchmove"+z,i1="touchend"+z,m1=[],n1=D.select(g),q1=G2();w2.call(g);s1();X(k);n1.on(m,null).on(r,s1);function r1(){var i=D.touches(g);y=v.k;i.forEach(function(t){if(t.identifier in s)s[t.identifier]=H(t);});return i;}function s1(){var t=D.event.target;D.select(t).on(_,t1).on(i1,w1);m1.push(t);var l1=D.event.changedTouches;for(var i=0,n=l1.length;i<n;++i){s[l1[i].identifier]=null;}var p1=r1(),X1=Date.now();if(p1.length===1){if(X1-u<500){var p=p1[0],l=s[p.identifier];L(v.k*2);N(p,l);L1();Y(k);}u=X1;}else if(p1.length>1){var p=p1[0],q=p1[1],dx=p[0]-q[0],dy=p[1]-q[1];x=dx*dx+dy*dy;}}function t1(){var t=D.touches(g),p,l,q,l1;for(var i=0,n=t.length;i<n;++i,l1=null){q=t[i];if(l1=s[q.identifier]){if(l)break;p=q,l=l1;}}if(l1){var p1=(p1=q[0]-p[0])*p1+(p1=q[1]-p[1])*p1,X1=x&&Math.sqrt(p1/x);p=[(p[0]+q[0])/2,(p[1]+q[1])/2];l=[(l[0]+l1[0])/2,(l[1]+l1[1])/2];L(X1*y);}u=null;N(p,l);Y(k);}function w1(){if(D.event.touches.length){var l=D.event.changedTouches;for(var i=0,n=l.length;i<n;++i){delete s[l[i].identifier];}for(var p in s){return void r1();}}D.selectAll(m1).on(z,null);n1.on(m,b1).on(r,c1);q1();a1(k);}}function d1(){var g=w.of(this,arguments);if(o)clearTimeout(o);else a=H(c=b||D.mouse(this)),w2.call(this),X(g);o=setTimeout(function(){o=null;a1(g);},50);L1();L(Math.pow(2,_2()*.002)*v.k);N(c,a);Y(g);}function e1(){var g=w.of(this,arguments),p=D.mouse(this),l=H(p),k=Math.log(v.k)/Math.LN2;X(g);L(Math.pow(2,D.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1));N(p,l);Y(g);a1(g);}return D.rebind(G,w,"on");};var $2=[0,Infinity];var _2,a3="onwheel"in K?(_2=function(){return-D.event.deltaY*(D.event.deltaMode?120:1);},"wheel"):"onmousewheel"in K?(_2=function(){return D.event.wheelDelta;},"mousewheel"):(_2=function(){return-D.event.detail;},"MozMousePixelScroll");D.color=b3;function b3(){}b3.prototype.toString=function(){return this.rgb()+"";};D.hsl=c3;function c3(h,s,l){return this instanceof c3?void(this.h=+h,this.s=+s,this.l=+l):arguments.length<2?h instanceof c3?new c3(h.h,h.s,h.l):D3(""+h,E3,c3):new c3(h,s,l);}var d3=c3.prototype=new b3();d3.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);return new c3(this.h,this.s,this.l/k);};d3.darker=function(k){k=Math.pow(.7,arguments.length?k:1);return new c3(this.h,this.s,k*this.l);};d3.rgb=function(){return e3(this.h,this.s,this.l);};function e3(h,s,l){var m,a;h=isNaN(h)?0:(h%=360)<0?h+360:h;s=isNaN(s)?0:s<0?0:s>1?1:s;l=l<0?0:l>1?1:l;a=l<=.5?l*(1+s):l+s-l*s;m=2*l-a;function v(h){if(h>360)h-=360;else if(h<0)h+=360;if(h<60)return m+(a-m)*h/60;if(h<180)return a;if(h<240)return m+(a-m)*(240-h)/60;return m;}function b(h){return Math.round(v(h)*255);}return new w3(b(h+120),b(h),b(h-120));}D.hcl=f3;function f3(h,c,l){return this instanceof f3?void(this.h=+h,this.c=+c,this.l=+l):arguments.length<2?h instanceof f3?new f3(h.h,h.c,h.l):h instanceof i3?q3(h.l,h.a,h.b):q3((h=F3((h=D.rgb(h)).r,h.g,h.b)).l,h.a,h.b):new f3(h,c,l);}var g3=f3.prototype=new b3();g3.brighter=function(k){return new f3(this.h,this.c,Math.min(100,this.l+j3*(arguments.length?k:1)));};g3.darker=function(k){return new f3(this.h,this.c,Math.max(0,this.l-j3*(arguments.length?k:1)));};g3.rgb=function(){return h3(this.h,this.c,this.l).rgb();};function h3(h,c,l){if(isNaN(h))h=0;if(isNaN(c))c=0;return new i3(l,Math.cos(h*=O2)*c,Math.sin(h)*c);}D.lab=i3;function i3(l,a,b){return this instanceof i3?void(this.l=+l,this.a=+a,this.b=+b):arguments.length<2?l instanceof i3?new i3(l.l,l.a,l.b):l instanceof f3?h3(l.l,l.c,l.h):F3((l=w3(l)).r,l.g,l.b):new i3(l,a,b);}var j3=18;var k3=.95047,l3=1,m3=1.08883;var n3=i3.prototype=new b3();n3.brighter=function(k){return new i3(Math.min(100,this.l+j3*(arguments.length?k:1)),this.a,this.b);};n3.darker=function(k){return new i3(Math.max(0,this.l-j3*(arguments.length?k:1)),this.a,this.b);};n3.rgb=function(){return o3(this.l,this.a,this.b);};function o3(l,a,b){var y=(l+16)/116,x=y+a/500,z=y-b/200;x=r3(x)*k3;y=r3(y)*l3;z=r3(z)*m3;return new w3(v3(3.2404542*x-1.5371385*y-.4985314*z),v3(-.969266*x+1.8760108*y+.041556*z),v3(.0556434*x-.2040259*y+1.0572252*z));}function q3(l,a,b){return l>0?new f3(Math.atan2(b,a)*P2,Math.sqrt(a*a+b*b),l):new f3(NaN,NaN,l);}function r3(x){return x>.206893034?x*x*x:(x-4/29)/7.787037;}function u3(x){return x>.008856?Math.pow(x,1/3):7.787037*x+4/29;}function v3(r){return Math.round(255*(r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055));}D.rgb=w3;function w3(r,g,b){return this instanceof w3?void(this.r=~~r,this.g=~~g,this.b=~~b):arguments.length<2?r instanceof w3?new w3(r.r,r.g,r.b):D3(""+r,w3,e3):new w3(r,g,b);}function z3(v){return new w3(v>>16,v>>8&255,v&255);}function A3(v){return z3(v)+"";}var B3=w3.prototype=new b3();B3.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);var r=this.r,g=this.g,b=this.b,i=30;if(!r&&!g&&!b)return new w3(i,i,i);if(r&&r<i)r=i;if(g&&g<i)g=i;if(b&&b<i)b=i;return new w3(Math.min(255,r/k),Math.min(255,g/k),Math.min(255,b/k));};B3.darker=function(k){k=Math.pow(.7,arguments.length?k:1);return new w3(k*this.r,k*this.g,k*this.b);};B3.hsl=function(){return E3(this.r,this.g,this.b);};B3.toString=function(){return"#"+C3(this.r)+C3(this.g)+C3(this.b);};function C3(v){return v<16?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16);}function D3(f,a,h){var r=0,g=0,b=0,m,c,d;m=/([a-z]+)\((.*)\)/i.exec(f);if(m){c=m[2].split(",");switch(m[1]){case"hsl":{return h(parseFloat(c[0]),parseFloat(c[1])/100,parseFloat(c[2])/100);}case"rgb":{return a(H3(c[0]),H3(c[1]),H3(c[2]));}}}if(d=I3.get(f))return a(d.r,d.g,d.b);if(f!=null&&f.charAt(0)==="#"&&!isNaN(d=parseInt(f.slice(1),16))){if(f.length===4){r=(d&3840)>>4;r=r>>4|r;g=d&240;g=g>>4|g;b=d&15;b=b<<4|b;}else if(f.length===7){r=(d&16711680)>>16;g=(d&65280)>>8;b=d&255;}}return a(r,g,b);}function E3(r,g,b){var m=Math.min(r/=255,g/=255,b/=255),a=Math.max(r,g,b),d=a-m,h,s,l=(a+m)/2;if(d){s=l<.5?d/(a+m):d/(2-a-m);if(r==a)h=(g-b)/d+(g<b?6:0);else if(g==a)h=(b-r)/d+2;else h=(r-g)/d+4;h*=60;}else{h=NaN;s=l>0&&l<1?0:h;}return new c3(h,s,l);}function F3(r,g,b){r=G3(r);g=G3(g);b=G3(b);var x=u3((.4124564*r+.3575761*g+.1804375*b)/k3),y=u3((.2126729*r+.7151522*g+.072175*b)/l3),z=u3((.0193339*r+.119192*g+.9503041*b)/m3);return i3(116*y-16,500*(x-y),200*(y-z));}function G3(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);}function H3(c){var f=parseFloat(c);return c.charAt(c.length-1)==="%"?Math.round(f*2.55):f;}var I3=D.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});I3.forEach(function(k,v){I3.set(k,z3(v));});function J3(v){return typeof v==="function"?v:function(){return v;};}D.functor=J3;function K3(d){return d;}D.xhr=L3(K3);function L3(r){return function(u,m,c){if(arguments.length===2&&typeof m==="function")c=m,m=null;return M3(u,m,r,c);};}function M3(u,m,r,c){var x={},d=D.dispatch("beforesend","progress","load","error"),h={},a=new XMLHttpRequest(),b=null;if(O.XDomainRequest&&!("withCredentials"in a)&&/^(http(s)?:)?\/\//.test(u))a=new XDomainRequest();"onload"in a?a.onload=a.onerror=f:a.onreadystatechange=function(){a.readyState>3&&f();};function f(){var s=a.status,g;if(!s&&O3(a)||s>=200&&s<300||s===304){try{g=r.call(x,a);}catch(e){d.error.call(x,e);return;}d.load.call(x,g);}else{d.error.call(x,a);}}a.onprogress=function(g){var o=D.event;D.event=g;try{d.progress.call(x,a);}finally{D.event=o;}};x.header=function(n,v){n=(n+"").toLowerCase();if(arguments.length<2)return h[n];if(v==null)delete h[n];else h[n]=v+"";return x;};x.mimeType=function(v){if(!arguments.length)return m;m=v==null?null:v+"";return x;};x.responseType=function(v){if(!arguments.length)return b;b=v;return x;};x.response=function(v){r=v;return x;};["get","post"].forEach(function(g){x[g]=function(){return x.send.apply(x,[g].concat(J(arguments)));};});x.send=function(g,i,c){if(arguments.length===2&&typeof i==="function")c=i,i=null;a.open(g,u,true);if(m!=null&&!("accept"in h))h["accept"]=m+",*/*";if(a.setRequestHeader)for(var n in h)a.setRequestHeader(n,h[n]);if(m!=null&&a.overrideMimeType)a.overrideMimeType(m);if(b!=null)a.responseType=b;if(c!=null)x.on("error",c).on("load",function(a){c(null,a);});d.beforesend.call(x,a);a.send(i==null?null:i);return x;};x.abort=function(){a.abort();return x;};D.rebind(x,d,"on");return c==null?x:x.get(N3(c));}function N3(c){return c.length===1?function(P,r){c(P==null?r:null);}:c;}function O3(r){var t=r.responseType;return t&&t!=="text"?r.response:r.responseText;}D.dsv=function(d,m){var r=new RegExp('["'+d+"\n]"),b=d.charCodeAt(0);function g(u,a,c){if(arguments.length<3)c=a,a=null;var x=M3(u,m,a==null?h:l(a),c);x.row=function(_){return arguments.length?x.response((a=_)==null?h:l(_)):a;};return x;}function h(a){return g.parse(a.responseText);}function l(f){return function(a){return g.parse(a.responseText,f);};}g.parse=function(t,f){var o;return g.parseRows(t,function(c,i){if(o)return o(c,i-1);var a=new Function("d","return {"+c.map(function(n,i){return JSON.stringify(n)+": d["+i+"]";}).join(",")+"}");o=f?function(c,i){return f(a(c),i);}:a;});};g.parseRows=function(o,f){var s={},u={},v=[],N=o.length,I=0,n=0,t,w;function x(){if(I>=N)return u;if(w)return w=false,s;var j=I;if(o.charCodeAt(j)===34){var i=j;while(i++<N){if(o.charCodeAt(i)===34){if(o.charCodeAt(i+1)!==34)break;++i;}}I=i+2;var c=o.charCodeAt(i+1);if(c===13){w=true;if(o.charCodeAt(i+2)===10)++I;}else if(c===10){w=true;}return o.slice(j+1,i).replace(/""/g,'"');}while(I<N){var c=o.charCodeAt(I++),k=1;if(c===10)w=true;else if(c===13){w=true;if(o.charCodeAt(I)===10)++I,++k;}else if(c!==b)continue;return o.slice(j,I-k);}return o.slice(j);}while((t=x())!==u){var a=[];while(t!==s&&t!==u){a.push(t);t=x();}if(f&&!(a=f(a,n++)))continue;v.push(a);}return v;};g.format=function(a){if(Array.isArray(a[0]))return g.formatRows(a);var f=new E1(),c=[];a.forEach(function(i){for(var j in i){if(!f.has(j)){c.push(f.add(j));}}});return[c.map(q).join(d)].concat(a.map(function(i){return c.map(function(j){return q(i[j]);}).join(d);})).join("\n");};g.formatRows=function(a){return a.map(p).join("\n");};function p(a){return a.map(q).join(d);}function q(t){return r.test(t)?'"'+t.replace(/\"/g,'""')+'"':t;}return g;};D.csv=D.dsv(",","text/csv");D.tsv=D.dsv("	","text/tab-separated-values");var P3,Q3,R3,S3,T3,U3=O[G1(O,"requestAnimationFrame")]||function(c){setTimeout(c,17);};D.timer=function(c,d,t){var n=arguments.length;if(n<2)d=0;if(n<3)t=Date.now();var a=t+d,b={c:c,t:a,f:false,n:null};if(Q3)Q3.n=b;else P3=b;Q3=b;if(!R3){S3=clearTimeout(S3);R3=1;U3(V3);}};function V3(){var n=W3(),d=X3()-n;if(d>24){if(isFinite(d)){clearTimeout(S3);S3=setTimeout(V3,d);}R3=0;}else{R3=1;U3(V3);}}D.timer.flush=function(){W3();X3();};function W3(){var n=Date.now();T3=P3;while(T3){if(n>=T3.t)T3.f=T3.c(n-T3.t);T3=T3.n;}return n;}function X3(){var t,a=P3,b=Infinity;while(a){if(a.f){a=t?t.n=a.n:P3=a.n;}else{if(a.t<b)b=a.t;a=(t=a).n;}}Q3=t;return b;}function Y3(x,p){return p-(x?Math.ceil(Math.log(x)/Math.LN10):1);}D.round=function(x,n){return n?Math.round(x*(n=Math.pow(10,n)))/n:Math.round(x);};var Z3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map($3);D.formatPrefix=function(v,p){var i=0;if(v){if(v<0)v*=-1;if(p)v=D.round(v,Y3(v,p));i=1+Math.floor(1e-12+Math.log(v)/Math.LN10);i=Math.max(-24,Math.min(24,Math.floor((i-1)/3)*3));}return Z3[8+i/3];};function $3(d,i){var k=Math.pow(10,h1(8-i)*3);return{scale:i>8?function(d){return d/k;}:function(d){return d*k;},symbol:d};}function _3(l){var a=l.decimal,b=l.thousands,c=l.grouping,d=l.currency,f=c?function(v){var i=v.length,t=[],j=0,g=c[0];while(g>0&&i>0){t.push(v.substring(i-=g,i+g));g=c[j=(j+1)%c.length];}return t.reverse().join(b);}:K3;return function(s){var m=a4.exec(s),g=m[1]||" ",h=m[2]||">",j=m[3]||"",k=m[4]||"",z=m[5],w=+m[6],n=m[7],p=m[8],t=m[9],o=1,q="",r="",u=false;if(p)p=+p.substring(1);if(z||g==="0"&&h==="="){z=g="0";h="=";if(n)w-=Math.floor((w-1)/4);}switch(t){case"n":n=true;t="g";break;case"%":o=100;r="%";t="f";break;case"p":o=100;r="%";t="r";break;case"b":case"o":case"x":case"X":if(k==="#")q="0"+t.toLowerCase();case"c":case"d":u=true;p=0;break;case"s":o=-1;t="r";break;}if(k==="$")q=d[0],r=d[1];if(t=="r"&&!p)t="g";if(p!=null){if(t=="g")p=Math.max(1,Math.min(21,p));else if(t=="e"||t=="f")p=Math.max(0,Math.min(20,p));}t=b4.get(t)||c4;var v=z&&n;return function(x){var y=r;if(u&&x%1)return"";var A=x<0||x===0&&1/x<0?(x=-x,"-"):j;if(o<0){var B=D.formatPrefix(x,p);x=B.scale(x);y=B.symbol+r;}else{x*=o;}x=t(x,p);var i=x.lastIndexOf("."),C=i<0?x:x.substring(0,i),F=i<0?"":a+x.substring(i+1);if(!z&&n)C=f(C);var G=q.length+C.length+F.length+(v?0:A.length),H=G<w?new Array(G=w-G+1).join(g):"";if(v)C=f(H+C);A+=q;x=C+F;return(h==="<"?A+x+H:h===">"?H+A+x:h==="^"?H.substring(0,G>>=1)+A+x+H.substring(G):A+(v?x:H+x))+y;};};}var a4=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var b4=D.map({b:function(x){return x.toString(2);},c:function(x){return String.fromCharCode(x);},o:function(x){return x.toString(8);},x:function(x){return x.toString(16);},X:function(x){return x.toString(16).toUpperCase();},g:function(x,p){return x.toPrecision(p);},e:function(x,p){return x.toExponential(p);},f:function(x,p){return x.toFixed(p);},r:function(x,p){return(x=D.round(x,Y3(x,p))).toFixed(Math.max(0,Math.min(20,Y3(x*(1+1e-15),p))));}});function c4(x){return x+"";}var d4=D.time={},e4=Date;function f4(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0]);}f4.prototype={getDate:function(){return this._.getUTCDate();},getDay:function(){return this._.getUTCDay();},getFullYear:function(){return this._.getUTCFullYear();},getHours:function(){return this._.getUTCHours();},getMilliseconds:function(){return this._.getUTCMilliseconds();},getMinutes:function(){return this._.getUTCMinutes();},getMonth:function(){return this._.getUTCMonth();},getSeconds:function(){return this._.getUTCSeconds();},getTime:function(){return this._.getTime();},getTimezoneOffset:function(){return 0;},valueOf:function(){return this._.valueOf();},setDate:function(){g4.setUTCDate.apply(this._,arguments);},setDay:function(){g4.setUTCDay.apply(this._,arguments);},setFullYear:function(){g4.setUTCFullYear.apply(this._,arguments);},setHours:function(){g4.setUTCHours.apply(this._,arguments);},setMilliseconds:function(){g4.setUTCMilliseconds.apply(this._,arguments);},setMinutes:function(){g4.setUTCMinutes.apply(this._,arguments);},setMonth:function(){g4.setUTCMonth.apply(this._,arguments);},setSeconds:function(){g4.setUTCSeconds.apply(this._,arguments);},setTime:function(){g4.setTime.apply(this._,arguments);}};var g4=Date.prototype;function h4(l,s,n){function r(d){var f=l(d),g=o(f,1);return d-f<g-d?f:g;}function c(d){s(d=l(new e4(d-1)),1);return d;}function o(d,k){s(d=new e4(+d),k);return d;}function a(t,d,f){var g=c(t),h=[];if(f>1){while(g<d){if(!(n(g)%f))h.push(new Date(+g));s(g,1);}}else{while(g<d)h.push(new Date(+g)),s(g,1);}return h;}function b(t,d,f){try{e4=f4;var u=new f4();u._=t;return a(u,d,f);}finally{e4=Date;}}l.floor=l;l.round=r;l.ceil=c;l.offset=o;l.range=a;var u=l.utc=i4(l);u.floor=u;u.round=i4(r);u.ceil=i4(c);u.offset=i4(o);u.range=b;return l;}function i4(m){return function(d,k){try{e4=f4;var u=new f4();u._=d;return m(u,k)._;}finally{e4=Date;}};}d4.year=h4(function(d){d=d4.day(d);d.setMonth(0,1);return d;},function(d,o){d.setFullYear(d.getFullYear()+o);},function(d){return d.getFullYear();});d4.years=d4.year.range;d4.years.utc=d4.year.utc.range;d4.day=h4(function(d){var a=new e4(2e3,0);a.setFullYear(d.getFullYear(),d.getMonth(),d.getDate());return a;},function(d,o){d.setDate(d.getDate()+o);},function(d){return d.getDate()-1;});d4.days=d4.day.range;d4.days.utc=d4.day.utc.range;d4.dayOfYear=function(d){var y=d4.year(d);return Math.floor((d-y-(d.getTimezoneOffset()-y.getTimezoneOffset())*6e4)/864e5);};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(d,i){i=7-i;var a=d4[d]=h4(function(b){(b=d4.day(b)).setDate(b.getDate()-(b.getDay()+i)%7);return b;},function(b,o){b.setDate(b.getDate()+Math.floor(o)*7);},function(b){var d=d4.year(b).getDay();return Math.floor((d4.dayOfYear(b)+(d+i)%7)/7)-(d!==i);});d4[d+"s"]=a.range;d4[d+"s"].utc=a.utc.range;d4[d+"OfYear"]=function(b){var d=d4.year(b).getDay();return Math.floor((d4.dayOfYear(b)+(d+i)%7)/7);};});d4.week=d4.sunday;d4.weeks=d4.sunday.range;d4.weeks.utc=d4.sunday.utc.range;d4.weekOfYear=d4.sundayOfYear;function j4(l){var a=l.dateTime,b=l.date,g=l.time,h=l.periods,k=l.days,o=l.shortDays,q=l.months,r=l.shortMonths;function gb(t){var n=t.length;function m(d){var a1=[],i=-1,j=0,c,p,f;while(++i<n){if(t.charCodeAt(i)===37){a1.push(t.slice(j,i));if((p=k4[c=t.charAt(++i)])!=null)c=t.charAt(++i);if(f=F[c])c=f(d,p==null?c==="e"?" ":"0":p);a1.push(c);j=i+1;}}a1.push(t.slice(j,i));return a1.join("");}m.parse=function(c){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=s(d,t,c,0);if(i!=c.length)return null;if("p"in d)d.H=d.H%12+d.p*12;var f=d.Z!=null&&e4!==f4,j=new(f?f4:e4)();if("j"in d)j.setFullYear(d.y,0,d.j);else if("w"in d&&("W"in d||"U"in d)){j.setFullYear(d.y,0,1);j.setFullYear(d.y,0,"W"in d?(d.w+6)%7+d.W*7-(j.getDay()+5)%7:d.w+d.U*7-(j.getDay()+6)%7);}else j.setFullYear(d.y,d.m,d.d);j.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L);return f?j._:j;};m.toString=function(){return t;};return m;}function s(d,f,a1,j){var c,p,t,i=0,n=f.length,m=a1.length;while(i<n){if(j>=m)return-1;c=f.charCodeAt(i++);if(c===37){t=f.charAt(i++);p=G[t in k4?f.charAt(i++):t];if(!p||(j=p(d,a1,j))<0)return-1;}else if(c!=a1.charCodeAt(j++)){return-1;}}return j;}gb.utc=function(t){var c=gb(t);function f(d){try{e4=f4;var i=new e4();i._=d;return c(i);}finally{e4=Date;}}f.parse=function(d){try{e4=f4;var i=c.parse(d);return i&&i._;}finally{e4=Date;}};f.toString=c.toString;return f;};gb.multi=gb.utc.multi=G4;var u=D.map(),v=o4(k),w=p4(k),x=o4(o),y=p4(o),z=o4(q),A=p4(q),B=o4(r),C=p4(r);h.forEach(function(p,i){u.set(p.toLowerCase(),i);});var F={a:function(d){return o[d.getDay()];},A:function(d){return k[d.getDay()];},b:function(d){return r[d.getMonth()];},B:function(d){return q[d.getMonth()];},c:gb(a),d:function(d,p){return n4(d.getDate(),p,2);},e:function(d,p){return n4(d.getDate(),p,2);},H:function(d,p){return n4(d.getHours(),p,2);},I:function(d,p){return n4(d.getHours()%12||12,p,2);},j:function(d,p){return n4(1+d4.dayOfYear(d),p,3);},L:function(d,p){return n4(d.getMilliseconds(),p,3);},m:function(d,p){return n4(d.getMonth()+1,p,2);},M:function(d,p){return n4(d.getMinutes(),p,2);},p:function(d){return h[+(d.getHours()>=12)];},S:function(d,p){return n4(d.getSeconds(),p,2);},U:function(d,p){return n4(d4.sundayOfYear(d),p,2);},w:function(d){return d.getDay();},W:function(d,p){return n4(d4.mondayOfYear(d),p,2);},x:gb(b),X:gb(g),y:function(d,p){return n4(d.getFullYear()%100,p,2);},Y:function(d,p){return n4(d.getFullYear()%1e4,p,4);},Z:E4,"%":function(){return"%";}};var G={a:H,A:I,b:L,B:N,c:S,d:y4,e:y4,H:A4,I:A4,j:z4,L:D4,m:x4,M:B4,p:_,S:C4,U:r4,w:q4,W:s4,x:X,X:Y,y:u4,Y:t4,Z:v4,"%":F4};function H(d,c,i){x.lastIndex=0;var n=x.exec(c.slice(i));return n?(d.w=y.get(n[0].toLowerCase()),i+n[0].length):-1;}function I(d,c,i){v.lastIndex=0;var n=v.exec(c.slice(i));return n?(d.w=w.get(n[0].toLowerCase()),i+n[0].length):-1;}function L(d,c,i){B.lastIndex=0;var n=B.exec(c.slice(i));return n?(d.m=C.get(n[0].toLowerCase()),i+n[0].length):-1;}function N(d,c,i){z.lastIndex=0;var n=z.exec(c.slice(i));return n?(d.m=A.get(n[0].toLowerCase()),i+n[0].length):-1;}function S(d,c,i){return s(d,F.c.toString(),c,i);}function X(d,c,i){return s(d,F.x.toString(),c,i);}function Y(d,c,i){return s(d,F.X.toString(),c,i);}function _(d,c,i){var n=u.get(c.slice(i,i+=2).toLowerCase());return n==null?-1:(d.p=n,i);}return gb;}var k4={"-":"",_:" ","0":"0"},l4=/^\s*\d+/,m4=/^%/;function n4(v,f,w){var s=v<0?"-":"",a=(s?-v:v)+"",l=a.length;return s+(l<w?new Array(w-l+1).join(f)+a:a);}function o4(n){return new RegExp("^(?:"+n.map(D.requote).join("|")+")","i");}function p4(a){var m=new o1(),i=-1,n=a.length;while(++i<n)m.set(a[i].toLowerCase(),i);return m;}function q4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1;}function r4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i));return n?(d.U=+n[0],i+n[0].length):-1;}function s4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i));return n?(d.W=+n[0],i+n[0].length):-1;}function t4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1;}function u4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.y=w4(+n[0]),i+n[0].length):-1;}function v4(d,s,i){return/^[+-]\d{4}$/.test(s=s.slice(i,i+5))?(d.Z=-s,i+5):-1;}function w4(d){return d+(d>68?1900:2e3);}function x4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1;}function y4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1;}function z4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+3));return n?(d.j=+n[0],i+n[0].length):-1;}function A4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1;}function B4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1;}function C4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1;}function D4(d,s,i){l4.lastIndex=0;var n=l4.exec(s.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1;}function E4(d){var z=d.getTimezoneOffset(),a=z>0?"-":"+",b=h1(z)/60|0,c=h1(z)%60;return a+n4(b,"0",2)+n4(c,"0",2);}function F4(d,s,i){m4.lastIndex=0;var n=m4.exec(s.slice(i,i+1));return n?i+n[0].length:-1;}function G4(a){var n=a.length,i=-1;while(++i<n)a[i][0]=this(a[i][0]);return function(d){var i=0,f=a[i];while(!f[1](d))f=a[++i];return f[0](d);};}D.locale=function(l){return{numberFormat:_3(l),timeFormat:j4(l)};};var H4=D.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});D.format=H4.numberFormat;D.geo={};function I4(){}I4.prototype={s:0,t:0,add:function(y){K4(y,this.t,J4);K4(J4.s,this.s,this);if(this.s)this.t+=J4.t;else this.s=J4.t;},reset:function(){this.s=this.t=0;},valueOf:function(){return this.s;}};var J4=new I4();function K4(a,b,o){var x=o.s=a+b,c=x-a,d=x-c;o.t=a-d+(b-c);}D.geo.stream=function(o,l){if(o&&M4.hasOwnProperty(o.type)){M4[o.type](o,l);}else{L4(o,l);}};function L4(g,l){if(g&&N4.hasOwnProperty(g.type)){N4[g.type](g,l);}}var M4={Feature:function(f,l){L4(f.geometry,l);},FeatureCollection:function(o,l){var f=o.features,i=-1,n=f.length;while(++i<n)L4(f[i].geometry,l);}};var N4={Sphere:function(o,l){l.sphere();},Point:function(o,l){o=o.coordinates;l.point(o[0],o[1],o[2]);},MultiPoint:function(o,l){var c=o.coordinates,i=-1,n=c.length;while(++i<n)o=c[i],l.point(o[0],o[1],o[2]);},LineString:function(o,l){O4(o.coordinates,l,0);},MultiLineString:function(o,l){var c=o.coordinates,i=-1,n=c.length;while(++i<n)O4(c[i],l,0);},Polygon:function(o,l){P4(o.coordinates,l);},MultiPolygon:function(o,l){var c=o.coordinates,i=-1,n=c.length;while(++i<n)P4(c[i],l);},GeometryCollection:function(o,l){var g=o.geometries,i=-1,n=g.length;while(++i<n)L4(g[i],l);}};function O4(c,l,a){var i=-1,n=c.length-a,b;l.lineStart();while(++i<n)b=c[i],l.point(b[0],b[1],b[2]);l.lineEnd();}function P4(c,l){var i=-1,n=c.length;l.polygonStart();while(++i<n)O4(c[i],l,1);l.polygonEnd();}D.geo.area=function(o){Q4=0;D.geo.stream(o,S4);return Q4;};var Q4,R4=new I4();var S4={sphere:function(){Q4+=4*π;},point:I1,lineStart:I1,lineEnd:I1,polygonStart:function(){R4.reset();S4.lineStart=T4;},polygonEnd:function(){var a=2*R4;Q4+=a<0?4*π+a:a;S4.lineStart=S4.lineEnd=S4.point=I1;}};function T4(){var a,b,c,d,s;S4.point=function(λ,φ){S4.point=n;c=(a=λ)*O2,d=Math.cos(φ=(b=φ)*O2/2+π/4),s=Math.sin(φ);};function n(λ,φ){λ*=O2;φ=φ*O2/2+π/4;var f=λ-c,g=f>=0?1:-1,h=g*f,i=Math.cos(φ),j=Math.sin(φ),k=s*j,u=d*i+k*Math.cos(h),v=k*g*Math.sin(h);R4.add(Math.atan2(v,u));c=λ,d=i,s=j;}S4.lineEnd=function(){n(a,b);};}function U4(s){var λ=s[0],φ=s[1],c=Math.cos(φ);return[c*Math.cos(λ),c*Math.sin(λ),Math.sin(φ)];}function V4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2];}function W4(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]];}function X4(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2];}function Y4(v,k){return[v[0]*k,v[1]*k,v[2]*k];}function Z4(d){var l=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l;d[1]/=l;d[2]/=l;}function $4(c){return[Math.atan2(c[1],c[0]),T2(c[2])];}function _4(a,b){return h1(a[0]-b[0])<ε&&h1(a[1]-b[1])<ε;}D.geo.bounds=function(){var c,d,f,g,h,j,k,l,m,r,o;var q={point:t,lineStart:v,lineEnd:w,polygonStart:function(){q.point=y;q.lineStart=z;q.lineEnd=A;m=0;S4.polygonStart();},polygonEnd:function(){S4.polygonEnd();q.point=t;q.lineStart=v;q.lineEnd=w;if(R4<0)c=-(f=180),d=-(g=90);else if(m>ε)g=90;else if(m<-ε)d=-90;o[0]=c,o[1]=f;}};function t(λ,φ){r.push(o=[c=λ,f=λ]);if(φ<d)d=φ;if(φ>g)g=φ;}function u(λ,φ){var p=U4([λ*O2,φ*O2]);if(l){var n=W4(l,p),a=[n[1],-n[0],0],i=W4(a,n);Z4(i);i=$4(i);var b=λ-h,s=b>0?1:-1,x=i[0]*P2*s,G=h1(b)>180;if(G^(s*h<x&&x<s*λ)){var H=i[1]*P2;if(H>g)g=H;}else if(x=(x+360)%360-180,G^(s*h<x&&x<s*λ)){var H=-i[1]*P2;if(H<d)d=H;}else{if(φ<d)d=φ;if(φ>g)g=φ;}if(G){if(λ<h){if(B(c,λ)>B(c,f))f=λ;}else{if(B(λ,f)>B(c,f))c=λ;}}else{if(f>=c){if(λ<c)c=λ;if(λ>f)f=λ;}else{if(λ>h){if(B(c,λ)>B(c,f))f=λ;}else{if(B(λ,f)>B(c,f))c=λ;}}}}else{t(λ,φ);}l=p,h=λ;}function v(){q.point=u;}function w(){o[0]=c,o[1]=f;q.point=t;l=null;}function y(λ,φ){if(l){var a=λ-h;m+=h1(a)>180?a+(a>0?360:-360):a;}else j=λ,k=φ;S4.point(λ,φ);u(λ,φ);}function z(){S4.lineStart();}function A(){y(j,k);S4.lineEnd();if(h1(m)>ε)c=-(f=180);o[0]=c,o[1]=f;l=null;}function B(c,f){return(f-=c)<0?f+360:f;}function C(a,b){return a[0]-b[0];}function F(x,o){return o[0]<=o[1]?o[0]<=x&&x<=o[1]:x<o[0]||o[1]<x;}return function(p){g=f=-(c=d=Infinity);r=[];D.geo.stream(p,q);var n=r.length;if(n){r.sort(C);for(var i=1,a=r[0],b,s=[a];i<n;++i){b=r[i];if(F(b[0],a)||F(b[1],a)){if(B(a[0],b[1])>B(a[0],a[1]))a[1]=b[1];if(B(b[0],a[1])>B(a[0],a[1]))a[0]=b[0];}else{s.push(a=b);}}var x=-Infinity,G;for(var n=s.length-1,i=0,a=s[n],b;i<=n;a=b,++i){b=s[i];if((G=B(a[1],b[0]))>x)x=G,c=b[0],f=a[1];}}r=o=null;return c===Infinity||d===Infinity?[[NaN,NaN],[NaN,NaN]]:[[c,d],[f,g]];};}();D.geo.centroid=function(o){a5=b5=c5=d5=e5=f5=g5=h5=i5=j5=k5=0;D.geo.stream(o,l5);var x=i5,y=j5,z=k5,m=x*x+y*y+z*z;if(m<ε2){x=f5,y=g5,z=h5;if(b5<ε)x=c5,y=d5,z=e5;m=x*x+y*y+z*z;if(m<ε2)return[NaN,NaN];}return[Math.atan2(y,x)*P2,T2(z/Math.sqrt(m))*P2];};var a5,b5,c5,d5,e5,f5,g5,h5,i5,j5,k5;var l5={sphere:I1,point:m5,lineStart:o5,lineEnd:p5,polygonStart:function(){l5.lineStart=q5;},polygonEnd:function(){l5.lineStart=o5;}};function m5(λ,φ){λ*=O2;var c=Math.cos(φ*=O2);n5(c*Math.cos(λ),c*Math.sin(λ),Math.sin(φ));}function n5(x,y,z){++a5;c5+=(x-c5)/a5;d5+=(y-d5)/a5;e5+=(z-e5)/a5;}function o5(){var a,b,c;l5.point=function(λ,φ){λ*=O2;var d=Math.cos(φ*=O2);a=d*Math.cos(λ);b=d*Math.sin(λ);c=Math.sin(φ);l5.point=n;n5(a,b,c);};function n(λ,φ){λ*=O2;var d=Math.cos(φ*=O2),x=d*Math.cos(λ),y=d*Math.sin(λ),z=Math.sin(φ),w=Math.atan2(Math.sqrt((w=b*z-c*y)*w+(w=c*x-a*z)*w+(w=a*y-b*x)*w),a*x+b*y+c*z);b5+=w;f5+=w*(a+(a=x));g5+=w*(b+(b=y));h5+=w*(c+(c=z));n5(a,b,c);}}function p5(){l5.point=m5;}function q5(){var a,b,c,d,f;l5.point=function(λ,φ){a=λ,b=φ;l5.point=n;λ*=O2;var g=Math.cos(φ*=O2);c=g*Math.cos(λ);d=g*Math.sin(λ);f=Math.sin(φ);n5(c,d,f);};l5.lineEnd=function(){n(a,b);l5.lineEnd=p5;l5.point=m5;};function n(λ,φ){λ*=O2;var g=Math.cos(φ*=O2),x=g*Math.cos(λ),y=g*Math.sin(λ),z=Math.sin(φ),h=d*z-f*y,i=f*x-c*z,j=c*y-d*x,m=Math.sqrt(h*h+i*i+j*j),u=c*x+d*y+f*z,v=m&&-S2(u)/m,w=Math.atan2(m,u);i5+=v*h;j5+=v*i;k5+=v*j;b5+=w;f5+=w*(c+(c=x));g5+=w*(d+(d=y));h5+=w*(f+(f=z));n5(c,d,f);}}function r5(){return true;}function s5(s,c,d,f,l){var g=[],h=[];s.forEach(function(r){if((n=r.length-1)<=0)return;var n,t=r[0],u=r[n];if(_4(t,u)){l.lineStart();for(var i=0;i<n;++i)l.point((t=r[i])[0],t[1]);l.lineEnd();return;}var a=new u5(t,r,null,true),b=new u5(t,null,a,false);a.o=b;g.push(a);h.push(b);a=new u5(u,r,null,false);b=new u5(u,null,a,true);a.o=b;g.push(a);h.push(b);});h.sort(c);t5(g);t5(h);if(!g.length)return;for(var i=0,j=d,n=h.length;i<n;++i){h[i].e=j=!j;}var k=g[0],p,m;while(1){var o=k,q=true;while(o.v)if((o=o.n)===k)return;p=o.z;l.lineStart();do{o.v=o.o.v=true;if(o.e){if(q){for(var i=0,n=p.length;i<n;++i)l.point((m=p[i])[0],m[1]);}else{f(o.x,o.n.x,1,l);}o=o.n;}else{if(q){p=o.p.z;for(var i=p.length-1;i>=0;--i)l.point((m=p[i])[0],m[1]);}else{f(o.x,o.p.x,-1,l);}o=o.p;}o=o.o;p=o.z;q=!q;}while(!o.v);l.lineEnd();}}function t5(c){if(!(n=c.length))return;var n,i=0,a=c[0],b;while(++i<n){a.n=b=c[i];b.p=a;a=b;}a.n=b=c[0];b.p=a;}function u5(p,a,o,b){this.x=p;this.z=a;this.o=o;this.e=b;this.v=false;this.n=this.p=null;}function v5(p,c,a,b){return function(r,l){var d=c(l),f=r.invert(b[0],b[1]);var g={point:h,lineStart:k,lineEnd:m,polygonStart:function(){g.point=w;g.lineStart=x;g.lineEnd=y;s=[];u=[];},polygonEnd:function(){g.point=h;g.lineStart=k;g.lineEnd=m;s=D.merge(s);var i=D5(f,u);if(s.length){if(!t)l.polygonStart(),t=true;s5(s,y5,i,a,l);}else if(i){if(!t)l.polygonStart(),t=true;l.lineStart();a(null,null,1,l);l.lineEnd();}if(t)l.polygonEnd(),t=false;s=u=null;},sphere:function(){l.polygonStart();l.lineStart();a(null,null,1,l);l.lineEnd();l.polygonEnd();}};function h(λ,φ){var h=r(λ,φ);if(p(λ=h[0],φ=h[1]))l.point(λ,φ);}function j(λ,φ){var h=r(λ,φ);d.point(h[0],h[1]);}function k(){g.point=j;d.lineStart();}function m(){g.point=h;d.lineEnd();}var s;var o=x5(),q=c(o),t=false,u,v;function w(λ,φ){v.push([λ,φ]);var h=r(λ,φ);q.point(h[0],h[1]);}function x(){q.lineStart();v=[];}function y(){w(v[0][0],v[0][1]);q.lineEnd();var z=q.clean(),A=o.buffer(),B,n=A.length;v.pop();u.push(v);v=null;if(!n)return;if(z&1){B=A[0];var n=B.length-1,i=-1,h;if(n>0){if(!t)l.polygonStart(),t=true;l.lineStart();while(++i<n)l.point((h=B[i])[0],h[1]);l.lineEnd();}return;}if(n>1&&z&2)A.push(A.pop().concat(A.shift()));s.push(A.filter(w5));}return g;};}function w5(s){return s.length>1;}function x5(){var l=[],a;return{lineStart:function(){l.push(a=[]);},point:function(λ,φ){a.push([λ,φ]);},lineEnd:I1,buffer:function(){var b=l;l=[];a=null;return b;},rejoin:function(){if(l.length>1)l.push(l.pop().concat(l.shift()));}};}function y5(a,b){return((a=a.x)[0]<0?a[1]-M2-ε:M2-a[1])-((b=b.x)[0]<0?b[1]-M2-ε:M2-b[1]);}var z5=v5(r5,A5,C5,[-π,-π/2]);function A5(l){var λ=NaN,φ=NaN,s=NaN,c;return{lineStart:function(){l.lineStart();c=1;},point:function(a,b){var d=a>0?π:-π,f=h1(a-λ);if(h1(f-π)<ε){l.point(λ,φ=(φ+b)/2>0?M2:-M2);l.point(s,φ);l.lineEnd();l.lineStart();l.point(d,φ);l.point(a,φ);c=0;}else if(s!==d&&f>=π){if(h1(λ-s)<ε)λ-=s*ε;if(h1(a-d)<ε)a-=d*ε;φ=B5(λ,φ,a,b);l.point(s,φ);l.lineEnd();l.lineStart();l.point(d,φ);c=0;}l.point(λ=a,φ=b);s=d;},lineEnd:function(){l.lineEnd();λ=φ=NaN;},clean:function(){return 2-c;}};}function B5(λ,φ,a,b){var c,d,s=Math.sin(λ-a);return h1(s)>ε?Math.atan((Math.sin(φ)*(d=Math.cos(b))*Math.sin(a)-Math.sin(b)*(c=Math.cos(φ))*Math.sin(λ))/(c*d*s)):(φ+b)/2;}function C5(f,t,d,l){var φ;if(f==null){φ=d*M2;l.point(-π,φ);l.point(0,φ);l.point(π,φ);l.point(π,0);l.point(π,-φ);l.point(0,-φ);l.point(-π,-φ);l.point(-π,0);l.point(-π,φ);}else if(h1(f[0]-t[0])>ε){var s=f[0]<t[0]?π:-π;φ=d*s/2;l.point(-s,φ);l.point(0,φ);l.point(s,φ);}else{l.point(t[0],t[1]);}}function D5(p,a){var b=p[0],c=p[1],d=[Math.sin(b),-Math.cos(b),0],f=0,w=0;R4.reset();for(var i=0,n=a.length;i<n;++i){var r=a[i],m=r.length;if(!m)continue;var g=r[0],h=g[0],l=g[1]/2+π/4,s=Math.sin(l),o=Math.cos(l),j=1;while(true){if(j===m)j=0;p=r[j];var λ=p[0],φ=p[1]/2+π/4,q=Math.sin(φ),t=Math.cos(φ),u=λ-h,v=u>=0?1:-1,x=v*u,y=x>π,k=s*q;R4.add(Math.atan2(k*v*Math.sin(x),o*t+k*Math.cos(x)));f+=y?u+v*τ:u;if(y^h>=b^λ>=b){var z=W4(U4(g),U4(p));Z4(z);var A=W4(d,z);Z4(A);var B=(y^u>=0?-1:1)*T2(A[2]);if(c>B||c===B&&(z[0]||z[1])){w+=y^u>=0?1:-1;}}if(!j++)break;h=λ,s=q,o=t,g=p;}}return(f<-ε||f<ε&&R4<0)^w&1;}function E5(d){var f=Math.cos(d),s=f>0,n=h1(f)>ε,i=o6(d,6*O2);return v5(g,h,i,s?[0,-d]:[-π,d-π]);function g(λ,φ){return Math.cos(λ)*Math.cos(φ)>f;}function h(l){var p,a,b,m,o;return{lineStart:function(){m=b=false;o=1;},point:function(λ,φ){var q=[λ,φ],r,v=g(λ,φ),c=s?v?0:k(λ,φ):v?k(λ+(λ<0?π:-π),φ):0;if(!p&&(m=b=v))l.lineStart();if(v!==b){r=j(p,q);if(_4(p,r)||_4(q,r)){q[0]+=ε;q[1]+=ε;v=g(q[0],q[1]);}}if(v!==b){o=0;if(v){l.lineStart();r=j(q,p);l.point(r[0],r[1]);}else{r=j(p,q);l.point(r[0],r[1]);l.lineEnd();}p=r;}else if(n&&p&&s^v){var t;if(!(c&a)&&(t=j(q,p,true))){o=0;if(s){l.lineStart();l.point(t[0][0],t[0][1]);l.point(t[1][0],t[1][1]);l.lineEnd();}else{l.point(t[1][0],t[1][1]);l.lineEnd();l.lineStart();l.point(t[0][0],t[0][1]);}}}if(v&&(!p||!_4(p,q))){l.point(q[0],q[1]);}p=q,b=v,a=c;},lineEnd:function(){if(b)l.lineEnd();p=null;},clean:function(){return o|(m&&b)<<1;}};}function j(a,b,c){var p=U4(a),l=U4(b);var m=[1,0,0],o=W4(p,l),r=V4(o,o),v=o[0],x=r-v*v;if(!x)return!c&&a;var y=f*r/x,C=-f*v/x,F=W4(m,o),A=Y4(m,y),B=Y4(o,C);X4(A,B);var u=F,w=V4(A,u),G=V4(u,u),H=w*w-G*(V4(A,A)-1);if(H<0)return;var t=Math.sqrt(H),q=Y4(u,(-w-t)/G);X4(q,A);q=$4(q);if(!c)return q;var λ=a[0],I=b[0],φ=a[1],L=b[1],z;if(I<λ)z=λ,λ=I,I=z;var δ=I-λ,N=h1(δ-π)<ε,S=N||δ<ε;if(!N&&L<φ)z=φ,φ=L,L=z;if(S?N?φ+L>0^q[1]<(h1(q[0]-λ)<ε?φ:L):φ<=q[1]&&q[1]<=L:δ>π^(λ<=q[0]&&q[0]<=I)){var X=Y4(u,(-w+t)/G);X4(X,A);return[q,$4(X)];}}function k(λ,φ){var r=s?d:π-d,k=0;if(λ<-r)k|=1;else if(λ>r)k|=2;if(φ<-r)k|=4;else if(φ>r)k|=8;return k;}}function F5(x,y,c,d){return function(l){var a=l.a,b=l.b,f=a.x,g=a.y,h=b.x,i=b.y,t=0,j=1,k=h-f,m=i-g,r;r=x-f;if(!k&&r>0)return;r/=k;if(k<0){if(r<t)return;if(r<j)j=r;}else if(k>0){if(r>j)return;if(r>t)t=r;}r=c-f;if(!k&&r<0)return;r/=k;if(k<0){if(r>j)return;if(r>t)t=r;}else if(k>0){if(r<t)return;if(r<j)j=r;}r=y-g;if(!m&&r>0)return;r/=m;if(m<0){if(r<t)return;if(r<j)j=r;}else if(m>0){if(r>j)return;if(r>t)t=r;}r=d-g;if(!m&&r<0)return;r/=m;if(m<0){if(r>j)return;if(r>t)t=r;}else if(m>0){if(r<t)return;if(r<j)j=r;}if(t>0)l.a={x:f+t*k,y:g+t*m};if(j<1)l.b={x:f+j*k,y:g+j*m};return l;};}var G5=1e9;D.geo.clipExtent=function(){var x,y,a,b,s,c,d={stream:function(o){if(s)s.valid=false;s=c(o);s.valid=true;return s;},extent:function(_){if(!arguments.length)return[[x,y],[a,b]];c=H5(x=+_[0][0],y=+_[0][1],a=+_[1][0],b=+_[1][1]);if(s)s.valid=false,s=null;return d;}};return d.extent([[0,0],[960,500]]);};function H5(c,d,f,g){return function(q){var r=q,s=x5(),t=F5(c,d,f,g),u,w,z;var A={point:G,lineStart:b1,lineEnd:c1,polygonStart:function(){q=s;u=[];w=[];_=true;},polygonEnd:function(){q=r;u=D.merge(u);var a=B([c,g]),i=_&&a,v=u.length;if(i||v){q.polygonStart();if(i){q.lineStart();C(null,null,1,q);q.lineEnd();}if(v){s5(u,k,a,C,q);}q.polygonEnd();}u=w=z=null;}};function B(p){var l=0,n=w.length,y=p[1];for(var i=0;i<n;++i){for(var j=1,v=w[i],m=v.length,a=v[0],b;j<m;++j){b=v[j];if(a[1]<=y){if(b[1]>y&&R2(a,b,p)>0)++l;}else{if(b[1]<=y&&R2(a,b,p)<0)--l;}a=b;}}return l!==0;}function C(b,i,j,q){var a=0,l=0;if(b==null||(a=h(b,j))!==(l=h(i,j))||o(b,i)<0^j>0){do{q.point(a===0||a===3?c:f,a>1?g:d);}while((a=(a+j+4)%4)!==l);}else{q.point(i[0],i[1]);}}function F(x,y){return c<=x&&x<=f&&d<=y&&y<=g;}function G(x,y){if(F(x,y))q.point(x,y);}var H,I,L,N,S,X,Y,_;function b1(){A.point=d1;if(w)w.push(z=[]);Y=true;X=false;N=S=NaN;}function c1(){if(u){d1(H,I);if(L&&X)s.rejoin();u.push(s.buffer());}A.point=G;if(X)q.lineEnd();}function d1(x,y){x=Math.max(-G5,Math.min(G5,x));y=Math.max(-G5,Math.min(G5,y));var v=F(x,y);if(w)z.push([x,y]);if(Y){H=x,I=y,L=v;Y=false;if(v){q.lineStart();q.point(x,y);}}else{if(v&&X)q.point(x,y);else{var l={a:{x:N,y:S},b:{x:x,y:y}};if(t(l)){if(!X){q.lineStart();q.point(l.a.x,l.a.y);}q.point(l.b.x,l.b.y);if(!v)q.lineEnd();_=false;}else if(v){q.lineStart();q.point(x,y);_=false;}}}N=x,S=y,X=v;}return A;};function h(p,a){return h1(p[0]-c)<ε?a>0?0:3:h1(p[0]-f)<ε?a>0?2:1:h1(p[1]-d)<ε?a>0?1:0:a>0?3:2;}function k(a,b){return o(a.x,b.x);}function o(a,b){var i=h(a,1),j=h(b,1);return i!==j?i-j:i===0?b[1]-a[1]:i===1?a[0]-b[0]:i===2?a[1]-b[1]:b[0]-a[0];}}function I5(a,b){function c(x,y){return x=a(x,y),b(x[0],x[1]);}if(a.invert&&b.invert)c.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1]);};return c;}function J5(a){var φ=0,b=π/3,m=g6(a),p=m(φ,b);p.parallels=function(_){if(!arguments.length)return[φ/π*180,b/π*180];return m(φ=_[0]*π/180,b=_[1]*π/180);};return p;}function K5(a,b){var s=Math.sin(a),n=(s+Math.sin(b))/2,C=1+s*(2*n-s),c=Math.sqrt(C)/n;function f(λ,φ){var ρ=Math.sqrt(C-2*n*Math.sin(φ))/n;return[ρ*Math.sin(λ*=n),c-ρ*Math.cos(λ)];}f.invert=function(x,y){var d=c-y;return[Math.atan2(x,d)/n,T2((C-(x*x+d*d)*n*n)/(2*n))];};return f;}(D.geo.conicEqualArea=function(){return J5(K5);}).raw=K5;D.geo.albers=function(){return D.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070);};D.geo.albersUsa=function(){var l=D.geo.albers();var a=D.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var h=D.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var p,b={point:function(x,y){p=[x,y];}},c,d,f;function g(i){var x=i[0],y=i[1];p=null;(c(x,y),p)||(d(x,y),p)||f(x,y);return p;}g.invert=function(i){var k=l.scale(),t=l.translate(),x=(i[0]-t[0])/k,y=(i[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?a:y>=.166&&y<.234&&x>=-.214&&x<-.115?h:l).invert(i);};g.stream=function(s){var i=l.stream(s),j=a.stream(s),k=h.stream(s);return{point:function(x,y){i.point(x,y);j.point(x,y);k.point(x,y);},sphere:function(){i.sphere();j.sphere();k.sphere();},lineStart:function(){i.lineStart();j.lineStart();k.lineStart();},lineEnd:function(){i.lineEnd();j.lineEnd();k.lineEnd();},polygonStart:function(){i.polygonStart();j.polygonStart();k.polygonStart();},polygonEnd:function(){i.polygonEnd();j.polygonEnd();k.polygonEnd();}};};g.precision=function(_){if(!arguments.length)return l.precision();l.precision(_);a.precision(_);h.precision(_);return g;};g.scale=function(_){if(!arguments.length)return l.scale();l.scale(_);a.scale(_*.35);h.scale(_);return g.translate(l.translate());};g.translate=function(_){if(!arguments.length)return l.translate();var k=l.scale(),x=+_[0],y=+_[1];c=l.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(b).point;d=a.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+ε,y+.12*k+ε],[x-.214*k-ε,y+.234*k-ε]]).stream(b).point;f=h.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+ε,y+.166*k+ε],[x-.115*k-ε,y+.234*k-ε]]).stream(b).point;return g;};return g.scale(1070);};var L5,M5,N5={point:I1,lineStart:I1,lineEnd:I1,polygonStart:function(){M5=0;N5.lineStart=O5;},polygonEnd:function(){N5.lineStart=N5.lineEnd=N5.point=I1;L5+=h1(M5/2);}};function O5(){var a,b,c,d;N5.point=function(x,y){N5.point=n;a=c=x,b=d=y;};function n(x,y){M5+=d*x-c*y;c=x,d=y;}N5.lineEnd=function(){n(a,b);};}var P5,Q5,R5,S5;var T5={point:U5,lineStart:I1,lineEnd:I1,polygonStart:I1,polygonEnd:I1};function U5(x,y){if(x<P5)P5=x;if(x>R5)R5=x;if(y<Q5)Q5=y;if(y>S5)S5=y;}function V5(){var p=W5(4.5),b=[];var s={point:a,lineStart:function(){s.point=c;},lineEnd:l,polygonStart:function(){s.lineEnd=f;},polygonEnd:function(){s.lineEnd=l;s.point=a;},pointRadius:function(_){p=W5(_);return s;},result:function(){if(b.length){var r=b.join("");b=[];return r;}}};function a(x,y){b.push("M",x,",",y,p);}function c(x,y){b.push("M",x,",",y);s.point=d;}function d(x,y){b.push("L",x,",",y);}function l(){s.point=a;}function f(){b.push("Z");}return s;}function W5(r){return"m0,"+r+"a"+r+","+r+" 0 1,1 0,"+-2*r+"a"+r+","+r+" 0 1,1 0,"+2*r+"z";}var X5={point:Y5,lineStart:Z5,lineEnd:$5,polygonStart:function(){X5.lineStart=_5;},polygonEnd:function(){X5.point=Y5;X5.lineStart=Z5;X5.lineEnd=$5;}};function Y5(x,y){c5+=x;d5+=y;++e5;}function Z5(){var a,b;X5.point=function(x,y){X5.point=n;Y5(a=x,b=y);};function n(x,y){var d=x-a,c=y-b,z=Math.sqrt(d*d+c*c);f5+=z*(a+x)/2;g5+=z*(b+y)/2;h5+=z;Y5(a=x,b=y);}}function $5(){X5.point=Y5;}function _5(){var a,b,c,d;X5.point=function(x,y){X5.point=n;Y5(a=c=x,b=d=y);};function n(x,y){var f=x-c,g=y-d,z=Math.sqrt(f*f+g*g);f5+=z*(c+x)/2;g5+=z*(d+y)/2;h5+=z;z=d*x-c*y;i5+=z*(c+x);j5+=z*(d+y);k5+=z*3;Y5(c=x,d=y);}X5.lineEnd=function(){n(a,b);};}function a6(c){var p=4.5;var s={point:a,lineStart:function(){s.point=b;},lineEnd:l,polygonStart:function(){s.lineEnd=f;},polygonEnd:function(){s.lineEnd=l;s.point=a;},pointRadius:function(_){p=_;return s;},result:I1};function a(x,y){c.moveTo(x,y);c.arc(x,y,p,0,τ);}function b(x,y){c.moveTo(x,y);s.point=d;}function d(x,y){c.lineTo(x,y);}function l(){s.point=a;}function f(){c.closePath();}return s;}function b6(d){var δ=.5,f=Math.cos(30*O2),g=16;function r(s){return(g?i:h)(s);}function h(s){return e6(s,function(x,y){x=d(x,y);s.point(x[0],x[1]);});}function i(s){var a,b,k,l,m,n,o,q,t,u,v,w,z;var r={point:A,lineStart:B,lineEnd:F,polygonStart:function(){s.polygonStart();r.lineStart=G;},polygonEnd:function(){s.polygonEnd();r.lineStart=B;}};function A(x,y){x=d(x,y);s.point(x[0],x[1]);}function B(){t=NaN;r.point=C;s.lineStart();}function C(λ,φ){var c=U4([λ,φ]),p=d(λ,φ);j(t,u,q,v,w,z,t=p[0],u=p[1],q=λ,v=c[0],w=c[1],z=c[2],g,s);s.point(t,u);}function F(){r.point=A;s.lineEnd();}function G(){B();r.point=H;r.lineEnd=I;}function H(λ,φ){C(a=λ,b=φ),k=t,l=u,m=v,n=w,o=z;r.point=C;}function I(){j(t,u,q,v,w,z,k,l,a,m,n,o,g,s);r.lineEnd=F;F();}return r;}function j(x,y,λ,k,l,n,o,q,s,t,u,v,w,z){var A=o-x,B=q-y,C=A*A+B*B;if(C>4*δ&&w--){var a=k+t,b=l+u,c=n+v,m=Math.sqrt(a*a+b*b+c*c),φ=Math.asin(c/=m),F=h1(h1(c)-1)<ε||h1(λ-s)<ε?(λ+s)/2:Math.atan2(b,a),p=d(F,φ),G=p[0],H=p[1],I=G-x,L=H-y,N=B*I-A*L;if(N*N/C>δ||h1((A*I+B*L)/C-.5)>.3||k*t+l*u+n*v<f){j(x,y,λ,k,l,n,G,H,F,a/=m,b/=m,c,w,z);z.point(G,H);j(G,H,F,a,b,c,o,q,s,t,u,v,w,z);}}}r.precision=function(_){if(!arguments.length)return Math.sqrt(δ);g=(δ=_*_)>0&&16;return r;};return r;}D.geo.path=function(){var p=4.5,a,c,b,d,f;function g(o){if(o){if(typeof p==="function")d.pointRadius(+p.apply(this,arguments));if(!f||!f.valid)f=b(d);D.geo.stream(o,f);}return d.result();}g.area=function(o){L5=0;D.geo.stream(o,b(N5));return L5;};g.centroid=function(o){c5=d5=e5=f5=g5=h5=i5=j5=k5=0;D.geo.stream(o,b(X5));return k5?[i5/k5,j5/k5]:h5?[f5/h5,g5/h5]:e5?[c5/e5,d5/e5]:[NaN,NaN];};g.bounds=function(o){R5=S5=-(P5=Q5=Infinity);D.geo.stream(o,b(T5));return[[P5,Q5],[R5,S5]];};g.projection=function(_){if(!arguments.length)return a;b=(a=_)?_.stream||c6(_):K3;return r();};g.context=function(_){if(!arguments.length)return c;d=(c=_)==null?new V5():new a6(_);if(typeof p!=="function")d.pointRadius(p);return r();};g.pointRadius=function(_){if(!arguments.length)return p;p=typeof _==="function"?_:(d.pointRadius(+_),+_);return g;};function r(){f=null;return g;}return g.projection(D.geo.albersUsa()).context(null);};function c6(p){var r=b6(function(x,y){return p([x*P2,y*P2]);});return function(s){return h6(r(s));};}D.geo.transform=function(m){return{stream:function(s){var t=new d6(s);for(var k in m)t[k]=m[k];return t;}};};function d6(s){this.stream=s;}d6.prototype={point:function(x,y){this.stream.point(x,y);},sphere:function(){this.stream.sphere();},lineStart:function(){this.stream.lineStart();},lineEnd:function(){this.stream.lineEnd();},polygonStart:function(){this.stream.polygonStart();},polygonEnd:function(){this.stream.polygonEnd();}};function e6(s,p){return{point:p,sphere:function(){s.sphere();},lineStart:function(){s.lineStart();},lineEnd:function(){s.lineEnd();},polygonStart:function(){s.polygonStart();},polygonEnd:function(){s.polygonEnd();}};}D.geo.projection=f6;D.geo.projectionMutator=g6;function f6(p){return g6(function(){return p;})();}function g6(p){var a,r,b,c=b6(function(x,y){x=a(x,y);return[x[0]*k+g,h-x[1]*k];}),k=150,x=480,y=250,λ=0,φ=0,δ=0,d=0,f=0,g,h,i=z5,j=K3,l=null,m=null,s;function n(u){u=b(u[0]*O2,u[1]*O2);return[u[0]*k+g,h-u[1]*k];}function o(u){u=b.invert((u[0]-g)/k,(h-u[1])/k);return u&&[u[0]*P2,u[1]*P2];}n.stream=function(u){if(s)s.valid=false;s=h6(i(r,c(j(u))));s.valid=true;return s;};n.clipAngle=function(_){if(!arguments.length)return l;i=_==null?(l=_,z5):E5((l=+_)*O2);return t();};n.clipExtent=function(_){if(!arguments.length)return m;m=_;j=_?H5(_[0][0],_[0][1],_[1][0],_[1][1]):K3;return t();};n.scale=function(_){if(!arguments.length)return k;k=+_;return q();};n.translate=function(_){if(!arguments.length)return[x,y];x=+_[0];y=+_[1];return q();};n.center=function(_){if(!arguments.length)return[λ*P2,φ*P2];λ=_[0]%360*O2;φ=_[1]%360*O2;return q();};n.rotate=function(_){if(!arguments.length)return[δ*P2,d*P2,f*P2];δ=_[0]%360*O2;d=_[1]%360*O2;f=_.length>2?_[2]%360*O2:0;return q();};D.rebind(n,c,"precision");function q(){b=I5(r=k6(δ,d,f),a);var u=a(λ,φ);g=x-u[0]*k;h=y+u[1]*k;return t();}function t(){if(s)s.valid=false,s=null;return n;}return function(){a=p.apply(this,arguments);n.invert=a.invert&&o;return q();};}function h6(s){return e6(s,function(x,y){s.point(x*O2,y*O2);});}function i6(λ,φ){return[λ,φ];}(D.geo.equirectangular=function(){return f6(i6);}).raw=i6.invert=i6;D.geo.rotation=function(r){r=k6(r[0]%360*O2,r[1]*O2,r.length>2?r[2]*O2:0);function f(c){c=r(c[0]*O2,c[1]*O2);return c[0]*=P2,c[1]*=P2,c;}f.invert=function(c){c=r.invert(c[0]*O2,c[1]*O2);return c[0]*=P2,c[1]*=P2,c;};return f;};function j6(λ,φ){return[λ>π?λ-τ:λ<-π?λ+τ:λ,φ];}j6.invert=i6;function k6(δ,a,b){return δ?a||b?I5(m6(δ),n6(a,b)):m6(δ):a||b?n6(a,b):j6;}function l6(δ){return function(λ,φ){return λ+=δ,[λ>π?λ-τ:λ<-π?λ+τ:λ,φ];};}function m6(δ){var r=l6(δ);r.invert=l6(-δ);return r;}function n6(δ,a){var c=Math.cos(δ),s=Math.sin(δ),b=Math.cos(a),d=Math.sin(a);function r(λ,φ){var f=Math.cos(φ),x=Math.cos(λ)*f,y=Math.sin(λ)*f,z=Math.sin(φ),k=z*c+x*s;return[Math.atan2(y*b-k*d,x*c-z*s),T2(k*b+y*d)];}r.invert=function(λ,φ){var f=Math.cos(φ),x=Math.cos(λ)*f,y=Math.sin(λ)*f,z=Math.sin(φ),k=z*b-y*d;return[Math.atan2(y*b+z*d,x*c+k*s),T2(k*c-x*s)];};return r;}D.geo.circle=function(){var o=[0,0],a,p=6,i;function c(){var b=typeof o==="function"?o.apply(this,arguments):o,r=k6(-b[0]*O2,-b[1]*O2,0).invert,d=[];i(null,null,1,{point:function(x,y){d.push(x=r(x,y));x[0]*=P2,x[1]*=P2;}});return{type:"Polygon",coordinates:[d]};}c.origin=function(x){if(!arguments.length)return o;o=x;return c;};c.angle=function(x){if(!arguments.length)return a;i=o6((a=+x)*O2,p*O2);return c;};c.precision=function(_){if(!arguments.length)return p;i=o6(a*O2,(p=+_)*O2);return c;};return c.angle(90);};function o6(r,p){var c=Math.cos(r),s=Math.sin(r);return function(f,a,d,l){var b=d*p;if(f!=null){f=p6(c,f);a=p6(c,a);if(d>0?f<a:f>a)f+=d*τ;}else{f=r+d*τ;a=r-.5*b;}for(var g,t=f;d>0?t>a:t<a;t-=b){l.point((g=$4([c,-s*Math.cos(t),-s*Math.sin(t)]))[0],g[1]);}};}function p6(c,p){var a=U4(p);a[0]-=c;Z4(a);var b=S2(-a[1]);return((-a[2]<0?-b:b)+2*Math.PI-ε)%(2*Math.PI);}D.geo.distance=function(a,b){var Δ=(b[0]-a[0])*O2,φ=a[1]*O2,c=b[1]*O2,s=Math.sin(Δ),d=Math.cos(Δ),f=Math.sin(φ),g=Math.cos(φ),h=Math.sin(c),i=Math.cos(c),t;return Math.atan2(Math.sqrt((t=i*s)*t+(t=g*h-f*i*d)*t),f*h+g*i*d);};D.geo.graticule=function(){var a,b,c,d,f,g,h,i,j=10,k=j,l=90,m=360,x,y,X,Y,p=2.5;function n(){return{type:"MultiLineString",coordinates:o()};}function o(){return D.range(Math.ceil(d/l)*l,c,l).map(X).concat(D.range(Math.ceil(i/m)*m,h,m).map(Y)).concat(D.range(Math.ceil(b/j)*j,a,j).filter(function(x){return h1(x%l)>ε;}).map(x)).concat(D.range(Math.ceil(g/k)*k,f,k).filter(function(y){return h1(y%m)>ε;}).map(y));}n.lines=function(){return o().map(function(q){return{type:"LineString",coordinates:q};});};n.outline=function(){return{type:"Polygon",coordinates:[X(d).concat(Y(h).slice(1),X(c).reverse().slice(1),Y(i).reverse().slice(1))]};};n.extent=function(_){if(!arguments.length)return n.minorExtent();return n.majorExtent(_).minorExtent(_);};n.majorExtent=function(_){if(!arguments.length)return[[d,i],[c,h]];d=+_[0][0],c=+_[1][0];i=+_[0][1],h=+_[1][1];if(d>c)_=d,d=c,c=_;if(i>h)_=i,i=h,h=_;return n.precision(p);};n.minorExtent=function(_){if(!arguments.length)return[[b,g],[a,f]];b=+_[0][0],a=+_[1][0];g=+_[0][1],f=+_[1][1];if(b>a)_=b,b=a,a=_;if(g>f)_=g,g=f,f=_;return n.precision(p);};n.step=function(_){if(!arguments.length)return n.minorStep();return n.majorStep(_).minorStep(_);};n.majorStep=function(_){if(!arguments.length)return[l,m];l=+_[0],m=+_[1];return n;};n.minorStep=function(_){if(!arguments.length)return[j,k];j=+_[0],k=+_[1];return n;};n.precision=function(_){if(!arguments.length)return p;p=+_;x=q6(g,f,90);y=r6(b,a,p);X=q6(i,h,90);Y=r6(d,c,p);return n;};return n.majorExtent([[-180,-90+ε],[180,90-ε]]).minorExtent([[-180,-80-ε],[180,80+ε]]);};function q6(a,b,d){var y=D.range(a,b-ε,d).concat(b);return function(x){return y.map(function(y){return[x,y];});};}function r6(a,b,d){var x=D.range(a,b-ε,d).concat(b);return function(y){return x.map(function(x){return[x,y];});};}function s6(d){return d.source;}function t6(d){return d.target;}D.geo.greatArc=function(){var s=s6,a,t=t6,b;function g(){return{type:"LineString",coordinates:[a||s.apply(this,arguments),b||t.apply(this,arguments)]};}g.distance=function(){return D.geo.distance(a||s.apply(this,arguments),b||t.apply(this,arguments));};g.source=function(_){if(!arguments.length)return s;s=_,a=typeof _==="function"?null:_;return g;};g.target=function(_){if(!arguments.length)return t;t=_,b=typeof _==="function"?null:_;return g;};g.precision=function(){return arguments.length?g:0;};return g;};D.geo.interpolate=function(s,t){return u6(s[0]*O2,s[1]*O2,t[0]*O2,t[1]*O2);};function u6(a,b,c,f){var g=Math.cos(b),s=Math.sin(b),h=Math.cos(f),i=Math.sin(f),j=g*Math.cos(a),l=g*Math.sin(a),m=h*Math.cos(c),n=h*Math.sin(c),d=2*Math.asin(Math.sqrt(X2(f-b)+g*h*X2(c-a))),k=1/Math.sin(d);var o=d?function(t){var B=Math.sin(t*=d)*k,A=Math.sin(d-t)*k,x=A*j+B*m,y=A*l+B*n,z=A*s+B*i;return[Math.atan2(y,x)*P2,Math.atan2(z,Math.sqrt(x*x+y*y))*P2];}:function(){return[a*P2,b*P2];};o.distance=d;return o;}D.geo.length=function(o){v6=0;D.geo.stream(o,w6);return v6;};var v6;var w6={sphere:I1,point:I1,lineStart:x6,lineEnd:I1,polygonStart:I1,polygonEnd:I1};function x6(){var a,s,c;w6.point=function(λ,φ){a=λ*O2,s=Math.sin(φ*=O2),c=Math.cos(φ);w6.point=n;};w6.lineEnd=function(){w6.point=w6.lineEnd=I1;};function n(λ,φ){var b=Math.sin(φ*=O2),d=Math.cos(φ),t=h1((λ*=O2)-a),f=Math.cos(t);v6+=Math.atan2(Math.sqrt((t=d*Math.sin(t))*t+(t=c*b-s*d*f)*t),s*b+c*d*f);a=λ,s=b,c=d;}}function y6(s,a){function b(λ,φ){var c=Math.cos(λ),d=Math.cos(φ),k=s(c*d);return[k*d*Math.sin(λ),k*Math.sin(φ)];}b.invert=function(x,y){var ρ=Math.sqrt(x*x+y*y),c=a(ρ),d=Math.sin(c),f=Math.cos(c);return[Math.atan2(x*d,ρ*f),Math.asin(ρ&&y*d/ρ)];};return b;}var z6=y6(function(c){return Math.sqrt(2/(1+c));},function(ρ){return 2*Math.asin(ρ/2);});(D.geo.azimuthalEqualArea=function(){return f6(z6);}).raw=z6;var A6=y6(function(a){var c=Math.acos(a);return c&&c/Math.sin(c);},K3);(D.geo.azimuthalEquidistant=function(){return f6(A6);}).raw=A6;function B6(a,b){var c=Math.cos(a),t=function(φ){return Math.tan(π/4+φ/2);},n=a===b?Math.sin(a):Math.log(c/Math.cos(b))/Math.log(t(b)/t(a)),F=c*Math.pow(t(a),n)/n;if(!n)return E6;function f(λ,φ){if(F>0){if(φ<-M2+ε)φ=-M2+ε;}else{if(φ>M2-ε)φ=M2-ε;}var ρ=F/Math.pow(t(φ),n);return[ρ*Math.sin(n*λ),F-ρ*Math.cos(n*λ)];}f.invert=function(x,y){var d=F-y,ρ=Q2(n)*Math.sqrt(x*x+d*d);return[Math.atan2(x,d)/n,2*Math.atan(Math.pow(F/ρ,1/n))-M2];};return f;}(D.geo.conicConformal=function(){return J5(B6);}).raw=B6;function C6(a,b){var c=Math.cos(a),n=a===b?Math.sin(a):(c-Math.cos(b))/(b-a),G=c/n+a;if(h1(n)<ε)return i6;function f(λ,φ){var ρ=G-φ;return[ρ*Math.sin(n*λ),G-ρ*Math.cos(n*λ)];}f.invert=function(x,y){var d=G-y;return[Math.atan2(x,d)/n,G-Q2(n)*Math.sqrt(x*x+d*d)];};return f;}(D.geo.conicEquidistant=function(){return J5(C6);}).raw=C6;var D6=y6(function(c){return 1/c;},Math.atan);(D.geo.gnomonic=function(){return f6(D6);}).raw=D6;function E6(λ,φ){return[λ,Math.log(Math.tan(π/4+φ/2))];}E6.invert=function(x,y){return[x,2*Math.atan(Math.exp(y))-M2];};function F6(p){var m=f6(p),s=m.scale,a=m.translate,c=m.clipExtent,b;m.scale=function(){var v=s.apply(m,arguments);return v===m?b?m.clipExtent(null):m:v;};m.translate=function(){var v=a.apply(m,arguments);return v===m?b?m.clipExtent(null):m:v;};m.clipExtent=function(_){var v=c.apply(m,arguments);if(v===m){if(b=_==null){var k=π*s(),t=a();c([[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]);}}else if(b){v=null;}return v;};return m.clipExtent(null);}(D.geo.mercator=function(){return F6(E6);}).raw=E6;var G6=y6(function(){return 1;},Math.asin);(D.geo.orthographic=function(){return f6(G6);}).raw=G6;var H6=y6(function(c){return 1/(1+c);},function(ρ){return 2*Math.atan(ρ);});(D.geo.stereographic=function(){return f6(H6);}).raw=H6;function I6(λ,φ){return[Math.log(Math.tan(π/4+φ/2)),-λ];}I6.invert=function(x,y){return[-y,2*Math.atan(Math.exp(x))-M2];};(D.geo.transverseMercator=function(){var p=F6(I6),c=p.center,r=p.rotate;p.center=function(_){return _?c([-_[1],_[0]]):(_=c(),[_[1],-_[0]]);};p.rotate=function(_){return _?r([_[0],_[1],_.length>2?_[2]+90:90]):(_=r(),[_[0],_[1],_[2]-90]);};return r([0,0,90]);}).raw=I6;D.geom={};function J6(d){return d[0];}function K6(d){return d[1];}D.geom.hull=function(v){var x=J6,y=K6;if(arguments.length)return h(v);function h(d){if(d.length<3)return[];var f=J3(x),a=J3(y),i,n=d.length,p=[],b=[];for(i=0;i<n;i++){p.push([+f.call(this,d[i],i),+a.call(this,d[i],i),i]);}p.sort(M6);for(i=0;i<n;i++)b.push([p[i][0],-p[i][1]]);var u=L6(p),l=L6(b);var s=l[0]===u[0],c=l[l.length-1]===u[u.length-1],g=[];for(i=u.length-1;i>=0;--i)g.push(d[p[u[i]][2]]);for(i=+s;i<l.length-c;++i)g.push(d[p[l[i]][2]]);return g;}h.x=function(_){return arguments.length?(x=_,h):x;};h.y=function(_){return arguments.length?(y=_,h):y;};return h;};function L6(p){var n=p.length,h=[0,1],a=2;for(var i=2;i<n;i++){while(a>1&&R2(p[h[a-2]],p[h[a-1]],p[i])<=0)--a;h[a++]=i;}return h.slice(0,a);}function M6(a,b){return a[0]-b[0]||a[1]-b[1];}D.geom.polygon=function(c){P1(c,N6);return c;};var N6=D.geom.polygon.prototype=[];N6.area=function(){var i=-1,n=this.length,a,b=this[n-1],c=0;while(++i<n){a=b;b=this[i];c+=a[1]*b[0]-a[0]*b[1];}return c*.5;};N6.centroid=function(k){var i=-1,n=this.length,x=0,y=0,a,b=this[n-1],c;if(!arguments.length)k=-1/(6*this.area());while(++i<n){a=b;b=this[i];c=a[0]*b[1]-b[0]*a[1];x+=(a[0]+b[0])*c;y+=(a[1]+b[1])*c;}return[x*k,y*k];};N6.clip=function(s){var f,g=Q6(s),i=-1,n=this.length-Q6(this),j,m,a=this[n-1],b,c,d;while(++i<n){f=s.slice();s.length=0;b=this[i];c=f[(m=f.length-g)-1];j=-1;while(++j<m){d=f[j];if(O6(d,a,b)){if(!O6(c,a,b)){s.push(P6(c,d,a,b));}s.push(d);}else if(O6(c,a,b)){s.push(P6(c,d,a,b));}c=d;}if(g)s.push(s[0]);a=b;}return s;};function O6(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0]);}function P6(c,d,a,b){var x=c[0],f=a[0],g=d[0]-x,h=b[0]-f,y=c[1],i=a[1],j=d[1]-y,k=b[1]-i,u=(h*(y-i)-k*(x-f))/(k*g-h*j);return[x+u*g,y+u*j];}function Q6(c){var a=c[0],b=c[c.length-1];return!(a[0]-b[0]||a[1]-b[1]);}var R6,S6,T6,U6=[],V6,W6,X6=[];function Y6(){r7(this);this.edge=this.site=this.circle=null;}function Z6(s){var b=U6.pop()||new Y6();b.site=s;return b;}function $6(b){i7(b);T6.remove(b);U6.push(b);r7(b);}function _6(b){var c=b.circle,x=c.x,y=c.cy,v={x:x,y:y},p=b.P,n=b.N,d=[b];$6(b);var l=p;while(l.circle&&h1(x-l.circle.x)<ε&&h1(y-l.circle.cy)<ε){p=l.P;d.unshift(l);$6(l);l=p;}d.unshift(l);i7(l);var r=n;while(r.circle&&h1(x-r.circle.x)<ε&&h1(y-r.circle.cy)<ε){n=r.N;d.push(r);$6(r);r=n;}d.push(r);i7(r);var a=d.length,A;for(A=1;A<a;++A){r=d[A];l=d[A-1];o7(r.edge,l.site,r.site,v);}l=d[0];r=d[a-1];r.edge=m7(l.site,r.site,null,v);h7(l);h7(r);}function a7(s){var x=s.x,a=s.y,l,r,b,c,n=T6._;while(n){b=b7(n,a)-x;if(b>ε)n=n.L;else{c=x-c7(n,a);if(c>ε){if(!n.R){l=n;break;}n=n.R;}else{if(b>-ε){l=n.P;r=n;}else if(c>-ε){l=n;r=n.N;}else{l=r=n;}break;}}}var f=Z6(s);T6.insert(l,f);if(!l&&!r)return;if(l===r){i7(l);r=Z6(l.site);T6.insert(f,r);f.edge=r.edge=m7(l.site,f.site);h7(l);h7(r);return;}if(!r){f.edge=m7(l.site,f.site);return;}i7(l);i7(r);var g=l.site,h=g.x,i=g.y,j=s.x-h,k=s.y-i,m=r.site,o=m.x-h,p=m.y-i,d=2*(j*p-k*o),q=j*j+k*k,t=o*o+p*p,v={x:(p*q-k*t)/d+h,y:(j*t-o*q)/d+i};o7(r.edge,g,m,v);f.edge=m7(g,s,null,v);r.edge=m7(s,m,null,v);h7(l);h7(r);}function b7(a,d){var s=a.site,r=s.x,c=s.y,p=c-d;if(!p)return r;var l=a.P;if(!l)return-Infinity;s=l.site;var f=s.x,g=s.y,h=g-d;if(!h)return f;var i=f-r,j=1/p-1/h,b=i/h;if(j)return(-b+Math.sqrt(b*b-2*j*(i*i/(-2*h)-g+h/2+c-p/2)))/j+r;return(r+f)/2;}function c7(a,d){var r=a.N;if(r)return b7(r,d);var s=a.site;return s.y===d?s.x:Infinity;}function d7(s){this.site=s;this.edges=[];}d7.prototype.prepare=function(){var h=this.edges,H=h.length,a;while(H--){a=h[H].edge;if(!a.b||!a.a)h.splice(H,1);}h.sort(f7);return h.length;};function e7(a){var x=a[0][0],b=a[1][0],y=a[0][1],c=a[1][1],d,f,g,h,i=S6,C=i.length,j,H,k,n,s,l;while(C--){j=i[C];if(!j||!j.prepare())continue;k=j.edges;n=k.length;H=0;while(H<n){l=k[H].end(),g=l.x,h=l.y;s=k[++H%n].start(),d=s.x,f=s.y;if(h1(g-d)>ε||h1(h-f)>ε){k.splice(H,0,new p7(n7(j.site,l,h1(g-x)<ε&&c-h>ε?{x:x,y:h1(d-x)<ε?f:c}:h1(h-c)<ε&&b-g>ε?{x:h1(f-c)<ε?d:b,y:c}:h1(g-b)<ε&&h-y>ε?{x:b,y:h1(d-b)<ε?f:y}:h1(h-y)<ε&&g-x>ε?{x:h1(f-y)<ε?d:x,y:y}:null),j.site,null));++n;}}}}function f7(a,b){return b.angle-a.angle;}function g7(){r7(this);this.x=this.y=this.arc=this.site=this.cy=null;}function h7(a){var l=a.P,r=a.N;if(!l||!r)return;var b=l.site,c=a.site,f=r.site;if(b===f)return;var g=c.x,h=c.y,i=b.x-g,j=b.y-h,k=f.x-g,m=f.y-h;var d=2*(i*m-j*k);if(d>=-ε2)return;var n=i*i+j*j,o=k*k+m*m,x=(m*n-j*o)/d,y=(i*o-k*n)/d,m=y+h;var p=X6.pop()||new g7();p.arc=a;p.site=c;p.x=x+g;p.y=m+Math.sqrt(x*x+y*y);p.cy=m;a.circle=p;var q=null,s=W6._;while(s){if(p.y<s.y||p.y===s.y&&p.x<=s.x){if(s.L)s=s.L;else{q=s.P;break;}}else{if(s.R)s=s.R;else{q=s;break;}}}W6.insert(q,p);if(!q)V6=p;}function i7(a){var c=a.circle;if(c){if(!c.P)V6=c.N;W6.remove(c);X6.push(c);r7(c);a.circle=null;}}function j7(a){var b=R6,c=F5(a[0][0],a[0][1],a[1][0],a[1][1]),i=b.length,e;while(i--){e=b[i];if(!k7(e,a)||!c(e)||h1(e.a.x-e.b.x)<ε&&h1(e.a.y-e.b.y)<ε){e.a=e.b=null;b.splice(i,1);}}}function k7(a,b){var v=a.b;if(v)return true;var c=a.a,x=b[0][0],d=b[1][0],y=b[0][1],f=b[1][1],l=a.l,r=a.r,g=l.x,h=l.y,i=r.x,j=r.y,k=(g+i)/2,m=(h+j)/2,n,o;if(j===h){if(k<x||k>=d)return;if(g>i){if(!c)c={x:k,y:y};else if(c.y>=f)return;v={x:k,y:f};}else{if(!c)c={x:k,y:f};else if(c.y<y)return;v={x:k,y:y};}}else{n=(g-i)/(j-h);o=m-n*k;if(n<-1||n>1){if(g>i){if(!c)c={x:(y-o)/n,y:y};else if(c.y>=f)return;v={x:(f-o)/n,y:f};}else{if(!c)c={x:(f-o)/n,y:f};else if(c.y<y)return;v={x:(y-o)/n,y:y};}}else{if(h<j){if(!c)c={x:x,y:n*x+o};else if(c.x>=d)return;v={x:d,y:n*d+o};}else{if(!c)c={x:d,y:n*d+o};else if(c.x<x)return;v={x:x,y:n*x+o};}}}a.a=c;a.b=v;return true;}function l7(l,r){this.l=l;this.r=r;this.a=this.b=null;}function m7(l,r,v,a){var b=new l7(l,r);R6.push(b);if(v)o7(b,l,r,v);if(a)o7(b,r,l,a);S6[l.i].edges.push(new p7(b,l,r));S6[r.i].edges.push(new p7(b,r,l));return b;}function n7(l,v,a){var b=new l7(l,null);b.a=v;b.b=a;R6.push(b);return b;}function o7(a,l,r,v){if(!a.a&&!a.b){a.a=v;a.l=l;a.r=r;}else if(a.l===r){a.b=v;}else{a.a=v;}}function p7(a,l,r){var v=a.a,b=a.b;this.edge=a;this.site=l;this.angle=r?Math.atan2(r.y-l.y,r.x-l.x):a.l===l?Math.atan2(b.x-v.x,v.y-b.y):Math.atan2(v.x-b.x,b.y-v.y);}p7.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b;},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a;}};function q7(){this._=null;}function r7(n){n.U=n.C=n.L=n.R=n.P=n.N=null;}q7.prototype={insert:function(a,n){var p,g,u;if(a){n.P=a;n.N=a.N;if(a.N)a.N.P=n;a.N=n;if(a.R){a=a.R;while(a.L)a=a.L;a.L=n;}else{a.R=n;}p=a;}else if(this._){a=u7(this._);n.P=null;n.N=a;a.P=a.L=n;p=a;}else{n.P=n.N=null;this._=n;p=null;}n.L=n.R=null;n.U=p;n.C=true;a=n;while(p&&p.C){g=p.U;if(p===g.L){u=g.R;if(u&&u.C){p.C=u.C=false;g.C=true;a=g;}else{if(a===p.R){s7(this,p);a=p;p=a.U;}p.C=false;g.C=true;t7(this,g);}}else{u=g.L;if(u&&u.C){p.C=u.C=false;g.C=true;a=g;}else{if(a===p.L){t7(this,p);a=p;p=a.U;}p.C=false;g.C=true;s7(this,g);}}p=a.U;}this._.C=false;},remove:function(n){if(n.N)n.N.P=n.P;if(n.P)n.P.N=n.N;n.N=n.P=null;var p=n.U,s,l=n.L,r=n.R,a,b;if(!l)a=r;else if(!r)a=l;else a=u7(r);if(p){if(p.L===n)p.L=a;else p.R=a;}else{this._=a;}if(l&&r){b=a.C;a.C=n.C;a.L=l;l.U=a;if(a!==r){p=a.U;a.U=n.U;n=a.R;p.L=n;a.R=r;r.U=a;}else{a.U=p;p=a;n=a.R;}}else{b=n.C;n=a;}if(n)n.U=p;if(b)return;if(n&&n.C){n.C=false;return;}do{if(n===this._)break;if(n===p.L){s=p.R;if(s.C){s.C=false;p.C=true;s7(this,p);s=p.R;}if(s.L&&s.L.C||s.R&&s.R.C){if(!s.R||!s.R.C){s.L.C=false;s.C=true;t7(this,s);s=p.R;}s.C=p.C;p.C=s.R.C=false;s7(this,p);n=this._;break;}}else{s=p.L;if(s.C){s.C=false;p.C=true;t7(this,p);s=p.L;}if(s.L&&s.L.C||s.R&&s.R.C){if(!s.L||!s.L.C){s.R.C=false;s.C=true;s7(this,s);s=p.L;}s.C=p.C;p.C=s.L.C=false;t7(this,p);n=this._;break;}}s.C=true;n=p;p=p.U;}while(!n.C);if(n)n.C=false;}};function s7(t,n){var p=n,q=n.R,a=p.U;if(a){if(a.L===p)a.L=q;else a.R=q;}else{t._=q;}q.U=a;p.U=q;p.R=q.L;if(p.R)p.R.U=p;q.L=p;}function t7(t,n){var p=n,q=n.L,a=p.U;if(a){if(a.L===p)a.L=q;else a.R=q;}else{t._=q;}q.U=a;p.U=q;p.L=q.R;if(p.L)p.L.U=p;q.R=p;}function u7(n){while(n.L)n=n.L;return n;}function v7(s,b){var a=s.sort(w7).pop(),x,y,c;R6=[];S6=new Array(s.length);T6=new q7();W6=new q7();while(true){c=V6;if(a&&(!c||a.y<c.y||a.y===c.y&&a.x<c.x)){if(a.x!==x||a.y!==y){S6[a.i]=new d7(a);a7(a);x=a.x,y=a.y;}a=s.pop();}else if(c){_6(c.arc);}else{break;}}if(b)j7(b),e7(b);var d={cells:S6,edges:R6};T6=W6=R6=S6=null;return d;}function w7(a,b){return b.y-a.y||b.x-a.x;}D.geom.voronoi=function(p){var x=J6,y=K6,f=x,a=y,c=x7;if(p)return v(p);function v(d){var g=new Array(d.length),h=c[0][0],j=c[0][1],k=c[1][0],l=c[1][1];v7(b(d),c).cells.forEach(function(m,i){var n=m.edges,o=m.site,q=g[i]=n.length?n.map(function(e){var s=e.start();return[s.x,s.y];}):o.x>=h&&o.x<=k&&o.y>=j&&o.y<=l?[[h,l],[k,l],[k,j],[h,j]]:[];q.point=d[i];});return g;}function b(g){return g.map(function(d,i){return{x:Math.round(f(d,i)/ε)*ε,y:Math.round(a(d,i)/ε)*ε,i:i};});}v.links=function(d){return v7(b(d)).edges.filter(function(g){return g.l&&g.r;}).map(function(g){return{source:d[g.l.i],target:d[g.r.i]};});};v.triangles=function(d){var t=[];v7(b(d)).cells.forEach(function(g,i){var s=g.site,h=g.edges.sort(f7),j=-1,m=h.length,k,l,n=h[m-1].edge,o=n.l===s?n.r:n.l;while(++j<m){k=n;l=o;n=h[j].edge;o=n.l===s?n.r:n.l;if(i<l.i&&i<o.i&&y7(s,l,o)<0){t.push([d[i],d[l.i],d[o.i]]);}}});return t;};v.x=function(_){return arguments.length?(f=J3(x=_),v):x;};v.y=function(_){return arguments.length?(a=J3(y=_),v):y;};v.clipExtent=function(_){if(!arguments.length)return c===x7?null:c;c=_==null?x7:_;return v;};v.size=function(_){if(!arguments.length)return c===x7?null:c&&c[1];return v.clipExtent(_&&[[0,0],_]);};return v;};var x7=[[-1e6,-1e6],[1e6,1e6]];function y7(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y);}D.geom.delaunay=function(v){return D.geom.voronoi().triangles(v);};D.geom.quadtree=function(p,a,b,c,g){var x=J6,y=K6,h;if(h=arguments.length){x=z7;y=A7;if(h===3){g=b;c=a;b=a=0;}return q(p);}function q(j){var d,k=J3(x),l=J3(y),m,o,i,n,r,s,t,u;if(a!=null){r=a,s=b,t=c,u=g;}else{t=u=-(r=s=Infinity);m=[],o=[];n=j.length;if(h)for(i=0;i<n;++i){d=j[i];if(d.x<r)r=d.x;if(d.y<s)s=d.y;if(d.x>t)t=d.x;if(d.y>u)u=d.y;m.push(d.x);o.push(d.y);}else for(i=0;i<n;++i){var v=+k(d=j[i],i),w=+l(d,i);if(v<r)r=v;if(w<s)s=w;if(v>t)t=v;if(w>u)u=w;m.push(v);o.push(w);}}var z=t-r,A=u-s;if(z>A)u=s+z;else t=r+A;function B(n,d,x,y,a,b,c,g){if(isNaN(x)||isNaN(y))return;if(n.leaf){var f=n.x,G=n.y;if(f!=null){if(h1(f-x)+h1(G-y)<.01){C(n,d,x,y,a,b,c,g);}else{var H=n.point;n.x=n.y=n.point=null;C(n,H,f,G,a,b,c,g);C(n,d,x,y,a,b,c,g);}}else{n.x=x,n.y=y,n.point=d;}}else{C(n,d,x,y,a,b,c,g);}}function C(n,d,x,y,a,b,c,g){var f=(a+c)*.5,G=(b+g)*.5,H=x>=f,I=y>=G,i=(I<<1)+H;n.leaf=false;n=n.nodes[i]||(n.nodes[i]=B7());if(H)a=f;else c=f;if(I)b=G;else g=G;B(n,d,x,y,a,b,c,g);}var F=B7();F.add=function(d){B(F,d,+k(d,++i),+l(d,i),r,s,t,u);};F.visit=function(f){C7(f,F,r,s,t,u);};i=-1;if(a==null){while(++i<n){B(F,j[i],m[i],o[i],r,s,t,u);}--i;}else j.forEach(F.add);m=o=j=d=null;return F;}q.x=function(_){return arguments.length?(x=_,q):x;};q.y=function(_){return arguments.length?(y=_,q):y;};q.extent=function(_){if(!arguments.length)return a==null?null:[[a,b],[c,g]];if(_==null)a=b=c=g=null;else a=+_[0][0],b=+_[0][1],c=+_[1][0],g=+_[1][1];return q;};q.size=function(_){if(!arguments.length)return a==null?null:[c-a,g-b];if(_==null)a=b=c=g=null;else a=b=0,c=+_[0],g=+_[1];return q;};return q;};function z7(d){return d.x;}function A7(d){return d.y;}function B7(){return{leaf:true,nodes:[],point:null,x:null,y:null};}function C7(f,n,x,y,a,b){if(!f(n,x,y,a,b)){var s=(x+a)*.5,c=(y+b)*.5,d=n.nodes;if(d[0])C7(f,d[0],x,y,s,c);if(d[1])C7(f,d[1],s,y,a,c);if(d[2])C7(f,d[2],x,c,s,b);if(d[3])C7(f,d[3],s,c,a,b);}}D.interpolateRgb=D7;function D7(a,b){a=D.rgb(a);b=D.rgb(b);var c=a.r,d=a.g,f=a.b,g=b.r-c,h=b.g-d,i=b.b-f;return function(t){return"#"+C3(Math.round(c+g*t))+C3(Math.round(d+h*t))+C3(Math.round(f+i*t));};}D.interpolateObject=E7;function E7(a,b){var i={},c={},k;for(k in a){if(k in b){i[k]=J7(a[k],b[k]);}else{c[k]=a[k];}}for(k in b){if(!(k in a)){c[k]=b[k];}}return function(t){for(k in i)c[k]=i[k](t);return c;};}D.interpolateNumber=F7;function F7(a,b){b-=a=+a;return function(t){return a+b*t;};}D.interpolateString=G7;function G7(a,b){var c=H7.lastIndex=I7.lastIndex=0,d,f,g,i=-1,s=[],q=[];a=a+"",b=b+"";while((d=H7.exec(a))&&(f=I7.exec(b))){if((g=f.index)>c){g=b.slice(c,g);if(s[i])s[i]+=g;else s[++i]=g;}if((d=d[0])===(f=f[0])){if(s[i])s[i]+=f;else s[++i]=f;}else{s[++i]=null;q.push({i:i,x:F7(d,f)});}c=I7.lastIndex;}if(c<b.length){g=b.slice(c);if(s[i])s[i]+=g;else s[++i]=g;}return s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+"";}):function(){return b;}:(b=q.length,function(t){for(var i=0,o;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("");});}var H7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I7=new RegExp(H7.source,"g");D.interpolate=J7;function J7(a,b){var i=D.interpolators.length,f;while(--i>=0&&!(f=D.interpolators[i](a,b)));return f;}D.interpolators=[function(a,b){var t=typeof b;return(t==="string"?I3.has(b)||/^(#|rgb\(|hsl\()/.test(b)?D7:G7:b instanceof b3?D7:Array.isArray(b)?K7:t==="object"&&isNaN(b)?E7:F7)(a,b);}];D.interpolateArray=K7;function K7(a,b){var x=[],c=[],n=a.length,d=b.length,f=Math.min(a.length,b.length),i;for(i=0;i<f;++i)x.push(J7(a[i],b[i]));for(;i<n;++i)c[i]=a[i];for(;i<d;++i)c[i]=b[i];return function(t){for(i=0;i<f;++i)c[i]=x[i](t);return c;};}var L7=function(){return K3;};var M7=D.map({linear:L7,poly:U7,quad:function(){return R7;},cubic:function(){return S7;},sin:function(){return V7;},exp:function(){return W7;},circle:function(){return X7;},elastic:Y7,back:Z7,bounce:function(){return $7;}});var N7=D.map({"in":K3,out:P7,"in-out":Q7,"out-in":function(f){return Q7(P7(f));}});D.ease=function(n){var i=n.indexOf("-"),t=i>=0?n.slice(0,i):n,m=i>=0?n.slice(i+1):"in";t=M7.get(t)||L7;m=N7.get(m)||K3;return O7(m(t.apply(null,E.call(arguments,1))));};function O7(f){return function(t){return t<=0?0:t>=1?1:f(t);};}function P7(f){return function(t){return 1-f(1-t);};}function Q7(f){return function(t){return.5*(t<.5?f(2*t):2-f(2-2*t));};}function R7(t){return t*t;}function S7(t){return t*t*t;}function T7(t){if(t<=0)return 0;if(t>=1)return 1;var a=t*t,b=a*t;return 4*(t<.5?b:3*(t-a)+b-.75);}function U7(e){return function(t){return Math.pow(t,e);};}function V7(t){return 1-Math.cos(t*M2);}function W7(t){return Math.pow(2,10*(t-1));}function X7(t){return 1-Math.sqrt(1-t*t);}function Y7(a,p){var s;if(arguments.length<2)p=.45;if(arguments.length)s=p/τ*Math.asin(1/a);else a=1,s=p/4;return function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*τ/p);};}function Z7(s){if(!s)s=1.70158;return function(t){return t*t*((s+1)*t-s);};}function $7(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375;}D.interpolateHcl=_7;function _7(a,b){a=D.hcl(a);b=D.hcl(b);var c=a.h,d=a.c,f=a.l,g=b.h-c,h=b.c-d,i=b.l-f;if(isNaN(h))h=0,d=isNaN(d)?b.c:d;if(isNaN(g))g=0,c=isNaN(c)?b.h:c;else if(g>180)g-=360;else if(g<-180)g+=360;return function(t){return h3(c+g*t,d+h*t,f+i*t)+"";};}D.interpolateHsl=a8;function a8(a,b){a=D.hsl(a);b=D.hsl(b);var c=a.h,d=a.s,f=a.l,g=b.h-c,h=b.s-d,i=b.l-f;if(isNaN(h))h=0,d=isNaN(d)?b.s:d;if(isNaN(g))g=0,c=isNaN(c)?b.h:c;else if(g>180)g-=360;else if(g<-180)g+=360;return function(t){return e3(c+g*t,d+h*t,f+i*t)+"";};}D.interpolateLab=b8;function b8(a,b){a=D.lab(a);b=D.lab(b);var c=a.l,d=a.a,f=a.b,g=b.l-c,h=b.a-d,i=b.b-f;return function(t){return o3(c+g*t,d+h*t,f+i*t)+"";};}D.interpolateRound=c8;function c8(a,b){b-=a;return function(t){return Math.round(a+b*t);};}D.transform=function(s){var g=K.createElementNS(D.ns.prefix.svg,"g");return(D.transform=function(s){if(s!=null){g.setAttribute("transform",s);var t=g.transform.baseVal.consolidate();}return new d8(t?t.matrix:h8);})(s);};function d8(m){var r=[m.a,m.b],a=[m.c,m.d],k=f8(r),b=e8(r,a),c=f8(g8(a,r,-b))||0;if(r[0]*a[1]<a[0]*r[1]){r[0]*=-1;r[1]*=-1;k*=-1;b*=-1;}this.rotate=(k?Math.atan2(r[1],r[0]):Math.atan2(-a[0],a[1]))*P2;this.translate=[m.e,m.f];this.scale=[k,c];this.skew=c?Math.atan2(b,c)*P2:0;}d8.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")";};function e8(a,b){return a[0]*b[0]+a[1]*b[1];}function f8(a){var k=Math.sqrt(e8(a,a));if(k){a[0]/=k;a[1]/=k;}return k;}function g8(a,b,k){a[0]+=k*b[0];a[1]+=k*b[1];return a;}var h8={a:1,b:0,c:0,d:1,e:0,f:0};D.interpolateTransform=i8;function i8(a,b){var s=[],q=[],n,A=D.transform(a),B=D.transform(b),c=A.translate,d=B.translate,r=A.rotate,f=B.rotate,w=A.skew,g=B.skew,k=A.scale,h=B.scale;if(c[0]!=d[0]||c[1]!=d[1]){s.push("translate(",null,",",null,")");q.push({i:1,x:F7(c[0],d[0])},{i:3,x:F7(c[1],d[1])});}else if(d[0]||d[1]){s.push("translate("+d+")");}else{s.push("");}if(r!=f){if(r-f>180)f+=360;else if(f-r>180)r+=360;q.push({i:s.push(s.pop()+"rotate(",null,")")-2,x:F7(r,f)});}else if(f){s.push(s.pop()+"rotate("+f+")");}if(w!=g){q.push({i:s.push(s.pop()+"skewX(",null,")")-2,x:F7(w,g)});}else if(g){s.push(s.pop()+"skewX("+g+")");}if(k[0]!=h[0]||k[1]!=h[1]){n=s.push(s.pop()+"scale(",null,",",null,")");q.push({i:n-4,x:F7(k[0],h[0])},{i:n-2,x:F7(k[1],h[1])});}else if(h[0]!=1||h[1]!=1){s.push(s.pop()+"scale("+h+")");}n=q.length;return function(t){var i=-1,o;while(++i<n)s[(o=q[i]).i]=o.x(t);return s.join("");};}function j8(a,b){b=b-(a=+a)?1/(b-a):0;return function(x){return(x-a)*b;};}function k8(a,b){b=b-(a=+a)?1/(b-a):0;return function(x){return Math.max(0,Math.min(1,(x-a)*b));};}D.layout={};D.layout.bundle=function(){return function(l){var p=[],i=-1,n=l.length;while(++i<n)p.push(l8(l[i]));return p;};};function l8(l){var s=l.source,a=l.target,b=n8(s,a),p=[s];while(s!==b){s=s.parent;p.push(s);}var k=p.length;while(a!==b){p.splice(k,0,a);a=a.parent;}return p;}function m8(n){var a=[],p=n.parent;while(p!=null){a.push(n);n=p;p=p.parent;}a.push(n);return a;}function n8(a,b){if(a===b)return a;var n=m8(a),N=m8(b),c=n.pop(),d=N.pop(),s=null;while(c===d){s=c;c=n.pop();d=N.pop();}return s;}D.layout.chord=function(){var c={},f,g,m,n,p=0,s,h,l;function r(){var q={},t=[],u=D.range(n),w=[],k,x,y,i,j;f=[];g=[];k=0,i=-1;while(++i<n){x=0,j=-1;while(++j<n){x+=m[i][j];}t.push(x);w.push(D.range(n));k+=x;}if(s){u.sort(function(a,b){return s(t[a],t[b]);});}if(h){w.forEach(function(d,i){d.sort(function(a,b){return h(m[i][a],m[i][b]);});});}k=(τ-p*n)/k;x=0,i=-1;while(++i<n){y=x,j=-1;while(++j<n){var z=u[i],A=w[z][j],v=m[z][A],B=x,C=x+=v*k;q[z+"-"+A]={index:z,subindex:A,startAngle:B,endAngle:C,value:v};}g[z]={index:z,startAngle:y,endAngle:x,value:(x-y)/k};x+=p;}i=-1;while(++i<n){j=i-1;while(++j<n){var F=q[i+"-"+j],G=q[j+"-"+i];if(F.value||G.value){f.push(F.value<G.value?{source:G,target:F}:{source:F,target:G});}}}if(l)o();}function o(){f.sort(function(a,b){return l((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2);});}c.matrix=function(x){if(!arguments.length)return m;n=(m=x)&&m.length;f=g=null;return c;};c.padding=function(x){if(!arguments.length)return p;p=x;f=g=null;return c;};c.sortGroups=function(x){if(!arguments.length)return s;s=x;f=g=null;return c;};c.sortSubgroups=function(x){if(!arguments.length)return h;h=x;f=null;return c;};c.sortChords=function(x){if(!arguments.length)return l;l=x;if(f)o();return c;};c.chords=function(){if(!f)r();return f;};c.groups=function(){if(!g)r();return g;};return c;};D.layout.force=function(){var f={},a=D.dispatch("start","tick","end"),b=[1,1],c,g,p=.9,r=t8,u=u8,v=-30,z=v8,A=.1,B=.64,C=[],F=[],G,H,I;function L(n){return function(q,x,_,d){if(q.point!==n){var h=q.cx-n.x,i=q.cy-n.y,j=d-x,l=h*h+i*i;if(j*j/B<l){if(l<z){var k=q.charge/l;n.px-=h*k;n.py-=i*k;}return true;}if(q.point&&l&&l<z){var k=q.pointCharge/l;n.px-=h*k;n.py-=i*k;}}return!q.charge;};}f.tick=function(){if((g*=.99)<.005){a.end({type:"end",alpha:g=0});return true;}var n=C.length,m=F.length,q,i,o,s,t,l,k,x,y;for(i=0;i<m;++i){o=F[i];s=o.source;t=o.target;x=t.x-s.x;y=t.y-s.y;if(l=x*x+y*y){l=g*H[i]*((l=Math.sqrt(l))-G[i])/l;x*=l;y*=l;t.x-=x*(k=s.weight/(t.weight+s.weight));t.y-=y*k;s.x+=x*(k=1-k);s.y+=y*k;}}if(k=g*A){x=b[0]/2;y=b[1]/2;i=-1;if(k)while(++i<n){o=C[i];o.x+=(x-o.x)*k;o.y+=(y-o.y)*k;}}if(v){s8(q=D.geom.quadtree(C),g,I);i=-1;while(++i<n){if(!(o=C[i]).fixed){q.visit(L(o));}}}i=-1;while(++i<n){o=C[i];if(o.fixed){o.x=o.px;o.y=o.py;}else{o.x-=(o.px-(o.px=o.x))*p;o.y-=(o.py-(o.py=o.y))*p;}}a.tick({type:"tick",alpha:g});};f.nodes=function(x){if(!arguments.length)return C;C=x;return f;};f.links=function(x){if(!arguments.length)return F;F=x;return f;};f.size=function(x){if(!arguments.length)return b;b=x;return f;};f.linkDistance=function(x){if(!arguments.length)return r;r=typeof x==="function"?x:+x;return f;};f.distance=f.linkDistance;f.linkStrength=function(x){if(!arguments.length)return u;u=typeof x==="function"?x:+x;return f;};f.friction=function(x){if(!arguments.length)return p;p=+x;return f;};f.charge=function(x){if(!arguments.length)return v;v=typeof x==="function"?x:+x;return f;};f.chargeDistance=function(x){if(!arguments.length)return Math.sqrt(z);z=x*x;return f;};f.gravity=function(x){if(!arguments.length)return A;A=+x;return f;};f.theta=function(x){if(!arguments.length)return Math.sqrt(B);B=x*x;return f;};f.alpha=function(x){if(!arguments.length)return g;x=+x;if(g){if(x>0)g=x;else g=0;}else if(x>0){a.start({type:"start",alpha:g=x});D.timer(f.tick);}return f;};f.start=function(){var i,n=C.length,m=F.length,w=b[0],h=b[1],d,o;for(i=0;i<n;++i){(o=C[i]).index=i;o.weight=0;}for(i=0;i<m;++i){o=F[i];if(typeof o.source=="number")o.source=C[o.source];if(typeof o.target=="number")o.target=C[o.target];++o.source.weight;++o.target.weight;}for(i=0;i<n;++i){o=C[i];if(isNaN(o.x))o.x=k("x",w);if(isNaN(o.y))o.y=k("y",h);if(isNaN(o.px))o.px=o.x;if(isNaN(o.py))o.py=o.y;}G=[];if(typeof r==="function")for(i=0;i<m;++i)G[i]=+r.call(this,F[i],i);else for(i=0;i<m;++i)G[i]=r;H=[];if(typeof u==="function")for(i=0;i<m;++i)H[i]=+u.call(this,F[i],i);else for(i=0;i<m;++i)H[i]=u;I=[];if(typeof v==="function")for(i=0;i<n;++i)I[i]=+v.call(this,C[i],i);else for(i=0;i<n;++i)I[i]=v;function k(l,b){if(!d){d=new Array(n);for(j=0;j<n;++j){d[j]=[];}for(j=0;j<m;++j){var o=F[j];d[o.source.index].push(o.target);d[o.target.index].push(o.source);}}var q=d[i],j=-1,m=q.length,x;while(++j<m)if(!isNaN(x=q[j][l]))return x;return Math.random()*b;}return f.resume();};f.resume=function(){return f.alpha(.1);};f.stop=function(){return f.alpha(0);};f.drag=function(){if(!c)c=D.behavior.drag().origin(K3).on("dragstart.force",o8).on("drag.force",N).on("dragend.force",p8);if(!arguments.length)return c;this.on("mouseover.force",q8).on("mouseout.force",r8).call(c);};function N(d){d.px=D.event.x,d.py=D.event.y;f.resume();}return D.rebind(f,a,"on");};function o8(d){d.fixed|=2;}function p8(d){d.fixed&=~6;}function q8(d){d.fixed|=4;d.px=d.x,d.py=d.y;}function r8(d){d.fixed&=~4;}function s8(q,a,b){var d=0,f=0;q.charge=0;if(!q.leaf){var g=q.nodes,n=g.length,i=-1,c;while(++i<n){c=g[i];if(c==null)continue;s8(c,a,b);q.charge+=c.charge;d+=c.charge*c.cx;f+=c.charge*c.cy;}}if(q.point){if(!q.leaf){q.point.x+=Math.random()-.5;q.point.y+=Math.random()-.5;}var k=a*b[q.point.index];q.charge+=q.pointCharge=k;d+=k*q.point.x;f+=k*q.point.y;}q.cx=d/q.charge;q.cy=f/q.charge;}var t8=20,u8=1,v8=Infinity;D.layout.hierarchy=function(){var s=B8,c=z8,v=A8;function h(r){var a=[r],b=[],d;r.depth=0;while((d=a.pop())!=null){b.push(d);if((f=c.call(h,d,d.depth))&&(n=f.length)){var n,f,g;while(--n>=0){a.push(g=f[n]);g.parent=d;g.depth=d.depth+1;}if(v)d.value=0;d.children=f;}else{if(v)d.value=+v.call(h,d,d.depth)||0;delete d.children;}}y8(r,function(d){var f,p;if(s&&(f=d.children))f.sort(s);if(v&&(p=d.parent))p.value+=d.value;});return b;}h.sort=function(x){if(!arguments.length)return s;s=x;return h;};h.children=function(x){if(!arguments.length)return c;c=x;return h;};h.value=function(x){if(!arguments.length)return v;v=x;return h;};h.revalue=function(r){if(v){x8(r,function(n){if(n.children)n.value=0;});y8(r,function(n){var p;if(!n.children)n.value=+v.call(h,n,n.depth)||0;if(p=n.parent)p.value+=n.value;});}return r;};return h;};function w8(o,h){D.rebind(o,h,"sort","children","value");o.nodes=o;o.links=C8;return o;}function x8(a,c){var b=[a];while((a=b.pop())!=null){c(a);if((d=a.children)&&(n=d.length)){var n,d;while(--n>=0)b.push(d[n]);}}}function y8(a,c){var b=[a],d=[];while((a=b.pop())!=null){d.push(a);if((f=a.children)&&(n=f.length)){var i=-1,n,f;while(++i<n)b.push(f[i]);}}while((a=d.pop())!=null){c(a);}}function z8(d){return d.children;}function A8(d){return d.value;}function B8(a,b){return b.value-a.value;}function C8(n){return D.merge(n.map(function(p){return(p.children||[]).map(function(c){return{source:p,target:c};});}));}D.layout.partition=function(){var h=D.layout.hierarchy(),s=[1,1];function p(f,x,g,j){var k=f.children;f.x=x;f.y=f.depth*j;f.dx=g;f.dy=j;if(k&&(n=k.length)){var i=-1,n,c,d;g=f.value?g/f.value:0;while(++i<n){p(c=k[i],x,d=c.value*g,j);x+=d;}}}function a(c){var f=c.children,d=0;if(f&&(n=f.length)){var i=-1,n;while(++i<n)d=Math.max(d,a(f[i]));}return 1+d;}function b(d,i){var n=h.call(this,d,i);p(n[0],0,s[0],s[1]/a(n[0]));return n;}b.size=function(x){if(!arguments.length)return s;s=x;return b;};return w8(b,h);};D.layout.pie=function(){var v=Number,s=D8,b=0,c=τ;function p(f){var g=f.map(function(d,i){return+v.call(p,d,i);});var a=+(typeof b==="function"?b.apply(this,arguments):b);var k=((typeof c==="function"?c.apply(this,arguments):c)-a)/D.sum(g);var h=D.range(f.length);if(s!=null)h.sort(s===D8?function(i,j){return g[j]-g[i];}:function(i,j){return s(f[i],f[j]);});var l=[];h.forEach(function(i){var d;l[i]={data:f[i],value:d=g[i],startAngle:a,endAngle:a+=d*k};});return l;}p.value=function(x){if(!arguments.length)return v;v=x;return p;};p.sort=function(x){if(!arguments.length)return s;s=x;return p;};p.startAngle=function(x){if(!arguments.length)return b;b=x;return p;};p.endAngle=function(x){if(!arguments.length)return c;c=x;return p;};return p;};var D8={};D.layout.stack=function(){var a=K3,b=J8,c=K8,f=G8,x=E8,y=F8;function s(g,h){var k=g.map(function(d,i){return a.call(s,d,i);});var p=k.map(function(d){return d.map(function(v,i){return[x.call(s,v,i),y.call(s,v,i)];});});var l=b.call(s,p,h);k=D.permute(k,l);p=D.permute(p,l);var q=c.call(s,p,h);var n=k.length,m=k[0].length,i,j,o;for(j=0;j<m;++j){f.call(s,k[0][j],o=q[j],p[0][j][1]);for(i=1;i<n;++i){f.call(s,k[i][j],o+=p[i-1][j][1],p[i][j][1]);}}return g;}s.values=function(x){if(!arguments.length)return a;a=x;return s;};s.order=function(x){if(!arguments.length)return b;b=typeof x==="function"?x:H8.get(x)||J8;return s;};s.offset=function(x){if(!arguments.length)return c;c=typeof x==="function"?x:I8.get(x)||K8;return s;};s.x=function(z){if(!arguments.length)return x;x=z;return s;};s.y=function(z){if(!arguments.length)return y;y=z;return s;};s.out=function(z){if(!arguments.length)return f;f=z;return s;};return s;};function E8(d){return d.x;}function F8(d){return d.y;}function G8(d,a,y){d.y0=a;d.y=y;}var H8=D.map({"inside-out":function(d){var n=d.length,i,j,m=d.map(L8),s=d.map(M8),c=D.range(n).sort(function(a,b){return m[a]-m[b];}),t=0,f=0,g=[],h=[];for(i=0;i<n;++i){j=c[i];if(t<f){t+=s[j];g.push(j);}else{f+=s[j];h.push(j);}}return h.reverse().concat(g);},reverse:function(d){return D.range(d.length).reverse();},"default":J8});var I8=D.map({silhouette:function(d){var n=d.length,m=d[0].length,s=[],a=0,i,j,o,y=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=d[i][j][1];if(o>a)a=o;s.push(o);}for(j=0;j<m;++j){y[j]=(a-s[j])/2;}return y;},wiggle:function(d){var n=d.length,x=d[0],m=x.length,i,j,k,s,a,b,c,o,f,y=[];y[0]=o=f=0;for(j=1;j<m;++j){for(i=0,s=0;i<n;++i)s+=d[i][j][1];for(i=0,a=0,c=x[j][0]-x[j-1][0];i<n;++i){for(k=0,b=(d[i][j][1]-d[i][j-1][1])/(2*c);k<i;++k){b+=(d[k][j][1]-d[k][j-1][1])/c;}a+=b*d[i][j][1];}y[j]=o-=s?a/s*c:0;if(o<f)f=o;}for(j=0;j<m;++j)y[j]-=f;return y;},expand:function(d){var n=d.length,m=d[0].length,k=1/n,i,j,o,y=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=d[i][j][1];if(o)for(i=0;i<n;i++)d[i][j][1]/=o;else for(i=0;i<n;i++)d[i][j][1]=k;}for(j=0;j<m;++j)y[j]=0;return y;},zero:K8});function J8(d){return D.range(d.length);}function K8(d){var j=-1,m=d[0].length,y=[];while(++j<m)y[j]=0;return y;}function L8(a){var i=1,j=0,v=a[0][1],k,n=a.length;for(;i<n;++i){if((k=a[i][1])>v){j=i;v=k;}}return j;}function M8(d){return d.reduce(N8,0);}function N8(p,d){return p+d[1];}D.layout.histogram=function(){var f=true,v=Number,r=Q8,b=O8;function h(d,i){var a=[],c=d.map(v,this),g=r.call(this,c,i),t=b.call(this,g,c,i),j,i=-1,n=c.length,m=t.length-1,k=f?1:1/n,x;while(++i<m){j=a[i]=[];j.dx=t[i+1]-(j.x=t[i]);j.y=0;}if(m>0){i=-1;while(++i<n){x=c[i];if(x>=g[0]&&x<=g[1]){j=a[D.bisect(t,x,1,m)-1];j.y+=k;j.push(d[i]);}}}return a;}h.value=function(x){if(!arguments.length)return v;v=x;return h;};h.range=function(x){if(!arguments.length)return r;r=J3(x);return h;};h.bins=function(x){if(!arguments.length)return b;b=typeof x==="number"?function(a){return P8(a,x);}:J3(x);return h;};h.frequency=function(x){if(!arguments.length)return f;f=!!x;return h;};return h;};function O8(r,v){return P8(r,Math.ceil(Math.log(v.length)/Math.LN2+1));}function P8(r,n){var x=-1,b=+r[0],m=(r[1]-b)/n,f=[];while(++x<=n)f[x]=m*x+b;return f;}function Q8(v){return[D.min(v),D.max(v)];}D.layout.pack=function(){var a=D.layout.hierarchy().sort(R8),p=0,s=[1,1],b;function c(d,i){var n=a.call(this,d,i),f=n[0],w=s[0],h=s[1],r=b==null?Math.sqrt:typeof b==="function"?b:function(){return b;};f.x=f.y=0;y8(f,function(d){d.r=+r(d.value);});y8(f,V8);if(p){var g=p*(b?1:Math.max(2*f.r/w,2*f.r/h))/2;y8(f,function(d){d.r+=g;});y8(f,V8);y8(f,function(d){d.r-=g;});}Y8(f,w/2,h/2,b?1:1/Math.max(2*f.r/w,2*f.r/h));return n;}c.size=function(_){if(!arguments.length)return s;s=_;return c;};c.radius=function(_){if(!arguments.length)return b;b=_==null||typeof _==="function"?_:+_;return c;};c.padding=function(_){if(!arguments.length)return p;p=+_;return c;};return w8(c,a);};function R8(a,b){return a.value-b.value;}function S8(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b;}function T8(a,b){a._pack_next=b;b._pack_prev=a;}function U8(a,b){var d=b.x-a.x,c=b.y-a.y,f=a.r+b.r;return.999*f*f>d*d+c*c;}function V8(d){if(!(f=d.children)||!(n=f.length))return;var f,x=Infinity,g=-Infinity,y=Infinity,h=-Infinity,a,b,c,i,j,k,n;function l(d){x=Math.min(d.x-d.r,x);g=Math.max(d.x+d.r,g);y=Math.min(d.y-d.r,y);h=Math.max(d.y+d.r,h);}f.forEach(W8);a=f[0];a.x=-a.r;a.y=0;l(a);if(n>1){b=f[1];b.x=b.r;b.y=0;l(b);if(n>2){c=f[2];Z8(a,b,c);l(c);S8(a,c);a._pack_prev=c;S8(c,b);b=a._pack_next;for(i=3;i<n;i++){Z8(a,b,c=f[i]);var m=0,s=1,o=1;for(j=b._pack_next;j!==b;j=j._pack_next,s++){if(U8(j,c)){m=1;break;}}if(m==1){for(k=a._pack_prev;k!==j._pack_prev;k=k._pack_prev,o++){if(U8(k,c)){break;}}}if(m){if(s<o||s==o&&b.r<a.r)T8(a,b=j);else T8(a=k,b);i--;}else{S8(a,c);b=c;l(c);}}}}var p=(x+g)/2,q=(y+h)/2,r=0;for(i=0;i<n;i++){c=f[i];c.x-=p;c.y-=q;r=Math.max(r,c.r+Math.sqrt(c.x*c.x+c.y*c.y));}d.r=r;f.forEach(X8);}function W8(n){n._pack_next=n._pack_prev=n;}function X8(n){delete n._pack_next;delete n._pack_prev;}function Y8(a,x,y,k){var c=a.children;a.x=x+=k*a.x;a.y=y+=k*a.y;a.r*=k;if(c){var i=-1,n=c.length;while(++i<n)Y8(c[i],x,y,k);}}function Z8(a,b,c){var d=a.r+c.r,f=b.x-a.x,g=b.y-a.y;if(d&&(f||g)){var h=b.r+c.r,i=f*f+g*g;h*=h;d*=d;var x=.5+(d-h)/(2*i),y=Math.sqrt(Math.max(0,2*h*(d+i)-(d-=i)*d-h*h))/(2*i);c.x=a.x+x*f+y*g;c.y=a.y+x*g-y*f;}else{c.x=a.x+d;c.y=a.y;}}D.layout.tree=function(){var h=D.layout.hierarchy().sort(null).value(null),s=$8,a=[1,1],b=null;function t(d,i){var n=h.call(this,d,i),r=n[0],l=c(r);y8(l,f),l.parent.m=-l.z;x8(l,g);if(b)x8(r,k);else{var m=r,o=r,p=r;x8(r,function(w){if(w.x<m.x)m=w;if(w.x>o.x)o=w;if(w.depth>p.depth)p=w;});var q=s(m,o)/2-m.x,u=a[0]/(o.x+s(o,m)/2+q),v=a[1]/(p.depth||1);x8(r,function(w){w.x=(w.x+q)*u;w.y=w.depth*v;});}return n;}function c(r){var d={A:null,children:[r]},q=[d],l;while((l=q.pop())!=null){for(var m=l.children,o,i=0,n=m.length;i<n;++i){q.push((m[i]=o={_:m[i],parent:l,children:(o=m[i].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=o);}}return d.children[0];}function f(v){var d=v.children,i=v.parent.children,w=v.i?i[v.i-1]:null;if(d.length){c9(v);var m=(d[0].z+d[d.length-1].z)/2;if(w){v.z=w.z+s(v._,w._);v.m=v.z-m;}else{v.z=m;}}else if(w){v.z=w.z+s(v._,w._);}v.parent.A=j(v,w,v.parent.A||i[0]);}function g(v){v._.x=v.z+v.parent.m;v.m+=v.parent.m;}function j(v,w,d){if(w){var i=v,l=v,m=w,n=i.parent.children[0],o=i.m,p=l.m,q=m.m,r=n.m,u;while(m=a9(m),i=_8(i),m&&i){n=_8(n);l=a9(l);l.a=v;u=m.z+q-i.z-o+s(m._,i._);if(u>0){b9(d9(m,v,d),v,u);o+=u;p+=u;}q+=m.m;o+=i.m;r+=n.m;p+=l.m;}if(m&&!a9(l)){l.t=m;l.m+=q-p;}if(i&&!_8(n)){n.t=i;n.m+=o-r;d=v;}}return d;}function k(n){n.x*=a[0];n.y=n.depth*a[1];}t.separation=function(x){if(!arguments.length)return s;s=x;return t;};t.size=function(x){if(!arguments.length)return b?null:a;b=(a=x)==null?k:null;return t;};t.nodeSize=function(x){if(!arguments.length)return b?a:null;b=(a=x)==null?null:k;return t;};return w8(t,h);};function $8(a,b){return a.parent==b.parent?1:2;}function _8(v){var c=v.children;return c.length?c[0]:v.t;}function a9(v){var c=v.children,n;return(n=c.length)?c[n-1]:v.t;}function b9(w,a,s){var c=s/(a.i-w.i);a.c-=c;a.s+=s;w.c+=c;a.z+=s;a.m+=s;}function c9(v){var s=0,c=0,a=v.children,i=a.length,w;while(--i>=0){w=a[i];w.z+=s;w.m+=s;s+=w.s+(c+=w.c);}}function d9(a,v,b){return a.a.parent===v.parent?a.a:b;}D.layout.cluster=function(){var h=D.layout.hierarchy().sort(null).value(null),s=$8,a=[1,1],n=false;function c(d,i){var b=h.call(this,d,i),r=b[0],p,x=0;y8(r,function(k){var m=k.children;if(m&&m.length){k.x=f9(m);k.y=e9(m);}else{k.x=p?x+=s(k,p):0;k.y=0;p=k;}});var l=g9(r),f=h9(r),g=l.x-s(l,f)/2,j=f.x+s(f,l)/2;y8(r,n?function(k){k.x=(k.x-r.x)*a[0];k.y=(r.y-k.y)*a[1];}:function(k){k.x=(k.x-g)/(j-g)*a[0];k.y=(1-(r.y?k.y/r.y:1))*a[1];});return b;}c.separation=function(x){if(!arguments.length)return s;s=x;return c;};c.size=function(x){if(!arguments.length)return n?null:a;n=(a=x)==null;return c;};c.nodeSize=function(x){if(!arguments.length)return n?a:null;n=(a=x)!=null;return c;};return w8(c,h);};function e9(c){return 1+D.max(c,function(a){return a.y;});}function f9(c){return c.reduce(function(x,a){return x+a.x;},0)/c.length;}function g9(n){var c=n.children;return c&&c.length?g9(c[0]):n;}function h9(a){var c=a.children,n;return c&&(n=c.length)?h9(c[n-1]):a;}D.layout.treemap=function(){var h=D.layout.hierarchy(),a=Math.round,b=[1,1],c=null,f=i9,g=false,j,m="squarify",l=.5*(1+Math.sqrt(5));function q(d,k){var i=-1,n=d.length,o,p;while(++i<n){p=(o=d[i]).value*(k<0?0:k);o.area=isNaN(p)||p<=0?0:p;}}function t(d){var i=d.children;if(i&&i.length){var r=f(d),k=[],o=i.slice(),p,s=Infinity,v,u=m==="slice"?r.dx:m==="dice"?r.dy:m==="slice-dice"?d.depth&1?r.dy:r.dx:Math.min(r.dx,r.dy),n;q(o,r.dx*r.dy/d.value);k.area=0;while((n=o.length)>0){k.push(p=o[n-1]);k.area+=p.area;if(m!=="squarify"||(v=z(k,u))<=s){o.pop();s=v;}else{k.area-=k.pop().area;A(k,u,r,false);u=Math.min(r.dx,r.dy);k.length=k.area=0;s=Infinity;}}if(k.length){A(k,u,r,true);k.length=k.area=0;}i.forEach(t);}}function w(n){var d=n.children;if(d&&d.length){var r=f(n),i=d.slice(),k,o=[];q(i,r.dx*r.dy/n.value);o.area=0;while(k=i.pop()){o.push(k);o.area+=k.area;if(k.z!=null){A(o,k.z?r.dx:r.dy,r,!i.length);o.length=o.area=0;}}d.forEach(w);}}function z(d,u){var s=d.area,r,k=0,o=Infinity,i=-1,n=d.length;while(++i<n){if(!(r=d[i].area))continue;if(r<o)o=r;if(r>k)k=r;}s*=s;u*=u;return s?Math.max(u*k*l/s,s/(u*o*l)):Infinity;}function A(r,u,d,k){var i=-1,n=r.length,x=d.x,y=d.y,v=u?a(r.area/u):0,o;if(u==d.dx){if(k||v>d.dy)v=d.dy;while(++i<n){o=r[i];o.x=x;o.y=y;o.dy=v;x+=o.dx=Math.min(d.x+d.dx-x,v?a(o.area/v):0);}o.z=true;o.dx+=d.x+d.dx-x;d.y+=v;d.dy-=v;}else{if(k||v>d.dx)v=d.dx;while(++i<n){o=r[i];o.x=x;o.y=y;o.dx=v;y+=o.dy=Math.min(d.y+d.dy-y,v?a(o.area/v):0);}o.z=false;o.dy+=d.y+d.dy-y;d.x+=v;d.dx-=v;}}function B(d){var n=j||h(d),r=n[0];r.x=0;r.y=0;r.dx=b[0];r.dy=b[1];if(j)h.revalue(r);q([r],r.dx*r.dy/r.value);(j?w:t)(r);if(g)j=n;return n;}B.size=function(x){if(!arguments.length)return b;b=x;return B;};B.padding=function(x){if(!arguments.length)return c;function d(n){var p=x.call(B,n,n.depth);return p==null?i9(n):j9(n,typeof p==="number"?[p,p,p,p]:p);}function i(n){return j9(n,x);}var k;f=(c=x)==null?i9:(k=typeof x)==="function"?d:k==="number"?(x=[x,x,x,x],i):i;return B;};B.round=function(x){if(!arguments.length)return a!=Number;a=x?Math.round:Number;return B;};B.sticky=function(x){if(!arguments.length)return g;g=x;j=null;return B;};B.ratio=function(x){if(!arguments.length)return l;l=x;return B;};B.mode=function(x){if(!arguments.length)return m;m=x+"";return B;};return w8(B,h);};function i9(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy};}function j9(n,p){var x=n.x+p[3],y=n.y+p[0],d=n.dx-p[1]-p[3],a=n.dy-p[0]-p[2];if(d<0){x+=d/2;d=0;}if(a<0){y+=a/2;a=0;}return{x:x,y:y,dx:d,dy:a};}D.random={normal:function(µ,σ){var n=arguments.length;if(n<2)σ=1;if(n<1)µ=0;return function(){var x,y,r;do{x=Math.random()*2-1;y=Math.random()*2-1;r=x*x+y*y;}while(!r||r>1);return µ+σ*x*Math.sqrt(-2*Math.log(r)/r);};},logNormal:function(){var r=D.random.normal.apply(D,arguments);return function(){return Math.exp(r());};},bates:function(m){var r=D.random.irwinHall(m);return function(){return r()/m;};},irwinHall:function(m){return function(){for(var s=0,j=0;j<m;j++)s+=Math.random();return s;};}};D.scale={};function k9(d){var s=d[0],a=d[d.length-1];return s<a?[s,a]:[a,s];}function l9(s){return s.rangeExtent?s.rangeExtent():k9(s.range());}function m9(d,r,a,b){var u=a(d[0],d[1]),i=b(r[0],r[1]);return function(x){return i(u(x));};}function n9(d,n){var i=0,a=d.length-1,x=d[i],b=d[a],c;if(b<x){c=i,i=a,a=c;c=x,x=b,b=c;}d[i]=n.floor(x);d[a]=n.ceil(b);return d;}function o9(s){return s?{floor:function(x){return Math.floor(x/s)*s;},ceil:function(x){return Math.ceil(x/s)*s;}}:p9;}var p9={floor:K3,ceil:K3};function q9(d,r,a,b){var u=[],i=[],j=0,k=Math.min(d.length,r.length)-1;if(d[k]<d[0]){d=d.slice().reverse();r=r.slice().reverse();}while(++j<=k){u.push(a(d[j-1],d[j]));i.push(b(r[j-1],r[j]));}return function(x){var j=D.bisect(d,x,1,k)-1;return i[j](u[j](x));};}D.scale.linear=function(){return r9([0,1],[0,1],J7,false);};function r9(d,r,i,c){var o,a;function b(){var l=Math.min(d.length,r.length)>2?q9:m9,u=c?k8:j8;o=l(d,r,u,i);a=l(r,d,u,J7);return s;}function s(x){return o(x);}s.invert=function(y){return a(y);};s.domain=function(x){if(!arguments.length)return d;d=x.map(Number);return b();};s.range=function(x){if(!arguments.length)return r;r=x;return b();};s.rangeRound=function(x){return s.range(x).interpolate(c8);};s.clamp=function(x){if(!arguments.length)return c;c=x;return b();};s.interpolate=function(x){if(!arguments.length)return i;i=x;return b();};s.ticks=function(m){return v9(d,m);};s.tickFormat=function(m,f){return w9(d,m,f);};s.nice=function(m){t9(d,m);return b();};s.copy=function(){return r9(d,r,i,c);};return b();}function s9(s,l){return D.rebind(s,l,"range","rangeRound","interpolate","clamp");}function t9(d,m){return n9(d,o9(u9(d,m)[2]));}function u9(d,m){if(m==null)m=10;var a=k9(d),s=a[1]-a[0],b=Math.pow(10,Math.floor(Math.log(s/m)/Math.LN10)),c=m/s*b;if(c<=.15)b*=10;else if(c<=.35)b*=5;else if(c<=.75)b*=2;a[0]=Math.ceil(a[0]/b)*b;a[1]=Math.floor(a[1]/b)*b+b*.5;a[2]=b;return a;}function v9(d,m){return D.range.apply(D,u9(d,m));}function w9(a,m,f){var r=u9(a,m);if(f){var b=a4.exec(f);b.shift();if(b[8]==="s"){var p=D.formatPrefix(Math.max(h1(r[0]),h1(r[1])));if(!b[7])b[7]="."+y9(p.scale(r[2]));b[8]="f";f=D.format(b.join(""));return function(d){return f(p.scale(d))+p.symbol;};}if(!b[7])b[7]="."+z9(b[8],r);f=b.join("");}else{f=",."+y9(r[2])+"f";}return D.format(f);}var x9={s:1,g:1,p:1,r:1,e:1};function y9(v){return-Math.floor(Math.log(v)/Math.LN10+.01);}function z9(t,r){var p=y9(r[2]);return t in x9?Math.abs(p-y9(Math.max(h1(r[0]),h1(r[1]))))+ +(t!=="e"):p-(t==="%")*2;}D.scale.log=function(){return A9(D.scale.linear().domain([0,1]),10,true,[1,10]);};function A9(l,b,p,a){function c(x){return(p?Math.log(x<0?0:x):-Math.log(x>0?0:-x))/Math.log(b);}function g(x){return p?Math.pow(b,x):-Math.pow(b,-x);}function s(x){return l(c(x));}s.invert=function(x){return g(l.invert(x));};s.domain=function(x){if(!arguments.length)return a;p=x[0]>=0;l.domain((a=x.map(Number)).map(c));return s;};s.base=function(_){if(!arguments.length)return b;b=+_;l.domain(a.map(c));return s;};s.nice=function(){var n=n9(a.map(c),p?Math:C9);l.domain(n);a=n.map(g);return s;};s.ticks=function(){var d=k9(a),t=[],u=d[0],v=d[1],i=Math.floor(c(u)),j=Math.ceil(c(v)),n=b%1?2:b;if(isFinite(j-i)){if(p){for(;i<j;i++)for(var k=1;k<n;k++)t.push(g(i)*k);t.push(g(i));}else{t.push(g(i));for(;i++<j;)for(var k=n-1;k>0;k--)t.push(g(i)*k);}for(i=0;t[i]<u;i++){}for(j=t.length;t[j-1]>v;j--){}t=t.slice(i,j);}return t;};s.tickFormat=function(n,h){if(!arguments.length)return B9;if(arguments.length<2)h=B9;else if(typeof h!=="function")h=D.format(h);var k=Math.max(.1,n/s.ticks().length),f=p?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor),e;return function(d){return d/g(f(c(d)+e))<=k?h(d):"";};};s.copy=function(){return A9(l.copy(),b,p,a);};return s9(s,l);}var B9=D.format(".0e"),C9={floor:function(x){return-Math.ceil(-x);},ceil:function(x){return-Math.floor(-x);}};D.scale.pow=function(){return D9(D.scale.linear(),1,[0,1]);};function D9(l,a,d){var p=E9(a),b=E9(1/a);function s(x){return l(p(x));}s.invert=function(x){return b(l.invert(x));};s.domain=function(x){if(!arguments.length)return d;l.domain((d=x.map(Number)).map(p));return s;};s.ticks=function(m){return v9(d,m);};s.tickFormat=function(m,f){return w9(d,m,f);};s.nice=function(m){return s.domain(t9(d,m));};s.exponent=function(x){if(!arguments.length)return a;p=E9(a=x);b=E9(1/a);l.domain(d.map(p));return s;};s.copy=function(){return D9(l.copy(),a,d);};return s9(s,l);}function E9(e){return function(x){return x<0?-Math.pow(-x,e):Math.pow(x,e);};}D.scale.sqrt=function(){return D.scale.pow().exponent(.5);};D.scale.ordinal=function(){return F9([],{t:"range",a:[[]]});};function F9(d,r){var a,b,c;function s(x){return b[((a.get(x)||(r.t==="range"?a.set(x,d.push(x)):NaN))-1)%b.length];}function f(g,h){return D.range(d.length).map(function(i){return g+h*i;});}s.domain=function(x){if(!arguments.length)return d;d=[];a=new o1();var i=-1,n=x.length,g;while(++i<n)if(!a.has(g=x[i]))a.set(g,d.push(g));return s[r.t].apply(s,r.a);};s.range=function(x){if(!arguments.length)return b;b=x;c=0;r={t:"range",a:arguments};return s;};s.rangePoints=function(x,p){if(arguments.length<2)p=0;var g=x[0],h=x[1],i=(h-g)/(Math.max(1,d.length-1)+p);b=f(d.length<2?(g+h)/2:g+i*p/2,i);c=0;r={t:"rangePoints",a:arguments};return s;};s.rangeBands=function(x,p,o){if(arguments.length<2)p=0;if(arguments.length<3)o=p;var g=x[1]<x[0],h=x[g-0],i=x[1-g],j=(i-h)/(d.length-p+2*o);b=f(h+j*o,j);if(g)b.reverse();c=j*(1-p);r={t:"rangeBands",a:arguments};return s;};s.rangeRoundBands=function(x,p,o){if(arguments.length<2)p=0;if(arguments.length<3)o=p;var g=x[1]<x[0],h=x[g-0],i=x[1-g],j=Math.floor((i-h)/(d.length-p+2*o)),P=i-h-(d.length-p)*j;b=f(h+Math.round(P/2),j);if(g)b.reverse();c=Math.round(j*(1-p));r={t:"rangeRoundBands",a:arguments};return s;};s.rangeBand=function(){return c;};s.rangeExtent=function(){return k9(r.a[0]);};s.copy=function(){return F9(d,r);};return s.domain(d);}D.scale.category10=function(){return D.scale.ordinal().range(G9);};D.scale.category20=function(){return D.scale.ordinal().range(H9);};D.scale.category20b=function(){return D.scale.ordinal().range(I9);};D.scale.category20c=function(){return D.scale.ordinal().range(J9);};var G9=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(A3);var H9=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(A3);var I9=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(A3);var J9=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(A3);D.scale.quantile=function(){return K9([],[]);};function K9(d,r){var t;function a(){var k=0,q=r.length;t=[];while(++k<q)t[k-1]=D.quantile(d,k/q);return s;}function s(x){if(!isNaN(x=+x))return r[D.bisect(t,x)];}s.domain=function(x){if(!arguments.length)return d;d=x.filter(Z).sort(W);return a();};s.range=function(x){if(!arguments.length)return r;r=x;return a();};s.quantiles=function(){return t;};s.invertExtent=function(y){y=r.indexOf(y);return y<0?[NaN,NaN]:[y>0?t[y-1]:d[0],y<t.length?t[y]:d[d.length-1]];};s.copy=function(){return K9(d,r);};return a();}D.scale.quantize=function(){return L9(0,1,[0,1]);};function L9(a,b,r){var k,i;function s(x){return r[Math.max(0,Math.min(i,Math.floor(k*(x-a))))];}function c(){k=r.length/(b-a);i=r.length-1;return s;}s.domain=function(x){if(!arguments.length)return[a,b];a=+x[0];b=+x[x.length-1];return c();};s.range=function(x){if(!arguments.length)return r;r=x;return c();};s.invertExtent=function(y){y=r.indexOf(y);y=y<0?NaN:y/k+a;return[y,y+1/k];};s.copy=function(){return L9(a,b,r);};return c();}D.scale.threshold=function(){return M9([.5],[0,1]);};function M9(d,r){function s(x){if(x<=x)return r[D.bisect(d,x)];}s.domain=function(_){if(!arguments.length)return d;d=_;return s;};s.range=function(_){if(!arguments.length)return r;r=_;return s;};s.invertExtent=function(y){y=r.indexOf(y);return[d[y-1],d[y]];};s.copy=function(){return M9(d,r);};return s;}D.scale.identity=function(){return N9([0,1]);};function N9(d){function i(x){return+x;}i.invert=i;i.domain=i.range=function(x){if(!arguments.length)return d;d=x.map(i);return i;};i.ticks=function(m){return v9(d,m);};i.tickFormat=function(m,f){return w9(d,m,f);};i.copy=function(){return N9(d);};return i;}D.svg={};D.svg.arc=function(){var i=Q9,o=R9,s=S9,b=T9;function c(){var r=i.apply(this,arguments),a=o.apply(this,arguments),d=s.apply(this,arguments)+O9,f=b.apply(this,arguments)+O9,g=(f<d&&(g=d,d=f,f=g),f-d),h=g<π?"0":"1",j=Math.cos(d),k=Math.sin(d),l=Math.cos(f),m=Math.sin(f);return g>=P9?r?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+r+"A"+r+","+r+" 0 1,0 0,"+-r+"A"+r+","+r+" 0 1,0 0,"+r+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":r?"M"+a*j+","+a*k+"A"+a+","+a+" 0 "+h+",1 "+a*l+","+a*m+"L"+r*l+","+r*m+"A"+r+","+r+" 0 "+h+",0 "+r*j+","+r*k+"Z":"M"+a*j+","+a*k+"A"+a+","+a+" 0 "+h+",1 "+a*l+","+a*m+"L0,0"+"Z";}c.innerRadius=function(v){if(!arguments.length)return i;i=J3(v);return c;};c.outerRadius=function(v){if(!arguments.length)return o;o=J3(v);return c;};c.startAngle=function(v){if(!arguments.length)return s;s=J3(v);return c;};c.endAngle=function(v){if(!arguments.length)return b;b=J3(v);return c;};c.centroid=function(){var r=(i.apply(this,arguments)+o.apply(this,arguments))/2,a=(s.apply(this,arguments)+b.apply(this,arguments))/2+O9;return[Math.cos(a)*r,Math.sin(a)*r];};return c;};var O9=-M2,P9=τ-ε;function Q9(d){return d.innerRadius;}function R9(d){return d.outerRadius;}function S9(d){return d.startAngle;}function T9(d){return d.endAngle;}function U9(p){var x=J6,y=K6,a=r5,b=W9,c=b.key,t=.7;function l(f){var s=[],g=[],i=-1,n=f.length,d,h=J3(x),j=J3(y);function k(){s.push("M",b(p(g),t));}while(++i<n){if(a.call(this,d=f[i],i)){g.push([+h.call(this,d,i),+j.call(this,d,i)]);}else if(g.length){k();g=[];}}if(g.length)k();return s.length?s.join(""):null;}l.x=function(_){if(!arguments.length)return x;x=_;return l;};l.y=function(_){if(!arguments.length)return y;y=_;return l;};l.defined=function(_){if(!arguments.length)return a;a=_;return l;};l.interpolate=function(_){if(!arguments.length)return c;if(typeof _==="function")c=b=_;else c=(b=V9.get(_)||W9).key;return l;};l.tension=function(_){if(!arguments.length)return t;t=_;return l;};return l;}D.svg.line=function(){return U9(K3);};var V9=D.map({linear:W9,"linear-closed":X9,step:Y9,"step-before":Z9,"step-after":$9,basis:ja,"basis-open":la,"basis-closed":ma,bundle:oa,cardinal:fa,"cardinal-open":_9,"cardinal-closed":ea,monotone:Da});V9.forEach(function(k,v){v.key=k;v.closed=/-closed$/.test(k);});function W9(p){return p.join("L");}function X9(p){return W9(p)+"Z";}function Y9(a){var i=0,n=a.length,p=a[0],b=[p[0],",",p[1]];while(++i<n)b.push("H",(p[0]+(p=a[i])[0])/2,"V",p[1]);if(n>1)b.push("H",p[0]);return b.join("");}function Z9(a){var i=0,n=a.length,p=a[0],b=[p[0],",",p[1]];while(++i<n)b.push("V",(p=a[i])[1],"H",p[0]);return b.join("");}function $9(a){var i=0,n=a.length,p=a[0],b=[p[0],",",p[1]];while(++i<n)b.push("H",(p=a[i])[0],"V",p[1]);return b.join("");}function _9(p,t){return p.length<4?W9(p):p[1]+ga(p.slice(1,p.length-1),ia(p,t));}function ea(p,t){return p.length<3?W9(p):p[0]+ga((p.push(p[0]),p),ia([p[p.length-2]].concat(p,[p[1]]),t));}function fa(p,t){return p.length<3?W9(p):p[0]+ga(p,ia(p,t));}function ga(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2){return W9(a);}var q=a.length!=b.length,c="",d=a[0],p=a[1],f=b[0],t=f,g=1;if(q){c+="Q"+(p[0]-f[0]*2/3)+","+(p[1]-f[1]*2/3)+","+p[0]+","+p[1];d=a[1];g=2;}if(b.length>1){t=b[1];p=a[g];g++;c+="C"+(d[0]+f[0])+","+(d[1]+f[1])+","+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];for(var i=2;i<b.length;i++,g++){p=a[g];t=b[i];c+="S"+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];}}if(q){var l=a[g];c+="Q"+(p[0]+t[0]*2/3)+","+(p[1]+t[1]*2/3)+","+l[0]+","+l[1];}return c;}function ia(p,t){var b=[],a=(1-t)/2,c,d=p[0],f=p[1],i=1,n=p.length;while(++i<n){c=d;d=f;f=p[i];b.push([a*(f[0]-c[0]),a*(f[1]-c[1])]);}return b;}function ja(p){if(p.length<3)return W9(p);var i=1,n=p.length,a=p[0],x=a[0],y=a[1],b=[x,x,x,(a=p[1])[0]],c=[y,y,y,a[1]],d=[x,",",y,"L",qa(ya,b),",",qa(ya,c)];p.push(p[n-1]);while(++i<=n){a=p[i];b.shift();b.push(a[0]);c.shift();c.push(a[1]);za(d,b,c);}p.pop();d.push("L",a);return d.join("");}function la(p){if(p.length<4)return W9(p);var a=[],i=-1,n=p.length,b,c=[0],d=[0];while(++i<3){b=p[i];c.push(b[0]);d.push(b[1]);}a.push(qa(ya,c)+","+qa(ya,d));--i;while(++i<n){b=p[i];c.shift();c.push(b[0]);d.shift();d.push(b[1]);za(a,c,d);}return a.join("");}function ma(p){var a,i=-1,n=p.length,m=n+4,b,c=[],d=[];while(++i<4){b=p[i%n];c.push(b[0]);d.push(b[1]);}a=[qa(ya,c),",",qa(ya,d)];--i;while(++i<m){b=p[i%n];c.shift();c.push(b[0]);d.shift();d.push(b[1]);za(a,c,d);}return a.join("");}function oa(a,b){var n=a.length-1;if(n){var x=a[0][0],y=a[0][1],d=a[n][0]-x,c=a[n][1]-y,i=-1,p,t;while(++i<=n){p=a[i];t=i/n;p[0]=b*p[0]+(1-b)*(x+t*d);p[1]=b*p[1]+(1-b)*(y+t*c);}}return ja(a);}function qa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];}var sa=[0,2/3,1/3,0],xa=[0,1/3,2/3,0],ya=[0,1/6,2/3,1/6];function za(p,x,y){p.push("C",qa(sa,x),",",qa(sa,y),",",qa(xa,x),",",qa(xa,y),",",qa(ya,x),",",qa(ya,y));}function Aa(p,a){return(a[1]-p[1])/(a[0]-p[0]);}function Ba(p){var i=0,j=p.length-1,m=[],a=p[0],b=p[1],d=m[0]=Aa(a,b);while(++i<j){m[i]=(d+(d=Aa(a=b,b=p[i+1])))/2;}m[i]=d;return m;}function Ca(p){var t=[],d,a,b,s,m=Ba(p),i=-1,j=p.length-1;while(++i<j){d=Aa(p[i],p[i+1]);if(h1(d)<ε){m[i]=m[i+1]=0;}else{a=m[i]/d;b=m[i+1]/d;s=a*a+b*b;if(s>9){s=d*3/Math.sqrt(s);m[i]=s*a;m[i+1]=s*b;}}}i=-1;while(++i<=j){s=(p[Math.min(j,i+1)][0]-p[Math.max(0,i-1)][0])/(6*(1+m[i]*m[i]));t.push([s||0,m[i]*s||0]);}return t;}function Da(p){return p.length<3?W9(p):p[0]+ga(p,Ca(p));}D.svg.line.radial=function(){var l=U9(Ea);l.radius=l.x,delete l.x;l.angle=l.y,delete l.y;return l;};function Ea(p){var b,i=-1,n=p.length,r,a;while(++i<n){b=p[i];r=b[0];a=b[1]+O9;b[0]=r*Math.cos(a);b[1]=r*Math.sin(a);}return p;}function Fa(p){var a=J6,b=J6,c=0,f=K6,g=r5,h=W9,j=h.key,k=h,L="L",t=.7;function l(m){var s=[],o=[],q=[],i=-1,n=m.length,d,r=J3(a),u=J3(c),v=a===b?function(){return x;}:J3(b),w=c===f?function(){return y;}:J3(f),x,y;function z(){s.push("M",h(p(q),t),L,k(p(o.reverse()),t),"Z");}while(++i<n){if(g.call(this,d=m[i],i)){o.push([x=+r.call(this,d,i),y=+u.call(this,d,i)]);q.push([+v.call(this,d,i),+w.call(this,d,i)]);}else if(o.length){z();o=[];q=[];}}if(o.length)z();return s.length?s.join(""):null;}l.x=function(_){if(!arguments.length)return b;a=b=_;return l;};l.x0=function(_){if(!arguments.length)return a;a=_;return l;};l.x1=function(_){if(!arguments.length)return b;b=_;return l;};l.y=function(_){if(!arguments.length)return f;c=f=_;return l;};l.y0=function(_){if(!arguments.length)return c;c=_;return l;};l.y1=function(_){if(!arguments.length)return f;f=_;return l;};l.defined=function(_){if(!arguments.length)return g;g=_;return l;};l.interpolate=function(_){if(!arguments.length)return j;if(typeof _==="function")j=h=_;else j=(h=V9.get(_)||W9).key;k=h.reverse||h;L=h.closed?"M":"L";return l;};l.tension=function(_){if(!arguments.length)return t;t=_;return l;};return l;}Z9.reverse=$9;$9.reverse=Z9;D.svg.area=function(){return Fa(K3);};D.svg.area.radial=function(){var a=Fa(Ea);a.radius=a.x,delete a.x;a.innerRadius=a.x0,delete a.x0;a.outerRadius=a.x1,delete a.x1;a.angle=a.y,delete a.y;a.startAngle=a.y0,delete a.y0;a.endAngle=a.y1,delete a.y1;return a;};D.svg.chord=function(){var c=s6,g=t6,h=Ga,j=S9,k=T9;function l(d,i){var s=m(this,c,d,i),t=m(this,g,d,i);return"M"+s.p0+o(s.r,s.p1,s.a1-s.a0)+(n(s,t)?q(s.r,s.p1,s.r,s.p0):q(s.r,s.p1,t.r,t.p0)+o(t.r,t.p1,t.a1-t.a0)+q(t.r,t.p1,s.r,s.p0))+"Z";}function m(s,f,d,i){var m=f.call(s,d,i),r=h.call(s,m,i),a=j.call(s,m,i)+O9,b=k.call(s,m,i)+O9;return{r:r,a0:a,a1:b,p0:[r*Math.cos(a),r*Math.sin(a)],p1:[r*Math.cos(b),r*Math.sin(b)]};}function n(a,b){return a.a0==b.a0&&a.a1==b.a1;}function o(r,p,a){return"A"+r+","+r+" 0 "+ +(a>π)+",1 "+p;}function q(r,p,a,b){return"Q 0,0 "+b;}l.radius=function(v){if(!arguments.length)return h;h=J3(v);return l;};l.source=function(v){if(!arguments.length)return c;c=J3(v);return l;};l.target=function(v){if(!arguments.length)return g;g=J3(v);return l;};l.startAngle=function(v){if(!arguments.length)return j;j=J3(v);return l;};l.endAngle=function(v){if(!arguments.length)return k;k=J3(v);return l;};return l;};function Ga(d){return d.radius;}D.svg.diagonal=function(){var s=s6,t=t6,a=Ha;function b(d,i){var c=s.call(this,d,i),f=t.call(this,d,i),m=(c.y+f.y)/2,p=[c,{x:c.x,y:m},{x:f.x,y:m},f];p=p.map(a);return"M"+p[0]+"C"+p[1]+" "+p[2]+" "+p[3];}b.source=function(x){if(!arguments.length)return s;s=J3(x);return b;};b.target=function(x){if(!arguments.length)return t;t=J3(x);return b;};b.projection=function(x){if(!arguments.length)return a;a=x;return b;};return b;};function Ha(d){return[d.x,d.y];}D.svg.diagonal.radial=function(){var d=D.svg.diagonal(),p=Ha,a=d.projection;d.projection=function(x){return arguments.length?a(Ia(p=x)):p;};return d;};function Ia(p){return function(){var d=p.apply(this,arguments),r=d[0],a=d[1]+O9;return[r*Math.cos(a),r*Math.sin(a)];};}D.svg.symbol=function(){var t=Ka,s=Ja;function a(d,i){return(Ma.get(t.call(this,d,i))||La)(s.call(this,d,i));}a.type=function(x){if(!arguments.length)return t;t=J3(x);return a;};a.size=function(x){if(!arguments.length)return s;s=J3(x);return a;};return a;};function Ja(){return 64;}function Ka(){return"circle";}function La(s){var r=Math.sqrt(s/π);return"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z";}var Ma=D.map({circle:La,cross:function(s){var r=Math.sqrt(s/5)/2;return"M"+-3*r+","+-r+"H"+-r+"V"+-3*r+"H"+r+"V"+-r+"H"+3*r+"V"+r+"H"+r+"V"+3*r+"H"+-r+"V"+r+"H"+-3*r+"Z";},diamond:function(s){var r=Math.sqrt(s/(2*Oa)),a=r*Oa;return"M0,"+-r+"L"+a+",0"+" 0,"+r+" "+-a+",0"+"Z";},square:function(s){var r=Math.sqrt(s)/2;return"M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z";},"triangle-down":function(s){var r=Math.sqrt(s/Na),a=r*Na/2;return"M0,"+a+"L"+r+","+-a+" "+-r+","+-a+"Z";},"triangle-up":function(s){var r=Math.sqrt(s/Na),a=r*Na/2;return"M0,"+-a+"L"+r+","+a+" "+-r+","+a+"Z";}});D.svg.symbolTypes=Ma.keys();var Na=Math.sqrt(3),Oa=Math.tan(30*O2);function Pa(g,i){P1(g,Qa);g.id=i;return g;}var Qa=[],Ra=0,Sa,Ta;Qa.call=V1.call;Qa.empty=V1.empty;Qa.node=V1.node;Qa.size=V1.size;D.transition=function(s){return arguments.length?Sa?s.transition():s:z2.transition();};D.transition.prototype=Qa;Qa.select=function(s){var a=this.id,b=[],c,d,f;s=W1(s);for(var j=-1,m=this.length;++j<m;){b.push(c=[]);for(var g=this[j],i=-1,n=g.length;++i<n;){if((f=g[i])&&(d=s.call(f,f.__data__,i,j))){if("__data__"in f)d.__data__=f.__data__;Wa(d,i,a,f.__transition__[a]);c.push(d);}else{c.push(null);}}}return Pa(b,a);};Qa.selectAll=function(s){var a=this.id,b=[],c,d,f,g,t;s=Z1(s);for(var j=-1,m=this.length;++j<m;){for(var h=this[j],i=-1,n=h.length;++i<n;){if(f=h[i]){t=f.__transition__[a];d=s.call(f,f.__data__,i,j);b.push(c=[]);for(var k=-1,o=d.length;++k<o;){if(g=d[k])Wa(g,k,a,t);c.push(g);}}}}return Pa(b,a);};Qa.filter=function(f){var s=[],a,g,b;if(typeof f!=="function")f=l2(f);for(var j=0,m=this.length;j<m;j++){s.push(a=[]);for(var g=this[j],i=0,n=g.length;i<n;i++){if((b=g[i])&&f.call(b,b.__data__,i,j)){a.push(b);}}}return Pa(s,this.id);};Qa.tween=function(n,t){var i=this.id;if(arguments.length<2)return this.node().__transition__[i].tween.get(n);return q2(this,t==null?function(a){a.__transition__[i].tween.remove(n);}:function(a){a.__transition__[i].tween.set(n,t);});};function Ua(g,n,v,t){var a=g.id;return q2(g,typeof v==="function"?function(b,i,j){b.__transition__[a].tween.set(n,t(v.call(b,b.__data__,i,j)));}:(v=t(v),function(b){b.__transition__[a].tween.set(n,v);}));}Qa.attr=function(n,v){if(arguments.length<2){for(v in n)this.attr(v,n[v]);return this;}var c=n=="transform"?i8:J7,d=D.ns.qualify(n);function f(){this.removeAttribute(d);}function g(){this.removeAttributeNS(d.space,d.local);}function h(b){return b==null?f:(b+="",function(){var a=this.getAttribute(d),i;return a!==b&&(i=c(a,b),function(t){this.setAttribute(d,i(t));});});}function j(b){return b==null?g:(b+="",function(){var a=this.getAttributeNS(d.space,d.local),i;return a!==b&&(i=c(a,b),function(t){this.setAttributeNS(d.space,d.local,i(t));});});}return Ua(this,"attr."+n,v,d.local?j:h);};Qa.attrTween=function(n,a){var b=D.ns.qualify(n);function c(d,i){var f=a.call(this,d,i,this.getAttribute(b));return f&&function(t){this.setAttribute(b,f(t));};}function g(d,i){var f=a.call(this,d,i,this.getAttributeNS(b.space,b.local));return f&&function(t){this.setAttributeNS(b.space,b.local,f(t));};}return this.tween("attr."+n,b.local?g:c);};Qa.style=function(c,v,p){var n=arguments.length;if(n<3){if(typeof c!=="string"){if(n<2)v="";for(p in c)this.style(p,c[p],v);return this;}p="";}function s(){this.style.removeProperty(c);}function d(b){return b==null?s:(b+="",function(){var a=O.getComputedStyle(this,null).getPropertyValue(c),i;return a!==b&&(i=J7(a,b),function(t){this.style.setProperty(c,i(t),p);});});}return Ua(this,"style."+c,v,d);};Qa.styleTween=function(n,a,p){if(arguments.length<3)p="";function s(d,i){var f=a.call(this,d,i,O.getComputedStyle(this,null).getPropertyValue(n));return f&&function(t){this.style.setProperty(n,f(t),p);};}return this.tween("style."+n,s);};Qa.text=function(v){return Ua(this,"text",v,Va);};function Va(b){if(b==null)b="";return function(){this.textContent=b;};}Qa.remove=function(){return this.each("end.transition",function(){var p;if(this.__transition__.count<2&&(p=this.parentNode))p.removeChild(this);});};Qa.ease=function(v){var i=this.id;if(arguments.length<1)return this.node().__transition__[i].ease;if(typeof v!=="function")v=D.ease.apply(D,arguments);return q2(this,function(n){n.__transition__[i].ease=v;});};Qa.delay=function(v){var a=this.id;if(arguments.length<1)return this.node().__transition__[a].delay;return q2(this,typeof v==="function"?function(n,i,j){n.__transition__[a].delay=+v.call(n,n.__data__,i,j);}:(v=+v,function(n){n.__transition__[a].delay=v;}));};Qa.duration=function(v){var a=this.id;if(arguments.length<1)return this.node().__transition__[a].duration;return q2(this,typeof v==="function"?function(n,i,j){n.__transition__[a].duration=Math.max(1,v.call(n,n.__data__,i,j));}:(v=Math.max(1,v),function(n){n.__transition__[a].duration=v;}));};Qa.each=function(t,l){var a=this.id;if(arguments.length<2){var b=Ta,c=Sa;Sa=a;q2(this,function(n,i,j){Ta=n.__transition__[a];t.call(n,n.__data__,i,j);});Ta=b;Sa=c;}else{q2(this,function(n){var d=n.__transition__[a];(d.event||(d.event=D.dispatch("start","end"))).on(t,l);});}return this;};Qa.transition=function(){var a=this.id,b=++Ra,s=[],c,g,d,t;for(var j=0,m=this.length;j<m;j++){s.push(c=[]);for(var g=this[j],i=0,n=g.length;i<n;i++){if(d=g[i]){t=Object.create(d.__transition__[a]);t.delay+=t.duration;Wa(d,i,b,t);}c.push(d);}}return Pa(s,b);};function Wa(a,i,b,c){var l=a.__transition__||(a.__transition__={active:0,count:0}),f=l[b];if(!f){var g=c.time;f=l[b]={tween:new o1(),time:g,ease:c.ease,delay:c.delay,duration:c.duration};++l.count;D.timer(function(h){var d=a.__data__,j=f.ease,k=f.delay,m=f.duration,o=T3,p=[];o.t=k+g;if(k<=h)return s(h-k);o.c=s;function s(h){if(l.active>b)return r();l.active=b;f.event&&f.event.start.call(a,d,i);f.tween.forEach(function(n,v){if(v=v.call(a,d,i)){p.push(v);}});D.timer(function(){o.c=q(h||1)?r5:q;return 1;},0,g);}function q(h){if(l.active!==b)return r();var t=h/m,e=j(t),n=p.length;while(n>0){p[--n].call(a,e);}if(t>=1){f.event&&f.event.end.call(a,d,i);return r();}}function r(){if(--l.count)delete l[b];else delete a.__transition__;return 1;}},0,g);}}D.svg.axis=function(){var s=D.scale.linear(),o=Xa,i=6,a=6,t=3,b=[10],c=null,f;function h(g){g.each(function(){var g=D.select(this);var j=this.__chart__||s,k=this.__chart__=s.copy();var l=c==null?k.ticks?k.ticks.apply(k,b):k.domain():c,m=f==null?k.tickFormat?k.tickFormat.apply(k,b):K3:f,n=g.selectAll(".tick").data(l,k),p=n.enter().insert("g",".domain").attr("class","tick").style("opacity",ε),q=D.transition(n.exit()).style("opacity",ε).remove(),r=D.transition(n.order()).style("opacity",1),u;var v=l9(k),w=g.selectAll(".domain").data([0]),y=(w.enter().append("path").attr("class","domain"),D.transition(w));p.append("line");p.append("text");var z=p.select("line"),A=r.select("line"),B=n.select("text").text(m),C=p.select("text"),F=r.select("text");switch(o){case"bottom":{u=Za;z.attr("y2",i);C.attr("y",Math.max(i,0)+t);A.attr("x2",0).attr("y2",i);F.attr("x",0).attr("y",Math.max(i,0)+t);B.attr("dy",".71em").style("text-anchor","middle");y.attr("d","M"+v[0]+","+a+"V0H"+v[1]+"V"+a);break;}case"top":{u=Za;z.attr("y2",-i);C.attr("y",-(Math.max(i,0)+t));A.attr("x2",0).attr("y2",-i);F.attr("x",0).attr("y",-(Math.max(i,0)+t));B.attr("dy","0em").style("text-anchor","middle");y.attr("d","M"+v[0]+","+-a+"V0H"+v[1]+"V"+-a);break;}case"left":{u=$a;z.attr("x2",-i);C.attr("x",-(Math.max(i,0)+t));A.attr("x2",-i).attr("y2",0);F.attr("x",-(Math.max(i,0)+t)).attr("y",0);B.attr("dy",".32em").style("text-anchor","end");y.attr("d","M"+-a+","+v[0]+"H0V"+v[1]+"H"+-a);break;}case"right":{u=$a;z.attr("x2",i);C.attr("x",Math.max(i,0)+t);A.attr("x2",i).attr("y2",0);F.attr("x",Math.max(i,0)+t).attr("y",0);B.attr("dy",".32em").style("text-anchor","start");y.attr("d","M"+a+","+v[0]+"H0V"+v[1]+"H"+a);break;}}if(k.rangeBand){var x=k,G=x.rangeBand()/2;j=k=function(d){return x(d)+G;};}else if(j.rangeBand){j=k;}else{q.call(u,k);}p.call(u,j);r.call(u,k);});}h.scale=function(x){if(!arguments.length)return s;s=x;return h;};h.orient=function(x){if(!arguments.length)return o;o=x in Ya?x+"":Xa;return h;};h.ticks=function(){if(!arguments.length)return b;b=arguments;return h;};h.tickValues=function(x){if(!arguments.length)return c;c=x;return h;};h.tickFormat=function(x){if(!arguments.length)return f;f=x;return h;};h.tickSize=function(x){var n=arguments.length;if(!n)return i;i=+x;a=+arguments[n-1];return h;};h.innerTickSize=function(x){if(!arguments.length)return i;i=+x;return h;};h.outerTickSize=function(x){if(!arguments.length)return a;a=+x;return h;};h.tickPadding=function(x){if(!arguments.length)return t;t=+x;return h;};h.tickSubdivide=function(){return arguments.length&&h;};return h;};var Xa="bottom",Ya={top:1,right:1,bottom:1,left:1};function Za(s,x){s.attr("transform",function(d){return"translate("+x(d)+",0)";});}function $a(s,y){s.attr("transform",function(d){return"translate(0,"+y(d)+")";});}D.svg.brush=function(){var a=N1(l,"brushstart","brush","brushend"),x=null,y=null,b=[0,0],c=[0,0],f,h,j=true,k=true,r=eb[0];function l(g){g.each(function(){var g=D.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",p).on("touchstart.brush",p);var i=g.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var q=g.selectAll(".resize").data(r,K3);q.exit().remove();q.enter().append("g").attr("class",function(d){return"resize "+d;}).style("cursor",function(d){return _a[d];}).append("rect").attr("x",function(d){return/[ew]$/.test(d)?-3:null;}).attr("y",function(d){return/^[ns]/.test(d)?-3:null;}).attr("width",6).attr("height",6).style("visibility","hidden");q.style("display",l.empty()?"none":null);var s=D.transition(g),t=D.transition(i),u;if(x){u=l9(x);t.attr("x",u[0]).attr("width",u[1]-u[0]);n(s);}if(y){u=l9(y);t.attr("y",u[0]).attr("height",u[1]-u[0]);o(s);}m(s);});}l.event=function(g){g.each(function(){var d=a.of(this,arguments),i={x:b,y:c,i:f,j:h},q=this.__chart__||i;this.__chart__=i;if(Sa){D.select(this).transition().each("start.brush",function(){f=q.i;h=q.j;b=q.x;c=q.y;d({type:"brushstart"});}).tween("brush:brush",function(){var s=K7(b,i.x),u=K7(c,i.y);f=h=null;return function(t){b=i.x=s(t);c=i.y=u(t);d({type:"brush",mode:"resize"});};}).each("end.brush",function(){f=i.i;h=i.j;d({type:"brush",mode:"resize"});d({type:"brushend"});});}else{d({type:"brushstart"});d({type:"brush",mode:"resize"});d({type:"brushend"});}});};function m(g){g.selectAll(".resize").attr("transform",function(d){return"translate("+b[+/e$/.test(d)]+","+c[+/^s/.test(d)]+")";});}function n(g){g.select(".extent").attr("x",b[0]);g.selectAll(".extent,.n>rect,.s>rect").attr("width",b[1]-b[0]);}function o(g){g.select(".extent").attr("y",c[0]);g.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0]);}function p(){var t=this,d=D.select(D.event.target),q=a.of(t,arguments),g=D.select(t),s=d.datum(),u=!/^(n|s)$/.test(s)&&x,v=!/^(e|w)$/.test(s)&&y,z=d.classed("extent"),A=G2(),B,C=D.mouse(t),F;var w=D.select(O).on("keydown.brush",I).on("keyup.brush",L);if(D.event.changedTouches){w.on("touchmove.brush",N).on("touchend.brush",X);}else{w.on("mousemove.brush",N).on("mouseup.brush",X);}g.interrupt().selectAll("*").interrupt();if(z){C[0]=b[0]-C[0];C[1]=c[0]-C[1];}else if(s){var G=+/w$/.test(s),H=+/^n/.test(s);F=[b[1-G]-C[0],c[1-H]-C[1]];C[0]=b[G];C[1]=c[H];}else if(D.event.altKey)B=C.slice();g.style("pointer-events","none").selectAll(".resize").style("display",null);D.select("body").style("cursor",d.style("cursor"));q({type:"brushstart"});N();function I(){if(D.event.keyCode==32){if(!z){B=null;C[0]-=b[1];C[1]-=c[1];z=2;}L1();}}function L(){if(D.event.keyCode==32&&z==2){C[0]+=b[1];C[1]+=c[1];z=0;L1();}}function N(){var i=D.mouse(t),Y=false;if(F){i[0]+=F[0];i[1]+=F[1];}if(!z){if(D.event.altKey){if(!B)B=[(b[0]+b[1])/2,(c[0]+c[1])/2];C[0]=b[+(i[0]<B[0])];C[1]=c[+(i[1]<B[1])];}else B=null;}if(u&&S(i,x,0)){n(g);Y=true;}if(v&&S(i,y,1)){o(g);Y=true;}if(Y){m(g);q({type:"brush",mode:z?"move":"resize"});}}function S(Y,_,i){var a1=l9(_),r0=a1[0],r1=a1[1],d1=C[i],e1=i?c:b,i1=e1[1]-e1[0],l1,m1;if(z){r0-=d1;r1-=i1+d1;}l1=(i?k:j)?Math.max(r0,Math.min(r1,Y[i])):Y[i];if(z){m1=(l1+=d1)+i1;}else{if(B)d1=Math.max(r0,Math.min(r1,2*B[i]-l1));if(d1<l1){m1=l1;l1=d1;}else{m1=d1;}}if(e1[0]!=l1||e1[1]!=m1){if(i)h=null;else f=null;e1[0]=l1;e1[1]=m1;return true;}}function X(){N();g.style("pointer-events","all").selectAll(".resize").style("display",l.empty()?"none":null);D.select("body").style("cursor",null);w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);A();q({type:"brushend"});}}l.x=function(z){if(!arguments.length)return x;x=z;r=eb[!x<<1|!y];return l;};l.y=function(z){if(!arguments.length)return y;y=z;r=eb[!x<<1|!y];return l;};l.clamp=function(z){if(!arguments.length)return x&&y?[j,k]:x?j:y?k:null;if(x&&y)j=!!z[0],k=!!z[1];else if(x)j=!!z;else if(y)k=!!z;return l;};l.extent=function(z){var d,g,i,q,t;if(!arguments.length){if(x){if(f){d=f[0],g=f[1];}else{d=b[0],g=b[1];if(x.invert)d=x.invert(d),g=x.invert(g);if(g<d)t=d,d=g,g=t;}}if(y){if(h){i=h[0],q=h[1];}else{i=c[0],q=c[1];if(y.invert)i=y.invert(i),q=y.invert(q);if(q<i)t=i,i=q,q=t;}}return x&&y?[[d,i],[g,q]]:x?[d,g]:y&&[i,q];}if(x){d=z[0],g=z[1];if(y)d=d[0],g=g[0];f=[d,g];if(x.invert)d=x(d),g=x(g);if(g<d)t=d,d=g,g=t;if(d!=b[0]||g!=b[1])b=[d,g];}if(y){i=z[0],q=z[1];if(x)i=i[1],q=q[1];h=[i,q];if(y.invert)i=y(i),q=y(q);if(q<i)t=i,i=q,q=t;if(i!=c[0]||q!=c[1])c=[i,q];}return l;};l.clear=function(){if(!l.empty()){b=[0,0],c=[0,0];f=h=null;}return l;};l.empty=function(){return!!x&&b[0]==b[1]||!!y&&c[0]==c[1];};return D.rebind(l,a,"on");};var _a={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var eb=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var gb=d4.format=H4.timeFormat;var ib=gb.utc;var jb=ib("%Y-%m-%dT%H:%M:%S.%LZ");gb.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?lb:jb;function lb(d){return d.toISOString();}lb.parse=function(s){var d=new Date(s);return isNaN(d)?null:d;};lb.toString=jb.toString;d4.second=h4(function(d){return new e4(Math.floor(d/1e3)*1e3);},function(d,o){d.setTime(d.getTime()+Math.floor(o)*1e3);},function(d){return d.getSeconds();});d4.seconds=d4.second.range;d4.seconds.utc=d4.second.utc.range;d4.minute=h4(function(d){return new e4(Math.floor(d/6e4)*6e4);},function(d,o){d.setTime(d.getTime()+Math.floor(o)*6e4);},function(d){return d.getMinutes();});d4.minutes=d4.minute.range;d4.minutes.utc=d4.minute.utc.range;d4.hour=h4(function(d){var t=d.getTimezoneOffset()/60;return new e4((Math.floor(d/36e5-t)+t)*36e5);},function(d,o){d.setTime(d.getTime()+Math.floor(o)*36e5);},function(d){return d.getHours();});d4.hours=d4.hour.range;d4.hours.utc=d4.hour.utc.range;d4.month=h4(function(d){d=d4.day(d);d.setDate(1);return d;},function(d,o){d.setMonth(d.getMonth()+o);},function(d){return d.getMonth();});d4.months=d4.month.range;d4.months.utc=d4.month.utc.range;function mb(l,m,f){function s(x){return l(x);}s.invert=function(x){return ob(l.invert(x));};s.domain=function(x){if(!arguments.length)return l.domain().map(ob);l.domain(x);return s;};function t(a,c){var b=a[1]-a[0],g=b/c,i=D.bisect(qb,g);return i==qb.length?[m.year,u9(a.map(function(d){return d/31536e6;}),c)[2]]:!i?[xb,u9(a,c)[2]]:m[g/qb[i-1]<qb[i]/g?i-1:i];}s.nice=function(i,a){var d=s.domain(),b=k9(d),c=i==null?t(b,10):typeof i==="number"&&t(b,i);if(c)i=c[0],a=c[1];function g(h){return!isNaN(h)&&!i.range(h,ob(+h+1),a).length;}return s.domain(n9(d,a>1?{floor:function(h){while(g(h=i.floor(h)))h=ob(h-1);return h;},ceil:function(h){while(g(h=i.ceil(h)))h=ob(+h+1);return h;}}:i));};s.ticks=function(i,a){var b=k9(s.domain()),c=i==null?t(b,10):typeof i==="number"?t(b,i):!i.range&&[{range:i},a];if(c)i=c[0],a=c[1];return i.range(b[0],ob(+b[1]+1),a<1?1:a);};s.tickFormat=function(){return f;};s.copy=function(){return mb(l.copy(),m,f);};return s9(s,l);}function ob(t){return new Date(t);}var qb=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var sb=[[d4.second,1],[d4.second,5],[d4.second,15],[d4.second,30],[d4.minute,1],[d4.minute,5],[d4.minute,15],[d4.minute,30],[d4.hour,1],[d4.hour,3],[d4.hour,6],[d4.hour,12],[d4.day,1],[d4.day,2],[d4.week,1],[d4.month,1],[d4.month,3],[d4.year,1]];var ub=gb.multi([[".%L",function(d){return d.getMilliseconds();}],[":%S",function(d){return d.getSeconds();}],["%I:%M",function(d){return d.getMinutes();}],["%I %p",function(d){return d.getHours();}],["%a %d",function(d){return d.getDay()&&d.getDate()!=1;}],["%b %d",function(d){return d.getDate()!=1;}],["%B",function(d){return d.getMonth();}],["%Y",r5]]);var xb={range:function(s,a,b){return D.range(Math.ceil(s/b)*b,+a,b).map(ob);},floor:K3,ceil:K3};sb.year=d4.year;d4.scale=function(){return mb(D.scale.linear(),sb,ub);};var yb=sb.map(function(m){return[m[0].utc,m[1]];});var zb=ib.multi([[".%L",function(d){return d.getUTCMilliseconds();}],[":%S",function(d){return d.getUTCSeconds();}],["%I:%M",function(d){return d.getUTCMinutes();}],["%I %p",function(d){return d.getUTCHours();}],["%a %d",function(d){return d.getUTCDay()&&d.getUTCDate()!=1;}],["%b %d",function(d){return d.getUTCDate()!=1;}],["%B",function(d){return d.getUTCMonth();}],["%Y",r5]]);yb.year=d4.year.utc;d4.scale.utc=function(){return mb(D.scale.linear(),yb,zb);};D.text=L3(function(r){return r.responseText;});D.json=function(u,c){return M3(u,"application/json",Ab,c);};function Ab(r){return JSON.parse(r.responseText);}D.html=function(u,c){return M3(u,"text/html",Bb,c);};function Bb(r){var a=K.createRange();a.selectNode(K.body);return a.createContextualFragment(r.responseText);}D.xml=L3(function(r){return r.responseXML;});if(typeof define==="function"&&define.amd)define(D);else if(typeof module==="object"&&module.exports)module.exports=D;this.d3=D;}();
},
	"sap/ushell/renderers/fiori2/search/esh/api/release/sina.js":function(){
/* the subsequent text seems not to contain a copyright or license statement */
;(function(){
/*
     * sap-ina-sina - SAP HANA Simple Info Access API/Enterprise Search API
     * version 3.3.2 - 2016-12-21 

     * Copyright (c) 2016 SAP SE; All rights reserved
     */
/*
     * @file Simple info access (SINA) API: Filter Interface
     * @namespace sap.bc.ina.api.sina.base.filter
     * @copyright 2014 SAP SE. All rights reserved.
     */
var f,g,q,p,t,u,w,x,y,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a1,b1,c1,d1,e1,f1,g1,h1,i1,j1,k1,l1;f=function(){var e={};if(typeof window!=='undefined'){e.removeHtmlTags=function(h){var d=document.createElement('div');d.innerHTML=h;return d.textContent||d.innerText||'';};e.extend=jQuery.extend;e.Deferred=jQuery.Deferred;e.ajax=jQuery.ajax;e.when=jQuery.when;}else{e.removeHtmlTags=function(h){var s=s;return s(h);};e.extend=extend;e.Deferred=jquery_deferred.Deferred;e.when=jquery_deferred.when;}e.getUrlParameter=function(n){if(typeof window!=='undefined'){var s=window.location.href;var v=(new RegExp(n+'='+'(.+?)(&|$|#)','i').exec(s)||[null])[1];if(!v){return v;}v=decodeURIComponent(v.replace(/\+/g,' '));return v;}return'';};e.createGuid=function(){return'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:r&3|8;return v.toString(16).toUpperCase();});};e.pad=function pad(n,a){var s='000000000'+n;return s.substr(s.length-a);};return e;}();g=function(){var e={};e.provider={};e.registerProvider=function(a){this.provider[a.impl_type]=a;};e.QueryOptions={FUZZY:'Fuzzy',VALUEHELP:'ValueHelpMode'};e.SuggestionType={HISTORY:'history',DATASOURCE:'datasource',OBJECTDATA:'objectdata'};e.FacetType={ATTRIBUTE:'attribute',DATASOURCE:'datasource',SEARCH:'searchresult'};e.ChartQueryType={ATTRIBUTE:'attribute',DATASOURCE:'datasource'};e.Sina=function(){this.init.apply(this,arguments);};e.Sina.prototype={init:function(a){a=a||{};if(a.system){this.setSystem(a.system);}if(a._provider.eventLoggingService){this.eventLoggingService=new a._provider.eventLoggingService({sina:this});}},_initQueryProperties:function(a){a=a||{};a.sina=this;a.system=a.system||this.getSystem();if(a.dataSource){a.dataSource=this.createDataSource(a.dataSource);}return a;},createChartQuery:function(a){a=this._initQueryProperties(a);return new this._provider.chartQuery(a);},createSearchQuery:function(a){a=this._initQueryProperties(a);return new this._provider.searchQuery(a);},createGroupBarChartQuery:function(a){a=this._initQueryProperties(a);return new this._provider.groupBarChartQuery(a);},createLineChartQuery:function(a){a=this._initQueryProperties(a);a.dimensions=[a.dimensionLine,a.dimensionX];a.measures=[{name:a.measureY.name,aggregationFunction:a.measureY.aggregationFunction}];return new this._provider.lineChartQuery(a);},createSuggestionQuery:function(a){a=this._initQueryProperties(a);return new this._provider.suggestionQuery(a);},createPerspectiveQuery:function(a){a=this._initQueryProperties(a);return new this._provider.perspectiveQuery(a);},createPerspectiveSearchQuery:function(a){a=this._initQueryProperties(a);return new this._provider.perspectiveSearchQuery(a);},createPerspectiveGetQuery:function(a){a=this._initQueryProperties(a);return new this._provider.perspectiveGetQuery(a);},sinaSystem:function(s){if(s){this.sys=s;}else{return this.sys;}return{};},getSystem:function(){if(this.sys){return this.sys;}return{};},setSystem:function(B){this.sys=B;},createFacet:function(a){a.sina=this;return new this._provider.Facet(a);},ResultElementKeyStatus:{OK:'ok',NO_KEY:'no_key',NO_VALUE:'no_value'},createFilter:function(a){a=a||{};a.sina=this;return new this._provider.Filter(a);},createFilterCondition:function(a,o,v,b,c,l){a=a||{};var d;if(typeof a==='object'){d=a;d.sina=this;}else{d={attribute:a,operator:o,value:v,sina:this,attributeLabel:b,valueLabel:c,label:l};}if(d&&d.conditions){return new this._provider.FilterConditionGroup(d);}return new this._provider.FilterCondition(d);},createFilterConditionGroup:function(a){a=a||{};a.sina=this;return new this._provider.FilterConditionGroup(a);},createDataSource:function(a){var o={};if(a){o=a;}o.sina=o.sina||this;return new this._provider.DataSource(o);},createDataSourceQuery:function(a){a=this._initQueryProperties(a);return new this._provider.DataSourceQuery(a);},getRootDataSource:function(){properties=this._initQueryProperties(properties);return this._provider.getRootDataSource(properties);},getSearchConfiguration:function(a){a=this._initQueryProperties(a);return new this._provider.searchConfiguration(a);},addUserHistoryEntry:function(o){var a={sina:this,system:this.getSystem()};a.oEntry=o;return this._provider.addUserHistoryEntry(a);},emptyUserHistory:function(a){a=this._initQueryProperties(a);return this._provider.emptyUserHistory(a);},getDataSources:function(a){a=this._initQueryProperties(a);return this._provider.metaDataService.getDataSources(a);},getDataSourcesSync:function(a){a=this._initQueryProperties(a);return this._provider.metaDataService.getDataSourcesSync(a);},getDataSource:function(d){properties=this._initQueryProperties();return this._provider.metaDataService.getDataSource(properties,d);},getDataSourceByBusinessObjectName:function(b){properties=this._initQueryProperties();return this._provider.metaDataService.getDataSourceByBusinessObjectName(properties,b);},getDataSourceSync:function(d){properties=this._initQueryProperties();return this._provider.metaDataService.getDataSourceSync(properties,d);},getDataSourceSyncByBusinessObjectName:function(b){var a=this._initQueryProperties();return this._provider.metaDataService.getDataSourceSyncByBusinessObjectName(a,b);},getBusinessObjectsMetaData:function(){var a=this._initQueryProperties();return this._provider.metaDataService.getBusinessObjectsMetaData(a);},getBusinessObjectsMetaDataSync:function(){var a=this._initQueryProperties();return this._provider.metaDataService.getBusinessObjectsMetaDataSync(a);},getBusinessObjectMetaData:function(d){var a=this._initQueryProperties();return this._provider.metaDataService.getBusinessObjectMetaData(a,d);},getBusinessObjectMetaDataByBusinessObjectName:function(b){var a=this._initQueryProperties();return this._provider.metaDataService.getBusinessObjectMetaDataByBusinessObjectName(a,b);},getBusinessObjectMetaDataSync:function(d){var a=this._initQueryProperties();return this._provider.metaDataService.getBusinessObjectMetaDataSync(a,d);},getBusinessObjectMetaDataSyncByBusinessObjectName:function(b){var a=this._initQueryProperties();return this._provider.metaDataService.getBusinessObjectMetaDataSyncByBusinessObjectName(a,b);},setBusinessObjectMetaDataSync:function(x,d){var a=this._initQueryProperties();return this._provider.metaDataService.setBusinessObjectMetaDataSync(a,x,d);},logEvent:function(a){if(this.eventLoggingService){this.eventLoggingService.logEvent(a);}},logEvents:function(a){if(this.eventLoggingService){this.eventLoggingService.logEvents(a);}},createEventLoggingTimestamp:function(){if(this.eventLoggingService){return this.eventLoggingService.createEventLoggingTimestamp();}}};e.SinaError=function(){this.init.apply(this,arguments);};e.SinaError.SEVERITY_ERROR=3;e.SinaError.SEVERITY_WARNING=2;e.SinaError.SEVERITY_INFO=1;e.SinaError.prototype={init:function(a){this.message=a.message||'';this.errorCode=a.errorCode||null;this.severity=a.severity||e.SinaError.SEVERITY_ERROR;},getErrorCode:function(){return this.errorCode;},getMessage:function(){return this.message;},getSeverity:function(){return this.severity;},setSeverity:function(s){this.severity=s;},toString:function(){var m='';switch(this.severity){case e.SinaError.SEVERITY_ERROR:m+='SINA ERROR: ';break;case e.SinaError.SEVERITY_WARNING:m+='SINA WARNING: ';break;case e.SinaError.SEVERITY_INFO:m+='SINA INFO: ';break;}m+=this.message;return m;}};return e;}();q=function(){var e={};var a=function(){};e.Query=function(){this.init.apply(this,arguments);};e.Query.prototype={init:function(b){b=b||{};this.sina=b.sina;this.system=b.system;this.onSuccess=b.onSuccess;this.onError=b.onError;this.options=[];this._responseJson=null;this.setTop(b.top||10);this.setSkip(b.skip||0);this.resultSetProperties=b;this.filter=this.filter||b.filter||this.sina.createFilter({dataSource:b.dataSource});this.datasource=this.datasource||b.dataSource;if(b.filterConditions&&b.filterConditions.length>0){for(var i=0,l=b.filterConditions.length;i<l;i++){var c=b.filterConditions[i];if(c&&c instanceof Array&&c.length>0){this.addFilterCondition(c[0],c[1],c[2]);}else if(c&&typeof c==='string'){this.addFilterCondition(b.filterConditions[0],b.filterConditions[1],b.filterConditions[2]);break;}}}this.setSearchTerms(b.searchTerms||'');},addOption:function(o){if(this.options.indexOf(o)===-1){this._resetResultSet();this.options.push(o);}},removeOption:function(o){if(this.options.indexOf(o)!==-1){this.options.splice(this.options.indexOf(o),1);this._resetResultSet();}},dataSource:function(n){if(n){this.setDataSource(n);return this;}else{return this.getDataSource();}},getDataSource:function(){return this.filter.getDataSource();},setDataSource:function(d){if(d===undefined){return this;}if(this.filter.getDataSource()===undefined){this.filter.setDataSource(d);this._resetResultSet();return this;}if(!this.filter.getDataSource().equals(d)){this.filter.setDataSource(d);this._resetResultSet();}return this;},setFacetOptions:function(o){this._resetResultSet();this.facetOptions=o;},getFacetOptions:function(){return this.facetOptions;},getFilter:function(){return this.filter;},setFilter:function(b){if(!this.filter.equals(b)){this._resetResultSet();}this.filter=b;return this;},setSearchTerms:function(b){if(this.filter.getSearchTerms()!==b){this.filter.setSearchTerms(b);this._resetResultSet();}return this;},getSearchTerms:function(){return this.filter.getSearchTerms();},skip:function(n){if(n!==undefined){this.setSkip(n);}else{return this._skip;}return this;},getSkip:function(){return this._skip;},setSkip:function(s){if(this._skip!==s){this._resetResultSet();}this._skip=s;return this;},top:function(n){if(n!==undefined){this.setTop(n);}else{return this._top;}return this;},getTop:function(){return this._top;},setTop:function(b){if(isNaN(b)){return false;}this._top=parseInt(this._top,10);if(this._top!==b){this._top=b;this._resetResultSet();}return this;},addFilterCondition:function(b,o,v){if(typeof b==='string'){b=this.sina.createFilterCondition(b,o,v);}if(this.filter.hasFilterCondition(b,o,v)===false){this.filter.addFilterCondition(b,o,v);this._resetResultSet();}return this;},removeFilterCondition:function(b,o,v){this.filter.removeFilterCondition(b,o,v);this._resetResultSet();return this;},resetFilterConditions:function(){this.filter.resetFilterConditions();this._resetResultSet();return this;},getResultSetSync:function(){this.resultSet=this.executeSync();return this.resultSet;},getResultSet:function(o,b){var c=this;o=o||this.onSuccess||a;b=b||this.onError||a;var r=this.execute();r.done(function(d){c.resultSet=d;o(d);});r.fail(function(d){b(d);});return r.promise();},_resetResultSet:function(){},resetResultSet:function(){this._resetResultSet();},execute:function(){},executeSync:function(){}};return e;}();p=function(f,q){var e={};e.SearchQuery=function(){this.init.apply(this,arguments);};e.SearchQuery.prototype=f.extend({},q.Query.prototype,{init:function(){q.Query.prototype.init.apply(this,arguments);}});return e;}(f,q);t=function(f){var e={};e.getDataSourceMetaDataRequest=function(){return f.extend({},{'DataSource':{},'Options':['SynchronousRun'],'Metadata':{'Context':'Search','Expand':['Cube']},'ServiceVersion':204});};e.getCatalogRequest=function(){return f.extend({},{'DataSource':{'ObjectName':'$$DataSources$$','PackageName':'ABAP'},'Options':['SynchronousRun'],'Search':{'Top':1000,'Skip':0,'OrderBy':[{'AttributeName':'Description','SortOrder':'ASC'},{'AttributeName':'ObjectName','SortOrder':'ASC'}],'Expand':['Grid','Items'],'Filter':{'Selection':{'Operator':{'Code':'And','SubSelections':[{'MemberOperand':{'AttributeName':'SupportedService','Comparison':'=','Value':'Search'}}]}}},'NamedValues':[{'AttributeName':'ObjectName','Name':'ObjectName'},{'AttributeName':'Description','Name':'Description'},{'AttributeName':'DescriptionPlural','Name':'DescriptionPlural'},{'AttributeName':'Type','Name':'Type'}]},'SearchTerms':'*','ServiceVersion':204});};e.getESHConnectorRequest=function(){return f.extend({},{'DataSource':{'SchemaName':'','PackageName':'ABAP','ObjectName':'~ESH_CONNECTOR~','Type':'Connector'},'Search':{'Top':1000,'Skip':0,'OrderBy':[{'AttributeName':'DESCRIPTION','SortOrder':'ASC'}],'Expand':['Grid','Items','TotalCount'],'Filter':{},'NamedValues':[{'AttributeName':'$$ResultItemAttributes$$','Name':'$$ResultItemAttributes$$'},{'AttributeName':'$$RelatedActions$$','Name':'$$RelatedActions$$'}],'SearchTerms':'*','SelectedValues':[]}});};e.getSuggestionRequest=function(){return f.extend({},{'DataSource':{},'Options':['SynchronousRun'],'Suggestions':{'Expand':['Grid','Items'],'Precalculated':false,'SearchTerms':'','AttributeNames':[]},'ServiceVersion':204});};e.getSuggestion2Request=function(){return f.extend({},{'DataSource':{},'Options':['SynchronousRun'],'Suggestions2':{'Expand':['Grid','Items'],'Precalculated':false,'AttributeNames':[]},'ServiceVersion':204});};e.getPerspectiveRequest=function(){return f.extend({},{'DataSource':{},'Options':['SynchronousRun'],'Search':{'Expand':['Grid','Items','ResultsetFacets','TotalCount'],'Filter':{'Selection':{'Operator':{'Code':'And','SubSelections':[{'MemberOperand':{'AttributeName':'$$RenderingTemplatePlatform$$','Comparison':'=','Value':'html'}},{'MemberOperand':{'AttributeName':'$$RenderingTemplateTechnology$$','Comparison':'=','Value':'Tempo'}},{'MemberOperand':{'AttributeName':'$$RenderingTemplateType$$','Comparison':'=','Value':'ResultItem'}}]}}},'Top':10,'Skip':0,'SearchTerms':'S*','NamedValues':[{'Function':'WhyFound','Name':'$$WhyFound$$'},{'Function':'RelatedActions','Name':'$$RelatedActions$$'}]},'ServiceVersion':204});};e.getPerspectiveSearchRequest=function(){return f.extend({},{'DataSource':{'ObjectName':'$$Perspectives$$','Type':'View'},'Options':['SynchronousRun'],'Search':{'Expand':['Grid','Items'],'Filter':{'Selection':{'Operator':{'Code':'Or','SubSelections':[{'MemberOperand':{'AttributeName':'SCHEMA_VERSION_NUMBER','Comparison':'=','Value':'3'}},{'MemberOperand':{'AttributeName':'SCHEMA_VERSION_NUMBER','Comparison':'=','Value':'4'}},{'MemberOperand':{'AttributeName':'SCHEMA_VERSION_NUMBER','Comparison':'=','Value':'5'}}]}}},'SearchTerms':'*','SelectedValues':[{'AttributeName':'PACKAGE_ID','Name':'PACKAGE_ID'},{'AttributeName':'PERSPECTIVE_ID','Name':'PERSPECTIVE_ID'},{'AttributeName':'TITLE_TEXT','Name':'TITLE_TEXT'},{'AttributeName':'SUMMARY_TEXT','Name':'SUMMARY_TEXT'}],'Skip':0,'Top':30}});};e.getPerspectiveRequestFactsheet=function(){return f.extend({},{'DataSource':{},'Options':['SynchronousRun'],'Search':{'Expand':['Grid','Items','ResultsetFacets','TotalCount'],'Filter':{'Selection':{'Operator':{'Code':'And','SubSelections':[{'MemberOperand':{'AttributeName':'$$RenderingTemplatePlatform$$','Comparison':'=','Value':'html'}},{'MemberOperand':{'AttributeName':'$$RenderingTemplateTechnology$$','Comparison':'=','Value':'Tempo'}},{'MemberOperand':{'AttributeName':'$$RenderingTemplateType$$','Comparison':'=','Value':'ResultItem'}}]}}},'Top':10,'Skip':0,'SearchTerms':'S*','NamedValues':[{'Function':'WhyFound','Name':'$$WhyFound$$'},{'AttributeName':'$$RelatedActions$$'},{'AttributeName':'$$RelatedActions.Proxy$$'}]},'ServiceVersion':204});};e.getSearchRequest=function(){return f.extend({},{'DataSource':{},'SearchTerms':'DUMMY','Search':{'Expand':['Grid','Items','TotalCount'],'Top':'DUMMY','Skip':'DUMMY','SelectedValues':'DUMMY','NamedValues':[{'AttributeName':'$$ResultItemAttributes$$','Name':'$$ResultItemAttributes$$'},{'AttributeName':'$$RelatedActions$$','Name':'$$RelatedActions$$'}]}});};e.getABAPChartRequest=function(){return f.extend({},{'DataSource':{},'Options':['SynchronousRun'],'Search':{'Expand':['Grid','ResultsetFacets','TotalCount'],'Filter':{},'Top':10,'Skip':0,'SearchTerms':'*','NamedValues':[{'Function':'WhyFound','Name':'$$WhyFound$$'},{'AttributeName':'$$RelatedActions$$'},{'AttributeName':'$$RelatedActions.Proxy$$'}],'OrderBy':[]},'ServiceVersion':204,'Facets':{'MaxNumberOfReturnValues':1000,'Attributes':[]}});};e.getChartRequest=function(){return f.extend({},{'DataSource':{},'Options':['SynchronousRun'],'SearchTerms':'','Analytics':{'Definition':{'Dimensions':[{'Axis':'Rows','Name':'CATEGORY','SortOrder':1,'Top':5},{'Axis':'Columns','Name':'CustomDimension1','Members':[{'Aggregation':'COUNT','AggregationDimension':'CATEGORY','MemberOperand':{'AttributeName':'Measures','Comparison':'=','Value':'COUNT'},'Name':'COUNT','SortOrder':2}]}],'Filter':{}}}});};e.getSearchConfigurationRequest=function(){return f.extend({},{'SearchConfiguration':{'Action':'Update','Data':{'PersonalizedSearch':{'PersonalizationPolicy':'','SessionUserActive':true,'ResetUserData':true},'NavigationEvent':{'SourceApplication':'','TargetApplication':'','Parameter':[]}}}});};return e;}(f);u=function(){var e={};e.Filter=function(){this.init.apply(this,arguments);};e.Condition=function(){this.init.apply(this,arguments);};e.ConditionGroup=function(){this.init.apply(this,arguments);};e.Filter.prototype={init:function(a){a=a||{};this.sina=a.sina;this.setDataSource(a.dataSource);this.conditionGroupsByAttribute={};this.defaultConditionGroup=this.sina.createFilterConditionGroup({label:'DefaultRoot',operator:'And'});this.searchTerms=a.searchTerms||'';},_findAttributeOfCondition:function(c){if(c instanceof e.Condition){return{attribute:c.attribute,attributeLabel:c.attributeLabel};}return this._findAttributeOfCondition(c.conditions[0]);},_findAttributeLabelOfGroup:function(a){if(!a||!a.conditions){return'';}for(var i=0;i<a.conditions.length;i++){var b=a.conditions[i];if(b instanceof e.Condition){return b.attributeLabel;}else if(b instanceof e.ConditionGroup){return this._findAttributeLabelOfGroup(b);}}},addFilterCondition:function(a,o,v,b,c){var d;var l;if(typeof a==='object'){if(a instanceof e.Condition){d=a;l=d.attribute;}else if(a instanceof e.ConditionGroup){d=a;l=this._findAttributeOfCondition(d).attribute;}else{var h=a;if(h.conditions){d=this.sina.createFilterConditionGroup(h);l=this._findAttributeOfGroup(d);}else{d=this.sina.createFilterCondition(h.attribute,h.operator,h.value,h.attributeLabel,h.valueLabel);l=h.attribute;}}}else{if(a===undefined||o===undefined||v===undefined){return this;}d=this.sina.createFilterCondition(a,o,v,b,c);l=d.attribute;}if(this.defaultConditionGroup.hasCondition(d)){return this;}if(this.conditionGroupsByAttribute[l]===undefined){this.conditionGroupsByAttribute[l]=this.sina.createFilterConditionGroup({operator:'OR',label:this._findAttributeOfCondition(d).attributeLabel||''});this.defaultConditionGroup.addCondition(this.conditionGroupsByAttribute[l]);}this.conditionGroupsByAttribute[l].addCondition(d);return this;},setDefaultConditionGroup:function(d){this.defaultConditionGroup=d;this._initConditionGroupsByAttribute();},_initConditionGroupsByAttribute:function(){this.conditionGroupsByAttribute={};var c=this.defaultConditionGroup.getConditions();for(var i=0;i<c.length;++i){var a=c[i];var b=this._findAttributeOfCondition(a).attribute;this.conditionGroupsByAttribute[b]=a;}},empty:function(){this.resetFilterConditions();this.searchTerms='';return this;},hasFilterCondition:function(a,o,v){if(typeof a==='string'){a=this.sina.createFilterCondition(a,o,v);}return this.defaultConditionGroup.hasCondition(a);},resetFilterConditions:function(){this.conditionGroupsByAttribute={};this.defaultConditionGroup=this.sina.createFilterConditionGroup({label:'DefaultRoot',operator:'And',sina:this.sina});return this;},removeFilterCondition:function(a,o,v,b,c){var d;var l;if(typeof a==='object'){if(a instanceof e.Condition){d=a;l=d.attribute;}else if(a instanceof e.ConditionGroup){d=a;l=this._findAttributeOfCondition(d).attribute;}else{var h=a;d=this.sina.createFilterCondition(h.attribute,h.operator,h.value,h.attributeLabel,h.valueLabel);l=h.attribute;}}else{if(a===undefined||o===undefined||v===undefined){return this;}d=this.sina.createFilterCondition(a,o,v,b,c);l=d.attribute;}this.defaultConditionGroup.removeCondition(d);var i=this.conditionGroupsByAttribute[l];if(i){i.removeCondition(d);if(i.conditions.length===0){delete this.conditionGroupsByAttribute[l];this.defaultConditionGroup.removeCondition(i);}}return this;},addFilterConditionGroup:function(c){this.addFilterCondition(c);},getFilterConditions:function(){return this.defaultConditionGroup;},getSearchTerms:function(){return this.searchTerms;},removeFilterConditionGroup:function(c){this.defaultConditionGroup.removeCondition(c);var a=c.conditions[0].attribute;if(this.conditionGroupsByAttribute[a]){this.conditionGroupsByAttribute[a].removeCondition(c);if(this.conditionGroupsByAttribute[a].conditions.length===0){delete this.conditionGroupsByAttribute[a];}}},setSearchTerms:function(s){this.searchTerms=s||'';},getDataSource:function(){return this.dataSource;},setDataSource:function(d){if(this.dataSource&&!this.dataSource.equals(d)){this.resetFilterConditions();}this.dataSource=d;},getJson:function(){return{dataSource:this.dataSource.getJson(),defaultConditionGroup:this.defaultConditionGroup.getJson(),searchTerms:this.searchTerms};},setJson:function(j){var d;this.empty();if(j.dataSource){var a=this.sina.createDataSource();a.setJson(j.dataSource);this.setDataSource(a);}this.setSearchTerms(j.searchTerms);if(typeof j.defaultConditionGroup==='object'){d=this.sina.createFilterConditionGroup(j.defaultConditionGroup);}if(d){this.setDefaultConditionGroup(d);}},clone:function(){var n=this.sina.createFilter();n.dataSource=this.dataSource;n.searchTerms=this.searchTerms;n.conditionGroupsByAttribute={};if(this.defaultConditionGroup&&this.defaultConditionGroup.clone){n.defaultConditionGroup=this.defaultConditionGroup.clone();for(var i=0;i<n.defaultConditionGroup.conditions.length;i++){var s=n.defaultConditionGroup.conditions[i];var a=this._getAttributeName(s);n.conditionGroupsByAttribute[a]=s;}}return n;},_getAttributeName:function(c){if(c.attribute){return c.attribute;}else{var s=c.conditions[0];return this._getAttributeName(s);}},equals:function(o){if(!(o instanceof e.Filter)){return false;}if(this.dataSource&&o.dataSource){if(!this.dataSource.equals(o.dataSource)){return false;}}else if(!this.dataSource&&o.dataSource){return false;}else if(this.dataSource&&!o.dataSource){return false;}if(this.searchTerms!==o.searchTerms){return false;}if(!this.defaultConditionGroup.equals(o.defaultConditionGroup)){return false;}return true;}};e.Condition.prototype={init:function(a,o,v,l1,b,c,l){if(typeof a==='object'){var d=a;a=d.attribute;o=d.operator;v=d.value;l1=d.sina;b=d.attributeLabel;c=d.valueLabel;l=d.label;}this.attribute=a||'';this.operator=o||'=';this.value=v;this.sina=l1;this.attributeLabel=b||'';this.valueLabel=c||'';this.label=l||'';},equals:function(o){if(!(o instanceof e.Condition)){return false;}return this.attribute===o.attribute&&this.operator===o.operator&&this.value===o.value;},toString:function(){return this.attributeLabel+this.operator+this.valueLabel+'';},getJson:function(){return{attribute:this.attribute,value:this.value,operator:this.operator,attributeLabel:this.attributeLabel,valueLabel:this.valueLabel,label:this.label};},setJson:function(j){if(!j.attribute||!j.value||!j.operator){throw'Following filter condition JSON does not have all necessary properties(attribute, value, operator): '+JSON.stringify(j);}this.attribute=j.attribute;this.value=j.value;this.operator=j.operator;this.attributeLabel=j.attributeLabel;this.valueLabel=j.valueLabel;this.label=j.label;},clone:function(){var n=this.sina.createFilterCondition();n.operator=this.operator;n.attribute=this.attribute;n.value=this.value;n.attributeLabel=this.attributeLabel;n.valueLabel=this.valueLabel;n.label=this.label;return n;}};e.ConditionGroup.prototype={init:function(a){a=a||{};this.label=a.label||'';this.setOperator(a.operator||'And');this.sina=a.sina;this.conditions=a.conditions||[];for(var i=0;i<this.conditions.length;i++){var b=this.conditions[i];if(typeof b==='object'){if(b.conditions){this.conditions[i]=this.sina.createFilterConditionGroup(b);}else{this.conditions[i]=this.sina.createFilterCondition(b);}}}},addCondition:function(c){if(c instanceof e.ConditionGroup||c instanceof e.Condition){this.conditions.push(c);return this;}throw'Condition of type '+typeof c+' can not be added to a filterConditionGroup';},equals:function(o){if(!(o instanceof e.ConditionGroup)){return false;}if(this.conditions.length!==o.conditions.length){return false;}for(var i=0,l=this.conditions.length;i<l;i++){var c=this.conditions[i];var a=false;for(var j=0,b=o.conditions.length;j<b;j++){var d=o.conditions[j];if(c.equals(d)){a=true;break;}}if(!a){return false;}}if(this.label!==o.label){return false;}return true;},getConditions:function(){return this.conditions;},getConditionsAsArray:function(a,c){c=c||[];a=a||this;for(var i=0;i<a.conditions.length;i++){if(a.conditions[i]instanceof e.ConditionGroup){this.getConditionsAsArray(a.conditions[i],c);}else{c.push(a.conditions[i]);}}return c;},hasCondition:function(c){for(var i=0,l=this.conditions.length;i<l;i++){var a=this.conditions[i];if(a instanceof e.ConditionGroup){if(c instanceof e.ConditionGroup){if(a.equals(c)){return true;}}else if(c instanceof e.Condition){if(a.hasCondition(c)){return true;}}}else if(a instanceof e.Condition){if(c instanceof e.ConditionGroup){if(c.hasCondition(a)){return true;}}else if(c instanceof e.Condition){if(a.equals(c)){return true;}}}}return false;},removeCondition:function(c){var a;for(var i=0,l=this.conditions.length;i<l;i++){a=this.conditions[i];if(a instanceof e.ConditionGroup){if(c instanceof e.ConditionGroup){if(a.equals(c)){this.conditions.splice(i,1);}}else if(c instanceof e.Condition){a.removeCondition(c);}}else if(a instanceof e.Condition){if(c instanceof e.ConditionGroup){c.removeCondition(a);}else if(c instanceof e.Condition){if(a.equals(c)){this.conditions.splice(i,1);}}}}for(var j=0,b=this.conditions.length;j<b;j++){a=this.conditions[j];if(a instanceof e.ConditionGroup&&a.conditions.length===0){this.conditions.splice(j,1);}}return this;},setLabel:function(l){this.label=l;return this;},setOperator:function(o){switch(o.toLowerCase()){case'or':o='Or';break;case'and':o='And';break;default:throw{message:'unknown operator for condition group: '+o};}this.operator=o;return this;},toString:function(){return this.label;},getJson:function(){var a=this;var b=function(){var c=[];for(var i=0;i<a.conditions.length;i++){c.push(a.conditions[i].getJson());}return c;};return{operator:this.operator,label:this.label,conditions:b()};},setJson:function(j){this.operator=j.operator;this.label=j.label||'';var a=j.conditions;for(var i=0;i<a.length;i++){var b=a[i];var c=null;if(b.attribute){c=this.sina.createFilterCondition();}else if(Object.prototype.toString.call(b.conditions)==='[object Array]'&&b.conditions.length>0){c=this.sina.createFilterConditionGroup();}else{throw'Following filter condition group JSON has neither attribute nor sub conditions:'+JSON.stringify(b);}c.setJson(b);this.conditions.push(c);}},clone:function(){var n=this.sina.createFilterConditionGroup();n.operator=this.operator;n.label=this.label;n.sina=this.sina;n.conditions=[];for(var i=0;i<this.conditions.length;i++){var c=this.conditions[i];n.conditions.push(c.clone());}return n;}};return e;}();w=function(u,f){var e={};e.Filter=function(){this.init.apply(this,arguments);};e.Condition=function(){this.init.apply(this,arguments);};e.ConditionGroup=function(){this.init.apply(this,arguments);};e.Filter.prototype=f.extend(Object.create(u.Filter.prototype),{init:function(a){u.Filter.prototype.init.apply(this,[a]);},getDataForRequest:function(){var r=[];this.defaultConditionGroup.getDataForRequest(r);r[0].Selection.Operator=r[0].Selection.Operator||{'Code':'And'};r[0].Selection.Operator.SubSelections=r[0].Selection.Operator.SubSelections||[];r[0].Selection.Operator.SubSelections.push({'MemberOperand':{'AttributeName':'$$RenderingTemplatePlatform$$','Comparison':'=','Value':'html'}});r[0].Selection.Operator.SubSelections.push({'MemberOperand':{'AttributeName':'$$RenderingTemplateTechnology$$','Comparison':'=','Value':'Tempo'}});r[0].Selection.Operator.SubSelections.push({'MemberOperand':{'AttributeName':'$$RenderingTemplateType$$','Comparison':'=','Value':'ResultItem'}});r[0].Selection.Operator.SubSelections.push({'MemberOperand':{'AttributeName':'$$RenderingTemplateType$$','Comparison':'=','Value':'ItemDetails'}});return r[0];},setJsonFromResponse:function(j){if(j.Selection===undefined){return;}var a=this.sina.createFilterConditionGroup();a.setJsonFromResponse(j);this.defaultConditionGroup.addCondition(a);}});e.Condition.prototype=f.extend(Object.create(u.Condition.prototype),{init:function(a,o,v,l1){u.Condition.prototype.init.apply(this,arguments);},getDataForRequest:function(a){var o;var j={};if(this.operator.toLowerCase()==='contains'){o='SearchOperand';}else{o='MemberOperand';}j[o]={'AttributeName':this.attribute,'Comparison':this.operator,'Value':this.value};if(o==='SearchOperand'){delete j[o].Comparison;}j[o]=f.extend({},j[o],this.inaV2_extended_properties);if(this.operator==='='&&this.value===null){j.MemberOperand.Comparison='IS NULL';j.MemberOperand.Value='';}a.push(j);},setJsonFromResponse:function(j){this.attribute=j.MemberOperand.AttributeName;this.operator=j.MemberOperand.Comparison;this.value=j.MemberOperand.Value;if(j.MemberOperand.Comparison==='IS NULL'&&j.MemberOperand.Value===''){this.operator='=';this.value=null;}}});e.ConditionGroup.prototype=f.extend(Object.create(u.ConditionGroup.prototype),{init:function(a){u.ConditionGroup.prototype.init.apply(this,[a]);},getDataForRequest:function(a){var r={Selection:{}};var c=[];if(this.conditions.length>0){for(var i=0;i<this.conditions.length;++i){this.conditions[i].getDataForRequest(c);}r.Selection={'Operator':{'Code':this.operator,'SubSelections':c}};}if(a){a.push(r);}else{return r;}},setJsonFromResponse:function(j){if(j.Selection===undefined&&j.Operator){j.Selection={};j.Selection.Operator=j.Operator;}this.setOperator(j.Selection.Operator.Code);var c=j.Selection.Operator.SubSelections;for(var i=0;i<c.length;i++){var a;if(c[i].Operator){a=this.sina.createFilterConditionGroup();}else{a=this.sina.createFilterCondition();}a.setJsonFromResponse(c[i]);this.addCondition(a);}}});return e;}(u,f);x=function(){var e={};e.DataSource=function(){this.init.apply(this,arguments);};e.DataSourceMetaData=function(){this.init.apply(this,arguments);};e.DataSourceMetaData.prototype={init:function(){}};e.DataSourceType={CATEGORY:'Category',BUSINESSOBJECT:'BusinessObject'};e.DataSourceType.DEFAULT=e.DataSourceType.CATEGORY;e.DataSource.prototype={init:function(a){a=a||{};this.type=a.type||e.DataSourceType.DEFAULT;this.name=a.name||'';this.label=a.label||a.name;this.labelPlural=a.labelPlural||a.label;this.key='';this._constructKey();},equals:function(o){if(this.key!==o.key){return false;}return true;},clone:function(){},getMetaData:function(){if(this.equals(this.sina.getRootDataSource())){return null;}return this.sina.getBusinessObjectMetaData(this);},getMetaDataSync:function(){if(this.equals(this.sina.getRootDataSource())){return null;}return this.sina.getBusinessObjectMetaDataSync(this);},getType:function(){return this.type;},setType:function(a){this.type=a;},getLabel:function(){return this.label;},getLabelPlural:function(){return this.labelPlural;},getIdentifier:function(){},_constructKey:function(){this.key=this.type+'/'+this.name;},getJson:function(){return{'type':this.type,'name':this.name,'label':this.label,'labelPlural':this.labelPlural};},setJson:function(j){this.type=j.type||'';this.name=j.name||'';this.label=j.label||'';this.labelPlural=j.labelPlural||'';this._constructKey();}};return e;}();y=function(q,g,f){var e={};e.SuggestionQuery=function(){this.init.apply(this,arguments);};e.SuggestionQuery.prototype=f.extend({},q.Query.prototype,{init:function(){q.Query.prototype.init.apply(this,arguments);this.suggestionTypes=[g.SuggestionType.OBJECTDATA,g.SuggestionType.HISTORY,g.SuggestionType.DATASOURCE];},resetResultSet:function(){this._resetResultSet();return this;},setSuggestionTypes:function(s){this.suggestionTypes=s;this._resetResultSet();}});return e;}(q,g,f);A=function(f){var e={};e.Proxy=function(){this.init.apply(this,arguments);};e.inaReqResBuffer={};e.Proxy.prototype={init:function(a){this.properties=a||{};this.system=this.properties.system;this.xsrfToken='';this.xsrfService=this.properties.xsrfService;this.xsrfRetries=0;this.xsrfRequest={'headers':{'X-CSRF-Token':'Fetch'},'cache':false,'url':this.xsrfService};this.properties.httpMethod=this.properties.httpMethod||'post';this.properties.recordFile=this.properties.recordFile;this.properties.demoMode=this.properties.demoMode||'';if(typeof window!=='undefined'){this._checkRecordingURLValues();}},setSystem:function(B){this.system=B;},_checkRecordingURLValues:function(){function a(n){return decodeURI((new RegExp(n+'='+'(.+?)(&|$)').exec(window.location.search)||[null])[1]);}function h(n){if(window.location.search.toLowerCase().indexOf('&'+n.toLowerCase())!==-1){return true;}if(window.location.search.toLowerCase().indexOf('?'+n.toLowerCase())!==-1){return true;}return false;}if(h('record')){this.properties.recordFile=a('record');}if(h('demoMode')){this.properties.demoMode=a('demoMode');}},_requestHashValue:function(a,d){if(d){var b=a.indexOf('?')===-1?'?':'&';a=a+b+'Request=';if(typeof d==='string'){a+=d;}else{a+=JSON.stringify(d);}}return a;},_handleRequestFromRecords:function(r,a){var b=this;function c(h,j,k){if(typeof h==='string'){h=JSON.parse(h);}var l=h[b._requestHashValue(j,k)];if(l){return l;}else{var m=new Error('Could not find request hash '+b._requestHashValue(j,k)+' in record file '+a);if(r.async){return new f.Deferred().reject(m);}else{throw m;}}}if(r.async===false){if(!this.recordings){this.recordings=this._loadRecordings(a).responseText;this.recordings=JSON.parse(this.recordings);}var d={};if(Object.prototype.toString.call(this.recordings)==='[object Array]'){for(var i=0;i<this.recordings.length;i++){d[b._requestHashValue(this.recordings[i].requestUrl,this.recordings[i].requestData)]=this.recordings[i].responseData;}this.recordings=d;}return{responseText:JSON.stringify(c(this.recordings,r.url,r.data))};}return this._loadRecordingsAsync(r.async,a).then(function(h){return c(h,r.url,r.data);});},_loadRecordings:function(r){return this._ajax({async:false,dataType:'json',url:r});},_loadRecordingsAsync:function(a,r){var b=this;if(this.recordingsDefer){return this.recordingsDefer;}this.recordingsDefer=f.Deferred();var j=this._ajax({dataType:'json',url:r});j.done(function(c){var d={};if(Object.prototype.toString.call(c)==='[object Array]'){for(var i=0;i<c.length;i++){d[b._requestHashValue(c[i].requestUrl,c[i].requestData)]=c[i].responseData;}c=d;}b.recordingsDefer.resolve(c);});j.fail(function(c){b.recordingsDefer.resolve({});});return this.recordingsDefer;},_saveRecordingsAsync:function(r){var a=this;return this._ajax({type:'PUT',url:a.properties.recordFile,data:JSON.stringify(r)});},setXSRFService:function(a){this.xsrfService=a;this.xsrfRequest.url=a;},_getXSRFToken:function(){var a=this;if(!this.xsrfDeferred){this.xsrfRetries++;this.xsrfDeferred=this._ajax(this.xsrfRequest);this.xsrfDeferred.done(function(d){a.xsrfToken=a.xsrfDeferred.getResponseHeader('X-CSRF-Token')||a.xsrfToken||'';if(a.xsrfToken){a.xsrfRetries=0;}});}return this.xsrfDeferred.promise();},_requestWithXSRFToken:function(r){var a=this;if(r.async===false){if(this.xsrfDeferred&&this.xsrfDeferred.state()==='pending'){this.xsrfDeferred.abort();}this.xsrfRequest.async=false;this.xsrfDeferred=this._ajax(this.xsrfRequest);if(r.url===this.xsrfService){return this.xsrfDeferred;}this.xsrfToken=this.xsrfDeferred.getResponseHeader('X-CSRF-Token')||this.xsrfToken||'';r.headers={'X-CSRF-Token':this.xsrfToken};return this._ajax(r);}else{if(r.url===this.xsrfService){return this._getXSRFToken();}var d=f.Deferred();this._getXSRFToken().done(function(b){r.headers={'X-CSRF-Token':a.xsrfToken};a._ajax(r).done(function(b){d.resolve(b);}).fail(function(c,h,i){if(c.status===400){if(c.responseJSON&&c.responseJSON.Error&&c.responseJSON.Error.Code&&c.responseJSON.Error.Code===403){if(a.xsrfRetries<5){a.xsrfDeferred=null;a._requestWithXSRFToken(r).done(function(b){d.resolve(b);}).fail(function(c){d.reject(c);});}}else{d.reject(c);}}else{if(c.status>=200&&c.status<=299&&(h||i)){c.status=500;c.statusText=h;var s=h+': ';if(i&&i.stack){s=s+i.stack;}c.responseText=s;}d.reject(c);}});}).fail(function(b){d.reject(b);});return d.promise();}},_ajax:function(a){var d={async:true,dataType:'json',url:'',type:'GET',data:''};a=f.extend({},d,a);a.type=a.type.toUpperCase();if(this.system.user&&this.system.password&&this.system.host&&this.system.port){a.url=this.system.protocol+'://'+this.system.user+':'+this.system.password+'@'+this.system.host+':'+this.system.port+a.url;}if(typeof window==='undefined'){var b=this;var c=f.Deferred();c.getResponseHeader=function(n){n=n.toLowerCase();return b.responseHeaders[n];};var h=bluebird;var i=h.promisify(i);var j=f.extend({},{strictSSL:false,jar:true},this.system.requestOptions);i=i.defaults(j);h.promisifyAll(i);if(a.async===false){throw new Error('synchronous ajax calls are not supported by server side sina');}a.method=a.type;if(a.dataType==='json'){a.json=true;}if(a.method==='GET'){a.qs=a.data;}else if(a.method==='POST'){a.body=a.data;}var r=i(a);r.then(function(k){b.responseHeaders=k.headers;return c.resolve(k.body);});r.error(function(k){return c.reject(k);});return c;}else{if(a.type.toLowerCase()==='post'){a.data=JSON.stringify(a.data);}return f.ajax(a);}},ajax:function(r){var a=this;var j;if(this.properties.demoMode){j=this._handleRequestFromRecords(r,this.properties.demoMode);}else{r.processData=r.processData||false;r.type=r.type||this.properties.httpMethod||'POST';if(r.data&&!r.noXSRFToken){if(r.type.toLowerCase()==='get'){r.data='Request='+JSON.stringify(r.data);}}if(r.noXSRFToken){j=this._ajax(r);}else{j=this._requestWithXSRFToken(r);}}if(j&&j.done){j.done(function(b){if(a.properties.recordFile){a._recordResponseAsync(r,b,a.properties.recordFile);}});}return j;},_recordResponseAsync:function(r,a,b){a=f.extend(true,{},a);var c=this;this._loadRecordingsAsync(false,b).then(function(d){if(typeof d==='string'){d=JSON.parse(d);}d[c._requestHashValue(r.url,r.data)]=a;return d;}).then(function(d){if(b===c.properties.demoMode){throw'Recording: source file must not be the same as target file';}c._saveRecordingsAsync(d);});}};return e;}(f);B=function(A,f){var e={};e.System=function(){this.init.apply(this,arguments);};e.Service=function(){this.init.apply(this,arguments);};e.Capability=function(){this.init.apply(this,arguments);};e.Capability.prototype={init:function(a){this.properties=a||{};this.name=this.properties.Capability||'';this.minVersion=this.properties.MinVersion||0;this.maxVersion=this.properties.MaxVersion||0;}};e.Service.prototype={init:function(a){this.properties=a||{};this.name=this.properties.Service;this.minVersion=this.properties.MinVersion||0;this.maxVersion=this.properties.MaxVersion||0;this.capabilities={};for(var i=0;i<this.properties.Capabilities.length;i++){this.capabilities[this.properties.Capabilities[i].Capability]=new e.Capability(this.properties.Capabilities[i]);}},getCapability:function(n){return this.capabilities[n];},getCapabilities:function(){return this.capabilities;}};e.System.prototype={init:function(a){this.services={};this.host=a.host||'';this.port=a.port||'';this.user=a.user||'';this.password=a.password||'';this.protocol=a.protocol||'https';this.servicePath=a.servicePath||'';this.servicePath=a.servicePath||'';this.servicePath=a.servicePath||'';this.requestOptions=a.requestOptions||{};this.proxy=a.proxy||new A.Proxy({system:this});},_getUrlParameter:function(n){return f.getUrlParameter(n);},getService:function(n){return this.services[n];},getServices:function(){return this.services;},getSystemType:function(){return this.systemType;},_deleteServerInfo:function(){if(this.jqXHR){this.jqXHR=f.Deferred();}},_getServerInfo:function(i){var a=this;if(this.jqXHR&&i){return this.jqXHR.promise();}if(this.jqXHR&&i===false){if(this.jqXHR.state()==='resolved'){return this.properties;}if(this.jqXHR.state()==='pending'){this.deprecatedJqXHR=f.extend({},this.jqXHR);}}this.jqXHR=f.Deferred();var r={async:i,type:'GET',url:this.infoUrl,getServerInfo:true,processData:false,contentType:'application/json',dataType:'json',error:function(j,c,d){throw new Error('Error while fetching GetServerInfo: '+j.statusText);}};if(i===true){this.proxy.ajax(r).done(function(d){a.setServerInfo(d);a.jqXHR.resolve(a.properties);if(a.deprecatedJqXHR){a.deprecatedJqXHR.resolve(a.properties);}}).fail(function(c){a.jqXHR.reject(c);if(a.deprecatedJqXHR){a.deprecatedJqXHR.reject(c);}});return this.jqXHR.promise();}var b=this.proxy.ajax(r);this.setServerInfo(JSON.parse(b.responseText));return this.properties;},getServerInfo:function(){return this._getServerInfo(true);},getServerInfoSync:function(){return this._getServerInfo(false);}};return e;}(A,f);C=function(A,f){var e={};e.Proxy=function(){this.init.apply(this,arguments);};e.Proxy.prototype=f.extend({},A.Proxy.prototype,{init:function(a){var b=this;b.properties=a||{};A.Proxy.prototype.init.apply(this,[a]);}});return e;}(A,f);D=function(b,y,B,A,f){var e={};e.ABAPSystem=function(){this.init.apply(this,arguments);};e.HANASystem=function(){this.init.apply(this,arguments);};e.ABAPSystem.prototype=f.extend({},B.System.prototype,{init:function(a){a=a||{};this.systemType='ABAP';this.inaUrl=a.inaUrl||'/sap/es/ina/GetResponse';this.infoUrl=a.infoUrl||'/sap/es/ina/GetServerInfo';a.proxy=a.proxy||new A.Proxy({'xsrfService':this.infoUrl,system:this});this.noSapClientFromUrl=a.noSapClientFromUrl;B.System.prototype.init.apply(this,[a]);this.properties={};if(a.sapclient){this.sapclient(a.sapclient);}else if(typeof window!=='undefined'){var s=this._readSapClientFromUrl();this.sapclient(s);}if(a.saplanguage){this.saplanguage(a.saplanguage);}else{var c=this._getUrlParameter('sap-language');this.saplanguage(c);}},setSinaUrlParameter:function(n,v){v=''+v;if(n.toUpperCase()==='SAP-CLIENT'&&v.length<3){for(var i=0;i<2;i++){v='0'+v;}}var s=function(a){var c=(new RegExp(n+'='+'(.+?)(&|$|#)','i').exec(a)||[null])[1];if(!c){if(a.indexOf('?')===-1){a+='?'+encodeURIComponent(n)+'='+encodeURIComponent(v);}else{a+='&'+encodeURIComponent(n)+'='+encodeURIComponent(v);}}else{a=a.replace(n+'='+c,encodeURIComponent(n)+'='+encodeURIComponent(v));}return a;};this.infoUrl=s(this.infoUrl);this.inaUrl=s(this.inaUrl);},_readSapClientFromUrl:function(){if(typeof this.noSapClientFromUrl!=='undefined'&&this.noSapClientFromUrl===true){return'';}return this._getUrlParameter('sap-client');},sapclient:function(s){if(s){this.properties.sapclient=s;this.setSinaUrlParameter('sap-client',this.properties.sapclient);this._deleteServerInfo();}else{return this.properties.sapclient;}},saplanguage:function(l){if(l){this.properties.saplanguage=l;this.setSinaUrlParameter('sap-language',this.properties.saplanguage);}else{return this.properties.saplanguage;}},setServerInfo:function(j){this.properties.rawServerInfo=j;if(this instanceof e.ABAPSystem){this.properties.dbms=j.ServerInfo.DataBaseManagementSystem;this.properties.sapclient=j.ServerInfo.Client;this.properties.saplanguage=j.ServerInfo.UserLanguageCode;this.properties.systemid=j.ServerInfo.SystemId;}var s;for(var i=0;i<j.Services.length;i++){var a=j.Services[i];switch(a.Service){case'Suggestions2':a.Service='Suggestions';s=new e.SuggestionService(a);break;default:s=new B.Service(a);}this.services[a.Service]=s;}this.properties.services=this.services;}});e.HANASystem.prototype=f.extend({},B.System.prototype,{init:function(a){a=a||{};this.systemType='HANA';this.infoUrl=a.infoUrl||'/sap/bc/ina/service/v2/GetServerInfo';this.inaUrl=a.inaUrl||'/sap/bc/ina/service/v2/GetResponse';a.proxy=a.proxy||new A.Proxy({'xsrfService':this.infoUrl});B.System.prototype.init.apply(this,[a]);this._setUpAjaxErrorHandler();}});e.SuggestionService=function(){this.init.apply(this,arguments);};e.SuggestionService.prototype=f.extend(Object.create(B.Service.prototype),{init:function(s){B.Service.prototype.init.apply(this,arguments);var a=false;for(var j=0;j<s.Capabilities.length;++j){var c=s.Capabilities[j];if(c.Capability==='ScopeTypes'){a=true;}}if(a){this.suggestionTypes=[b.SuggestionType.OBJECTDATA,b.SuggestionType.HISTORY,b.SuggestionType.DATASOURCE];}else{this.suggestionTypes=[b.SuggestionType.OBJECTDATA];}}});return e;}(g,y,B,C,f);E=function(b,f){var e={};e.Query=function(){this.init.apply(this,arguments);};e.Query.prototype=f.extend({},{init:function(a){this.filter=a.filter||a.sina.createFilter({dataSource:a.dataSource});this.system=a.system;},_resetResultSet:function(){this.deferredResultSet=null;this.resultSet=null;this.jqXHR=null;},_getInAV2Error:function(d){var a=[];if(d&&d.error){a.push(new b.SinaError({message:'INA V2 Service Error '+d.error.code+': '+d.error.message,errorCode:d.error.code}));}if(d&&d.Messages){for(var i=0;i<d.Messages.length;i++){if(d.Messages[i].Type>=2){a.push(new b.SinaError({message:'INA V2 Service Error '+d.Messages[i].Number+': '+d.Messages[i].Text,errorCode:d.Messages[i].Number}));}}}return a;},setDataSource:function(d){if(d===undefined){return this;}d=this.sina.createDataSource(d);if(this.filter.getDataSource()===undefined){this.filter.setDataSource(d);this._resetResultSet();return this;}if(!this.filter.getDataSource().equals(d)){this.filter.setDataSource(d);this._resetResultSet();}return this;},execute:function(){var a=this;var j=a.createJsonRequest();var d=f.Deferred();this.serverInfojqXHR=this.system.getServerInfo();this.serverInfojqXHR.fail(function(c){d.reject(c);});this.serverInfojqXHR.done(function(s){if(!a.jqXHR){a.jqXHR=a._fireRequest(j,true);}a.jqXHR.done(function(c){var h=a._getInAV2Error(c);if(c&&h&&h.length>0){if(c.error){d.reject(h[0]);return;}else if(c.Messages){if(h.length>=c.Messages.length){d.reject(h);return;}}}a.resultSetProperties.sina=a.sina;a.resultSetProperties.query=a;var r=new a.resultSetClass(a.resultSetProperties);r.setJsonFromResponse(c);d.resolve(r);}).fail(function(c){d.reject(c);}).always(function(c){a._responseJson=c;});});return d.promise();},executeSync:function(){var a=this;if(a.resultSet!==null){return a.resultSet;}var j=a.createJsonRequest();a.system.getServerInfoSync();var d=JSON.parse(a._fireRequest(j,false).responseText);a._responseJson=d;a.resultSet=new a.resultSetClass(a.resultSetProperties);if(d){var c=a._getInAV2Error(d);if(c&&c.length>0){throw c[0];}a.resultSet.setJsonFromResponse(d);}return a.resultSet;},_fireRequest:function(d,a,c){a=a===undefined?true:a;var r={async:a,url:this.system.inaUrl,contentType:'application/json',dataType:c||'json',data:d};var j=this.system.proxy.ajax(r);return j;},_assembleOrderBy:function(){var o=[];function a(d,s){var i={};if(d.toLowerCase()==='$$score$$'){i.Function='Score';}else{i.AttributeName=d;}i.SortOrder=s.toUpperCase();return i;}var c;if(Object.prototype.toString.call(this.orderBy)==='[object Array]'){for(var j=0;j<this.orderBy.length;j++){c=a(this.orderBy[j].orderBy,this.orderBy[j].sortOrder);o.push(c);}}else if(typeof this.orderBy==='object'&&this.orderBy.orderBy){c=a(this.orderBy.orderBy,this.orderBy.sortOrder);o.push(c);}return o;}});return e;}(g,f);F=function(g,p,a,b,d,f){var e={};e.SearchQuery=function(){this.init.apply(this,arguments);};e.SearchQuery.prototype=f.extend({},p.SearchQuery.prototype,b.Query.prototype,{init:function(c){c=c||{};b.Query.prototype.init.apply(this,[c]);p.SearchQuery.prototype.init.apply(this,[c]);this.sqlSearch=c.sqlSearch===undefined||c.sqlSearch===true?true:false;this.attributes=c.attributes||[];c.orderBy=c.orderBy||{};this.setOrderBy(c.orderBy);this.resultSetClass=e.SearchResultSet;},addResponseAttribute:function(c){this.attributes.push(c);this._resetResultSet();return this;},createJsonRequest:function(){var c=d.getSearchRequest();c.DataSource=this.filter.dataSource.getDataForRequest();if(this.system instanceof inaV2System.HANASystem){if(this.attributes.length===0){throw{message:'Add at least one response attribute to your query'};}if(this.sqlSearch===true){c.Options=['SqlSearch'];}}var s=[];for(var i=0;i<this.attributes.length;++i){var h=this.attributes[i];if(f.type(h)==='string'){s.push({Name:h,AttributeName:h});}else if(f.type(h)==='object'){var j={Name:h.name||h.attributeName,AttributeName:h.attributeName||h.name};if(h.highlighted===true){j.Function='Highlighted';}if(h.snippet===true){j.Function='Snippet';}if(h.startPosition!==undefined){j.StartPosition=h.startPosition;}if(h.maxLength!==undefined){j.MaxLength=h.maxLength;}s.push(j);}}c.Search.SelectedValues=s;var k=this.filter.getSearchTerms();if(!k){k='*';}c.SearchTerms=k;c.Search.Top=this._top;c.Search.Skip=this._skip;c.Search.Filter=this.filter.getDataForRequest();c.Search.OrderBy=this._assembleOrderBy();return c;},setOrderBy:function(o){this._resetResultSet();this.orderBy=o||{orderBy:'$$score$$',sortOrder:'DESC'};},getOrderBy:function(){return this.orderBy;}});e.SearchResultSet=function(){this.init.apply(this,arguments);};e.SearchResultSet.prototype={init:function(c){c=c||{};this.sina=c.sina;this.elements=[];this.totalcount=0;},toString:function(r){var c=this.elements;var h=[];var i;for(i=0;i<c.length;++i){var j=c[i];var k={};for(var l in j){if(l.slice(0,2)==='$$'||l.slice(0,1)==='_'){continue;}var m=j[l];if(!m.label||!m.value){continue;}var n={label:m.label,value:m.value};k[l]=n;}h.push(k);}return JSON.stringify(h);},setJsonFromResponse:function(h){var s=this;this.elements=[];function r(){this.type='';this.platform='';this.technology='';this.width='';this.height='';this.variant='';this.uri='';}r.prototype={_fromInaJson:function(k){this.type=k.Type||'';this.platform=k.Platform||'';this.technology=k.Technology||'';this.width=k.Width||'';this.height=k.Height||'';this.variant=k.Variant||'';this.uri=k.Uri||'';}};function v(){this.type='';this.description='';this.uri='';this.request=null;this.encodedJSON='';}v.prototype={_fromInaJson:function(k){var l=this;l.description=k.Description;l.uri=k.Uri;switch(k.Type){case'RelatedRequest':l.type='Search';var m={};m.dataSource=s.sina.createDataSource();m.dataSource.setJsonFromResponse(k.Request.DataSource);m.system=s.sina.getSystem();m.top=1;l.request=s.sina.createSearchQuery(m);l.request.filter.setJsonFromResponse(k.Request.Filter);if(k.Request.Filter.Selection===undefined){l.request.invalid=true;l.request.invalidMessage='Related request \''+l.description+'\' is invalid because of missing filter conditions.';}break;case'GeneralUri':l.type='Link';l.url=l.uri;break;case'SAPNavigation':l.type='Navigation';l.url=l.uri;break;}l.encodedJSON=encodeURIComponent(l);}};function m1(k){this.resultElementAttribute=k;this.correspondingSearchAttributeName='';this.description='';this.isTitle=false;this.presentationUsage=[];this.displayOrder=null;this.semanticObjectType='';this.isSortable=false;}m1.prototype={_fromInaJson:function(k){var l=this;l.correspondingSearchAttributeName=k.correspondingSearchAttributeName||'';l.dataType=k.DataType||'';l.description=k.Description||'';l.presentationUsage=k.presentationUsage||[];l.accessUsage=k.accessUsage||[];l.semanticObjectType=k.SemanticObjectType||'';l.isSortable=k.IsSortable||false;if(k.IsTitle!==undefined){l.isTitle=k.IsTitle;}l.isKey=k.IsKey;if(l.isTitle){if(!l.resultElementAttribute.resultElement.title){l.resultElementAttribute.resultElement.title=l.resultElementAttribute.resultElement.$$DataSourceMetaData$$.getLabel()+':';}l.resultElementAttribute.resultElement._registerPostProcessor(function(){l.resultElementAttribute.resultElement.title=l.resultElementAttribute.resultElement.title+' '+l.resultElementAttribute.value;});}if(l.isKey){if(!l.resultElementAttribute.resultElement.key){l.resultElementAttribute.resultElement.key=l.resultElementAttribute.resultElement.$$DataSourceMetaData$$.key+':';}l.resultElementAttribute.resultElement._registerPostProcessor(function(){if(l.resultElementAttribute.labelRaw&&l.resultElementAttribute.value){l.resultElementAttribute.resultElement.key=l.resultElementAttribute.resultElement.key+l.resultElementAttribute.labelRaw+'#'+l.resultElementAttribute.value+'/';}});}}};function n1(k){this.resultElement=k;this.$$MetaData$$=new m1(this);this.label='';this.labelRaw='';this.value='';this.valueRaw='';}n1.prototype={_fromInaJson:function(k){var l=this;l.labelRaw=this.$$MetaData$$.correspondingSearchAttributeName||k.Name||'';l.label=this.$$MetaData$$.description||k.Name||'';l.valueRaw=k.Value||'';l.value=k.ValueFormatted||'';},toString:function(){return this.value;}};function o1(){this.title='';this.$$DataSourceMetaData$$={};this.$$RelatedActions$$={};this.$$RenderingTemplateSpecification$$={};this.$$WhyFound$$=[];this.$$PostProcessors$$=[];}o1.prototype={_fromInaJson:function(x1){var D1=this;var E1=null;var F1=null;for(var k=0;k<x1.length;++k){var G1=x1[k];switch(G1.Name){case'$$DataSourceMetaData$$':var H1=G1.Value[0];E1=s.sina.createDataSource(f.extend(true,{},H1));D1.$$DataSourceMetaData$$=E1;break;case'$$AttributeMetadata$$':for(var m=0;m<G1.Value.length;++m){F1=G1.Value[m];if(!D1[F1.Name]){D1[F1.Name]=new n1(D1);}D1[F1.Name].$$MetaData$$._fromInaJson(F1);D1[F1.Name].$$MetaData$$.displayOrder=m;}break;case'$$ResultItemAttributes$$':for(var l=0;l<G1.Value.length;++l){var I1=G1.Value[l];if(!D1[I1.Name]){D1[I1.Name]=new n1(D1);}D1[I1.Name]._fromInaJson(I1);}break;case'$$RelatedActions$$':var J1={};for(var n=0;n<G1.Value.length;++n){var K1=G1.Value[n];var L1=new v();L1._fromInaJson(K1);J1[K1.ID]=L1;}D1.$$RelatedActions$$=J1;break;case'$$RenderingTemplateSpecification$$':for(var o=0;o<G1.Value.length;++o){var M1=new r();M1._fromInaJson(G1.Value[o]);if(M1.type==='ItemDetails'){D1._detailTemplate=M1;}else{D1.$$RenderingTemplateSpecification$$=M1;}}break;case'$$WhyFound$$':for(var z=0;z<G1.Value.length;++z){var N1={};N1.label=G1.Value[z].Description;N1.labelRaw=G1.Value[z].Name;N1.value=G1.Value[z].Value;N1.valueHighlighted=N1.value;N1.valueRaw=G1.Value[z].Value;D1.$$WhyFound$$.push(N1);}break;default:D1[G1.Name]=new n1();D1[G1.Name].label=G1.Name||'';D1[G1.Name].valueRaw=G1.Value||G1.ValueFormatted||null;D1[G1.Name].value=G1.ValueFormatted||G1.Value||null;}}for(var i=0;i<this.$$PostProcessors$$.length;i++){this.$$PostProcessors$$[i]();}var O1=g.Sina.prototype.ResultElementKeyStatus;if(this.key){if(this.key.indexOf(':')===this.key.length-1){this.keystatus=O1.NO_VALUE;}else{this.keystatus=O1.OK;}}else{this.keystatus=O1.NO_KEY;this.key='';}},_registerPostProcessor:function(k){this.$$PostProcessors$$.push(k);}};function p1(t1){if(t1._detailTemplate&&!t1.$$RelatedActions$$.$$DETAILS$$){t1.$$RelatedActions$$.$$DETAILS$$={request:s.sina.createSearchQuery(),description:'',encodedJSON:'',type:'Search',uri:''};}if(t1._detailTemplate&&t1.$$RelatedActions$$.$$DETAILS$$){var k=new e.SearchResultSet({sina:s.sina});k.elements[0]=f.extend(true,{},t1);k.elements[0].$$RenderingTemplateSpecification$$=t1._detailTemplate;k.totalcount=1;delete k.elements[0].$$RelatedActions$$.$$DETAILS$$;t1.$$RelatedActions$$.$$DETAILS$$.request.resultSet=k;return k.elements[0];}return{};}var q1={};if(!h.ItemLists){return{};}for(var i=0;i<h.ItemLists.length;i++){q1[h.ItemLists[i].Name]=h.ItemLists[i];if(h.ItemLists[i].Name.toLowerCase()==='searchresult'){this.totalcount=h.ItemLists[i].TotalCount.Value;}}var r1;if(h&&h.Grids&&h.Grids[0]&&h.Grids[0].Axes&&h.Grids[0].Axes[0]){r1=h.Grids[0].Axes[0];}else{return{};}for(var j=0;j<r1.Tuples.length;j++){var s1=r1.Tuples[j];if(s1===undefined){continue;}var t1=new o1();for(var c=s1.length-1;c>=0;c--){var u1=r1.Dimensions[c];var v1=s1[c];var w1=q1[u1.ItemListName];var x1=w1.Items[v1].NamedValues;t1._fromInaJson(x1);}if(r1&&r1.Dimensions[1]){var y1=r1.Dimensions[1];var z1=q1[y1.ItemListName];var A1=s1[1];if(z1&&z1.Items&&z1.Items[A1]){var B1=z1.Items[A1].NamedValues[2];if(B1){t1=this._postProcess4WhyFound(t1,B1.Value);}}}var C1=p1(t1);this._postProcessRelatedAction(t1);if(C1){this._postProcessRelatedAction(C1);}this.elements.push(t1);var x=t1.$$DataSourceMetaData$$;if(x&&x.getObjectName&&x.getObjectName().value!=='$$DataSources$$'&&x.getObjectName().value!=='$$All$$'){this.sina.setBusinessObjectMetaDataSync(x,t1);}}return{};},getElements:function(){return this.elements;},_postProcessRelatedAction:function(c){if(!c.$$RelatedActions$$){return;}for(var r in c.$$RelatedActions$$){var h=c.$$RelatedActions$$[r];if(h.type==='Search'){this.sina._postprocess(h,c.title);}}},_postProcess4WhyFound:function(c,m){if(c.$$WhyFound$$&&c.$$WhyFound$$.length>0){var i=c.$$WhyFound$$.length;while(i--){if(c[c.$$WhyFound$$[i].labelRaw]!==undefined&&m!==undefined){var j=m.length;while(j--){if(m[j].Name===c.$$WhyFound$$[i].labelRaw&&m[j].correspondingSearchAttributeName){c.$$WhyFound$$[i].labelRaw=m[j].correspondingSearchAttributeName;}}}}}return c;}};return e;}(g,p,D,E,t,f);G=function(p,x,s,j,f){var e={};e.DataSource=function(){this.init.apply(this,arguments);};e.DataSourceMetaData=function(){this.init.apply(this,arguments);};e.DataSourceQuery=function(){this.init.apply(this,arguments);};e.ESHConnectorDataSourceQuery=function(){this.init.apply(this,arguments);};e.DataSource.prototype=f.extend(Object.create(x.DataSource.prototype),{init:function(a){x.DataSource.prototype.init.apply(this,[a]);if(!a){return{};}var d;if(a.key){this.key=a.key;d=true;}a.schemaName=a.schemaName||a.SchemaName||{label:'',value:''};this.setSchemaName(a.schemaName,d);a.packageName=a.packageName||a.PackageName||'ABAP';this.setPackageName(a.packageName,d);a.objectName=a.objectName||a.ObjectName||{label:'',value:''};this.setObjectName(a.objectName,d);this.setType(a.type||a.Type||x.DataSourceType.DEFAULT,d);this.label=a.label||a.Label||a.Description||'';this.labelPlural=a.labelPlural||a.LabelPlural||a.DescriptionPlural||this.label||'';this.semanticObjectType=a.semanticObjectType||a.SemanticObjectType||'';this.systemId=a.systemId||a.SystemId||'';this.client=a.client||a.Client||'';this.sina=a.sina||null;if(a.metaData){this.setMetaData(a.metaData);}if(!this.key){throw'Datasource has no key'+JSON.stringify(a);}},setMetaData:function(d){this.metaData=d;},getIdentifier:function(){return this.key;},getSchemaName:function(){if(!this.schemaName){this.schemaName={label:'',value:''};}return this.schemaName;},_getSchemaNameAsString:function(){if(typeof this.schemaName==='object'){return this.schemaName.value;}if(typeof this.schemaName==='string'){return this.schemaName;}return'';},setSchemaName:function(a,d){if(!this.schemaName){this.schemaName={};}if(typeof a==='object'){this.schemaName.label=a.label||a.value||'';this.schemaName.value=a.value||'';}if(typeof a==='string'){this.schemaName.label=a;this.schemaName.value=a;}if(d!==true){this._constructKey();}},getPackageName:function(){if(!this.packageName){this.packageName={label:'',value:''};}return this.packageName;},getPackageNameAsString:function(){if(typeof this.packageName==='object'){return this.packageName.value;}if(typeof this.packageName==='string'){return this.packageName;}return'';},setPackageName:function(a,d){if(!this.packageName){this.packageName={};}if(typeof a==='object'){this.packageName.label=a.label||a.value||'';this.packageName.value=a.value||'';}if(typeof a==='string'){this.packageName.label=a;this.packageName.value=a;}if(d!==true){this._constructKey();}},getObjectName:function(){if(!this.objectName){this.objectName={label:'',value:''};}return this.objectName;},setObjectName:function(o,d){if(!this.objectName){this.objectName={};}if(typeof o==='object'){this.objectName.label=o.label||o.value||'';this.objectName.value=o.value||'';}if(typeof o==='string'){this.objectName.label=o;this.objectName.value=o;}if(d!==true){this._constructKey();}},_constructKey:function(){this.key=this.getTypeAsString()+'/'+this.getPackageNameAsString()+'/'+this.getObjectNameAsString();},setObjectNameValue:function(v,d){if(!this.objectName){this.objectName={};}this.objectName.value=v||'';if(d!==true){this._constructKey();}},setObjectNameLabel:function(l){if(!this.objectName){this.objectName={};}this.objectName.label=l||'';if(!this.label){this.setLabel(l);}if(!this.labelPlural){this.setLabelPlural(l);}},getObjectNameAsString:function(){if(typeof this.objectName==='object'){return this.objectName.value;}if(typeof this.objectName==='string'){return this.objectName;}return'';},setType:function(a,d){var v=x.DataSourceType.DEFAULT;if(typeof a==='object'){if(a.value.toLowerCase()==='view'||a.value.toLowerCase()==='businessobject'){v=x.DataSourceType.BUSINESSOBJECT;}else{v=x.DataSourceType.DEFAULT;}}else{if(a.toLowerCase()==='view'||a.toLowerCase()==='businessobject'){v=x.DataSourceType.BUSINESSOBJECT;}else{v=x.DataSourceType.DEFAULT;}}this.type=v;if(d!==true){this._constructKey();}},getTypeAsString:function(){if(typeof this.type==='object'){return this.type.value;}if(typeof this.type==='string'){return this.type;}return'';},getLabel:function(){if(typeof this.label!=='undefined'&&this.label!==''){return this.label;}if(typeof this.getObjectName().label!=='undefined'&&this.getObjectName().label!==''){return this.getObjectName().label;}if(typeof this.getObjectName().value!=='undefined'&&this.getObjectName().value!==''){return this.getObjectName().value;}return'';},setLabel:function(l){this.label=l||'';this.labelPlural=this.labelPlural||this.label;},getLabelPlural:function(){if(typeof this.labelPlural!=='undefined'&&this.labelPlural!==''){return this.labelPlural;}return this.getLabel();},setLabelPlural:function(l){this.labelPlural=l||'';},setJsonFromResponse:function(i){this.setSchemaName({value:i.SchemaName,label:i.SchemaLabel});this.setPackageName({value:i.PackageName,label:i.PackageLabel});this.setObjectName({value:i.ObjectName,label:i.ObjectLabel});this.setType({value:i.Type,label:''});},getDataForRequest:function(){var a={'SchemaName':this.getSchemaName().value,'PackageName':this.getPackageName().value,'ObjectName':this.getObjectName().value};if(this.getType()===x.DataSourceType.BUSINESSOBJECT){a.Type='View';}else{a.Type=this.getType();}return a;},clone:function(){var n=this.sina.createDataSource();n.setSchemaName(this.schemaName);n.setPackageName(this.packageName);n.setObjectName(this.objectName);n.setType(this.type);n.label=this.label;n.labelPlural=this.labelPlural;n.semanticObjectType=this.semanticObjectType;n.systemId=this.systemId;n.client=this.cliet;n.setMetaData(this.metaData);n.key=this.key;return n;},setJson:function(a){for(var b in a){if(a.hasOwnProperty(b)){a[b.toLowerCase()]=a[b];}}this.schemaName=a.schemaname;this.packageName=a.packagename;this.objectName=a.objectname;if(a.Type==='View'){this.setType(x.DataSourceType.BUSINESSOBJECT);}else{this.setType(a.type);}this.label=a.label;this.labelPlural=a.labelplural;this.semanticObjectType=undefined;this.systemId=undefined;this.client=undefined;this.metaData=undefined;this._constructKey();},getJson:function(){var a={'label':this.label,'labelPlural':this.labelPlural,'SchemaName':{'label':this.getSchemaName().label,'value':this.getSchemaName().value},'PackageName':{'label':this.getPackageName().label,'value':this.getPackageName().value},'ObjectName':{'label':this.getObjectName().label,'value':this.getObjectName().value}};a.Type=this.getType();return a;}});e.DataSourceQuery.prototype=f.extend({},p.SearchQuery.prototype,s.SearchQuery.prototype,{init:function(a){p.SearchQuery.prototype.init.apply(this,[a]);s.SearchQuery.prototype.init.apply(this,[a]);this.template=j.getCatalogRequest();this.template.SearchTerms=this.getSearchTerms()||'*';if(this._top===undefined){this.setTop(1000);}this.template.Search.Top=this.getTop();if(this._skip===undefined){this.setSkip(0);}this.template.Search.Skip=this.getSkip();var b={'MemberOperand':{'AttributeName':'Type','Comparison':'=','Value':'View'}};this.template.Search.Filter.Selection.Operator.SubSelections.push(b);},createJsonRequest:function(){return this.template;}});e.ESHConnectorDataSourceQuery.prototype=f.extend({},p.SearchQuery.prototype,s.SearchQuery.prototype,{init:function(a){p.SearchQuery.prototype.init.apply(this,[a]);s.SearchQuery.prototype.init.apply(this,[a]);this.template=j.getESHConnectorRequest();var b=this.system.getServerInfoSync();var c=b.rawServerInfo.ServerInfo.SystemId;var d=c+this.system.sapclient()+'~ESH_CONNECTOR~';var h=a.dataSource||{SchemaName:'',PackageName:'ABAP',ObjectName:d,type:'Connector'};this.template.DataSource=h;this.template.SearchTerms=this.getSearchTerms()||'*';if(this._top===undefined){this.setTop(1000);}this.template.Search.Top=this.getTop();if(this._skip===undefined){this.setSkip(0);}this.template.Search.Skip=this.getSkip();},createJsonRequest:function(){return this.template;}});return e;}(p,x,F,t,f);H=function(q,f){var e={};e.ChartQuery=function(){this.init.apply(this,arguments);};e.ChartQuery.prototype=f.extend({},q.Query.prototype,{init:function(){q.Query.prototype.init.apply(this,arguments);}});return e;}(q,f);I=function(g,a,q,y,f){var e={};e.Perspective=function(){this.init.apply(this,arguments);};e.Perspective.prototype={init:function(b){var c=this;c.sina=b.sina;c.chartFacets=[];c.searchFacet=null;c.layout=null;c.dataSource=b.dataSource||null;b=b||{};},getSearchResultSet:function(){return this.searchFacet.getQuery().getResultSetSync();},getChartFacets:function(){return this.chartFacets;},getSearchFacet:function(){return this.searchFacet;},getLayout:function(){return this.layout;}};e.PerspectiveQuery=function(){this.init.apply(this,arguments);};e.PerspectiveQuery.prototype=f.extend({},q.Query.prototype,{init:function(){q.Query.prototype.init.apply(this,arguments);this.facets=[];this.requestedEntities=['SearchResults','Facets','TotalCount'];this.facetLoader=new e.FacetLoader({sina:this.sina});this.includeFacetsWithFilters=false;},addFacet:function(b){this.facets.push(b);return this;},getFacets:function(){return this.facets;},setOrderBy:function(o){this._resetResultSet();this.orderBy=o||{orderBy:'$$score$$',sortOrder:'DESC'};return this;},getOrderBy:function(){return this.orderBy;},setRequestedEntities:function(r){if(JSON.stringify(r)===JSON.stringify(this.requestedEntities)){return;}this.requestedEntities=r;this._resetResultSet();},getRequestedEntities:function(){return this.requestedEntities;},setIncludeFacetsWithFilters:function(i){if(i===this.includeFacetsWithFilters){return;}this.includeFacetsWithFilters=i;this._resetResultSet();},_resetResultSet:function(){this.resultSetAndFacetsPromise=null;},getResultSet:function(o,b){var c=this;if(!this.includeFacetsWithFilters){return q.Query.prototype.getResultSet.apply(this,arguments);}if(c.resultSetAndFacetsPromise){if(o){c.resultSetAndFacetsPromise.done(o);}if(b){c.resultSetAndFacetsPromise.fail(b);}return c.resultSetAndFacetsPromise;}var d=q.Query.prototype.getResultSet.apply(this,[]);var h=this.facetLoader.loadFacets(this);c.resultSetAndFacetsPromise=f.when(d,h).then(function(i,j){c.addFacetsToPerspective(i,j);return i;});if(o){c.resultSetAndFacetsPromise.done(o);}if(b){c.resultSetAndFacetsPromise.fail(b);}return c.resultSetAndFacetsPromise;},addFacetsToPerspective:function(b,c){for(var i=0;i<c.length;++i){var d=c[i];var h=false;var j;for(j=0;j<b.chartFacets.length;++j){var k=b.chartFacets[j];if(k.getDimension()===d.getDimension()){h=true;break;}}if(h){d.title=b.chartFacets[j].title;b.chartFacets.splice(j,1,d);}else{b.chartFacets.push(d);}}}});e.FacetLoader=function(){this.init.apply(this,arguments);};e.FacetLoader.prototype={init:function(b){this.sina=b.sina;},loadFacets:function(b){var c=this;var u=b.filter;var d=b.options.indexOf(g.QueryOptions.FUZZY)>=0;var h=this.collectAttributes(u);h=h.filter(function(l){if(l.slice(0,2)==='$$'){return false;}return true;});var k=[];for(var i=0;i<h.length;++i){var l=h[i];k.push(this.createChartQuery(l,u,d));}var m=[];for(var j=0;j<k.length;j++){m.push(k[j].getResultSet());}return f.when.apply(f.Deferred,m).then(function(){var n=[];for(var i=0;i<arguments.length;++i){n.push(c.sina.createFacet({dimension:h[i],query:k[i],facetType:g.FacetType.ATTRIBUTE,sina:c.sina,title:k[i].getTitle()}));}return n;});},collectAttributes:function(u){var c=u.getFilterConditions();var b={};var d=[];this.doCollectAttributes(c,b);for(var h in b){if(b.hasOwnProperty(h)){d.push(h);}}return d;},doCollectAttributes:function(c,b){if(!(c instanceof a.ConditionGroup)){b[c.attribute]=true;}else{var d=c.getConditions();for(var i=0;i<d.length;++i){c=d[i];this.doCollectAttributes(c,b);}}},createChartQuery:function(b,u,i){u=u.clone();this.removeFilterConditionsByAttribute(u,b);var c=this.sina.createChartQuery();c.setFilter(u);c.addDimension(b);c.setAttributeLimit(5);if(i){c.addOption(g.QueryOptions.FUZZY);}return c;},removeFilterConditionsByAttribute:function(u,b){var c=u.getFilterConditions();if(!(c instanceof a.ConditionGroup)){if(c.attribute===b){u.resetFilterConditions();return;}else{return;}}this.doRemoveFilterConditionsByAttribute(b,c);},doRemoveFilterConditionsByAttribute:function(b,c){var d=c.getConditions();for(var i=0;i<d.length;++i){var h=d[i];if(!(h instanceof a.ConditionGroup)){if(h.attribute===b){d.splice(i,1);i--;}}else{this.doRemoveFilterConditionsByAttribute(b,h);}}}};return e;}(g,u,q,y,f);J=function(b){var e={};e.Facet=function(){this.init.apply(this,arguments);};e.Facet.prototype={init:function(a){a=a||{};this.sina=a.sina;this.dataSource=a.dataSource||null;this.title=a.title||'';this.query=a.query||null;this.dimension=a.dimension||null;a.facetType=a.facetType||'';this.facetType=a.facetType.toLowerCase();if(a.query){this.setQuery(a.query);}},getChartType:function(){},getTitle:function(){return this.title;},getDimension:function(){return this.dimension;},getQuery:function(){return this.query;},getLayout:function(){},getLayoutBinding:function(){},getColorPalette:function(){},setQuery:function(a){this.query=a;}};return e;}(g);K=function(g,q,I,J,a,b,f){var c={};c.PerspectiveQuery=function(){this.init.apply(this,arguments);};c.PerspectiveQuery.prototype=f.extend({},I.PerspectiveQuery.prototype,a.Query.prototype,{init:function(d){var e=this;e.chartFacets=[];e.searchFacet=null;e.searchresultset=null;e.layout=null;e.templateFactsheet=d.templateFactsheet||false;d=d||{};a.Query.prototype.init.apply(this,arguments);I.PerspectiveQuery.prototype.init.apply(this,arguments);d.orderBy=d.orderBy||{};this.setOrderBy(d.orderBy);this.resultSetClass=c.Perspective;this.resetFilterConditions();},_resetResultSet:function(){a.Query.prototype._resetResultSet.apply(this,arguments);I.PerspectiveQuery.prototype._resetResultSet.apply(this,arguments);},getExpand:function(){var e=[];for(var i=0;i<this.requestedEntities.length;i++){switch(this.requestedEntities[i]){case'SearchResults':e.push('Grid','Items');break;case'Facets':e.push('ResultsetFacets');break;case'TotalCount':e.push('TotalCount');break;default:throw'Unknown requested entity!';}}return e;},resetFilterConditions:function(){q.Query.prototype.resetFilterConditions.apply(this,arguments);},createJsonRequest:function(){var d=b.getPerspectiveRequest();if(this.templateFactsheet){d=b.getPerspectiveRequestFactsheet();}d.DataSource=this.filter.dataSource.getDataForRequest();var s=this.filter.getSearchTerms();d.Search.SearchTerms=s;d.Search.Top=this._top;d.Search.Skip=this._skip;d.Search.Filter=this.filter.getDataForRequest();d.Search.OrderBy=this._assembleOrderBy();d.Search.Expand=this.getExpand();if(this.facetOptions){d.Facets=this.facetOptions;}d.Options=d.Options.concat(this.options);return d;},getPerspective:function(o,d){this.getResultSet(o,d);},generatePerspectiveSync:function(){return this.getResultSetSync();}});c.Perspective=function(){this.init.apply(this,arguments);};c.Perspective.prototype=f.extend({},I.Perspective.prototype,{determineFacetType:function(r){try{if(r.ResultSet.ItemLists[0].Items[0].NamedValues[0].Name==='$$DataSource$$'){return g.FacetType.DATASOURCE;}else{return g.FacetType.ATTRIBUTE;}}catch(e){return g.FacetType.ATTRIBUTE;}},setJsonFromResponse:function(d){var e=this;e.searchFacet=this.sina.createFacet({'facetType':'searchresult'});e.searchFacet.setJsonFromResponse(d);if(d.ResultsetFacets&&d.ResultsetFacets.Elements){for(var j=0;j<d.ResultsetFacets.Elements.length;j++){var h=e.determineFacetType(d.ResultsetFacets.Elements[j]);var i=this.sina.createFacet({'facetType':h});i.setJsonFromResponse(d.ResultsetFacets.Elements[j]);e.chartFacets.push(i);}}}});c.PerspectiveGetQuery=function(){this.init.apply(this,arguments);};c.PerspectiveGetQuery.prototype=f.extend({},a.Query.prototype,{init:function(d){d=d||{};this.perspectiveId=d.perspectiveId;a.Query.prototype.init.apply(this,[d]);this.resultSetClass=module.Perspective2;},setPerspectiveId:function(d){this.perspectiveId=d;},getPerspective:function(o,d){var e=this;var r={async:true,url:'/sap/bc/ina/service/v2/Perspectives(\''+this.perspectiveId+'\')',type:'GET'};var j=this.system.proxy.ajax(r);j.done(function(h){if(h&&h.error){d(h.error);}e.resultSet=new e.resultSetClass(e.resultSetProperties);e.resultSet.setJsonFromResponse(h);if(o){o(e.resultSet);}}).fail(function(h){if(d){d(h);}});}});c.Perspective2=function(){this.init.apply(this,arguments);};c.Perspective2.prototype={init:function(d){d=d||{};},getFacetForID:function(d){var e=this;for(var j=0;j<e.facets.length;j++){if(e.facets[j].facetId===d){return e.facets[j];}}return undefined;},getDimensionForID:function(d){var e=this;for(var j=0;j<e.dimensions.length;j++){if(e.dimensions[j].Name===d){return e.dimensions[j];}}return undefined;},getPreviewDimension:function(){if(this.bindings['WIDGET-4']&&this.bindings['WIDGET-4'].dimension){return this.bindings['WIDGET-4'].dimension;}if(this.bindings['WIDGET-1']&&this.bindings['WIDGET-1'].dimension){return this.bindings['WIDGET-1'].dimension;}if(this.bindings['WIDGET-2']&&this.bindings['WIDGET-2'].dimension){return this.bindings['WIDGET-2'].dimension;}if(this.bindings['WIDGET-3']&&this.bindings['WIDGET-3'].dimension){return this.bindings['WIDGET-3'].dimension;}return undefined;},setJsonFromResponse:function(d){var e=this;e.rawdata=d;e.ChangedAt=d.ChangedAt;e.ChangedBy=d.ChangedBy;e.content=JSON.parse(d.Content);e.perspectiveId=d.Id;e.name=d.Name;e.packageName=d.Package;e.isActive=d.isActive;e.isGenerated=d.isGenerated;e.datasource=e.content.Model.Queries[0].Datasource;e.measures=[];var m=e.content.Model.Queries[0].CustomDimension1.Members;for(var k=0;k<m.length;k++){e.measures.push(m[k]);}e.dimensions=[];var h=e.content.Model.Queries[0].Dimensions;for(var j=0;j<h.length;j++){e.dimensions.push(h[j]);}e.facets=[];var n=e.content.Model.Facets;for(var i=0;i<n.length;i++){e.facets.push({isActive:n[i].Active,facetId:n[i].FacetId,dimension:e.getDimensionForID(n[i].SeriesChart.ScaleDimensions[0].DimensionName)});}e.bindings={};var o=e.content.Bindings;for(var l=0;l<o.length;l++){var r=o[l];e.bindings[r.WidgetId]=e.getFacetForID(r.FacetId);}}};c.PerspectiveSearchQuery=function(){this.init.apply(this,arguments);};c.PerspectiveSearchQuery.prototype=f.extend({},a.Query.prototype,{init:function(d){d=d||{};a.Query.prototype.init.apply(this,[d]);this.filter.searchTerms=d.searchTerms||'*';this.resultSetClass=module.PerspectiveSearchResultSet;},createJsonRequest:function(){var d=b.getPerspectiveSearchRequest();d.Search.SearchTerms=this.filter.searchTerms;d.Search.Top=this._top;d.Search.Skip=this._skip;return d;},getPerspectiveResults:function(o,d){this.getResultSet(o,d);}});c.PerspectiveSearchResultSet=function(){this.init.apply(this,arguments);};c.PerspectiveSearchResultSet.prototype={init:function(d){var e=this;e.perspectives=[];d=d||{};},getPerspectiveSearchResultSet:function(){return this.perspectives;},setJsonFromResponse:function(d){var e=this;var h=d['ItemLists'][0]['Items'];for(var i=0;i<h.length;i++){var n=h[i]['NamedValues'];var j={packageId:n[0].Value,perspectiveId:n[0].Value+'/'+n[1].Value,perspectiveDescription:n[3].Value,title:n[2].Value};e.perspectives.push(j);}}};return c;}(g,q,I,J,E,t,f);L=function(H,b,e,l,f){var m={};m.ResultSetParser=function(){this.init.apply(this,arguments);};m.ResultSetParser.prototype={init:function(o){this.resultSet=o.resultSet;},parse:function(){this.enhance(this.resultSet);var a=this.resultSet.Grids[0];var r=a.Axes[0];var c=a.Axes[1];var k=function(o1){return o1.__key;};var d=function(o1){var p1;var q1;var r1;for(var s1 in o1){switch(s1){case'Name':q1=o1[s1];break;case'Value':p1=o1[s1];break;default:if(!r1){r1={};}r1[s1]=o1[s1];}}if(r1){r1.Value=p1;return{name:q1,value:r1};}else{return{name:q1,value:p1};}};var h=function(o1){if(!o1.NamedValues){return o1;}var p1={};for(var i=0;i<o1.NamedValues.length;++i){var q1=o1.NamedValues[i];var r1=d(q1);p1[r1.name]=r1.value;}return p1;};var j=new n({keyFunction:k,formatFunction:h});for(var i=0;i<a.Cells.length;++i){var o=a.Cells[i];var s=o.Index[0];var v=this.resolve(r,s);var z=o.Index[1];var m1=this.resolve(c,z);m1=[f.extend({},m1[0])];m1[0].cell=o;var n1=v;n1.push.apply(n1,m1);j.insert(n1);}return j;},resolve:function(a,c){var d=[];if(a.Tuples.length===0){return d;}var h=a.Tuples[c];for(var i=0;i<h.length;++i){var j=h[i];var k=a.Dimensions[i].ItemList.Items[j];k.__key=j;d.push(k);}return d;},enhance:function(r){var a={};for(var i=0;i<r.ItemLists.length;++i){var c=r.ItemLists[i];a[c.Name]=c;}for(var h=0;h<r.Grids.length;++h){var d=r.Grids[h];for(var j=0;j<d.Axes.length;++j){var o=d.Axes[j];for(var k=0;k<o.Dimensions.length;++k){var s=o.Dimensions[k];s.ItemList=a[s.ItemListName];}}}}};var n=function(){this.init.apply(this,arguments);};n.prototype={init:function(o){this.root={data:'root',subTree:{},children:[]};if(o&&o.keyFunction){this.keyFunction=o.keyFunction;}else{this.keyFunction=function(a){return a;};}if(o&&o.formatFunction){this.formatFunction=o.formatFunction;}else{this.formatFunction=function(a){return a;};}},insert:function(a){var c=this.root;for(var i=0;i<a.length;++i){var d=a[i];var k=this.keyFunction(d);var h=this.formatFunction(d);if(!c.subTree.hasOwnProperty(k)){var j={subTree:{},children:[],data:d,dataFormatted:h};c.subTree[k]=j;c.children.push(j);}c=c.subTree[k];}},toString:function(){var s=[];this.toStringHelper(this.root,[],s);return s.join('');},toStringHelper:function(a,c,s){var d=null;if(a===this.root){d=a.data;}else{d=this.keyFunction(a.data);}c.push(d);var h=false;for(var i in a.subTree){if(a.subTree.hasOwnProperty(i)){h=true;var j=a.subTree[i];var k=c.slice(0);this.toStringHelper(j,k,s);}}if(!h){s.push(c.toString()+'\n');}}};m.ABAPChartQuery=function(){this.init.apply(this,arguments);};m.ABAPChartQuery.prototype=f.extend({},H.ChartQuery.prototype,e.Query.prototype,{init:function(a){a=a||{};e.Query.prototype.init.apply(this,[a]);H.ChartQuery.prototype.init.apply(this,[a]);this.dimensions=[];this.attributeLimit=a.attributeLimit||1000;if(Object.prototype.toString.call(a.dimensions)==='[object Array]'){this.dimensions=a.dimensions;}else if(a.dimension){this.dimensions.push(a.dimension);}this.resultSetClass=m.ABAPChartResultSet;},getTitle:function(){if(this.resultSet&&this.resultSet.title){return this.resultSet.title;}else{return'unkown title';}},addDimension:function(d){this.dimensions.push(d);},setAttributeLimit:function(a){this.attributeLimit=a;},createJsonRequest:function(){var a=b.getABAPChartRequest();a.DataSource=this.filter.dataSource.getDataForRequest();a.Search.SearchTerms=this.filter.getSearchTerms();a.Search.Filter=this.filter.getDataForRequest();a.Search.Top=this.getTop();a.Search.Skip=this.getSkip();a.Facets.Attributes=this.dimensions;a.Facets.MaxNumberOfReturnValues=this.attributeLimit;a.Options=a.Options.concat(this.options);return a;}});m.ABAPChartResultSet=function(){this.init.apply(this,arguments);};m.ABAPChartResultSet.prototype={init:function(a){this.properties=a||{};this.dimensions=[];this.elements=[];},setJsonFromResponse:function(d){var a=new l.Perspective(this.properties);a.setJsonFromResponse(d);for(var i=0;i<a.chartFacets.length;i++){if(a.chartFacets[i].dimension==='$$DataSources$$')continue;this.dimensions.push(a.chartFacets[i].dimension);this.elements.push.apply(this.elements,a.chartFacets[i].query.resultSet.elements);this.title=a.chartFacets[i].title;break;}}};m.ChartQuery=function(){this.init.apply(this,arguments);};m.ChartQuery.prototype=f.extend({},H.ChartQuery.prototype,e.Query.prototype,{init:function(a){a=a||{};e.Query.prototype.init.apply(this,[a]);H.ChartQuery.prototype.init.apply(this,[a]);this.dimensions={};this.dimensions.CustomDimension1={Axis:'Columns',Name:'CustomDimension1',Members:[]};a.dimensions=a.dimensions||{};if(Object.prototype.toString.call(a.dimensions)==='[object Array]'){for(var i=0;i<a.dimensions.length;i++){this.addDimension(a.dimensions[i]);}}else if(typeof a.dimensions==='string'||typeof a.dimensions==='object'){this.addDimension(a.dimensions);}a.measures=a.measures||{};if(Object.prototype.toString.call(a.measures)==='[object Array]'){for(var j=0;j<a.measures.length;j++){this.addMeasure(a.measures[j]);}}else if(typeof a.measures==='object'){this.addMeasure(a.measures);}this.resultSetClass=m.ChartResultSet;},createJsonRequest:function(){var a=b.getChartRequest();a.DataSource=this.filter.dataSource.getDataForRequest();a.SearchTerms=this.filter.getSearchTerms();a.Analytics.Definition.Filter=this.filter.getDataForRequest();a.Analytics.Definition.Dimensions=[];for(var d in this.dimensions){a.Analytics.Definition.Dimensions.push(this.dimensions[d]);}return a;},count:function(d){this.addMeasure({name:d,aggregationFunction:'COUNT'});return this;},addMeasure:function(a){if(Object.keys(a).length===0){return{};}var c;if(a.aggregationFunction.toUpperCase()==='COUNT'||a.aggregationFunction.toUpperCase()==='AVG'){c=this._createAggregationDimension(a.aggregationFunction,a.name,a.aggregationFunction,a.sortOrder||undefined,a.top||undefined);}else{c=this._createAggregationDimension(a.aggregationFunction,'',a.name,a.sortOrder,a.top);delete c.AggregationDimension;delete c.Name;delete c.SortOrder;}this.dimensions.CustomDimension1.Members.push(c);return this;},addDimension:function(d,s,a){if(typeof d==='object'){if(Object.keys(d).length===0){return{};}this.dimensions[d.name]=this._createDimension(d.name,null,d.sortOrder,d.top);}else if(typeof d==='string'){if(!d){return{};}this.dimensions[d]=this._createDimension(d,null,s,a);}return this;},_createDimension:function(d,a,s,c){return{'Axis':a||'Rows','Name':d,'SortOrder':s||1,'Top':c||5};},_createAggregationDimension:function(a,c,d,s){return{'Aggregation':a,'AggregationDimension':c,'MemberOperand':{'AttributeName':'Measures','Comparison':'=','Value':d},'Name':d,'SortOrder':s||2};}});m.ChartResultSet=function(){this.init.apply(this,arguments);};m.ChartResultSet.prototype={init:function(a){a=a||{};this.type=a.type;this.elements=[];this.sina=a.sina;},_parseNamedValues:function(a,c,d){var h=this;for(var i=0;i<c.length;i++){var j=c[i].Name;var v=c[i].Value;a.label=c[i].ValueFormatted;a.labelRaw=c[i].Value;switch(j){case'$$DataSource$$':h._parseNamedValuesForDataSource(a,v);break;case'$$AttributeValue$$':h._parseNamedValuesForRange(a,v,d);break;}}},_parseNamedValuesForRange:function(a,v,c){var h,i,j;for(var d=0;d<v.length;++d){var k=v[d];switch(k.Name){case'ValueID':a.label=k.ValueFormatted;h=k.Value;break;case'Value1':if(c.Cube.ObjectName&&k.Value!==undefined){i=this.sina.createFilterCondition(c.Cube.ObjectName,'>=',k.Value,c.Cube.Description,k.ValueFormatted,k.ValueFormatted);}break;case'Value2':if(c.Cube.ObjectName&&k.Value!==undefined){j=this.sina.createFilterCondition(c.Cube.ObjectName,'<=',k.Value,c.Cube.Description,k.ValueFormatted,k.ValueFormatted);}break;case'Order':break;}}if(h){if(i&&j){var o=this.sina.createFilterConditionGroup();o.setOperator('AND');o.setLabel(a.label);if(i.value){o.addCondition(i);}if(j.value){o.addCondition(j);}a.labelRaw=o;}else if(i&&i.value&&!j){i.operator='=';a.labelRaw=i;}else if(j&&j.value&&!i){j.operator='=';a.labelRaw=j;}}},_parseNamedValuesForDataSource:function(a,v){a.dataSource=this.sina.createDataSource();for(var d=0;d<v.length;++d){var c=v[d];switch(c.Name){case'ObjectName':var h=c.ValueFormatted;a.dataSource.setLabel(h);a.dataSource.setObjectName(c.Value,c.ValueFormatted);break;case'PackageName':a.dataSource.setPackageName(c.Value,c.ValueFormatted);break;case'SchemaName':a.dataSource.setSchemaName(c.Value,c.ValueFormatted);break;case'Type':a.dataSource.setType(c.Value,c.ValueFormatted);break;default:a[c.Name]=c.Value;break;}}},setJsonFromResponse:function(d){this.elements=[];var h;if(d.Metadata){h=d.Metadata;}if(d.ResultSet){d=d.ResultSet;}var k={};for(var i=0;i<d.ItemLists.length;i++){k[d.ItemLists[i].Name]=d.ItemLists[i];}for(var a=0;a<d.Grids.length;a++){var o=d.Grids[a].Axes;var r=d.Grids[a].Cells;for(var s=0;s<r.length;++s){if(o[0].Dimensions.length===1){var v=r[s];var z={valueRaw:v.Value||v.ValueFormatted||null,value:v.ValueFormatted||v.Value||null};for(var j=0;j<1;j++){var m1=v.Index[j];var n1=o[j].Tuples[m1];if(n1===undefined){continue;}for(var c=0;c<n1.length;c++){var o1=o[j].Dimensions[c];var p1=n1[c];var q1=k[o1.ItemListName];var r1=q1.Items[p1].NamedValues;this._parseNamedValues(z,r1,h);}}this.elements.push(z);}}}},getElements:function(){return this.elements;}};m.GroupBarChartQuery=function(){this.init.apply(this,arguments);};m.GroupBarChartQuery.prototype=f.extend({},m.ChartQuery.prototype,{init:function(a){a=a||{};m.ChartQuery.prototype.init.apply(this,[a]);this.resultSetClass=m.GroupBarChartResultSet;}});m.GroupBarChartResultSet=function(){this.init.apply(this,arguments);};m.GroupBarChartResultSet.prototype={init:function(a){a=a||{};this.elements=[];},setJsonFromResponse:function(d){var a=this;this.elements=[];var r=new ResultSetParser({resultSet:d});var c=r.parse();function h(s,i){for(var j in s){var k=s[j];var o={label:k.data.NamedValues[0].ValueFormatted,value:[]};if(k.data.cell){o.value={value:k.data.cell.ValueFormatted,valueRaw:k.data.cell.Value};}if(i){i.value.push(o);}else{a.elements.push(o);}if(k.subTree){h(k.subTree,o);}}}h(c.root.subTree);},getElements:function(){return this.elements;}};m.LineChartQuery=function(){this.init.apply(this,arguments);};m.LineChartQuery.prototype=f.extend({},m.ChartQuery.prototype,{init:function(a){a=a||{};m.ChartQuery.prototype.init.apply(this,[a]);this.resultSetClass=m.LineChartResultSet;}});m.LineChartResultSet=function(){this.init.apply(this,arguments);};m.LineChartResultSet.prototype=f.extend({},m.GroupBarChartResultSet.prototype,{init:function(a){a=a||{};this.elements=[];},setJsonFromResponse:function(d){var a=this;this.elements=[];var r=new ResultSetParser({resultSet:d});var c=r.parse();function h(s,i){for(var j in s){var k=s[j];var o={label:k.data.NamedValues[0].ValueFormatted,value:[]};for(var v in k.subTree){var z=k.subTree[v];var m1={x:z.data.NamedValues[0].ValueFormatted};for(var n1 in z.subTree){var o1=z.subTree[n1];m1.y=o1.data.cell.Value;}o.value.push(m1);}a.elements.push(o);}}h(c.root.subTree);},getElements:function(){return this.elements;}});return m;}(H,t,E,K,f);M=function(g,y,c,e,h,m,n,f){var r={};var s=function(a){switch(a){case g.SuggestionType.HISTORY:return'SuggestSearchHistory';case g.SuggestionType.OBJECTDATA:return'SuggestObjectData';case g.SuggestionType.DATASOURCE:return'SuggestDataSources';default:throw'Unknown suggestion type '+a;}};var v=function(a){switch(a){case'SearchHistory':return g.SuggestionType.HISTORY;case'ObjectData':return g.SuggestionType.OBJECTDATA;case'DataSources':return g.SuggestionType.DATASOURCE;default:return g.SuggestionType.OBJECTDATA;}};r.Suggestion=function(){this.init.apply(this,arguments);};r.SuggestionAutoQuery=function(a){if(a.system instanceof m.ABAPSystem){f.extend(this,r.Suggestion2Query.prototype);}if(a.system instanceof m.HANASystem){f.extend(this,r.SuggestionQuery.prototype);}this.init.apply(this,arguments);};r.SuggestionQuery=function(){this.init.apply(this,arguments);};r.SuggestionQuery.prototype=f.extend({},y.SuggestionQuery.prototype,h.Query.prototype,{init:function(a){a=a||{};this.attributes=a.attributes||[];h.Query.prototype.init.apply(this,arguments);y.SuggestionQuery.prototype.init.apply(this,arguments);this.resultSetClass=r.SuggestionResultSet;},addResponseAttribute:function(a){this.attributes.push(a);this._resetResultSet();return this;},setResponseAttributes:function(a){this.attributes=a;this._resetResultSet();return this;},createJsonRequest:function(){var a=e.getSuggestionRequest();a.Suggestions.Precalculated=false;var b=this.filter.getSearchTerms();if(this.attributes.length===0){throw'add at least one response attribute to your query';}a.Suggestions.SearchTerms=b;a.Suggestions.AttributeNames=this.attributes;a.DataSource=this.filter.dataSource.getDataForRequest();a.Suggestions.Top=this._top;var u=this.filter.getDataForRequest();if(u&&u.Selection){a.Suggestions.Filter=u;}return a;}});r.SuggestionResultSet=function(){this.init.apply(this,arguments);};r.SuggestionResultSet.prototype={init:function(){this.suggestions=[];},setJsonFromResponse:function(j){this.suggestions=[];var k={};for(var i=0;i<j.ItemLists.length;i++){k[j.ItemLists[i].Name]=j.ItemLists[i];}for(var a=0;a<k.Suggestions.Items.length;a++){var l=k.Suggestions.Items[a],z='',m1='',n1='';var o1={};for(var d=0;d<l.NamedValues.length;++d){var p1=l.NamedValues[d];switch(p1.Name){case'Term':z=p1.Value;o1.label=z;break;case'AttributeName':m1=p1.Value;o1.attribute=m1;break;case'$$AttributeDescription$$':n1=p1.Value;o1.attributeDescription=n1;break;case'Score':var q1=p1.Value;o1.score=parseInt(q1,10);break;}}this.suggestions.push(o1);}this.suggestions.sort(function(a,b){return b.score-a.score;});for(var o=this.suggestions.length-1;o>=0;o--){delete this.suggestions[o].score;}},getElements:function(){return this.suggestions;}};r.Suggestion2Query=function(){this.init.apply(this,arguments);};r.Suggestion2Query.prototype=f.extend({},y.SuggestionQuery.prototype,h.Query.prototype,{init:function(a){a=a||{};this.attributes=a.attributes||[];h.Query.prototype.init.apply(this,[a]);y.SuggestionQuery.prototype.init.apply(this,[a]);this.resultSetClass=r.Suggestion2ResultSet;this.suggestionTerm=a.suggestionTerm||'';this.options=[];},addResponseAttribute:function(a){this.attributes.push(a);this._resetResultSet();return this;},setSuggestionTerm:function(a){if(this.suggestionTerm!==a){this.suggestionTerm=a;this._resetResultSet();}return this;},setResponseAttributes:function(a){this.attributes=a;this._resetResultSet();return this;},createJsonRequest:function(){var a=e.getSuggestion2Request();a.Suggestions2.Precalculated=false;a.Suggestions2.NamedValues=[];for(var i=0;i<this.attributes.length;i++){a.Suggestions2.NamedValues.push({AttributeName:this.attributes[i],Name:this.attributes[i]});}a.DataSource=this.filter.dataSource.getDataForRequest();a.Suggestions2.Top=this.getTop();a.Suggestions2.Skip=this.getSkip();var b=this.sina.createFilterConditionGroup();this.splittedSuggestionTerm=this.splitSuggestionTerm(this.suggestionTerm);if(this.splittedSuggestionTerm.searchTerm){var d=this.sina.createFilterCondition('$$SearchTerms$$','contains',this.splittedSuggestionTerm.searchTerm);b.addCondition(d);}var k=this.sina.createFilterCondition('$$SuggestionTerms$$','contains',this.splittedSuggestionTerm.suggestionTerm);b.addCondition(k);b.addCondition(this.getFilter().getFilterConditions());a.Suggestions2.Filter=b.getDataForRequest();a.Options=this.options.slice();var l=[];for(var j=0;j<this.suggestionTypes.length;j++){l.push(s(this.suggestionTypes[j]));}a.Options.push.apply(a.Options,l);return a;},splitSuggestionTerm:function(a){var b=a.lastIndexOf(' ');if(b<0){return{searchTerm:null,suggestionTerm:a};}var d=a.slice(0,b);d=d.replace(/\s+$/,'');if(d.length===0){return{searchTerm:null,suggestionTerm:a};}var i=a.slice(b);i=i.replace(/^\s+/,'');if(i.length===0){return{searchTerm:null,suggestionTerm:a};}return{searchTerm:d,suggestionTerm:i};}});r.Suggestion2ResultSet=function(){this.init.apply(this,arguments);};r.Suggestion2ResultSet.prototype={init:function(a){this.datasources={};this.suggestions=[];this.sina=a.sina;this.query=a.query;},parseSuggestion:function(a,b){var d={label:b.dataFormatted.$$Term$$.ValueFormatted,labelRaw:b.dataFormatted.$$Term$$.Value,dataSource:this.query.getDataSource(),type:a,children:[]};if(this.query.getDataSource().type==='Category'||a===g.SuggestionType.HISTORY){this.suggestions.push(d);}if(a===g.SuggestionType.HISTORY){return;}for(var j=1;j<b.children.length;++j){var i=b.children[j];var k=this.sina.createDataSource({type:c.DataSourceType.BUSINESSOBJECT,objectName:i.dataFormatted.$$DataSource$$,label:i.dataFormatted.$$DataSourceDescription$$});var l={label:b.dataFormatted.$$Term$$.ValueFormatted,labelRaw:b.dataFormatted.$$Term$$.Value,dataSource:k,type:d.type};if(this.query.getDataSource().type==='Category'){d.children.push(l);}else{this.suggestions.push(l);}}},parseDataSourceSuggestion:function(a){var d=this.sina.createDataSource({type:c.DataSourceType.BUSINESSOBJECT,objectName:a.dataFormatted.$$Term$$.Value,label:f.removeHtmlTags(a.dataFormatted.$$Term$$.ValueFormatted)});var b={label:a.dataFormatted.$$Term$$.ValueFormatted,labelRaw:d,dataSource:d,type:g.SuggestionType.DATASOURCE,children:[]};this.suggestions.push(b);},setJsonFromResponse:function(d){if(!d.Grids||!d.Grids[0]||!d.Grids[0].Axes){return;}var a=new n.ResultSetParser({resultSet:d});var b=a.parse();for(var i=0;i<b.root.children.length;++i){var j=b.root.children[i];var k=v(j.dataFormatted.$$Term$$.Scope);switch(k){case g.SuggestionType.OBJECTDATA:this.parseSuggestion(k,j);break;case g.SuggestionType.HISTORY:this.parseSuggestion(k,j);break;case g.SuggestionType.DATASOURCE:this.parseDataSourceSuggestion(j);break;}}},getElements:function(){this.concatenateSearchTerm(this.suggestions,this.query.splittedSuggestionTerm);return this.suggestions;},escapeRegExp:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,'\\$&');},concatenateSearchTerm:function(a,b){var d=this;if(!b.searchTerm){return;}var o=[];var z=b.searchTerm.split(' ');for(var k=0;k<z.length;k++){var m1=z[k];m1=m1.trim();o.push({term:m1,regExp:new RegExp(d.escapeRegExp(m1),'i')});}for(var i=0;i<a.length;++i){var n1=a[i];var o1=[];for(var j=0;j<o.length;++j){var p1=o[j];if(!p1.regExp.test(n1.labelRaw)){o1.push(p1.term);}}var q1=[];var r1=o1.join(' ');for(var l=0;l<o1.length;l++){var m1=o1[l];q1.push('<b>'+m1+'</b>');}q1=q1.join(' ');n1.label=q1+' '+n1.label;n1.labelRaw=r1+' '+n1.labelRaw;if(n1.children&&n1.children.length>0){this.concatenateSearchTerm(n1.children,b);}}}};return r;}(g,y,x,t,E,D,L,f);N=function(g,J,c,s,f){var e={};e.Facet=function(){this.init.apply(this,arguments);};e.Facet.prototype=f.extend({},J.Facet.prototype,{setJsonFromResponse:function(d){if(this.facetType===g.FacetType.DATASOURCE){this.query=this.sina.createChartQuery();this.query.resultSet=new c.ChartResultSet({sina:this.sina});}else if(this.facetType===g.FacetType.ATTRIBUTE){this.query=this.sina.createChartQuery();this.query.resultSet=new c.ChartResultSet({sina:this.sina});}else if(this.facetType===g.FacetType.SEARCH){this.query=this.sina.createSearchQuery();this.query.resultSet=new s.SearchResultSet({sina:this.sina});}this.query.resultSet.setJsonFromResponse(d);this._parseServerSideFacetMetaData(d.Metadata);},_parseServerSideFacetMetaData:function(d){if(d&&d.Cube){this.title=d.Cube.Description;this.dimension=d.Cube.ObjectName;}}});return e;}(g,J,L,F,f);O=function(x,f){var e={};e.MetaDataService=function(){this.init.apply(this,arguments);};e.MetaDataService.prototype={init:function(a){a=a||{};this.allInOneMap={};this.allInOneMap.dataSourceList=[];this.allInOneMap.dataSourceMap={};this.dataSourcesDeferred=null;this.allInOneMap.businessObjectList=[];this.allInOneMap.businessObjectMap={};this.businessObjectsDeferred=null;},getDataSources:function(a){var b=this;return b._fillDataSourcesBuffer(a).then(function(){return b.allInOneMap.dataSourceList;});},getDataSourcesSync:function(a){var b=this;b._fillDataSourcesBufferSync(a);return b.allInOneMap.dataSourceList;},getDataSource:function(a,d){var b=this;if(!d){throw'data source is missing';}if(!d.objectName){throw'data source\'s objectName is missing';}if(!d.packageName){throw'data source\'s packageName is missing';}if(!d.type){throw'data source\'s type is missing';}return b._fillDataSourcesBuffer().then(function(){return b.allInOneMap.dataSourceMap[d.key];});},getDataSourceByBusinessObjectName:function(a,d){var b=this;if(!d){throw'datasource key missing';}return b._fillDataSourcesBuffer().then(function(){return b.allInOneMap.dataSourceMap[d];});},getDataSourceSync:function(a,d){var b=this;if(!d){throw'data source is missing';}if(!d.objectName){throw'data source\'s objectName is missing';}if(!d.packageName){throw'data source\'s packageName is missing';}if(!d.type){throw'data source\'s type is missing';}b._fillDataSourcesBufferSync(a);return b.allInOneMap.dataSourceMap[d.key];},getDataSourceSyncByBusinessObjectName:function(a,d){var b=this;if(!d){throw'datasource key missing';}b._fillDataSourcesBufferSync(a);return b.allInOneMap.dataSourceMap[d];},_fillDataSourcesBuffer:function(a){var b=this;if(b.dataSourcesDeferred){return b.dataSourcesDeferred;}b.dataSourcesDeferred=f.Deferred();if(b.allInOneMap.dataSourceList.length!==0){b.dataSourcesDeferred.resolve(b.allInOneMap.dataSourceList);return b.dataSourcesDeferred;}a.top=a.top||1000;var d=new x.DataSourceQuery(a);var c=d.getResultSet();c.done(function(r){b._extractDataSources(a,r);b.dataSourcesDeferred.resolve(b.allInOneMap.dataSourceList);});c.fail(function(h){d=new x.ESHConnectorDataSourceQuery(a);d.getResultSet().then(function(r){b._extractESHConnectorDataSources(a,r);b.dataSourcesDeferred.resolve(b.allInOneMap.dataSourceList);},function(h){b.dataSourcesDeferred.reject(h);b.dataSourcesDeferred=null;});});return b.dataSourcesDeferred;},_fillDataSourcesBufferSync:function(a){var b=this;if(b.allInOneMap.dataSourceList.length!==0){return;}a.top=a.top||1000;var d=new x.DataSourceQuery(a);var r=d.getResultSetSync();if(r.elements.length!==0){b._extractDataSources(a,r);}else{d=new x.ESHConnectorDataSourceQuery(a);r=d.getResultSetSync();b._extractESHConnectorDataSources(a,r);}},_extractDataSources:function(a,r){var b=this;var c=r.getElements();for(var i=0;i<c.length;++i){var d=c[i];if(d.Type.value.toLowerCase()!=='category'){var l=d.Description.value===null?d.ObjectName.value:d.Description.value;var h=d.DescriptionPlural===undefined||d.DescriptionPlural.value===null?l:d.DescriptionPlural.value;var j=a.sina.createDataSource({objectName:{label:d.ObjectName.value,value:d.ObjectName.value},packageName:{label:'ABAP',value:'ABAP'},schemaName:'',type:'View',label:l,labelPlural:h});var k=j.key;if(!(k in b.allInOneMap.dataSourceMap)){b.allInOneMap.dataSourceList.push(j);b.allInOneMap.dataSourceMap[k]=j;}}}b._setRemoteSystemName();},_extractESHConnectorDataSources:function(a,r){var b=this;var c=r.getElements();for(var i=0;i<c.length;++i){var d=c[i];if(d.$$DataSourceMetaData$$.type.toLowerCase()!=='category'){var l=d.DESCRIPTION.value===null?d.OBJECT_NAME.value:d.DESCRIPTION.value;var h=d.DESCRIPTIONPLURAL===undefined||d.DESCRIPTIONPLURAL.value===null?l:d.DESCRIPTIONPLURAL.value;var j=a.sina.createDataSource({objectName:{label:d.OBJECT_NAME.value,value:d.OBJECT_NAME.value},packageName:{label:'ABAP',value:'ABAP'},schemaName:'',type:'View',label:l,labelPlural:h});var k=j.key;if(!(k in b.allInOneMap.dataSourceMap)){b.allInOneMap.dataSourceList.push(j);b.allInOneMap.dataSourceMap[k]=j;}}}b._setRemoteSystemName();},_setRemoteSystemName:function(){var a=this;var k='';var b='';var l='';var c='';var d='';var h='';var s='';var j='';var m='';var n='';for(var i=0;i<a.allInOneMap.dataSourceList.length-1;i++){if(a.allInOneMap.dataSourceList[i].labelPlural===a.allInOneMap.dataSourceList[i+1].labelPlural){if(!a.allInOneMap.dataSourceList[i].isLabelProcessed){k=a.allInOneMap.dataSourceList[i].key;l=a.allInOneMap.dataSourceList[i].label;c=a.allInOneMap.dataSourceList[i].labelPlural;s=a.allInOneMap.dataSourceList[i].objectName.value.substr(0,3);m=a.allInOneMap.dataSourceList[i].objectName.value.substr(3,3);}if(!a.allInOneMap.dataSourceList[i+1].isLabelProcessed){b=a.allInOneMap.dataSourceList[i+1].key;d=a.allInOneMap.dataSourceList[i+1].label;h=a.allInOneMap.dataSourceList[i+1].labelPlural;j=a.allInOneMap.dataSourceList[i+1].objectName.value.substr(0,3);n=a.allInOneMap.dataSourceList[i+1].objectName.value.substr(3,3);}if(s!==j){l=l+' ('+s+')';c=c+' ('+s+')';d=d+' ('+j+')';h=h+' ('+j+')';}else{l=l+' ('+s+':'+m+')';c=c+' ('+s+':'+m+')';d=d+' ('+j+':'+n+')';h=h+' ('+j+':'+n+')';}if(!a.allInOneMap.dataSourceList[i].isLabelProcessed){a.allInOneMap.dataSourceList[i].label=l;a.allInOneMap.dataSourceList[i].labelPlural=c;a.allInOneMap.dataSourceList[i].isLabelProcessed=true;a.allInOneMap.dataSourceMap[k].label=l;a.allInOneMap.dataSourceMap[k].labelPlural=c;a.allInOneMap.dataSourceMap[k].isLabelProcessed=true;}if(!a.allInOneMap.dataSourceList[i+1].isLabelProcessed){a.allInOneMap.dataSourceList[i+1].label=d;a.allInOneMap.dataSourceList[i+1].labelPlural=h;a.allInOneMap.dataSourceList[i+1].isLabelProcessed=true;a.allInOneMap.dataSourceMap[b].label=d;a.allInOneMap.dataSourceMap[b].labelPlural=h;a.allInOneMap.dataSourceMap[b].isLabelProcessed=true;}}}},getBusinessObjectsMetaData:function(a){var b=this;return b.getDataSources(a).then(function(){return b._fillBusinessObjectsBuffer().then(function(){return b.allInOneMap.businessObjectList;});});},getBusinessObjectsMetaDataSync:function(a){var b=this;b.getDataSourcesSync(a);b._fillBusinessObjectsBufferSync();return this.allInOneMap.businessObjectList;},getBusinessObjectMetaData:function(a,d){var b=this;if(!d){throw'data source is missing';}if(!d.objectName){throw'data source\'s objectName is missing';}if(!d.packageName){throw'data source\'s packageName is missing';}if(!d.type){throw'data source\'s type is missing';}return b.getDataSource(a,d).then(function(){return b._fillBusinessObjectBuffer(a,d.key).then(function(){return b.allInOneMap.businessObjectMap[d.key];});});},getBusinessObjectMetaDataByBusinessObjectName:function(d){var a=this;if(!d){throw'datasource key missing';}return a.getDataSourceByBusinessObjectName(d).then(function(){return a._fillBusinessObjectBuffer(properties,d).then(function(){return a.allInOneMap.businessObjectMap[d];});});},getBusinessObjectMetaDataSync:function(a,d){var b=this;if(!d){throw'data source is missing';}if(!d.objectName){throw'data source\'s objectName is missing';}if(!d.packageName){throw'data source\'s packageName is missing';}if(!d.type){throw'data source\'s type is missing';}b.getDataSourceSync(a,d);b._fillBusinessObjectBufferSync(a,d.key);return b.allInOneMap.businessObjectMap[d.key];},getBusinessObjectMetaDataSyncByBusinessObjectName:function(a,d){var b=this;if(!d){throw'datasource key missing';}b.getDataSourceSyncByBusinessObjectName(a,d);b._fillBusinessObjectBufferSync(a,d);return b.allInOneMap.businessObjectMap[d];},_fillBusinessObjectsBuffer:function(a){var b=this;if(b.businessObjectsDeferred){return b.businessObjectsDeferred;}b.businessObjectsDeferred=f.Deferred();if(b.allInOneMap.businessObjectList.length!==0){b.dataSourcesDeferred.resolve(b.allInOneMap.businessObjectList);return b.dataSourcesDeferred;}var d=b.allInOneMap.dataSourceList;var c=[];for(var i=0;i<d.length;i++){c.push(b._businessObjectDeffered(a,d[i].key));}f.when.apply(null,c).then(function(){b.businessObjectsDeferred.resolve(b.allInOneMap.businessObjectList);},function(h){b.businessObjectsDeferred=null;b.businessObjectsDeferred.reject(h);});return b.businessObjectsDeferred;},_businessObjectDeffered:function(a,k){var b=this;var j=a.sina.getSystem().proxy.ajax(b._parseMetaDataRequest(a,true,b.allInOneMap.dataSourceMap[k]));return j.then(function(r){var c=b._parseMetaDataResponse(r);b._setMetaData(k,c);return f.when(true);},function(c){return f.when(false);});},_fillBusinessObjectsBufferSync:function(a){var b=this;if(b.allInOneMap.businessObjectList.length!==0){return;}var d=b.allInOneMap.dataSourceList;for(var i=0;i<d.length;i++){if(!(d[i].key in b.allInOneMap.businessObjectMap)){b._fillBusinessObjectBufferSync(a,d[i].key);}}},_fillBusinessObjectBuffer:function(a,k){var b=this;var c=f.Deferred();if(b.allInOneMap.businessObjectMap[k]!==undefined&&b.allInOneMap.businessObjectMap[k].hasFulltextIndex!==undefined){c.resolve(b.allInOneMap.businessObjectMap[k]);return c;}var j=a.sina.getSystem().proxy.ajax(b._parseMetaDataRequest(a,true,b.allInOneMap.dataSourceMap[k]));j.then(function(r){var d=b._parseMetaDataResponse(r);b._setMetaData(k,d);c.resolve(b.allInOneMap.businessObjectMap[k]);},function(d){c=null;c.reject(d);});return c;},_fillBusinessObjectBufferSync:function(a,k){var b=this;if(b.allInOneMap.businessObjectMap[k]!==undefined&&b.allInOneMap.businessObjectMap[k].hasFulltextIndex!==undefined){return;}var d=b.allInOneMap.dataSourceMap[k];var j=a.sina.getSystem().proxy.ajax(b._parseMetaDataRequest(a,false,d));var c=$.parseJSON(j.responseText);if(!c.Error){var h=b._parseMetaDataResponse(c);b._setMetaData(d.key,h);}},_parseMetaDataRequest:function(a,i,d){var b={ObjectName:d.objectName.value,PackageName:d.packageName.value,SchemaName:d.schemaName.value,Type:d.type.value};var r={async:i,url:a.sina.getSystem().inaUrl,processData:false,contentType:'application/json',dataType:'json',data:{'DataSource':b,'Options':['SynchronousRun'],'Metadata':{'Context':'Search','Expand':['Cube']},'ServiceVersion':204},success:function(c){}};return r;},_parseMetaDataResponse:function(a){var b={};if(!a.Cube||!a.Cube.Dimensions){return b;}for(var i=0;i<a.Cube.Dimensions.length;i++){for(var j=0;j<a.Cube.Dimensions[i].Attributes.length;j++){var k=a.Cube.Dimensions[i].Attributes[j].Name;if(k===undefined||k===''||k.indexOf('$$')>-1){continue;}b[k]={displayOrder:a.Cube.Dimensions[i].Attributes[j].DisplayOrder||0,isTitle:$.inArray('Title',a.Cube.Dimensions[i].Attributes[j].presentationUsage)>-1?true:false,isKey:a.Cube.Dimensions[i].Attributes[j].IsKey,label:a.Cube.Dimensions[i].Attributes[j].Description||'',labelRaw:k,presentationUsage:a.Cube.Dimensions[i].Attributes[j].presentationUsage||[],accessUsage:a.Cube.Dimensions[i].Attributes[j].accessUsage||[],type:a.Cube.Dimensions[i].Attributes[j].DataType||'',hasFulltextIndex:a.Cube.Dimensions[i].Attributes[j].hasFulltextIndex||undefined};var h=b[k].hasFulltextIndex||false;if(h){b[k].type='Text';}}}return b;},setBusinessObjectMetaDataSync:function(x,d){var a=this;if(a.allInOneMap.businessObjectMap[x.key]){return;}var b={};for(var c in d){if(c.indexOf('$$')>-1||c==='title'||typeof d[c]==='function'||!d[c]||!d[c].$$MetaData$$){continue;}var h=d[c];var m=h.$$MetaData$$;var n={labelRaw:c,label:m.description,type:m.dataType,isTitle:m.isTitle,isKey:m.isKey,presentationUsage:m.presentationUsage,accessUsage:m.accessUsage,displayOrder:m.displayOrder,hasFulltextIndex:m.hasFulltextIndex||undefined};var i=n.hasFulltextIndex||false;if(i){n.type='Text';}b[c]=n;}a._setMetaData(x.key,b);},_setMetaData:function(k,a){var b=this;b.allInOneMap.businessObjectMap[k]={attributeMap:{}};b.allInOneMap.businessObjectMap[k].attributeMap=a;b.allInOneMap.businessObjectList.push(a);}};return e;}(G,f);P=function(f){var e={};e.EventLoggingService=function(){this.init.apply(this,arguments);};e.EventLoggingService.prototype={init:function(a){a=a||{};this.sina=a.sina;},logEvent:function(a){},logEvents:function(a){},createEventLoggingTimestamp:function(){var d=new Date();return''+d.getUTCFullYear()+f.pad(d.getUTCMonth()+1,2)+f.pad(d.getUTCDate(),2)+f.pad(d.getUTCHours(),2)+f.pad(d.getUTCMinutes(),2)+f.pad(d.getUTCSeconds(),2)+f.pad(d.getUTCMilliseconds(),3);}};return e;}(f);Q=function(e,f){var a={};a.EventLoggingService=function(){this.init.apply(this,arguments);};a.EventLoggingService.prototype=f.extend({},e.EventLoggingService.prototype,{init:function(b){e.EventLoggingService.prototype.init.apply(this,arguments);this.sessionId=f.createGuid();this.logEvent({type:'SESSION_START'});},logEvent:function(b){if(!b.timestamp){b.timestamp=this.createEventLoggingTimestamp();}this.logEvents([b]);},formatEvent:function(b){if(!b.timestamp){throw'timestamp missing for logging event!';}if(!b.type){throw'type missing for logging event!';}var r={Type:b.type,Timestamp:b.timestamp,ParameterList:[]};if(b.executionId){r.executionID=b.executionId;}for(var n in b){if(['executionId','type','timestamp'].indexOf(n)>=0){continue;}r.ParameterList.push({Name:n,Value:b[n]});}return r;},logEvents:function(b){var c=this;var r=[];for(var i=0;i<b.length;++i){var d=b[i];r.push(this.formatEvent(d));}this.sina.getSystem().getServerInfo().then(function(s){if(!c.isEnabled(s)){return;}c.sina.getSystem().proxy.ajax({async:true,url:c.sina.getSystem().inaUrl,contentType:'application/json',dataType:'json',data:{SearchInteractionLogging:{SessionID:c.sessionId,EventList:r}}});});},isEnabled:function(s){if(s&&s.services&&s.services.SearchInteractionLogging){return true;}return false;}});return a;}(P,f);R=function(f,b,p,q,j,u,x,s,c,a,d,e,B,m,P,h){var k={};k.Sina=function(){this.init.apply(this,arguments);};k.CatalogQuery=function(){this.init.apply(this,arguments);};k.SearchConfiguration=function(){this.init.apply(this,arguments);};k.UserHistory=function(){this.init.apply(this,arguments);};var l='INAV2';b.registerProvider({impl_type:l,sina:k.Sina,chartQuery:function(i){if(i.sina.getSystem()instanceof B.HANASystem){return new c.ChartQuery(i);}else{return new c.ABAPChartQuery(i);}},searchQuery:s.SearchQuery,groupBarChartQuery:c.GroupBarChartQuery,lineChartQuery:c.LineChartQuery,suggestionQuery:a.SuggestionAutoQuery,perspectiveQuery:d.PerspectiveQuery,perspectiveSearchQuery:d.PerspectiveSearchQuery,perspectiveGetQuery:d.PerspectiveGetQuery,Facet:e.Facet,DataSource:x.DataSource,metaDataService:new m.MetaDataService(),eventLoggingService:P.EventLoggingService,Filter:u.Filter,FilterCondition:u.Condition,FilterConditionGroup:u.ConditionGroup,DataSourceQuery:x.DataSourceQuery,searchConfiguration:k.SearchConfiguration,addUserHistoryEntry:function(i){var n=new k.UserHistory(i);return n.addUserHistoryEntry(i.oEntry);},emptyUserHistory:function(i){var n=new k.UserHistory(i);return n.emptyUserHistory();}});k.Sina.prototype=f.extend({},b.Sina.prototype,{init:function(i){i=i||{};b.Sina.prototype.init.apply(this,arguments);},getRootDataSource:function(i){return new x.DataSource({objectName:'$$ALL$$',packageName:'ABAP',schemaName:'',sina:this});},sapclient:function(i){var n;if(i){if(i<0){n=new B.HANASystem();}else{n=new B.ABAPSystem({'sapclient':i});}this.setSystem(n);}else{return this.getSystem().properties.sapclient();}return{};},_registerPostProcessor:function(i){if(!this.postProcessor){this.postProcessor=[];}this.postProcessor.push(i);},_postprocess:function(n,o){if(this.postProcessor){for(var i=0;i<this.postProcessor.length;i++){this.postProcessor[i](n,o);}}}});k.CatalogQuery.prototype=f.extend({},h.Query.prototype,{init:function(i){i=i||{};this.resultSetClass=SearchResultSet;},createJsonRequest:function(){return j.getCatalogRequest();}});k.UserHistory.prototype=f.extend({},q.Query.prototype,h.Query.prototype,{init:function(i){i=i||{};q.Query.prototype.init.apply(this,[i]);h.Query.prototype.init.apply(this,[i]);},addUserHistoryEntry:function(n,i){var o={'SearchConfiguration':{'Action':'Update','ClientEvent':n}};return this._fireRequest(o,i,'text');},emptyUserHistory:function(i){var n={'SearchConfiguration':{'Action':'Update','Data':{'PersonalizedSearch':{'ResetUserData':true}}}};return this._fireRequest(n,i,'text');}});k.SearchConfiguration.prototype=f.extend({},q.Query.prototype,h.Query.prototype,{init:function(i){i=i||{};q.Query.prototype.init.apply(this,[i]);h.Query.prototype.init.apply(this,[i]);},load:function(i){var n={'SearchConfiguration':{'Action':'Get','Data':{'PersonalizedSearch':{}}}};return this._fireRequest(n,i);},save:function(o,i){return this._fireRequest(o,i,'text');}});return k;}(f,g,p,q,t,w,G,F,L,M,K,N,D,O,Q,E);S=function(f,b,B,A){var e={};e.System=function(){this.init.apply(this,arguments);};e.System.prototype=f.extend({},B.System.prototype,{init:function(a){a=a||{};a.servicePath=a.servicePath||'/es/odata/callbuildin.xsjs';a.proxy=a.proxy||new A.Proxy({system:this});B.System.prototype.init.apply(this,[a]);},getServerInfo:function(){return f.when({rawServerInfo:{Services:[{Service:'Suggestions2',Capabilities:[{Capability:'ScopeTypes'}]}]},services:{Suggestions:{suggestionTypes:['objectdata']},Search:{capabilities:['search']}}});}});return e;}(f,g,B,A);T=function(u,f){var e={};var n=function(o){o=o.toLowerCase();switch(o){case'=':o='eq';break;case'!=':o='ne';break;case'>':o='gt';break;case'>=':o='ge';break;case'<':o='lt';break;case'<=':o='le';break;}return o;};e.Filter=function(){this.init.apply(this,arguments);};e.Filter.prototype=f.extend({},u.Filter.prototype,{init:function(a){u.Filter.prototype.init.apply(this,[a]);},getDataForRequest:function(){return this.defaultConditionGroup.getDataForRequest();}});e.Condition=function(){this.init.apply(this,arguments);};e.Condition.prototype=f.extend(Object.create(u.Condition.prototype),{init:function(a,o,v,l1){u.Condition.prototype.init.apply(this,arguments);},getDataForRequest:function(){return this.attribute+' '+n(this.operator)+' \''+this.value+'\'';}});e.ConditionGroup=function(){this.init.apply(this,arguments);};e.ConditionGroup.prototype=f.extend(Object.create(u.ConditionGroup.prototype),{init:function(a){u.ConditionGroup.prototype.init.apply(this,[a]);},getDataForRequest:function(){var r=[];for(var i=0;i<this.conditions.length;i++){var c=this.conditions[i];var a=c.getDataForRequest();if(a){r.push(c.getDataForRequest());}}var b=r.join(' '+n(this.operator)+' ');if(r.length>1){b='('+b+')';}return b;}});return e;}(u,f);U=function(x,f){var e={};e.DataSource=function(){this.init.apply(this,arguments);};e.DataSource.prototype=f.extend({},x.DataSource.prototype,{init:function(a){a=a||{};x.DataSource.prototype.init.apply(this,arguments);this.type=a.type||x.DataSourceType.BUSINESSOBJECT;this.entityType=a.entityType||a.name;this.name=a.name||'';this.schema=a.schema||'';this.label=a.label||'icognito datasource';this.labelPlural=a.labelPlural||'icognito datasource plural';this.sina=a.sina||null;this.constructKey();if(!this.key){throw'Datasource has no key!! '+JSON.stringify(a);}},constructKey:function(){this.key=this.type+'/'+this.entityType;},getIdentifier:function(){return this.name;},getType:function(){return this.type;},getEntityType:function(){return this.entityType;},getLabel:function(){return this.label;},getSchema:function(){return this.schema;},getLabelPlural:function(){return this.labelPlural;},getName:function(){return this.name;},clone:function(){var n=this.sina.createDataSource();n.type=this.type;n.entityType=this.entityType;n.name=this.name;n.schema=this.schema;n.label=this.label;n.labelPlural=this.labelPlural;n.key=this.key;return n;},setJson:function(j){this.type=j.type;this.entityType=j.entityType;this.schema=j.schema;this.label=j.label;this.labelPlural=j.labelPlural;this.name=j.name;this.constructKey();},getJson:function(){return{type:this.type,entityType:this.entityType,schema:this.schema,label:this.label,labelPlural:this.labelPlural,name:this.name};}});return e;}(x,f);V=function(b,f){var e={};e.ChartQuery=function(){this.init.apply(this,arguments);};e.ChartQuery.prototype=f.extend({},b.ChartQuery.prototype,{init:function(a){a=a||{};b.ChartQuery.prototype.init.apply(this,[a]);this.dimensions=[];this.attributeLimit=1000;},executeSync:function(){return this.resultSet;},addDimension:function(d){if(typeof d==='object'){if(Object.keys(d).length===0||!d.name){return;}this.dimensions.push(d.name);}else if(typeof d==='string'){if(!d){return;}this.dimensions.push(d);}},setAttributeLimit:function(l){this.attributeLimit=l;},getTitle:function(d){if(d===undefined&&this.filter.dataSource&&this.filter.dataSource.name){d=this.filter.dataSource.name;}if(!d){return'Default Title';}var m=this.sina.getBusinessObjectMetaDataSyncByBusinessObjectName(d).attributeMap;var l=m[this.dimensions[0]].label;return l;},execute:function(){var a=this;var s=a.filter.searchTerms;var d=a.filter.dataSource;var c=this.attributeLimit||5;var h=0;var i=a.dimensions[0];var j='Search.search(query=\'';if(!d.equals(a.sina.getRootDataSource())){j+='scope:'+d.name+' ';}j+=s+'\')';var k='';var l=a.filter.getDataForRequest();if(l){k=k+' and '+l;}var m='';if(i){m='/groupby(('+i+'),aggregate($count as _Count))';}var n='filter('+j+k+')'+m;var o={$count:true,$top:c,$skip:h,$apply:n};var r=this.system.servicePath+'/$all';var v={method:'GET',type:'GET',noXSRFToken:true,data:o,processData:true,url:r};return this.system.proxy.ajax(v).then(function(o){var z=new e.ChartResultSet({dimensions:a.dimensions,sina:a.sina,datasource:a.filter.dataSource});return z.setJsonFromResponseGroupBy(o);});}});e.ChartResultSet=function(){this.init.apply(this,arguments);};e.ChartResultSet.prototype={init:function(a){a=a||{};this.type=a.type;this.sina=a.sina;this.datasource=a.datasource;this.elements=[];this.dimensions=a.dimensions;},setJsonFromResponse:function(d){var a=d['@com.sap.vocabularies.Search.v1.Facet'].PropertyName||d['@com.sap.vocabularies.Search.v1.Facet'].Dimensions[0].PropertyName;var c=d['@com.sap.vocabularies.Search.v1.Facet'].isConnectorFacet;this.elements=[];for(var i=0;i<d.Items.length;++i){var h=d.Items[i];var j={};if(c===true){var k=this.sina.getDataSourceSyncByBusinessObjectName('BusinessObject/'+h[a]+'Type');j={dataSource:k,label:k.getLabel(),labelRaw:h[a],value:h._Count,valueRaw:h._Count};}else{var l=h[a];j={label:l,labelRaw:this.sina.createFilterCondition(a,'eq',h[a],this.datasource.getMetaDataSync().attributeMap[a].label,l,l),value:h._Count,valueRaw:h._Count};}this.elements.push(j);}},setJsonFromResponseGroupBy:function(d){var a=this;var c=a.dimensions[0];var l=c;var r=d.value;for(var i=0;i<r.length;++i){var h=r[i];var j={label:h[l],labelRaw:this.sina.createFilterCondition(c,'eq',h[c],this.datasource.getMetaDataSync().attributeMap[c].label,h[l],h[l]),value:h._Count,valueRaw:h._Count};a.elements.push(j);}return a;},getElements:function(){return this.elements;}};return e;}(H,f);W=function(b,f){var e={};e.SearchQuery=function(){this.init.apply(this,arguments);};e.SearchQuery.prototype=f.extend({},b.SearchQuery.prototype,{init:function(){b.SearchQuery.prototype.init.apply(this,arguments);this.resultSet=new e.SearchResultSet({sina:this.sina});},executeSync:function(){return this.resultSet;}});e.SearchResultSet=function(){this.init.apply(this,arguments);};e.SearchResultSet.prototype={init:function(a){a=a||{};this.sina=a.sina;this.elements=[];this.totalcount=0;this.dataSource=a.dataSource;},getElements:function(){return this.elements;},createEmptyElement:function(d){return{$$RelatedActions$$:[],$$WhyFound$$:[],$$DataSourceMetaData$$:d};},createAttribute:function(a,c,d,h){var i;if(h){switch(h.type){case'Edm.DateTime':var r=/[-]?\d+/;var o=new Date(parseInt(r.exec(c)[0],10));var j=sap.ui.core.format.DateFormat.getDateInstance({style:'medium'});c=j.format(o);break;case'Edm.Decimal':case'Edm.Double':case'Edm.Int16':case'Edm.Int32':case'Edm.Int64':case'Edm.Single':if(c){c=c.toString();}break;default:if(c){c=c.toString();}}i={$$MetaData$$:{presentationUsage:h.presentationUsage,displayOrder:h.displayOrder},label:h.label,labelRaw:h.labelRaw,value:c,valueRaw:c};}else{i={$$MetaData$$:{presentationUsage:[],displayOrder:d},label:a,labelRaw:a,value:c,valueRaw:c};}return i;},parseRecord:function(r){var a=this;var c=r['@odata.context']||a.dataSource.entityType;var d=c.lastIndexOf('#');if(d>-1){c=c.slice(d+1);}var h=r['@com.sap.vocabularies.Search.v1.WhyFound']||{};return a.sina.getBusinessObjectMetaDataByBusinessObjectName(c).then(function(m){var i=a.createEmptyElement(m.dataSource);var j=0;for(var k in r){if(k[0]==='@'||k[0]==='_'){continue;}var l=r[k];for(var n in h){if(n===k&&h[n][0]){l=h[n][0];}}i[k]=a.createAttribute(k,l,++j,m.attributeMap[k]);}return i;});},setJsonFromResponse:function(d){var a=this;a.totalcount=d['@odata.count']||0;a.totalcount=parseInt(a.totalcount,10);var r=d.value||d.d.results;var c=[];a.elements=[];for(var i=0;i<r.length;++i){var h=r[i];c.push(this.parseRecord(h).done(function(j){a.elements.push(j);}));}return f.when.apply(null,c).then(function(){return arguments;});}};return e;}(p,f);X=function(g,J,f,c,s){var e={};e.Facet=function(){this.init.apply(this,arguments);};e.Facet.prototype=f.extend({},J.Facet.prototype,{setJsonFromResponse:function(d){if(this.facetType===g.FacetType.DATASOURCE){this.query=this.sina.createChartQuery();this.query.resultSet=new c.ChartResultSet({sina:this.sina});}else if(this.facetType===g.FacetType.ATTRIBUTE){this.query=this.sina.createChartQuery();this.query.resultSet=new c.ChartResultSet({sina:this.sina,datasource:this.dataSource});}else if(this.facetType===g.FacetType.SEARCH){this.query=this.sina.createSearchQuery();this.query.resultSet=new s.SearchResultSet({sina:this.sina});}if(this.facetType===g.FacetType.ATTRIBUTE){this.dimension=d['@com.sap.vocabularies.Search.v1.Facet'].Dimensions[0].PropertyName;this.query.addDimension(this.dimension);this.title=this.query.getTitle(this.dataSource.name);}return this.query.resultSet.setJsonFromResponse(d);}});return e;}(g,J,f,V,W);Y=function(f,b,y,x){var e={};e.SuggestionQuery=function(){this.init.apply(this,arguments);};e.SuggestionQuery.prototype=f.extend({},y.SuggestionQuery.prototype,{init:function(){y.SuggestionQuery.prototype.init.apply(this,arguments);this.suggestionTerm=null;this.options=[];this.deferredResultSet=null;},setOptions:function(o){this.options=o;this._resetResultSet();},setSuggestionTerm:function(a){if(this.suggestionTerm!==a){this.suggestionTerm=a;this._resetResultSet();}return this;},_resetResultSet:function(){this.deferredResultSet=null;},execute:function(){var a=this;var c=5;var d=a.filter.dataSource;if(this.deferredResultSet){return this.deferredResultSet;}if(this.suggestionTypes.indexOf(b.SuggestionType.OBJECTDATA)<0){this.deferredResultSet=f.when(new e.SuggestionResultSet({sina:this.sina}));return this.deferredResultSet;}var s=this.sina.getSystem().servicePath+'/$all/GetSuggestion(term=\'';if(!d.equals(a.sina.getRootDataSource())){s+='scope:'+d.name+' ';}var h=s+this.suggestionTerm+'\')';this.deferredResultSet=this.system.proxy.ajax({method:'GET',type:'GET',noXSRFToken:true,$top:c,url:h}).then(function(i){var r=new e.SuggestionResultSet({sina:a.sina});return r.setJsonFromResponse(i);});return this.deferredResultSet;}});e.SuggestionResultSet=function(){this.init.apply(this,arguments);};e.SuggestionResultSet.prototype=f.extend({},y.SuggestionQuery.prototype,{init:function(a){this.sina=a.sina;this.elements=[];},setJsonFromResponse:function(d){var a=this;return a.sina.getDataSources().then(function(c){var s=d.value;for(var i=0;i<s.length;++i){var h=s[i];var j={children:[],label:h.term,labelRaw:h.term,value:0,valueRaw:0,dataSource:a.sina.getRootDataSource(),type:b.SuggestionType.OBJECTDATA,attribute:{value:'$$AllAttributes$$'}};a.elements.push(j);j={children:[],label:h.term,labelRaw:h.term,value:0,valueRaw:0,dataSource:a.sina.getDataSourceSyncByBusinessObjectName('BusinessObject/'+h.scope+'Type'),type:b.SuggestionType.OBJECTDATA,attribute:{value:'$$AllAttributes$$'}};a.elements.push(j);}return a;});},getElements:function(){return this.elements;}});return e;}(f,g,y,U);Z=function(g,f,b,J,q){var e={};e.PerspectiveQuery=function(){this.init.apply(this,arguments);};e.PerspectiveQuery.prototype=f.extend({},q.Query.prototype,b.PerspectiveQuery.prototype,{init:function(){q.Query.prototype.init.apply(this,arguments);b.PerspectiveQuery.prototype.init.apply(this,arguments);},_resetResultSet:function(){b.PerspectiveQuery.prototype._resetResultSet.apply(this,arguments);this.deferredResultSet=null;this.resultSet=null;this.jqXHR=null;},execute:function(){var a=this;var s=a.filter.searchTerms;var c;var d=a.filter.dataSource;var h=a.top()||10;var i=a.skip()||0;var j=5;var k='Search.search(query=\'';if(!d.equals(a.sina.getRootDataSource())){k+='scope:'+d.name+' ';}k+=s+'\')';var l='';var m=a.filter.getDataForRequest();if(m){l=l+' and '+m;}var n='filter('+k+l+')';var o={$count:true,$top:h,$skip:i,$apply:n,whyfound:true};var r=this.system.servicePath+'/$all';if(this.requestedEntities.indexOf('Facets')>-1){o.facets='all';o.facetlimit=j;}var v={method:'GET',type:'GET',noXSRFToken:true,data:o,processData:true,url:r};return this.system.proxy.ajax(v).then(function(o){c=new e.Perspective({sina:a.sina,dataSource:a.filter.dataSource});return c.setJsonFromResponse(o);});}});e.Perspective=function(){this.init.apply(this,arguments);};e.Perspective.prototype=f.extend({},b.Perspective.prototype,{setJsonFromResponse:function(d){var a=this;a.searchFacet=this.sina.createFacet({'facetType':g.FacetType.SEARCH});var r=a.searchFacet.setJsonFromResponse(d);a.chartFacets=[];var c=d['@com.sap.vocabularies.Search.v1.Facets'];if(c){for(var i=0;i<c.length;++i){var h=c[i];var j=h['@com.sap.vocabularies.Search.v1.Facet'].isConnectorFacet;var k=this.sina.createFacet({'facetType':j===true?g.FacetType.DATASOURCE:g.FacetType.ATTRIBUTE,dataSource:a.dataSource});k.setJsonFromResponse(h);a.chartFacets.push(k);}}return f.when([r]).then(function(){return a;});}});return e;}(g,f,I,J,q);_=function(f){var e={};e.MetaDataService=function(){this.init.apply(this,arguments);};e.MetaDataService.prototype={init:function(a){a=a||{};this.sina=a.sina||null;this.allInOneMap={};this.allInOneMapDeferred=null;this.presentationUsageConversionMap={TITLE:'Title',SUMMARY:'Summary',DETAIL:'Detail'};this.accessUsageConversionMap={AUTO_FACET:'AutoFacet',SUGGESTION:'Suggestion'};},getDataSources:function(a){var b=this;return b._fillInternalBuffer(a.sina).then(function(){return b.allInOneMap.dataSourcesList;});},getDataSourcesSync:function(a){this._fillInternalBufferSync(a.sina);return this.allInOneMap.dataSourcesList;},getDataSource:function(a,d){var b=this;var c=d.getName();if(!c){throw'EntitySetName missing';}return b._fillInternalBuffer(a.sina).then(function(){return b.allInOneMap.dataSourceMap[c];});},getDataSourceByBusinessObjectName:function(a,b){var c=this;if(!b){throw'EntitySetName missing';}return c._fillInternalBuffer(a.sina).then(function(){return c.allInOneMap.dataSourceMap[b];});},getDataSourceSync:function(a,d){var b=d.getName();if(!b){throw'EntitySetName missing';}this._fillInternalBufferSync();return this.allInOneMap.dataSourceMap[b];},getDataSourceSyncByBusinessObjectName:function(a,b){if(!b){throw'EntitySetName missing';}this._fillInternalBufferSync();return this.allInOneMap.dataSourceMap[b];},getBusinessObjectsMetaData:function(a){var b=this;return b._fillInternalBuffer(a.sina).then(function(){return b.allInOneMap.businessObjectList;});},getBusinessObjectsMetaDataSync:function(a){this._fillInternalBufferSync();return this.allInOneMap.businessObjectList;},getBusinessObjectMetaData:function(a,d){var b=this;var c=d.getName();if(!c){throw'EntitySetName missing';}return b._fillInternalBuffer(a.sina).then(function(){return b.allInOneMap.businessObjectMap[c];});},getBusinessObjectMetaDataByBusinessObjectName:function(a,b){var c=this;if(!b){throw'EntitySetName missing';}return c._fillInternalBuffer(a.sina).then(function(){return c.allInOneMap.businessObjectMap[b];});},getBusinessObjectMetaDataSync:function(a,d){var b=d.getName();if(!b){throw'EntitySetName missing';}this._fillInternalBufferSync();return this.allInOneMap.businessObjectMap[b];},getBusinessObjectMetaDataSyncByBusinessObjectName:function(a,b){if(!b){throw'EntitySetName missing';}this._fillInternalBufferSync();return this.allInOneMap.businessObjectMap[b];},_fillInternalBufferSync:function(l1){if(this.allInOneMap&&Object.keys(this.allInOneMap).length>0){return;}this.allInOneMap=this._fireMetaRequest(l1,false);},_fillInternalBuffer:function(l1){var a=this;if(this.allInOneMapDeferred){return this.allInOneMapDeferred;}a.allInOneMapDeferred=a._fireMetaRequest(l1).then(function(b){a.allInOneMap=b;});return a.allInOneMapDeferred;},_getWindow:function(){var a=this;if(!this.windowDeferred){this.windowDeferred=f.Deferred();}if(typeof window==='undefined'){var j=j;var b=b;var c=b.readFileSync('./node_modules/jquery/dist/jquery.js','utf-8');j.env({html:'<html><body></body></html>',src:[c],done:function(d,h){if(!d){a.windowDeferred.resolve(h);}else{a.windowDeferred.reject(d);}}});}else{this.windowDeferred.resolve(window);}return this.windowDeferred.promise();},_parseEntityType:function(s,a){var b=this;var h={};s=a.$(s);s.find('EntityType').each(function(){var c=a.$(this).attr('Name');var d={schema:s.attr('Namespace'),keys:[],attributeMap:{}};h[c]=d;a.$(this).find('Key>PropertyRef').each(function(){d.keys.push(a.$(this).attr('Name'));});a.$(this).find('Property').each(function(i){var j=a.$(this).attr('Name');var k={labelRaw:j,label:null,type:a.$(this).attr('Type'),isTitle:false,presentationUsage:[],accessUsage:[],displayOrder:i,unknownAnnotation:[]};d.attributeMap[j]=k;a.$(this).find('Annotation').each(function(){switch(a.$(this).attr('Term')){case'SAP.Common.Label':k.label=a.$(this).attr('String');break;case'EnterpriseSearch.key':k.enterprisesearchkey=a.$(this).attr('Bool')=='true'?true:false;break;case'EnterpriseSearch.presentationMode':a.$(this).find('Collection>String').each(function(){var l=a.$(this).text();l=b.presentationUsageConversionMap[l];if(l){k.presentationUsage.push(l);if(l.toLocaleLowerCase()==='title'){k.isTitle=true;}}});break;case'EnterpriseSearch.usageMode':a.$(this).find('Collection>String').each(function(){var l=a.$(this).text();l=b.accessUsageConversionMap[l];if(l){k.accessUsage.push(l);}});break;default:k.unknownAnnotation.push(a.$(this));}});});});return h;},_parseEntityContainer:function(l1,s,h,a,b){s.find('EntityContainer>EntitySet').each(function(){if(b.$(this).attr('Name')&&b.$(this).attr('EntityType')){var n=b.$(this).attr('Name');var c=b.$(this).attr('EntityType');var d=c.slice(0,c.lastIndexOf('.'));var i=c.slice(c.lastIndexOf('.')+1);var j=l1.createDataSource({label:n,labelPlural:n,entityType:i,name:n,schema:d,sina:l1});a.dataSourceMap[j.key]=j;a.dataSourcesList.push(j);var k=h[i];if(k===undefined){throw'EntityType '+i+' has no corresponding meta data!';}k.name=n;k.dataSource=j;a.businessObjectMap[n]=k;a.businessObjectList.push(k);}});},_parseResponse:function(l1,m,d){var a=this;var b={businessObjectMap:{},businessObjectList:[],dataSourceMap:{},dataSourcesList:[]};var c=f.Deferred();this._getWindow().then(function(h){h.$(m).find('Schema').each(function(){var i=h.$(this);var j=a._parseEntityType(i,h);a._parseEntityContainer(l1,i,j,b,h);});c.resolve(b);});return c.promise();},_fireMetaRequest:function(l1,a){var b=this;var c=l1.getSystem().servicePath+'/$metadata';var r={async:a===undefined?true:a,method:'GET',type:'GET',url:c,processData:false,dataType:'xml',noXSRFToken:true};var d=f.Deferred();var m=l1.getSystem().proxy.ajax(r);if(r.async){m.done(function(h){b._parseResponse(l1,h).then(function(i){d.resolve(i);});});return d.promise();}else{var h=m.responseXML;return b._parseResponse(l1,h);}}};return e;}(f);a1=function(f,b,B,u,x,A,d,a,s,c,e,h,m){var i={};i.Sina=function(){this.init.apply(this,arguments);};i.Sina.prototype=f.extend({},b.Sina.prototype,{init:function(){b.Sina.prototype.init.apply(this,arguments);this.rootDataSource=new x.DataSource({label:'All',labelPlural:'All',name:'$$ALL$$',type:d.DataSourceType.CATEGORY,sina:this});},getRootDataSource:function(){return this.rootDataSource;}});i.IMPL_TYPE='ODATA2';b.registerProvider({impl_type:i.IMPL_TYPE,sina:i.Sina,Facet:a.Facet,chartQuery:e.ChartQuery,searchQuery:s.SearchQuery,suggestionQuery:c.SuggestionQuery,perspectiveQuery:h.PerspectiveQuery,metaDataService:new m.MetaDataService(),Filter:u.Filter,FilterCondition:u.Condition,FilterConditionGroup:u.ConditionGroup,DataSource:x.DataSource});return i;}(f,g,S,T,U,A,x,X,W,Y,V,Z,_);b1=function(f,b,B,A){var e={};e.System=function(){this.init.apply(this,arguments);};e.System.prototype=f.extend({},B.System.prototype,{init:function(a){this.infoUrl='/sap/opu/odata/sap/ESH_SEARCH_SRV/';a=a||{};B.System.prototype.init.apply(this,[a]);},setServerInfo:function(j){this.properties={rawServerInfo:{Services:[{Service:'Suggestions2',Capabilities:[{Capability:'ScopeTypes'}]}]},services:{Suggestions:{suggestionTypes:['objectdata']},Search:{capabilities:['search']}}};}});return e;}(f,g,B,A);c1=function(u,f){var e={};e.Filter=function(){this.init.apply(this,arguments);};e.Filter.prototype=f.extend({},u.Filter.prototype,{init:function(a){u.Filter.prototype.init.apply(this,[a]);},getDataForRequest:function(){return this.defaultConditionGroup.getDataForRequest();}});e.Condition=function(){this.init.apply(this,arguments);};e.Condition.prototype=f.extend(Object.create(u.Condition.prototype),{init:function(a,o,v,l1){u.Condition.prototype.init.apply(this,arguments);},getDataForRequest:function(){var c={'Id':1,'ConditionAttribute':this.attribute,'ConditionValue':this.value};return c;}});e.ConditionGroup=function(){this.init.apply(this,arguments);};e.ConditionGroup.prototype=f.extend(Object.create(u.ConditionGroup.prototype),{init:function(a){u.ConditionGroup.prototype.init.apply(this,[a]);},getDataForRequest:function(){var r=[];for(var i=0;i<this.conditions.length;i++){var c=this.conditions[i];var a=c.getDataForRequest();if(a){r.push(c.getDataForRequest());}}var b=null;if(r.length>=1){b={'Id':1,'OperatorType':this.operator.toUpperCase(),'SubFilters':r};}return b;}});return e;}(u,f);d1=function(x,f){var e={};e.DataSource=function(){this.init.apply(this,arguments);};e.DataSource.prototype=f.extend({},x.DataSource.prototype,{init:function(a){a=a||{};x.DataSource.prototype.init.apply(this,arguments);this.type=a.type||'View';this.name=a.name||'';this.id=this.name;this.objectName=this.name;this.semanticObjectType=a.semanticObjectType||a.SemanticObjectType||'';this.label=a.label||'icognito datasource';this.labelPlural=a.labelPlural||'icognito datasource plural';this.sina=a.sina||null;this._constructKey();},getLabel:function(){return this.label;},getLabelPlural:function(){return this.labelPlural;},_constructKey:function(){this.key=this.name+'/'+this.type;},getIdentifier:function(){return this.key;},getType:function(){return this.type;},getName:function(){return this.name;},clone:function(){var n=this.sina.createDataSource();n.type=this.type;n.name=this.name;n.semanticObjectType=this.semanticObjectType;n.label=this.label;n.labelPlural=this.labelPlural;n.key=this.key;return n;},getDataForRequest:function(){var j={'Name':this.getName(),'Type':this.getType()};return j;},setJson:function(j){this.type=j.type;this.label=j.label;this.labelPlural=j.labelPlural;this.name=j.name;this.semanticObjectType=undefined;this._constructKey();}});return e;}(x,f);e1=function(b,f){var e={};e.ChartQuery=function(){this.init.apply(this,arguments);};e.ChartQuery.prototype=f.extend({},b.ChartQuery.prototype,{init:function(a){a=a||{};b.ChartQuery.prototype.init.apply(this,[a]);this.dimensions=[];this.attributeLimit=1000;},executeSync:function(){return this.resultSet;},addDimension:function(d){if(typeof d==='object'){if(Object.keys(d).length===0||!d.name){return;}this.dimensions.push(d.name);}else if(typeof d==='string'){if(!d){return;}this.dimensions.push(d);}},setAttributeLimit:function(l){this.attributeLimit=l;},getTitle:function(d){if(d===undefined&&this.filter.dataSource&&this.filter.dataSource.name){d=this.filter.dataSource.name;}if(!d){return'Default Title';}var m=this.sina.getBusinessObjectMetaDataSyncByBusinessObjectName(d).attributeMap;var l=m[this.dimensions[0]].label;return l;},execute:function(){var a=this;var s=a.filter.searchTerms;var d=a.filter.dataSource;var c=this.attributeLimit||5;var h=0;var i=a.filter.getDataForRequest();var j='/sap/opu/odata/SAP/ESH_SEARCH_SRV/SearchQueries/';var k={'d':{'Id':'1','QueryOptions':{'SearchTerms':s,'Top':c,'Skip':h},'DataSources':[{'Id':d.name,'Type':d.type}],'Facets':[{'Values':[]}],'ResultList':{'SearchResults':[{'HitAttributes':[],'Attributes':[]}]}}};if(i!==null){k.d.Filter=i;}var r={method:'POST',type:'POST',noXSRFToken:false,data:k,contentType:'application/json',url:j};return this.system.proxy.ajax(r).then(function(k){var l=new e.ChartResultSet({dimensions:a.dimensions,sina:a.sina,datasource:a.filter.dataSource});return l.setJsonFromResponseGroupBy(k);});}});e.ChartResultSet=function(){this.init.apply(this,arguments);};e.ChartResultSet.prototype={init:function(a){a=a||{};this.type=a.type;this.sina=a.sina;this.datasource=a.datasource;this.elements=[];this.dimensions=a.dimensions;},setJsonFromResponse:function(d){var a=this;var c=d.Id==='DataSource';a.elements=[];for(var i=0;i<d.Values.results.length;++i){var h=d.Values.results[i];var j={};if(c===true){var k=a.sina.getDataSourceSyncByBusinessObjectName(h.ValueLow+'/'+h.Type);if(k){j={dataSource:k,label:k.getLabel(),labelRaw:h.ValueLow,value:h.NumberOfObjects,valueRaw:h.NumberOfObjects};}else{j={dataSource:a.sina.createDataSource({type:h.Type,name:h.ValueLow,label:h.Description,labelPlural:h.Description,sina:a.sina}),label:h.Description,labelRaw:h.ValueLow,value:h.NumberOfObjects,valueRaw:h.NumberOfObjects};}}else{var l=a.sina.createFilterCondition(d.Id,'=',h.ValueLow,d.Name,h.ValueLowFormatted,h.ValueLowFormatted);j={label:h.ValueLowFormatted,labelRaw:l,value:h.NumberOfObjects,valueRaw:h.NumberOfObjects};}a.elements.push(j);}},setJsonFromResponseGroupBy:function(d){var a=this;var c=a.dimensions[0];var h;var r;for(var j=0;j<d.d.Facets.results.length;j++){if(d.d.Facets.results[j].Id===c){h=d.d.Facets.results[j].Name;r=d.d.Facets.results[j].Values.results;break;}}for(var i=0;i<r.length;++i){var k=r[i];var l={label:k.ValueLowFormatted,labelRaw:this.sina.createFilterCondition(c,'=',k.ValueLow,h,k.ValueLowFormatted,k.ValueLowFormatted),value:k.NumberOfObjects,valueRaw:k.NumberOfObjects};a.elements.push(l);}return a;},getElements:function(){return this.elements;}};return e;}(H,f);f1=function(b,f){var e={};e.SearchQuery=function(){this.init.apply(this,arguments);};e.SearchQuery.prototype=f.extend({},b.SearchQuery.prototype,{init:function(){b.SearchQuery.prototype.init.apply(this,arguments);this.resultSet=new e.SearchResultSet({sina:this.sina});},executeSync:function(){return this.resultSet;}});e.SearchResultSet=function(){this.init.apply(this,arguments);};e.SearchResultSet.prototype={init:function(a){a=a||{};this.sina=a.sina;this.elements=[];this.totalcount=0;this.dataSource=a.dataSource;},getElements:function(){return this.elements;},createEmptyElement:function(d){return{$$RelatedActions$$:[],$$WhyFound$$:[],$$DataSourceMetaData$$:d};},createAttribute:function(a,c,d,h){var i;if(h){i={$$MetaData$$:{presentationUsage:h.presentationUsage,displayOrder:h.displayOrder},label:h.label,labelRaw:h.labelRaw,value:c,valueRaw:c};}else{i={$$MetaData$$:{presentationUsage:[],displayOrder:d},label:a,labelRaw:a,value:c,valueRaw:c};}return i;},parseRecord:function(r){var a=this;var c=r.DataSourceId+'/'+r.DataSourceType;return a.sina.getBusinessObjectMetaDataByBusinessObjectName(c).then(function(m){var d=a.createEmptyElement(m.dataSource);var h=0;r.Attributes.results.forEach(function(o){d[o.Id]=a.createAttribute(o.Id,o.Value,++h,m.attributeMap[o.Id]);});return d;});},setJsonFromResponse:function(d){var a=this;a.totalcount=parseInt(d.d.ResultList.TotalHits,10);var r=d.d.ResultList.SearchResults?d.d.ResultList.SearchResults.results:[];var c=[];a.elements=[];for(var i=0;i<r.length;++i){var h=r[i];c.push(this.parseRecord(h).done(function(j){a.elements.push(j);}));}return f.when.apply(null,c).then(function(){return arguments;});}};return e;}(p,f);g1=function(g,J,f,c,s){var e={};e.Facet=function(){this.init.apply(this,arguments);};e.Facet.prototype=f.extend({},J.Facet.prototype,{setJsonFromResponse:function(d){if(this.facetType===g.FacetType.DATASOURCE){this.query=this.sina.createChartQuery();this.query.resultSet=new c.ChartResultSet({sina:this.sina});}else if(this.facetType===g.FacetType.ATTRIBUTE){this.query=this.sina.createChartQuery();this.query.resultSet=new c.ChartResultSet({sina:this.sina,datasource:this.dataSource});}else if(this.facetType===g.FacetType.SEARCH){this.query=this.sina.createSearchQuery();this.query.resultSet=new s.SearchResultSet({sina:this.sina});}if(this.facetType===g.FacetType.ATTRIBUTE){this.dimension=d.Id;this.query.addDimension(this.dimension);this.title=d.Name;}return this.query.resultSet.setJsonFromResponse(d);}});return e;}(g,J,f,e1,f1);h1=function(f,b,y,x){var e={};e.SuggestionQuery=function(){this.init.apply(this,arguments);};e.SuggestionQuery.prototype=f.extend({},y.SuggestionQuery.prototype,{init:function(){y.SuggestionQuery.prototype.init.apply(this,arguments);this.suggestionTerm=null;this.options=[];this.deferredResultSet=null;},setOptions:function(o){this.options=o;this._resetResultSet();},setSuggestionTerm:function(a){if(this.suggestionTerm!==a){this.suggestionTerm=a;this._resetResultSet();}return this;},_resetResultSet:function(){this.deferredResultSet=null;},execute:function(){var a=this;var c=5;var d=a.filter.dataSource;if(this.deferredResultSet){return this.deferredResultSet;}if(this.suggestionTypes.indexOf(b.SuggestionType.OBJECTDATA)<0){this.deferredResultSet=f.when(new e.SuggestionResultSet({sina:this.sina}));return this.deferredResultSet;}var s=this.sina.getSystem().servicePath+'/sap/opu/odata/SAP/ESH_SEARCH_SRV/SuggestionsQueries/';var h={'d':{'Id':'1','SuggestionInput':a.suggestionTerm,'IncludeAttributeSuggestions':true,'IncludeHistorySuggestions':true,'IncludeDataSourceSuggestions':true,'QueryOptions':{'Top':c,'Skip':0},'DataSources':[{'Id':d.name,'Type':d.type}],'Suggestions':[],'ExecutionDetails':[]}};this.deferredResultSet=this.system.proxy.ajax({method:'POST',type:'POST',noXSRFToken:false,data:h,contentType:'application/json',url:s}).then(function(h){var r=new e.SuggestionResultSet({sina:a.sina});return r.setJsonFromResponse(h);});return this.deferredResultSet;}});e.SuggestionResultSet=function(){this.init.apply(this,arguments);};e.SuggestionResultSet.prototype=f.extend({},y.SuggestionQuery.prototype,{init:function(a){this.sina=a.sina;this.elements=[];},setJsonFromResponse:function(d){var a=this;return a.sina.getDataSources().then(function(c){var s=d.d.Suggestions?d.d.Suggestions.results:[];for(var i=0;i<s.length;++i){var h=s[i];var j={children:[],label:h.SearchTermsHighlighted,labelRaw:h.SearchTerms,value:0,valueRaw:0,dataSource:a.sina.getDataSourceSyncByBusinessObjectName(h.FromDataSource+'/View')?a.sina.getDataSourceSyncByBusinessObjectName(h.FromDataSource+'/View'):a.sina.getRootDataSource(),type:b.SuggestionType.OBJECTDATA,attribute:{value:'$$AllAttributes$$'}};a.elements.push(j);}return a;});},getElements:function(){return this.elements;}});return e;}(f,g,y,d1);i1=function(g,f,b,J,q){var e={};e.PerspectiveQuery=function(){this.init.apply(this,arguments);};e.PerspectiveQuery.prototype=f.extend({},q.Query.prototype,b.PerspectiveQuery.prototype,{init:function(){b.PerspectiveQuery.prototype.init.apply(this,arguments);},_isAllDataSource:function(d){return JSON.stringify(this.sina.rootDataSource)===JSON.stringify(d);},_resetResultSet:function(){b.PerspectiveQuery.prototype._resetResultSet.apply(this,arguments);this.deferredResultSet=null;this.resultSet=null;this.jqXHR=null;},execute:function(){var a=this;var s=a.filter.searchTerms;var d=a.filter.dataSource;var c=a.top()||10;var h=a.skip()||0;var i=a.filter.getDataForRequest();var j;var k={'d':{'Id':'1','QueryOptions':{'SearchTerms':s,'Top':c,'Skip':h},'DataSources':[{'Id':d.name,'Type':d.type}],'Facets':[{'Values':[]}],'ResultList':{'SearchResults':[{'HitAttributes':[],'Attributes':[]}]}}};if(i!==null){k.d.Filter=i;}var r={method:'POST',type:'POST',noXSRFToken:false,data:k,contentType:'application/json',url:'/sap/opu/odata/SAP/ESH_SEARCH_SRV/SearchQueries/'};return this.system.proxy.ajax(r).then(function(k){j=new e.Perspective({sina:a.sina,dataSource:a.filter.dataSource});return j.setJsonFromResponse(k);});}});e.Perspective=function(){this.init.apply(this,arguments);};e.Perspective.prototype=f.extend({},b.Perspective.prototype,{setJsonFromResponse:function(d){var a=this;a.searchFacet=this.sina.createFacet({'facetType':g.FacetType.SEARCH});var r=a.searchFacet.setJsonFromResponse(d);a.chartFacets=[];var c=d.d.Facets?d.d.Facets.results:[];if(c){for(var i=0;i<c.length;++i){var h=c[i];var j=h.Id==='DataSource';var k=this.sina.createFacet({'facetType':j===true?g.FacetType.DATASOURCE:g.FacetType.ATTRIBUTE,dataSource:a.dataSource});k.setJsonFromResponse(h);a.chartFacets.push(k);}}return f.when([r]).then(function(){return a;});}});return e;}(g,f,I,J,q);j1=function(f){var e={};e.MetaDataService=function(){this.init.apply(this,arguments);};e.MetaDataService.prototype={init:function(a){a=a||{};this.sina=a.sina||null;this.allInOneMap={};this.allInOneMapDeferred=null;this.presentationUsageConversionMap={TITLE:'Title',SUMMARY:'Summary',DETAIL:'Detail',FACTSHEET:'Factsheet'};this.accessUsageConversionMap={AUTO_FACET:'AutoFacet',SUGGESTION:'Suggestion'};},getDataSources:function(a){var b=this;return b._fillInternalBuffer(a.sina).then(function(){return b.allInOneMap.dataSourcesList;});},getDataSourcesSync:function(a){this._fillInternalBufferSync(a.sina);return this.allInOneMap.dataSourcesList;},getDataSource:function(a,d){var b=this;var c=d.getName();if(!c){throw'EntitySetName missing';}return b._fillInternalBuffer(a.sina).then(function(){return b.allInOneMap.dataSourceMap[c+'/'+d.getType()];});},getDataSourceByBusinessObjectName:function(a,b){var c=this;if(!b){throw'EntitySetName missing';}return c._fillInternalBuffer(a.sina).then(function(){return c.allInOneMap.dataSourceMap[b];});},getDataSourceSync:function(a,d){var b=d.getName();if(!b){throw'EntitySetName missing';}this._fillInternalBufferSync(a.sina);return this.allInOneMap.dataSourceMap[b+'/'+d.getType()];},getDataSourceSyncByBusinessObjectName:function(a,b){var c=this;if(!b){throw'EntitySetName missing';}c._fillInternalBufferSync(a.sina);return c.allInOneMap.dataSourceMap[b];},getBusinessObjectsMetaData:function(a){var b=this;return b._fillInternalBuffer(a.sina).then(function(){return b.allInOneMap.businessObjectList;});},getBusinessObjectsMetaDataSync:function(a){this._fillInternalBufferSync(a.sina);return this.allInOneMap.businessObjectList;},getBusinessObjectMetaData:function(a,d){var b=this;var c=d.getName();if(!c){throw'EntitySetName missing';}return b._fillInternalBuffer(a.sina).then(function(){return b.allInOneMap.businessObjectMap[c+'/'+d.getType()];});},getBusinessObjectMetaDataByBusinessObjectName:function(a,b){var c=this;if(!b){throw'EntitySetName missing';}return c._fillInternalBuffer(a.sina).then(function(){return c.allInOneMap.businessObjectMap[b];});},getBusinessObjectMetaDataSync:function(a,d){var b=d.getName();if(!b){throw'EntitySetName missing';}this._fillInternalBufferSync(a.sina);return this.allInOneMap.businessObjectMap[b+'/'+d.getType()];},getBusinessObjectMetaDataSyncByBusinessObjectName:function(a,b){if(!b){throw'EntitySetName missing';}this._fillInternalBufferSync(a.sina);return this.allInOneMap.businessObjectMap[b+'/'+'View'];},_fillInternalBuffer:function(l1){var a=this;if(this.allInOneMapDeferred){return this.allInOneMapDeferred;}a.allInOneMapDeferred=a._fireMetaRequest(l1).then(function(b){a.allInOneMap=b;});return a.allInOneMapDeferred;},_fillInternalBufferSync:function(l1){if(this.allInOneMap&&Object.keys(this.allInOneMap).length>0){return;}this.allInOneMap=this._fireMetaRequest(l1,false);},_fireMetaRequest:function(l1,a){var b=this;var c='/sap/opu/odata/sap/ESH_SEARCH_SRV/DataSources?$expand=Attributes/UIAreas&$filter=Type eq \'View\'';var r={async:a===undefined?true:a,method:'GET',type:'GET',url:c};var d=f.Deferred();var m=l1.getSystem().proxy.ajax(r);if(r.async){m.done(function(j){var h={businessObjectMap:{},businessObjectList:[],dataSourceMap:{},dataSourcesList:[]};var i=j.d.results;i.forEach(function(k,l){var n=l1.createDataSource({label:k.Name,labelPlural:k.NamePlural,name:k.Id,type:k.Type});var o={};k.Attributes.results.forEach(function(k,l){o[k.Id]={displayOrder:1,label:k.Name,labelPlural:k.Name,labelRaw:k.Id,type:k.Type,presentationUsage:k.UIAreas?b._parsePresentationUsage(k.UIAreas.results):[],accessUsage:k.Facet?['AutoFacet']:[]};});var s={attributeMap:o,dataSource:n};h.dataSourceMap[n.key]=n;h.dataSourcesList.push(n);h.businessObjectMap[n.key]=s;h.businessObjectList.push(s);});d.resolve(h);});return d.promise();}else{var h={businessObjectMap:{},businessObjectList:[],dataSourceMap:{},dataSourcesList:[]};var i=m.responseJSON.d.results;i.forEach(function(j,k){var l=l1.createDataSource({label:j.Name,labelPlural:j.NamePlural,name:j.Id,type:j.Type});var n={};j.Attributes.results.forEach(function(j,k){n[j.Id]={displayOrder:1,label:j.Name,labelPlural:j.Name,labelRaw:j.Id,type:j.Type,presentationUsage:j.UIAreas?b._parsePresentationUsage(j.UIAreas.results):[],accessUsage:j.Facet?['AutoFacet']:[]};});var o={attributeMap:n,dataSource:l};h.dataSourceMap[l.key]=l;h.dataSourcesList.push(l);h.businessObjectMap[l.key]=o;h.businessObjectList.push(o);});return h;}},_parsePresentationUsage:function(a){var b=this;var c=[];a.forEach(function(d){switch(d.Id){case'TITLE':c.push(b.presentationUsageConversionMap.TITLE);break;case'SUMMARY':c.push(b.presentationUsageConversionMap.SUMMARY);break;case'DETAILS':c.push(b.presentationUsageConversionMap.DETAIL);break;case'FACTSHEET':c.push(b.presentationUsageConversionMap.FACTSHEET);break;}});return c;}};return e;}(f);k1=function(f,g,B,u,x,A,d,a,s,b,c,e,m){var h={};h.Sina=function(){this.init.apply(this,arguments);};h.Sina.prototype=f.extend({},g.Sina.prototype,{init:function(){g.Sina.prototype.init.apply(this,arguments);this.rootDataSource=new x.DataSource({label:'All',labelPlural:'All',name:'ALL_CONTENT_200811101622',type:d.DataSourceType.CATEGORY,sina:this});},getRootDataSource:function(){return this.rootDataSource;}});h.IMPL_TYPE='ODATA3';g.registerProvider({impl_type:h.IMPL_TYPE,sina:h.Sina,Facet:a.Facet,chartQuery:c.ChartQuery,searchQuery:s.SearchQuery,suggestionQuery:b.SuggestionQuery,perspectiveQuery:e.PerspectiveQuery,metaDataService:new m.MetaDataService(),Filter:u.Filter,FilterCondition:u.Condition,FilterConditionGroup:u.ConditionGroup,DataSource:x.DataSource});return h;}(f,g,b1,c1,d1,A,x,g1,f1,h1,e1,i1,j1);l1=function(f,i,a,b,c,d,o,e,h,j){var k={};k.getSina=function(l){var A;l=l||{};l.impl_type=l.impl_type||'INAV2';var s=f.getUrlParameter('sinaProvider');if(s&&s.length>0){l.impl_type=s;}l.impl_type=l.impl_type.toUpperCase();if(l.impl_type==='INAV2'){if(!l.system){A=new a.Proxy(l);if(l.systemType&&l.systemType.toUpperCase()==='HANA'){l.system=new b.HANASystem();}else{l.system=new b.ABAPSystem();}A.setSystem(l.system);A.setXSRFService(l.system.infoUrl);}}else if(l.impl_type==='ODATA2'){if(!l.system){l.system=new e.System();}}else if(l.impl_type==='ODATA3'){if(!l.system){l.system=new j.System();A=l.system.proxy;A.setSystem(l.system);A.setXSRFService(l.system.infoUrl);}}else{throw new Error('Unknown provider type: '+l.impl_type);}l._provider=c.provider[l.impl_type];var l1=new c.provider[l.impl_type].sina(l);l1._provider=l._provider;return l1;};return k;}(f,R,C,D,g,A,a1,S,k1,b1);window.sina=l1;window.sinabase=g;window.filter=u;}());
}
}});
//# sourceMappingURL=core-ext-light.js.map